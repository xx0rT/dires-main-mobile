function qK(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function KS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oj={exports:{}},nm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SM;function ZK(){if(SM)return nm;SM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:e,type:s,key:o,ref:r!==void 0?r:null,props:a}}return nm.Fragment=t,nm.jsx=n,nm.jsxs=n,nm}var _M;function WK(){return _M||(_M=1,Oj.exports=ZK()),Oj.exports}var i=WK(),Dj={exports:{}},zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CM;function KK(){if(CM)return zt;CM=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(R){return R===null||typeof R!="object"?null:(R=g&&R[g]||R["@@iterator"],typeof R=="function"?R:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function k(R,H,K){this.props=R,this.context=H,this.refs=j,this.updater=K||b}k.prototype.isReactComponent={},k.prototype.setState=function(R,H){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,H,"setState")},k.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function S(){}S.prototype=k.prototype;function C(R,H,K){this.props=R,this.context=H,this.refs=j,this.updater=K||b}var E=C.prototype=new S;E.constructor=C,w(E,k.prototype),E.isPureReactComponent=!0;var T=Array.isArray;function M(){}var z={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(R,H,K){var ne=K.ref;return{$$typeof:e,type:R,key:H,ref:ne!==void 0?ne:null,props:K}}function B(R,H){return D(R.type,H,R.props)}function $(R){return typeof R=="object"&&R!==null&&R.$$typeof===e}function q(R){var H={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(K){return H[K]})}var Z=/\/+/g;function F(R,H){return typeof R=="object"&&R!==null&&R.key!=null?q(""+R.key):H.toString(36)}function J(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(M,M):(R.status="pending",R.then(function(H){R.status==="pending"&&(R.status="fulfilled",R.value=H)},function(H){R.status==="pending"&&(R.status="rejected",R.reason=H)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function P(R,H,K,ne,ce){var ue=typeof R;(ue==="undefined"||ue==="boolean")&&(R=null);var Y=!1;if(R===null)Y=!0;else switch(ue){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(R.$$typeof){case e:case t:Y=!0;break;case f:return Y=R._init,P(Y(R._payload),H,K,ne,ce)}}if(Y)return ce=ce(R),Y=ne===""?"."+F(R,0):ne,T(ce)?(K="",Y!=null&&(K=Y.replace(Z,"$&/")+"/"),P(ce,H,K,"",function(be){return be})):ce!=null&&($(ce)&&(ce=B(ce,K+(ce.key==null||R&&R.key===ce.key?"":(""+ce.key).replace(Z,"$&/")+"/")+Y)),H.push(ce)),1;Y=0;var le=ne===""?".":ne+":";if(T(R))for(var he=0;he<R.length;he++)ne=R[he],ue=le+F(ne,he),Y+=P(ne,H,K,ue,ce);else if(he=x(R),typeof he=="function")for(R=he.call(R),he=0;!(ne=R.next()).done;)ne=ne.value,ue=le+F(ne,he++),Y+=P(ne,H,K,ue,ce);else if(ue==="object"){if(typeof R.then=="function")return P(J(R),H,K,ne,ce);throw H=String(R),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Y}function I(R,H,K){if(R==null)return R;var ne=[],ce=0;return P(R,ne,"","",function(ue){return H.call(K,ue,ce++)}),ne}function L(R){if(R._status===-1){var H=R._result;H=H(),H.then(function(K){(R._status===0||R._status===-1)&&(R._status=1,R._result=K)},function(K){(R._status===0||R._status===-1)&&(R._status=2,R._result=K)}),R._status===-1&&(R._status=0,R._result=H)}if(R._status===1)return R._result.default;throw R._result}var G=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},U={map:I,forEach:function(R,H,K){I(R,function(){H.apply(this,arguments)},K)},count:function(R){var H=0;return I(R,function(){H++}),H},toArray:function(R){return I(R,function(H){return H})||[]},only:function(R){if(!$(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return zt.Activity=m,zt.Children=U,zt.Component=k,zt.Fragment=n,zt.Profiler=r,zt.PureComponent=C,zt.StrictMode=s,zt.Suspense=u,zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=z,zt.__COMPILER_RUNTIME={__proto__:null,c:function(R){return z.H.useMemoCache(R)}},zt.cache=function(R){return function(){return R.apply(null,arguments)}},zt.cacheSignal=function(){return null},zt.cloneElement=function(R,H,K){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var ne=w({},R.props),ce=R.key;if(H!=null)for(ue in H.key!==void 0&&(ce=""+H.key),H)!A.call(H,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&H.ref===void 0||(ne[ue]=H[ue]);var ue=arguments.length-2;if(ue===1)ne.children=K;else if(1<ue){for(var Y=Array(ue),le=0;le<ue;le++)Y[le]=arguments[le+2];ne.children=Y}return D(R.type,ce,ne)},zt.createContext=function(R){return R={$$typeof:o,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:a,_context:R},R},zt.createElement=function(R,H,K){var ne,ce={},ue=null;if(H!=null)for(ne in H.key!==void 0&&(ue=""+H.key),H)A.call(H,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(ce[ne]=H[ne]);var Y=arguments.length-2;if(Y===1)ce.children=K;else if(1<Y){for(var le=Array(Y),he=0;he<Y;he++)le[he]=arguments[he+2];ce.children=le}if(R&&R.defaultProps)for(ne in Y=R.defaultProps,Y)ce[ne]===void 0&&(ce[ne]=Y[ne]);return D(R,ue,ce)},zt.createRef=function(){return{current:null}},zt.forwardRef=function(R){return{$$typeof:l,render:R}},zt.isValidElement=$,zt.lazy=function(R){return{$$typeof:f,_payload:{_status:-1,_result:R},_init:L}},zt.memo=function(R,H){return{$$typeof:d,type:R,compare:H===void 0?null:H}},zt.startTransition=function(R){var H=z.T,K={};z.T=K;try{var ne=R(),ce=z.S;ce!==null&&ce(K,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(M,G)}catch(ue){G(ue)}finally{H!==null&&K.types!==null&&(H.types=K.types),z.T=H}},zt.unstable_useCacheRefresh=function(){return z.H.useCacheRefresh()},zt.use=function(R){return z.H.use(R)},zt.useActionState=function(R,H,K){return z.H.useActionState(R,H,K)},zt.useCallback=function(R,H){return z.H.useCallback(R,H)},zt.useContext=function(R){return z.H.useContext(R)},zt.useDebugValue=function(){},zt.useDeferredValue=function(R,H){return z.H.useDeferredValue(R,H)},zt.useEffect=function(R,H){return z.H.useEffect(R,H)},zt.useEffectEvent=function(R){return z.H.useEffectEvent(R)},zt.useId=function(){return z.H.useId()},zt.useImperativeHandle=function(R,H,K){return z.H.useImperativeHandle(R,H,K)},zt.useInsertionEffect=function(R,H){return z.H.useInsertionEffect(R,H)},zt.useLayoutEffect=function(R,H){return z.H.useLayoutEffect(R,H)},zt.useMemo=function(R,H){return z.H.useMemo(R,H)},zt.useOptimistic=function(R,H){return z.H.useOptimistic(R,H)},zt.useReducer=function(R,H,K){return z.H.useReducer(R,H,K)},zt.useRef=function(R){return z.H.useRef(R)},zt.useState=function(R){return z.H.useState(R)},zt.useSyncExternalStore=function(R,H,K){return z.H.useSyncExternalStore(R,H,K)},zt.useTransition=function(){return z.H.useTransition()},zt.version="19.2.4",zt}var EM;function Gp(){return EM||(EM=1,Dj.exports=KK()),Dj.exports}var v=Gp();const W=KS(v),GS=qK({__proto__:null,default:W},[v]);var Pj={exports:{}},sm={},Ij={exports:{}},Lj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TM;function GK(){return TM||(TM=1,(function(e){function t(P,I){var L=P.length;P.push(I);e:for(;0<L;){var G=L-1>>>1,U=P[G];if(0<r(U,I))P[G]=I,P[L]=U,L=G;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var I=P[0],L=P.pop();if(L!==I){P[0]=L;e:for(var G=0,U=P.length,R=U>>>1;G<R;){var H=2*(G+1)-1,K=P[H],ne=H+1,ce=P[ne];if(0>r(K,L))ne<U&&0>r(ce,K)?(P[G]=ce,P[ne]=L,G=ne):(P[G]=K,P[H]=L,G=H);else if(ne<U&&0>r(ce,L))P[G]=ce,P[ne]=L,G=ne;else break e}}return I}function r(P,I){var L=P.sortIndex-I.sortIndex;return L!==0?L:P.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,m=null,g=3,x=!1,b=!1,w=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(P){for(var I=n(d);I!==null;){if(I.callback===null)s(d);else if(I.startTime<=P)s(d),I.sortIndex=I.expirationTime,t(u,I);else break;I=n(d)}}function T(P){if(w=!1,E(P),!b)if(n(u)!==null)b=!0,M||(M=!0,q());else{var I=n(d);I!==null&&J(T,I.startTime-P)}}var M=!1,z=-1,A=5,D=-1;function B(){return j?!0:!(e.unstable_now()-D<A)}function $(){if(j=!1,M){var P=e.unstable_now();D=P;var I=!0;try{e:{b=!1,w&&(w=!1,S(z),z=-1),x=!0;var L=g;try{t:{for(E(P),m=n(u);m!==null&&!(m.expirationTime>P&&B());){var G=m.callback;if(typeof G=="function"){m.callback=null,g=m.priorityLevel;var U=G(m.expirationTime<=P);if(P=e.unstable_now(),typeof U=="function"){m.callback=U,E(P),I=!0;break t}m===n(u)&&s(u),E(P)}else s(u);m=n(u)}if(m!==null)I=!0;else{var R=n(d);R!==null&&J(T,R.startTime-P),I=!1}}break e}finally{m=null,g=L,x=!1}I=void 0}}finally{I?q():M=!1}}}var q;if(typeof C=="function")q=function(){C($)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,F=Z.port2;Z.port1.onmessage=$,q=function(){F.postMessage(null)}}else q=function(){k($,0)};function J(P,I){z=k(function(){P(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(P){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var L=g;g=I;try{return P()}finally{g=L}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(P,I){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=g;g=P;try{return I()}finally{g=L}},e.unstable_scheduleCallback=function(P,I,L){var G=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?G+L:G):L=G,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=L+U,P={id:f++,callback:I,priorityLevel:P,startTime:L,expirationTime:U,sortIndex:-1},L>G?(P.sortIndex=L,t(d,P),n(u)===null&&P===n(d)&&(w?(S(z),z=-1):w=!0,J(T,L-G))):(P.sortIndex=U,t(u,P),b||x||(b=!0,M||(M=!0,q()))),P},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(P){var I=g;return function(){var L=g;g=I;try{return P.apply(this,arguments)}finally{g=L}}}})(Lj)),Lj}var zM;function YK(){return zM||(zM=1,Ij.exports=GK()),Ij.exports}var $j={exports:{}},ir={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MM;function JK(){if(MM)return ir;MM=1;var e=Gp();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:u,containerInfo:d,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,ir.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,f)},ir.flushSync=function(u){var d=o.T,f=s.p;try{if(o.T=null,s.p=2,u)return u()}finally{o.T=d,s.p=f,s.d.f()}},ir.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(u,d))},ir.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},ir.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?s.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):f==="script"&&s.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ir.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);s.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(u)},ir.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin);s.d.L(u,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ir.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);s.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(u)},ir.requestFormReset=function(u){s.d.r(u)},ir.unstable_batchedUpdates=function(u,d){return u(d)},ir.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},ir.useFormStatus=function(){return o.H.useHostTransitionStatus()},ir.version="19.2.4",ir}var AM;function hI(){if(AM)return $j.exports;AM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),$j.exports=JK(),$j.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RM;function XK(){if(RM)return sm;RM=1;var e=YK(),t=Gp(),n=hI();function s(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var h=c,p=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(p=h.return),c=h.return;while(c)}return h.tag===3?p:null}function o(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function l(c){if(c.tag===31){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function u(c){if(a(c)!==c)throw Error(s(188))}function d(c){var h=c.alternate;if(!h){if(h=a(c),h===null)throw Error(s(188));return h!==c?null:c}for(var p=c,y=h;;){var N=p.return;if(N===null)break;var _=N.alternate;if(_===null){if(y=N.return,y!==null){p=y;continue}break}if(N.child===_.child){for(_=N.child;_;){if(_===p)return u(N),c;if(_===y)return u(N),h;_=_.sibling}throw Error(s(188))}if(p.return!==y.return)p=N,y=_;else{for(var O=!1,V=N.child;V;){if(V===p){O=!0,p=N,y=_;break}if(V===y){O=!0,y=N,p=_;break}V=V.sibling}if(!O){for(V=_.child;V;){if(V===p){O=!0,p=_,y=N;break}if(V===y){O=!0,y=_,p=N;break}V=V.sibling}if(!O)throw Error(s(189))}}if(p.alternate!==y)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?c:h}function f(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=f(c),h!==null)return h;c=c.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),$=Symbol.iterator;function q(c){return c===null||typeof c!="object"?null:(c=$&&c[$]||c["@@iterator"],typeof c=="function"?c:null)}var Z=Symbol.for("react.client.reference");function F(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===Z?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case w:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case T:return"Suspense";case M:return"SuspenseList";case D:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case C:return c.displayName||"Context";case S:return(c._context.displayName||"Context")+".Consumer";case E:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case z:return h=c.displayName||null,h!==null?h:F(c.type)||"Memo";case A:h=c._payload,c=c._init;try{return F(c(h))}catch{}}return null}var J=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},G=[],U=-1;function R(c){return{current:c}}function H(c){0>U||(c.current=G[U],G[U]=null,U--)}function K(c,h){U++,G[U]=c.current,c.current=h}var ne=R(null),ce=R(null),ue=R(null),Y=R(null);function le(c,h){switch(K(ue,h),K(ce,c),K(ne,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?Kz(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=Kz(h),c=Gz(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}H(ne),K(ne,c)}function he(){H(ne),H(ce),H(ue)}function be(c){c.memoizedState!==null&&K(Y,c);var h=ne.current,p=Gz(h,c.type);h!==p&&(K(ce,c),K(ne,p))}function we(c){ce.current===c&&(H(ne),H(ce)),Y.current===c&&(H(Y),Xf._currentValue=L)}var xe,Me;function re(c){if(xe===void 0)try{throw Error()}catch(p){var h=p.stack.trim().match(/\n( *(at )?)/);xe=h&&h[1]||"",Me=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+c+Me}var Ee=!1;function Ze(c,h){if(!c||Ee)return"";Ee=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(h){var _e=function(){throw Error()};if(Object.defineProperty(_e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(_e,[])}catch(ye){var ve=ye}Reflect.construct(c,[],_e)}else{try{_e.call()}catch(ye){ve=ye}c.call(_e.prototype)}}else{try{throw Error()}catch(ye){ve=ye}(_e=c())&&typeof _e.catch=="function"&&_e.catch(function(){})}}catch(ye){if(ye&&ve&&typeof ye.stack=="string")return[ye.stack,ve.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=y.DetermineComponentFrameRoot(),O=_[0],V=_[1];if(O&&V){var te=O.split(`
`),ge=V.split(`
`);for(N=y=0;y<te.length&&!te[y].includes("DetermineComponentFrameRoot");)y++;for(;N<ge.length&&!ge[N].includes("DetermineComponentFrameRoot");)N++;if(y===te.length||N===ge.length)for(y=te.length-1,N=ge.length-1;1<=y&&0<=N&&te[y]!==ge[N];)N--;for(;1<=y&&0<=N;y--,N--)if(te[y]!==ge[N]){if(y!==1||N!==1)do if(y--,N--,0>N||te[y]!==ge[N]){var je=`
`+te[y].replace(" at new "," at ");return c.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",c.displayName)),je}while(1<=y&&0<=N);break}}}finally{Ee=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?re(p):""}function it(c,h){switch(c.tag){case 26:case 27:case 5:return re(c.type);case 16:return re("Lazy");case 13:return c.child!==h&&h!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return Ze(c.type,!1);case 11:return Ze(c.type.render,!1);case 1:return Ze(c.type,!0);case 31:return re("Activity");default:return""}}function kt(c){try{var h="",p=null;do h+=it(c,p),p=c,c=c.return;while(c);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var We=Object.prototype.hasOwnProperty,ct=e.unstable_scheduleCallback,X=e.unstable_cancelCallback,oe=e.unstable_shouldYield,me=e.unstable_requestPaint,ze=e.unstable_now,Ae=e.unstable_getCurrentPriorityLevel,Ce=e.unstable_ImmediatePriority,Fe=e.unstable_UserBlockingPriority,ot=e.unstable_NormalPriority,Te=e.unstable_LowPriority,Ue=e.unstable_IdlePriority,tt=e.log,Ge=e.unstable_setDisableYieldValue,mt=null,Nt=null;function Rt(c){if(typeof tt=="function"&&Ge(c),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(mt,c)}catch{}}var ln=Math.clz32?Math.clz32:Ye,xr=Math.log,Kn=Math.LN2;function Ye(c){return c>>>=0,c===0?32:31-(xr(c)/Kn|0)|0}var Et=256,Dt=262144,at=4194304;function gt(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function qe(c,h,p){var y=c.pendingLanes;if(y===0)return 0;var N=0,_=c.suspendedLanes,O=c.pingedLanes;c=c.warmLanes;var V=y&134217727;return V!==0?(y=V&~_,y!==0?N=gt(y):(O&=V,O!==0?N=gt(O):p||(p=V&~c,p!==0&&(N=gt(p))))):(V=y&~_,V!==0?N=gt(V):O!==0?N=gt(O):p||(p=y&~c,p!==0&&(N=gt(p)))),N===0?0:h!==0&&h!==N&&(h&_)===0&&(_=N&-N,p=h&-h,_>=p||_===32&&(p&4194048)!==0)?h:N}function xt(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function Mt(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tt(){var c=at;return at<<=1,(at&62914560)===0&&(at=4194304),c}function Nn(c){for(var h=[],p=0;31>p;p++)h.push(c);return h}function Vt(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function At(c,h,p,y,N,_){var O=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var V=c.entanglements,te=c.expirationTimes,ge=c.hiddenUpdates;for(p=O&~p;0<p;){var je=31-ln(p),_e=1<<je;V[je]=0,te[je]=-1;var ve=ge[je];if(ve!==null)for(ge[je]=null,je=0;je<ve.length;je++){var ye=ve[je];ye!==null&&(ye.lane&=-536870913)}p&=~_e}y!==0&&ls(c,y,0),_!==0&&N===0&&c.tag!==0&&(c.suspendedLanes|=_&~(O&~h))}function ls(c,h,p){c.pendingLanes|=h,c.suspendedLanes&=~h;var y=31-ln(h);c.entangledLanes|=h,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function xn(c,h){var p=c.entangledLanes|=h;for(c=c.entanglements;p;){var y=31-ln(p),N=1<<y;N&h|c[y]&h&&(c[y]|=h),p&=~N}}function Dn(c,h){var p=h&-h;return p=(p&42)!==0?1:di(p),(p&(c.suspendedLanes|h))!==0?0:p}function di(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function qs(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function hi(){var c=I.p;return c!==0?c:(c=window.event,c===void 0?32:vM(c.type))}function Go(c,h){var p=I.p;try{return I.p=c,h()}finally{I.p=p}}var fi=Math.random().toString(36).slice(2),Zs="__reactFiber$"+fi,Tr="__reactProps$"+fi,Hu="__reactContainer$"+fi,S1="__reactEvents$"+fi,OZ="__reactListeners$"+fi,DZ="__reactHandles$"+fi,DT="__reactResources$"+fi,ff="__reactMarker$"+fi;function _1(c){delete c[Zs],delete c[Tr],delete c[S1],delete c[OZ],delete c[DZ]}function qu(c){var h=c[Zs];if(h)return h;for(var p=c.parentNode;p;){if(h=p[Hu]||p[Zs]){if(p=h.alternate,h.child!==null||p!==null&&p.child!==null)for(c=nM(c);c!==null;){if(p=c[Zs])return p;c=nM(c)}return h}c=p,p=c.parentNode}return null}function Zu(c){if(c=c[Zs]||c[Hu]){var h=c.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return c}return null}function mf(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(s(33))}function Wu(c){var h=c[DT];return h||(h=c[DT]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Ds(c){c[ff]=!0}var PT=new Set,IT={};function yc(c,h){Ku(c,h),Ku(c+"Capture",h)}function Ku(c,h){for(IT[c]=h,c=0;c<h.length;c++)PT.add(h[c])}var PZ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),LT={},$T={};function IZ(c){return We.call($T,c)?!0:We.call(LT,c)?!1:PZ.test(c)?$T[c]=!0:(LT[c]=!0,!1)}function Ig(c,h,p){if(IZ(h))if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var y=h.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+p)}}function Lg(c,h,p){if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+p)}}function no(c,h,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(h,p,""+y)}}function mi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function VT(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function LZ(c,h,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,h);if(!c.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var N=y.get,_=y.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return N.call(this)},set:function(O){p=""+O,_.call(this,O)}}),Object.defineProperty(c,h,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(O){p=""+O},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function C1(c){if(!c._valueTracker){var h=VT(c)?"checked":"value";c._valueTracker=LZ(c,h,""+c[h])}}function BT(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var p=h.getValue(),y="";return c&&(y=VT(c)?c.checked?"true":"false":c.value),c=y,c!==p?(h.setValue(c),!0):!1}function $g(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var $Z=/[\n"\\]/g;function pi(c){return c.replace($Z,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function E1(c,h,p,y,N,_,O,V){c.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?c.type=O:c.removeAttribute("type"),h!=null?O==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+mi(h)):c.value!==""+mi(h)&&(c.value=""+mi(h)):O!=="submit"&&O!=="reset"||c.removeAttribute("value"),h!=null?T1(c,O,mi(h)):p!=null?T1(c,O,mi(p)):y!=null&&c.removeAttribute("value"),N==null&&_!=null&&(c.defaultChecked=!!_),N!=null&&(c.checked=N&&typeof N!="function"&&typeof N!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?c.name=""+mi(V):c.removeAttribute("name")}function FT(c,h,p,y,N,_,O,V){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(c.type=_),h!=null||p!=null){if(!(_!=="submit"&&_!=="reset"||h!=null)){C1(c);return}p=p!=null?""+mi(p):"",h=h!=null?""+mi(h):p,V||h===c.value||(c.value=h),c.defaultValue=h}y=y??N,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=V?c.checked:!!y,c.defaultChecked=!!y,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(c.name=O),C1(c)}function T1(c,h,p){h==="number"&&$g(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Gu(c,h,p,y){if(c=c.options,h){h={};for(var N=0;N<p.length;N++)h["$"+p[N]]=!0;for(p=0;p<c.length;p++)N=h.hasOwnProperty("$"+c[p].value),c[p].selected!==N&&(c[p].selected=N),N&&y&&(c[p].defaultSelected=!0)}else{for(p=""+mi(p),h=null,N=0;N<c.length;N++){if(c[N].value===p){c[N].selected=!0,y&&(c[N].defaultSelected=!0);return}h!==null||c[N].disabled||(h=c[N])}h!==null&&(h.selected=!0)}}function UT(c,h,p){if(h!=null&&(h=""+mi(h),h!==c.value&&(c.value=h),p==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=p!=null?""+mi(p):""}function HT(c,h,p,y){if(h==null){if(y!=null){if(p!=null)throw Error(s(92));if(J(y)){if(1<y.length)throw Error(s(93));y=y[0]}p=y}p==null&&(p=""),h=p}p=mi(h),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),C1(c)}function Yu(c,h){if(h){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=h;return}}c.textContent=h}var VZ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qT(c,h,p){var y=h.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":y?c.setProperty(h,p):typeof p!="number"||p===0||VZ.has(h)?h==="float"?c.cssFloat=p:c[h]=(""+p).trim():c[h]=p+"px"}function ZT(c,h,p){if(h!=null&&typeof h!="object")throw Error(s(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||h!=null&&h.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var N in h)y=h[N],h.hasOwnProperty(N)&&p[N]!==y&&qT(c,N,y)}else for(var _ in h)h.hasOwnProperty(_)&&qT(c,_,h[_])}function z1(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var BZ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),FZ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vg(c){return FZ.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function so(){}var M1=null;function A1(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ju=null,Xu=null;function WT(c){var h=Zu(c);if(h&&(c=h.stateNode)){var p=c[Tr]||null;e:switch(c=h.stateNode,h.type){case"input":if(E1(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),h=p.name,p.type==="radio"&&h!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+pi(""+h)+'"][type="radio"]'),h=0;h<p.length;h++){var y=p[h];if(y!==c&&y.form===c.form){var N=y[Tr]||null;if(!N)throw Error(s(90));E1(y,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(h=0;h<p.length;h++)y=p[h],y.form===c.form&&BT(y)}break e;case"textarea":UT(c,p.value,p.defaultValue);break e;case"select":h=p.value,h!=null&&Gu(c,!!p.multiple,h,!1)}}}var R1=!1;function KT(c,h,p){if(R1)return c(h,p);R1=!0;try{var y=c(h);return y}finally{if(R1=!1,(Ju!==null||Xu!==null)&&(Cx(),Ju&&(h=Ju,c=Xu,Xu=Ju=null,WT(h),c)))for(h=0;h<c.length;h++)WT(c[h])}}function pf(c,h){var p=c.stateNode;if(p===null)return null;var y=p[Tr]||null;if(y===null)return null;p=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(s(231,h,typeof p));return p}var ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),O1=!1;if(ro)try{var gf={};Object.defineProperty(gf,"passive",{get:function(){O1=!0}}),window.addEventListener("test",gf,gf),window.removeEventListener("test",gf,gf)}catch{O1=!1}var Yo=null,D1=null,Bg=null;function GT(){if(Bg)return Bg;var c,h=D1,p=h.length,y,N="value"in Yo?Yo.value:Yo.textContent,_=N.length;for(c=0;c<p&&h[c]===N[c];c++);var O=p-c;for(y=1;y<=O&&h[p-y]===N[_-y];y++);return Bg=N.slice(c,1<y?1-y:void 0)}function Fg(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Ug(){return!0}function YT(){return!1}function zr(c){function h(p,y,N,_,O){this._reactName=p,this._targetInst=N,this.type=y,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var V in c)c.hasOwnProperty(V)&&(p=c[V],this[V]=p?p(_):_[V]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ug:YT,this.isPropagationStopped=YT,this}return m(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ug)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ug)},persist:function(){},isPersistent:Ug}),h}var bc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hg=zr(bc),xf=m({},bc,{view:0,detail:0}),UZ=zr(xf),P1,I1,vf,qg=m({},xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$1,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==vf&&(vf&&c.type==="mousemove"?(P1=c.screenX-vf.screenX,I1=c.screenY-vf.screenY):I1=P1=0,vf=c),P1)},movementY:function(c){return"movementY"in c?c.movementY:I1}}),JT=zr(qg),HZ=m({},qg,{dataTransfer:0}),qZ=zr(HZ),ZZ=m({},xf,{relatedTarget:0}),L1=zr(ZZ),WZ=m({},bc,{animationName:0,elapsedTime:0,pseudoElement:0}),KZ=zr(WZ),GZ=m({},bc,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),YZ=zr(GZ),JZ=m({},bc,{data:0}),XT=zr(JZ),XZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},eW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tW(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=eW[c])?!!h[c]:!1}function $1(){return tW}var nW=m({},xf,{key:function(c){if(c.key){var h=XZ[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Fg(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?QZ[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$1,charCode:function(c){return c.type==="keypress"?Fg(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Fg(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),sW=zr(nW),rW=m({},qg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QT=zr(rW),iW=m({},xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$1}),aW=zr(iW),oW=m({},bc,{propertyName:0,elapsedTime:0,pseudoElement:0}),lW=zr(oW),cW=m({},qg,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),uW=zr(cW),dW=m({},bc,{newState:0,oldState:0}),hW=zr(dW),fW=[9,13,27,32],V1=ro&&"CompositionEvent"in window,yf=null;ro&&"documentMode"in document&&(yf=document.documentMode);var mW=ro&&"TextEvent"in window&&!yf,e5=ro&&(!V1||yf&&8<yf&&11>=yf),t5=" ",n5=!1;function s5(c,h){switch(c){case"keyup":return fW.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function r5(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Qu=!1;function pW(c,h){switch(c){case"compositionend":return r5(h);case"keypress":return h.which!==32?null:(n5=!0,t5);case"textInput":return c=h.data,c===t5&&n5?null:c;default:return null}}function gW(c,h){if(Qu)return c==="compositionend"||!V1&&s5(c,h)?(c=GT(),Bg=D1=Yo=null,Qu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return e5&&h.locale!=="ko"?null:h.data;default:return null}}var xW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i5(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!xW[c.type]:h==="textarea"}function a5(c,h,p,y){Ju?Xu?Xu.push(y):Xu=[y]:Ju=y,h=Ox(h,"onChange"),0<h.length&&(p=new Hg("onChange","change",null,p,y),c.push({event:p,listeners:h}))}var bf=null,wf=null;function vW(c){Fz(c,0)}function Zg(c){var h=mf(c);if(BT(h))return c}function o5(c,h){if(c==="change")return h}var l5=!1;if(ro){var B1;if(ro){var F1="oninput"in document;if(!F1){var c5=document.createElement("div");c5.setAttribute("oninput","return;"),F1=typeof c5.oninput=="function"}B1=F1}else B1=!1;l5=B1&&(!document.documentMode||9<document.documentMode)}function u5(){bf&&(bf.detachEvent("onpropertychange",d5),wf=bf=null)}function d5(c){if(c.propertyName==="value"&&Zg(wf)){var h=[];a5(h,wf,c,A1(c)),KT(vW,h)}}function yW(c,h,p){c==="focusin"?(u5(),bf=h,wf=p,bf.attachEvent("onpropertychange",d5)):c==="focusout"&&u5()}function bW(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Zg(wf)}function wW(c,h){if(c==="click")return Zg(h)}function jW(c,h){if(c==="input"||c==="change")return Zg(h)}function kW(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Wr=typeof Object.is=="function"?Object.is:kW;function jf(c,h){if(Wr(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var p=Object.keys(c),y=Object.keys(h);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var N=p[y];if(!We.call(h,N)||!Wr(c[N],h[N]))return!1}return!0}function h5(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function f5(c,h){var p=h5(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=h&&y>=h)return{node:p,offset:h-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=h5(p)}}function m5(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?m5(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function p5(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=$g(c.document);h instanceof c.HTMLIFrameElement;){try{var p=typeof h.contentWindow.location.href=="string"}catch{p=!1}if(p)c=h.contentWindow;else break;h=$g(c.document)}return h}function U1(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var NW=ro&&"documentMode"in document&&11>=document.documentMode,ed=null,H1=null,kf=null,q1=!1;function g5(c,h,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;q1||ed==null||ed!==$g(y)||(y=ed,"selectionStart"in y&&U1(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),kf&&jf(kf,y)||(kf=y,y=Ox(H1,"onSelect"),0<y.length&&(h=new Hg("onSelect","select",null,h,p),c.push({event:h,listeners:y}),h.target=ed)))}function wc(c,h){var p={};return p[c.toLowerCase()]=h.toLowerCase(),p["Webkit"+c]="webkit"+h,p["Moz"+c]="moz"+h,p}var td={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionrun:wc("Transition","TransitionRun"),transitionstart:wc("Transition","TransitionStart"),transitioncancel:wc("Transition","TransitionCancel"),transitionend:wc("Transition","TransitionEnd")},Z1={},x5={};ro&&(x5=document.createElement("div").style,"AnimationEvent"in window||(delete td.animationend.animation,delete td.animationiteration.animation,delete td.animationstart.animation),"TransitionEvent"in window||delete td.transitionend.transition);function jc(c){if(Z1[c])return Z1[c];if(!td[c])return c;var h=td[c],p;for(p in h)if(h.hasOwnProperty(p)&&p in x5)return Z1[c]=h[p];return c}var v5=jc("animationend"),y5=jc("animationiteration"),b5=jc("animationstart"),SW=jc("transitionrun"),_W=jc("transitionstart"),CW=jc("transitioncancel"),w5=jc("transitionend"),j5=new Map,W1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");W1.push("scrollEnd");function Wi(c,h){j5.set(c,h),yc(h,[c])}var Wg=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},gi=[],nd=0,K1=0;function Kg(){for(var c=nd,h=K1=nd=0;h<c;){var p=gi[h];gi[h++]=null;var y=gi[h];gi[h++]=null;var N=gi[h];gi[h++]=null;var _=gi[h];if(gi[h++]=null,y!==null&&N!==null){var O=y.pending;O===null?N.next=N:(N.next=O.next,O.next=N),y.pending=N}_!==0&&k5(p,N,_)}}function Gg(c,h,p,y){gi[nd++]=c,gi[nd++]=h,gi[nd++]=p,gi[nd++]=y,K1|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function G1(c,h,p,y){return Gg(c,h,p,y),Yg(c)}function kc(c,h){return Gg(c,null,null,h),Yg(c)}function k5(c,h,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var N=!1,_=c.return;_!==null;)_.childLanes|=p,y=_.alternate,y!==null&&(y.childLanes|=p),_.tag===22&&(c=_.stateNode,c===null||c._visibility&1||(N=!0)),c=_,_=_.return;return c.tag===3?(_=c.stateNode,N&&h!==null&&(N=31-ln(p),c=_.hiddenUpdates,y=c[N],y===null?c[N]=[h]:y.push(h),h.lane=p|536870912),_):null}function Yg(c){if(50<qf)throw qf=0,rj=null,Error(s(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var sd={};function EW(c,h,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kr(c,h,p,y){return new EW(c,h,p,y)}function Y1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function io(c,h){var p=c.alternate;return p===null?(p=Kr(c.tag,h,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=h,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,h=c.dependencies,p.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function N5(c,h){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,h=p.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function Jg(c,h,p,y,N,_){var O=0;if(y=c,typeof c=="function")Y1(c)&&(O=1);else if(typeof c=="string")O=RK(c,p,ne.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case D:return c=Kr(31,p,h,N),c.elementType=D,c.lanes=_,c;case w:return Nc(p.children,N,_,h);case j:O=8,N|=24;break;case k:return c=Kr(12,p,h,N|2),c.elementType=k,c.lanes=_,c;case T:return c=Kr(13,p,h,N),c.elementType=T,c.lanes=_,c;case M:return c=Kr(19,p,h,N),c.elementType=M,c.lanes=_,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case C:O=10;break e;case S:O=9;break e;case E:O=11;break e;case z:O=14;break e;case A:O=16,y=null;break e}O=29,p=Error(s(130,c===null?"null":typeof c,"")),y=null}return h=Kr(O,p,h,N),h.elementType=c,h.type=y,h.lanes=_,h}function Nc(c,h,p,y){return c=Kr(7,c,y,h),c.lanes=p,c}function J1(c,h,p){return c=Kr(6,c,null,h),c.lanes=p,c}function S5(c){var h=Kr(18,null,null,0);return h.stateNode=c,h}function X1(c,h,p){return h=Kr(4,c.children!==null?c.children:[],c.key,h),h.lanes=p,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var _5=new WeakMap;function xi(c,h){if(typeof c=="object"&&c!==null){var p=_5.get(c);return p!==void 0?p:(h={value:c,source:h,stack:kt(h)},_5.set(c,h),h)}return{value:c,source:h,stack:kt(h)}}var rd=[],id=0,Xg=null,Nf=0,vi=[],yi=0,Jo=null,ka=1,Na="";function ao(c,h){rd[id++]=Nf,rd[id++]=Xg,Xg=c,Nf=h}function C5(c,h,p){vi[yi++]=ka,vi[yi++]=Na,vi[yi++]=Jo,Jo=c;var y=ka;c=Na;var N=32-ln(y)-1;y&=~(1<<N),p+=1;var _=32-ln(h)+N;if(30<_){var O=N-N%5;_=(y&(1<<O)-1).toString(32),y>>=O,N-=O,ka=1<<32-ln(h)+N|p<<N|y,Na=_+c}else ka=1<<_|p<<N|y,Na=c}function Q1(c){c.return!==null&&(ao(c,1),C5(c,1,0))}function ew(c){for(;c===Xg;)Xg=rd[--id],rd[id]=null,Nf=rd[--id],rd[id]=null;for(;c===Jo;)Jo=vi[--yi],vi[yi]=null,Na=vi[--yi],vi[yi]=null,ka=vi[--yi],vi[yi]=null}function E5(c,h){vi[yi++]=ka,vi[yi++]=Na,vi[yi++]=Jo,ka=h.id,Na=h.overflow,Jo=c}var Ws=null,Mn=null,Kt=!1,Xo=null,bi=!1,tw=Error(s(519));function Qo(c){var h=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sf(xi(h,c)),tw}function T5(c){var h=c.stateNode,p=c.type,y=c.memoizedProps;switch(h[Zs]=c,h[Tr]=y,p){case"dialog":Ut("cancel",h),Ut("close",h);break;case"iframe":case"object":case"embed":Ut("load",h);break;case"video":case"audio":for(p=0;p<Wf.length;p++)Ut(Wf[p],h);break;case"source":Ut("error",h);break;case"img":case"image":case"link":Ut("error",h),Ut("load",h);break;case"details":Ut("toggle",h);break;case"input":Ut("invalid",h),FT(h,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Ut("invalid",h);break;case"textarea":Ut("invalid",h),HT(h,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||h.textContent===""+p||y.suppressHydrationWarning===!0||Zz(h.textContent,p)?(y.popover!=null&&(Ut("beforetoggle",h),Ut("toggle",h)),y.onScroll!=null&&Ut("scroll",h),y.onScrollEnd!=null&&Ut("scrollend",h),y.onClick!=null&&(h.onclick=so),h=!0):h=!1,h||Qo(c,!0)}function z5(c){for(Ws=c.return;Ws;)switch(Ws.tag){case 5:case 31:case 13:bi=!1;return;case 27:case 3:bi=!0;return;default:Ws=Ws.return}}function ad(c){if(c!==Ws)return!1;if(!Kt)return z5(c),Kt=!0,!1;var h=c.tag,p;if((p=h!==3&&h!==27)&&((p=h===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||yj(c.type,c.memoizedProps)),p=!p),p&&Mn&&Qo(c),z5(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));Mn=tM(c)}else if(h===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));Mn=tM(c)}else h===27?(h=Mn,fl(c.type)?(c=Nj,Nj=null,Mn=c):Mn=h):Mn=Ws?ji(c.stateNode.nextSibling):null;return!0}function Sc(){Mn=Ws=null,Kt=!1}function nw(){var c=Xo;return c!==null&&(Or===null?Or=c:Or.push.apply(Or,c),Xo=null),c}function Sf(c){Xo===null?Xo=[c]:Xo.push(c)}var sw=R(null),_c=null,oo=null;function el(c,h,p){K(sw,h._currentValue),h._currentValue=p}function lo(c){c._currentValue=sw.current,H(sw)}function rw(c,h,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),c===p)break;c=c.return}}function iw(c,h,p,y){var N=c.child;for(N!==null&&(N.return=c);N!==null;){var _=N.dependencies;if(_!==null){var O=N.child;_=_.firstContext;e:for(;_!==null;){var V=_;_=N;for(var te=0;te<h.length;te++)if(V.context===h[te]){_.lanes|=p,V=_.alternate,V!==null&&(V.lanes|=p),rw(_.return,p,c),y||(O=null);break e}_=V.next}}else if(N.tag===18){if(O=N.return,O===null)throw Error(s(341));O.lanes|=p,_=O.alternate,_!==null&&(_.lanes|=p),rw(O,p,c),O=null}else O=N.child;if(O!==null)O.return=N;else for(O=N;O!==null;){if(O===c){O=null;break}if(N=O.sibling,N!==null){N.return=O.return,O=N;break}O=O.return}N=O}}function od(c,h,p,y){c=null;for(var N=h,_=!1;N!==null;){if(!_){if((N.flags&524288)!==0)_=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var O=N.alternate;if(O===null)throw Error(s(387));if(O=O.memoizedProps,O!==null){var V=N.type;Wr(N.pendingProps.value,O.value)||(c!==null?c.push(V):c=[V])}}else if(N===Y.current){if(O=N.alternate,O===null)throw Error(s(387));O.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(c!==null?c.push(Xf):c=[Xf])}N=N.return}c!==null&&iw(h,c,p,y),h.flags|=262144}function Qg(c){for(c=c.firstContext;c!==null;){if(!Wr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Cc(c){_c=c,oo=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ks(c){return M5(_c,c)}function ex(c,h){return _c===null&&Cc(c),M5(c,h)}function M5(c,h){var p=h._currentValue;if(h={context:h,memoizedValue:p,next:null},oo===null){if(c===null)throw Error(s(308));oo=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else oo=oo.next=h;return p}var TW=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){h.aborted=!0,c.forEach(function(p){return p()})}},zW=e.unstable_scheduleCallback,MW=e.unstable_NormalPriority,ms={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function aw(){return{controller:new TW,data:new Map,refCount:0}}function _f(c){c.refCount--,c.refCount===0&&zW(MW,function(){c.controller.abort()})}var Cf=null,ow=0,ld=0,cd=null;function AW(c,h){if(Cf===null){var p=Cf=[];ow=0,ld=uj(),cd={status:"pending",value:void 0,then:function(y){p.push(y)}}}return ow++,h.then(A5,A5),h}function A5(){if(--ow===0&&Cf!==null){cd!==null&&(cd.status="fulfilled");var c=Cf;Cf=null,ld=0,cd=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function RW(c,h){var p=[],y={status:"pending",value:null,reason:null,then:function(N){p.push(N)}};return c.then(function(){y.status="fulfilled",y.value=h;for(var N=0;N<p.length;N++)(0,p[N])(h)},function(N){for(y.status="rejected",y.reason=N,N=0;N<p.length;N++)(0,p[N])(void 0)}),y}var R5=P.S;P.S=function(c,h){gz=ze(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&AW(c,h),R5!==null&&R5(c,h)};var Ec=R(null);function lw(){var c=Ec.current;return c!==null?c:Sn.pooledCache}function tx(c,h){h===null?K(Ec,Ec.current):K(Ec,h.pool)}function O5(){var c=lw();return c===null?null:{parent:ms._currentValue,pool:c}}var ud=Error(s(460)),cw=Error(s(474)),nx=Error(s(542)),sx={then:function(){}};function D5(c){return c=c.status,c==="fulfilled"||c==="rejected"}function P5(c,h,p){switch(p=c[p],p===void 0?c.push(h):p!==h&&(h.then(so,so),h=p),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,L5(c),c;default:if(typeof h.status=="string")h.then(so,so);else{if(c=Sn,c!==null&&100<c.shellSuspendCounter)throw Error(s(482));c=h,c.status="pending",c.then(function(y){if(h.status==="pending"){var N=h;N.status="fulfilled",N.value=y}},function(y){if(h.status==="pending"){var N=h;N.status="rejected",N.reason=y}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,L5(c),c}throw zc=h,ud}}function Tc(c){try{var h=c._init;return h(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(zc=p,ud):p}}var zc=null;function I5(){if(zc===null)throw Error(s(459));var c=zc;return zc=null,c}function L5(c){if(c===ud||c===nx)throw Error(s(483))}var dd=null,Ef=0;function rx(c){var h=Ef;return Ef+=1,dd===null&&(dd=[]),P5(dd,c,h)}function Tf(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function ix(c,h){throw h.$$typeof===g?Error(s(525)):(c=Object.prototype.toString.call(h),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function $5(c){function h(de,ie){if(c){var pe=de.deletions;pe===null?(de.deletions=[ie],de.flags|=16):pe.push(ie)}}function p(de,ie){if(!c)return null;for(;ie!==null;)h(de,ie),ie=ie.sibling;return null}function y(de){for(var ie=new Map;de!==null;)de.key!==null?ie.set(de.key,de):ie.set(de.index,de),de=de.sibling;return ie}function N(de,ie){return de=io(de,ie),de.index=0,de.sibling=null,de}function _(de,ie,pe){return de.index=pe,c?(pe=de.alternate,pe!==null?(pe=pe.index,pe<ie?(de.flags|=67108866,ie):pe):(de.flags|=67108866,ie)):(de.flags|=1048576,ie)}function O(de){return c&&de.alternate===null&&(de.flags|=67108866),de}function V(de,ie,pe,ke){return ie===null||ie.tag!==6?(ie=J1(pe,de.mode,ke),ie.return=de,ie):(ie=N(ie,pe),ie.return=de,ie)}function te(de,ie,pe,ke){var ft=pe.type;return ft===w?je(de,ie,pe.props.children,ke,pe.key):ie!==null&&(ie.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Tc(ft)===ie.type)?(ie=N(ie,pe.props),Tf(ie,pe),ie.return=de,ie):(ie=Jg(pe.type,pe.key,pe.props,null,de.mode,ke),Tf(ie,pe),ie.return=de,ie)}function ge(de,ie,pe,ke){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==pe.containerInfo||ie.stateNode.implementation!==pe.implementation?(ie=X1(pe,de.mode,ke),ie.return=de,ie):(ie=N(ie,pe.children||[]),ie.return=de,ie)}function je(de,ie,pe,ke,ft){return ie===null||ie.tag!==7?(ie=Nc(pe,de.mode,ke,ft),ie.return=de,ie):(ie=N(ie,pe),ie.return=de,ie)}function _e(de,ie,pe){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=J1(""+ie,de.mode,pe),ie.return=de,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return pe=Jg(ie.type,ie.key,ie.props,null,de.mode,pe),Tf(pe,ie),pe.return=de,pe;case b:return ie=X1(ie,de.mode,pe),ie.return=de,ie;case A:return ie=Tc(ie),_e(de,ie,pe)}if(J(ie)||q(ie))return ie=Nc(ie,de.mode,pe,null),ie.return=de,ie;if(typeof ie.then=="function")return _e(de,rx(ie),pe);if(ie.$$typeof===C)return _e(de,ex(de,ie),pe);ix(de,ie)}return null}function ve(de,ie,pe,ke){var ft=ie!==null?ie.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return ft!==null?null:V(de,ie,""+pe,ke);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case x:return pe.key===ft?te(de,ie,pe,ke):null;case b:return pe.key===ft?ge(de,ie,pe,ke):null;case A:return pe=Tc(pe),ve(de,ie,pe,ke)}if(J(pe)||q(pe))return ft!==null?null:je(de,ie,pe,ke,null);if(typeof pe.then=="function")return ve(de,ie,rx(pe),ke);if(pe.$$typeof===C)return ve(de,ie,ex(de,pe),ke);ix(de,pe)}return null}function ye(de,ie,pe,ke,ft){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return de=de.get(pe)||null,V(ie,de,""+ke,ft);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return de=de.get(ke.key===null?pe:ke.key)||null,te(ie,de,ke,ft);case b:return de=de.get(ke.key===null?pe:ke.key)||null,ge(ie,de,ke,ft);case A:return ke=Tc(ke),ye(de,ie,pe,ke,ft)}if(J(ke)||q(ke))return de=de.get(pe)||null,je(ie,de,ke,ft,null);if(typeof ke.then=="function")return ye(de,ie,pe,rx(ke),ft);if(ke.$$typeof===C)return ye(de,ie,pe,ex(ie,ke),ft);ix(ie,ke)}return null}function et(de,ie,pe,ke){for(var ft=null,en=null,lt=ie,Pt=ie=0,Zt=null;lt!==null&&Pt<pe.length;Pt++){lt.index>Pt?(Zt=lt,lt=null):Zt=lt.sibling;var tn=ve(de,lt,pe[Pt],ke);if(tn===null){lt===null&&(lt=Zt);break}c&&lt&&tn.alternate===null&&h(de,lt),ie=_(tn,ie,Pt),en===null?ft=tn:en.sibling=tn,en=tn,lt=Zt}if(Pt===pe.length)return p(de,lt),Kt&&ao(de,Pt),ft;if(lt===null){for(;Pt<pe.length;Pt++)lt=_e(de,pe[Pt],ke),lt!==null&&(ie=_(lt,ie,Pt),en===null?ft=lt:en.sibling=lt,en=lt);return Kt&&ao(de,Pt),ft}for(lt=y(lt);Pt<pe.length;Pt++)Zt=ye(lt,de,Pt,pe[Pt],ke),Zt!==null&&(c&&Zt.alternate!==null&&lt.delete(Zt.key===null?Pt:Zt.key),ie=_(Zt,ie,Pt),en===null?ft=Zt:en.sibling=Zt,en=Zt);return c&&lt.forEach(function(vl){return h(de,vl)}),Kt&&ao(de,Pt),ft}function vt(de,ie,pe,ke){if(pe==null)throw Error(s(151));for(var ft=null,en=null,lt=ie,Pt=ie=0,Zt=null,tn=pe.next();lt!==null&&!tn.done;Pt++,tn=pe.next()){lt.index>Pt?(Zt=lt,lt=null):Zt=lt.sibling;var vl=ve(de,lt,tn.value,ke);if(vl===null){lt===null&&(lt=Zt);break}c&&lt&&vl.alternate===null&&h(de,lt),ie=_(vl,ie,Pt),en===null?ft=vl:en.sibling=vl,en=vl,lt=Zt}if(tn.done)return p(de,lt),Kt&&ao(de,Pt),ft;if(lt===null){for(;!tn.done;Pt++,tn=pe.next())tn=_e(de,tn.value,ke),tn!==null&&(ie=_(tn,ie,Pt),en===null?ft=tn:en.sibling=tn,en=tn);return Kt&&ao(de,Pt),ft}for(lt=y(lt);!tn.done;Pt++,tn=pe.next())tn=ye(lt,de,Pt,tn.value,ke),tn!==null&&(c&&tn.alternate!==null&&lt.delete(tn.key===null?Pt:tn.key),ie=_(tn,ie,Pt),en===null?ft=tn:en.sibling=tn,en=tn);return c&&lt.forEach(function(HK){return h(de,HK)}),Kt&&ao(de,Pt),ft}function bn(de,ie,pe,ke){if(typeof pe=="object"&&pe!==null&&pe.type===w&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case x:e:{for(var ft=pe.key;ie!==null;){if(ie.key===ft){if(ft=pe.type,ft===w){if(ie.tag===7){p(de,ie.sibling),ke=N(ie,pe.props.children),ke.return=de,de=ke;break e}}else if(ie.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Tc(ft)===ie.type){p(de,ie.sibling),ke=N(ie,pe.props),Tf(ke,pe),ke.return=de,de=ke;break e}p(de,ie);break}else h(de,ie);ie=ie.sibling}pe.type===w?(ke=Nc(pe.props.children,de.mode,ke,pe.key),ke.return=de,de=ke):(ke=Jg(pe.type,pe.key,pe.props,null,de.mode,ke),Tf(ke,pe),ke.return=de,de=ke)}return O(de);case b:e:{for(ft=pe.key;ie!==null;){if(ie.key===ft)if(ie.tag===4&&ie.stateNode.containerInfo===pe.containerInfo&&ie.stateNode.implementation===pe.implementation){p(de,ie.sibling),ke=N(ie,pe.children||[]),ke.return=de,de=ke;break e}else{p(de,ie);break}else h(de,ie);ie=ie.sibling}ke=X1(pe,de.mode,ke),ke.return=de,de=ke}return O(de);case A:return pe=Tc(pe),bn(de,ie,pe,ke)}if(J(pe))return et(de,ie,pe,ke);if(q(pe)){if(ft=q(pe),typeof ft!="function")throw Error(s(150));return pe=ft.call(pe),vt(de,ie,pe,ke)}if(typeof pe.then=="function")return bn(de,ie,rx(pe),ke);if(pe.$$typeof===C)return bn(de,ie,ex(de,pe),ke);ix(de,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint"?(pe=""+pe,ie!==null&&ie.tag===6?(p(de,ie.sibling),ke=N(ie,pe),ke.return=de,de=ke):(p(de,ie),ke=J1(pe,de.mode,ke),ke.return=de,de=ke),O(de)):p(de,ie)}return function(de,ie,pe,ke){try{Ef=0;var ft=bn(de,ie,pe,ke);return dd=null,ft}catch(lt){if(lt===ud||lt===nx)throw lt;var en=Kr(29,lt,null,de.mode);return en.lanes=ke,en.return=de,en}finally{}}}var Mc=$5(!0),V5=$5(!1),tl=!1;function uw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dw(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function nl(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function sl(c,h,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(rn&2)!==0){var N=y.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),y.pending=h,h=Yg(c),k5(c,null,p),h}return Gg(c,y,h,p),Yg(c)}function zf(c,h,p){if(h=h.updateQueue,h!==null&&(h=h.shared,(p&4194048)!==0)){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,xn(c,p)}}function hw(c,h){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var N=null,_=null;if(p=p.firstBaseUpdate,p!==null){do{var O={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};_===null?N=_=O:_=_.next=O,p=p.next}while(p!==null);_===null?N=_=h:_=_.next=h}else N=_=h;p={baseState:y.baseState,firstBaseUpdate:N,lastBaseUpdate:_,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=h}var fw=!1;function Mf(){if(fw){var c=cd;if(c!==null)throw c}}function Af(c,h,p,y){fw=!1;var N=c.updateQueue;tl=!1;var _=N.firstBaseUpdate,O=N.lastBaseUpdate,V=N.shared.pending;if(V!==null){N.shared.pending=null;var te=V,ge=te.next;te.next=null,O===null?_=ge:O.next=ge,O=te;var je=c.alternate;je!==null&&(je=je.updateQueue,V=je.lastBaseUpdate,V!==O&&(V===null?je.firstBaseUpdate=ge:V.next=ge,je.lastBaseUpdate=te))}if(_!==null){var _e=N.baseState;O=0,je=ge=te=null,V=_;do{var ve=V.lane&-536870913,ye=ve!==V.lane;if(ye?(qt&ve)===ve:(y&ve)===ve){ve!==0&&ve===ld&&(fw=!0),je!==null&&(je=je.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var et=c,vt=V;ve=h;var bn=p;switch(vt.tag){case 1:if(et=vt.payload,typeof et=="function"){_e=et.call(bn,_e,ve);break e}_e=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=vt.payload,ve=typeof et=="function"?et.call(bn,_e,ve):et,ve==null)break e;_e=m({},_e,ve);break e;case 2:tl=!0}}ve=V.callback,ve!==null&&(c.flags|=64,ye&&(c.flags|=8192),ye=N.callbacks,ye===null?N.callbacks=[ve]:ye.push(ve))}else ye={lane:ve,tag:V.tag,payload:V.payload,callback:V.callback,next:null},je===null?(ge=je=ye,te=_e):je=je.next=ye,O|=ve;if(V=V.next,V===null){if(V=N.shared.pending,V===null)break;ye=V,V=ye.next,ye.next=null,N.lastBaseUpdate=ye,N.shared.pending=null}}while(!0);je===null&&(te=_e),N.baseState=te,N.firstBaseUpdate=ge,N.lastBaseUpdate=je,_===null&&(N.shared.lanes=0),ll|=O,c.lanes=O,c.memoizedState=_e}}function B5(c,h){if(typeof c!="function")throw Error(s(191,c));c.call(h)}function F5(c,h){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)B5(p[c],h)}var hd=R(null),ax=R(0);function U5(c,h){c=vo,K(ax,c),K(hd,h),vo=c|h.baseLanes}function mw(){K(ax,vo),K(hd,hd.current)}function pw(){vo=ax.current,H(hd),H(ax)}var Gr=R(null),wi=null;function rl(c){var h=c.alternate;K(cs,cs.current&1),K(Gr,c),wi===null&&(h===null||hd.current!==null||h.memoizedState!==null)&&(wi=c)}function gw(c){K(cs,cs.current),K(Gr,c),wi===null&&(wi=c)}function H5(c){c.tag===22?(K(cs,cs.current),K(Gr,c),wi===null&&(wi=c)):il()}function il(){K(cs,cs.current),K(Gr,Gr.current)}function Yr(c){H(Gr),wi===c&&(wi=null),H(cs)}var cs=R(0);function ox(c){for(var h=c;h!==null;){if(h.tag===13){var p=h.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||jj(p)||kj(p)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var co=0,Ot=null,vn=null,ps=null,lx=!1,fd=!1,Ac=!1,cx=0,Rf=0,md=null,OW=0;function Gn(){throw Error(s(321))}function xw(c,h){if(h===null)return!1;for(var p=0;p<h.length&&p<c.length;p++)if(!Wr(c[p],h[p]))return!1;return!0}function vw(c,h,p,y,N,_){return co=_,Ot=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,P.H=c===null||c.memoizedState===null?C4:Rw,Ac=!1,_=p(y,N),Ac=!1,fd&&(_=Z5(h,p,y,N)),q5(c),_}function q5(c){P.H=Pf;var h=vn!==null&&vn.next!==null;if(co=0,ps=vn=Ot=null,lx=!1,Rf=0,md=null,h)throw Error(s(300));c===null||gs||(c=c.dependencies,c!==null&&Qg(c)&&(gs=!0))}function Z5(c,h,p,y){Ot=c;var N=0;do{if(fd&&(md=null),Rf=0,fd=!1,25<=N)throw Error(s(301));if(N+=1,ps=vn=null,c.updateQueue!=null){var _=c.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}P.H=E4,_=h(p,y)}while(fd);return _}function DW(){var c=P.H,h=c.useState()[0];return h=typeof h.then=="function"?Of(h):h,c=c.useState()[0],(vn!==null?vn.memoizedState:null)!==c&&(Ot.flags|=1024),h}function yw(){var c=cx!==0;return cx=0,c}function bw(c,h,p){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~p}function ww(c){if(lx){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}lx=!1}co=0,ps=vn=Ot=null,fd=!1,Rf=cx=0,md=null}function vr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ps===null?Ot.memoizedState=ps=c:ps=ps.next=c,ps}function us(){if(vn===null){var c=Ot.alternate;c=c!==null?c.memoizedState:null}else c=vn.next;var h=ps===null?Ot.memoizedState:ps.next;if(h!==null)ps=h,vn=c;else{if(c===null)throw Ot.alternate===null?Error(s(467)):Error(s(310));vn=c,c={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},ps===null?Ot.memoizedState=ps=c:ps=ps.next=c}return ps}function ux(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Of(c){var h=Rf;return Rf+=1,md===null&&(md=[]),c=P5(md,c,h),h=Ot,(ps===null?h.memoizedState:ps.next)===null&&(h=h.alternate,P.H=h===null||h.memoizedState===null?C4:Rw),c}function dx(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Of(c);if(c.$$typeof===C)return Ks(c)}throw Error(s(438,String(c)))}function jw(c){var h=null,p=Ot.updateQueue;if(p!==null&&(h=p.memoCache),h==null){var y=Ot.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(h={data:y.data.map(function(N){return N.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),p===null&&(p=ux(),Ot.updateQueue=p),p.memoCache=h,p=h.data[h.index],p===void 0)for(p=h.data[h.index]=Array(c),y=0;y<c;y++)p[y]=B;return h.index++,p}function uo(c,h){return typeof h=="function"?h(c):h}function hx(c){var h=us();return kw(h,vn,c)}function kw(c,h,p){var y=c.queue;if(y===null)throw Error(s(311));y.lastRenderedReducer=p;var N=c.baseQueue,_=y.pending;if(_!==null){if(N!==null){var O=N.next;N.next=_.next,_.next=O}h.baseQueue=N=_,y.pending=null}if(_=c.baseState,N===null)c.memoizedState=_;else{h=N.next;var V=O=null,te=null,ge=h,je=!1;do{var _e=ge.lane&-536870913;if(_e!==ge.lane?(qt&_e)===_e:(co&_e)===_e){var ve=ge.revertLane;if(ve===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),_e===ld&&(je=!0);else if((co&ve)===ve){ge=ge.next,ve===ld&&(je=!0);continue}else _e={lane:0,revertLane:ge.revertLane,gesture:null,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},te===null?(V=te=_e,O=_):te=te.next=_e,Ot.lanes|=ve,ll|=ve;_e=ge.action,Ac&&p(_,_e),_=ge.hasEagerState?ge.eagerState:p(_,_e)}else ve={lane:_e,revertLane:ge.revertLane,gesture:ge.gesture,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},te===null?(V=te=ve,O=_):te=te.next=ve,Ot.lanes|=_e,ll|=_e;ge=ge.next}while(ge!==null&&ge!==h);if(te===null?O=_:te.next=V,!Wr(_,c.memoizedState)&&(gs=!0,je&&(p=cd,p!==null)))throw p;c.memoizedState=_,c.baseState=O,c.baseQueue=te,y.lastRenderedState=_}return N===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Nw(c){var h=us(),p=h.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=c;var y=p.dispatch,N=p.pending,_=h.memoizedState;if(N!==null){p.pending=null;var O=N=N.next;do _=c(_,O.action),O=O.next;while(O!==N);Wr(_,h.memoizedState)||(gs=!0),h.memoizedState=_,h.baseQueue===null&&(h.baseState=_),p.lastRenderedState=_}return[_,y]}function W5(c,h,p){var y=Ot,N=us(),_=Kt;if(_){if(p===void 0)throw Error(s(407));p=p()}else p=h();var O=!Wr((vn||N).memoizedState,p);if(O&&(N.memoizedState=p,gs=!0),N=N.queue,Cw(Y5.bind(null,y,N,c),[c]),N.getSnapshot!==h||O||ps!==null&&ps.memoizedState.tag&1){if(y.flags|=2048,pd(9,{destroy:void 0},G5.bind(null,y,N,p,h),null),Sn===null)throw Error(s(349));_||(co&127)!==0||K5(y,h,p)}return p}function K5(c,h,p){c.flags|=16384,c={getSnapshot:h,value:p},h=Ot.updateQueue,h===null?(h=ux(),Ot.updateQueue=h,h.stores=[c]):(p=h.stores,p===null?h.stores=[c]:p.push(c))}function G5(c,h,p,y){h.value=p,h.getSnapshot=y,J5(h)&&X5(c)}function Y5(c,h,p){return p(function(){J5(h)&&X5(c)})}function J5(c){var h=c.getSnapshot;c=c.value;try{var p=h();return!Wr(c,p)}catch{return!0}}function X5(c){var h=kc(c,2);h!==null&&Dr(h,c,2)}function Sw(c){var h=vr();if(typeof c=="function"){var p=c;if(c=p(),Ac){Rt(!0);try{p()}finally{Rt(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:c},h}function Q5(c,h,p,y){return c.baseState=p,kw(c,vn,typeof y=="function"?y:uo)}function PW(c,h,p,y,N){if(px(c))throw Error(s(485));if(c=h.action,c!==null){var _={payload:N,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};P.T!==null?p(!0):_.isTransition=!1,y(_),p=h.pending,p===null?(_.next=h.pending=_,e4(h,_)):(_.next=p.next,h.pending=p.next=_)}}function e4(c,h){var p=h.action,y=h.payload,N=c.state;if(h.isTransition){var _=P.T,O={};P.T=O;try{var V=p(N,y),te=P.S;te!==null&&te(O,V),t4(c,h,V)}catch(ge){_w(c,h,ge)}finally{_!==null&&O.types!==null&&(_.types=O.types),P.T=_}}else try{_=p(N,y),t4(c,h,_)}catch(ge){_w(c,h,ge)}}function t4(c,h,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){n4(c,h,y)},function(y){return _w(c,h,y)}):n4(c,h,p)}function n4(c,h,p){h.status="fulfilled",h.value=p,s4(h),c.state=p,h=c.pending,h!==null&&(p=h.next,p===h?c.pending=null:(p=p.next,h.next=p,e4(c,p)))}function _w(c,h,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do h.status="rejected",h.reason=p,s4(h),h=h.next;while(h!==y)}c.action=null}function s4(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function r4(c,h){return h}function i4(c,h){if(Kt){var p=Sn.formState;if(p!==null){e:{var y=Ot;if(Kt){if(Mn){t:{for(var N=Mn,_=bi;N.nodeType!==8;){if(!_){N=null;break t}if(N=ji(N.nextSibling),N===null){N=null;break t}}_=N.data,N=_==="F!"||_==="F"?N:null}if(N){Mn=ji(N.nextSibling),y=N.data==="F!";break e}}Qo(y)}y=!1}y&&(h=p[0])}}return p=vr(),p.memoizedState=p.baseState=h,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r4,lastRenderedState:h},p.queue=y,p=N4.bind(null,Ot,y),y.dispatch=p,y=Sw(!1),_=Aw.bind(null,Ot,!1,y.queue),y=vr(),N={state:h,dispatch:null,action:c,pending:null},y.queue=N,p=PW.bind(null,Ot,N,_,p),N.dispatch=p,y.memoizedState=c,[h,p,!1]}function a4(c){var h=us();return o4(h,vn,c)}function o4(c,h,p){if(h=kw(c,h,r4)[0],c=hx(uo)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var y=Of(h)}catch(O){throw O===ud?nx:O}else y=h;h=us();var N=h.queue,_=N.dispatch;return p!==h.memoizedState&&(Ot.flags|=2048,pd(9,{destroy:void 0},IW.bind(null,N,p),null)),[y,_,c]}function IW(c,h){c.action=h}function l4(c){var h=us(),p=vn;if(p!==null)return o4(h,p,c);us(),h=h.memoizedState,p=us();var y=p.queue.dispatch;return p.memoizedState=c,[h,y,!1]}function pd(c,h,p,y){return c={tag:c,create:p,deps:y,inst:h,next:null},h=Ot.updateQueue,h===null&&(h=ux(),Ot.updateQueue=h),p=h.lastEffect,p===null?h.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,h.lastEffect=c),c}function c4(){return us().memoizedState}function fx(c,h,p,y){var N=vr();Ot.flags|=c,N.memoizedState=pd(1|h,{destroy:void 0},p,y===void 0?null:y)}function mx(c,h,p,y){var N=us();y=y===void 0?null:y;var _=N.memoizedState.inst;vn!==null&&y!==null&&xw(y,vn.memoizedState.deps)?N.memoizedState=pd(h,_,p,y):(Ot.flags|=c,N.memoizedState=pd(1|h,_,p,y))}function u4(c,h){fx(8390656,8,c,h)}function Cw(c,h){mx(2048,8,c,h)}function LW(c){Ot.flags|=4;var h=Ot.updateQueue;if(h===null)h=ux(),Ot.updateQueue=h,h.events=[c];else{var p=h.events;p===null?h.events=[c]:p.push(c)}}function d4(c){var h=us().memoizedState;return LW({ref:h,nextImpl:c}),function(){if((rn&2)!==0)throw Error(s(440));return h.impl.apply(void 0,arguments)}}function h4(c,h){return mx(4,2,c,h)}function f4(c,h){return mx(4,4,c,h)}function m4(c,h){if(typeof h=="function"){c=c();var p=h(c);return function(){typeof p=="function"?p():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function p4(c,h,p){p=p!=null?p.concat([c]):null,mx(4,4,m4.bind(null,h,c),p)}function Ew(){}function g4(c,h){var p=us();h=h===void 0?null:h;var y=p.memoizedState;return h!==null&&xw(h,y[1])?y[0]:(p.memoizedState=[c,h],c)}function x4(c,h){var p=us();h=h===void 0?null:h;var y=p.memoizedState;if(h!==null&&xw(h,y[1]))return y[0];if(y=c(),Ac){Rt(!0);try{c()}finally{Rt(!1)}}return p.memoizedState=[y,h],y}function Tw(c,h,p){return p===void 0||(co&1073741824)!==0&&(qt&261930)===0?c.memoizedState=h:(c.memoizedState=p,c=vz(),Ot.lanes|=c,ll|=c,p)}function v4(c,h,p,y){return Wr(p,h)?p:hd.current!==null?(c=Tw(c,p,y),Wr(c,h)||(gs=!0),c):(co&42)===0||(co&1073741824)!==0&&(qt&261930)===0?(gs=!0,c.memoizedState=p):(c=vz(),Ot.lanes|=c,ll|=c,h)}function y4(c,h,p,y,N){var _=I.p;I.p=_!==0&&8>_?_:8;var O=P.T,V={};P.T=V,Aw(c,!1,h,p);try{var te=N(),ge=P.S;if(ge!==null&&ge(V,te),te!==null&&typeof te=="object"&&typeof te.then=="function"){var je=RW(te,y);Df(c,h,je,Qr(c))}else Df(c,h,y,Qr(c))}catch(_e){Df(c,h,{then:function(){},status:"rejected",reason:_e},Qr())}finally{I.p=_,O!==null&&V.types!==null&&(O.types=V.types),P.T=O}}function $W(){}function zw(c,h,p,y){if(c.tag!==5)throw Error(s(476));var N=b4(c).queue;y4(c,N,h,L,p===null?$W:function(){return w4(c),p(y)})}function b4(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:L},next:null};var p={};return h.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:uo,lastRenderedState:p},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function w4(c){var h=b4(c);h.next===null&&(h=c.alternate.memoizedState),Df(c,h.next.queue,{},Qr())}function Mw(){return Ks(Xf)}function j4(){return us().memoizedState}function k4(){return us().memoizedState}function VW(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var p=Qr();c=nl(p);var y=sl(h,c,p);y!==null&&(Dr(y,h,p),zf(y,h,p)),h={cache:aw()},c.payload=h;return}h=h.return}}function BW(c,h,p){var y=Qr();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},px(c)?S4(h,p):(p=G1(c,h,p,y),p!==null&&(Dr(p,c,y),_4(p,h,y)))}function N4(c,h,p){var y=Qr();Df(c,h,p,y)}function Df(c,h,p,y){var N={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(px(c))S4(h,N);else{var _=c.alternate;if(c.lanes===0&&(_===null||_.lanes===0)&&(_=h.lastRenderedReducer,_!==null))try{var O=h.lastRenderedState,V=_(O,p);if(N.hasEagerState=!0,N.eagerState=V,Wr(V,O))return Gg(c,h,N,0),Sn===null&&Kg(),!1}catch{}finally{}if(p=G1(c,h,N,y),p!==null)return Dr(p,c,y),_4(p,h,y),!0}return!1}function Aw(c,h,p,y){if(y={lane:2,revertLane:uj(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},px(c)){if(h)throw Error(s(479))}else h=G1(c,p,y,2),h!==null&&Dr(h,c,2)}function px(c){var h=c.alternate;return c===Ot||h!==null&&h===Ot}function S4(c,h){fd=lx=!0;var p=c.pending;p===null?h.next=h:(h.next=p.next,p.next=h),c.pending=h}function _4(c,h,p){if((p&4194048)!==0){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,xn(c,p)}}var Pf={readContext:Ks,use:dx,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn,useHostTransitionStatus:Gn,useFormState:Gn,useActionState:Gn,useOptimistic:Gn,useMemoCache:Gn,useCacheRefresh:Gn};Pf.useEffectEvent=Gn;var C4={readContext:Ks,use:dx,useCallback:function(c,h){return vr().memoizedState=[c,h===void 0?null:h],c},useContext:Ks,useEffect:u4,useImperativeHandle:function(c,h,p){p=p!=null?p.concat([c]):null,fx(4194308,4,m4.bind(null,h,c),p)},useLayoutEffect:function(c,h){return fx(4194308,4,c,h)},useInsertionEffect:function(c,h){fx(4,2,c,h)},useMemo:function(c,h){var p=vr();h=h===void 0?null:h;var y=c();if(Ac){Rt(!0);try{c()}finally{Rt(!1)}}return p.memoizedState=[y,h],y},useReducer:function(c,h,p){var y=vr();if(p!==void 0){var N=p(h);if(Ac){Rt(!0);try{p(h)}finally{Rt(!1)}}}else N=h;return y.memoizedState=y.baseState=N,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:N},y.queue=c,c=c.dispatch=BW.bind(null,Ot,c),[y.memoizedState,c]},useRef:function(c){var h=vr();return c={current:c},h.memoizedState=c},useState:function(c){c=Sw(c);var h=c.queue,p=N4.bind(null,Ot,h);return h.dispatch=p,[c.memoizedState,p]},useDebugValue:Ew,useDeferredValue:function(c,h){var p=vr();return Tw(p,c,h)},useTransition:function(){var c=Sw(!1);return c=y4.bind(null,Ot,c.queue,!0,!1),vr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,p){var y=Ot,N=vr();if(Kt){if(p===void 0)throw Error(s(407));p=p()}else{if(p=h(),Sn===null)throw Error(s(349));(qt&127)!==0||K5(y,h,p)}N.memoizedState=p;var _={value:p,getSnapshot:h};return N.queue=_,u4(Y5.bind(null,y,_,c),[c]),y.flags|=2048,pd(9,{destroy:void 0},G5.bind(null,y,_,p,h),null),p},useId:function(){var c=vr(),h=Sn.identifierPrefix;if(Kt){var p=Na,y=ka;p=(y&~(1<<32-ln(y)-1)).toString(32)+p,h="_"+h+"R_"+p,p=cx++,0<p&&(h+="H"+p.toString(32)),h+="_"}else p=OW++,h="_"+h+"r_"+p.toString(32)+"_";return c.memoizedState=h},useHostTransitionStatus:Mw,useFormState:i4,useActionState:i4,useOptimistic:function(c){var h=vr();h.memoizedState=h.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=p,h=Aw.bind(null,Ot,!0,p),p.dispatch=h,[c,h]},useMemoCache:jw,useCacheRefresh:function(){return vr().memoizedState=VW.bind(null,Ot)},useEffectEvent:function(c){var h=vr(),p={impl:c};return h.memoizedState=p,function(){if((rn&2)!==0)throw Error(s(440));return p.impl.apply(void 0,arguments)}}},Rw={readContext:Ks,use:dx,useCallback:g4,useContext:Ks,useEffect:Cw,useImperativeHandle:p4,useInsertionEffect:h4,useLayoutEffect:f4,useMemo:x4,useReducer:hx,useRef:c4,useState:function(){return hx(uo)},useDebugValue:Ew,useDeferredValue:function(c,h){var p=us();return v4(p,vn.memoizedState,c,h)},useTransition:function(){var c=hx(uo)[0],h=us().memoizedState;return[typeof c=="boolean"?c:Of(c),h]},useSyncExternalStore:W5,useId:j4,useHostTransitionStatus:Mw,useFormState:a4,useActionState:a4,useOptimistic:function(c,h){var p=us();return Q5(p,vn,c,h)},useMemoCache:jw,useCacheRefresh:k4};Rw.useEffectEvent=d4;var E4={readContext:Ks,use:dx,useCallback:g4,useContext:Ks,useEffect:Cw,useImperativeHandle:p4,useInsertionEffect:h4,useLayoutEffect:f4,useMemo:x4,useReducer:Nw,useRef:c4,useState:function(){return Nw(uo)},useDebugValue:Ew,useDeferredValue:function(c,h){var p=us();return vn===null?Tw(p,c,h):v4(p,vn.memoizedState,c,h)},useTransition:function(){var c=Nw(uo)[0],h=us().memoizedState;return[typeof c=="boolean"?c:Of(c),h]},useSyncExternalStore:W5,useId:j4,useHostTransitionStatus:Mw,useFormState:l4,useActionState:l4,useOptimistic:function(c,h){var p=us();return vn!==null?Q5(p,vn,c,h):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:jw,useCacheRefresh:k4};E4.useEffectEvent=d4;function Ow(c,h,p,y){h=c.memoizedState,p=p(y,h),p=p==null?h:m({},h,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var Dw={enqueueSetState:function(c,h,p){c=c._reactInternals;var y=Qr(),N=nl(y);N.payload=h,p!=null&&(N.callback=p),h=sl(c,N,y),h!==null&&(Dr(h,c,y),zf(h,c,y))},enqueueReplaceState:function(c,h,p){c=c._reactInternals;var y=Qr(),N=nl(y);N.tag=1,N.payload=h,p!=null&&(N.callback=p),h=sl(c,N,y),h!==null&&(Dr(h,c,y),zf(h,c,y))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var p=Qr(),y=nl(p);y.tag=2,h!=null&&(y.callback=h),h=sl(c,y,p),h!==null&&(Dr(h,c,p),zf(h,c,p))}};function T4(c,h,p,y,N,_,O){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,_,O):h.prototype&&h.prototype.isPureReactComponent?!jf(p,y)||!jf(N,_):!0}function z4(c,h,p,y){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(p,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(p,y),h.state!==c&&Dw.enqueueReplaceState(h,h.state,null)}function Rc(c,h){var p=h;if("ref"in h){p={};for(var y in h)y!=="ref"&&(p[y]=h[y])}if(c=c.defaultProps){p===h&&(p=m({},p));for(var N in c)p[N]===void 0&&(p[N]=c[N])}return p}function M4(c){Wg(c)}function A4(c){console.error(c)}function R4(c){Wg(c)}function gx(c,h){try{var p=c.onUncaughtError;p(h.value,{componentStack:h.stack})}catch(y){setTimeout(function(){throw y})}}function O4(c,h,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Pw(c,h,p){return p=nl(p),p.tag=3,p.payload={element:null},p.callback=function(){gx(c,h)},p}function D4(c){return c=nl(c),c.tag=3,c}function P4(c,h,p,y){var N=p.type.getDerivedStateFromError;if(typeof N=="function"){var _=y.value;c.payload=function(){return N(_)},c.callback=function(){O4(h,p,y)}}var O=p.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(c.callback=function(){O4(h,p,y),typeof N!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var V=y.stack;this.componentDidCatch(y.value,{componentStack:V!==null?V:""})})}function FW(c,h,p,y,N){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(h=p.alternate,h!==null&&od(h,p,N,!0),p=Gr.current,p!==null){switch(p.tag){case 31:case 13:return wi===null?Ex():p.alternate===null&&Yn===0&&(Yn=3),p.flags&=-257,p.flags|=65536,p.lanes=N,y===sx?p.flags|=16384:(h=p.updateQueue,h===null?p.updateQueue=new Set([y]):h.add(y),oj(c,y,N)),!1;case 22:return p.flags|=65536,y===sx?p.flags|=16384:(h=p.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=h):(p=h.retryQueue,p===null?h.retryQueue=new Set([y]):p.add(y)),oj(c,y,N)),!1}throw Error(s(435,p.tag))}return oj(c,y,N),Ex(),!1}if(Kt)return h=Gr.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=N,y!==tw&&(c=Error(s(422),{cause:y}),Sf(xi(c,p)))):(y!==tw&&(h=Error(s(423),{cause:y}),Sf(xi(h,p))),c=c.current.alternate,c.flags|=65536,N&=-N,c.lanes|=N,y=xi(y,p),N=Pw(c.stateNode,y,N),hw(c,N),Yn!==4&&(Yn=2)),!1;var _=Error(s(520),{cause:y});if(_=xi(_,p),Hf===null?Hf=[_]:Hf.push(_),Yn!==4&&(Yn=2),h===null)return!0;y=xi(y,p),p=h;do{switch(p.tag){case 3:return p.flags|=65536,c=N&-N,p.lanes|=c,c=Pw(p.stateNode,y,c),hw(p,c),!1;case 1:if(h=p.type,_=p.stateNode,(p.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(cl===null||!cl.has(_))))return p.flags|=65536,N&=-N,p.lanes|=N,N=D4(N),P4(N,c,p,y),hw(p,N),!1}p=p.return}while(p!==null);return!1}var Iw=Error(s(461)),gs=!1;function Gs(c,h,p,y){h.child=c===null?V5(h,null,p,y):Mc(h,c.child,p,y)}function I4(c,h,p,y,N){p=p.render;var _=h.ref;if("ref"in y){var O={};for(var V in y)V!=="ref"&&(O[V]=y[V])}else O=y;return Cc(h),y=vw(c,h,p,O,_,N),V=yw(),c!==null&&!gs?(bw(c,h,N),ho(c,h,N)):(Kt&&V&&Q1(h),h.flags|=1,Gs(c,h,y,N),h.child)}function L4(c,h,p,y,N){if(c===null){var _=p.type;return typeof _=="function"&&!Y1(_)&&_.defaultProps===void 0&&p.compare===null?(h.tag=15,h.type=_,$4(c,h,_,y,N)):(c=Jg(p.type,null,y,h,h.mode,N),c.ref=h.ref,c.return=h,h.child=c)}if(_=c.child,!qw(c,N)){var O=_.memoizedProps;if(p=p.compare,p=p!==null?p:jf,p(O,y)&&c.ref===h.ref)return ho(c,h,N)}return h.flags|=1,c=io(_,y),c.ref=h.ref,c.return=h,h.child=c}function $4(c,h,p,y,N){if(c!==null){var _=c.memoizedProps;if(jf(_,y)&&c.ref===h.ref)if(gs=!1,h.pendingProps=y=_,qw(c,N))(c.flags&131072)!==0&&(gs=!0);else return h.lanes=c.lanes,ho(c,h,N)}return Lw(c,h,p,y,N)}function V4(c,h,p,y){var N=y.children,_=c!==null?c.memoizedState:null;if(c===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((h.flags&128)!==0){if(_=_!==null?_.baseLanes|p:p,c!==null){for(y=h.child=c.child,N=0;y!==null;)N=N|y.lanes|y.childLanes,y=y.sibling;y=N&~_}else y=0,h.child=null;return B4(c,h,_,p,y)}if((p&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&tx(h,_!==null?_.cachePool:null),_!==null?U5(h,_):mw(),H5(h);else return y=h.lanes=536870912,B4(c,h,_!==null?_.baseLanes|p:p,p,y)}else _!==null?(tx(h,_.cachePool),U5(h,_),il(),h.memoizedState=null):(c!==null&&tx(h,null),mw(),il());return Gs(c,h,N,p),h.child}function If(c,h){return c!==null&&c.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function B4(c,h,p,y,N){var _=lw();return _=_===null?null:{parent:ms._currentValue,pool:_},h.memoizedState={baseLanes:p,cachePool:_},c!==null&&tx(h,null),mw(),H5(h),c!==null&&od(c,h,y,!0),h.childLanes=N,null}function xx(c,h){return h=yx({mode:h.mode,children:h.children},c.mode),h.ref=c.ref,c.child=h,h.return=c,h}function F4(c,h,p){return Mc(h,c.child,null,p),c=xx(h,h.pendingProps),c.flags|=2,Yr(h),h.memoizedState=null,c}function UW(c,h,p){var y=h.pendingProps,N=(h.flags&128)!==0;if(h.flags&=-129,c===null){if(Kt){if(y.mode==="hidden")return c=xx(h,y),h.lanes=536870912,If(null,c);if(gw(h),(c=Mn)?(c=eM(c,bi),c=c!==null&&c.data==="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Jo!==null?{id:ka,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},p=S5(c),p.return=h,h.child=p,Ws=h,Mn=null)):c=null,c===null)throw Qo(h);return h.lanes=536870912,null}return xx(h,y)}var _=c.memoizedState;if(_!==null){var O=_.dehydrated;if(gw(h),N)if(h.flags&256)h.flags&=-257,h=F4(c,h,p);else if(h.memoizedState!==null)h.child=c.child,h.flags|=128,h=null;else throw Error(s(558));else if(gs||od(c,h,p,!1),N=(p&c.childLanes)!==0,gs||N){if(y=Sn,y!==null&&(O=Dn(y,p),O!==0&&O!==_.retryLane))throw _.retryLane=O,kc(c,O),Dr(y,c,O),Iw;Ex(),h=F4(c,h,p)}else c=_.treeContext,Mn=ji(O.nextSibling),Ws=h,Kt=!0,Xo=null,bi=!1,c!==null&&E5(h,c),h=xx(h,y),h.flags|=4096;return h}return c=io(c.child,{mode:y.mode,children:y.children}),c.ref=h.ref,h.child=c,c.return=h,c}function vx(c,h){var p=h.ref;if(p===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(s(284));(c===null||c.ref!==p)&&(h.flags|=4194816)}}function Lw(c,h,p,y,N){return Cc(h),p=vw(c,h,p,y,void 0,N),y=yw(),c!==null&&!gs?(bw(c,h,N),ho(c,h,N)):(Kt&&y&&Q1(h),h.flags|=1,Gs(c,h,p,N),h.child)}function U4(c,h,p,y,N,_){return Cc(h),h.updateQueue=null,p=Z5(h,y,p,N),q5(c),y=yw(),c!==null&&!gs?(bw(c,h,_),ho(c,h,_)):(Kt&&y&&Q1(h),h.flags|=1,Gs(c,h,p,_),h.child)}function H4(c,h,p,y,N){if(Cc(h),h.stateNode===null){var _=sd,O=p.contextType;typeof O=="object"&&O!==null&&(_=Ks(O)),_=new p(y,_),h.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Dw,h.stateNode=_,_._reactInternals=h,_=h.stateNode,_.props=y,_.state=h.memoizedState,_.refs={},uw(h),O=p.contextType,_.context=typeof O=="object"&&O!==null?Ks(O):sd,_.state=h.memoizedState,O=p.getDerivedStateFromProps,typeof O=="function"&&(Ow(h,p,O,y),_.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&Dw.enqueueReplaceState(_,_.state,null),Af(h,y,_,N),Mf(),_.state=h.memoizedState),typeof _.componentDidMount=="function"&&(h.flags|=4194308),y=!0}else if(c===null){_=h.stateNode;var V=h.memoizedProps,te=Rc(p,V);_.props=te;var ge=_.context,je=p.contextType;O=sd,typeof je=="object"&&je!==null&&(O=Ks(je));var _e=p.getDerivedStateFromProps;je=typeof _e=="function"||typeof _.getSnapshotBeforeUpdate=="function",V=h.pendingProps!==V,je||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(V||ge!==O)&&z4(h,_,y,O),tl=!1;var ve=h.memoizedState;_.state=ve,Af(h,y,_,N),Mf(),ge=h.memoizedState,V||ve!==ge||tl?(typeof _e=="function"&&(Ow(h,p,_e,y),ge=h.memoizedState),(te=tl||T4(h,p,te,y,ve,ge,O))?(je||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(h.flags|=4194308)):(typeof _.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=ge),_.props=y,_.state=ge,_.context=O,y=te):(typeof _.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{_=h.stateNode,dw(c,h),O=h.memoizedProps,je=Rc(p,O),_.props=je,_e=h.pendingProps,ve=_.context,ge=p.contextType,te=sd,typeof ge=="object"&&ge!==null&&(te=Ks(ge)),V=p.getDerivedStateFromProps,(ge=typeof V=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==_e||ve!==te)&&z4(h,_,y,te),tl=!1,ve=h.memoizedState,_.state=ve,Af(h,y,_,N),Mf();var ye=h.memoizedState;O!==_e||ve!==ye||tl||c!==null&&c.dependencies!==null&&Qg(c.dependencies)?(typeof V=="function"&&(Ow(h,p,V,y),ye=h.memoizedState),(je=tl||T4(h,p,je,y,ve,ye,te)||c!==null&&c.dependencies!==null&&Qg(c.dependencies))?(ge||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(y,ye,te),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(y,ye,te)),typeof _.componentDidUpdate=="function"&&(h.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===c.memoizedProps&&ve===c.memoizedState||(h.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===c.memoizedProps&&ve===c.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=ye),_.props=y,_.state=ye,_.context=te,y=je):(typeof _.componentDidUpdate!="function"||O===c.memoizedProps&&ve===c.memoizedState||(h.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===c.memoizedProps&&ve===c.memoizedState||(h.flags|=1024),y=!1)}return _=y,vx(c,h),y=(h.flags&128)!==0,_||y?(_=h.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:_.render(),h.flags|=1,c!==null&&y?(h.child=Mc(h,c.child,null,N),h.child=Mc(h,null,p,N)):Gs(c,h,p,N),h.memoizedState=_.state,c=h.child):c=ho(c,h,N),c}function q4(c,h,p,y){return Sc(),h.flags|=256,Gs(c,h,p,y),h.child}var $w={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vw(c){return{baseLanes:c,cachePool:O5()}}function Bw(c,h,p){return c=c!==null?c.childLanes&~p:0,h&&(c|=Xr),c}function Z4(c,h,p){var y=h.pendingProps,N=!1,_=(h.flags&128)!==0,O;if((O=_)||(O=c!==null&&c.memoizedState===null?!1:(cs.current&2)!==0),O&&(N=!0,h.flags&=-129),O=(h.flags&32)!==0,h.flags&=-33,c===null){if(Kt){if(N?rl(h):il(),(c=Mn)?(c=eM(c,bi),c=c!==null&&c.data!=="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Jo!==null?{id:ka,overflow:Na}:null,retryLane:536870912,hydrationErrors:null},p=S5(c),p.return=h,h.child=p,Ws=h,Mn=null)):c=null,c===null)throw Qo(h);return kj(c)?h.lanes=32:h.lanes=536870912,null}var V=y.children;return y=y.fallback,N?(il(),N=h.mode,V=yx({mode:"hidden",children:V},N),y=Nc(y,N,p,null),V.return=h,y.return=h,V.sibling=y,h.child=V,y=h.child,y.memoizedState=Vw(p),y.childLanes=Bw(c,O,p),h.memoizedState=$w,If(null,y)):(rl(h),Fw(h,V))}var te=c.memoizedState;if(te!==null&&(V=te.dehydrated,V!==null)){if(_)h.flags&256?(rl(h),h.flags&=-257,h=Uw(c,h,p)):h.memoizedState!==null?(il(),h.child=c.child,h.flags|=128,h=null):(il(),V=y.fallback,N=h.mode,y=yx({mode:"visible",children:y.children},N),V=Nc(V,N,p,null),V.flags|=2,y.return=h,V.return=h,y.sibling=V,h.child=y,Mc(h,c.child,null,p),y=h.child,y.memoizedState=Vw(p),y.childLanes=Bw(c,O,p),h.memoizedState=$w,h=If(null,y));else if(rl(h),kj(V)){if(O=V.nextSibling&&V.nextSibling.dataset,O)var ge=O.dgst;O=ge,y=Error(s(419)),y.stack="",y.digest=O,Sf({value:y,source:null,stack:null}),h=Uw(c,h,p)}else if(gs||od(c,h,p,!1),O=(p&c.childLanes)!==0,gs||O){if(O=Sn,O!==null&&(y=Dn(O,p),y!==0&&y!==te.retryLane))throw te.retryLane=y,kc(c,y),Dr(O,c,y),Iw;jj(V)||Ex(),h=Uw(c,h,p)}else jj(V)?(h.flags|=192,h.child=c.child,h=null):(c=te.treeContext,Mn=ji(V.nextSibling),Ws=h,Kt=!0,Xo=null,bi=!1,c!==null&&E5(h,c),h=Fw(h,y.children),h.flags|=4096);return h}return N?(il(),V=y.fallback,N=h.mode,te=c.child,ge=te.sibling,y=io(te,{mode:"hidden",children:y.children}),y.subtreeFlags=te.subtreeFlags&65011712,ge!==null?V=io(ge,V):(V=Nc(V,N,p,null),V.flags|=2),V.return=h,y.return=h,y.sibling=V,h.child=y,If(null,y),y=h.child,V=c.child.memoizedState,V===null?V=Vw(p):(N=V.cachePool,N!==null?(te=ms._currentValue,N=N.parent!==te?{parent:te,pool:te}:N):N=O5(),V={baseLanes:V.baseLanes|p,cachePool:N}),y.memoizedState=V,y.childLanes=Bw(c,O,p),h.memoizedState=$w,If(c.child,y)):(rl(h),p=c.child,c=p.sibling,p=io(p,{mode:"visible",children:y.children}),p.return=h,p.sibling=null,c!==null&&(O=h.deletions,O===null?(h.deletions=[c],h.flags|=16):O.push(c)),h.child=p,h.memoizedState=null,p)}function Fw(c,h){return h=yx({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function yx(c,h){return c=Kr(22,c,null,h),c.lanes=0,c}function Uw(c,h,p){return Mc(h,c.child,null,p),c=Fw(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function W4(c,h,p){c.lanes|=h;var y=c.alternate;y!==null&&(y.lanes|=h),rw(c.return,h,p)}function Hw(c,h,p,y,N,_){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:N,treeForkCount:_}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=p,O.tailMode=N,O.treeForkCount=_)}function K4(c,h,p){var y=h.pendingProps,N=y.revealOrder,_=y.tail;y=y.children;var O=cs.current,V=(O&2)!==0;if(V?(O=O&1|2,h.flags|=128):O&=1,K(cs,O),Gs(c,h,y,p),y=Kt?Nf:0,!V&&c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&W4(c,p,h);else if(c.tag===19)W4(c,p,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(N){case"forwards":for(p=h.child,N=null;p!==null;)c=p.alternate,c!==null&&ox(c)===null&&(N=p),p=p.sibling;p=N,p===null?(N=h.child,h.child=null):(N=p.sibling,p.sibling=null),Hw(h,!1,N,p,_,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,N=h.child,h.child=null;N!==null;){if(c=N.alternate,c!==null&&ox(c)===null){h.child=N;break}c=N.sibling,N.sibling=p,p=N,N=c}Hw(h,!0,p,null,_,y);break;case"together":Hw(h,!1,null,null,void 0,y);break;default:h.memoizedState=null}return h.child}function ho(c,h,p){if(c!==null&&(h.dependencies=c.dependencies),ll|=h.lanes,(p&h.childLanes)===0)if(c!==null){if(od(c,h,p,!1),(p&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(s(153));if(h.child!==null){for(c=h.child,p=io(c,c.pendingProps),h.child=p,p.return=h;c.sibling!==null;)c=c.sibling,p=p.sibling=io(c,c.pendingProps),p.return=h;p.sibling=null}return h.child}function qw(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&Qg(c)))}function HW(c,h,p){switch(h.tag){case 3:le(h,h.stateNode.containerInfo),el(h,ms,c.memoizedState.cache),Sc();break;case 27:case 5:be(h);break;case 4:le(h,h.stateNode.containerInfo);break;case 10:el(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,gw(h),null;break;case 13:var y=h.memoizedState;if(y!==null)return y.dehydrated!==null?(rl(h),h.flags|=128,null):(p&h.child.childLanes)!==0?Z4(c,h,p):(rl(h),c=ho(c,h,p),c!==null?c.sibling:null);rl(h);break;case 19:var N=(c.flags&128)!==0;if(y=(p&h.childLanes)!==0,y||(od(c,h,p,!1),y=(p&h.childLanes)!==0),N){if(y)return K4(c,h,p);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),K(cs,cs.current),y)break;return null;case 22:return h.lanes=0,V4(c,h,p,h.pendingProps);case 24:el(h,ms,c.memoizedState.cache)}return ho(c,h,p)}function G4(c,h,p){if(c!==null)if(c.memoizedProps!==h.pendingProps)gs=!0;else{if(!qw(c,p)&&(h.flags&128)===0)return gs=!1,HW(c,h,p);gs=(c.flags&131072)!==0}else gs=!1,Kt&&(h.flags&1048576)!==0&&C5(h,Nf,h.index);switch(h.lanes=0,h.tag){case 16:e:{var y=h.pendingProps;if(c=Tc(h.elementType),h.type=c,typeof c=="function")Y1(c)?(y=Rc(c,y),h.tag=1,h=H4(null,h,c,y,p)):(h.tag=0,h=Lw(null,h,c,y,p));else{if(c!=null){var N=c.$$typeof;if(N===E){h.tag=11,h=I4(null,h,c,y,p);break e}else if(N===z){h.tag=14,h=L4(null,h,c,y,p);break e}}throw h=F(c)||c,Error(s(306,h,""))}}return h;case 0:return Lw(c,h,h.type,h.pendingProps,p);case 1:return y=h.type,N=Rc(y,h.pendingProps),H4(c,h,y,N,p);case 3:e:{if(le(h,h.stateNode.containerInfo),c===null)throw Error(s(387));y=h.pendingProps;var _=h.memoizedState;N=_.element,dw(c,h),Af(h,y,null,p);var O=h.memoizedState;if(y=O.cache,el(h,ms,y),y!==_.cache&&iw(h,[ms],p,!0),Mf(),y=O.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:O.cache},h.updateQueue.baseState=_,h.memoizedState=_,h.flags&256){h=q4(c,h,y,p);break e}else if(y!==N){N=xi(Error(s(424)),h),Sf(N),h=q4(c,h,y,p);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Mn=ji(c.firstChild),Ws=h,Kt=!0,Xo=null,bi=!0,p=V5(h,null,y,p),h.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Sc(),y===N){h=ho(c,h,p);break e}Gs(c,h,y,p)}h=h.child}return h;case 26:return vx(c,h),c===null?(p=aM(h.type,null,h.pendingProps,null))?h.memoizedState=p:Kt||(p=h.type,c=h.pendingProps,y=Dx(ue.current).createElement(p),y[Zs]=h,y[Tr]=c,Ys(y,p,c),Ds(y),h.stateNode=y):h.memoizedState=aM(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return be(h),c===null&&Kt&&(y=h.stateNode=sM(h.type,h.pendingProps,ue.current),Ws=h,bi=!0,N=Mn,fl(h.type)?(Nj=N,Mn=ji(y.firstChild)):Mn=N),Gs(c,h,h.pendingProps.children,p),vx(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&Kt&&((N=y=Mn)&&(y=bK(y,h.type,h.pendingProps,bi),y!==null?(h.stateNode=y,Ws=h,Mn=ji(y.firstChild),bi=!1,N=!0):N=!1),N||Qo(h)),be(h),N=h.type,_=h.pendingProps,O=c!==null?c.memoizedProps:null,y=_.children,yj(N,_)?y=null:O!==null&&yj(N,O)&&(h.flags|=32),h.memoizedState!==null&&(N=vw(c,h,DW,null,null,p),Xf._currentValue=N),vx(c,h),Gs(c,h,y,p),h.child;case 6:return c===null&&Kt&&((c=p=Mn)&&(p=wK(p,h.pendingProps,bi),p!==null?(h.stateNode=p,Ws=h,Mn=null,c=!0):c=!1),c||Qo(h)),null;case 13:return Z4(c,h,p);case 4:return le(h,h.stateNode.containerInfo),y=h.pendingProps,c===null?h.child=Mc(h,null,y,p):Gs(c,h,y,p),h.child;case 11:return I4(c,h,h.type,h.pendingProps,p);case 7:return Gs(c,h,h.pendingProps,p),h.child;case 8:return Gs(c,h,h.pendingProps.children,p),h.child;case 12:return Gs(c,h,h.pendingProps.children,p),h.child;case 10:return y=h.pendingProps,el(h,h.type,y.value),Gs(c,h,y.children,p),h.child;case 9:return N=h.type._context,y=h.pendingProps.children,Cc(h),N=Ks(N),y=y(N),h.flags|=1,Gs(c,h,y,p),h.child;case 14:return L4(c,h,h.type,h.pendingProps,p);case 15:return $4(c,h,h.type,h.pendingProps,p);case 19:return K4(c,h,p);case 31:return UW(c,h,p);case 22:return V4(c,h,p,h.pendingProps);case 24:return Cc(h),y=Ks(ms),c===null?(N=lw(),N===null&&(N=Sn,_=aw(),N.pooledCache=_,_.refCount++,_!==null&&(N.pooledCacheLanes|=p),N=_),h.memoizedState={parent:y,cache:N},uw(h),el(h,ms,N)):((c.lanes&p)!==0&&(dw(c,h),Af(h,null,null,p),Mf()),N=c.memoizedState,_=h.memoizedState,N.parent!==y?(N={parent:y,cache:y},h.memoizedState=N,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=N),el(h,ms,y)):(y=_.cache,el(h,ms,y),y!==N.cache&&iw(h,[ms],p,!0))),Gs(c,h,h.pendingProps.children,p),h.child;case 29:throw h.pendingProps}throw Error(s(156,h.tag))}function fo(c){c.flags|=4}function Zw(c,h,p,y,N){if((h=(c.mode&32)!==0)&&(h=!1),h){if(c.flags|=16777216,(N&335544128)===N)if(c.stateNode.complete)c.flags|=8192;else if(jz())c.flags|=8192;else throw zc=sx,cw}else c.flags&=-16777217}function Y4(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!dM(h))if(jz())c.flags|=8192;else throw zc=sx,cw}function bx(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?Tt():536870912,c.lanes|=h,yd|=h)}function Lf(c,h){if(!Kt)switch(c.tailMode){case"hidden":h=c.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function An(c){var h=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(h)for(var N=c.child;N!==null;)p|=N.lanes|N.childLanes,y|=N.subtreeFlags&65011712,y|=N.flags&65011712,N.return=c,N=N.sibling;else for(N=c.child;N!==null;)p|=N.lanes|N.childLanes,y|=N.subtreeFlags,y|=N.flags,N.return=c,N=N.sibling;return c.subtreeFlags|=y,c.childLanes=p,h}function qW(c,h,p){var y=h.pendingProps;switch(ew(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return An(h),null;case 1:return An(h),null;case 3:return p=h.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),lo(ms),he(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(ad(h)?fo(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,nw())),An(h),null;case 26:var N=h.type,_=h.memoizedState;return c===null?(fo(h),_!==null?(An(h),Y4(h,_)):(An(h),Zw(h,N,null,y,p))):_?_!==c.memoizedState?(fo(h),An(h),Y4(h,_)):(An(h),h.flags&=-16777217):(c=c.memoizedProps,c!==y&&fo(h),An(h),Zw(h,N,c,y,p)),null;case 27:if(we(h),p=ue.current,N=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&fo(h);else{if(!y){if(h.stateNode===null)throw Error(s(166));return An(h),null}c=ne.current,ad(h)?T5(h):(c=sM(N,y,p),h.stateNode=c,fo(h))}return An(h),null;case 5:if(we(h),N=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&fo(h);else{if(!y){if(h.stateNode===null)throw Error(s(166));return An(h),null}if(_=ne.current,ad(h))T5(h);else{var O=Dx(ue.current);switch(_){case 1:_=O.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:_=O.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":_=O.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":_=O.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":_=O.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof y.is=="string"?O.createElement("select",{is:y.is}):O.createElement("select"),y.multiple?_.multiple=!0:y.size&&(_.size=y.size);break;default:_=typeof y.is=="string"?O.createElement(N,{is:y.is}):O.createElement(N)}}_[Zs]=h,_[Tr]=y;e:for(O=h.child;O!==null;){if(O.tag===5||O.tag===6)_.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===h)break e;for(;O.sibling===null;){if(O.return===null||O.return===h)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}h.stateNode=_;e:switch(Ys(_,N,y),N){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&fo(h)}}return An(h),Zw(h,h.type,c===null?null:c.memoizedProps,h.pendingProps,p),null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==y&&fo(h);else{if(typeof y!="string"&&h.stateNode===null)throw Error(s(166));if(c=ue.current,ad(h)){if(c=h.stateNode,p=h.memoizedProps,y=null,N=Ws,N!==null)switch(N.tag){case 27:case 5:y=N.memoizedProps}c[Zs]=h,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||Zz(c.nodeValue,p)),c||Qo(h,!0)}else c=Dx(c).createTextNode(y),c[Zs]=h,h.stateNode=c}return An(h),null;case 31:if(p=h.memoizedState,c===null||c.memoizedState!==null){if(y=ad(h),p!==null){if(c===null){if(!y)throw Error(s(318));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(557));c[Zs]=h}else Sc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;An(h),c=!1}else p=nw(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return h.flags&256?(Yr(h),h):(Yr(h),null);if((h.flags&128)!==0)throw Error(s(558))}return An(h),null;case 13:if(y=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(N=ad(h),y!==null&&y.dehydrated!==null){if(c===null){if(!N)throw Error(s(318));if(N=h.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(s(317));N[Zs]=h}else Sc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;An(h),N=!1}else N=nw(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=N),N=!0;if(!N)return h.flags&256?(Yr(h),h):(Yr(h),null)}return Yr(h),(h.flags&128)!==0?(h.lanes=p,h):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=h.child,N=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(N=y.alternate.memoizedState.cachePool.pool),_=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(_=y.memoizedState.cachePool.pool),_!==N&&(y.flags|=2048)),p!==c&&p&&(h.child.flags|=8192),bx(h,h.updateQueue),An(h),null);case 4:return he(),c===null&&mj(h.stateNode.containerInfo),An(h),null;case 10:return lo(h.type),An(h),null;case 19:if(H(cs),y=h.memoizedState,y===null)return An(h),null;if(N=(h.flags&128)!==0,_=y.rendering,_===null)if(N)Lf(y,!1);else{if(Yn!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(_=ox(c),_!==null){for(h.flags|=128,Lf(y,!1),c=_.updateQueue,h.updateQueue=c,bx(h,c),h.subtreeFlags=0,c=p,p=h.child;p!==null;)N5(p,c),p=p.sibling;return K(cs,cs.current&1|2),Kt&&ao(h,y.treeForkCount),h.child}c=c.sibling}y.tail!==null&&ze()>Sx&&(h.flags|=128,N=!0,Lf(y,!1),h.lanes=4194304)}else{if(!N)if(c=ox(_),c!==null){if(h.flags|=128,N=!0,c=c.updateQueue,h.updateQueue=c,bx(h,c),Lf(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!Kt)return An(h),null}else 2*ze()-y.renderingStartTime>Sx&&p!==536870912&&(h.flags|=128,N=!0,Lf(y,!1),h.lanes=4194304);y.isBackwards?(_.sibling=h.child,h.child=_):(c=y.last,c!==null?c.sibling=_:h.child=_,y.last=_)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=ze(),c.sibling=null,p=cs.current,K(cs,N?p&1|2:p&1),Kt&&ao(h,y.treeForkCount),c):(An(h),null);case 22:case 23:return Yr(h),pw(),y=h.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(h.flags|=8192):y&&(h.flags|=8192),y?(p&536870912)!==0&&(h.flags&128)===0&&(An(h),h.subtreeFlags&6&&(h.flags|=8192)):An(h),p=h.updateQueue,p!==null&&bx(h,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048),c!==null&&H(Ec),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),h.memoizedState.cache!==p&&(h.flags|=2048),lo(ms),An(h),null;case 25:return null;case 30:return null}throw Error(s(156,h.tag))}function ZW(c,h){switch(ew(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return lo(ms),he(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return we(h),null;case 31:if(h.memoizedState!==null){if(Yr(h),h.alternate===null)throw Error(s(340));Sc()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 13:if(Yr(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(s(340));Sc()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return H(cs),null;case 4:return he(),null;case 10:return lo(h.type),null;case 22:case 23:return Yr(h),pw(),c!==null&&H(Ec),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return lo(ms),null;case 25:return null;default:return null}}function J4(c,h){switch(ew(h),h.tag){case 3:lo(ms),he();break;case 26:case 27:case 5:we(h);break;case 4:he();break;case 31:h.memoizedState!==null&&Yr(h);break;case 13:Yr(h);break;case 19:H(cs);break;case 10:lo(h.type);break;case 22:case 23:Yr(h),pw(),c!==null&&H(Ec);break;case 24:lo(ms)}}function $f(c,h){try{var p=h.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var N=y.next;p=N;do{if((p.tag&c)===c){y=void 0;var _=p.create,O=p.inst;y=_(),O.destroy=y}p=p.next}while(p!==N)}}catch(V){dn(h,h.return,V)}}function al(c,h,p){try{var y=h.updateQueue,N=y!==null?y.lastEffect:null;if(N!==null){var _=N.next;y=_;do{if((y.tag&c)===c){var O=y.inst,V=O.destroy;if(V!==void 0){O.destroy=void 0,N=h;var te=p,ge=V;try{ge()}catch(je){dn(N,te,je)}}}y=y.next}while(y!==_)}}catch(je){dn(h,h.return,je)}}function X4(c){var h=c.updateQueue;if(h!==null){var p=c.stateNode;try{F5(h,p)}catch(y){dn(c,c.return,y)}}}function Q4(c,h,p){p.props=Rc(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){dn(c,h,y)}}function Vf(c,h){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(N){dn(c,h,N)}}function Sa(c,h){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(N){dn(c,h,N)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(N){dn(c,h,N)}else p.current=null}function ez(c){var h=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(N){dn(c,c.return,N)}}function Ww(c,h,p){try{var y=c.stateNode;mK(y,c.type,p,h),y[Tr]=h}catch(N){dn(c,c.return,N)}}function tz(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&fl(c.type)||c.tag===4}function Kw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||tz(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&fl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Gw(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,h):(h=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,h.appendChild(c),p=p._reactRootContainer,p!=null||h.onclick!==null||(h.onclick=so));else if(y!==4&&(y===27&&fl(c.type)&&(p=c.stateNode,h=null),c=c.child,c!==null))for(Gw(c,h,p),c=c.sibling;c!==null;)Gw(c,h,p),c=c.sibling}function wx(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?p.insertBefore(c,h):p.appendChild(c);else if(y!==4&&(y===27&&fl(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(wx(c,h,p),c=c.sibling;c!==null;)wx(c,h,p),c=c.sibling}function nz(c){var h=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,N=h.attributes;N.length;)h.removeAttributeNode(N[0]);Ys(h,y,p),h[Zs]=c,h[Tr]=p}catch(_){dn(c,c.return,_)}}var mo=!1,xs=!1,Yw=!1,sz=typeof WeakSet=="function"?WeakSet:Set,Ps=null;function WW(c,h){if(c=c.containerInfo,xj=Fx,c=p5(c),U1(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var N=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{p.nodeType,_.nodeType}catch{p=null;break e}var O=0,V=-1,te=-1,ge=0,je=0,_e=c,ve=null;t:for(;;){for(var ye;_e!==p||N!==0&&_e.nodeType!==3||(V=O+N),_e!==_||y!==0&&_e.nodeType!==3||(te=O+y),_e.nodeType===3&&(O+=_e.nodeValue.length),(ye=_e.firstChild)!==null;)ve=_e,_e=ye;for(;;){if(_e===c)break t;if(ve===p&&++ge===N&&(V=O),ve===_&&++je===y&&(te=O),(ye=_e.nextSibling)!==null)break;_e=ve,ve=_e.parentNode}_e=ye}p=V===-1||te===-1?null:{start:V,end:te}}else p=null}p=p||{start:0,end:0}}else p=null;for(vj={focusedElem:c,selectionRange:p},Fx=!1,Ps=h;Ps!==null;)if(h=Ps,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,Ps=c;else for(;Ps!==null;){switch(h=Ps,_=h.alternate,c=h.flags,h.tag){case 0:if((c&4)!==0&&(c=h.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)N=c[p],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&_!==null){c=void 0,p=h,N=_.memoizedProps,_=_.memoizedState,y=p.stateNode;try{var et=Rc(p.type,N);c=y.getSnapshotBeforeUpdate(et,_),y.__reactInternalSnapshotBeforeUpdate=c}catch(vt){dn(p,p.return,vt)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,p=c.nodeType,p===9)wj(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":wj(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(s(163))}if(c=h.sibling,c!==null){c.return=h.return,Ps=c;break}Ps=h.return}}function rz(c,h,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:go(c,p),y&4&&$f(5,p);break;case 1:if(go(c,p),y&4)if(c=p.stateNode,h===null)try{c.componentDidMount()}catch(O){dn(p,p.return,O)}else{var N=Rc(p.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(N,h,c.__reactInternalSnapshotBeforeUpdate)}catch(O){dn(p,p.return,O)}}y&64&&X4(p),y&512&&Vf(p,p.return);break;case 3:if(go(c,p),y&64&&(c=p.updateQueue,c!==null)){if(h=null,p.child!==null)switch(p.child.tag){case 27:case 5:h=p.child.stateNode;break;case 1:h=p.child.stateNode}try{F5(c,h)}catch(O){dn(p,p.return,O)}}break;case 27:h===null&&y&4&&nz(p);case 26:case 5:go(c,p),h===null&&y&4&&ez(p),y&512&&Vf(p,p.return);break;case 12:go(c,p);break;case 31:go(c,p),y&4&&oz(c,p);break;case 13:go(c,p),y&4&&lz(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=nK.bind(null,p),jK(c,p))));break;case 22:if(y=p.memoizedState!==null||mo,!y){h=h!==null&&h.memoizedState!==null||xs,N=mo;var _=xs;mo=y,(xs=h)&&!_?xo(c,p,(p.subtreeFlags&8772)!==0):go(c,p),mo=N,xs=_}break;case 30:break;default:go(c,p)}}function iz(c){var h=c.alternate;h!==null&&(c.alternate=null,iz(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&_1(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Pn=null,Mr=!1;function po(c,h,p){for(p=p.child;p!==null;)az(c,h,p),p=p.sibling}function az(c,h,p){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(mt,p)}catch{}switch(p.tag){case 26:xs||Sa(p,h),po(c,h,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:xs||Sa(p,h);var y=Pn,N=Mr;fl(p.type)&&(Pn=p.stateNode,Mr=!1),po(c,h,p),Gf(p.stateNode),Pn=y,Mr=N;break;case 5:xs||Sa(p,h);case 6:if(y=Pn,N=Mr,Pn=null,po(c,h,p),Pn=y,Mr=N,Pn!==null)if(Mr)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(p.stateNode)}catch(_){dn(p,h,_)}else try{Pn.removeChild(p.stateNode)}catch(_){dn(p,h,_)}break;case 18:Pn!==null&&(Mr?(c=Pn,Xz(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),Cd(c)):Xz(Pn,p.stateNode));break;case 4:y=Pn,N=Mr,Pn=p.stateNode.containerInfo,Mr=!0,po(c,h,p),Pn=y,Mr=N;break;case 0:case 11:case 14:case 15:al(2,p,h),xs||al(4,p,h),po(c,h,p);break;case 1:xs||(Sa(p,h),y=p.stateNode,typeof y.componentWillUnmount=="function"&&Q4(p,h,y)),po(c,h,p);break;case 21:po(c,h,p);break;case 22:xs=(y=xs)||p.memoizedState!==null,po(c,h,p),xs=y;break;default:po(c,h,p)}}function oz(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Cd(c)}catch(p){dn(h,h.return,p)}}}function lz(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Cd(c)}catch(p){dn(h,h.return,p)}}function KW(c){switch(c.tag){case 31:case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new sz),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new sz),h;default:throw Error(s(435,c.tag))}}function jx(c,h){var p=KW(c);h.forEach(function(y){if(!p.has(y)){p.add(y);var N=sK.bind(null,c,y);y.then(N,N)}})}function Ar(c,h){var p=h.deletions;if(p!==null)for(var y=0;y<p.length;y++){var N=p[y],_=c,O=h,V=O;e:for(;V!==null;){switch(V.tag){case 27:if(fl(V.type)){Pn=V.stateNode,Mr=!1;break e}break;case 5:Pn=V.stateNode,Mr=!1;break e;case 3:case 4:Pn=V.stateNode.containerInfo,Mr=!0;break e}V=V.return}if(Pn===null)throw Error(s(160));az(_,O,N),Pn=null,Mr=!1,_=N.alternate,_!==null&&(_.return=null),N.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)cz(h,c),h=h.sibling}var Ki=null;function cz(c,h){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ar(h,c),Rr(c),y&4&&(al(3,c,c.return),$f(3,c),al(5,c,c.return));break;case 1:Ar(h,c),Rr(c),y&512&&(xs||p===null||Sa(p,p.return)),y&64&&mo&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var N=Ki;if(Ar(h,c),Rr(c),y&512&&(xs||p===null||Sa(p,p.return)),y&4){var _=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,N=N.ownerDocument||N;t:switch(y){case"title":_=N.getElementsByTagName("title")[0],(!_||_[ff]||_[Zs]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=N.createElement(y),N.head.insertBefore(_,N.querySelector("head > title"))),Ys(_,y,p),_[Zs]=c,Ds(_),y=_;break e;case"link":var O=cM("link","href",N).get(y+(p.href||""));if(O){for(var V=0;V<O.length;V++)if(_=O[V],_.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&_.getAttribute("rel")===(p.rel==null?null:p.rel)&&_.getAttribute("title")===(p.title==null?null:p.title)&&_.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){O.splice(V,1);break t}}_=N.createElement(y),Ys(_,y,p),N.head.appendChild(_);break;case"meta":if(O=cM("meta","content",N).get(y+(p.content||""))){for(V=0;V<O.length;V++)if(_=O[V],_.getAttribute("content")===(p.content==null?null:""+p.content)&&_.getAttribute("name")===(p.name==null?null:p.name)&&_.getAttribute("property")===(p.property==null?null:p.property)&&_.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&_.getAttribute("charset")===(p.charSet==null?null:p.charSet)){O.splice(V,1);break t}}_=N.createElement(y),Ys(_,y,p),N.head.appendChild(_);break;default:throw Error(s(468,y))}_[Zs]=c,Ds(_),y=_}c.stateNode=y}else uM(N,c.type,c.stateNode);else c.stateNode=lM(N,y,c.memoizedProps);else _!==y?(_===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):_.count--,y===null?uM(N,c.type,c.stateNode):lM(N,y,c.memoizedProps)):y===null&&c.stateNode!==null&&Ww(c,c.memoizedProps,p.memoizedProps)}break;case 27:Ar(h,c),Rr(c),y&512&&(xs||p===null||Sa(p,p.return)),p!==null&&y&4&&Ww(c,c.memoizedProps,p.memoizedProps);break;case 5:if(Ar(h,c),Rr(c),y&512&&(xs||p===null||Sa(p,p.return)),c.flags&32){N=c.stateNode;try{Yu(N,"")}catch(et){dn(c,c.return,et)}}y&4&&c.stateNode!=null&&(N=c.memoizedProps,Ww(c,N,p!==null?p.memoizedProps:N)),y&1024&&(Yw=!0);break;case 6:if(Ar(h,c),Rr(c),y&4){if(c.stateNode===null)throw Error(s(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(et){dn(c,c.return,et)}}break;case 3:if(Lx=null,N=Ki,Ki=Px(h.containerInfo),Ar(h,c),Ki=N,Rr(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Cd(h.containerInfo)}catch(et){dn(c,c.return,et)}Yw&&(Yw=!1,uz(c));break;case 4:y=Ki,Ki=Px(c.stateNode.containerInfo),Ar(h,c),Rr(c),Ki=y;break;case 12:Ar(h,c),Rr(c);break;case 31:Ar(h,c),Rr(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,jx(c,y)));break;case 13:Ar(h,c),Rr(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Nx=ze()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,jx(c,y)));break;case 22:N=c.memoizedState!==null;var te=p!==null&&p.memoizedState!==null,ge=mo,je=xs;if(mo=ge||N,xs=je||te,Ar(h,c),xs=je,mo=ge,Rr(c),y&8192)e:for(h=c.stateNode,h._visibility=N?h._visibility&-2:h._visibility|1,N&&(p===null||te||mo||xs||Oc(c)),p=null,h=c;;){if(h.tag===5||h.tag===26){if(p===null){te=p=h;try{if(_=te.stateNode,N)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{V=te.stateNode;var _e=te.memoizedProps.style,ve=_e!=null&&_e.hasOwnProperty("display")?_e.display:null;V.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(et){dn(te,te.return,et)}}}else if(h.tag===6){if(p===null){te=h;try{te.stateNode.nodeValue=N?"":te.memoizedProps}catch(et){dn(te,te.return,et)}}}else if(h.tag===18){if(p===null){te=h;try{var ye=te.stateNode;N?Qz(ye,!0):Qz(te.stateNode,!1)}catch(et){dn(te,te.return,et)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,jx(c,p))));break;case 19:Ar(h,c),Rr(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,jx(c,y)));break;case 30:break;case 21:break;default:Ar(h,c),Rr(c)}}function Rr(c){var h=c.flags;if(h&2){try{for(var p,y=c.return;y!==null;){if(tz(y)){p=y;break}y=y.return}if(p==null)throw Error(s(160));switch(p.tag){case 27:var N=p.stateNode,_=Kw(c);wx(c,_,N);break;case 5:var O=p.stateNode;p.flags&32&&(Yu(O,""),p.flags&=-33);var V=Kw(c);wx(c,V,O);break;case 3:case 4:var te=p.stateNode.containerInfo,ge=Kw(c);Gw(c,ge,te);break;default:throw Error(s(161))}}catch(je){dn(c,c.return,je)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function uz(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;uz(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function go(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)rz(c,h.alternate,h),h=h.sibling}function Oc(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:al(4,h,h.return),Oc(h);break;case 1:Sa(h,h.return);var p=h.stateNode;typeof p.componentWillUnmount=="function"&&Q4(h,h.return,p),Oc(h);break;case 27:Gf(h.stateNode);case 26:case 5:Sa(h,h.return),Oc(h);break;case 22:h.memoizedState===null&&Oc(h);break;case 30:Oc(h);break;default:Oc(h)}c=c.sibling}}function xo(c,h,p){for(p=p&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var y=h.alternate,N=c,_=h,O=_.flags;switch(_.tag){case 0:case 11:case 15:xo(N,_,p),$f(4,_);break;case 1:if(xo(N,_,p),y=_,N=y.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(ge){dn(y,y.return,ge)}if(y=_,N=y.updateQueue,N!==null){var V=y.stateNode;try{var te=N.shared.hiddenCallbacks;if(te!==null)for(N.shared.hiddenCallbacks=null,N=0;N<te.length;N++)B5(te[N],V)}catch(ge){dn(y,y.return,ge)}}p&&O&64&&X4(_),Vf(_,_.return);break;case 27:nz(_);case 26:case 5:xo(N,_,p),p&&y===null&&O&4&&ez(_),Vf(_,_.return);break;case 12:xo(N,_,p);break;case 31:xo(N,_,p),p&&O&4&&oz(N,_);break;case 13:xo(N,_,p),p&&O&4&&lz(N,_);break;case 22:_.memoizedState===null&&xo(N,_,p),Vf(_,_.return);break;case 30:break;default:xo(N,_,p)}h=h.sibling}}function Jw(c,h){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&_f(p))}function Xw(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&_f(c))}function Gi(c,h,p,y){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)dz(c,h,p,y),h=h.sibling}function dz(c,h,p,y){var N=h.flags;switch(h.tag){case 0:case 11:case 15:Gi(c,h,p,y),N&2048&&$f(9,h);break;case 1:Gi(c,h,p,y);break;case 3:Gi(c,h,p,y),N&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&_f(c)));break;case 12:if(N&2048){Gi(c,h,p,y),c=h.stateNode;try{var _=h.memoizedProps,O=_.id,V=_.onPostCommit;typeof V=="function"&&V(O,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(te){dn(h,h.return,te)}}else Gi(c,h,p,y);break;case 31:Gi(c,h,p,y);break;case 13:Gi(c,h,p,y);break;case 23:break;case 22:_=h.stateNode,O=h.alternate,h.memoizedState!==null?_._visibility&2?Gi(c,h,p,y):Bf(c,h):_._visibility&2?Gi(c,h,p,y):(_._visibility|=2,gd(c,h,p,y,(h.subtreeFlags&10256)!==0||!1)),N&2048&&Jw(O,h);break;case 24:Gi(c,h,p,y),N&2048&&Xw(h.alternate,h);break;default:Gi(c,h,p,y)}}function gd(c,h,p,y,N){for(N=N&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var _=c,O=h,V=p,te=y,ge=O.flags;switch(O.tag){case 0:case 11:case 15:gd(_,O,V,te,N),$f(8,O);break;case 23:break;case 22:var je=O.stateNode;O.memoizedState!==null?je._visibility&2?gd(_,O,V,te,N):Bf(_,O):(je._visibility|=2,gd(_,O,V,te,N)),N&&ge&2048&&Jw(O.alternate,O);break;case 24:gd(_,O,V,te,N),N&&ge&2048&&Xw(O.alternate,O);break;default:gd(_,O,V,te,N)}h=h.sibling}}function Bf(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var p=c,y=h,N=y.flags;switch(y.tag){case 22:Bf(p,y),N&2048&&Jw(y.alternate,y);break;case 24:Bf(p,y),N&2048&&Xw(y.alternate,y);break;default:Bf(p,y)}h=h.sibling}}var Ff=8192;function xd(c,h,p){if(c.subtreeFlags&Ff)for(c=c.child;c!==null;)hz(c,h,p),c=c.sibling}function hz(c,h,p){switch(c.tag){case 26:xd(c,h,p),c.flags&Ff&&c.memoizedState!==null&&OK(p,Ki,c.memoizedState,c.memoizedProps);break;case 5:xd(c,h,p);break;case 3:case 4:var y=Ki;Ki=Px(c.stateNode.containerInfo),xd(c,h,p),Ki=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=Ff,Ff=16777216,xd(c,h,p),Ff=y):xd(c,h,p));break;default:xd(c,h,p)}}function fz(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function Uf(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];Ps=y,pz(y,c)}fz(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)mz(c),c=c.sibling}function mz(c){switch(c.tag){case 0:case 11:case 15:Uf(c),c.flags&2048&&al(9,c,c.return);break;case 3:Uf(c);break;case 12:Uf(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,kx(c)):Uf(c);break;default:Uf(c)}}function kx(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];Ps=y,pz(y,c)}fz(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:al(8,h,h.return),kx(h);break;case 22:p=h.stateNode,p._visibility&2&&(p._visibility&=-3,kx(h));break;default:kx(h)}c=c.sibling}}function pz(c,h){for(;Ps!==null;){var p=Ps;switch(p.tag){case 0:case 11:case 15:al(8,p,h);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:_f(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Ps=y;else e:for(p=c;Ps!==null;){y=Ps;var N=y.sibling,_=y.return;if(iz(y),y===p){Ps=null;break e}if(N!==null){N.return=_,Ps=N;break e}Ps=_}}}var GW={getCacheForType:function(c){var h=Ks(ms),p=h.data.get(c);return p===void 0&&(p=c(),h.data.set(c,p)),p},cacheSignal:function(){return Ks(ms).controller.signal}},YW=typeof WeakMap=="function"?WeakMap:Map,rn=0,Sn=null,Ft=null,qt=0,un=0,Jr=null,ol=!1,vd=!1,Qw=!1,vo=0,Yn=0,ll=0,Dc=0,ej=0,Xr=0,yd=0,Hf=null,Or=null,tj=!1,Nx=0,gz=0,Sx=1/0,_x=null,cl=null,_s=0,ul=null,bd=null,yo=0,nj=0,sj=null,xz=null,qf=0,rj=null;function Qr(){return(rn&2)!==0&&qt!==0?qt&-qt:P.T!==null?uj():hi()}function vz(){if(Xr===0)if((qt&536870912)===0||Kt){var c=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),Xr=c}else Xr=536870912;return c=Gr.current,c!==null&&(c.flags|=32),Xr}function Dr(c,h,p){(c===Sn&&(un===2||un===9)||c.cancelPendingCommit!==null)&&(wd(c,0),dl(c,qt,Xr,!1)),Vt(c,p),((rn&2)===0||c!==Sn)&&(c===Sn&&((rn&2)===0&&(Dc|=p),Yn===4&&dl(c,qt,Xr,!1)),_a(c))}function yz(c,h,p){if((rn&6)!==0)throw Error(s(327));var y=!p&&(h&127)===0&&(h&c.expiredLanes)===0||xt(c,h),N=y?QW(c,h):aj(c,h,!0),_=y;do{if(N===0){vd&&!y&&dl(c,h,0,!1);break}else{if(p=c.current.alternate,_&&!JW(p)){N=aj(c,h,!1),_=!1;continue}if(N===2){if(_=h,c.errorRecoveryDisabledLanes&_)var O=0;else O=c.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){h=O;e:{var V=c;N=Hf;var te=V.current.memoizedState.isDehydrated;if(te&&(wd(V,O).flags|=256),O=aj(V,O,!1),O!==2){if(Qw&&!te){V.errorRecoveryDisabledLanes|=_,Dc|=_,N=4;break e}_=Or,Or=N,_!==null&&(Or===null?Or=_:Or.push.apply(Or,_))}N=O}if(_=!1,N!==2)continue}}if(N===1){wd(c,0),dl(c,h,0,!0);break}e:{switch(y=c,_=N,_){case 0:case 1:throw Error(s(345));case 4:if((h&4194048)!==h)break;case 6:dl(y,h,Xr,!ol);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(s(329))}if((h&62914560)===h&&(N=Nx+300-ze(),10<N)){if(dl(y,h,Xr,!ol),qe(y,0,!0)!==0)break e;yo=h,y.timeoutHandle=Yz(bz.bind(null,y,p,Or,_x,tj,h,Xr,Dc,yd,ol,_,"Throttled",-0,0),N);break e}bz(y,p,Or,_x,tj,h,Xr,Dc,yd,ol,_,null,-0,0)}}break}while(!0);_a(c)}function bz(c,h,p,y,N,_,O,V,te,ge,je,_e,ve,ye){if(c.timeoutHandle=-1,_e=h.subtreeFlags,_e&8192||(_e&16785408)===16785408){_e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:so},hz(h,_,_e);var et=(_&62914560)===_?Nx-ze():(_&4194048)===_?gz-ze():0;if(et=DK(_e,et),et!==null){yo=_,c.cancelPendingCommit=et(Ez.bind(null,c,h,_,p,y,N,O,V,te,je,_e,null,ve,ye)),dl(c,_,O,!ge);return}}Ez(c,h,_,p,y,N,O,V,te)}function JW(c){for(var h=c;;){var p=h.tag;if((p===0||p===11||p===15)&&h.flags&16384&&(p=h.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var N=p[y],_=N.getSnapshot;N=N.value;try{if(!Wr(_(),N))return!1}catch{return!1}}if(p=h.child,h.subtreeFlags&16384&&p!==null)p.return=h,h=p;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function dl(c,h,p,y){h&=~ej,h&=~Dc,c.suspendedLanes|=h,c.pingedLanes&=~h,y&&(c.warmLanes|=h),y=c.expirationTimes;for(var N=h;0<N;){var _=31-ln(N),O=1<<_;y[_]=-1,N&=~O}p!==0&&ls(c,p,h)}function Cx(){return(rn&6)===0?(Zf(0),!1):!0}function ij(){if(Ft!==null){if(un===0)var c=Ft.return;else c=Ft,oo=_c=null,ww(c),dd=null,Ef=0,c=Ft;for(;c!==null;)J4(c.alternate,c),c=c.return;Ft=null}}function wd(c,h){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,xK(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),yo=0,ij(),Sn=c,Ft=p=io(c.current,null),qt=h,un=0,Jr=null,ol=!1,vd=xt(c,h),Qw=!1,yd=Xr=ej=Dc=ll=Yn=0,Or=Hf=null,tj=!1,(h&8)!==0&&(h|=h&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=h;0<y;){var N=31-ln(y),_=1<<N;h|=c[N],y&=~_}return vo=h,Kg(),p}function wz(c,h){Ot=null,P.H=Pf,h===ud||h===nx?(h=I5(),un=3):h===cw?(h=I5(),un=4):un=h===Iw?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Jr=h,Ft===null&&(Yn=1,gx(c,xi(h,c.current)))}function jz(){var c=Gr.current;return c===null?!0:(qt&4194048)===qt?wi===null:(qt&62914560)===qt||(qt&536870912)!==0?c===wi:!1}function kz(){var c=P.H;return P.H=Pf,c===null?Pf:c}function Nz(){var c=P.A;return P.A=GW,c}function Ex(){Yn=4,ol||(qt&4194048)!==qt&&Gr.current!==null||(vd=!0),(ll&134217727)===0&&(Dc&134217727)===0||Sn===null||dl(Sn,qt,Xr,!1)}function aj(c,h,p){var y=rn;rn|=2;var N=kz(),_=Nz();(Sn!==c||qt!==h)&&(_x=null,wd(c,h)),h=!1;var O=Yn;e:do try{if(un!==0&&Ft!==null){var V=Ft,te=Jr;switch(un){case 8:ij(),O=6;break e;case 3:case 2:case 9:case 6:Gr.current===null&&(h=!0);var ge=un;if(un=0,Jr=null,jd(c,V,te,ge),p&&vd){O=0;break e}break;default:ge=un,un=0,Jr=null,jd(c,V,te,ge)}}XW(),O=Yn;break}catch(je){wz(c,je)}while(!0);return h&&c.shellSuspendCounter++,oo=_c=null,rn=y,P.H=N,P.A=_,Ft===null&&(Sn=null,qt=0,Kg()),O}function XW(){for(;Ft!==null;)Sz(Ft)}function QW(c,h){var p=rn;rn|=2;var y=kz(),N=Nz();Sn!==c||qt!==h?(_x=null,Sx=ze()+500,wd(c,h)):vd=xt(c,h);e:do try{if(un!==0&&Ft!==null){h=Ft;var _=Jr;t:switch(un){case 1:un=0,Jr=null,jd(c,h,_,1);break;case 2:case 9:if(D5(_)){un=0,Jr=null,_z(h);break}h=function(){un!==2&&un!==9||Sn!==c||(un=7),_a(c)},_.then(h,h);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:D5(_)?(un=0,Jr=null,_z(h)):(un=0,Jr=null,jd(c,h,_,7));break;case 5:var O=null;switch(Ft.tag){case 26:O=Ft.memoizedState;case 5:case 27:var V=Ft;if(O?dM(O):V.stateNode.complete){un=0,Jr=null;var te=V.sibling;if(te!==null)Ft=te;else{var ge=V.return;ge!==null?(Ft=ge,Tx(ge)):Ft=null}break t}}un=0,Jr=null,jd(c,h,_,5);break;case 6:un=0,Jr=null,jd(c,h,_,6);break;case 8:ij(),Yn=6;break e;default:throw Error(s(462))}}eK();break}catch(je){wz(c,je)}while(!0);return oo=_c=null,P.H=y,P.A=N,rn=p,Ft!==null?0:(Sn=null,qt=0,Kg(),Yn)}function eK(){for(;Ft!==null&&!oe();)Sz(Ft)}function Sz(c){var h=G4(c.alternate,c,vo);c.memoizedProps=c.pendingProps,h===null?Tx(c):Ft=h}function _z(c){var h=c,p=h.alternate;switch(h.tag){case 15:case 0:h=U4(p,h,h.pendingProps,h.type,void 0,qt);break;case 11:h=U4(p,h,h.pendingProps,h.type.render,h.ref,qt);break;case 5:ww(h);default:J4(p,h),h=Ft=N5(h,vo),h=G4(p,h,vo)}c.memoizedProps=c.pendingProps,h===null?Tx(c):Ft=h}function jd(c,h,p,y){oo=_c=null,ww(h),dd=null,Ef=0;var N=h.return;try{if(FW(c,N,h,p,qt)){Yn=1,gx(c,xi(p,c.current)),Ft=null;return}}catch(_){if(N!==null)throw Ft=N,_;Yn=1,gx(c,xi(p,c.current)),Ft=null;return}h.flags&32768?(Kt||y===1?c=!0:vd||(qt&536870912)!==0?c=!1:(ol=c=!0,(y===2||y===9||y===3||y===6)&&(y=Gr.current,y!==null&&y.tag===13&&(y.flags|=16384))),Cz(h,c)):Tx(h)}function Tx(c){var h=c;do{if((h.flags&32768)!==0){Cz(h,ol);return}c=h.return;var p=qW(h.alternate,h,vo);if(p!==null){Ft=p;return}if(h=h.sibling,h!==null){Ft=h;return}Ft=h=c}while(h!==null);Yn===0&&(Yn=5)}function Cz(c,h){do{var p=ZW(c.alternate,c);if(p!==null){p.flags&=32767,Ft=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!h&&(c=c.sibling,c!==null)){Ft=c;return}Ft=c=p}while(c!==null);Yn=6,Ft=null}function Ez(c,h,p,y,N,_,O,V,te){c.cancelPendingCommit=null;do zx();while(_s!==0);if((rn&6)!==0)throw Error(s(327));if(h!==null){if(h===c.current)throw Error(s(177));if(_=h.lanes|h.childLanes,_|=K1,At(c,p,_,O,V,te),c===Sn&&(Ft=Sn=null,qt=0),bd=h,ul=c,yo=p,nj=_,sj=N,xz=y,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,rK(ot,function(){return Rz(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||y){y=P.T,P.T=null,N=I.p,I.p=2,O=rn,rn|=4;try{WW(c,h,p)}finally{rn=O,I.p=N,P.T=y}}_s=1,Tz(),zz(),Mz()}}function Tz(){if(_s===1){_s=0;var c=ul,h=bd,p=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||p){p=P.T,P.T=null;var y=I.p;I.p=2;var N=rn;rn|=4;try{cz(h,c);var _=vj,O=p5(c.containerInfo),V=_.focusedElem,te=_.selectionRange;if(O!==V&&V&&V.ownerDocument&&m5(V.ownerDocument.documentElement,V)){if(te!==null&&U1(V)){var ge=te.start,je=te.end;if(je===void 0&&(je=ge),"selectionStart"in V)V.selectionStart=ge,V.selectionEnd=Math.min(je,V.value.length);else{var _e=V.ownerDocument||document,ve=_e&&_e.defaultView||window;if(ve.getSelection){var ye=ve.getSelection(),et=V.textContent.length,vt=Math.min(te.start,et),bn=te.end===void 0?vt:Math.min(te.end,et);!ye.extend&&vt>bn&&(O=bn,bn=vt,vt=O);var de=f5(V,vt),ie=f5(V,bn);if(de&&ie&&(ye.rangeCount!==1||ye.anchorNode!==de.node||ye.anchorOffset!==de.offset||ye.focusNode!==ie.node||ye.focusOffset!==ie.offset)){var pe=_e.createRange();pe.setStart(de.node,de.offset),ye.removeAllRanges(),vt>bn?(ye.addRange(pe),ye.extend(ie.node,ie.offset)):(pe.setEnd(ie.node,ie.offset),ye.addRange(pe))}}}}for(_e=[],ye=V;ye=ye.parentNode;)ye.nodeType===1&&_e.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<_e.length;V++){var ke=_e[V];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Fx=!!xj,vj=xj=null}finally{rn=N,I.p=y,P.T=p}}c.current=h,_s=2}}function zz(){if(_s===2){_s=0;var c=ul,h=bd,p=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||p){p=P.T,P.T=null;var y=I.p;I.p=2;var N=rn;rn|=4;try{rz(c,h.alternate,h)}finally{rn=N,I.p=y,P.T=p}}_s=3}}function Mz(){if(_s===4||_s===3){_s=0,me();var c=ul,h=bd,p=yo,y=xz;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?_s=5:(_s=0,bd=ul=null,Az(c,c.pendingLanes));var N=c.pendingLanes;if(N===0&&(cl=null),qs(p),h=h.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(mt,h,void 0,(h.current.flags&128)===128)}catch{}if(y!==null){h=P.T,N=I.p,I.p=2,P.T=null;try{for(var _=c.onRecoverableError,O=0;O<y.length;O++){var V=y[O];_(V.value,{componentStack:V.stack})}}finally{P.T=h,I.p=N}}(yo&3)!==0&&zx(),_a(c),N=c.pendingLanes,(p&261930)!==0&&(N&42)!==0?c===rj?qf++:(qf=0,rj=c):qf=0,Zf(0)}}function Az(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,_f(h)))}function zx(){return Tz(),zz(),Mz(),Rz()}function Rz(){if(_s!==5)return!1;var c=ul,h=nj;nj=0;var p=qs(yo),y=P.T,N=I.p;try{I.p=32>p?32:p,P.T=null,p=sj,sj=null;var _=ul,O=yo;if(_s=0,bd=ul=null,yo=0,(rn&6)!==0)throw Error(s(331));var V=rn;if(rn|=4,mz(_.current),dz(_,_.current,O,p),rn=V,Zf(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(mt,_)}catch{}return!0}finally{I.p=N,P.T=y,Az(c,h)}}function Oz(c,h,p){h=xi(p,h),h=Pw(c.stateNode,h,2),c=sl(c,h,2),c!==null&&(Vt(c,2),_a(c))}function dn(c,h,p){if(c.tag===3)Oz(c,c,p);else for(;h!==null;){if(h.tag===3){Oz(h,c,p);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(cl===null||!cl.has(y))){c=xi(p,c),p=D4(2),y=sl(h,p,2),y!==null&&(P4(p,y,h,c),Vt(y,2),_a(y));break}}h=h.return}}function oj(c,h,p){var y=c.pingCache;if(y===null){y=c.pingCache=new YW;var N=new Set;y.set(h,N)}else N=y.get(h),N===void 0&&(N=new Set,y.set(h,N));N.has(p)||(Qw=!0,N.add(p),c=tK.bind(null,c,h,p),h.then(c,c))}function tK(c,h,p){var y=c.pingCache;y!==null&&y.delete(h),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Sn===c&&(qt&p)===p&&(Yn===4||Yn===3&&(qt&62914560)===qt&&300>ze()-Nx?(rn&2)===0&&wd(c,0):ej|=p,yd===qt&&(yd=0)),_a(c)}function Dz(c,h){h===0&&(h=Tt()),c=kc(c,h),c!==null&&(Vt(c,h),_a(c))}function nK(c){var h=c.memoizedState,p=0;h!==null&&(p=h.retryLane),Dz(c,p)}function sK(c,h){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,N=c.memoizedState;N!==null&&(p=N.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(s(314))}y!==null&&y.delete(h),Dz(c,p)}function rK(c,h){return ct(c,h)}var Mx=null,kd=null,lj=!1,Ax=!1,cj=!1,hl=0;function _a(c){c!==kd&&c.next===null&&(kd===null?Mx=kd=c:kd=kd.next=c),Ax=!0,lj||(lj=!0,aK())}function Zf(c,h){if(!cj&&Ax){cj=!0;do for(var p=!1,y=Mx;y!==null;){if(c!==0){var N=y.pendingLanes;if(N===0)var _=0;else{var O=y.suspendedLanes,V=y.pingedLanes;_=(1<<31-ln(42|c)+1)-1,_&=N&~(O&~V),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(p=!0,$z(y,_))}else _=qt,_=qe(y,y===Sn?_:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(_&3)===0||xt(y,_)||(p=!0,$z(y,_));y=y.next}while(p);cj=!1}}function iK(){Pz()}function Pz(){Ax=lj=!1;var c=0;hl!==0&&gK()&&(c=hl);for(var h=ze(),p=null,y=Mx;y!==null;){var N=y.next,_=Iz(y,h);_===0?(y.next=null,p===null?Mx=N:p.next=N,N===null&&(kd=p)):(p=y,(c!==0||(_&3)!==0)&&(Ax=!0)),y=N}_s!==0&&_s!==5||Zf(c),hl!==0&&(hl=0)}function Iz(c,h){for(var p=c.suspendedLanes,y=c.pingedLanes,N=c.expirationTimes,_=c.pendingLanes&-62914561;0<_;){var O=31-ln(_),V=1<<O,te=N[O];te===-1?((V&p)===0||(V&y)!==0)&&(N[O]=Mt(V,h)):te<=h&&(c.expiredLanes|=V),_&=~V}if(h=Sn,p=qt,p=qe(c,c===h?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===h&&(un===2||un===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&X(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||xt(c,p)){if(h=p&-p,h===c.callbackPriority)return h;switch(y!==null&&X(y),qs(p)){case 2:case 8:p=Fe;break;case 32:p=ot;break;case 268435456:p=Ue;break;default:p=ot}return y=Lz.bind(null,c),p=ct(p,y),c.callbackPriority=h,c.callbackNode=p,h}return y!==null&&y!==null&&X(y),c.callbackPriority=2,c.callbackNode=null,2}function Lz(c,h){if(_s!==0&&_s!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(zx()&&c.callbackNode!==p)return null;var y=qt;return y=qe(c,c===Sn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(yz(c,y,h),Iz(c,ze()),c.callbackNode!=null&&c.callbackNode===p?Lz.bind(null,c):null)}function $z(c,h){if(zx())return null;yz(c,h,!0)}function aK(){vK(function(){(rn&6)!==0?ct(Ce,iK):Pz()})}function uj(){if(hl===0){var c=ld;c===0&&(c=Et,Et<<=1,(Et&261888)===0&&(Et=256)),hl=c}return hl}function Vz(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Vg(""+c)}function Bz(c,h){var p=h.ownerDocument.createElement("input");return p.name=h.name,p.value=h.value,c.id&&p.setAttribute("form",c.id),h.parentNode.insertBefore(p,h),c=new FormData(c),p.parentNode.removeChild(p),c}function oK(c,h,p,y,N){if(h==="submit"&&p&&p.stateNode===N){var _=Vz((N[Tr]||null).action),O=y.submitter;O&&(h=(h=O[Tr]||null)?Vz(h.formAction):O.getAttribute("formAction"),h!==null&&(_=h,O=null));var V=new Hg("action","action",null,y,N);c.push({event:V,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(hl!==0){var te=O?Bz(N,O):new FormData(N);zw(p,{pending:!0,data:te,method:N.method,action:_},null,te)}}else typeof _=="function"&&(V.preventDefault(),te=O?Bz(N,O):new FormData(N),zw(p,{pending:!0,data:te,method:N.method,action:_},_,te))},currentTarget:N}]})}}for(var dj=0;dj<W1.length;dj++){var hj=W1[dj],lK=hj.toLowerCase(),cK=hj[0].toUpperCase()+hj.slice(1);Wi(lK,"on"+cK)}Wi(v5,"onAnimationEnd"),Wi(y5,"onAnimationIteration"),Wi(b5,"onAnimationStart"),Wi("dblclick","onDoubleClick"),Wi("focusin","onFocus"),Wi("focusout","onBlur"),Wi(SW,"onTransitionRun"),Wi(_W,"onTransitionStart"),Wi(CW,"onTransitionCancel"),Wi(w5,"onTransitionEnd"),Ku("onMouseEnter",["mouseout","mouseover"]),Ku("onMouseLeave",["mouseout","mouseover"]),Ku("onPointerEnter",["pointerout","pointerover"]),Ku("onPointerLeave",["pointerout","pointerover"]),yc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yc("onBeforeInput",["compositionend","keypress","textInput","paste"]),yc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uK=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wf));function Fz(c,h){h=(h&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],N=y.event;y=y.listeners;e:{var _=void 0;if(h)for(var O=y.length-1;0<=O;O--){var V=y[O],te=V.instance,ge=V.currentTarget;if(V=V.listener,te!==_&&N.isPropagationStopped())break e;_=V,N.currentTarget=ge;try{_(N)}catch(je){Wg(je)}N.currentTarget=null,_=te}else for(O=0;O<y.length;O++){if(V=y[O],te=V.instance,ge=V.currentTarget,V=V.listener,te!==_&&N.isPropagationStopped())break e;_=V,N.currentTarget=ge;try{_(N)}catch(je){Wg(je)}N.currentTarget=null,_=te}}}}function Ut(c,h){var p=h[S1];p===void 0&&(p=h[S1]=new Set);var y=c+"__bubble";p.has(y)||(Uz(h,c,2,!1),p.add(y))}function fj(c,h,p){var y=0;h&&(y|=4),Uz(p,c,y,h)}var Rx="_reactListening"+Math.random().toString(36).slice(2);function mj(c){if(!c[Rx]){c[Rx]=!0,PT.forEach(function(p){p!=="selectionchange"&&(uK.has(p)||fj(p,!1,c),fj(p,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Rx]||(h[Rx]=!0,fj("selectionchange",!1,h))}}function Uz(c,h,p,y){switch(vM(h)){case 2:var N=LK;break;case 8:N=$K;break;default:N=Tj}p=N.bind(null,h,p,c),N=void 0,!O1||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),y?N!==void 0?c.addEventListener(h,p,{capture:!0,passive:N}):c.addEventListener(h,p,!0):N!==void 0?c.addEventListener(h,p,{passive:N}):c.addEventListener(h,p,!1)}function pj(c,h,p,y,N){var _=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var V=y.stateNode.containerInfo;if(V===N)break;if(O===4)for(O=y.return;O!==null;){var te=O.tag;if((te===3||te===4)&&O.stateNode.containerInfo===N)return;O=O.return}for(;V!==null;){if(O=qu(V),O===null)return;if(te=O.tag,te===5||te===6||te===26||te===27){y=_=O;continue e}V=V.parentNode}}y=y.return}KT(function(){var ge=_,je=A1(p),_e=[];e:{var ve=j5.get(c);if(ve!==void 0){var ye=Hg,et=c;switch(c){case"keypress":if(Fg(p)===0)break e;case"keydown":case"keyup":ye=sW;break;case"focusin":et="focus",ye=L1;break;case"focusout":et="blur",ye=L1;break;case"beforeblur":case"afterblur":ye=L1;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=JT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=qZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=aW;break;case v5:case y5:case b5:ye=KZ;break;case w5:ye=lW;break;case"scroll":case"scrollend":ye=UZ;break;case"wheel":ye=uW;break;case"copy":case"cut":case"paste":ye=YZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=QT;break;case"toggle":case"beforetoggle":ye=hW}var vt=(h&4)!==0,bn=!vt&&(c==="scroll"||c==="scrollend"),de=vt?ve!==null?ve+"Capture":null:ve;vt=[];for(var ie=ge,pe;ie!==null;){var ke=ie;if(pe=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||pe===null||de===null||(ke=pf(ie,de),ke!=null&&vt.push(Kf(ie,ke,pe))),bn)break;ie=ie.return}0<vt.length&&(ve=new ye(ve,et,null,p,je),_e.push({event:ve,listeners:vt}))}}if((h&7)===0){e:{if(ve=c==="mouseover"||c==="pointerover",ye=c==="mouseout"||c==="pointerout",ve&&p!==M1&&(et=p.relatedTarget||p.fromElement)&&(qu(et)||et[Hu]))break e;if((ye||ve)&&(ve=je.window===je?je:(ve=je.ownerDocument)?ve.defaultView||ve.parentWindow:window,ye?(et=p.relatedTarget||p.toElement,ye=ge,et=et?qu(et):null,et!==null&&(bn=a(et),vt=et.tag,et!==bn||vt!==5&&vt!==27&&vt!==6)&&(et=null)):(ye=null,et=ge),ye!==et)){if(vt=JT,ke="onMouseLeave",de="onMouseEnter",ie="mouse",(c==="pointerout"||c==="pointerover")&&(vt=QT,ke="onPointerLeave",de="onPointerEnter",ie="pointer"),bn=ye==null?ve:mf(ye),pe=et==null?ve:mf(et),ve=new vt(ke,ie+"leave",ye,p,je),ve.target=bn,ve.relatedTarget=pe,ke=null,qu(je)===ge&&(vt=new vt(de,ie+"enter",et,p,je),vt.target=pe,vt.relatedTarget=bn,ke=vt),bn=ke,ye&&et)t:{for(vt=dK,de=ye,ie=et,pe=0,ke=de;ke;ke=vt(ke))pe++;ke=0;for(var ft=ie;ft;ft=vt(ft))ke++;for(;0<pe-ke;)de=vt(de),pe--;for(;0<ke-pe;)ie=vt(ie),ke--;for(;pe--;){if(de===ie||ie!==null&&de===ie.alternate){vt=de;break t}de=vt(de),ie=vt(ie)}vt=null}else vt=null;ye!==null&&Hz(_e,ve,ye,vt,!1),et!==null&&bn!==null&&Hz(_e,bn,et,vt,!0)}}e:{if(ve=ge?mf(ge):window,ye=ve.nodeName&&ve.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ve.type==="file")var en=o5;else if(i5(ve))if(l5)en=jW;else{en=bW;var lt=yW}else ye=ve.nodeName,!ye||ye.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?ge&&z1(ge.elementType)&&(en=o5):en=wW;if(en&&(en=en(c,ge))){a5(_e,en,p,je);break e}lt&&lt(c,ve,ge),c==="focusout"&&ge&&ve.type==="number"&&ge.memoizedProps.value!=null&&T1(ve,"number",ve.value)}switch(lt=ge?mf(ge):window,c){case"focusin":(i5(lt)||lt.contentEditable==="true")&&(ed=lt,H1=ge,kf=null);break;case"focusout":kf=H1=ed=null;break;case"mousedown":q1=!0;break;case"contextmenu":case"mouseup":case"dragend":q1=!1,g5(_e,p,je);break;case"selectionchange":if(NW)break;case"keydown":case"keyup":g5(_e,p,je)}var Pt;if(V1)e:{switch(c){case"compositionstart":var Zt="onCompositionStart";break e;case"compositionend":Zt="onCompositionEnd";break e;case"compositionupdate":Zt="onCompositionUpdate";break e}Zt=void 0}else Qu?s5(c,p)&&(Zt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(Zt="onCompositionStart");Zt&&(e5&&p.locale!=="ko"&&(Qu||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&Qu&&(Pt=GT()):(Yo=je,D1="value"in Yo?Yo.value:Yo.textContent,Qu=!0)),lt=Ox(ge,Zt),0<lt.length&&(Zt=new XT(Zt,c,null,p,je),_e.push({event:Zt,listeners:lt}),Pt?Zt.data=Pt:(Pt=r5(p),Pt!==null&&(Zt.data=Pt)))),(Pt=mW?pW(c,p):gW(c,p))&&(Zt=Ox(ge,"onBeforeInput"),0<Zt.length&&(lt=new XT("onBeforeInput","beforeinput",null,p,je),_e.push({event:lt,listeners:Zt}),lt.data=Pt)),oK(_e,c,ge,p,je)}Fz(_e,h)})}function Kf(c,h,p){return{instance:c,listener:h,currentTarget:p}}function Ox(c,h){for(var p=h+"Capture",y=[];c!==null;){var N=c,_=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||_===null||(N=pf(c,p),N!=null&&y.unshift(Kf(c,N,_)),N=pf(c,h),N!=null&&y.push(Kf(c,N,_))),c.tag===3)return y;c=c.return}return[]}function dK(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function Hz(c,h,p,y,N){for(var _=h._reactName,O=[];p!==null&&p!==y;){var V=p,te=V.alternate,ge=V.stateNode;if(V=V.tag,te!==null&&te===y)break;V!==5&&V!==26&&V!==27||ge===null||(te=ge,N?(ge=pf(p,_),ge!=null&&O.unshift(Kf(p,ge,te))):N||(ge=pf(p,_),ge!=null&&O.push(Kf(p,ge,te)))),p=p.return}O.length!==0&&c.push({event:h,listeners:O})}var hK=/\r\n?/g,fK=/\u0000|\uFFFD/g;function qz(c){return(typeof c=="string"?c:""+c).replace(hK,`
`).replace(fK,"")}function Zz(c,h){return h=qz(h),qz(c)===h}function yn(c,h,p,y,N,_){switch(p){case"children":typeof y=="string"?h==="body"||h==="textarea"&&y===""||Yu(c,y):(typeof y=="number"||typeof y=="bigint")&&h!=="body"&&Yu(c,""+y);break;case"className":Lg(c,"class",y);break;case"tabIndex":Lg(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Lg(c,p,y);break;case"style":ZT(c,y,_);break;case"data":if(h!=="object"){Lg(c,"data",y);break}case"src":case"href":if(y===""&&(h!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Vg(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(p==="formAction"?(h!=="input"&&yn(c,h,"name",N.name,N,null),yn(c,h,"formEncType",N.formEncType,N,null),yn(c,h,"formMethod",N.formMethod,N,null),yn(c,h,"formTarget",N.formTarget,N,null)):(yn(c,h,"encType",N.encType,N,null),yn(c,h,"method",N.method,N,null),yn(c,h,"target",N.target,N,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Vg(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=so);break;case"onScroll":y!=null&&Ut("scroll",c);break;case"onScrollEnd":y!=null&&Ut("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(s(61));if(p=y.__html,p!=null){if(N.children!=null)throw Error(s(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=Vg(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":Ut("beforetoggle",c),Ut("toggle",c),Ig(c,"popover",y);break;case"xlinkActuate":no(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":no(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":no(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":no(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":no(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":no(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":no(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":no(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":no(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Ig(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=BZ.get(p)||p,Ig(c,p,y))}}function gj(c,h,p,y,N,_){switch(p){case"style":ZT(c,y,_);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(s(61));if(p=y.__html,p!=null){if(N.children!=null)throw Error(s(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Yu(c,y):(typeof y=="number"||typeof y=="bigint")&&Yu(c,""+y);break;case"onScroll":y!=null&&Ut("scroll",c);break;case"onScrollEnd":y!=null&&Ut("scrollend",c);break;case"onClick":y!=null&&(c.onclick=so);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IT.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(N=p.endsWith("Capture"),h=p.slice(2,N?p.length-7:void 0),_=c[Tr]||null,_=_!=null?_[p]:null,typeof _=="function"&&c.removeEventListener(h,_,N),typeof y=="function")){typeof _!="function"&&_!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(h,y,N);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):Ig(c,p,y)}}}function Ys(c,h,p){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",c),Ut("load",c);var y=!1,N=!1,_;for(_ in p)if(p.hasOwnProperty(_)){var O=p[_];if(O!=null)switch(_){case"src":y=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,h));default:yn(c,h,_,O,p,null)}}N&&yn(c,h,"srcSet",p.srcSet,p,null),y&&yn(c,h,"src",p.src,p,null);return;case"input":Ut("invalid",c);var V=_=O=N=null,te=null,ge=null;for(y in p)if(p.hasOwnProperty(y)){var je=p[y];if(je!=null)switch(y){case"name":N=je;break;case"type":O=je;break;case"checked":te=je;break;case"defaultChecked":ge=je;break;case"value":_=je;break;case"defaultValue":V=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(s(137,h));break;default:yn(c,h,y,je,p,null)}}FT(c,_,V,te,ge,O,N,!1);return;case"select":Ut("invalid",c),y=O=_=null;for(N in p)if(p.hasOwnProperty(N)&&(V=p[N],V!=null))switch(N){case"value":_=V;break;case"defaultValue":O=V;break;case"multiple":y=V;default:yn(c,h,N,V,p,null)}h=_,p=O,c.multiple=!!y,h!=null?Gu(c,!!y,h,!1):p!=null&&Gu(c,!!y,p,!0);return;case"textarea":Ut("invalid",c),_=N=y=null;for(O in p)if(p.hasOwnProperty(O)&&(V=p[O],V!=null))switch(O){case"value":y=V;break;case"defaultValue":N=V;break;case"children":_=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(s(91));break;default:yn(c,h,O,V,p,null)}HT(c,y,N,_);return;case"option":for(te in p)if(p.hasOwnProperty(te)&&(y=p[te],y!=null))switch(te){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:yn(c,h,te,y,p,null)}return;case"dialog":Ut("beforetoggle",c),Ut("toggle",c),Ut("cancel",c),Ut("close",c);break;case"iframe":case"object":Ut("load",c);break;case"video":case"audio":for(y=0;y<Wf.length;y++)Ut(Wf[y],c);break;case"image":Ut("error",c),Ut("load",c);break;case"details":Ut("toggle",c);break;case"embed":case"source":case"link":Ut("error",c),Ut("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in p)if(p.hasOwnProperty(ge)&&(y=p[ge],y!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,h));default:yn(c,h,ge,y,p,null)}return;default:if(z1(h)){for(je in p)p.hasOwnProperty(je)&&(y=p[je],y!==void 0&&gj(c,h,je,y,p,void 0));return}}for(V in p)p.hasOwnProperty(V)&&(y=p[V],y!=null&&yn(c,h,V,y,p,null))}function mK(c,h,p,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,_=null,O=null,V=null,te=null,ge=null,je=null;for(ye in p){var _e=p[ye];if(p.hasOwnProperty(ye)&&_e!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":te=_e;default:y.hasOwnProperty(ye)||yn(c,h,ye,null,y,_e)}}for(var ve in y){var ye=y[ve];if(_e=p[ve],y.hasOwnProperty(ve)&&(ye!=null||_e!=null))switch(ve){case"type":_=ye;break;case"name":N=ye;break;case"checked":ge=ye;break;case"defaultChecked":je=ye;break;case"value":O=ye;break;case"defaultValue":V=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,h));break;default:ye!==_e&&yn(c,h,ve,ye,y,_e)}}E1(c,O,V,te,ge,je,_,N);return;case"select":ye=O=V=ve=null;for(_ in p)if(te=p[_],p.hasOwnProperty(_)&&te!=null)switch(_){case"value":break;case"multiple":ye=te;default:y.hasOwnProperty(_)||yn(c,h,_,null,y,te)}for(N in y)if(_=y[N],te=p[N],y.hasOwnProperty(N)&&(_!=null||te!=null))switch(N){case"value":ve=_;break;case"defaultValue":V=_;break;case"multiple":O=_;default:_!==te&&yn(c,h,N,_,y,te)}h=V,p=O,y=ye,ve!=null?Gu(c,!!p,ve,!1):!!y!=!!p&&(h!=null?Gu(c,!!p,h,!0):Gu(c,!!p,p?[]:"",!1));return;case"textarea":ye=ve=null;for(V in p)if(N=p[V],p.hasOwnProperty(V)&&N!=null&&!y.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:yn(c,h,V,null,y,N)}for(O in y)if(N=y[O],_=p[O],y.hasOwnProperty(O)&&(N!=null||_!=null))switch(O){case"value":ve=N;break;case"defaultValue":ye=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:N!==_&&yn(c,h,O,N,y,_)}UT(c,ve,ye);return;case"option":for(var et in p)if(ve=p[et],p.hasOwnProperty(et)&&ve!=null&&!y.hasOwnProperty(et))switch(et){case"selected":c.selected=!1;break;default:yn(c,h,et,null,y,ve)}for(te in y)if(ve=y[te],ye=p[te],y.hasOwnProperty(te)&&ve!==ye&&(ve!=null||ye!=null))switch(te){case"selected":c.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:yn(c,h,te,ve,y,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in p)ve=p[vt],p.hasOwnProperty(vt)&&ve!=null&&!y.hasOwnProperty(vt)&&yn(c,h,vt,null,y,ve);for(ge in y)if(ve=y[ge],ye=p[ge],y.hasOwnProperty(ge)&&ve!==ye&&(ve!=null||ye!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,h));break;default:yn(c,h,ge,ve,y,ye)}return;default:if(z1(h)){for(var bn in p)ve=p[bn],p.hasOwnProperty(bn)&&ve!==void 0&&!y.hasOwnProperty(bn)&&gj(c,h,bn,void 0,y,ve);for(je in y)ve=y[je],ye=p[je],!y.hasOwnProperty(je)||ve===ye||ve===void 0&&ye===void 0||gj(c,h,je,ve,y,ye);return}}for(var de in p)ve=p[de],p.hasOwnProperty(de)&&ve!=null&&!y.hasOwnProperty(de)&&yn(c,h,de,null,y,ve);for(_e in y)ve=y[_e],ye=p[_e],!y.hasOwnProperty(_e)||ve===ye||ve==null&&ye==null||yn(c,h,_e,ve,y,ye)}function Wz(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pK(){if(typeof performance.getEntriesByType=="function"){for(var c=0,h=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var N=p[y],_=N.transferSize,O=N.initiatorType,V=N.duration;if(_&&V&&Wz(O)){for(O=0,V=N.responseEnd,y+=1;y<p.length;y++){var te=p[y],ge=te.startTime;if(ge>V)break;var je=te.transferSize,_e=te.initiatorType;je&&Wz(_e)&&(te=te.responseEnd,O+=je*(te<V?1:(V-ge)/(te-ge)))}if(--y,h+=8*(_+O)/(N.duration/1e3),c++,10<c)break}}if(0<c)return h/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var xj=null,vj=null;function Dx(c){return c.nodeType===9?c:c.ownerDocument}function Kz(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Gz(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function yj(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var bj=null;function gK(){var c=window.event;return c&&c.type==="popstate"?c===bj?!1:(bj=c,!0):(bj=null,!1)}var Yz=typeof setTimeout=="function"?setTimeout:void 0,xK=typeof clearTimeout=="function"?clearTimeout:void 0,Jz=typeof Promise=="function"?Promise:void 0,vK=typeof queueMicrotask=="function"?queueMicrotask:typeof Jz<"u"?function(c){return Jz.resolve(null).then(c).catch(yK)}:Yz;function yK(c){setTimeout(function(){throw c})}function fl(c){return c==="head"}function Xz(c,h){var p=h,y=0;do{var N=p.nextSibling;if(c.removeChild(p),N&&N.nodeType===8)if(p=N.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(N),Cd(h);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")Gf(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,Gf(p);for(var _=p.firstChild;_;){var O=_.nextSibling,V=_.nodeName;_[ff]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&_.rel.toLowerCase()==="stylesheet"||p.removeChild(_),_=O}}else p==="body"&&Gf(c.ownerDocument.body);p=N}while(p);Cd(h)}function Qz(c,h){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?h?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(h?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function wj(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var p=h;switch(h=h.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":wj(p),_1(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function bK(c,h,p,y){for(;c.nodeType===1;){var N=p;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[ff])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(_=c.getAttribute("rel"),_==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(_!==N.rel||c.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||c.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||c.getAttribute("title")!==(N.title==null?null:N.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(_=c.getAttribute("src"),(_!==(N.src==null?null:N.src)||c.getAttribute("type")!==(N.type==null?null:N.type)||c.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&_&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var _=N.name==null?null:""+N.name;if(N.type==="hidden"&&c.getAttribute("name")===_)return c}else return c;if(c=ji(c.nextSibling),c===null)break}return null}function wK(c,h,p){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=ji(c.nextSibling),c===null))return null;return c}function eM(c,h){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=ji(c.nextSibling),c===null))return null;return c}function jj(c){return c.data==="$?"||c.data==="$~"}function kj(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function jK(c,h){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=h;else if(c.data!=="$?"||p.readyState!=="loading")h();else{var y=function(){h(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function ji(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return c}var Nj=null;function tM(c){c=c.nextSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(h===0)return ji(c.nextSibling);h--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||h++}c=c.nextSibling}return null}function nM(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(h===0)return c;h--}else p!=="/$"&&p!=="/&"||h++}c=c.previousSibling}return null}function sM(c,h,p){switch(h=Dx(p),c){case"html":if(c=h.documentElement,!c)throw Error(s(452));return c;case"head":if(c=h.head,!c)throw Error(s(453));return c;case"body":if(c=h.body,!c)throw Error(s(454));return c;default:throw Error(s(451))}}function Gf(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);_1(c)}var ki=new Map,rM=new Set;function Px(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var bo=I.d;I.d={f:kK,r:NK,D:SK,C:_K,L:CK,m:EK,X:zK,S:TK,M:MK};function kK(){var c=bo.f(),h=Cx();return c||h}function NK(c){var h=Zu(c);h!==null&&h.tag===5&&h.type==="form"?w4(h):bo.r(c)}var Nd=typeof document>"u"?null:document;function iM(c,h,p){var y=Nd;if(y&&typeof h=="string"&&h){var N=pi(h);N='link[rel="'+c+'"][href="'+N+'"]',typeof p=="string"&&(N+='[crossorigin="'+p+'"]'),rM.has(N)||(rM.add(N),c={rel:c,crossOrigin:p,href:h},y.querySelector(N)===null&&(h=y.createElement("link"),Ys(h,"link",c),Ds(h),y.head.appendChild(h)))}}function SK(c){bo.D(c),iM("dns-prefetch",c,null)}function _K(c,h){bo.C(c,h),iM("preconnect",c,h)}function CK(c,h,p){bo.L(c,h,p);var y=Nd;if(y&&c&&h){var N='link[rel="preload"][as="'+pi(h)+'"]';h==="image"&&p&&p.imageSrcSet?(N+='[imagesrcset="'+pi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(N+='[imagesizes="'+pi(p.imageSizes)+'"]')):N+='[href="'+pi(c)+'"]';var _=N;switch(h){case"style":_=Sd(c);break;case"script":_=_d(c)}ki.has(_)||(c=m({rel:"preload",href:h==="image"&&p&&p.imageSrcSet?void 0:c,as:h},p),ki.set(_,c),y.querySelector(N)!==null||h==="style"&&y.querySelector(Yf(_))||h==="script"&&y.querySelector(Jf(_))||(h=y.createElement("link"),Ys(h,"link",c),Ds(h),y.head.appendChild(h)))}}function EK(c,h){bo.m(c,h);var p=Nd;if(p&&c){var y=h&&typeof h.as=="string"?h.as:"script",N='link[rel="modulepreload"][as="'+pi(y)+'"][href="'+pi(c)+'"]',_=N;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=_d(c)}if(!ki.has(_)&&(c=m({rel:"modulepreload",href:c},h),ki.set(_,c),p.querySelector(N)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Jf(_)))return}y=p.createElement("link"),Ys(y,"link",c),Ds(y),p.head.appendChild(y)}}}function TK(c,h,p){bo.S(c,h,p);var y=Nd;if(y&&c){var N=Wu(y).hoistableStyles,_=Sd(c);h=h||"default";var O=N.get(_);if(!O){var V={loading:0,preload:null};if(O=y.querySelector(Yf(_)))V.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":h},p),(p=ki.get(_))&&Sj(c,p);var te=O=y.createElement("link");Ds(te),Ys(te,"link",c),te._p=new Promise(function(ge,je){te.onload=ge,te.onerror=je}),te.addEventListener("load",function(){V.loading|=1}),te.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Ix(O,h,y)}O={type:"stylesheet",instance:O,count:1,state:V},N.set(_,O)}}}function zK(c,h){bo.X(c,h);var p=Nd;if(p&&c){var y=Wu(p).hoistableScripts,N=_d(c),_=y.get(N);_||(_=p.querySelector(Jf(N)),_||(c=m({src:c,async:!0},h),(h=ki.get(N))&&_j(c,h),_=p.createElement("script"),Ds(_),Ys(_,"link",c),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(N,_))}}function MK(c,h){bo.M(c,h);var p=Nd;if(p&&c){var y=Wu(p).hoistableScripts,N=_d(c),_=y.get(N);_||(_=p.querySelector(Jf(N)),_||(c=m({src:c,async:!0,type:"module"},h),(h=ki.get(N))&&_j(c,h),_=p.createElement("script"),Ds(_),Ys(_,"link",c),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(N,_))}}function aM(c,h,p,y){var N=(N=ue.current)?Px(N):null;if(!N)throw Error(s(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(h=Sd(p.href),p=Wu(N).hoistableStyles,y=p.get(h),y||(y={type:"style",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=Sd(p.href);var _=Wu(N).hoistableStyles,O=_.get(c);if(O||(N=N.ownerDocument||N,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(c,O),(_=N.querySelector(Yf(c)))&&!_._p&&(O.instance=_,O.state.loading=5),ki.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ki.set(c,p),_||AK(N,c,p,O.state))),h&&y===null)throw Error(s(528,""));return O}if(h&&y!==null)throw Error(s(529,""));return null;case"script":return h=p.async,p=p.src,typeof p=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=_d(p),p=Wu(N).hoistableScripts,y=p.get(h),y||(y={type:"script",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,c))}}function Sd(c){return'href="'+pi(c)+'"'}function Yf(c){return'link[rel="stylesheet"]['+c+"]"}function oM(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function AK(c,h,p,y){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?y.loading=1:(h=c.createElement("link"),y.preload=h,h.addEventListener("load",function(){return y.loading|=1}),h.addEventListener("error",function(){return y.loading|=2}),Ys(h,"link",p),Ds(h),c.head.appendChild(h))}function _d(c){return'[src="'+pi(c)+'"]'}function Jf(c){return"script[async]"+c}function lM(c,h,p){if(h.count++,h.instance===null)switch(h.type){case"style":var y=c.querySelector('style[data-href~="'+pi(p.href)+'"]');if(y)return h.instance=y,Ds(y),y;var N=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Ds(y),Ys(y,"style",N),Ix(y,p.precedence,c),h.instance=y;case"stylesheet":N=Sd(p.href);var _=c.querySelector(Yf(N));if(_)return h.state.loading|=4,h.instance=_,Ds(_),_;y=oM(p),(N=ki.get(N))&&Sj(y,N),_=(c.ownerDocument||c).createElement("link"),Ds(_);var O=_;return O._p=new Promise(function(V,te){O.onload=V,O.onerror=te}),Ys(_,"link",y),h.state.loading|=4,Ix(_,p.precedence,c),h.instance=_;case"script":return _=_d(p.src),(N=c.querySelector(Jf(_)))?(h.instance=N,Ds(N),N):(y=p,(N=ki.get(_))&&(y=m({},p),_j(y,N)),c=c.ownerDocument||c,N=c.createElement("script"),Ds(N),Ys(N,"link",y),c.head.appendChild(N),h.instance=N);case"void":return null;default:throw Error(s(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(y=h.instance,h.state.loading|=4,Ix(y,p.precedence,c));return h.instance}function Ix(c,h,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=y.length?y[y.length-1]:null,_=N,O=0;O<y.length;O++){var V=y[O];if(V.dataset.precedence===h)_=V;else if(_!==N)break}_?_.parentNode.insertBefore(c,_.nextSibling):(h=p.nodeType===9?p.head:p,h.insertBefore(c,h.firstChild))}function Sj(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function _j(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var Lx=null;function cM(c,h,p){if(Lx===null){var y=new Map,N=Lx=new Map;N.set(p,y)}else N=Lx,y=N.get(p),y||(y=new Map,N.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),N=0;N<p.length;N++){var _=p[N];if(!(_[ff]||_[Zs]||c==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(h)||"";O=c+O;var V=y.get(O);V?V.push(_):y.set(O,[_])}}return y}function uM(c,h,p){c=c.ownerDocument||c,c.head.insertBefore(p,h==="title"?c.querySelector("head > title"):null)}function RK(c,h,p){if(p===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function dM(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function OK(c,h,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var N=Sd(y.href),_=h.querySelector(Yf(N));if(_){h=_._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(c.count++,c=$x.bind(c),h.then(c,c)),p.state.loading|=4,p.instance=_,Ds(_);return}_=h.ownerDocument||h,y=oM(y),(N=ki.get(N))&&Sj(y,N),_=_.createElement("link"),Ds(_);var O=_;O._p=new Promise(function(V,te){O.onload=V,O.onerror=te}),Ys(_,"link",y),p.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,h),(h=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=$x.bind(c),h.addEventListener("load",p),h.addEventListener("error",p))}}var Cj=0;function DK(c,h){return c.stylesheets&&c.count===0&&Bx(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&Bx(c,c.stylesheets),c.unsuspend){var _=c.unsuspend;c.unsuspend=null,_()}},6e4+h);0<c.imgBytes&&Cj===0&&(Cj=62500*pK());var N=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Bx(c,c.stylesheets),c.unsuspend)){var _=c.unsuspend;c.unsuspend=null,_()}},(c.imgBytes>Cj?50:800)+h);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(N)}}:null}function $x(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bx(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Vx=null;function Bx(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Vx=new Map,h.forEach(PK,c),Vx=null,$x.call(c))}function PK(c,h){if(!(h.state.loading&4)){var p=Vx.get(c);if(p)var y=p.get(null);else{p=new Map,Vx.set(c,p);for(var N=c.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<N.length;_++){var O=N[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(p.set(O.dataset.precedence,O),y=O)}y&&p.set(null,y)}N=h.instance,O=N.getAttribute("data-precedence"),_=p.get(O)||y,_===y&&p.set(null,N),p.set(O,N),this.count++,y=$x.bind(this),N.addEventListener("load",y),N.addEventListener("error",y),_?_.parentNode.insertBefore(N,_.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(N,c.firstChild)),h.state.loading|=4}}var Xf={$$typeof:C,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function IK(c,h,p,y,N,_,O,V,te){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=y,this.onUncaughtError=N,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function hM(c,h,p,y,N,_,O,V,te,ge,je,_e){return c=new IK(c,h,p,O,te,ge,je,_e,V),h=1,_===!0&&(h|=24),_=Kr(3,null,null,h),c.current=_,_.stateNode=c,h=aw(),h.refCount++,c.pooledCache=h,h.refCount++,_.memoizedState={element:y,isDehydrated:p,cache:h},uw(_),c}function fM(c){return c?(c=sd,c):sd}function mM(c,h,p,y,N,_){N=fM(N),y.context===null?y.context=N:y.pendingContext=N,y=nl(h),y.payload={element:p},_=_===void 0?null:_,_!==null&&(y.callback=_),p=sl(c,y,h),p!==null&&(Dr(p,c,h),zf(p,c,h))}function pM(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<h?p:h}}function Ej(c,h){pM(c,h),(c=c.alternate)&&pM(c,h)}function gM(c){if(c.tag===13||c.tag===31){var h=kc(c,67108864);h!==null&&Dr(h,c,67108864),Ej(c,67108864)}}function xM(c){if(c.tag===13||c.tag===31){var h=Qr();h=di(h);var p=kc(c,h);p!==null&&Dr(p,c,h),Ej(c,h)}}var Fx=!0;function LK(c,h,p,y){var N=P.T;P.T=null;var _=I.p;try{I.p=2,Tj(c,h,p,y)}finally{I.p=_,P.T=N}}function $K(c,h,p,y){var N=P.T;P.T=null;var _=I.p;try{I.p=8,Tj(c,h,p,y)}finally{I.p=_,P.T=N}}function Tj(c,h,p,y){if(Fx){var N=zj(y);if(N===null)pj(c,h,y,Ux,p),yM(c,y);else if(BK(N,c,h,p,y))y.stopPropagation();else if(yM(c,y),h&4&&-1<VK.indexOf(c)){for(;N!==null;){var _=Zu(N);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=gt(_.pendingLanes);if(O!==0){var V=_;for(V.pendingLanes|=2,V.entangledLanes|=2;O;){var te=1<<31-ln(O);V.entanglements[1]|=te,O&=~te}_a(_),(rn&6)===0&&(Sx=ze()+500,Zf(0))}}break;case 31:case 13:V=kc(_,2),V!==null&&Dr(V,_,2),Cx(),Ej(_,2)}if(_=zj(y),_===null&&pj(c,h,y,Ux,p),_===N)break;N=_}N!==null&&y.stopPropagation()}else pj(c,h,y,null,p)}}function zj(c){return c=A1(c),Mj(c)}var Ux=null;function Mj(c){if(Ux=null,c=qu(c),c!==null){var h=a(c);if(h===null)c=null;else{var p=h.tag;if(p===13){if(c=o(h),c!==null)return c;c=null}else if(p===31){if(c=l(h),c!==null)return c;c=null}else if(p===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return Ux=c,null}function vM(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case Ce:return 2;case Fe:return 8;case ot:case Te:return 32;case Ue:return 268435456;default:return 32}default:return 32}}var Aj=!1,ml=null,pl=null,gl=null,Qf=new Map,em=new Map,xl=[],VK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yM(c,h){switch(c){case"focusin":case"focusout":ml=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":gl=null;break;case"pointerover":case"pointerout":Qf.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":em.delete(h.pointerId)}}function tm(c,h,p,y,N,_){return c===null||c.nativeEvent!==_?(c={blockedOn:h,domEventName:p,eventSystemFlags:y,nativeEvent:_,targetContainers:[N]},h!==null&&(h=Zu(h),h!==null&&gM(h)),c):(c.eventSystemFlags|=y,h=c.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),c)}function BK(c,h,p,y,N){switch(h){case"focusin":return ml=tm(ml,c,h,p,y,N),!0;case"dragenter":return pl=tm(pl,c,h,p,y,N),!0;case"mouseover":return gl=tm(gl,c,h,p,y,N),!0;case"pointerover":var _=N.pointerId;return Qf.set(_,tm(Qf.get(_)||null,c,h,p,y,N)),!0;case"gotpointercapture":return _=N.pointerId,em.set(_,tm(em.get(_)||null,c,h,p,y,N)),!0}return!1}function bM(c){var h=qu(c.target);if(h!==null){var p=a(h);if(p!==null){if(h=p.tag,h===13){if(h=o(p),h!==null){c.blockedOn=h,Go(c.priority,function(){xM(p)});return}}else if(h===31){if(h=l(p),h!==null){c.blockedOn=h,Go(c.priority,function(){xM(p)});return}}else if(h===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Hx(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var p=zj(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);M1=y,p.target.dispatchEvent(y),M1=null}else return h=Zu(p),h!==null&&gM(h),c.blockedOn=p,!1;h.shift()}return!0}function wM(c,h,p){Hx(c)&&p.delete(h)}function FK(){Aj=!1,ml!==null&&Hx(ml)&&(ml=null),pl!==null&&Hx(pl)&&(pl=null),gl!==null&&Hx(gl)&&(gl=null),Qf.forEach(wM),em.forEach(wM)}function qx(c,h){c.blockedOn===h&&(c.blockedOn=null,Aj||(Aj=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,FK)))}var Zx=null;function jM(c){Zx!==c&&(Zx=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Zx===c&&(Zx=null);for(var h=0;h<c.length;h+=3){var p=c[h],y=c[h+1],N=c[h+2];if(typeof y!="function"){if(Mj(y||p)===null)continue;break}var _=Zu(p);_!==null&&(c.splice(h,3),h-=3,zw(_,{pending:!0,data:N,method:p.method,action:y},y,N))}}))}function Cd(c){function h(te){return qx(te,c)}ml!==null&&qx(ml,c),pl!==null&&qx(pl,c),gl!==null&&qx(gl,c),Qf.forEach(h),em.forEach(h);for(var p=0;p<xl.length;p++){var y=xl[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<xl.length&&(p=xl[0],p.blockedOn===null);)bM(p),p.blockedOn===null&&xl.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var N=p[y],_=p[y+1],O=N[Tr]||null;if(typeof _=="function")O||jM(p);else if(O){var V=null;if(_&&_.hasAttribute("formAction")){if(N=_,O=_[Tr]||null)V=O.formAction;else if(Mj(N)!==null)continue}else V=O.action;typeof V=="function"?p[y+1]=V:(p.splice(y,3),y-=3),jM(p)}}}function kM(){function c(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(O){return N=O})},focusReset:"manual",scroll:"manual"})}function h(){N!==null&&(N(),N=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,N=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),N!==null&&(N(),N=null)}}}function Rj(c){this._internalRoot=c}Wx.prototype.render=Rj.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(s(409));var p=h.current,y=Qr();mM(p,y,c,h,null,null)},Wx.prototype.unmount=Rj.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;mM(c.current,2,null,c,null,null),Cx(),h[Hu]=null}};function Wx(c){this._internalRoot=c}Wx.prototype.unstable_scheduleHydration=function(c){if(c){var h=hi();c={blockedOn:null,target:c,priority:h};for(var p=0;p<xl.length&&h!==0&&h<xl[p].priority;p++);xl.splice(p,0,c),p===0&&bM(c)}};var NM=t.version;if(NM!=="19.2.4")throw Error(s(527,NM,"19.2.4"));I.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=d(h),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var UK={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kx.isDisabled&&Kx.supportsFiber)try{mt=Kx.inject(UK),Nt=Kx}catch{}}return sm.createRoot=function(c,h){if(!r(c))throw Error(s(299));var p=!1,y="",N=M4,_=A4,O=R4;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(_=h.onCaughtError),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),h=hM(c,1,!1,null,null,p,y,null,N,_,O,kM),c[Hu]=h.current,mj(c),new Rj(h)},sm.hydrateRoot=function(c,h,p){if(!r(c))throw Error(s(299));var y=!1,N="",_=M4,O=A4,V=R4,te=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onUncaughtError!==void 0&&(_=p.onUncaughtError),p.onCaughtError!==void 0&&(O=p.onCaughtError),p.onRecoverableError!==void 0&&(V=p.onRecoverableError),p.formState!==void 0&&(te=p.formState)),h=hM(c,1,!0,h,p??null,y,N,te,_,O,V,kM),h.context=fM(null),p=h.current,y=Qr(),y=di(y),N=nl(y),N.callback=null,sl(p,N,y),p=y,h.current.lanes=p,Vt(h,p),_a(h),c[Hu]=h.current,mj(c),new Wx(h)},sm.version="19.2.4",sm}var OM;function QK(){if(OM)return Pj.exports;OM=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Pj.exports=XK(),Pj.exports}var eG=QK();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var DM="popstate";function tG(e={}){function t(s,r){let{pathname:a,search:o,hash:l}=s.location;return DN("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:ap(r)}return sG(t,n,null,e)}function $n(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Li(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nG(){return Math.random().toString(36).substring(2,10)}function PM(e,t){return{usr:e.state,key:e.key,idx:t}}function DN(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Fh(t):t,state:n,key:t&&t.key||s||nG()}}function ap({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Fh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function sG(e,t,n,s={}){let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let j=f(),k=j==null?null:j-d;d=j,u&&u({action:l,location:w.location,delta:k})}function g(j,k){l="PUSH";let S=DN(w.location,j,k);d=f()+1;let C=PM(S,d),E=w.createHref(S);try{o.pushState(C,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;r.location.assign(E)}a&&u&&u({action:l,location:w.location,delta:1})}function x(j,k){l="REPLACE";let S=DN(w.location,j,k);d=f();let C=PM(S,d),E=w.createHref(S);o.replaceState(C,"",E),a&&u&&u({action:l,location:w.location,delta:0})}function b(j){return rG(j)}let w={get action(){return l},get location(){return e(r,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(DM,m),u=j,()=>{r.removeEventListener(DM,m),u=null}},createHref(j){return t(r,j)},createURL:b,encodeLocation(j){let k=b(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:x,go(j){return o.go(j)}};return w}function rG(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),$n(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ap(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function fI(e,t,n="/"){return iG(e,t,n,!1)}function iG(e,t,n,s){let r=typeof t=="string"?Fh(t):t,a=$o(r.pathname||"/",n);if(a==null)return null;let o=mI(e);aG(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=xG(a);l=pG(o[u],d,s)}return l}function mI(e,t=[],n=[],s="",r=!1){let a=(o,l,u=r,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&u)return;$n(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let m=Ao([s,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&($n(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),mI(o.children,t,g,m,u)),!(o.path==null&&!o.index)&&t.push({path:m,score:fG(m,o.index),routesMeta:g})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let d of pI(o.path))a(o,l,!0,d)}),t}function pI(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let o=pI(s.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),r&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function aG(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:mG(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var oG=/^:[\w-]+$/,lG=3,cG=2,uG=1,dG=10,hG=-2,IM=e=>e==="*";function fG(e,t){let n=e.split("/"),s=n.length;return n.some(IM)&&(s+=hG),t&&(s+=cG),n.filter(r=>!IM(r)).reduce((r,a)=>r+(oG.test(a)?lG:a===""?uG:dG),s)}function mG(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function pG(e,t,n=!1){let{routesMeta:s}=e,r={},a="/",o=[];for(let l=0;l<s.length;++l){let u=s[l],d=l===s.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=fv({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!m&&d&&n&&!s[s.length-1].route.index&&(m=fv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),o.push({params:r,pathname:Ao([a,m.pathname]),pathnameBase:wG(Ao([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Ao([a,m.pathnameBase]))}return o}function fv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=gG(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((d,{paramName:f,isOptional:m},g)=>{if(f==="*"){let b=l[g]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function gG(e,t=!1,n=!0){Li(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(s.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function xG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Li(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function $o(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var vG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function yG(e,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Fh(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=LM(n.substring(1),"/"):a=LM(n,t)):a=t,{pathname:a,search:jG(s),hash:kG(r)}}function LM(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Vj(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function bG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function YS(e){let t=bG(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function JS(e,t,n,s=!1){let r;typeof e=="string"?r=Fh(e):(r={...e},$n(!r.pathname||!r.pathname.includes("?"),Vj("?","pathname","search",r)),$n(!r.pathname||!r.pathname.includes("#"),Vj("#","pathname","hash",r)),$n(!r.search||!r.search.includes("#"),Vj("#","search","hash",r)));let a=e===""||r.pathname==="",o=a?"/":r.pathname,l;if(o==null)l=n;else{let m=t.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}l=m>=0?t[m]:"/"}let u=yG(r,l),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var Ao=e=>e.join("/").replace(/\/\/+/g,"/"),wG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),jG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,kG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,NG=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function SG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function _G(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var gI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function xI(e,t){let n=e;if(typeof n!="string"||!vG.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,r=!1;if(gI)try{let a=new URL(window.location.href),o=n.startsWith("//")?new URL(a.protocol+n):new URL(n),l=$o(o.pathname,t);o.origin===a.origin&&l!=null?n=l+o.search+o.hash:r=!0}catch{Li(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var vI=["POST","PUT","PATCH","DELETE"];new Set(vI);var CG=["GET",...vI];new Set(CG);var Uh=v.createContext(null);Uh.displayName="DataRouter";var tb=v.createContext(null);tb.displayName="DataRouterState";var EG=v.createContext(!1),yI=v.createContext({isTransitioning:!1});yI.displayName="ViewTransition";var TG=v.createContext(new Map);TG.displayName="Fetchers";var zG=v.createContext(null);zG.displayName="Await";var ui=v.createContext(null);ui.displayName="Navigation";var Yp=v.createContext(null);Yp.displayName="Location";var Bi=v.createContext({outlet:null,matches:[],isDataRoute:!1});Bi.displayName="Route";var XS=v.createContext(null);XS.displayName="RouteError";var bI="REACT_ROUTER_ERROR",MG="REDIRECT",AG="ROUTE_ERROR_RESPONSE";function RG(e){if(e.startsWith(`${bI}:${MG}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function OG(e){if(e.startsWith(`${bI}:${AG}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new NG(t.status,t.statusText,t.data)}catch{}}function DG(e,{relative:t}={}){$n(Hh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=v.useContext(ui),{hash:r,pathname:a,search:o}=Jp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:Ao([n,a])),s.createHref({pathname:l,search:o,hash:r})}function Hh(){return v.useContext(Yp)!=null}function ss(){return $n(Hh(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Yp).location}var wI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jI(e){v.useContext(ui).static||v.useLayoutEffect(e)}function Jt(){let{isDataRoute:e}=v.useContext(Bi);return e?YG():PG()}function PG(){$n(Hh(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Uh),{basename:t,navigator:n}=v.useContext(ui),{matches:s}=v.useContext(Bi),{pathname:r}=ss(),a=JSON.stringify(YS(s)),o=v.useRef(!1);return jI(()=>{o.current=!0}),v.useCallback((u,d={})=>{if(Li(o.current,wI),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=JS(u,JSON.parse(a),r,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Ao([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,r,e])}var IG=v.createContext(null);function LG(e){let t=v.useContext(Bi).outlet;return v.useMemo(()=>t&&v.createElement(IG.Provider,{value:e},t),[t,e])}function Ho(){let{matches:e}=v.useContext(Bi),t=e[e.length-1];return t?t.params:{}}function Jp(e,{relative:t}={}){let{matches:n}=v.useContext(Bi),{pathname:s}=ss(),r=JSON.stringify(YS(n));return v.useMemo(()=>JS(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function $G(e,t){return kI(e,t)}function kI(e,t,n,s,r){var S;$n(Hh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(ui),{matches:o}=v.useContext(Bi),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let C=m&&m.path||"";SI(d,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=ss(),x;if(t){let C=typeof t=="string"?Fh(t):t;$n(f==="/"||((S=C.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),x=C}else x=g;let b=x.pathname||"/",w=b;if(f!=="/"){let C=f.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=fI(e,{pathname:w});Li(m||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Li(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=HG(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Ao([f,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:Ao([f,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,n,s,r);return t&&k?v.createElement(Yp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function VG(){let e=GG(),t=SG(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:r},n):null,o)}var BG=v.createElement(VG,null),NI=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=OG(e.digest);n&&(e=n)}let t=e!==void 0?v.createElement(Bi.Provider,{value:this.props.routeContext},v.createElement(XS.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(FG,{error:e},t):t}};NI.contextType=EG;var Bj=new WeakMap;function FG({children:e,error:t}){let{basename:n}=v.useContext(ui);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=RG(t.digest);if(s){let r=Bj.get(t);if(r)throw r;let a=xI(s.location,n);if(gI&&!Bj.get(t))if(a.isExternal||s.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:s.replace}));throw Bj.set(t,o),o}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function UG({routeContext:e,match:t,children:n}){let s=v.useContext(Uh);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(Bi.Provider,{value:e},n)}function HG(e,t=[],n=null,s=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);$n(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:x}=n,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&s?(f,m)=>{var g,x;s(f,{location:n.location,params:((x=(g=n.matches)==null?void 0:g[0])==null?void 0:x.params)??{},unstable_pattern:_G(n.matches),errorInfo:m})}:void 0;return a.reduceRight((f,m,g)=>{let x,b=!1,w=null,j=null;n&&(x=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||BG,l&&(u<0&&g===0?(SI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):u===g&&(b=!0,j=m.route.hydrateFallbackElement||null)));let k=t.concat(a.slice(0,g+1)),S=()=>{let C;return x?C=w:b?C=j:m.route.Component?C=v.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=f,v.createElement(UG,{match:m,routeContext:{outlet:f,matches:k,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?v.createElement(NI,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:d}):S()},null)}function QS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qG(e){let t=v.useContext(Uh);return $n(t,QS(e)),t}function ZG(e){let t=v.useContext(tb);return $n(t,QS(e)),t}function WG(e){let t=v.useContext(Bi);return $n(t,QS(e)),t}function e_(e){let t=WG(e),n=t.matches[t.matches.length-1];return $n(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function KG(){return e_("useRouteId")}function GG(){var s;let e=v.useContext(XS),t=ZG("useRouteError"),n=e_("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function YG(){let{router:e}=qG("useNavigate"),t=e_("useNavigate"),n=v.useRef(!1);return jI(()=>{n.current=!0}),v.useCallback(async(r,a={})=>{Li(n.current,wI),n.current&&(typeof r=="number"?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}var $M={};function SI(e,t,n){!t&&!$M[e]&&($M[e]=!0,Li(!1,n))}v.memo(JG);function JG({routes:e,future:t,state:n,onError:s}){return kI(e,void 0,n,s,t)}function Ua({to:e,replace:t,state:n,relative:s}){$n(Hh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=v.useContext(ui);Li(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=v.useContext(Bi),{pathname:o}=ss(),l=Jt(),u=JS(e,YS(a),o,s==="path"),d=JSON.stringify(u);return v.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:s})},[l,d,s,t,n]),null}function t_(e){return LG(e.context)}function yt(e){$n(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XG({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:a=!1,unstable_useTransitions:o}){$n(!Hh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:r,static:a,unstable_useTransitions:o,future:{}}),[l,r,a,o]);typeof n=="string"&&(n=Fh(n));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=n,b=v.useMemo(()=>{let w=$o(d,l);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:x},navigationType:s}},[l,d,f,m,g,x,s]);return Li(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:v.createElement(ui.Provider,{value:u},v.createElement(Yp.Provider,{children:t,value:b}))}function QG({children:e,location:t}){return $G(PN(e),t)}function PN(e,t=[]){let n=[];return v.Children.forEach(e,(s,r)=>{if(!v.isValidElement(s))return;let a=[...t,r];if(s.type===v.Fragment){n.push.apply(n,PN(s.props.children,a));return}$n(s.type===yt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$n(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=PN(s.props.children,a)),n.push(o)}),n}var Z0="get",W0="application/x-www-form-urlencoded";function nb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function eY(e){return nb(e)&&e.tagName.toLowerCase()==="button"}function tY(e){return nb(e)&&e.tagName.toLowerCase()==="form"}function nY(e){return nb(e)&&e.tagName.toLowerCase()==="input"}function sY(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function rY(e,t){return e.button===0&&(!t||t==="_self")&&!sY(e)}function IN(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function iY(e,t){let n=IN(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(a=>{n.append(r,a)})}),n}var Gx=null;function aY(){if(Gx===null)try{new FormData(document.createElement("form"),0),Gx=!1}catch{Gx=!0}return Gx}var oY=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fj(e){return e!=null&&!oY.has(e)?(Li(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${W0}"`),null):e}function lY(e,t){let n,s,r,a,o;if(tY(e)){let l=e.getAttribute("action");s=l?$o(l,t):null,n=e.getAttribute("method")||Z0,r=Fj(e.getAttribute("enctype"))||W0,a=new FormData(e)}else if(eY(e)||nY(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(s=u?$o(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||Z0,r=Fj(e.getAttribute("formenctype"))||Fj(l.getAttribute("enctype"))||W0,a=new FormData(l,e),!aY()){let{name:d,type:f,value:m}=e;if(f==="image"){let g=d?`${d}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else d&&a.append(d,m)}}else{if(nb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Z0,s=null,r=W0,o=e}return a&&r==="text/plain"&&(o=a,a=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function n_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function cY(e,t,n,s){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${s}`:r.pathname=`${r.pathname}.${s}`:r.pathname==="/"?r.pathname=`_root.${s}`:t&&$o(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function uY(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function dY(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function hY(e,t,n){let s=await Promise.all(e.map(async r=>{let a=t.routes[r.route.id];if(a){let o=await uY(a,n);return o.links?o.links():[]}return[]}));return gY(s.flat(1).filter(dY).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function VM(e,t,n,s,r,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>{var f;return n[d].pathname!==u.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{var m;let f=s.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function fY(e,t,{includeHydrateFallback:n}={}){return mY(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function mY(e){return[...new Set(e)]}function pY(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function gY(e,t){let n=new Set;return new Set(t),e.reduce((s,r)=>{let a=JSON.stringify(pY(r));return n.has(a)||(n.add(a),s.push({key:a,link:r})),s},[])}function _I(){let e=v.useContext(Uh);return n_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function xY(){let e=v.useContext(tb);return n_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var s_=v.createContext(void 0);s_.displayName="FrameworkContext";function CI(){let e=v.useContext(s_);return n_(e,"You must render this element inside a <HydratedRouter> element"),e}function vY(e,t){let n=v.useContext(s_),[s,r]=v.useState(!1),[a,o]=v.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=k=>{k.forEach(S=>{o(S.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[e]),v.useEffect(()=>{if(s){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[s]);let x=()=>{r(!0)},b=()=>{r(!1),o(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:rm(l,x),onBlur:rm(u,b),onMouseEnter:rm(d,x),onMouseLeave:rm(f,b),onTouchStart:rm(m,x)}]:[!1,g,{}]}function rm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function yY({page:e,...t}){let{router:n}=_I(),s=v.useMemo(()=>fI(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?v.createElement(wY,{page:e,matches:s,...t}):null}function bY(e){let{manifest:t,routeModules:n}=CI(),[s,r]=v.useState([]);return v.useEffect(()=>{let a=!1;return hY(e,t,n).then(o=>{a||r(o)}),()=>{a=!0}},[e,t,n]),s}function wY({page:e,matches:t,...n}){let s=ss(),{future:r,manifest:a,routeModules:o}=CI(),{basename:l}=_I(),{loaderData:u,matches:d}=xY(),f=v.useMemo(()=>VM(e,t,d,a,s,"data"),[e,t,d,a,s]),m=v.useMemo(()=>VM(e,t,d,a,s,"assets"),[e,t,d,a,s]),g=v.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let w=new Set,j=!1;if(t.forEach(S=>{var E;let C=a.routes[S.route.id];!C||!C.hasLoader||(!f.some(T=>T.route.id===S.route.id)&&S.route.id in u&&((E=o[S.route.id])!=null&&E.shouldRevalidate)||C.hasClientLoader?j=!0:w.add(S.route.id))}),w.size===0)return[];let k=cY(e,l,r.unstable_trailingSlashAwareDataRequests,"data");return j&&w.size>0&&k.searchParams.set("_routes",t.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[k.pathname+k.search]},[l,r.unstable_trailingSlashAwareDataRequests,u,s,a,f,t,e,o]),x=v.useMemo(()=>fY(m,a),[m,a]),b=bY(m);return v.createElement(v.Fragment,null,g.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:j})=>v.createElement("link",{key:w,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function jY(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var kY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{kY&&(window.__reactRouterVersion="7.13.0")}catch{}function NY({basename:e,children:t,unstable_useTransitions:n,window:s}){let r=v.useRef();r.current==null&&(r.current=tG({window:s,v5Compat:!0}));let a=r.current,[o,l]=v.useState({action:a.action,location:a.location}),u=v.useCallback(d=>{n===!1?l(d):v.startTransition(()=>l(d))},[n]);return v.useLayoutEffect(()=>a.listen(u),[a,u]),v.createElement(XG,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}var EI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Be=v.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},b){let{basename:w,unstable_useTransitions:j}=v.useContext(ui),k=typeof d=="string"&&EI.test(d),S=xI(d,w);d=S.to;let C=DG(d,{relative:r}),[E,T,M]=vY(s,x),z=EY(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:j});function A(B){t&&t(B),B.defaultPrevented||z(B)}let D=v.createElement("a",{...x,...M,href:S.absoluteURL||C,onClick:S.isExternal||a?t:A,ref:jY(b,T),target:u,"data-discover":!k&&n==="render"?"true":void 0});return E&&!k?v.createElement(v.Fragment,null,D,v.createElement(yY,{page:C})):D});Be.displayName="Link";var SY=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:a,to:o,viewTransition:l,children:u,...d},f){let m=Jp(o,{relative:d.relative}),g=ss(),x=v.useContext(tb),{navigator:b,basename:w}=v.useContext(ui),j=x!=null&&RY(m)&&l===!0,k=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,S=g.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(S=S.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&w&&(C=$o(C,w)||C);const E=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let T=S===k||!r&&S.startsWith(k)&&S.charAt(E)==="/",M=C!=null&&(C===k||!r&&C.startsWith(k)&&C.charAt(k.length)==="/"),z={isActive:T,isPending:M,isTransitioning:j},A=T?t:void 0,D;typeof s=="function"?D=s(z):D=[s,T?"active":null,M?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let B=typeof a=="function"?a(z):a;return v.createElement(Be,{...d,"aria-current":A,className:D,ref:f,style:B,to:o,viewTransition:l},typeof u=="function"?u(z):u)});SY.displayName="NavLink";var _Y=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:a,method:o=Z0,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},b)=>{let{unstable_useTransitions:w}=v.useContext(ui),j=MY(),k=AY(l,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&EI.test(l),E=T=>{if(u&&u(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,z=(M==null?void 0:M.getAttribute("formmethod"))||o,A=()=>j(M||T.currentTarget,{fetcherKey:t,method:z,navigate:n,replace:r,state:a,relative:d,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g});w&&n!==!1?v.startTransition(()=>A()):A()};return v.createElement("form",{ref:b,method:S,action:k,onSubmit:s?u:E,...x,"data-discover":!C&&e==="render"?"true":void 0})});_Y.displayName="Form";function CY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TI(e){let t=v.useContext(Uh);return $n(t,CY(e)),t}function EY(e,{target:t,replace:n,state:s,preventScrollReset:r,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let d=Jt(),f=ss(),m=Jp(e,{relative:a});return v.useCallback(g=>{if(rY(g,t)){g.preventDefault();let x=n!==void 0?n:ap(f)===ap(m),b=()=>d(e,{replace:x,state:s,preventScrollReset:r,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:l});u?v.startTransition(()=>b()):b()}},[f,d,m,n,s,t,e,r,a,o,l,u])}function r_(e){Li(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(IN(e)),n=v.useRef(!1),s=ss(),r=v.useMemo(()=>iY(s.search,n.current?null:t.current),[s.search]),a=Jt(),o=v.useCallback((l,u)=>{const d=IN(typeof l=="function"?l(new URLSearchParams(r)):l);n.current=!0,a("?"+d,u)},[a,r]);return[r,o]}var TY=0,zY=()=>`__${String(++TY)}__`;function MY(){let{router:e}=TI("useSubmit"),{basename:t}=v.useContext(ui),n=KG(),s=e.fetch,r=e.navigate;return v.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:f,body:m}=lY(a,t);if(o.navigate===!1){let g=o.fetcherKey||zY();await s(g,n,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await r(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,r,t,n])}function AY(e,{relative:t}={}){let{basename:n}=v.useContext(ui),s=v.useContext(Bi);$n(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),a={...Jp(e||".",{relative:t})},o=ss();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Ao([n,a.pathname])),ap(a)}function RY(e,{relative:t}={}){let n=v.useContext(yI);$n(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=TI("useViewTransitionState"),r=Jp(e,{relative:t});if(!n.isTransitioning)return!1;let a=$o(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=$o(n.nextLocation.pathname,s)||n.nextLocation.pathname;return fv(r.pathname,o)!=null||fv(r.pathname,a)!=null}var ia=hI();const sb=KS(ia);var OY=(e,t,n,s,r,a,o,l)=>{let u=document.documentElement,d=["light","dark"];function f(x){(Array.isArray(e)?e:[e]).forEach(b=>{let w=b==="class",j=w&&a?r.map(k=>a[k]||k):r;w?(u.classList.remove(...j),u.classList.add(a&&a[x]?a[x]:x)):u.setAttribute(b,x)}),m(x)}function m(x){l&&d.includes(x)&&(u.style.colorScheme=x)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)f(s);else try{let x=localStorage.getItem(t)||n,b=o&&x==="system"?g():x;f(b)}catch{}},BM=["light","dark"],zI="(prefers-color-scheme: dark)",DY=typeof window>"u",i_=v.createContext(void 0),PY={setTheme:e=>{},themes:[]},MI=()=>{var e;return(e=v.useContext(i_))!=null?e:PY},IY=e=>v.useContext(i_)?v.createElement(v.Fragment,null,e.children):v.createElement($Y,{...e}),LY=["light","dark"],$Y=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:r="theme",themes:a=LY,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:u,children:d,nonce:f,scriptProps:m})=>{let[g,x]=v.useState(()=>BY(r,o)),[b,w]=v.useState(()=>g==="system"?Uj():g),j=u?Object.values(u):a,k=v.useCallback(T=>{let M=T;if(!M)return;T==="system"&&n&&(M=Uj());let z=u?u[M]:M,A=t?FY(f):null,D=document.documentElement,B=$=>{$==="class"?(D.classList.remove(...j),z&&D.classList.add(z)):$.startsWith("data-")&&(z?D.setAttribute($,z):D.removeAttribute($))};if(Array.isArray(l)?l.forEach(B):B(l),s){let $=BM.includes(o)?o:null,q=BM.includes(M)?M:$;D.style.colorScheme=q}A==null||A()},[f]),S=v.useCallback(T=>{let M=typeof T=="function"?T(g):T;x(M);try{localStorage.setItem(r,M)}catch{}},[g]),C=v.useCallback(T=>{let M=Uj(T);w(M),g==="system"&&n&&!e&&k("system")},[g,e]);v.useEffect(()=>{let T=window.matchMedia(zI);return T.addListener(C),C(T),()=>T.removeListener(C)},[C]),v.useEffect(()=>{let T=M=>{M.key===r&&(M.newValue?x(M.newValue):S(o))};return window.addEventListener("storage",T),()=>window.removeEventListener("storage",T)},[S]),v.useEffect(()=>{k(e??g)},[e,g]);let E=v.useMemo(()=>({theme:g,setTheme:S,forcedTheme:e,resolvedTheme:g==="system"?b:g,themes:n?[...a,"system"]:a,systemTheme:n?b:void 0}),[g,S,e,b,n,a]);return v.createElement(i_.Provider,{value:E},v.createElement(VY,{forcedTheme:e,storageKey:r,attribute:l,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:u,themes:a,nonce:f,scriptProps:m}),d)},VY=v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:a,value:o,themes:l,nonce:u,scriptProps:d})=>{let f=JSON.stringify([n,t,a,e,l,o,s,r]).slice(1,-1);return v.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${OY.toString()})(${f})`}})}),BY=(e,t)=>{if(DY)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},FY=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Uj=e=>(e||(e=window.matchMedia(zI)),e.matches?"dark":"light");function UY(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const HY=e=>{switch(e){case"success":return WY;case"info":return GY;case"warning":return KY;case"error":return YY;default:return null}},qY=Array(12).fill(0),ZY=({visible:e,className:t})=>W.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},W.createElement("div",{className:"sonner-spinner"},qY.map((n,s)=>W.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),WY=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),KY=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),GY=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),YY=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},W.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),JY=W.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},W.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),W.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),XY=()=>{const[e,t]=W.useState(document.hidden);return W.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let LN=1;class QY{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...r}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:LN++,o=this.toasts.find(u=>u.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...t,id:a,title:s}),{...u,...t,id:a,dismissible:l,title:s}):u):this.addToast({title:s,...r,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let a=s!==void 0,o;const l=r.then(async d=>{if(o=["resolve",d],W.isValidElement(d))a=!1,this.create({id:s,type:"default",message:d});else if(tJ(d)&&!d.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof m=="object"&&!W.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:g,...b})}else if(d instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!W.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:g,...b})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(d):n.success,g=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!W.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:g,...b})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){a=!1;const f=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,x=typeof f=="object"&&!W.isValidElement(f)?f:{message:f};this.create({id:s,type:"error",description:m,...x})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||LN++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Pr=new QY,eJ=(e,t)=>{const n=(t==null?void 0:t.id)||LN++;return Pr.addToast({title:e,...t,id:n}),n},tJ=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",nJ=eJ,sJ=()=>Pr.toasts,rJ=()=>Pr.getActiveToasts(),Se=Object.assign(nJ,{success:Pr.success,info:Pr.info,warning:Pr.warning,error:Pr.error,custom:Pr.custom,message:Pr.message,promise:Pr.promise,dismiss:Pr.dismiss,loading:Pr.loading},{getHistory:sJ,getToasts:rJ});UY("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Yx(e){return e.label!==void 0}const iJ=3,aJ="24px",oJ="16px",FM=4e3,lJ=356,cJ=14,uJ=45,dJ=200;function Ca(...e){return e.filter(Boolean).join(" ")}function hJ(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const fJ=e=>{var t,n,s,r,a,o,l,u,d;const{invert:f,toast:m,unstyled:g,interacting:x,setHeights:b,visibleToasts:w,heights:j,index:k,toasts:S,expanded:C,removeToast:E,defaultRichColors:T,closeButton:M,style:z,cancelButtonStyle:A,actionButtonStyle:D,className:B="",descriptionClassName:$="",duration:q,position:Z,gap:F,expandByDefault:J,classNames:P,icons:I,closeButtonAriaLabel:L="Close toast"}=e,[G,U]=W.useState(null),[R,H]=W.useState(null),[K,ne]=W.useState(!1),[ce,ue]=W.useState(!1),[Y,le]=W.useState(!1),[he,be]=W.useState(!1),[we,xe]=W.useState(!1),[Me,re]=W.useState(0),[Ee,Ze]=W.useState(0),it=W.useRef(m.duration||q||FM),kt=W.useRef(null),We=W.useRef(null),ct=k===0,X=k+1<=w,oe=m.type,me=m.dismissible!==!1,ze=m.className||"",Ae=m.descriptionClassName||"",Ce=W.useMemo(()=>j.findIndex(qe=>qe.toastId===m.id)||0,[j,m.id]),Fe=W.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:M},[m.closeButton,M]),ot=W.useMemo(()=>m.duration||q||FM,[m.duration,q]),Te=W.useRef(0),Ue=W.useRef(0),tt=W.useRef(0),Ge=W.useRef(null),[mt,Nt]=Z.split("-"),Rt=W.useMemo(()=>j.reduce((qe,xt,Mt)=>Mt>=Ce?qe:qe+xt.height,0),[j,Ce]),ln=XY(),xr=m.invert||f,Kn=oe==="loading";Ue.current=W.useMemo(()=>Ce*F+Rt,[Ce,Rt]),W.useEffect(()=>{it.current=ot},[ot]),W.useEffect(()=>{ne(!0)},[]),W.useEffect(()=>{const qe=We.current;if(qe){const xt=qe.getBoundingClientRect().height;return Ze(xt),b(Mt=>[{toastId:m.id,height:xt,position:m.position},...Mt]),()=>b(Mt=>Mt.filter(Tt=>Tt.toastId!==m.id))}},[b,m.id]),W.useLayoutEffect(()=>{if(!K)return;const qe=We.current,xt=qe.style.height;qe.style.height="auto";const Mt=qe.getBoundingClientRect().height;qe.style.height=xt,Ze(Mt),b(Tt=>Tt.find(Vt=>Vt.toastId===m.id)?Tt.map(Vt=>Vt.toastId===m.id?{...Vt,height:Mt}:Vt):[{toastId:m.id,height:Mt,position:m.position},...Tt])},[K,m.title,m.description,b,m.id,m.jsx,m.action,m.cancel]);const Ye=W.useCallback(()=>{ue(!0),re(Ue.current),b(qe=>qe.filter(xt=>xt.toastId!==m.id)),setTimeout(()=>{E(m)},dJ)},[m,E,b,Ue]);W.useEffect(()=>{if(m.promise&&oe==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return C||x||ln?(()=>{if(tt.current<Te.current){const Tt=new Date().getTime()-Te.current;it.current=it.current-Tt}tt.current=new Date().getTime()})():(()=>{it.current!==1/0&&(Te.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Ye()},it.current))})(),()=>clearTimeout(qe)},[C,x,m,oe,ln,Ye]),W.useEffect(()=>{m.delete&&(Ye(),m.onDismiss==null||m.onDismiss.call(m,m))},[Ye,m.delete]);function Et(){var qe;if(I!=null&&I.loading){var xt;return W.createElement("div",{className:Ca(P==null?void 0:P.loader,m==null||(xt=m.classNames)==null?void 0:xt.loader,"sonner-loader"),"data-visible":oe==="loading"},I.loading)}return W.createElement(ZY,{className:Ca(P==null?void 0:P.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:oe==="loading"})}const Dt=m.icon||(I==null?void 0:I[oe])||HY(oe);var at,gt;return W.createElement("li",{tabIndex:0,ref:We,className:Ca(B,ze,P==null?void 0:P.toast,m==null||(t=m.classNames)==null?void 0:t.toast,P==null?void 0:P.default,P==null?void 0:P[oe],m==null||(n=m.classNames)==null?void 0:n[oe]),"data-sonner-toast":"","data-rich-colors":(at=m.richColors)!=null?at:T,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":K,"data-promise":!!m.promise,"data-swiped":we,"data-removed":ce,"data-visible":X,"data-y-position":mt,"data-x-position":Nt,"data-index":k,"data-front":ct,"data-swiping":Y,"data-dismissible":me,"data-type":oe,"data-invert":xr,"data-swipe-out":he,"data-swipe-direction":R,"data-expanded":!!(C||J&&K),"data-testid":m.testId,style:{"--index":k,"--toasts-before":k,"--z-index":S.length-k,"--offset":`${ce?Me:Ue.current}px`,"--initial-height":J?"auto":`${Ee}px`,...z,...m.style},onDragEnd:()=>{le(!1),U(null),Ge.current=null},onPointerDown:qe=>{qe.button!==2&&(Kn||!me||(kt.current=new Date,re(Ue.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(le(!0),Ge.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,xt,Mt;if(he||!me)return;Ge.current=null;const Tt=Number(((qe=We.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nn=Number(((xt=We.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vt=new Date().getTime()-((Mt=kt.current)==null?void 0:Mt.getTime()),At=G==="x"?Tt:Nn,ls=Math.abs(At)/Vt;if(Math.abs(At)>=uJ||ls>.11){re(Ue.current),m.onDismiss==null||m.onDismiss.call(m,m),H(G==="x"?Tt>0?"right":"left":Nn>0?"down":"up"),Ye(),be(!0);return}else{var xn,Dn;(xn=We.current)==null||xn.style.setProperty("--swipe-amount-x","0px"),(Dn=We.current)==null||Dn.style.setProperty("--swipe-amount-y","0px")}xe(!1),le(!1),U(null)},onPointerMove:qe=>{var xt,Mt,Tt;if(!Ge.current||!me||((xt=window.getSelection())==null?void 0:xt.toString().length)>0)return;const Vt=qe.clientY-Ge.current.y,At=qe.clientX-Ge.current.x;var ls;const xn=(ls=e.swipeDirections)!=null?ls:hJ(Z);!G&&(Math.abs(At)>1||Math.abs(Vt)>1)&&U(Math.abs(At)>Math.abs(Vt)?"x":"y");let Dn={x:0,y:0};const di=qs=>1/(1.5+Math.abs(qs)/20);if(G==="y"){if(xn.includes("top")||xn.includes("bottom"))if(xn.includes("top")&&Vt<0||xn.includes("bottom")&&Vt>0)Dn.y=Vt;else{const qs=Vt*di(Vt);Dn.y=Math.abs(qs)<Math.abs(Vt)?qs:Vt}}else if(G==="x"&&(xn.includes("left")||xn.includes("right")))if(xn.includes("left")&&At<0||xn.includes("right")&&At>0)Dn.x=At;else{const qs=At*di(At);Dn.x=Math.abs(qs)<Math.abs(At)?qs:At}(Math.abs(Dn.x)>0||Math.abs(Dn.y)>0)&&xe(!0),(Mt=We.current)==null||Mt.style.setProperty("--swipe-amount-x",`${Dn.x}px`),(Tt=We.current)==null||Tt.style.setProperty("--swipe-amount-y",`${Dn.y}px`)}},Fe&&!m.jsx&&oe!=="loading"?W.createElement("button",{"aria-label":L,"data-disabled":Kn,"data-close-button":!0,onClick:Kn||!me?()=>{}:()=>{Ye(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Ca(P==null?void 0:P.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(gt=I==null?void 0:I.close)!=null?gt:JY):null,(oe||m.icon||m.promise)&&m.icon!==null&&((I==null?void 0:I[oe])!==null||m.icon)?W.createElement("div",{"data-icon":"",className:Ca(P==null?void 0:P.icon,m==null||(r=m.classNames)==null?void 0:r.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Et():null,m.type!=="loading"?Dt:null):null,W.createElement("div",{"data-content":"",className:Ca(P==null?void 0:P.content,m==null||(a=m.classNames)==null?void 0:a.content)},W.createElement("div",{"data-title":"",className:Ca(P==null?void 0:P.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?W.createElement("div",{"data-description":"",className:Ca($,Ae,P==null?void 0:P.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),W.isValidElement(m.cancel)?m.cancel:m.cancel&&Yx(m.cancel)?W.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:qe=>{Yx(m.cancel)&&me&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),Ye())},className:Ca(P==null?void 0:P.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,W.isValidElement(m.action)?m.action:m.action&&Yx(m.action)?W.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:qe=>{Yx(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&Ye())},className:Ca(P==null?void 0:P.actionButton,m==null||(d=m.classNames)==null?void 0:d.actionButton)},m.action.label):null)};function UM(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function mJ(e,t){const n={};return[e,t].forEach((s,r)=>{const a=r===1,o=a?"--mobile-offset":"--offset",l=a?oJ:aJ;function u(d){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):u(l)}),n}const pJ=W.forwardRef(function(t,n){const{id:s,invert:r,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:f,mobileOffset:m,theme:g="light",richColors:x,duration:b,style:w,visibleToasts:j=iJ,toastOptions:k,dir:S=UM(),gap:C=cJ,icons:E,containerAriaLabel:T="Notifications"}=t,[M,z]=W.useState([]),A=W.useMemo(()=>s?M.filter(K=>K.toasterId===s):M.filter(K=>!K.toasterId),[M,s]),D=W.useMemo(()=>Array.from(new Set([a].concat(A.filter(K=>K.position).map(K=>K.position)))),[A,a]),[B,$]=W.useState([]),[q,Z]=W.useState(!1),[F,J]=W.useState(!1),[P,I]=W.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=W.useRef(null),G=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=W.useRef(null),R=W.useRef(!1),H=W.useCallback(K=>{z(ne=>{var ce;return(ce=ne.find(ue=>ue.id===K.id))!=null&&ce.delete||Pr.dismiss(K.id),ne.filter(({id:ue})=>ue!==K.id)})},[]);return W.useEffect(()=>Pr.subscribe(K=>{if(K.dismiss){requestAnimationFrame(()=>{z(ne=>ne.map(ce=>ce.id===K.id?{...ce,delete:!0}:ce))});return}setTimeout(()=>{sb.flushSync(()=>{z(ne=>{const ce=ne.findIndex(ue=>ue.id===K.id);return ce!==-1?[...ne.slice(0,ce),{...ne[ce],...K},...ne.slice(ce+1)]:[K,...ne]})})})}),[M]),W.useEffect(()=>{if(g!=="system"){I(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?I("dark"):I("light")),typeof window>"u")return;const K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:ne})=>{I(ne?"dark":"light")})}catch{K.addListener(({matches:ce})=>{try{I(ce?"dark":"light")}catch(ue){console.error(ue)}})}},[g]),W.useEffect(()=>{M.length<=1&&Z(!1)},[M]),W.useEffect(()=>{const K=ne=>{var ce;if(o.every(le=>ne[le]||ne.code===le)){var Y;Z(!0),(Y=L.current)==null||Y.focus()}ne.code==="Escape"&&(document.activeElement===L.current||(ce=L.current)!=null&&ce.contains(document.activeElement))&&Z(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[o]),W.useEffect(()=>{if(L.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,R.current=!1)}},[L.current]),W.createElement("section",{ref:n,"aria-label":`${T} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((K,ne)=>{var ce;const[ue,Y]=K.split("-");return A.length?W.createElement("ol",{key:K,dir:S==="auto"?UM():S,tabIndex:-1,ref:L,className:d,"data-sonner-toaster":!0,"data-sonner-theme":P,"data-y-position":ue,"data-x-position":Y,style:{"--front-toast-height":`${((ce=B[0])==null?void 0:ce.height)||0}px`,"--width":`${lJ}px`,"--gap":`${C}px`,...w,...mJ(f,m)},onBlur:le=>{R.current&&!le.currentTarget.contains(le.relatedTarget)&&(R.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||R.current||(R.current=!0,U.current=le.relatedTarget)},onMouseEnter:()=>Z(!0),onMouseMove:()=>Z(!0),onMouseLeave:()=>{F||Z(!1)},onDragEnd:()=>Z(!1),onPointerDown:le=>{le.target instanceof HTMLElement&&le.target.dataset.dismissible==="false"||J(!0)},onPointerUp:()=>J(!1)},A.filter(le=>!le.position&&ne===0||le.position===K).map((le,he)=>{var be,we;return W.createElement(fJ,{key:le.id,icons:E,index:he,toast:le,defaultRichColors:x,duration:(be=k==null?void 0:k.duration)!=null?be:b,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:r,visibleToasts:j,closeButton:(we=k==null?void 0:k.closeButton)!=null?we:u,interacting:F,position:K,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:H,toasts:A.filter(xe=>xe.position==le.position),heights:B.filter(xe=>xe.position==le.position),setHeights:$,expandByDefault:l,gap:C,expanded:q,swipeDirections:t.swipeDirections})})):null}))}),a_=v.createContext({});function Ql(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const AI=typeof window<"u",rb=AI?v.useLayoutEffect:v.useEffect,ib=v.createContext(null);function o_(e,t){e.indexOf(t)===-1&&e.push(t)}function l_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const ua=(e,t,n)=>n>t?t:n<e?e:n;let op=()=>{};const Vo={},RI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function OI(e){return typeof e=="object"&&e!==null}const DI=e=>/^0[^.\s]+$/u.test(e);function c_(e){let t;return()=>(t===void 0&&(t=e()),t)}const Br=e=>e,gJ=(e,t)=>n=>t(e(n)),Xp=(...e)=>e.reduce(gJ),_h=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class u_{constructor(){this.subscriptions=[]}add(t){return o_(this.subscriptions,t),()=>l_(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ro=e=>e*1e3,Ai=e=>e/1e3;function d_(e,t){return t?e*(1e3/t):0}const PI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,xJ=1e-7,vJ=12;function yJ(e,t,n,s,r){let a,o,l=0;do o=t+(n-t)/2,a=PI(o,s,r)-e,a>0?n=o:t=o;while(Math.abs(a)>xJ&&++l<vJ);return o}function Qp(e,t,n,s){if(e===t&&n===s)return Br;const r=a=>yJ(a,0,1,e,n);return a=>a===0||a===1?a:PI(r(a),t,s)}const II=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,LI=e=>t=>1-e(1-t),$I=Qp(.33,1.53,.69,.99),h_=LI($I),VI=II(h_),BI=e=>(e*=2)<1?.5*h_(e):.5*(2-Math.pow(2,-10*(e-1))),f_=e=>1-Math.sin(Math.acos(e)),FI=LI(f_),UI=II(f_),bJ=Qp(.42,0,1,1),wJ=Qp(0,0,.58,1),HI=Qp(.42,0,.58,1),jJ=e=>Array.isArray(e)&&typeof e[0]!="number",qI=e=>Array.isArray(e)&&typeof e[0]=="number",kJ={linear:Br,easeIn:bJ,easeInOut:HI,easeOut:wJ,circIn:f_,circInOut:UI,circOut:FI,backIn:h_,backInOut:VI,backOut:$I,anticipate:BI},NJ=e=>typeof e=="string",HM=e=>{if(qI(e)){op(e.length===4);const[t,n,s,r]=e;return Qp(t,n,s,r)}else if(NJ(e))return kJ[e];return e},Jx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function SJ(e,t){let n=new Set,s=new Set,r=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),e()),f(l)}const d={schedule:(f,m=!1,g=!1)=>{const b=g&&r?n:s;return m&&o.add(f),b.has(f)||b.add(f),f},cancel:f=>{s.delete(f),o.delete(f)},process:f=>{if(l=f,r){a=!0;return}r=!0,[n,s]=[s,n],n.forEach(u),n.clear(),r=!1,a&&(a=!1,d.process(f))}};return d}const _J=40;function ZI(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Jx.reduce((C,E)=>(C[E]=SJ(a),C),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:m,preRender:g,render:x,postRender:b}=o,w=()=>{const C=Vo.useManualTiming?r.timestamp:performance.now();n=!1,Vo.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(C-r.timestamp,_J),1)),r.timestamp=C,r.isProcessing=!0,l.process(r),u.process(r),d.process(r),f.process(r),m.process(r),g.process(r),x.process(r),b.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(w))},j=()=>{n=!0,s=!0,r.isProcessing||e(w)};return{schedule:Jx.reduce((C,E)=>{const T=o[E];return C[E]=(M,z=!1,A=!1)=>(n||j(),T.schedule(M,z,A)),C},{}),cancel:C=>{for(let E=0;E<Jx.length;E++)o[Jx[E]].cancel(C)},state:r,steps:o}}const{schedule:nn,cancel:$i,state:Is,steps:Hj}=ZI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0);let K0;function CJ(){K0=void 0}const wr={now:()=>(K0===void 0&&wr.set(Is.isProcessing||Vo.useManualTiming?Is.timestamp:performance.now()),K0),set:e=>{K0=e,queueMicrotask(CJ)}},WI=e=>t=>typeof t=="string"&&t.startsWith(e),KI=WI("--"),EJ=WI("var(--"),m_=e=>EJ(e)?TJ.test(e.split("/*")[0].trim()):!1,TJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function qM(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const qh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lp={...qh,transform:e=>ua(0,1,e)},Xx={...qh,default:1},Im=e=>Math.round(e*1e5)/1e5,p_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zJ(e){return e==null}const MJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,g_=(e,t)=>n=>!!(typeof n=="string"&&MJ.test(n)&&n.startsWith(e)||t&&!zJ(n)&&Object.prototype.hasOwnProperty.call(n,t)),GI=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,a,o,l]=s.match(p_);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},AJ=e=>ua(0,255,e),qj={...qh,transform:e=>Math.round(AJ(e))},eu={test:g_("rgb","red"),parse:GI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+qj.transform(e)+", "+qj.transform(t)+", "+qj.transform(n)+", "+Im(lp.transform(s))+")"};function RJ(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const $N={test:g_("#"),parse:RJ,transform:eu.transform},eg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Sl=eg("deg"),Ia=eg("%"),rt=eg("px"),OJ=eg("vh"),DJ=eg("vw"),ZM={...Ia,parse:e=>Ia.parse(e)/100,transform:e=>Ia.transform(e*100)},th={test:g_("hsl","hue"),parse:GI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Ia.transform(Im(t))+", "+Ia.transform(Im(n))+", "+Im(lp.transform(s))+")"},bs={test:e=>eu.test(e)||$N.test(e)||th.test(e),parse:e=>eu.test(e)?eu.parse(e):th.test(e)?th.parse(e):$N.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?eu.transform(e):th.transform(e),getAnimatableNone:e=>{const t=bs.parse(e);return t.alpha=0,bs.transform(t)}},PJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function IJ(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(p_))==null?void 0:t.length)||0)+(((n=e.match(PJ))==null?void 0:n.length)||0)>0}const YI="number",JI="color",LJ="var",$J="var(",WM="${}",VJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cp(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const l=t.replace(VJ,u=>(bs.test(u)?(s.color.push(a),r.push(JI),n.push(bs.parse(u))):u.startsWith($J)?(s.var.push(a),r.push(LJ),n.push(u)):(s.number.push(a),r.push(YI),n.push(parseFloat(u))),++a,WM)).split(WM);return{values:n,split:l,indexes:s,types:r}}function XI(e){return cp(e).values}function QI(e){const{split:t,types:n}=cp(e),s=t.length;return r=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],r[o]!==void 0){const l=n[o];l===YI?a+=Im(r[o]):l===JI?a+=bs.transform(r[o]):a+=r[o]}return a}}const BJ=e=>typeof e=="number"?0:bs.test(e)?bs.getAnimatableNone(e):e;function FJ(e){const t=XI(e);return QI(e)(t.map(BJ))}const ec={test:IJ,parse:XI,createTransformer:QI,getAnimatableNone:FJ};function Zj(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function UJ({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;r=Zj(u,l,e+1/3),a=Zj(u,l,e),o=Zj(u,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function mv(e,t){return n=>n>0?t:e}const Hn=(e,t,n)=>e+(t-e)*n,Wj=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},HJ=[$N,eu,th],qJ=e=>HJ.find(t=>t.test(e));function KM(e){const t=qJ(e);if(!t)return!1;let n=t.parse(e);return t===th&&(n=UJ(n)),n}const GM=(e,t)=>{const n=KM(e),s=KM(t);if(!n||!s)return mv(e,t);const r={...n};return a=>(r.red=Wj(n.red,s.red,a),r.green=Wj(n.green,s.green,a),r.blue=Wj(n.blue,s.blue,a),r.alpha=Hn(n.alpha,s.alpha,a),eu.transform(r))},VN=new Set(["none","hidden"]);function ZJ(e,t){return VN.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function WJ(e,t){return n=>Hn(e,t,n)}function x_(e){return typeof e=="number"?WJ:typeof e=="string"?m_(e)?mv:bs.test(e)?GM:YJ:Array.isArray(e)?e6:typeof e=="object"?bs.test(e)?GM:KJ:mv}function e6(e,t){const n=[...e],s=n.length,r=e.map((a,o)=>x_(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}}function KJ(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=x_(e[r])(e[r],t[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}}function GJ(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],o=e.indexes[a][s[a]],l=e.values[o]??0;n[r]=l,s[a]++}return n}const YJ=(e,t)=>{const n=ec.createTransformer(t),s=cp(e),r=cp(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?VN.has(e)&&!r.values.length||VN.has(t)&&!s.values.length?ZJ(e,t):Xp(e6(GJ(s,r),r.values),n):mv(e,t)};function t6(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Hn(e,t,n):x_(e)(e,t)}const JJ=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>nn.update(t,n),stop:()=>$i(t),now:()=>Is.isProcessing?Is.timestamp:wr.now()}},n6=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)s+=Math.round(e(a/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},pv=2e4;function v_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<pv;)t+=n,s=e.next(t);return t>=pv?1/0:t}function XJ(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(v_(s),pv);return{type:"keyframes",ease:a=>s.next(r*a).value/t,duration:Ai(r)}}const QJ=5;function s6(e,t,n){const s=Math.max(t-QJ,0);return d_(n-e(s),t-s)}const Qn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Kj=.001;function eX({duration:e=Qn.duration,bounce:t=Qn.bounce,velocity:n=Qn.velocity,mass:s=Qn.mass}){let r,a,o=1-t;o=ua(Qn.minDamping,Qn.maxDamping,o),e=ua(Qn.minDuration,Qn.maxDuration,Ai(e)),o<1?(r=d=>{const f=d*o,m=f*e,g=f-n,x=BN(d,o),b=Math.exp(-m);return Kj-g/x*b},a=d=>{const m=d*o*e,g=m*n+n,x=Math.pow(o,2)*Math.pow(d,2)*e,b=Math.exp(-m),w=BN(Math.pow(d,2),o);return(-r(d)+Kj>0?-1:1)*((g-x)*b)/w}):(r=d=>{const f=Math.exp(-d*e),m=(d-n)*e+1;return-Kj+f*m},a=d=>{const f=Math.exp(-d*e),m=(n-d)*(e*e);return f*m});const l=5/e,u=nX(r,a,l);if(e=Ro(e),isNaN(u))return{stiffness:Qn.stiffness,damping:Qn.damping,duration:e};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const tX=12;function nX(e,t,n){let s=n;for(let r=1;r<tX;r++)s=s-e(s)/t(s);return s}function BN(e,t){return e*Math.sqrt(1-t*t)}const sX=["duration","bounce"],rX=["stiffness","damping","mass"];function YM(e,t){return t.some(n=>e[n]!==void 0)}function iX(e){let t={velocity:Qn.velocity,stiffness:Qn.stiffness,damping:Qn.damping,mass:Qn.mass,isResolvedFromDuration:!1,...e};if(!YM(e,rX)&&YM(e,sX))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,a=2*ua(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:Qn.mass,stiffness:r,damping:a}}else{const n=eX(e);t={...t,...n,mass:Qn.mass},t.isResolvedFromDuration=!0}return t}function gv(e=Qn.visualDuration,t=Qn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:d,mass:f,duration:m,velocity:g,isResolvedFromDuration:x}=iX({...n,velocity:-Ai(n.velocity||0)}),b=g||0,w=d/(2*Math.sqrt(u*f)),j=o-a,k=Ai(Math.sqrt(u/f)),S=Math.abs(j)<5;s||(s=S?Qn.restSpeed.granular:Qn.restSpeed.default),r||(r=S?Qn.restDelta.granular:Qn.restDelta.default);let C;if(w<1){const T=BN(k,w);C=M=>{const z=Math.exp(-w*k*M);return o-z*((b+w*k*j)/T*Math.sin(T*M)+j*Math.cos(T*M))}}else if(w===1)C=T=>o-Math.exp(-k*T)*(j+(b+k*j)*T);else{const T=k*Math.sqrt(w*w-1);C=M=>{const z=Math.exp(-w*k*M),A=Math.min(T*M,300);return o-z*((b+w*k*j)*Math.sinh(A)+T*j*Math.cosh(A))/T}}const E={calculatedDuration:x&&m||null,next:T=>{const M=C(T);if(x)l.done=T>=m;else{let z=T===0?b:0;w<1&&(z=T===0?Ro(b):s6(C,T,M));const A=Math.abs(z)<=s,D=Math.abs(o-M)<=r;l.done=A&&D}return l.value=l.done?o:M,l},toString:()=>{const T=Math.min(v_(E),pv),M=n6(z=>E.next(T*z).value,T,30);return T+"ms "+M},toTransition:()=>{}};return E}gv.applyToOptions=e=>{const t=XJ(e,100,gv);return e.ease=t.ease,e.duration=Ro(t.duration),e.type="keyframes",e};function FN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const m=e[0],g={done:!1,value:m},x=A=>l!==void 0&&A<l||u!==void 0&&A>u,b=A=>l===void 0?u:u===void 0||Math.abs(l-A)<Math.abs(u-A)?l:u;let w=n*t;const j=m+w,k=o===void 0?j:o(j);k!==j&&(w=k-m);const S=A=>-w*Math.exp(-A/s),C=A=>k+S(A),E=A=>{const D=S(A),B=C(A);g.done=Math.abs(D)<=d,g.value=g.done?k:B};let T,M;const z=A=>{x(g.value)&&(T=A,M=gv({keyframes:[g.value,b(g.value)],velocity:s6(C,A,g.value),damping:r,stiffness:a,restDelta:d,restSpeed:f}))};return z(0),{calculatedDuration:null,next:A=>{let D=!1;return!M&&T===void 0&&(D=!0,E(A),z(A)),T!==void 0&&A>=T?M.next(A-T):(!D&&E(A),g)}}}function aX(e,t,n){const s=[],r=n||Vo.mix||t6,a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||Br:t;l=Xp(u,l)}s.push(l)}return s}function y_(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const a=e.length;if(op(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=aX(t,s,r),u=l.length,d=f=>{if(o&&f<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const g=_h(e[m],e[m+1],f);return l[m](g)};return n?f=>d(ua(e[0],e[a-1],f)):d}function oX(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=_h(0,t,s);e.push(Hn(n,1,r))}}function r6(e){const t=[0];return oX(t,e.length-1),t}function lX(e,t){return e.map(n=>n*t)}function cX(e,t){return e.map(()=>t||HI).splice(0,e.length-1)}function Lm({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=jJ(s)?s.map(HM):HM(s),a={done:!1,value:t[0]},o=lX(n&&n.length===t.length?n:r6(t),e),l=y_(o,t,{ease:Array.isArray(r)?r:cX(t,r)});return{calculatedDuration:e,next:u=>(a.value=l(u),a.done=u>=e,a)}}const uX=e=>e!==null;function b_(e,{repeat:t,repeatType:n="loop"},s,r=1){const a=e.filter(uX),l=r<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const dX={decay:FN,inertia:FN,tween:Lm,keyframes:Lm,spring:gv};function i6(e){typeof e.type=="string"&&(e.type=dX[e.type])}class w_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const hX=e=>e/100;class ab extends w_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==wr.now()&&this.tick(wr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;i6(t);const{type:n=Lm,repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const u=n||Lm;u!==Lm&&typeof l[0]!="number"&&(this.mixKeyframes=Xp(hX,t6(l[0],l[1])),l=[0,100]);const d=u({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=v_(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:x,type:b,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-d*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?k<0:k>r;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,E=s;if(m){const A=Math.min(this.currentTime,r)/l;let D=Math.floor(A),B=A%1;!B&&A>=1&&(B=1),B===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(g==="reverse"?(B=1-B,x&&(B-=x/l)):g==="mirror"&&(E=o)),C=ua(0,1,B)*l}const T=S?{done:!1,value:f[0]}:E.next(C);a&&(T.value=a(T.value));let{done:M}=T;!S&&u!==null&&(M=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const z=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return z&&b!==FN&&(T.value=b_(f,this.options,j,this.speed)),w&&w(T.value),z&&this.finish(),T}then(t,n){return this.finished.then(t,n)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ai(t)}get time(){return Ai(this.currentTime)}set time(t){var n;t=Ro(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(wr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ai(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:t=JJ,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(r=this.options).onPlay)==null||a.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(wr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function fX(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const tu=e=>e*180/Math.PI,UN=e=>{const t=tu(Math.atan2(e[1],e[0]));return HN(t)},mX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:UN,rotateZ:UN,skewX:e=>tu(Math.atan(e[1])),skewY:e=>tu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},HN=e=>(e=e%360,e<0&&(e+=360),e),JM=UN,XM=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),QM=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),pX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:XM,scaleY:QM,scale:e=>(XM(e)+QM(e))/2,rotateX:e=>HN(tu(Math.atan2(e[6],e[5]))),rotateY:e=>HN(tu(Math.atan2(-e[2],e[0]))),rotateZ:JM,rotate:JM,skewX:e=>tu(Math.atan(e[4])),skewY:e=>tu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function qN(e){return e.includes("scale")?1:0}function ZN(e,t){if(!e||e==="none")return qN(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=pX,r=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=mX,r=l}if(!r)return qN(t);const a=s[t],o=r[1].split(",").map(xX);return typeof a=="function"?a(o):o[a]}const gX=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return ZN(n,t)};function xX(e){return parseFloat(e.trim())}const Zh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wh=new Set(Zh),eA=e=>e===qh||e===rt,vX=new Set(["x","y","z"]),yX=Zh.filter(e=>!vX.has(e));function bX(e){const t=[];return yX.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Ll={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ZN(t,"x"),y:(e,{transform:t})=>ZN(t,"y")};Ll.translateX=Ll.x;Ll.translateY=Ll.y;const uu=new Set;let WN=!1,KN=!1,GN=!1;function a6(){if(KN){const e=Array.from(uu).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=bX(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}KN=!1,WN=!1,uu.forEach(e=>e.complete(GN)),uu.clear()}function o6(){uu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(KN=!0)})}function wX(){GN=!0,o6(),a6(),GN=!1}class j_{constructor(t,n,s,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(uu.add(this),WN||(WN=!0,nn.read(o6),nn.resolveKeyframes(a6))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const a=r==null?void 0:r.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),r&&a===void 0&&r.set(t[0])}fX(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),uu.delete(this)}cancel(){this.state==="scheduled"&&(uu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jX=e=>e.startsWith("--");function kX(e,t,n){jX(t)?e.style.setProperty(t,n):e.style[t]=n}const l6=c_(()=>window.ScrollTimeline!==void 0),NX={};function SX(e,t){const n=c_(e);return()=>NX[t]??n()}const c6=SX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wm=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,tA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wm([0,.65,.55,1]),circOut:wm([.55,0,1,.45]),backIn:wm([.31,.01,.66,-.59]),backOut:wm([.33,1.53,.69,.99])};function u6(e,t){if(e)return typeof e=="function"?c6()?n6(e,t):"ease-out":qI(e)?wm(e):Array.isArray(e)?e.map(n=>u6(n,t)||tA.easeOut):tA[e]}function _X(e,t,n,{delay:s=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[t]:n};u&&(f.offset=u);const m=u6(l,r);Array.isArray(m)&&(f.easing=m);const g={delay:s,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),e.animate(f,g)}function d6(e){return typeof e=="function"&&"applyToOptions"in e}function CX({type:e,...t}){return d6(e)&&c6()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class EX extends w_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,op(typeof t.type!="string");const d=CX(t);this.animation=_X(n,s,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=b_(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):kX(n,s,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ai(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ai(t)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ro(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&l6()?(this.animation.timeline=t,Br):n(this)}}const h6={anticipate:BI,backInOut:VI,circInOut:UI};function TX(e){return e in h6}function zX(e){typeof e.ease=="string"&&TX(e.ease)&&(e.ease=h6[e.ease])}const Gj=10;class MX extends EX{constructor(t){zX(t),i6(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new ab({...o,autoplay:!1}),u=Math.max(Gj,wr.now()-this.startTime),d=ua(0,Gj,u-Gj);n.setWithVelocity(l.sample(Math.max(0,u-d)).value,l.sample(u).value,d),l.stop()}}const nA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ec.test(e)||e==="0")&&!e.startsWith("url("));function AX(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function RX(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=nA(r,t),l=nA(a,t);return!o||!l?!1:AX(e)||(n==="spring"||d6(n))&&s}function YN(e){e.duration=0,e.type="keyframes"}const OX=new Set(["opacity","clipPath","filter","transform"]),DX=c_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PX(e){var f;const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:a,type:o}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return DX()&&n&&OX.has(n)&&(n!=="transform"||!d)&&!u&&!s&&r!=="mirror"&&a!==0&&o!=="inertia"}const IX=40;class LX extends w_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:f,...m}){var b;super(),this.stop=()=>{var w,j;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=wr.now();const g={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:o,name:u,motionValue:d,element:f,...m},x=(f==null?void 0:f.KeyframeResolver)||j_;this.keyframeResolver=new x(l,(w,j,k)=>this.onKeyframesResolved(w,j,g,!k),u,d,f),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,s,r){var j,k;this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:f}=s;this.resolvedAt=wr.now(),RX(t,a,o,l)||((Vo.instantAnimations||!u)&&(f==null||f(b_(t,s,n))),t[0]=t[t.length-1],YN(s),s.repeat=0);const g={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>IX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},x=!d&&PX(g),b=(k=(j=g.motionValue)==null?void 0:j.owner)==null?void 0:k.current,w=x?new MX({...g,element:b}):new ab(g);w.finished.then(()=>{this.notifyFinished()}).catch(Br),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),wX()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function f6(e,t,n,s=0,r=1){const a=Array.from(e).sort((d,f)=>d.sortNodePosition(f)).indexOf(t),o=e.size,l=(o-1)*s;return typeof n=="function"?n(a,o):r===1?a*s:l-a*s}const $X=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VX(e){const t=$X.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function m6(e,t,n=1){const[s,r]=VX(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return RI(o)?parseFloat(o):o}return m_(r)?m6(r,t,n+1):r}const BX={type:"spring",stiffness:500,damping:25,restSpeed:10},FX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),UX={type:"keyframes",duration:.8},HX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qX=(e,{keyframes:t})=>t.length>2?UX:Wh.has(e)?e.startsWith("scale")?FX(t[1]):BX:HX,ZX=e=>e!==null;function WX(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(ZX),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[a]}function k_(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function KX({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const N_=(e,t,n,s={},r,a)=>o=>{const l=k_(s,e)||{},u=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Ro(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r};KX(l)||Object.assign(f,qX(e,f)),f.duration&&(f.duration=Ro(f.duration)),f.repeatDelay&&(f.repeatDelay=Ro(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(YN(f),f.delay===0&&(m=!0)),(Vo.instantAnimations||Vo.skipAnimations)&&(m=!0,YN(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!a&&t.get()!==void 0){const g=WX(f.keyframes,l);if(g!==void 0){nn.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new ab(f):new LX(f)};function sA(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function S_(e,t,n,s){if(typeof t=="function"){const[r,a]=sA(s);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=sA(s);t=t(n!==void 0?n:e.custom,r,a)}return t}function mh(e,t,n){const s=e.getProps();return S_(s,t,n!==void 0?n:s.custom,e)}const p6=new Set(["width","height","top","left","right","bottom",...Zh]),rA=30,GX=e=>!isNaN(parseFloat(e)),$m={current:void 0};class YX{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const r=wr.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=wr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new u_);const s=this.events[t].add(n);return t==="change"?()=>{s(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return $m.current&&$m.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=wr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>rA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rA);return d_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function aa(e,t){return new YX(e,t)}const JN=e=>Array.isArray(e);function JX(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,aa(n))}function XX(e){return JN(e)?e[e.length-1]||0:e}function QX(e,t){const n=mh(e,t);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const o in a){const l=XX(a[o]);JX(e,o,l)}}const Bs=e=>!!(e&&e.getVelocity);function eQ(e){return!!(Bs(e)&&e.add)}function XN(e,t){const n=e.getValue("willChange");if(eQ(n))return n.add(t);if(!n&&Vo.WillChange){const s=new Vo.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function __(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const tQ="framerAppearId",g6="data-"+__(tQ);function x6(e){return e.props[g6]}function nQ({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function v6(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;const u=a==null?void 0:a.reduceMotion;s&&(a=s);const d=[],f=r&&e.animationState&&e.animationState.getState()[r];for(const m in l){const g=e.getValue(m,e.latestValues[m]??null),x=l[m];if(x===void 0||f&&nQ(f,m))continue;const b={delay:n,...k_(a||{},m)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===w&&!b.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const C=x6(e);if(C){const E=window.MotionHandoffAnimation(C,m,nn);E!==null&&(b.startTime=E,j=!0)}}XN(e,m);const k=u??e.shouldReduceMotion;g.start(N_(m,g,x,k&&p6.has(m)?{type:!1}:b,e,j));const S=g.animation;S&&d.push(S)}return o&&Promise.all(d).then(()=>{nn.update(()=>{o&&QX(e,o)})}),d}function QN(e,t,n={}){var u;const s=mh(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(v6(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=r;return sQ(e,t,d,f,m,g,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,f]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(n.delay)])}function sQ(e,t,n=0,s=0,r=0,a=1,o){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(QN(u,t,{...o,delay:n+(typeof s=="function"?0:s)+f6(e.variantChildren,u,s,r,a)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function rQ(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(a=>QN(e,a,n));s=Promise.all(r)}else if(typeof t=="string")s=QN(e,t,n);else{const r=typeof t=="function"?mh(e,t,n.custom):t;s=Promise.all(v6(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const iQ={test:e=>e==="auto",parse:e=>e},y6=e=>t=>t.test(e),b6=[qh,rt,Ia,Sl,DJ,OJ,iQ],iA=e=>b6.find(y6(e));function aQ(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||DI(e):!0}const oQ=new Set(["brightness","contrast","saturate","opacity"]);function lQ(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(p_)||[];if(!s)return e;const r=n.replace(s,"");let a=oQ.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const cQ=/\b([a-z-]*)\(.*?\)/gu,e2={...ec,getAnimatableNone:e=>{const t=e.match(cQ);return t?t.map(lQ).join(" "):e}},aA={...qh,transform:Math.round},uQ={rotate:Sl,rotateX:Sl,rotateY:Sl,rotateZ:Sl,scale:Xx,scaleX:Xx,scaleY:Xx,scaleZ:Xx,skew:Sl,skewX:Sl,skewY:Sl,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:lp,originX:ZM,originY:ZM,originZ:rt},C_={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,inset:rt,insetBlock:rt,insetBlockStart:rt,insetBlockEnd:rt,insetInline:rt,insetInlineStart:rt,insetInlineEnd:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,paddingBlock:rt,paddingBlockStart:rt,paddingBlockEnd:rt,paddingInline:rt,paddingInlineStart:rt,paddingInlineEnd:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,marginBlock:rt,marginBlockStart:rt,marginBlockEnd:rt,marginInline:rt,marginInlineStart:rt,marginInlineEnd:rt,fontSize:rt,backgroundPositionX:rt,backgroundPositionY:rt,...uQ,zIndex:aA,fillOpacity:lp,strokeOpacity:lp,numOctaves:aA},dQ={...C_,color:bs,backgroundColor:bs,outlineColor:bs,fill:bs,stroke:bs,borderColor:bs,borderTopColor:bs,borderRightColor:bs,borderBottomColor:bs,borderLeftColor:bs,filter:e2,WebkitFilter:e2},w6=e=>dQ[e];function j6(e,t){let n=w6(e);return n!==e2&&(n=ec),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const hQ=new Set(["auto","none","0"]);function fQ(e,t,n){let s=0,r;for(;s<e.length&&!r;){const a=e[s];typeof a=="string"&&!hQ.has(a)&&cp(a).values.length&&(r=e[s]),s++}if(r&&n)for(const a of t)e[a]=j6(n,r)}class mQ extends j_{constructor(t,n,s,r,a){super(t,n,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),m_(m))){const g=m6(m,n.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!p6.has(s)||t.length!==2)return;const[r,a]=t,o=iA(r),l=iA(a),u=qM(r),d=qM(a);if(u!==d&&Ll[s]){this.needsMeasurement=!0;return}if(o!==l)if(eA(o)&&eA(l))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else Ll[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||aQ(t[r]))&&s.push(r);s.length&&fQ(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ll[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Ll[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function E_(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){const r=document.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(s=>s!=null)}const k6=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function xv(e){return OI(e)&&"offsetHeight"in e}const{schedule:T_}=ZI(queueMicrotask,!1),Qi={x:!1,y:!1};function N6(){return Qi.x||Qi.y}function pQ(e){return e==="x"||e==="y"?Qi[e]?null:(Qi[e]=!0,()=>{Qi[e]=!1}):Qi.x||Qi.y?null:(Qi.x=Qi.y=!0,()=>{Qi.x=Qi.y=!1})}function S6(e,t){const n=E_(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function oA(e){return!(e.pointerType==="touch"||N6())}function gQ(e,t,n={}){const[s,r,a]=S6(e,n),o=l=>{if(!oA(l))return;const{target:u}=l,d=t(u,l);if(typeof d!="function"||!u)return;const f=m=>{oA(m)&&(d(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,r)};return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),a}const _6=(e,t)=>t?e===t?!0:_6(e,t.parentElement):!1,z_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,xQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C6(e){return xQ.has(e.tagName)||e.isContentEditable===!0}const G0=new WeakSet;function lA(e){return t=>{t.key==="Enter"&&e(t)}}function Yj(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const vQ=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=lA(()=>{if(G0.has(n))return;Yj(n,"down");const r=lA(()=>{Yj(n,"up")}),a=()=>Yj(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function cA(e){return z_(e)&&!N6()}function yQ(e,t,n={}){const[s,r,a]=S6(e,n),o=l=>{const u=l.currentTarget;if(!cA(l))return;G0.add(u);const d=t(u,l),f=(x,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),G0.has(u)&&G0.delete(u),cA(x)&&typeof d=="function"&&d(x,{success:b})},m=x=>{f(x,u===window||u===document||n.useGlobalTarget||_6(u,x.target))},g=x=>{f(x,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",g,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),xv(l)&&(l.addEventListener("focus",d=>vQ(d,r)),!C6(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function M_(e){return OI(e)&&"ownerSVGElement"in e}const Y0=new WeakMap;let _l;const E6=(e,t,n)=>(s,r)=>r&&r[0]?r[0][e+"Size"]:M_(s)&&"getBBox"in s?s.getBBox()[t]:s[n],bQ=E6("inline","width","offsetWidth"),wQ=E6("block","height","offsetHeight");function jQ({target:e,borderBoxSize:t}){var n;(n=Y0.get(e))==null||n.forEach(s=>{s(e,{get width(){return bQ(e,t)},get height(){return wQ(e,t)}})})}function kQ(e){e.forEach(jQ)}function NQ(){typeof ResizeObserver>"u"||(_l=new ResizeObserver(kQ))}function SQ(e,t){_l||NQ();const n=E_(e);return n.forEach(s=>{let r=Y0.get(s);r||(r=new Set,Y0.set(s,r)),r.add(t),_l==null||_l.observe(s)}),()=>{n.forEach(s=>{const r=Y0.get(s);r==null||r.delete(t),r!=null&&r.size||_l==null||_l.unobserve(s)})}}const J0=new Set;let nh;function _Q(){nh=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};J0.forEach(t=>t(e))},window.addEventListener("resize",nh)}function CQ(e){return J0.add(e),nh||_Q(),()=>{J0.delete(e),!J0.size&&typeof nh=="function"&&(window.removeEventListener("resize",nh),nh=void 0)}}function EQ(e,t){return typeof e=="function"?CQ(e):SQ(e,t)}function T6(e,t){let n;const s=()=>{const{currentTime:r}=t,o=(r===null?0:r.value)/100;n!==o&&e(o),n=o};return nn.preUpdate(s,!0),()=>$i(s)}function TQ(e){return M_(e)&&e.tagName==="svg"}function zQ(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],r=e[1+n],a=e[2+n],o=e[3+n],l=y_(r,a,o);return t?l(s):l}function MQ(e,t,n={}){const s=e.get();let r=null,a=s,o;const l=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,u=()=>{r&&(r.stop(),r=null)},d=()=>{u();const f=dA(e.get()),m=dA(a);f!==m&&(r=new ab({keyframes:[f,m],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o}))};if(e.attach((f,m)=>{a=f,o=g=>m(uA(g,l)),nn.postRender(()=>{var g;d(),(g=e.events.animationStart)==null||g.notify(),r==null||r.then(()=>{var x;(x=e.events.animationComplete)==null||x.notify()})})},u),Bs(t)){const f=t.on("change",g=>e.set(uA(g,l))),m=e.on("destroy",f);return()=>{f(),m()}}return u}function uA(e,t){return t?e+t:e}function dA(e){return typeof e=="number"?e:parseFloat(e)}const AQ=[...b6,bs,ec],RQ=e=>AQ.find(y6(e)),hA=()=>({translate:0,scale:1,origin:0,originPoint:0}),sh=()=>({x:hA(),y:hA()}),fA=()=>({min:0,max:0}),Ts=()=>({x:fA(),y:fA()}),vv={current:null},A_={current:!1},OQ=typeof window<"u";function z6(){if(A_.current=!0,!!OQ)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vv.current=e.matches;e.addEventListener("change",t),t()}else vv.current=!1}const DQ=new WeakMap;function ob(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function up(e){return typeof e=="string"||Array.isArray(e)}const R_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],O_=["initial",...R_];function lb(e){return ob(e.animate)||O_.some(t=>up(e[t]))}function M6(e){return!!(lb(e)||e.variants)}function PQ(e,t,n){for(const s in t){const r=t[s],a=n[s];if(Bs(r))e.addValue(s,r);else if(Bs(a))e.addValue(s,aa(r,{owner:e}));else if(a!==r)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(s);e.addValue(s,aa(o!==void 0?o:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const mA=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yv={};function A6(e){yv=e}function IQ(){return yv}class LQ{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=j_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=wr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,nn.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=lb(n),this.isVariantNode=M6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const x=m[g];u[g]!==void 0&&Bs(x)&&x.set(u[g])}}mount(t){var n;this.current=t,DQ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(A_.current||z6(),this.shouldReduceMotion=vv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),$i(this.notifyUpdate),$i(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Wh.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&nn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in yv){const n=yv[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ts()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<mA.length;s++){const r=mA[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=t[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=PQ(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=aa(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(RI(s)||DI(s))?s=parseFloat(s):!RQ(s)&&ec.test(n)&&(s=j6(t,n)),this.setBaseTarget(t,Bs(s)?s.get():s)),Bs(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=S_(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Bs(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new u_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){T_.render(this.render)}}class R6 extends LQ{constructor(){super(...arguments),this.KeyframeResolver=mQ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Bs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class oc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function O6({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function $Q({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VQ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Jj(e){return e===void 0||e===1}function t2({scale:e,scaleX:t,scaleY:n}){return!Jj(e)||!Jj(t)||!Jj(n)}function Hc(e){return t2(e)||D6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function D6(e){return pA(e.x)||pA(e.y)}function pA(e){return e&&e!=="0%"}function bv(e,t,n){const s=e-n,r=t*s;return n+r}function gA(e,t,n,s,r){return r!==void 0&&(e=bv(e,r,s)),bv(e,n,s)+t}function n2(e,t=0,n=1,s,r){e.min=gA(e.min,t,n,s,r),e.max=gA(e.max,t,n,s,r)}function P6(e,{x:t,y:n}){n2(e.x,t.translate,t.scale,t.originPoint),n2(e.y,n.translate,n.scale,n.originPoint)}const xA=.999999999999,vA=1.0000000000001;function BQ(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ih(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,P6(e,o)),s&&Hc(a.latestValues)&&ih(e,a.latestValues))}t.x<vA&&t.x>xA&&(t.x=1),t.y<vA&&t.y>xA&&(t.y=1)}function rh(e,t){e.min=e.min+t,e.max=e.max+t}function yA(e,t,n,s,r=.5){const a=Hn(e.min,e.max,r);n2(e,t,n,a,s)}function ih(e,t){yA(e.x,t.x,t.scaleX,t.scale,t.originX),yA(e.y,t.y,t.scaleY,t.scale,t.originY)}function I6(e,t){return O6(VQ(e.getBoundingClientRect(),t))}function FQ(e,t,n){const s=I6(e,n),{scroll:r}=t;return r&&(rh(s.x,r.offset.x),rh(s.y,r.offset.y)),s}const UQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},HQ=Zh.length;function qQ(e,t,n){let s="",r=!0;for(let a=0;a<HQ;a++){const o=Zh[a],l=e[o];if(l===void 0)continue;let u=!0;if(typeof l=="number")u=l===(o.startsWith("scale")?1:0);else{const d=parseFloat(l);u=o.startsWith("scale")?d===1:d===0}if(!u||n){const d=k6(l,C_[o]);if(!u){r=!1;const f=UQ[o]||o;s+=`${f}(${d}) `}n&&(t[o]=d)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function D_(e,t,n){const{style:s,vars:r,transformOrigin:a}=e;let o=!1,l=!1;for(const u in t){const d=t[u];if(Wh.has(u)){o=!0;continue}else if(KI(u)){r[u]=d;continue}else{const f=k6(d,C_[u]);u.startsWith("origin")?(l=!0,a[u]=f):s[u]=f}}if(t.transform||(o||n?s.transform=qQ(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=a;s.transformOrigin=`${u} ${d} ${f}`}}function L6(e,{style:t,vars:n},s,r){const a=e.style;let o;for(o in t)a[o]=t[o];r==null||r.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function bA(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const im={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rt.test(e))e=parseFloat(e);else return e;const n=bA(e,t.target.x),s=bA(e,t.target.y);return`${n}% ${s}%`}},ZQ={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=ec.parse(e);if(r.length>5)return s;const a=ec.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=u;const d=Hn(l,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),a(r)}},s2={borderRadius:{...im,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:im,borderTopRightRadius:im,borderBottomLeftRadius:im,borderBottomRightRadius:im,boxShadow:ZQ};function $6(e,{layout:t,layoutId:n}){return Wh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!s2[e]||e==="opacity")}function P_(e,t,n){var o;const s=e.style,r=t==null?void 0:t.style,a={};if(!s)return a;for(const l in s)(Bs(s[l])||r&&Bs(r[l])||$6(l,e)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function WQ(e){return window.getComputedStyle(e)}class KQ extends R6{constructor(){super(...arguments),this.type="html",this.renderInstance=L6}readValueFromInstance(t,n){var s;if(Wh.has(n))return(s=this.projection)!=null&&s.isProjecting?qN(n):gX(t,n);{const r=WQ(t),a=(KI(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return I6(t,n)}build(t,n,s){D_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return P_(t,n,s)}}const GQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},YQ={offset:"strokeDashoffset",array:"strokeDasharray"};function JQ(e,t,n=1,s=0,r=!0){e.pathLength=1;const a=r?GQ:YQ;e[a.offset]=`${-s}`,e[a.array]=`${t} ${n}`}const XQ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function V6(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...l},u,d,f){if(D_(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g}=e;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox);for(const x of XQ)m[x]!==void 0&&(g[x]=m[x],delete m[x]);t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),r!==void 0&&JQ(m,r,a,o,!1)}const B6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),F6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function QQ(e,t,n,s){L6(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(B6.has(r)?r:__(r),t.attrs[r])}function U6(e,t,n){const s=P_(e,t,n);for(const r in e)if(Bs(e[r])||Bs(t[r])){const a=Zh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}class eee extends R6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ts}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wh.has(n)){const s=w6(n);return s&&s.default||0}return n=B6.has(n)?n:__(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return U6(t,n,s)}build(t,n,s){V6(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){QQ(t,n,s,r)}mount(t){this.isSVGTag=F6(t.tagName),super.mount(t)}}const tee=O_.length;function H6(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?H6(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<tee;n++){const s=O_[n],r=e.props[s];(up(r)||r===!1)&&(t[s]=r)}return t}function q6(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const nee=[...R_].reverse(),see=R_.length;function ree(e){return t=>Promise.all(t.map(({animation:n,options:s})=>rQ(e,n,s)))}function iee(e){let t=ree(e),n=wA(),s=!0;const r=u=>(d,f)=>{var g;const m=mh(e,f,u==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:x,transitionEnd:b,...w}=m;d={...d,...w,...b}}return d};function a(u){t=u(e)}function o(u){const{props:d}=e,f=H6(e.parent)||{},m=[],g=new Set;let x={},b=1/0;for(let j=0;j<see;j++){const k=nee[j],S=n[k],C=d[k]!==void 0?d[k]:f[k],E=up(C),T=k===u?S.isActive:null;T===!1&&(b=j);let M=C===f[k]&&C!==d[k]&&E;if(M&&s&&e.manuallyAnimateOnMount&&(M=!1),S.protectedKeys={...x},!S.isActive&&T===null||!C&&!S.prevProp||ob(C)||typeof C=="boolean")continue;const z=aee(S.prevProp,C);let A=z||k===u&&S.isActive&&!M&&E||j>b&&E,D=!1;const B=Array.isArray(C)?C:[C];let $=B.reduce(r(k),{});T===!1&&($={});const{prevResolvedValues:q={}}=S,Z={...q,...$},F=I=>{A=!0,g.has(I)&&(D=!0,g.delete(I)),S.needsAnimating[I]=!0;const L=e.getValue(I);L&&(L.liveStyle=!1)};for(const I in Z){const L=$[I],G=q[I];if(x.hasOwnProperty(I))continue;let U=!1;JN(L)&&JN(G)?U=!q6(L,G):U=L!==G,U?L!=null?F(I):g.add(I):L!==void 0&&g.has(I)?F(I):S.protectedKeys[I]=!0}S.prevProp=C,S.prevResolvedValues=$,S.isActive&&(x={...x,...$}),s&&e.blockInitialAnimation&&(A=!1);const J=M&&z;A&&(!J||D)&&m.push(...B.map(I=>{const L={type:k};if(typeof I=="string"&&s&&!J&&e.manuallyAnimateOnMount&&e.parent){const{parent:G}=e,U=mh(G,I);if(G.enteringChildren&&U){const{delayChildren:R}=U.transition||{};L.delay=f6(G.enteringChildren,e,R)}}return{animation:I,options:L}}))}if(g.size){const j={};if(typeof d.initial!="boolean"){const k=mh(e,Array.isArray(d.initial)?d.initial[0]:d.initial);k&&k.transition&&(j.transition=k.transition)}g.forEach(k=>{const S=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),j[k]=S??null}),m.push({animation:j})}let w=!!m.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),s=!1,w?t(m):Promise.resolve()}function l(u,d){var m;if(n[u].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(u,d)}),n[u].isActive=d;const f=o(u);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=wA()}}}function aee(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!q6(t,e):!1}function Pc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wA(){return{animate:Pc(!0),whileInView:Pc(),whileHover:Pc(),whileTap:Pc(),whileDrag:Pc(),whileFocus:Pc(),exit:Pc()}}function jA(e,t){e.min=t.min,e.max=t.max}function Yi(e,t){jA(e.x,t.x),jA(e.y,t.y)}function kA(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const Z6=1e-4,oee=1-Z6,lee=1+Z6,W6=.01,cee=0-W6,uee=0+W6;function jr(e){return e.max-e.min}function dee(e,t,n){return Math.abs(e-t)<=n}function NA(e,t,n,s=.5){e.origin=s,e.originPoint=Hn(t.min,t.max,e.origin),e.scale=jr(n)/jr(t),e.translate=Hn(n.min,n.max,e.origin)-e.originPoint,(e.scale>=oee&&e.scale<=lee||isNaN(e.scale))&&(e.scale=1),(e.translate>=cee&&e.translate<=uee||isNaN(e.translate))&&(e.translate=0)}function Vm(e,t,n,s){NA(e.x,t.x,n.x,s?s.originX:void 0),NA(e.y,t.y,n.y,s?s.originY:void 0)}function SA(e,t,n){e.min=n.min+t.min,e.max=e.min+jr(t)}function hee(e,t,n){SA(e.x,t.x,n.x),SA(e.y,t.y,n.y)}function _A(e,t,n){e.min=t.min-n.min,e.max=e.min+jr(t)}function wv(e,t,n){_A(e.x,t.x,n.x),_A(e.y,t.y,n.y)}function CA(e,t,n,s,r){return e-=t,e=bv(e,1/n,s),r!==void 0&&(e=bv(e,1/r,s)),e}function fee(e,t=0,n=1,s=.5,r,a=e,o=e){if(Ia.test(t)&&(t=parseFloat(t),t=Hn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Hn(a.min,a.max,s);e===a&&(l-=t),e.min=CA(e.min,t,n,l,r),e.max=CA(e.max,t,n,l,r)}function EA(e,t,[n,s,r],a,o){fee(e,t[n],t[s],t[r],t.scale,a,o)}const mee=["x","scaleX","originX"],pee=["y","scaleY","originY"];function TA(e,t,n,s){EA(e.x,t,mee,n?n.x:void 0,s?s.x:void 0),EA(e.y,t,pee,n?n.y:void 0,s?s.y:void 0)}function zA(e){return e.translate===0&&e.scale===1}function K6(e){return zA(e.x)&&zA(e.y)}function MA(e,t){return e.min===t.min&&e.max===t.max}function gee(e,t){return MA(e.x,t.x)&&MA(e.y,t.y)}function AA(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function G6(e,t){return AA(e.x,t.x)&&AA(e.y,t.y)}function RA(e){return jr(e.x)/jr(e.y)}function OA(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function _i(e){return[e("x"),e("y")]}function xee(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||a||o)&&(s=`translate3d(${r}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:g,skewX:x,skewY:b}=n;d&&(s=`perspective(${d}px) ${s}`),f&&(s+=`rotate(${f}deg) `),m&&(s+=`rotateX(${m}deg) `),g&&(s+=`rotateY(${g}deg) `),x&&(s+=`skewX(${x}deg) `),b&&(s+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(s+=`scale(${l}, ${u})`),s||"none"}const Y6=["TopLeft","TopRight","BottomLeft","BottomRight"],vee=Y6.length,DA=e=>typeof e=="string"?parseFloat(e):e,PA=e=>typeof e=="number"||rt.test(e);function yee(e,t,n,s,r,a){r?(e.opacity=Hn(0,n.opacity??1,bee(s)),e.opacityExit=Hn(t.opacity??1,0,wee(s))):a&&(e.opacity=Hn(t.opacity??1,n.opacity??1,s));for(let o=0;o<vee;o++){const l=`border${Y6[o]}Radius`;let u=IA(t,l),d=IA(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||PA(u)===PA(d)?(e[l]=Math.max(Hn(DA(u),DA(d),s),0),(Ia.test(d)||Ia.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Hn(t.rotate||0,n.rotate||0,s))}function IA(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const bee=J6(0,.5,FI),wee=J6(.5,.95,Br);function J6(e,t,n){return s=>s<e?0:s>t?1:n(_h(e,t,s))}function jee(e,t,n){const s=Bs(e)?e:aa(e);return s.start(N_("",s,t,n)),s.animation}function dp(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const kee=(e,t)=>e.depth-t.depth;class Nee{constructor(){this.children=[],this.isDirty=!1}add(t){o_(this.children,t),this.isDirty=!0}remove(t){l_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kee),this.isDirty=!1,this.children.forEach(t)}}function See(e,t){const n=wr.now(),s=({timestamp:r})=>{const a=r-n;a>=t&&($i(s),e(a-t))};return nn.setup(s,!0),()=>$i(s)}function X0(e){return Bs(e)?e.get():e}class _ee{constructor(){this.members=[]}add(t){o_(this.members,t),t.scheduleRender()}remove(t){if(l_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const r=s.options.layoutDependency,a=t.options.layoutDependency;r!==void 0&&a!==void 0&&r===a||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:l}=t.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Q0={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Xj=["","X","Y","Z"],Cee=1e3;let Eee=0;function Qj(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function X6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=x6(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",nn,!(r||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&X6(s)}function Q6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=Eee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Mee),this.nodes.forEach(Dee),this.nodes.forEach(Pee),this.nodes.forEach(Aee)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new Nee)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new u_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=M_(o)&&!TQ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;nn.read(()=>{m=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,f&&f(),f=See(g,250),Q0.hasAnimatedSinceResize&&(Q0.hasAnimatedSinceResize=!1,this.nodes.forEach(VA)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||Bee,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=d.getProps(),k=!this.targetLayout||!G6(this.targetLayout,x),S=!m&&g;if(this.options.layoutRoot||this.resumeFrom||S||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...k_(b,"layout"),onPlay:w,onComplete:j};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(f,S)}else m||VA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),$i(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Iee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach($A);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Oee),this.nodes.forEach(Tee),this.nodes.forEach(zee)):this.nodes.forEach($A),this.clearAllSnapshots();const l=wr.now();Is.delta=ua(0,1e3/60,l-Is.timestamp),Is.timestamp=l,Is.isProcessing=!0,Hj.update.process(Is),Hj.preRender.process(Is),Hj.render.process(Is),Is.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,T_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ree),this.sharedNodes.forEach(Lee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!jr(this.snapshot.measuredBox.x)&&!jr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ts(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!K6(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Hc(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),Fee(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Ts();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Uee))){const{scroll:f}=this.root;f&&(rh(l.x,f.offset.x),rh(l.y,f.offset.y))}return l}removeElementScroll(o){var u;const l=Ts();if(Yi(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Yi(l,o),rh(l.x,m.offset.x),rh(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const u=Ts();Yi(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ih(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Hc(f.latestValues)&&ih(u,f.latestValues)}return Hc(this.latestValues)&&ih(u,this.latestValues),u}removeTransform(o){const l=Ts();Yi(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Hc(d.latestValues))continue;t2(d.latestValues)&&d.updateSnapshot();const f=Ts(),m=d.measurePageBox();Yi(f,m),TA(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Hc(this.latestValues)&&TA(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Is.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=Is.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ts(),this.targetWithTransforms=Ts()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),hee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yi(this.target,this.layout.layoutBox),P6(this.target,this.targetDelta)):Yi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||t2(this.parent.latestValues)||D6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ts(),this.relativeTargetOrigin=Ts(),wv(this.relativeTargetOrigin,l,u),Yi(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Is.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Yi(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;BQ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ts());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(kA(this.prevProjectionDelta.x,this.projectionDelta.x),kA(this.prevProjectionDelta.y,this.projectionDelta.y)),Vm(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!OA(this.projectionDelta.x,this.prevProjectionDelta.x)||!OA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sh(),this.projectionDelta=sh(),this.projectionDeltaWithTransform=sh()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},m=sh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Ts(),x=u?u.source:void 0,b=this.layout?this.layout.source:void 0,w=x!==b,j=this.getStack(),k=!j||j.members.length<=1,S=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(Vee));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const T=E/1e3;BA(m.x,o.x,T),BA(m.y,o.y,T),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(wv(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$ee(this.relativeTarget,this.relativeTargetOrigin,g,T),C&&gee(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Ts()),Yi(C,this.relativeTarget)),w&&(this.animationValues=f,yee(f,d,this.latestValues,T,S,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&($i(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{Q0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=aa(0)),this.currentAnimation=jee(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&eL(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Ts();const m=jr(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const g=jr(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}Yi(l,u),ih(l,f),Vm(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _ee),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&Qj("z",o,d,this.animationValues);for(let f=0;f<Xj.length;f++)Qj(`rotate${Xj[f]}`,o,d,this.animationValues),Qj(`skew${Xj[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=X0(l==null?void 0:l.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=X0(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Hc(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=xee(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),o.transform=m;const{x:g,y:x}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in s2){if(f[b]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:k}=s2[b],S=m==="none"?f[b]:w(f[b],d);if(j){const C=j.length;for(let E=0;E<C;E++)o[j[E]]=S}else k?this.options.visualElement.renderState.vars[b]=S:o[b]=S}this.options.layoutId&&(o.pointerEvents=d===this?X0(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(LA),this.root.sharedNodes.clear()}}}function Tee(e){e.updateLayout()}function zee(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?_i(m=>{const g=o?t.measuredBox[m]:t.layoutBox[m],x=jr(g);g.min=s[m].min,g.max=g.min+x}):eL(a,t.layoutBox,s)&&_i(m=>{const g=o?t.measuredBox[m]:t.layoutBox[m],x=jr(s[m]);g.max=g.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+x)});const l=sh();Vm(l,s,t.layoutBox);const u=sh();o?Vm(u,e.applyTransform(r,!0),t.measuredBox):Vm(u,s,t.layoutBox);const d=!K6(l);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:x}=m;if(g&&x){const b=Ts();wv(b,t.layoutBox,g.layoutBox);const w=Ts();wv(w,s,x.layoutBox),G6(b,w)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function Mee(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Aee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Ree(e){e.clearSnapshot()}function LA(e){e.clearMeasurements()}function $A(e){e.isLayoutDirty=!1}function Oee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function VA(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Dee(e){e.resolveTargetDelta()}function Pee(e){e.calcProjection()}function Iee(e){e.resetSkewAndRotation()}function Lee(e){e.removeLeadSnapshot()}function BA(e,t,n){e.translate=Hn(t.translate,0,n),e.scale=Hn(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function FA(e,t,n,s){e.min=Hn(t.min,n.min,s),e.max=Hn(t.max,n.max,s)}function $ee(e,t,n,s){FA(e.x,t.x,n.x,s),FA(e.y,t.y,n.y,s)}function Vee(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Bee={duration:.45,ease:[.4,0,.1,1]},UA=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),HA=UA("applewebkit/")&&!UA("chrome/")?Math.round:Br;function qA(e){e.min=HA(e.min),e.max=HA(e.max)}function Fee(e){qA(e.x),qA(e.y)}function eL(e,t,n){return e==="position"||e==="preserve-aspect"&&!dee(RA(t),RA(n),.2)}function Uee(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Hee=Q6({attachResizeListener:(e,t)=>dp(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),ek={current:void 0},tL=Q6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ek.current){const e=new Hee({});e.mount(window),e.setOptions({layoutScroll:!0}),ek.current=e}return ek.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tg=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function ZA(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function qee(...e){return t=>{let n=!1;const s=e.map(r=>{const a=ZA(r,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<s.length;r++){const a=s[r];typeof a=="function"?a():ZA(e[r],null)}}}}function Zee(...e){return v.useCallback(qee(...e),e)}class Wee extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=xv(s)&&s.offsetWidth||0,a=xv(s)&&s.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Kee({children:e,isPresent:t,anchorX:n,anchorY:s,root:r}){var m;const a=v.useId(),o=v.useRef(null),l=v.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=v.useContext(tg),d=((m=e.props)==null?void 0:m.ref)??(e==null?void 0:e.ref),f=Zee(o,d);return v.useInsertionEffect(()=>{const{width:g,height:x,top:b,left:w,right:j,bottom:k}=l.current;if(t||!o.current||!g||!x)return;const S=n==="left"?`left: ${w}`:`right: ${j}`,C=s==="bottom"?`bottom: ${k}`:`top: ${b}`;o.current.dataset.motionPopId=a;const E=document.createElement("style");u&&(E.nonce=u);const T=r??document.head;return T.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${x}px !important;
            ${S}px !important;
            ${C}px !important;
          }
        `),()=>{T.contains(E)&&T.removeChild(E)}},[t]),i.jsx(Wee,{isPresent:t,childRef:o,sizeRef:l,children:v.cloneElement(e,{ref:f})})}const Gee=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o,anchorX:l,anchorY:u,root:d})=>{const f=Ql(Yee),m=v.useId();let g=!0,x=v.useMemo(()=>(g=!1,{id:m,initial:t,isPresent:n,custom:r,onExitComplete:b=>{f.set(b,!0);for(const w of f.values())if(!w)return;s&&s()},register:b=>(f.set(b,!1),()=>f.delete(b))}),[n,f,s]);return a&&g&&(x={...x}),v.useMemo(()=>{f.forEach((b,w)=>f.set(w,!1))},[n]),v.useEffect(()=>{!n&&!f.size&&s&&s()},[n]),o==="popLayout"&&(e=i.jsx(Kee,{isPresent:n,anchorX:l,anchorY:u,root:d,children:e})),i.jsx(ib.Provider,{value:x,children:e})};function Yee(){return new Map}function nL(e=!0){const t=v.useContext(ib);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,a=v.useId();v.useEffect(()=>{if(e)return r(a)},[e]);const o=v.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const Qx=e=>e.key||"";function WA(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const gn=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",anchorY:u="top",root:d})=>{const[f,m]=nL(o),g=v.useMemo(()=>WA(e),[e]),x=o&&!f?[]:g.map(Qx),b=v.useRef(!0),w=v.useRef(g),j=Ql(()=>new Map),k=v.useRef(new Set),[S,C]=v.useState(g),[E,T]=v.useState(g);rb(()=>{b.current=!1,w.current=g;for(let A=0;A<E.length;A++){const D=Qx(E[A]);x.includes(D)?(j.delete(D),k.current.delete(D)):j.get(D)!==!0&&j.set(D,!1)}},[E,x.length,x.join("-")]);const M=[];if(g!==S){let A=[...g];for(let D=0;D<E.length;D++){const B=E[D],$=Qx(B);x.includes($)||(A.splice(D,0,B),M.push(B))}return a==="wait"&&M.length&&(A=M),T(WA(A)),C(g),null}const{forceRender:z}=v.useContext(a_);return i.jsx(i.Fragment,{children:E.map(A=>{const D=Qx(A),B=o&&!f?!1:g===E||x.includes(D),$=()=>{if(k.current.has(D))return;if(k.current.add(D),j.has(D))j.set(D,!0);else return;let q=!0;j.forEach(Z=>{Z||(q=!1)}),q&&(z==null||z(),T(w.current),o&&(m==null||m()),s&&s())};return i.jsx(Gee,{isPresent:B,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:a,root:d,onExitComplete:B?void 0:$,anchorX:l,anchorY:u,children:A},D)})})},sL=v.createContext({strict:!1}),KA={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let GA=!1;function Jee(){if(GA)return;const e={};for(const t in KA)e[t]={isEnabled:n=>KA[t].some(s=>!!n[s])};A6(e),GA=!0}function rL(){return Jee(),IQ()}function Xee(e){const t=rL();for(const n in e)t[n]={...t[n],...e[n]};A6(t)}const Qee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Qee.has(e)}let iL=e=>!jv(e);function ete(e){typeof e=="function"&&(iL=t=>t.startsWith("on")?!jv(t):e(t))}try{ete(require("@emotion/is-prop-valid").default)}catch{}function tte(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(iL(r)||n===!0&&jv(r)||!t&&!jv(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}const cb=v.createContext({});function nte(e,t){if(lb(e)){const{initial:n,animate:s}=e;return{initial:n===!1||up(n)?n:void 0,animate:up(s)?s:void 0}}return e.inherit!==!1?t:{}}function ste(e){const{initial:t,animate:n}=nte(e,v.useContext(cb));return v.useMemo(()=>({initial:t,animate:n}),[YA(t),YA(n)])}function YA(e){return Array.isArray(e)?e.join(" "):e}const I_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aL(e,t,n){for(const s in t)!Bs(t[s])&&!$6(s,n)&&(e[s]=t[s])}function rte({transformTemplate:e},t){return v.useMemo(()=>{const n=I_();return D_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function ite(e,t){const n=e.style||{},s={};return aL(s,n,e),Object.assign(s,rte(e,t)),s}function ate(e,t){const n={},s=ite(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const oL=()=>({...I_(),attrs:{}});function ote(e,t,n,s){const r=v.useMemo(()=>{const a=oL();return V6(a,t,F6(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};aL(a,e.style,e),r.style={...a,...r.style}}return r}const lte=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function L_(e){return typeof e!="string"||e.includes("-")?!1:!!(lte.indexOf(e)>-1||/[A-Z]/u.test(e))}function cte(e,t,n,{latestValues:s},r,a=!1,o){const u=(o??L_(e)?ote:ate)(t,s,r,e),d=tte(t,typeof e=="string",a),f=e!==v.Fragment?{...d,...u,ref:n}:{},{children:m}=t,g=v.useMemo(()=>Bs(m)?m.get():m,[m]);return v.createElement(e,{...f,children:g})}function ute({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:dte(n,s,r,e),renderState:t()}}function dte(e,t,n,s){const r={},a=s(e,{});for(const g in a)r[g]=X0(a[g]);let{initial:o,animate:l}=e;const u=lb(e),d=M6(e);t&&d&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!ob(m)){const g=Array.isArray(m)?m:[m];for(let x=0;x<g.length;x++){const b=S_(e,g[x]);if(b){const{transitionEnd:w,transition:j,...k}=b;for(const S in k){let C=k[S];if(Array.isArray(C)){const E=f?C.length-1:0;C=C[E]}C!==null&&(r[S]=C)}for(const S in w)r[S]=w[S]}}}return r}const lL=e=>(t,n)=>{const s=v.useContext(cb),r=v.useContext(ib),a=()=>ute(e,t,s,r);return n?a():Ql(a)},hte=lL({scrapeMotionValuesFromProps:P_,createRenderState:I_}),fte=lL({scrapeMotionValuesFromProps:U6,createRenderState:oL}),mte=Symbol.for("motionComponentSymbol");function pte(e,t,n){const s=v.useRef(n);v.useInsertionEffect(()=>{s.current=n});const r=v.useRef(null);return v.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const o=s.current;if(typeof o=="function")if(a){const u=o(a);typeof u=="function"&&(r.current=u)}else r.current?(r.current(),r.current=null):o(a);else o&&(o.current=a)},[t])}const cL=v.createContext({});function jm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function gte(e,t,n,s,r,a){var k,S;const{visualElement:o}=v.useContext(cb),l=v.useContext(sL),u=v.useContext(ib),d=v.useContext(tg).reducedMotion,f=v.useRef(null),m=v.useRef(!1);s=s||l.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d,isSVG:a}),m.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const g=f.current,x=v.useContext(cL);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&xte(f.current,n,r,x);const b=v.useRef(!1);v.useInsertionEffect(()=>{g&&b.current&&g.update(n,u)});const w=n[g6],j=v.useRef(!!w&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,w))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,w)));return rb(()=>{m.current=!0,g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),j.current&&g.animationState&&g.animationState.animateChanges())}),v.useEffect(()=>{g&&(!j.current&&g.animationState&&g.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,w)}),j.current=!1),g.enteringChildren=void 0)}),g}function xte(e,t,n,s){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:uL(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&jm(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:u,layoutRoot:d})}function uL(e){if(e)return e.options.allowProjection!==!1?e.projection:uL(e.parent)}function tk(e,{forwardMotionProps:t=!1,type:n}={},s,r){s&&Xee(s);const a=n?n==="svg":L_(e),o=a?fte:hte;function l(d,f){let m;const g={...v.useContext(tg),...d,layoutId:vte(d)},{isStatic:x}=g,b=ste(d),w=o(d,x);if(!x&&AI){yte();const j=bte(g);m=j.MeasureLayout,b.visualElement=gte(e,w,g,r,j.ProjectionNode,a)}return i.jsxs(cb.Provider,{value:b,children:[m&&b.visualElement?i.jsx(m,{visualElement:b.visualElement,...g}):null,cte(e,d,pte(w,b.visualElement,f),w,x,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=v.forwardRef(l);return u[mte]=e,u}function vte({layoutId:e}){const t=v.useContext(a_).id;return t&&e!==void 0?t+"-"+e:e}function yte(e,t){v.useContext(sL).strict}function bte(e){const t=rL(),{drag:n,layout:s}=t;if(!n&&!s)return{};const r={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function wte(e,t){if(typeof Proxy>"u")return tk;const n=new Map,s=(a,o)=>tk(a,o,e,t),r=(a,o)=>s(a,o);return new Proxy(r,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,tk(o,void 0,e,t)),n.get(o))})}const jte=(e,t)=>t.isSVG??L_(e)?new eee(t):new KQ(t,{allowProjection:e!==v.Fragment});class kte extends oc{constructor(t){super(t),t.animationState||(t.animationState=iee(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ob(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let Nte=0;class Ste extends oc{constructor(){super(...arguments),this.id=Nte++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _te={animation:{Feature:kte},exit:{Feature:Ste}};function ng(e){return{point:{x:e.pageX,y:e.pageY}}}const Cte=e=>t=>z_(t)&&e(t,ng(t));function Bm(e,t,n,s){return dp(e,t,Cte(n),s)}const dL=({current:e})=>e?e.ownerDocument.defaultView:null,JA=(e,t)=>Math.abs(e-t);function Ete(e,t){const n=JA(e.x,t.x),s=JA(e.y,t.y);return Math.sqrt(n**2+s**2)}const XA=new Set(["auto","scroll"]);class hL{constructor(t,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=sk(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=Ete(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:j}=x,{timestamp:k}=Is;this.history.push({...j,timestamp:k});const{onStart:S,onMove:C}=this.handlers;b||(S&&S(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=nk(b,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=sk(x.type==="pointercancel"?this.lastMoveEventInfo:nk(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,S),j&&j(x,S)},!z_(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=r||window;const u=ng(t),d=nk(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Is;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(t,sk(d,this.history)),this.removeListeners=Xp(Bm(this.contextWindow,"pointermove",this.handlePointerMove),Bm(this.contextWindow,"pointerup",this.handlePointerUp),Bm(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(XA.has(s.overflowX)||XA.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,r=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:r.x-n.x,y:r.y-n.y};a.x===0&&a.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,r),nn.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),$i(this.updatePoint)}}function nk(e,t){return t?{point:t(e.point)}:e}function QA(e,t){return{x:e.x-t.x,y:e.y-t.y}}function sk({point:e},t){return{point:e,delta:QA(e,fL(t)),offset:QA(e,Tte(t)),velocity:zte(t,.1)}}function Tte(e){return e[0]}function fL(e){return e[e.length-1]}function zte(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=fL(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>Ro(t)));)n--;if(!s)return{x:0,y:0};const a=Ai(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Mte(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Hn(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Hn(n,e,s.max):Math.min(e,n)),e}function e3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Ate(e,{top:t,left:n,bottom:s,right:r}){return{x:e3(e.x,n,r),y:e3(e.y,t,s)}}function t3(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function Rte(e,t){return{x:t3(e.x,t.x),y:t3(e.y,t.y)}}function Ote(e,t){let n=.5;const s=jr(e),r=jr(t);return r>s?n=_h(t.min,t.max-s,e.min):s>r&&(n=_h(e.min,e.max-r,t.min)),ua(0,1,n)}function Dte(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const r2=.35;function Pte(e=r2){return e===!1?e=0:e===!0&&(e=r2),{x:n3(e,"left","right"),y:n3(e,"top","bottom")}}function n3(e,t,n){return{min:s3(e,t),max:s3(e,n)}}function s3(e,t){return typeof e=="number"?e:e[t]||0}const Ite=new WeakMap;class Lte{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ts(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=m=>{n?(this.stopAnimation(),this.snapToCursor(ng(m).point)):this.pauseAnimation()},o=(m,g)=>{this.stopAnimation();const{drag:x,dragPropagation:b,onDragStart:w}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=pQ(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_i(k=>{let S=this.getAxisMotionValue(k).get()||0;if(Ia.test(S)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[k];E&&(S=jr(E)*(parseFloat(S)/100))}}this.originPoint[k]=S}),w&&nn.postRender(()=>w(m,g)),XN(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},l=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:w,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:k}=g;if(b&&this.currentDirection===null){this.currentDirection=$te(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),j&&j(m,g)},u=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>_i(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new hL(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:s,contextWindow:dL(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&nn.postRender(()=>l(s,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!e0(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=Mte(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;t&&jm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Ate(s.layoutBox,t):this.constraints=!1,this.elastic=Pte(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&_i(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Dte(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!jm(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=FQ(s,r.root,this.visualElement.getTransformPagePoint());let o=Rte(r.layout.layoutBox,a);if(n){const l=n($Q(o));this.hasMutatedConstraints=!!l,l&&(o=O6(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=_i(f=>{if(!e0(f,n,this.currentDirection))return;let m=u&&u[f]||{};o&&(m={min:0,max:0});const g=r?200:1e6,x=r?40:1e7,b={type:"inertia",velocity:s?t[f]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return XN(this.visualElement,t),s.start(N_(t,s,0,n,this.visualElement,!1))}stopAnimation(){_i(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_i(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){_i(n=>{const{drag:s}=this.getProps();if(!e0(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n],u=a.get()||0;a.set(t[n]-Hn(o,l,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!jm(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};_i(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();r[o]=Ote({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),_i(o=>{if(!e0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Hn(u,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;Ite.set(this.visualElement,this);const t=this.visualElement.current,n=Bm(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps(),m=u.target,g=m!==t&&C6(m);d&&f&&!g&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();jm(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),nn.read(s);const o=dp(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(_i(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=r2,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function e0(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function $te(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Vte extends oc{constructor(t){super(t),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new Lte(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const r3=e=>(t,n)=>{e&&nn.postRender(()=>e(t,n))};class Bte extends oc{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(t){this.session=new hL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:dL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:r3(t),onStart:r3(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&nn.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=Bm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let rk=!1;class Fte extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),rk&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),Q0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),rk=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||nn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),T_.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;rk=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function mL(e){const[t,n]=nL(),s=v.useContext(a_);return i.jsx(Fte,{...e,layoutGroup:s,switchLayoutGroup:v.useContext(cL),isPresent:t,safeToRemove:n})}const Ute={pan:{Feature:Bte},drag:{Feature:Vte,ProjectionNode:tL,MeasureLayout:mL}};function i3(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=s[r];a&&nn.postRender(()=>a(t,ng(t)))}class Hte extends oc{mount(){const{current:t}=this.node;t&&(this.unmount=gQ(t,(n,s)=>(i3(this.node,s,"Start"),r=>i3(this.node,r,"End"))))}unmount(){}}class qte extends oc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xp(dp(this.node.current,"focus",()=>this.onFocus()),dp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function a3(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=s[r];a&&nn.postRender(()=>a(t,ng(t)))}class Zte extends oc{mount(){const{current:t}=this.node;t&&(this.unmount=yQ(t,(n,s)=>(a3(this.node,s,"Start"),(r,{success:a})=>a3(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const i2=new WeakMap,ik=new WeakMap,Wte=e=>{const t=i2.get(e.target);t&&t(e)},Kte=e=>{e.forEach(Wte)};function Gte({root:e,...t}){const n=e||document;ik.has(n)||ik.set(n,{});const s=ik.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(Kte,{root:e,...t})),s[r]}function Yte(e,t,n){const s=Gte(t);return i2.set(e,n),s.observe(e),()=>{i2.delete(e),s.unobserve(e)}}const Jte={some:0,all:1};class Xte extends oc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:Jte[r]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=d?f:m;g&&g(u)};return Yte(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Qte(t,n))&&this.startObserver()}unmount(){}}function Qte({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const ene={inView:{Feature:Xte},tap:{Feature:Zte},focus:{Feature:qte},hover:{Feature:Hte}},tne={layout:{ProjectionNode:tL,MeasureLayout:mL}},nne={..._te,...ene,...Ute,...tne},ee=wte(nne,jte);function sne(e,t,n){v.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const rne=50,o3=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ine=()=>({time:0,x:o3(),y:o3()}),ane={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function l3(e,t,n,s){const r=n[t],{length:a,position:o}=ane[t],l=r.current,u=n.time;r.current=e[`scroll${o}`],r.scrollLength=e[`scroll${a}`]-e[`client${a}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=_h(0,r.scrollLength,r.current);const d=s-u;r.velocity=d>rne?0:d_(r.current-l,d)}function one(e,t,n){l3(e,"x",t,n),l3(e,"y",t,n),t.time=n}function lne(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(xv(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const a=s.getBoundingClientRect();n.x+=r.left-a.left,n.y+=r.top-a.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:a}=s.getBBox();n.x+=r,n.y+=a;let o=null,l=s.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=s.parentNode;s=o}else break;return n}const a2={start:0,center:.5,end:1};function c3(e,t,n=0){let s=0;if(e in a2&&(e=a2[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?s=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?s=r/100*document.documentElement.clientWidth:e.endsWith("vh")?s=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(s=t*e),n+s}const cne=[0,0];function une(e,t,n,s){let r=Array.isArray(e)?e:cne,a=0,o=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,a2[e]?e:"0"]),a=c3(r[0],n,s),o=c3(r[1],t),a-o}const dne={All:[[0,0],[1,1]]},hne={x:0,y:0};function fne(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function mne(e,t,n){const{offset:s=dne.All}=n,{target:r=e,axis:a="y"}=n,o=a==="y"?"height":"width",l=r!==e?lne(r,e):hne,u=r===e?{width:e.scrollWidth,height:e.scrollHeight}:fne(r),d={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let f=!t[a].interpolate;const m=s.length;for(let g=0;g<m;g++){const x=une(s[g],d[o],u[o],l[a]);!f&&x!==t[a].interpolatorOffsets[g]&&(f=!0),t[a].offset[g]=x}f&&(t[a].interpolate=y_(t[a].offset,r6(s),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=ua(0,1,t[a].interpolate(t[a].current))}function pne(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function gne(e,t,n,s={}){return{measure:r=>{pne(e,s.target,n),one(e,n,r),(s.offset||s.target)&&mne(e,n,s)},notify:()=>t(n)}}const Ed=new WeakMap,u3=new WeakMap,ak=new WeakMap,d3=new WeakMap,t0=new WeakMap,h3=e=>e===document.scrollingElement?window:e;function pL(e,{container:t=document.scrollingElement,trackContentSize:n=!1,...s}={}){if(!t)return Br;let r=ak.get(t);r||(r=new Set,ak.set(t,r));const a=ine(),o=gne(t,e,a,s);if(r.add(o),!Ed.has(t)){const u=()=>{for(const g of r)g.measure(Is.timestamp);nn.preUpdate(d)},d=()=>{for(const g of r)g.notify()},f=()=>nn.read(u);Ed.set(t,f);const m=h3(t);window.addEventListener("resize",f,{passive:!0}),t!==document.documentElement&&u3.set(t,EQ(t,f)),m.addEventListener("scroll",f,{passive:!0}),f()}if(n&&!t0.has(t)){const u=Ed.get(t),d={width:t.scrollWidth,height:t.scrollHeight};d3.set(t,d);const f=()=>{const g=t.scrollWidth,x=t.scrollHeight;(d.width!==g||d.height!==x)&&(u(),d.width=g,d.height=x)},m=nn.read(f,!0);t0.set(t,m)}const l=Ed.get(t);return nn.read(l,!1,!0),()=>{var m;$i(l);const u=ak.get(t);if(!u||(u.delete(o),u.size))return;const d=Ed.get(t);Ed.delete(t),d&&(h3(t).removeEventListener("scroll",d),(m=u3.get(t))==null||m(),window.removeEventListener("resize",d));const f=t0.get(t);f&&($i(f),t0.delete(t)),d3.delete(t)}}const f3=new Map;function xne(e){const t={value:0},n=pL(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function gL({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const r=f3.get(t)??new Map;f3.set(t,r);const a=n.target??"self",o=r.get(a)??{},l=s+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&l6()?new ScrollTimeline({source:t,axis:s}):xne({container:t,...n})),o[l]}function vne(e,t){const n=gL(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),T6(r=>{s.time=s.iterationDuration*r},n))})}function yne(e){return e.length===2}function bne(e,t){return yne(e)?pL(n=>{e(n[t.axis].progress,n)},t):T6(e,gL(t))}function wne(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return Br;const r={axis:t,container:n,...s};return typeof e=="function"?bne(e,r):vne(e,r)}const jne=()=>({scrollX:aa(0),scrollY:aa(0),scrollXProgress:aa(0),scrollYProgress:aa(0)}),n0=e=>e?!e.current:!1;function $_({container:e,target:t,...n}={}){const s=Ql(jne),r=v.useRef(null),a=v.useRef(!1),o=v.useCallback(()=>(r.current=wne((l,{x:u,y:d})=>{s.scrollX.set(u.current),s.scrollXProgress.set(u.progress),s.scrollY.set(d.current),s.scrollYProgress.set(d.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=r.current)==null||l.call(r)}),[e,t,JSON.stringify(n.offset)]);return rb(()=>{if(a.current=!1,n0(e)||n0(t)){a.current=!0;return}else return o()},[o]),v.useEffect(()=>{if(a.current)return op(!n0(e)),op(!n0(t)),o()},[o]),s}function V_(e){const t=Ql(()=>aa(e)),{isStatic:n}=v.useContext(tg);if(n){const[,s]=v.useState(e);v.useEffect(()=>t.on("change",s),[])}return t}function xL(e,t){const n=V_(t()),s=()=>n.set(t());return s(),rb(()=>{const r=()=>nn.preRender(s,!1,!0),a=e.map(o=>o.on("change",r));return()=>{a.forEach(o=>o()),$i(s)}}),n}function kne(e){$m.current=[],e();const t=xL($m.current,e);return $m.current=void 0,t}function zo(e,t,n,s){if(typeof e=="function")return kne(e);if(n!==void 0&&!Array.isArray(n)&&typeof t!="function")return Nne(e,t,n,s);const o=typeof t=="function"?t:zQ(t,n,s);return Array.isArray(e)?m3(e,o):m3([e],([l])=>o(l))}function m3(e,t){const n=Ql(()=>[]);return xL(e,()=>{n.length=0;const s=e.length;for(let r=0;r<s;r++)n[r]=e[r].get();return t(n)})}function Nne(e,t,n,s){const r=Ql(()=>Object.keys(n)),a=Ql(()=>({}));for(const o of r)a[o]=zo(e,t,n[o],s);return a}function Sne(e,t={}){const{isStatic:n}=v.useContext(tg),s=()=>Bs(e)?e.get():e;if(n)return zo(s);const r=V_(s());return v.useInsertionEffect(()=>MQ(r,e,t),[r,JSON.stringify(t)]),r}function p3(e,t={}){return Sne(e,{type:"spring",...t})}function _ne(){!A_.current&&z6();const[e]=v.useState(vv.current);return e}const Cne={some:0,all:1};function Ene(e,t,{root:n,margin:s,amount:r="some"}={}){const a=E_(e),o=new WeakMap,l=d=>{d.forEach(f=>{const m=o.get(f.target);if(f.isIntersecting!==!!m)if(f.isIntersecting){const g=t(f.target,f);typeof g=="function"?o.set(f.target,g):u.unobserve(f.target)}else typeof m=="function"&&(m(f),o.delete(f.target))})},u=new IntersectionObserver(l,{root:n,rootMargin:s,threshold:typeof r=="number"?r:Cne[r]});return a.forEach(d=>u.observe(d)),()=>u.disconnect()}function vL(e,{root:t,margin:n,amount:s,once:r=!1,initial:a=!1}={}){const[o,l]=v.useState(a);return v.useEffect(()=>{if(!e.current||r&&o)return;const u=()=>(l(!0),r?void 0:()=>l(!1)),d={root:t&&t.current||void 0,margin:n,amount:s};return Ene(e.current,u,d)},[t,e,n,r,s]),o}var Ma=function(){return Ma=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ma.apply(this,arguments)};function Kh(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function Tne(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(s.next(f))}catch(m){o(m)}}function u(f){try{d(s.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):r(f.value).then(l,u)}d((s=s.apply(e,t||[])).next())})}function zne(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,a;s<r;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}const Mne=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class B_ extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class Ane extends B_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class g3 extends B_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class x3 extends B_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var o2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(o2||(o2={}));class Rne{constructor(t,{headers:n={},customFetch:s,region:r=o2.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=Mne(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Tne(this,arguments,void 0,function*(n,s={}){var r;let a,o;try{const{headers:l,method:u,body:d,signal:f,timeout:m}=s;let g={},{region:x}=s;x||(x=this.region);const b=new URL(`${this.url}/${n}`);x&&x!=="any"&&(g["x-region"]=x,b.searchParams.set("forceFunctionRegion",x));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(g["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(g["Content-Type"]="application/json",w=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?w=JSON.stringify(d):w=d;let j=f;m&&(o=new AbortController,a=setTimeout(()=>o.abort(),m),f?(j=o.signal,f.addEventListener("abort",()=>o.abort())):j=o.signal);const k=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:w,signal:j}).catch(T=>{throw new Ane(T)}),S=k.headers.get("x-relay-error");if(S&&S==="true")throw new g3(k);if(!k.ok)throw new x3(k);let C=((r=k.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return C==="application/json"?E=yield k.json():C==="application/octet-stream"||C==="application/pdf"?E=yield k.blob():C==="text/event-stream"?E=k:C==="multipart/form-data"?E=yield k.formData():E=yield k.text(),{data:E,error:null,response:k}}catch(l){return{data:null,error:l,response:l instanceof x3||l instanceof g3?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var One=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Dne=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,u=null,d=a.status,f=a.statusText;if(a.ok){var m,g;if(n.method!=="HEAD"){var x;const k=await a.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((x=n.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?l=k:l=JSON.parse(k))}const w=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),j=(g=a.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");w&&j&&j.length>1&&(u=parseInt(j[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,d=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const w=await a.text();try{o=JSON.parse(w),Array.isArray(o)&&a.status===404&&(l=[],o=null,d=200,f="OK")}catch{a.status===404&&w===""?(d=204,f="No Content"):o={message:w}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,d=200,f="OK"),o&&n.shouldThrowOnError)throw new One(o)}return{error:o,data:l,count:u,status:d,statusText:f}});return this.shouldThrowOnError||(r=r.catch(a=>{var o;let l="";const u=a==null?void 0:a.cause;if(u){var d,f,m,g;const b=(d=u==null?void 0:u.message)!==null&&d!==void 0?d:"",w=(f=u==null?void 0:u.code)!==null&&f!==void 0?f:"";l=`${(m=a==null?void 0:a.name)!==null&&m!==void 0?m:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(g=u==null?void 0:u.name)!==null&&g!==void 0?g:"Error"}: ${b}`,w&&(l+=` (${w})`),u!=null&&u.stack&&(l+=`
${u.stack}`)}else{var x;l=(x=a==null?void 0:a.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},Pne=class extends Dne{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:r=s}={}){const a=r?`${r}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:r=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,r?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const v3=new RegExp("[,()]");var Wd=class extends Pne{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&v3.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&v3.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let r="";s==="plain"?r="pl":s==="phrase"?r="ph":s==="websearch"&&(r="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${r}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Ine=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:s}=t??{},r=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",o),s&&u.append("Prefer",`count=${s}`),new Wd({method:r,url:l,headers:u,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var s;const r="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new Wd({method:r,url:a,headers:o,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:r=!0}={}){var a;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),s&&u.append("Prefer",`count=${s}`),r||u.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",f.join(","))}}return new Wd({method:o,url:l,headers:u,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const s="PATCH",{url:r,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Wd({method:s,url:r,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:s,headers:r}=this.cloneRequestState();return e&&r.append("Prefer",`count=${e}`),new Wd({method:n,url:s,headers:r,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Lne=class yL{constructor(t,{headers:n={},schema:s,fetch:r}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=r}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Ine(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new yL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:r=!1,count:a}={}){var o;let l;const u=new URL(`${this.url}/rpc/${t}`);let d;const f=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(f)),m=s&&Object.values(n).some(f);m?(l="POST",d=n):s||r?(l=s?"HEAD":"GET",Object.entries(n).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{u.searchParams.append(x,b)})):(l="POST",d=n);const g=new Headers(this.headers);return m?g.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&g.set("Prefer",`count=${a}`),new Wd({method:l,url:u,headers:g,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class $ne{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const r=s.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Vne="2.93.3",Bne=`realtime-js/${Vne}`,Fne="1.0.0",bL="2.0.0",y3=bL,l2=1e4,Une=1e3,Hne=100;var zl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zl||(zl={}));var Es;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Es||(Es={}));var na;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(na||(na={}));var c2;(function(e){e.websocket="websocket"})(c2||(c2={}));var Yc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yc||(Yc={}));class qne{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,s;const r=(s=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(t){var n,s;const r=(s=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,s){var r,a;const o=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(x),w=0;b.setUint8(w++,this.KINDS.userBroadcastPush),b.setUint8(w++,u.length),b.setUint8(w++,l.length),b.setUint8(w++,o.length),b.setUint8(w++,d.length),b.setUint8(w++,m.length),b.setUint8(w++,n),Array.from(u,k=>b.setUint8(w++,k.charCodeAt(0))),Array.from(l,k=>b.setUint8(w++,k.charCodeAt(0))),Array.from(o,k=>b.setUint8(w++,k.charCodeAt(0))),Array.from(d,k=>b.setUint8(w++,k.charCodeAt(0))),Array.from(m,k=>b.setUint8(w++,k.charCodeAt(0)));var j=new Uint8Array(x.byteLength+s.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(s),x.byteLength),j.buffer}decode(t,n){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return n(s)}if(typeof t=="string"){const s=JSON.parse(t),[r,a,o,l,u]=s;return n({join_ref:r,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),s=n.getUint8(0),r=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,r)}}_decodeUserBroadcast(t,n,s){const r=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=s.decode(t.slice(u,u+r));u=u+r;const f=s.decode(t.slice(u,u+a));u=u+a;const m=s.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(s.decode(g)):g,b={type:this.BROADCAST_EVENT,event:f,payload:x};return o>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>n.includes(s)))}}let wL=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Tn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tn||(Tn={}));const b3=(e,t,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=Zne(o,e,t,r),a),{}):{}},Zne=(e,t,n,s)=>{const r=t.find(l=>l.name===e),a=r==null?void 0:r.type,o=n[e];return a&&!s.includes(a)?jL(a,o):u2(o)},jL=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Yne(t,n)}switch(e){case Tn.bool:return Wne(t);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return Kne(t);case Tn.json:case Tn.jsonb:return Gne(t);case Tn.timestamp:return Jne(t);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return u2(t);default:return u2(t)}},u2=e=>e,Wne=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Kne=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Gne=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Yne=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>jL(t,l))}return e},Jne=e=>typeof e=="string"?e.replace(" ","T"):e,kL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ok{constructor(t,n,s={},r=l2){this.channel=t,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var w3;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(w3||(w3={}));class Fm{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fm.syncState(this.state,r,a,o),this.pendingDiffs.forEach(u=>{this.state=Fm.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},r=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Fm.syncDiff(this.state,r,a,o),l())}),this.onJoin((r,a,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:o})}),this.onLeave((r,a,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,r){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,f)=>{o[d]||(u[d]=f)}),this.map(o,(d,f)=>{const m=a[d];if(m){const g=f.map(j=>j.presence_ref),x=m.map(j=>j.presence_ref),b=f.filter(j=>x.indexOf(j.presence_ref)<0),w=m.filter(j=>g.indexOf(j.presence_ref)<0);b.length>0&&(l[d]=b),w.length>0&&(u[d]=w)}else l[d]=f}),this.syncDiff(a,{joins:l,leaves:u},s,r)}static syncDiff(t,n,s,r){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(a,(l,u)=>{var d;const f=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),f.length>0){const m=t[l].map(x=>x.presence_ref),g=f.filter(x=>m.indexOf(x.presence_ref)<0);t[l].unshift(...g)}s(l,f,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const f=u.map(m=>m.presence_ref);d=d.filter(m=>f.indexOf(m.presence_ref)<0),t[l]=d,r(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const r=t[s];return"metas"in r?n[s]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var j3;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(j3||(j3={}));var Um;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Um||(Um={}));var Eo;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Eo||(Eo={}));class ah{constructor(t,n={config:{}},s){var r,a;if(this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Es.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ok(this,na.join,this.params,this.timeout),this.rejoinTimer=new wL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Es.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Es.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Es.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Es.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Es.errored,this.rejoinTimer.scheduleTimeout())}),this._on(na.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Fm(this),this.broadcastEndpointURL=kL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var s,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Es.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&r!==void 0?r:[],f=!!this.bindings[Um.PRESENCE]&&this.bindings[Um.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(Eo.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(Eo.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(Eo.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(b=w==null?void 0:w.length)!==null&&b!==void 0?b:0,k=[];for(let S=0;S<j;S++){const C=w[S],{filter:{event:E,schema:T,table:M,filter:z}}=C,A=x&&x[S];if(A&&A.event===E&&ah.isFilterValueEqual(A.schema,T)&&ah.isFilterValueEqual(A.table,M)&&ah.isFilterValueEqual(A.filter,z))k.push(Object.assign(Object.assign({},C),{id:A.id}));else{this.unsubscribe(),this.state=Es.errored,t==null||t(Eo.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(Eo.SUBSCRIBED);return}}).receive("error",x=>{this.state=Es.errored,t==null||t(Eo.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Eo.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Es.joined&&t===Um.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,s)}async httpSend(t,n,s={}){var r;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Es.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(na.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new ok(this,na.leave,{},t),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Es.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const r=new AbortController,a=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new ok(this,t,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Hne){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var r,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:f}=na;if(s&&[l,u,d,f].indexOf(o)>=0&&s!==this._joinRef())return;let g=this._onMessage(o,n,s);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(x=>{var b,w,j;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(w=x.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(x=>x.callback(g,s)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var b,w,j,k,S,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const E=x.id,T=(b=x.filter)===null||b===void 0?void 0:b.event;return E&&((w=n.ids)===null||w===void 0?void 0:w.includes(E))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const E=(S=(k=x==null?void 0:x.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:w,table:j,commit_timestamp:k,type:S,errors:C}=b;g=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:k,eventType:S,new:{},old:{},errors:C}),this._getPayloadRecords(b))}x.callback(g,s)})}_isClosed(){return this.state===Es.closed}_isJoined(){return this.state===Es.joined}_isJoining(){return this.state===Es.joining}_isLeaving(){return this.state===Es.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const r=t.toLocaleLowerCase(),a={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&ah.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(na.close,{},t)}_onError(t){this._on(na.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Es.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=b3(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=b3(t.columns,t.old_record)),n}}const lk=()=>{},s0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Xne=[1e3,2e3,5e3,1e4],Qne=1e4,ese=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tse{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=l2,this.transport=null,this.heartbeatIntervalMs=s0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lk,this.ref=0,this.reconnectTimer=null,this.vsn=y3,this.logger=lk,this.conn=null,this.sendBuffer=[],this.serializer=new qne,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${c2.websocket}`,this.httpEndpoint=kL(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$ne.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case zl.connecting:return Yc.Connecting;case zl.open:return Yc.Open;case zl.closing:return Yc.Closing;default:return Yc.Closed}}isConnected(){return this.connectionState()===Yc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,r=this.getChannels().find(a=>a.topic===s);if(r)return r;{const a=new ah(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:r,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${s} (${a})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Une,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},s0.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:r,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${s} ${r} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(r,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===zl.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zl.open||this.conn.readyState===zl.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(na.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${s}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([ese],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,s=!1;if(t)n=t,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:Bne};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(na.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new wL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},s0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,r,a,o,l,u,d,f,m,g,x;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:l2,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:s0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:lk,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:y3,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(b=>Xne[b-1]||Qne),this.vsn){case Fne:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((b,w)=>w(JSON.stringify(b))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((b,w)=>w(JSON.parse(b)));break;case bL:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var hp=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function nse(e,t,n){const s=new URL(t,e);if(n)for(const[r,a]of Object.entries(n))a!==void 0&&s.searchParams.set(r,a);return s.toString()}async function sse(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function rse(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:r,body:a,headers:o}){const l=nse(e.baseUrl,s,r),u=await sse(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),f=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),g=m&&f?JSON.parse(f):f;if(!d.ok){const x=m?g:void 0,b=x==null?void 0:x.error;throw new hp((b==null?void 0:b.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:x})}return{status:d.status,headers:d.headers,data:g}}}}function r0(e){return e.join("")}var ise=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:r0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${r0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${r0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${r0(e.namespace)}`}),!0}catch(t){if(t instanceof hp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof hp&&n.status===409)return;throw n}}};function Td(e){return e.join("")}var ase=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Td(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof hp&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof hp&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},ose=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=rse({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new ise(this.client,t),this.tableOps=new ase(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ub=class extends Error{constructor(e,t="storage",n,s){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=s}};function db(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var i0=class extends ub{constructor(e,t,n,s="storage"){super(e,s,t,n),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},NL=class extends ub{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const lse=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),cse=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},d2=e=>{if(Array.isArray(e))return e.map(n=>d2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[r]=d2(s)}),t},use=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function dse(e,t){if(fp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(fp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hse(e){var t=dse(e,"string");return fp(t)=="symbol"?t:t+""}function fse(e,t,n){return(t=hse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function jt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(n),!0).forEach(function(s){fse(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}const N3=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},mse=async(e,t,n,s)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e,a=r.status||500;if(typeof r.json=="function")r.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new i0(N3(o),a,l,s))}).catch(()=>{if(s==="vectors"){const o=a+"";t(new i0(r.statusText||`HTTP ${a} error`,a,o,s))}else{const o=a+"";t(new i0(r.statusText||`HTTP ${a} error`,a,o,s))}});else{const o=a+"";t(new i0(r.statusText||`HTTP ${a} error`,a,o,s))}}else t(new NL(N3(e),e,s))},pse=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!s?jt(jt({},r),n):(cse(s)?(r.headers=jt({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(s)):r.body=s,t!=null&&t.duplex&&(r.duplex=t.duplex),jt(jt({},r),n))};async function am(e,t,n,s,r,a,o){return new Promise((l,u)=>{e(n,pse(t,s,r,a)).then(d=>{if(!d.ok)throw d;if(s!=null&&s.noResolveJson)return d;if(o==="vectors"){const f=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!f||!f.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>mse(d,u,s,o))})}function SL(e="storage"){return{get:async(t,n,s,r)=>am(t,"GET",n,s,r,void 0,e),post:async(t,n,s,r,a)=>am(t,"POST",n,r,a,s,e),put:async(t,n,s,r,a)=>am(t,"PUT",n,r,a,s,e),head:async(t,n,s,r)=>am(t,"HEAD",n,jt(jt({},s),{},{noResolveJson:!0}),r,void 0,e),remove:async(t,n,s,r,a)=>am(t,"DELETE",n,r,a,s,e)}}const gse=SL("storage"),{get:mp,post:ta,put:h2,head:xse,remove:F_}=gse,si=SL("vectors");var Gh=class{constructor(e,t={},n,s="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=lse(n),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(db(n))return{data:null,error:n};throw n}}},vse=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(db(t))return{data:null,error:t};throw t}}};let _L;_L=Symbol.toStringTag;var yse=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[_L]="BlobDownloadBuilder",this.promise=null}asStream(){return new vse(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(db(t))return{data:null,error:t};throw t}}};const bse={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},S3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var wse=class extends Gh{constructor(e,t={},n,s){super(e,t,s,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,s){var r=this;return r.handleOperation(async()=>{let a;const o=jt(jt({},S3),s);let l=jt(jt({},r.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",r.encodeMetadata(u)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",r.encodeMetadata(u))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=r.toBase64(r.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=jt(jt({},l),s.headers));const d=r._removeEmptyFolders(t),f=r._getFinalPath(d),m=await(e=="PUT"?h2:ta)(r.fetch,`${r.url}/object/${f}`,a,jt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:d,id:m.Id,fullPath:m.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,s){var r=this;const a=r._removeEmptyFolders(e),o=r._getFinalPath(a),l=new URL(r.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),r.handleOperation(async()=>{let u;const d=jt({upsert:S3.upsert},s),f=jt(jt({},r.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType),{path:a,fullPath:(await h2(r.fetch,l.toString(),u,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e);const r=jt({},n.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const a=await ta(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(n.url+a.url),l=o.searchParams.get("token");if(!l)throw new ub("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var s=this;return s.handleOperation(async()=>await ta(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}))}async copy(e,t,n){var s=this;return s.handleOperation(async()=>({path:(await ta(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(e,t,n){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(e),a=await ta(s.fetch,`${s.url}/object/sign/${r}`,jt({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${s.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var s=this;return s.handleOperation(async()=>{const r=await ta(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return r.map(o=>jt(jt({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${a}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),r=s?`?${s}`:"",a=this._getFinalPath(e),o=()=>mp(this.fetch,`${this.url}/${n}/${a}${r}`,{headers:this.headers,noResolveJson:!0});return new yse(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>d2(await mp(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await xse(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(db(s)&&s instanceof NL){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&s.push(r);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&s.push(o);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await F_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var s=this;return s.handleOperation(async()=>{const r=jt(jt(jt({},bse),t),{},{prefix:e||""});return await ta(s.fetch,`${s.url}/object/list/${s.bucketId}`,r,{headers:s.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const s=jt({},e);return await ta(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const jse="2.93.3",sg={"X-Client-Info":`storage-js/${jse}`};var kse=class extends Gh{constructor(e,t={},n,s){const r=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase."));const a=r.href.replace(/\/$/,""),o=jt(jt({},sg),t);super(a,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await mp(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await mp(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await ta(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await h2(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ta(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await F_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Nse=class extends Gh{constructor(e,t={},n){const s=e.replace(/\/$/,""),r=jt(jt({},sg),t);super(s,r,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ta(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const s=n.toString(),r=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return await mp(t.fetch,r,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await F_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!use(e))throw new ub("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new ose({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(r,a){const o=r[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(r,l),error:null}}catch(u){if(s)throw u;return{data:null,error:u}}}}})}},Sse=class extends Gh{constructor(e,t={},n){const s=e.replace(/\/$/,""),r=jt(jt({},sg),{},{"Content-Type":"application/json"},t);super(s,r,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await si.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await si.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},_se=class extends Gh{constructor(e,t={},n){const s=e.replace(/\/$/,""),r=jt(jt({},sg),{},{"Content-Type":"application/json"},t);super(s,r,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Cse=class extends Gh{constructor(e,t={},n){const s=e.replace(/\/$/,""),r=jt(jt({},sg),{},{"Content-Type":"application/json"},t);super(s,r,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await si.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Ese=class extends Cse{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Tse(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Tse=class extends Sse{constructor(e,t,n,s){super(e,t,s),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,jt(jt({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,jt(jt({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new zse(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},zse=class extends _se{constructor(e,t,n,s,r){super(e,t,r),this.vectorBucketName=n,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,jt(jt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,jt(jt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,jt(jt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,jt(jt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,jt(jt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Mse=class extends kse{constructor(e,t={},n,s){super(e,t,n,s)}from(e){return new wse(this.url,this.headers,e,this.fetch)}get vectors(){return new Ese(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Nse(this.url+"/iceberg",this.headers,this.fetch)}};const CL="2.93.3",Kd=30*1e3,f2=3,ck=f2*Kd,Ase="http://localhost:9999",Rse="supabase.auth.token",Ose={"X-Client-Info":`gotrue-js/${CL}`},m2="X-Supabase-Api-Version",EL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dse=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Pse=600*1e3;class pp extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ise extends pp{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function Lse(e){return ut(e)&&e.name==="AuthApiError"}class Jc extends pp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class qo extends pp{constructor(t,n,s,r){super(t,s,r),this.name=n,this.status=s}}class ei extends qo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function uk(e){return ut(e)&&e.name==="AuthSessionMissingError"}class zd extends qo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class a0 extends qo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class o0 extends qo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $se(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class _3 extends qo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vse extends qo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class p2 extends qo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function dk(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class C3 extends qo{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class g2 extends qo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const kv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),E3=` 	
\r=`.split(""),Bse=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<E3.length;t+=1)e[E3[t].charCodeAt(0)]=-2;for(let t=0;t<kv.length;t+=1)e[kv[t].charCodeAt(0)]=t;return e})();function T3(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(kv[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(kv[s]),t.queuedBits-=6}}function TL(e,t,n){const s=Bse[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function z3(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=o=>{Hse(o,s,n)};for(let o=0;o<e.length;o+=1)TL(e.charCodeAt(o),r,a);return t.join("")}function Fse(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Use(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}Fse(s,t)}}function Hse(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function ph(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)TL(e.charCodeAt(r),n,s);return new Uint8Array(t)}function qse(e){const t=[];return Use(e,n=>t.push(n)),new Uint8Array(t)}function nu(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};return e.forEach(r=>T3(r,n,s)),T3(null,n,s),t.join("")}function Zse(e){return Math.round(Date.now()/1e3)+e}function Wse(){return Symbol("auth-callback")}const Xs=()=>typeof window<"u"&&typeof document<"u",Ic={tested:!1,writable:!1},zL=()=>{if(!Xs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ic.tested)return Ic.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ic.tested=!0,Ic.writable=!0}catch{Ic.tested=!0,Ic.writable=!1}return Ic.writable};function Kse(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,a)=>{t[a]=r})}catch{}return n.searchParams.forEach((s,r)=>{t[r]=s}),t}const ML=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Gse=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Lc=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Js=async(e,t)=>{await e.removeItem(t)};class hb{constructor(){this.promise=new hb.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}hb.promiseConstructor=Promise;function l0(e){const t=e.split(".");if(t.length!==3)throw new g2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!Dse.test(t[s]))throw new g2("JWT not in base64url format");return{header:JSON.parse(z3(t[0])),payload:JSON.parse(z3(t[1])),signature:ph(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yse(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jse(e,t){return new Promise((s,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){r(o);return}}})()})}function Xse(e){return("0"+e.toString(16)).substr(-2)}function Qse(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let a=0;a<56;a++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,Xse).join("")}async function ere(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}async function tre(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await ere(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Md(e,t,n=!1){const s=Qse();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Gd(e,`${t}-code-verifier`,r);const a=await tre(s);return[a,s===a?"plain":"s256"]}const nre=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sre(e){const t=e.headers.get(m2);if(!t||!t.match(nre))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rre(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ire(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const are=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ad(e){if(!are.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hk(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ore(e,t){return new Proxy(e,{get:(n,s,r)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,r)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,s,r)}})}function M3(e){return JSON.parse(JSON.stringify(e))}const qc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lre=[502,503,504];async function A3(e){var t;if(!Gse(e))throw new p2(qc(e),0);if(lre.includes(e.status))throw new p2(qc(e),e.status);let n;try{n=await e.json()}catch(a){throw new Jc(qc(a),a)}let s;const r=sre(e);if(r&&r.getTime()>=EL["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new C3(qc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new ei}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new C3(qc(n),e.status,n.weak_password.reasons);throw new Ise(qc(n),e.status||500,s)}const cre=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function bt(e,t,n,s){var r;const a=Object.assign({},s==null?void 0:s.headers);a[m2]||(a[m2]=EL["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await ure(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(u):{data:Object.assign({},u),error:null}}async function ure(e,t,n,s,r,a){const o=cre(t,s,r,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new p2(qc(u),0)}if(l.ok||await A3(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(u){await A3(u)}}function Xi(e){var t;let n=null;fre(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Zse(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function R3(e){const t=Xi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dre(e){return{data:e,error:null}}function hre(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:a}=e,o=Kh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function O3(e){return e}function fre(e){return e.access_token&&e.refresh_token&&e.expires_in}const fk=["global","local","others"];class mre{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=ML(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=fk[0]){if(fk.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${fk.join(", ")}`);try{return await bt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await bt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Dl})}catch(s){if(ut(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=Kh(t,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await bt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:hre,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ut(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,r,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await bt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:O3});if(f.error)throw f.error;const m=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);d[`${j}Page`]=w}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ut(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ad(t);try{return await bt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ad(t);try{return await bt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Dl})}catch(s){if(ut(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ad(t);try{return await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Dl})}catch(s){if(ut(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ad(t.userId);try{const{data:n,error:s}=await bt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ad(t.userId),Ad(t.id);try{return{data:await bt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,s,r,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:O3});if(f.error)throw f.error;const m=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);d[`${j}Page`]=w}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ut(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await bt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await bt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ut(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await bt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await bt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}}function D3(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Rd={debug:!!(globalThis&&zL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class AL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class pre extends AL{}async function gre(e,t,n){Rd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Rd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Rd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Rd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Rd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new pre(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Rd.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function xre(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function RL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vre(e){return parseInt(e,16)}function yre(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function bre(e){var t;const{chainId:n,domain:s,expirationTime:r,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:f,uri:m,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=RL(e.address),b=f?`${f}://${s}`:s,w=e.statement?`${e.statement}
`:"",j=`${b} wants you to sign in with your Ethereum account:
${x}

${w}`;let k=`URI: ${m}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(r&&(k+=`
Expiration Time: ${r.toISOString()}`),l&&(k+=`
Not Before: ${l.toISOString()}`),u&&(k+=`
Request ID: ${u}`),d){let S=`
Resources:`;for(const C of d){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);S+=`
- ${C}`}k+=S}return`${j}
${k}`}class vs extends Error{constructor({message:t,code:n,cause:s,name:r}){var a;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=r??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Nv extends vs{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function wre({error:e,options:t}){var n,s,r;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vs({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new vs({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new vs({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new vs({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new vs({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new vs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new vs({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new vs({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(OL(o)){if(a.rp.id!==o)return new vs({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new vs({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new vs({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function jre({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new vs({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new vs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(OL(s)){if(n.rpId!==s)return new vs({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new vs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new vs({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new vs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class kre{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Nre=new kre;function Sre(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:s}=e,r=Kh(e,["challenge","user","excludeCredentials"]),a=ph(t).buffer,o=Object.assign(Object.assign({},n),{id:ph(n.id).buffer}),l=Object.assign(Object.assign({},r),{challenge:a,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const d=s[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:ph(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function _re(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,s=Kh(e,["challenge","allowCredentials"]),r=ph(t).buffer,a=Object.assign(Object.assign({},s),{challenge:r});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:ph(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function Cre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:nu(new Uint8Array(e.response.attestationObject)),clientDataJSON:nu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ere(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,s=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:nu(new Uint8Array(r.authenticatorData)),clientDataJSON:nu(new Uint8Array(r.clientDataJSON)),signature:nu(new Uint8Array(r.signature)),userHandle:r.userHandle?nu(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function OL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function P3(){var e,t;return!!(Xs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Tre(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nv("Browser returned unexpected credential type",t)}:{data:null,error:new Nv("Empty credential response",t)}}catch(t){return{data:null,error:wre({error:t,options:e})}}}async function zre(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Nv("Browser returned unexpected credential type",t)}:{data:null,error:new Nv("Empty credential response",t)}}catch(t){return{data:null,error:jre({error:t,options:e})}}}const Mre={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Are={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Sv(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of e)if(r)for(const a in r){const o=r[a];if(o!==void 0)if(Array.isArray(o))s[a]=o;else if(n(o))s[a]=o;else if(t(o)){const l=s[a];t(l)?s[a]=Sv(l,o):s[a]=Sv(o)}else s[a]=o}return s}function Rre(e,t){return Sv(Mre,e,t||{})}function Ore(e,t){return Sv(Are,e,t||{})}class Dre{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:s,signal:r},a){var o;try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=r??Nre.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;if(!f.name){const m=s;if(m)f.name=`${f.id}:${m}`;else{const x=(await this.client.getUser()).data.user,b=((o=x==null?void 0:x.user_metadata)===null||o===void 0?void 0:o.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";f.name=`${f.id}:${b}`}}f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=Rre(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:g}=await Tre({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const f=Ore(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:g}=await zre(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return ut(l)?{data:null,error:l}:{data:null,error:new Jc("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},a){if(!n)return{data:null,error:new pp("rpId is required for WebAuthn authentication")};try{if(!P3())return{data:null,error:new Jc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:s},signal:r},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:s,credential_response:u.credential_response}})}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Jc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},a){if(!n)return{data:null,error:new pp("rpId is required for WebAuthn registration")};try{if(!P3())return{data:null,error:new Jc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:r},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:s,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Jc("Unexpected error in register",o)}}}}xre();const Pre={url:Ase,storageKey:Rse,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ose,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function I3(e,t,n){return await n()}const Od={};class gp{get jwks(){var t,n;return(n=(t=Od[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Od[this.storageKey]=Object.assign(Object.assign({},Od[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Od[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Od[this.storageKey]=Object.assign(Object.assign({},Od[this.storageKey]),{cachedAt:t})}constructor(t){var n,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Pre),t);if(this.storageKey=a.storageKey,this.instanceID=(n=gp.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,gp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Xs()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new mre({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=ML(a.fetch),this.lock=a.lock||I3,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Xs()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=gre:this.lock=I3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dre(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:zL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=D3(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=D3(this.memoryStorage)),Xs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${CL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},s="none";if(Xs()&&(n=Kse(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),Xs()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),$se(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ut(n)?this._returnResult({error:n}):this._returnResult({error:new Jc("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,r;try{const a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Xi}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,s,r;try{let a;if("email"in t){const{email:f,password:m,options:g}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await Md(this.storage,this.storageKey)),a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:b},xform:Xi})}else if("phone"in t){const{phone:f,password:m,options:g}=t;a=await bt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},channel:(r=g==null?void 0:g.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Xi})}else throw new a0("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Js(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await Js(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:R3})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await bt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:R3})}else throw new a0("You must provide either an email or phone number and a password");const{data:s,error:r}=n;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){const a=new zd;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,s,r,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,s,r,a,o,l,u,d,f,m,g;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:w,wallet:j,statement:k,options:S}=t;let C;if(Xs())if(typeof j=="object")C=j;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")C=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const E=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href),T=await C.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!T||T.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const M=RL(T[0]);let z=(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!z){const D=await C.request({method:"eth_chainId"});z=vre(D)}const A={domain:E.host,address:M,statement:k,uri:E.href,version:"1",chainId:z,nonce:(r=S==null?void 0:S.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=S==null?void 0:S.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=S==null?void 0:S.signInWithEthereum)===null||f===void 0?void 0:f.resources};x=bre(A),b=await C.request({method:"personal_sign",params:[yre(x),M]})}try{const{data:w,error:j}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Xi});if(j)throw j;if(!w||!w.session||!w.user){const k=new zd;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:j})}catch(w){if(ut(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,s,r,a,o,l,u,d,f,m,g,x;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:j,wallet:k,statement:S,options:C}=t;let E;if(Xs())if(typeof k=="object")E=k;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))E=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=k}const T=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const M=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),S?{statement:S}:null));let z;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")z=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)z=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)b=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),w=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${T.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(r=(s=C==null?void 0:C.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((d=C==null?void 0:C.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(f=C==null?void 0:C.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const M=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=M}}try{const{data:j,error:k}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:nu(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Xi});if(k)throw k;if(!j||!j.session||!j.user){const S=new zd;return this._returnResult({data:{user:null,session:null},error:S})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(ut(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const n=await Lc(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new Vse;const{data:a,error:o}=await bt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Xi});if(await Js(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new zd;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:o})}catch(a){if(await Js(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:r,access_token:a,nonce:o}=t,l=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Xi}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const f=new zd;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,s,r,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await Md(this.storage,this.storageKey));const{error:m}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:f}=await bt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new a0("You must provide either an email or phone number.")}catch(l){if(await Js(this.storage,`${this.storageKey}-code-verifier`),ut(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,s;try{let r,a;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await bt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Xi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(r){if(ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(t){var n,s,r,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await Md(this.storage,this.storageKey));const d=await bt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:dre});return!((a=d.data)===null||a===void 0)&&a.url&&Xs()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Js(this.storage,`${this.storageKey}-code-verifier`),ut(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new ei;const{error:r}=await bt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:a}=t,{error:o}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:r,options:a}=t,{data:o,error:l}=await bt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new a0("You must provide either an email or phone number and a type")}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Lc(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<ck:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Lc(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=hk()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=ore(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dl}):await this._useSession(async n=>{var s,r,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ei}:await bt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:Dl})})}catch(n){if(ut(n))return uk(n)&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:r,error:a}=s;if(a)throw a;if(!r.session)throw new ei;const o=r.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await Md(this.storage,this.storageKey));const{data:d,error:f}=await bt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Dl});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await Js(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ei;const n=Date.now()/1e3;let s=n,r=!0,a=null;const{payload:o}=l0(t.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ut(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new ei;const{data:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Xs())throw new o0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new o0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new o0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _3("No code detected.");const{data:S,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new o0("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let g=f+m;u&&(g=parseInt(u));const x=g-f;x*1e3<=Kd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const b=g-m;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:w,error:j}=await this._getUser(a);if(j)throw j;const k={provider_token:s,provider_refresh_token:r,access_token:a,expires_in:m,expires_at:g,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(s){if(ut(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Lc(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:a}=n;if(a&&!uk(a))return this._returnResult({error:a});const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Lse(l)&&(l.status===404||l.status===401||l.status===403)||uk(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Js(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Wse(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,r;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await Md(this.storage,this.storageKey,!0));try{return await bt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Js(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:s,error:r}=await this._useSession(async a=>{var o,l,u,d,f;const{data:m,error:g}=a;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await bt(this.fetch,"GET",x,{headers:this.headers,jwt:(f=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(r)throw r;return Xs()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(ut(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var s;try{const{error:r,data:{session:a}}=n;if(r)throw r;const{options:o,provider:l,token:u,access_token:d,nonce:f}=t,m=await bt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a==null?void 0:a.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Xi}),{data:g,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new zd}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(r){if(await Js(this.storage,`${this.storageKey}-code-verifier`),ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,r;const{data:a,error:o}=n;if(o)throw o;return await bt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await Jse(async r=>(r>0&&await Yse(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await bt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Xi})),(r,a)=>{const o=200*Math.pow(2,r);return a&&dk(a)&&Date.now()+o-s<Kd})}catch(s){if(this._debug(n,"error",s),ut(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Xs()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Lc(this.storage,this.storageKey);if(r&&this.userStorage){let o=await Lc(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await Gd(this.userStorage,this.storageKey+"-user",o)),r.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:hk()}else if(r&&!r.user&&!r.user){const o=await Lc(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await Js(this.storage,this.storageKey+"-user"),await Gd(this.storage,this.storageKey,r)):r.user=hk()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const a=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ck;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${ck}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),dk(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(r.access_token);!l&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new ei;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new hb;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new ei;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(r,"error",a),ut(a)){const o={data:null,error:a};return dk(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Js(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Gd(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const a=M3(r);await Gd(this.storage,this.storageKey,a)}else{const r=M3(n);await Gd(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Js(this.storage,this.storageKey),await Js(this.storage,this.storageKey+"-code-verifier"),await Js(this.storage,this.storageKey+"-user"),this.userStorage&&await Js(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Kd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/Kd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Kd}ms, refresh threshold is ${f2} ticks`),r<=f2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof AL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await Md(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);r.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:r,error:a}=n;return a?this._returnResult({data:null,error:a}):await bt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,r;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await bt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((r=u==null?void 0:u.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Cre(t.webauthn.credential_response):Ere(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await bt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:Sre(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:_re(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])r.all.push(a),a.status==="verified"&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,s,r,a;if(t)try{const{payload:x}=l0(t);let b=null;x.aal&&(b=x.aal);let w=b;const{data:{user:j},error:k}=await this.getUser(t);if(k)return this._returnResult({data:null,error:k});((s=(n=j==null?void 0:j.factors)===null||n===void 0?void 0:n.filter(E=>E.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(w="aal2");const C=x.amr||[];return{data:{currentLevel:b,nextLevel:w,currentAuthenticationMethods:C},error:null}}catch(x){if(ut(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=l0(o.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((a=(r=o.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await bt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new ei})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:r},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new ei});const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Xs()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(ut(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:r},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new ei});const o=await bt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Xs()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(ut(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;return s?this._returnResult({data:null,error:s}):n?await bt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new ei})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?(await bt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ei})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Pse>r)return s;const{data:a,error:o}=await bt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=r,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:x,error:b}=await this.getSession();if(b||!x.session)return this._returnResult({data:null,error:b});s=x.session.access_token}const{header:r,payload:a,signature:o,raw:{header:l,payload:u}}=l0(s);n!=null&&n.allowExpired||rre(a.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:a,header:r,signature:o},error:null}}const f=ire(r.alg),m=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,o,qse(`${l}.${u}`)))throw new g2("Invalid JWT signature");return{data:{claims:a,header:r,signature:o},error:null}}catch(s){if(ut(s))return this._returnResult({data:null,error:s});throw s}}}gp.nextInstanceID={};const Ire=gp,Lre="2.93.3";let km="";typeof Deno<"u"?km="deno":typeof document<"u"?km="web":typeof navigator<"u"&&navigator.product==="ReactNative"?km="react-native":km="node";const $re={"X-Client-Info":`supabase-js-${km}/${Lre}`},Vre={headers:$re},Bre={schema:"public"},Fre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ure={};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function Hre(e,t){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qre(e){var t=Hre(e,"string");return xp(t)=="symbol"?t:t+""}function Zre(e,t,n){return(t=qre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Xn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(n),!0).forEach(function(s){Zre(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}const Wre=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Kre=()=>Headers,Gre=(e,t,n)=>{const s=Wre(n),r=Kre();return async(a,o)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let d=new r(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),s(a,Xn(Xn({},o),{},{headers:d}))}};function Yre(e){return e.endsWith("/")?e:e+"/"}function Jre(e,t){var n,s;const{db:r,auth:a,realtime:o,global:l}=e,{db:u,auth:d,realtime:f,global:m}=t,g={db:Xn(Xn({},u),r),auth:Xn(Xn({},d),a),realtime:Xn(Xn({},f),o),storage:{},global:Xn(Xn(Xn({},m),l),{},{headers:Xn(Xn({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function Xre(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Yre(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qre=class extends Ire{constructor(e){super(e)}},eie=class{constructor(e,t,n){var s,r;this.supabaseUrl=e,this.supabaseKey=t;const a=Xre(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:Bre,realtime:Ure,auth:Xn(Xn({},Fre),{},{storageKey:o}),global:Vre},u=Jre(n??{},l);if(this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=u.auth)!==null&&d!==void 0?d:{},this.headers,u.global.fetch)}this.fetch=Gre(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Xn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new Lne(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new Mse(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Rne(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,userStorage:r,storageKey:a,flowType:o,lock:l,debug:u,throwOnError:d},f,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qre({url:this.authUrl.href,headers:Xn(Xn({},g),f),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,userStorage:r,flowType:o,lock:l,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new tse(this.realtimeUrl.href,Xn(Xn({},e),{},{params:Xn(Xn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tie=(e,t,n)=>new eie(e,t,n);function nie(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}nie()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sie="https://smcvwjbdrrswbdfidlgz.supabase.co",rie="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE",ae=tie(sie,rie),DL=v.createContext(void 0);function iie({children:e}){const[t,n]=v.useState(null),[s,r]=v.useState(null),[a,o]=v.useState(!0),l=Jt();v.useEffect(()=>{ae.auth.getSession().then(({data:{session:x}})=>{r(x),n((x==null?void 0:x.user)??null),o(!1)});const{data:{subscription:g}}=ae.auth.onAuthStateChange((x,b)=>{r(w=>(w==null?void 0:w.access_token)===(b==null?void 0:b.access_token)?w:b),n(w=>{const j=(b==null?void 0:b.user)??null;return(w==null?void 0:w.id)===(j==null?void 0:j.id)?w:j})});return()=>g.unsubscribe()},[]);const u=async(g,x)=>{const{data:b,error:w}=await ae.auth.signInWithPassword({email:g,password:x});if(w)throw w;n(b.user),r(b.session);const j=localStorage.getItem("pending_plan");j?(localStorage.removeItem("pending_plan"),l("/",{state:{scrollTo:"pricing",selectedPlan:j}})):l("/prehled")},d=async(g,x)=>{const{data:b,error:w}=await ae.auth.signUp({email:g,password:x,options:{emailRedirectTo:`${window.location.origin}/prehled`}});if(w)throw w;b.session&&(n(b.user),r(b.session),localStorage.removeItem("onboarding_completed"),localStorage.getItem("pending_plan")&&localStorage.removeItem("pending_plan"),l("/onboarding"))},f=async()=>{const{error:g}=await ae.auth.signInWithOAuth({provider:"google",options:{redirectTo:`${window.location.origin}/prehled`}});if(g)throw g},m=async()=>{const{error:g}=await ae.auth.signOut();if(g)throw g;n(null),r(null),l("/")};return i.jsx(DL.Provider,{value:{user:t,session:s,loading:a,signIn:u,signUp:d,signOut:m,signInWithGoogle:f},children:e})}function Ht(){const e=v.useContext(DL);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const PL=v.createContext(null),IL="dires-cart";function aie(){try{const e=localStorage.getItem(IL);if(e)return JSON.parse(e)}catch{}return[]}function oie(e){try{localStorage.setItem(IL,JSON.stringify(e))}catch{}}function lie({children:e}){const[t,n]=v.useState(aie);v.useEffect(()=>{oie(t)},[t]);const s=v.useCallback((f,m=1)=>{n(g=>g.find(b=>b.slug===f.slug)?g.map(b=>b.slug===f.slug?{...b,quantity:b.quantity+m}:b):[...g,{...f,quantity:m}])},[]),r=v.useCallback(f=>{n(m=>m.filter(g=>g.slug!==f))},[]),a=v.useCallback((f,m)=>{if(m<=0){n(g=>g.filter(x=>x.slug!==f));return}n(g=>g.map(x=>x.slug===f?{...x,quantity:m}:x))},[]),o=v.useCallback(()=>{n([])},[]),l=v.useMemo(()=>t.reduce((f,m)=>f+m.quantity,0),[t]),u=v.useMemo(()=>t.reduce((f,m)=>f+m.price*m.quantity,0),[t]),d=v.useMemo(()=>({items:t,addItem:s,removeItem:r,updateQuantity:a,clearCart:o,itemCount:l,subtotal:u}),[t,s,r,a,o,l,u]);return i.jsx(PL.Provider,{value:d,children:e})}function rg(){const e=v.useContext(PL);if(!e)throw new Error("useCart must be used within CartProvider");return e}const LL=v.createContext({mobileNavVisible:!0,showMobileNav:()=>{},hideMobileNav:()=>{}});function cie({children:e}){const[t,n]=v.useState(!1),s=v.useCallback(()=>n(!0),[]),r=v.useCallback(()=>n(!1),[]);return i.jsx(LL.Provider,{value:{mobileNavVisible:t,showMobileNav:s,hideMobileNav:r},children:e})}function U_(){return v.useContext(LL)}function uie(){const e=sessionStorage.getItem("activity_session_id");if(e)return e;const t=`${Date.now()}-${Math.random().toString(36).slice(2,10)}`;return sessionStorage.setItem("activity_session_id",t),t}function mk(){const e=navigator.userAgent;return/Mobi|Android/i.test(e)?"mobile":/Tablet|iPad/i.test(e)?"tablet":"desktop"}const $3={"/":"Domovska stranka","/kurzy":"Kurzy","/blog":"Blog","/obchod":"Obchod","/tym":"Tym","/reference":"Reference","/prihlaseni":"Prihlaseni","/registrace":"Registrace","/prehled":"Dashboard","/admin":"Admin Panel"};function pk(e){return $3[e]?$3[e]:e.startsWith("/admin")?"Admin":e.startsWith("/prehled")?"Dashboard":e.startsWith("/kurz/")?"Detail kurzu":e.startsWith("/blog/")?"Blog clanek":e.startsWith("/obchod/")?"Produkt":e}const die=3e4,V3=2;function hie(){const{user:e}=Ht(),t=ss(),n=v.useRef(uie()),s=v.useRef(Date.now()),r=v.useRef(""),a=v.useRef([]),o=v.useRef(null),l=v.useCallback(async()=>{if(a.current.length===0)return;const d=[...a.current];a.current=[];try{await ae.from("user_activity").insert(d)}catch{a.current.unshift(...d)}},[]),u=v.useCallback((d,f={})=>{const m={user_id:(e==null?void 0:e.id)??null,session_id:n.current,event_type:d,page_path:t.pathname,page_title:pk(t.pathname),referrer:document.referrer||"",user_agent:navigator.userAgent,device_type:mk(),duration_seconds:0,metadata:f};a.current.push(m),a.current.length>=10&&l()},[e,t.pathname,l]);return v.useEffect(()=>{if(t.pathname!==r.current){if(r.current){const d=Math.round((Date.now()-s.current)/1e3);d>=V3&&a.current.push({user_id:(e==null?void 0:e.id)??null,session_id:n.current,event_type:"page_view",page_path:r.current,page_title:pk(r.current),referrer:document.referrer||"",user_agent:navigator.userAgent,device_type:mk(),duration_seconds:d,metadata:{}})}r.current=t.pathname,s.current=Date.now(),a.current.some(d=>d.event_type==="session_start"&&d.session_id===n.current)||u("session_start")}},[t.pathname,e,u]),v.useEffect(()=>{o.current=setInterval(l,die);const d=()=>{const m=Math.round((Date.now()-s.current)/1e3);if(m>=V3&&r.current&&a.current.push({user_id:(e==null?void 0:e.id)??null,session_id:n.current,event_type:"page_view",page_path:r.current,page_title:pk(r.current),referrer:"",user_agent:navigator.userAgent,device_type:mk(),duration_seconds:m,metadata:{}}),u("session_end"),a.current.length>0){const g=JSON.stringify(a.current);navigator.sendBeacon("https://smcvwjbdrrswbdfidlgz.supabase.co/rest/v1/user_activity",new Blob([g],{type:"application/json"}))}},f=()=>{document.visibilityState==="hidden"&&l()};return window.addEventListener("beforeunload",d),document.addEventListener("visibilitychange",f),()=>{o.current&&clearInterval(o.current),window.removeEventListener("beforeunload",d),document.removeEventListener("visibilitychange",f),l()}},[e,l,u]),{trackEvent:u}}function om({children:e}){const{user:t,loading:n}=Ht(),s=ss();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?!localStorage.getItem("onboarding_completed")&&s.pathname!=="/onboarding"?i.jsx(Ua,{to:"/onboarding",replace:!0}):i.jsx(i.Fragment,{children:e}):i.jsx(Ua,{to:"/prihlaseni",state:{from:s},replace:!0})}function Ct({children:e}){const t=ss();return i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeInOut"},children:e},t.pathname)}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mie=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),B3=e=>{const t=mie(e);return t.charAt(0).toUpperCase()+t.slice(1)},$L=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),pie=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xie=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:a,iconNode:o,...l},u)=>v.createElement("svg",{ref:u,...gie,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:$L("lucide",r),...!a&&!pie(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,f])=>v.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=(e,t)=>{const n=v.forwardRef(({className:s,...r},a)=>v.createElement(xie,{ref:a,iconNode:t,className:$L(`lucide-${fie(B3(e))}`,`lucide-${e}`,s),...r}));return n.displayName=B3(e),n};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],x2=fe("activity",vie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yie=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],bie=fe("armchair",yie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],da=fe("arrow-left",wie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ur=fe("arrow-right",jie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],vp=fe("arrow-up-right",kie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nie=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Sie=fe("arrow-up",Nie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ri=fe("award",_ie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cie=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ig=fe("badge-check",Cie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],Tie=fe("badge-dollar-sign",Eie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zie=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Mie=fe("bell",zie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Rie=fe("bold",Aie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Wt=fe("book-open",Oie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Pie=fe("brain",Die);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],VL=fe("briefcase",Iie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],$ie=fe("building-2",Lie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],BL=fe("building",Vie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Fie=fe("calendar-check",Bie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uie=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Oo=fe("calendar-clock",Uie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],qie=fe("calendar-days",Hie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ha=fe("calendar",Zie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],FL=fe("car",Wie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kie=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Oa=fe("chart-column",Kie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],La=fe("check",Gie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dr=fe("chevron-down",Yie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ag=fe("chevron-left",Jie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],hr=fe("chevron-right",Xie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],wu=fe("chevron-up",Qie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],tae=fe("circle-alert",eae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],sae=fe("circle-check-big",nae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Fs=fe("circle-check",rae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],aae=fe("circle-dot",iae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],_v=fe("circle-play",oae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],H_=fe("circle-question-mark",lae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],uae=fe("circle-x",cae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],on=fe("clock",dae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hae=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],UL=fe("code",hae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],v2=fe("copy",fae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],sr=fe("credit-card",mae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ch=fe("crown",pae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],q_=fe("download",gae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],vae=fe("dumbbell",xae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],HL=fe("external-link",yae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],wae=fe("eye-off",bae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Vi=fe("eye",jae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kae=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Nae=fe("facebook",kae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$a=fe("file-text",Sae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Du=fe("film",_ae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],fb=fe("flame",Cae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eae=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],Z_=fe("footprints",Eae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zae=fe("funnel",Tae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mae=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Yd=fe("gift",Mae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],Rae=fe("github",Aae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Dae=fe("globe",Oae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pae=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],tc=fe("graduation-cap",Pae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],Lae=fe("grid-2x2",Iae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Vae=fe("grid-3x3",$ae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],W_=fe("grip-vertical",Bae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],F3=fe("hard-drive",Fae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Hae=fe("heading-1",Uae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Zae=fe("heading-2",qae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Kae=fe("heading-3",Wae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],qL=fe("heart-pulse",Gae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yae=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],Jae=fe("highlighter",Yae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xae=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Oi=fe("house",Xae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],ZL=fe("image",Qae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eoe=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],WL=fe("infinity",eoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],noe=fe("info",toe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],roe=fe("italic",soe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Bo=fe("layers",ioe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],U3=fe("layout-grid",aoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ooe=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],loe=fe("layout-list",ooe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],uoe=fe("library",coe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],hoe=fe("link-2",doe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],moe=fe("link",foe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],KL=fe("linkedin",poe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],xoe=fe("list-ordered",goe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],yoe=fe("list",voe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const boe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Ul=fe("loader-circle",boe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],$l=fe("lock",woe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GL=fe("log-out",joe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],K_=fe("mail",koe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ha=fe("map-pin",Noe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],_oe=fe("medal",Soe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],Eoe=fe("menu",Coe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],G_=fe("message-circle",Toe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["path",{d:"M10 7.5 8 10l2 2.5",key:"xb17xw"}],["path",{d:"m14 7.5 2 2.5-2 2.5",key:"5rap1v"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Moe=fe("message-square-code",zoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Roe=fe("message-square",Aoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M5 12h14",key:"1ays0h"}]],mb=fe("minus",Ooe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],Poe=fe("monitor-play",Doe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],YL=fe("monitor",Ioe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],JL=fe("moon",Loe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],H3=fe("move-right",$oe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Hl=fe("package",Voe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Foe=fe("palette",Boe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],Hoe=fe("panel-left-close",Uoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Zoe=fe("panel-left",qoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],XL=fe("panels-top-left",Woe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],gk=fe("pencil",Koe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Y_=fe("percent",Goe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],QL=fe("phone",Yoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Joe=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Va=fe("play",Joe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fs=fe("plus",Xoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ele=fe("printer",Qoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],e8=fe("quote",tle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Eh=fe("receipt",nle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],rle=fe("redo",sle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],ale=fe("refresh-ccw",ile);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],t8=fe("refresh-cw",ole);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],cle=fe("repeat",lle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],n8=fe("rocket",ule);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],q3=fe("rotate-ccw",dle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],s8=fe("save",hle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Xa=fe("search",fle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mle=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],r8=fe("send",mle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yh=fe("settings",ple);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],xle=fe("share-2",gle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],Z3=fe("shield-off",vle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yp=fe("shield",yle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],ju=fe("shopping-bag",ble);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wle=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],og=fe("shopping-cart",wle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],i8=fe("smartphone",jle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],a8=fe("sparkles",kle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]],Sle=fe("sprout",Nle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cle=fe("square-check-big",_le);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Tle=fe("square-pen",Ele);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$r=fe("star",zle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Ale=fe("stethoscope",Mle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rle=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],W3=fe("store",Rle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Dle=fe("strikethrough",Ole);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],J_=fe("sun",Ple);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],Lle=fe("table-2",Ile);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],o8=fe("tablet",$le);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],bp=fe("tag",Vle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lg=fe("target",Ble);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fle=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Ule=fe("thumbs-up",Fle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],qle=fe("timer",Hle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],K3=fe("toggle-right",Zle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],l8=fe("toggle-left",Wle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],Gle=fe("tram-front",Kle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],cr=fe("trash-2",Yle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Xle=fe("trash",Jle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Pu=fe("trending-up",Qle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],X_=fe("triangle-alert",ece);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],lc=fe("trophy",tce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Hm=fe("truck",nce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],c8=fe("twitter",sce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],ice=fe("type",rce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],oce=fe("underline",ace);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],cce=fe("undo",lce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],dce=fe("upload",uce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fce=fe("user-check",hce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],u8=fe("user-plus",mce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pce=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gce=fe("user",pce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xce=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],Cv=fe("users-round",xce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],qa=fe("users",vce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],bce=fe("video",yce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],jce=fe("wind",wce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Iu=fe("x",kce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nce=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],du=fe("zap",Nce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],_ce=fe("zoom-in",Sce);function d8(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=d8(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function h8(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=d8(e))&&(s&&(s+=" "),s+=t);return s}const Cce=(e,t)=>{const n=new Array(e.length+t.length);for(let s=0;s<e.length;s++)n[s]=e[s];for(let s=0;s<t.length;s++)n[e.length+s]=t[s];return n},Ece=(e,t)=>({classGroupId:e,validator:t}),f8=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Ev="-",G3=[],Tce="arbitrary..",zce=e=>{const t=Ace(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return Mce(o);const l=o.split(Ev),u=l[0]===""&&l.length>1?1:0;return m8(l,u,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const u=s[o],d=n[o];return u?d?Cce(d,u):u:d||G3}return n[o]||G3}}},m8=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const r=e[t],a=n.nextPart.get(r);if(a){const d=m8(e,t+1,a);if(d)return d}const o=n.validators;if(o===null)return;const l=t===0?e.join(Ev):e.slice(t).join(Ev),u=o.length;for(let d=0;d<u;d++){const f=o[d];if(f.validator(l))return f.classGroupId}},Mce=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),s=t.slice(0,n);return s?Tce+s:void 0})(),Ace=e=>{const{theme:t,classGroups:n}=e;return Rce(n,t)},Rce=(e,t)=>{const n=f8();for(const s in e){const r=e[s];Q_(r,n,s,t)}return n},Q_=(e,t,n,s)=>{const r=e.length;for(let a=0;a<r;a++){const o=e[a];Oce(o,t,n,s)}},Oce=(e,t,n,s)=>{if(typeof e=="string"){Dce(e,t,n);return}if(typeof e=="function"){Pce(e,t,n,s);return}Ice(e,t,n,s)},Dce=(e,t,n)=>{const s=e===""?t:p8(t,e);s.classGroupId=n},Pce=(e,t,n,s)=>{if(Lce(e)){Q_(e(s),t,n,s);return}t.validators===null&&(t.validators=[]),t.validators.push(Ece(n,e))},Ice=(e,t,n,s)=>{const r=Object.entries(e),a=r.length;for(let o=0;o<a;o++){const[l,u]=r[o];Q_(u,p8(t,l),n,s)}},p8=(e,t)=>{let n=e;const s=t.split(Ev),r=s.length;for(let a=0;a<r;a++){const o=s[a];let l=n.nextPart.get(o);l||(l=f8(),n.nextPart.set(o,l)),n=l}return n},Lce=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,$ce=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),s=Object.create(null);const r=(a,o)=>{n[a]=o,t++,t>e&&(t=0,s=n,n=Object.create(null))};return{get(a){let o=n[a];if(o!==void 0)return o;if((o=s[a])!==void 0)return r(a,o),o},set(a,o){a in n?n[a]=o:r(a,o)}}},y2="!",Y3=":",Vce=[],J3=(e,t,n,s,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:s,isExternal:r}),Bce=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=r=>{const a=[];let o=0,l=0,u=0,d;const f=r.length;for(let w=0;w<f;w++){const j=r[w];if(o===0&&l===0){if(j===Y3){a.push(r.slice(u,w)),u=w+1;continue}if(j==="/"){d=w;continue}}j==="["?o++:j==="]"?o--:j==="("?l++:j===")"&&l--}const m=a.length===0?r:r.slice(u);let g=m,x=!1;m.endsWith(y2)?(g=m.slice(0,-1),x=!0):m.startsWith(y2)&&(g=m.slice(1),x=!0);const b=d&&d>u?d-u:void 0;return J3(a,x,g,b)};if(t){const r=t+Y3,a=s;s=o=>o.startsWith(r)?a(o.slice(r.length)):J3(Vce,!1,o,void 0,!0)}if(n){const r=s;s=a=>n({className:a,parseClassName:r})}return s},Fce=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,s)=>{t.set(n,1e6+s)}),n=>{const s=[];let r=[];for(let a=0;a<n.length;a++){const o=n[a],l=o[0]==="[",u=t.has(o);l||u?(r.length>0&&(r.sort(),s.push(...r),r=[]),s.push(o)):r.push(o)}return r.length>0&&(r.sort(),s.push(...r)),s}},Uce=e=>({cache:$ce(e.cacheSize),parseClassName:Bce(e),sortModifiers:Fce(e),...zce(e)}),Hce=/\s+/,qce=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:a}=t,o=[],l=e.trim().split(Hce);let u="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:m,modifiers:g,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:w}=n(f);if(m){u=f+(u.length>0?" "+u:u);continue}let j=!!w,k=s(j?b.substring(0,w):b);if(!k){if(!j){u=f+(u.length>0?" "+u:u);continue}if(k=s(b),!k){u=f+(u.length>0?" "+u:u);continue}j=!1}const S=g.length===0?"":g.length===1?g[0]:a(g).join(":"),C=x?S+y2:S,E=C+k;if(o.indexOf(E)>-1)continue;o.push(E);const T=r(k,j);for(let M=0;M<T.length;++M){const z=T[M];o.push(C+z)}u=f+(u.length>0?" "+u:u)}return u},Zce=(...e)=>{let t=0,n,s,r="";for(;t<e.length;)(n=e[t++])&&(s=g8(n))&&(r&&(r+=" "),r+=s);return r},g8=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=g8(e[s]))&&(n&&(n+=" "),n+=t);return n},Wce=(e,...t)=>{let n,s,r,a;const o=u=>{const d=t.reduce((f,m)=>m(f),e());return n=Uce(d),s=n.cache.get,r=n.cache.set,a=l,l(u)},l=u=>{const d=s(u);if(d)return d;const f=qce(u,n);return r(u,f),f};return a=o,(...u)=>a(Zce(...u))},Kce=[],Cs=e=>{const t=n=>n[e]||Kce;return t.isThemeGetter=!0,t},x8=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,v8=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Gce=/^\d+\/\d+$/,Yce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Qce=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Dd=e=>Gce.test(e),Bt=e=>!!e&&!Number.isNaN(Number(e)),yl=e=>!!e&&Number.isInteger(Number(e)),xk=e=>e.endsWith("%")&&Bt(e.slice(0,-1)),wo=e=>Yce.test(e),tue=()=>!0,nue=e=>Jce.test(e)&&!Xce.test(e),y8=()=>!1,sue=e=>Qce.test(e),rue=e=>eue.test(e),iue=e=>!nt(e)&&!st(e),aue=e=>Jh(e,j8,y8),nt=e=>x8.test(e),$c=e=>Jh(e,k8,nue),vk=e=>Jh(e,due,Bt),X3=e=>Jh(e,b8,y8),oue=e=>Jh(e,w8,rue),c0=e=>Jh(e,N8,sue),st=e=>v8.test(e),lm=e=>Xh(e,k8),lue=e=>Xh(e,hue),Q3=e=>Xh(e,b8),cue=e=>Xh(e,j8),uue=e=>Xh(e,w8),u0=e=>Xh(e,N8,!0),Jh=(e,t,n)=>{const s=x8.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Xh=(e,t,n=!1)=>{const s=v8.exec(e);return s?s[1]?t(s[1]):n:!1},b8=e=>e==="position"||e==="percentage",w8=e=>e==="image"||e==="url",j8=e=>e==="length"||e==="size"||e==="bg-size",k8=e=>e==="length",due=e=>e==="number",hue=e=>e==="family-name",N8=e=>e==="shadow",fue=()=>{const e=Cs("color"),t=Cs("font"),n=Cs("text"),s=Cs("font-weight"),r=Cs("tracking"),a=Cs("leading"),o=Cs("breakpoint"),l=Cs("container"),u=Cs("spacing"),d=Cs("radius"),f=Cs("shadow"),m=Cs("inset-shadow"),g=Cs("text-shadow"),x=Cs("drop-shadow"),b=Cs("blur"),w=Cs("perspective"),j=Cs("aspect"),k=Cs("ease"),S=Cs("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],T=()=>[...E(),st,nt],M=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],A=()=>[st,nt,u],D=()=>[Dd,"full","auto",...A()],B=()=>[yl,"none","subgrid",st,nt],$=()=>["auto",{span:["full",yl,st,nt]},yl,st,nt],q=()=>[yl,"auto",st,nt],Z=()=>["auto","min","max","fr",st,nt],F=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],J=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...A()],I=()=>[Dd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],L=()=>[e,st,nt],G=()=>[...E(),Q3,X3,{position:[st,nt]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],R=()=>["auto","cover","contain",cue,aue,{size:[st,nt]}],H=()=>[xk,lm,$c],K=()=>["","none","full",d,st,nt],ne=()=>["",Bt,lm,$c],ce=()=>["solid","dashed","dotted","double"],ue=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[Bt,xk,Q3,X3],le=()=>["","none",b,st,nt],he=()=>["none",Bt,st,nt],be=()=>["none",Bt,st,nt],we=()=>[Bt,st,nt],xe=()=>[Dd,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[wo],breakpoint:[wo],color:[tue],container:[wo],"drop-shadow":[wo],ease:["in","out","in-out"],font:[iue],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[wo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[wo],shadow:[wo],spacing:["px",Bt],text:[wo],"text-shadow":[wo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Dd,nt,st,j]}],container:["container"],columns:[{columns:[Bt,nt,st,l]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:T()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[yl,"auto",st,nt]}],basis:[{basis:[Dd,"full","auto",l,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Bt,Dd,"auto","initial","none",nt]}],grow:[{grow:["",Bt,st,nt]}],shrink:[{shrink:["",Bt,st,nt]}],order:[{order:[yl,"first","last","none",st,nt]}],"grid-cols":[{"grid-cols":B()}],"col-start-end":[{col:$()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":B()}],"row-start-end":[{row:$()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...F(),"normal"]}],"justify-items":[{"justify-items":[...J(),"normal"]}],"justify-self":[{"justify-self":["auto",...J()]}],"align-content":[{content:["normal",...F()]}],"align-items":[{items:[...J(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...J(),{baseline:["","last"]}]}],"place-content":[{"place-content":F()}],"place-items":[{"place-items":[...J(),"baseline"]}],"place-self":[{"place-self":["auto",...J()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[l,"screen",...I()]}],"min-w":[{"min-w":[l,"screen","none",...I()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,lm,$c]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,st,vk]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xk,nt]}],"font-family":[{font:[lue,nt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,st,nt]}],"line-clamp":[{"line-clamp":[Bt,"none",st,vk]}],leading:[{leading:[a,...A()]}],"list-image":[{"list-image":["none",st,nt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",st,nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:L()}],"text-color":[{text:L()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:[Bt,"from-font","auto",st,$c]}],"text-decoration-color":[{decoration:L()}],"underline-offset":[{"underline-offset":[Bt,"auto",st,nt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st,nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st,nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:R()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},yl,st,nt],radial:["",st,nt],conic:[yl,st,nt]},uue,oue]}],"bg-color":[{bg:L()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:L()}],"gradient-via":[{via:L()}],"gradient-to":[{to:L()}],rounded:[{rounded:K()}],"rounded-s":[{"rounded-s":K()}],"rounded-e":[{"rounded-e":K()}],"rounded-t":[{"rounded-t":K()}],"rounded-r":[{"rounded-r":K()}],"rounded-b":[{"rounded-b":K()}],"rounded-l":[{"rounded-l":K()}],"rounded-ss":[{"rounded-ss":K()}],"rounded-se":[{"rounded-se":K()}],"rounded-ee":[{"rounded-ee":K()}],"rounded-es":[{"rounded-es":K()}],"rounded-tl":[{"rounded-tl":K()}],"rounded-tr":[{"rounded-tr":K()}],"rounded-br":[{"rounded-br":K()}],"rounded-bl":[{"rounded-bl":K()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ce(),"hidden","none"]}],"divide-style":[{divide:[...ce(),"hidden","none"]}],"border-color":[{border:L()}],"border-color-x":[{"border-x":L()}],"border-color-y":[{"border-y":L()}],"border-color-s":[{"border-s":L()}],"border-color-e":[{"border-e":L()}],"border-color-t":[{"border-t":L()}],"border-color-r":[{"border-r":L()}],"border-color-b":[{"border-b":L()}],"border-color-l":[{"border-l":L()}],"divide-color":[{divide:L()}],"outline-style":[{outline:[...ce(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Bt,st,nt]}],"outline-w":[{outline:["",Bt,lm,$c]}],"outline-color":[{outline:L()}],shadow:[{shadow:["","none",f,u0,c0]}],"shadow-color":[{shadow:L()}],"inset-shadow":[{"inset-shadow":["none",m,u0,c0]}],"inset-shadow-color":[{"inset-shadow":L()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:L()}],"ring-offset-w":[{"ring-offset":[Bt,$c]}],"ring-offset-color":[{"ring-offset":L()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":L()}],"text-shadow":[{"text-shadow":["none",g,u0,c0]}],"text-shadow-color":[{"text-shadow":L()}],opacity:[{opacity:[Bt,st,nt]}],"mix-blend":[{"mix-blend":[...ue(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ue()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":L()}],"mask-image-linear-to-color":[{"mask-linear-to":L()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":L()}],"mask-image-t-to-color":[{"mask-t-to":L()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":L()}],"mask-image-r-to-color":[{"mask-r-to":L()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":L()}],"mask-image-b-to-color":[{"mask-b-to":L()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":L()}],"mask-image-l-to-color":[{"mask-l-to":L()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":L()}],"mask-image-x-to-color":[{"mask-x-to":L()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":L()}],"mask-image-y-to-color":[{"mask-y-to":L()}],"mask-image-radial":[{"mask-radial":[st,nt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":L()}],"mask-image-radial-to-color":[{"mask-radial-to":L()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":L()}],"mask-image-conic-to-color":[{"mask-conic-to":L()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:R()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",st,nt]}],filter:[{filter:["","none",st,nt]}],blur:[{blur:le()}],brightness:[{brightness:[Bt,st,nt]}],contrast:[{contrast:[Bt,st,nt]}],"drop-shadow":[{"drop-shadow":["","none",x,u0,c0]}],"drop-shadow-color":[{"drop-shadow":L()}],grayscale:[{grayscale:["",Bt,st,nt]}],"hue-rotate":[{"hue-rotate":[Bt,st,nt]}],invert:[{invert:["",Bt,st,nt]}],saturate:[{saturate:[Bt,st,nt]}],sepia:[{sepia:["",Bt,st,nt]}],"backdrop-filter":[{"backdrop-filter":["","none",st,nt]}],"backdrop-blur":[{"backdrop-blur":le()}],"backdrop-brightness":[{"backdrop-brightness":[Bt,st,nt]}],"backdrop-contrast":[{"backdrop-contrast":[Bt,st,nt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Bt,st,nt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Bt,st,nt]}],"backdrop-invert":[{"backdrop-invert":["",Bt,st,nt]}],"backdrop-opacity":[{"backdrop-opacity":[Bt,st,nt]}],"backdrop-saturate":[{"backdrop-saturate":[Bt,st,nt]}],"backdrop-sepia":[{"backdrop-sepia":["",Bt,st,nt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",st,nt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Bt,"initial",st,nt]}],ease:[{ease:["linear","initial",k,st,nt]}],delay:[{delay:[Bt,st,nt]}],animate:[{animate:["none",S,st,nt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,st,nt]}],"perspective-origin":[{"perspective-origin":T()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[st,nt,"","none","gpu","cpu"]}],"transform-origin":[{origin:T()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:L()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:L()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st,nt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st,nt]}],fill:[{fill:["none",...L()]}],"stroke-w":[{stroke:[Bt,lm,$c,vk]}],stroke:[{stroke:["none",...L()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},mue=Wce(fue);function se(...e){return mue(h8(e))}const pn={name:"Dires",description:"Profesionln fyzioterapeutick kurzy od certifikovanch eskch odbornk",logo:"/Dires.png",mailSupport:"info@dires.cz",links:{twitter:"https://twitter.com/dires",linkedin:"https://www.linkedin.com/company/dires/"}};function eR(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Qa(...e){return t=>{let n=!1;const s=e.map(r=>{const a=eR(r,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<s.length;r++){const a=s[r];typeof a=="function"?a():eR(e[r],null)}}}}function St(...e){return v.useCallback(Qa(...e),e)}var pue=Symbol.for("react.lazy"),Tv=GS[" use ".trim().toString()];function gue(e){return typeof e=="object"&&e!==null&&"then"in e}function S8(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===pue&&"_payload"in e&&gue(e._payload)}function Qh(e){const t=xue(e),n=v.forwardRef((s,r)=>{let{children:a,...o}=s;S8(a)&&typeof Tv=="function"&&(a=Tv(a._payload));const l=v.Children.toArray(a),u=l.find(yue);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}var eC=Qh("Slot");function xue(e){const t=v.forwardRef((n,s)=>{let{children:r,...a}=n;if(S8(r)&&typeof Tv=="function"&&(r=Tv(r._payload)),v.isValidElement(r)){const o=wue(r),l=bue(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Qa(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var vue=Symbol("radix.slottable");function yue(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===vue}function bue(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function wue(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const tR=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,nR=h8,cg=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return nR(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:a}=t,o=Object.keys(r).map(d=>{const f=n==null?void 0:n[d],m=a==null?void 0:a[d];if(f===null)return null;const g=tR(f)||tR(m);return r[d][g]}),l=n&&Object.entries(n).reduce((d,f)=>{let[m,g]=f;return g===void 0||(d[m]=g),d},{}),u=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,f)=>{let{class:m,className:g,...x}=f;return Object.entries(x).every(b=>{let[w,j]=b;return Array.isArray(j)?j.includes({...a,...l}[w]):{...a,...l}[w]===j})?[...d,m,g]:d},[]);return nR(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},jue=cg("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-1 transition-colors focus-visible:outline-none focus-visible:ring-1 ring-offset-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Q=v.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...r},a)=>{const o=s?eC:"button";return i.jsx(o,{className:se(jue({variant:t,size:n,className:e})),ref:a,...r})});Q.displayName="Button";function _8(){const{theme:e,setTheme:t}=MI(),n=()=>{t(e==="dark"?"light":"dark")};return i.jsxs(Q,{variant:"outline",size:"icon",className:"relative size-10 overflow-hidden rounded-full",onClick:n,children:[i.jsx(ee.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3,ease:"easeInOut"},className:"absolute",children:i.jsx(J_,{className:"h-[1.2rem] w-[1.2rem]"})}),i.jsx(ee.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3,ease:"easeInOut"},className:"absolute",children:i.jsx(JL,{className:"h-[1.2rem] w-[1.2rem]"})}),i.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var kue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Nue=kue.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Sue="AspectRatio",C8=v.forwardRef((e,t)=>{const{ratio:n=1/1,style:s,...r}=e;return i.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/n}%`},"data-radix-aspect-ratio-wrapper":"",children:i.jsx(Nue.div,{...r,ref:t,style:{...s,position:"absolute",top:0,right:0,bottom:0,left:0}})})});C8.displayName=Sue;var _ue=C8;const Za=_ue;var Cue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Eue=Cue.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Tue="Separator",sR="horizontal",zue=["horizontal","vertical"],E8=v.forwardRef((e,t)=>{const{decorative:n,orientation:s=sR,...r}=e,a=Mue(s)?s:sR,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(Eue.div,{"data-orientation":a,...l,...r,ref:t})});E8.displayName=Tue;function Mue(e){return zue.includes(e)}var T8=E8;const It=v.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},r)=>i.jsx(T8,{ref:r,decorative:n,orientation:t,className:se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));It.displayName=T8.displayName;function $e(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function Aue(e,t){const n=v.createContext(t),s=a=>{const{children:o,...l}=a,u=v.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:u,children:o})};s.displayName=e+"Provider";function r(a){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,r]}function pr(e,t=[]){let n=[];function s(a,o){const l=v.createContext(o),u=n.length;n=[...n,o];const d=m=>{var k;const{scope:g,children:x,...b}=m,w=((k=g==null?void 0:g[e])==null?void 0:k[u])||l,j=v.useMemo(()=>b,Object.values(b));return i.jsx(w.Provider,{value:j,children:x})};d.displayName=a+"Provider";function f(m,g){var w;const x=((w=g==null?void 0:g[e])==null?void 0:w[u])||l,b=v.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,f]}const r=()=>{const a=n.map(o=>v.createContext(o));return function(l){const u=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return r.scopeName=e,[s,Rue(r,...t)]}function Rue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...l,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Vn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},Oue=GS[" useId ".trim().toString()]||(()=>{}),Due=0;function Nr(e){const[t,n]=v.useState(Oue());return Vn(()=>{n(s=>s??String(Due++))},[e]),t?`radix-${t}`:""}var Pue=GS[" useInsertionEffect ".trim().toString()]||Vn;function Ur({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[r,a,o]=Iue({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:r;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,s])}const d=v.useCallback(f=>{var m;if(l){const g=Lue(f)?f(e):f;g!==e&&((m=o.current)==null||m.call(o,g))}else a(f)},[l,e,a,o]);return[u,d]}function Iue({defaultProp:e,onChange:t}){const[n,s]=v.useState(e),r=v.useRef(n),a=v.useRef(t);return Pue(()=>{a.current=t},[t]),v.useEffect(()=>{var o;r.current!==n&&((o=a.current)==null||o.call(a,n),r.current=n)},[n,r]),[n,s,a]}function Lue(e){return typeof e=="function"}function $ue(e){const t=Vue(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(Fue);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function Vue(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=Hue(r),l=Uue(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Qa(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Bue=Symbol("radix.slottable");function Fue(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Bue}function Uue(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function Hue(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var que=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=que.reduce((e,t)=>{const n=$ue(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function zv(e,t){e&&ia.flushSync(()=>e.dispatchEvent(t))}function On(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Zue(e,t=globalThis==null?void 0:globalThis.document){const n=On(e);v.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Wue="DismissableLayer",b2="dismissableLayer.update",Kue="dismissableLayer.pointerDownOutside",Gue="dismissableLayer.focusOutside",rR,z8=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ef=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...u}=e,d=v.useContext(z8),[f,m]=v.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=v.useState({}),b=St(t,z=>m(z)),w=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(j),S=f?w.indexOf(f):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,E=S>=k,T=Xue(z=>{const A=z.target,D=[...d.branches].some(B=>B.contains(A));!E||D||(r==null||r(z),o==null||o(z),z.defaultPrevented||l==null||l())},g),M=Que(z=>{const A=z.target;[...d.branches].some(B=>B.contains(A))||(a==null||a(z),o==null||o(z),z.defaultPrevented||l==null||l())},g);return Zue(z=>{S===d.layers.size-1&&(s==null||s(z),!z.defaultPrevented&&l&&(z.preventDefault(),l()))},g),v.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(rR=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),iR(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=rR)}},[f,g,n,d]),v.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),iR())},[f,d]),v.useEffect(()=>{const z=()=>x({});return document.addEventListener(b2,z),()=>document.removeEventListener(b2,z)},[]),i.jsx(Xe.div,{...u,ref:b,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:$e(e.onFocusCapture,M.onFocusCapture),onBlurCapture:$e(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:$e(e.onPointerDownCapture,T.onPointerDownCapture)})});ef.displayName=Wue;var Yue="DismissableLayerBranch",Jue=v.forwardRef((e,t)=>{const n=v.useContext(z8),s=v.useRef(null),r=St(t,s);return v.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Xe.div,{...e,ref:r})});Jue.displayName=Yue;function Xue(e,t=globalThis==null?void 0:globalThis.document){const n=On(e),s=v.useRef(!1),r=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let u=function(){M8(Kue,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=u,t.addEventListener("click",r.current,{once:!0})):u()}else t.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Que(e,t=globalThis==null?void 0:globalThis.document){const n=On(e),s=v.useRef(!1);return v.useEffect(()=>{const r=a=>{a.target&&!s.current&&M8(Gue,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function iR(){const e=new CustomEvent(b2);document.dispatchEvent(e)}function M8(e,t,n,{discrete:s}){const r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?zv(r,a):r.dispatchEvent(a)}var yk="focusScope.autoFocusOnMount",bk="focusScope.autoFocusOnUnmount",aR={bubbles:!1,cancelable:!0},ede="FocusScope",pb=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...o}=e,[l,u]=v.useState(null),d=On(r),f=On(a),m=v.useRef(null),g=St(t,w=>u(w)),x=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let w=function(C){if(x.paused||!l)return;const E=C.target;l.contains(E)?m.current=E:Cl(m.current,{select:!0})},j=function(C){if(x.paused||!l)return;const E=C.relatedTarget;E!==null&&(l.contains(E)||Cl(m.current,{select:!0}))},k=function(C){if(document.activeElement===document.body)for(const T of C)T.removedNodes.length>0&&Cl(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const S=new MutationObserver(k);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),S.disconnect()}}},[s,l,x.paused]),v.useEffect(()=>{if(l){lR.add(x);const w=document.activeElement;if(!l.contains(w)){const k=new CustomEvent(yk,aR);l.addEventListener(yk,d),l.dispatchEvent(k),k.defaultPrevented||(tde(ade(A8(l)),{select:!0}),document.activeElement===w&&Cl(l))}return()=>{l.removeEventListener(yk,d),setTimeout(()=>{const k=new CustomEvent(bk,aR);l.addEventListener(bk,f),l.dispatchEvent(k),k.defaultPrevented||Cl(w??document.body,{select:!0}),l.removeEventListener(bk,f),lR.remove(x)},0)}}},[l,d,f,x]);const b=v.useCallback(w=>{if(!n&&!s||x.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,k=document.activeElement;if(j&&k){const S=w.currentTarget,[C,E]=nde(S);C&&E?!w.shiftKey&&k===E?(w.preventDefault(),n&&Cl(C,{select:!0})):w.shiftKey&&k===C&&(w.preventDefault(),n&&Cl(E,{select:!0})):k===S&&w.preventDefault()}},[n,s,x.paused]);return i.jsx(Xe.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});pb.displayName=ede;function tde(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Cl(s,{select:t}),document.activeElement!==n)return}function nde(e){const t=A8(e),n=oR(t,e),s=oR(t.reverse(),e);return[n,s]}function A8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function oR(e,t){for(const n of e)if(!sde(n,{upTo:t}))return n}function sde(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function rde(e){return e instanceof HTMLInputElement&&"select"in e}function Cl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&rde(e)&&t&&e.select()}}var lR=ide();function ide(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=cR(e,t),e.unshift(t)},remove(t){var n;e=cR(e,t),(n=e[0])==null||n.resume()}}}function cR(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function ade(e){return e.filter(t=>t.tagName!=="A")}var ode="Portal",ug=v.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[r,a]=v.useState(!1);Vn(()=>a(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?sb.createPortal(i.jsx(Xe.div,{...s,ref:t}),o):null});ug.displayName=ode;function lde(e,t){return v.useReducer((n,s)=>t[n][s]??n,e)}var rs=e=>{const{present:t,children:n}=e,s=cde(t),r=typeof n=="function"?n({present:s.isPresent}):v.Children.only(n),a=St(s.ref,ude(r));return typeof n=="function"||s.isPresent?v.cloneElement(r,{ref:a}):null};rs.displayName="Presence";function cde(e){const[t,n]=v.useState(),s=v.useRef(null),r=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,u]=lde(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=d0(s.current);a.current=l==="mounted"?d:"none"},[l]),Vn(()=>{const d=s.current,f=r.current;if(f!==e){const g=a.current,x=d0(d);e?u("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&g!==x?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,u]),Vn(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,m=x=>{const w=d0(s.current).includes(CSS.escape(x.animationName));if(x.target===t&&w&&(u("ANIMATION_END"),!r.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},g=x=>{x.target===t&&(a.current=d0(s.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function d0(e){return(e==null?void 0:e.animationName)||"none"}function ude(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var wk=0;function tC(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??uR()),document.body.insertAdjacentElement("beforeend",e[1]??uR()),wk++,()=>{wk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wk--}},[])}function uR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ev="right-scroll-bar-position",tv="width-before-scroll-bar",dde="with-scroll-bars-hidden",hde="--removed-body-scroll-bar-size";function jk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function fde(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=t,n.facade}var mde=typeof window<"u"?v.useLayoutEffect:v.useEffect,dR=new WeakMap;function pde(e,t){var n=fde(null,function(s){return e.forEach(function(r){return jk(r,s)})});return mde(function(){var s=dR.get(n);if(s){var r=new Set(s),a=new Set(e),o=n.current;r.forEach(function(l){a.has(l)||jk(l,null)}),a.forEach(function(l){r.has(l)||jk(l,o)})}dR.set(n,e)},[e]),n}function gde(e){return e}function xde(e,t){t===void 0&&(t=gde);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var u=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return r}function vde(e){e===void 0&&(e={});var t=xde(null);return t.options=Ma({async:!0,ssr:!1},e),t}var R8=function(e){var t=e.sideCar,n=Kh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,Ma({},n))};R8.isSideCarExport=!0;function yde(e,t){return e.useMedium(t),R8}var O8=vde(),kk=function(){},gb=v.forwardRef(function(e,t){var n=v.useRef(null),s=v.useState({onScrollCapture:kk,onWheelCapture:kk,onTouchMoveCapture:kk}),r=s[0],a=s[1],o=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,g=e.sideCar,x=e.noRelative,b=e.noIsolation,w=e.inert,j=e.allowPinchZoom,k=e.as,S=k===void 0?"div":k,C=e.gapMode,E=Kh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),T=g,M=pde([n,t]),z=Ma(Ma({},E),r);return v.createElement(v.Fragment,null,f&&v.createElement(T,{sideCar:O8,removeScrollBar:d,shards:m,noRelative:x,noIsolation:b,inert:w,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:C}),o?v.cloneElement(v.Children.only(l),Ma(Ma({},z),{ref:M})):v.createElement(S,Ma({},z,{className:u,ref:M}),l))});gb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gb.classNames={fullWidth:tv,zeroRight:ev};var bde=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function wde(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bde();return t&&e.setAttribute("nonce",t),e}function jde(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function kde(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Nde=function(){var e=0,t=null;return{add:function(n){e==0&&(t=wde())&&(jde(t,n),kde(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Sde=function(){var e=Nde();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},D8=function(){var e=Sde(),t=function(n){var s=n.styles,r=n.dynamic;return e(s,r),null};return t},_de={left:0,top:0,right:0,gap:0},Nk=function(e){return parseInt(e||"",10)||0},Cde=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[Nk(n),Nk(s),Nk(r)]},Ede=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return _de;var t=Cde(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},Tde=D8(),gh="data-scroll-locked",zde=function(e,t,n,s){var r=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dde,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(gh,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ev,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(tv,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ev," .").concat(ev,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(tv," .").concat(tv,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(gh,`] {
    `).concat(hde,": ").concat(l,`px;
  }
`)},hR=function(){var e=parseInt(document.body.getAttribute(gh)||"0",10);return isFinite(e)?e:0},Mde=function(){v.useEffect(function(){return document.body.setAttribute(gh,(hR()+1).toString()),function(){var e=hR()-1;e<=0?document.body.removeAttribute(gh):document.body.setAttribute(gh,e.toString())}},[])},Ade=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,r=s===void 0?"margin":s;Mde();var a=v.useMemo(function(){return Ede(r)},[r]);return v.createElement(Tde,{styles:zde(a,!t,r,n?"":"!important")})},w2=!1;if(typeof window<"u")try{var h0=Object.defineProperty({},"passive",{get:function(){return w2=!0,!0}});window.addEventListener("test",h0,h0),window.removeEventListener("test",h0,h0)}catch{w2=!1}var Pd=w2?{passive:!1}:!1,Rde=function(e){return e.tagName==="TEXTAREA"},P8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Rde(e)&&n[t]==="visible")},Ode=function(e){return P8(e,"overflowY")},Dde=function(e){return P8(e,"overflowX")},fR=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=I8(e,s);if(r){var a=L8(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Pde=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},Ide=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},I8=function(e,t){return e==="v"?Ode(t):Dde(t)},L8=function(e,t){return e==="v"?Pde(t):Ide(t)},Lde=function(e,t){return e==="h"&&t==="rtl"?-1:1},$de=function(e,t,n,s,r){var a=Lde(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,u=t.contains(l),d=!1,f=o>0,m=0,g=0;do{if(!l)break;var x=L8(e,l),b=x[0],w=x[1],j=x[2],k=w-j-a*b;(b||k)&&I8(e,l)&&(m+=k,g+=b);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(m)<1||!f&&Math.abs(g)<1)&&(d=!0),d},f0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mR=function(e){return[e.deltaX,e.deltaY]},pR=function(e){return e&&"current"in e?e.current:e},Vde=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bde=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Fde=0,Id=[];function Ude(e){var t=v.useRef([]),n=v.useRef([0,0]),s=v.useRef(),r=v.useState(Fde++)[0],a=v.useState(D8)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var w=zne([e.lockRef.current],(e.shards||[]).map(pR),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var k=f0(w),S=n.current,C="deltaX"in w?w.deltaX:S[0]-k[0],E="deltaY"in w?w.deltaY:S[1]-k[1],T,M=w.target,z=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in w&&z==="h"&&M.type==="range")return!1;var A=window.getSelection(),D=A&&A.anchorNode,B=D?D===M||D.contains(M):!1;if(B)return!1;var $=fR(z,M);if(!$)return!0;if($?T=z:(T=z==="v"?"h":"v",$=fR(z,M)),!$)return!1;if(!s.current&&"changedTouches"in w&&(C||E)&&(s.current=T),!T)return!0;var q=s.current||T;return $de(q,j,w,q==="h"?C:E)},[]),u=v.useCallback(function(w){var j=w;if(!(!Id.length||Id[Id.length-1]!==a)){var k="deltaY"in j?mR(j):f0(j),S=t.current.filter(function(T){return T.name===j.type&&(T.target===j.target||j.target===T.shadowParent)&&Vde(T.delta,k)})[0];if(S&&S.should){j.cancelable&&j.preventDefault();return}if(!S){var C=(o.current.shards||[]).map(pR).filter(Boolean).filter(function(T){return T.contains(j.target)}),E=C.length>0?l(j,C[0]):!o.current.noIsolation;E&&j.cancelable&&j.preventDefault()}}},[]),d=v.useCallback(function(w,j,k,S){var C={name:w,delta:j,target:k,should:S,shadowParent:Hde(k)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(E){return E!==C})},1)},[]),f=v.useCallback(function(w){n.current=f0(w),s.current=void 0},[]),m=v.useCallback(function(w){d(w.type,mR(w),w.target,l(w,e.lockRef.current))},[]),g=v.useCallback(function(w){d(w.type,f0(w),w.target,l(w,e.lockRef.current))},[]);v.useEffect(function(){return Id.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Pd),document.addEventListener("touchmove",u,Pd),document.addEventListener("touchstart",f,Pd),function(){Id=Id.filter(function(w){return w!==a}),document.removeEventListener("wheel",u,Pd),document.removeEventListener("touchmove",u,Pd),document.removeEventListener("touchstart",f,Pd)}},[]);var x=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(a,{styles:Bde(r)}):null,x?v.createElement(Ade,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Hde(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const qde=yde(O8,Ude);var xb=v.forwardRef(function(e,t){return v.createElement(gb,Ma({},e,{ref:t,sideCar:qde}))});xb.classNames=gb.classNames;var Zde=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ld=new WeakMap,m0=new WeakMap,p0={},Sk=0,$8=function(e){return e&&(e.host||$8(e.parentNode))},Wde=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=$8(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Kde=function(e,t,n,s){var r=Wde(t,Array.isArray(e)?e:[e]);p0[n]||(p0[n]=new WeakMap);var a=p0[n],o=[],l=new Set,u=new Set(r),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};r.forEach(d);var f=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(l.has(g))f(g);else try{var x=g.getAttribute(s),b=x!==null&&x!=="false",w=(Ld.get(g)||0)+1,j=(a.get(g)||0)+1;Ld.set(g,w),a.set(g,j),o.push(g),w===1&&b&&m0.set(g,!0),j===1&&g.setAttribute(n,"true"),b||g.setAttribute(s,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return f(t),l.clear(),Sk++,function(){o.forEach(function(m){var g=Ld.get(m)-1,x=a.get(m)-1;Ld.set(m,g),a.set(m,x),g||(m0.has(m)||m.removeAttribute(s),m0.delete(m)),x||m.removeAttribute(n)}),Sk--,Sk||(Ld=new WeakMap,Ld=new WeakMap,m0=new WeakMap,p0={})}},nC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=Zde(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),Kde(s,r,n,"aria-hidden")):function(){return null}};function Gde(e){const t=Yde(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(Xde);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function Yde(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=ehe(r),l=Qde(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Qa(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Jde=Symbol("radix.slottable");function Xde(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Jde}function Qde(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function ehe(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vb="Dialog",[V8]=pr(vb),[the,ya]=V8(vb),B8=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:r,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),u=v.useRef(null),[d,f]=Ur({prop:s,defaultProp:r??!1,onChange:a,caller:vb});return i.jsx(the,{scope:t,triggerRef:l,contentRef:u,contentId:Nr(),titleId:Nr(),descriptionId:Nr(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};B8.displayName=vb;var F8="DialogTrigger",nhe=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ya(F8,n),a=St(t,r.triggerRef);return i.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":iC(r.open),...s,ref:a,onClick:$e(e.onClick,r.onOpenToggle)})});nhe.displayName=F8;var sC="DialogPortal",[she,U8]=V8(sC,{forceMount:void 0}),H8=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:r}=e,a=ya(sC,t);return i.jsx(she,{scope:t,forceMount:n,children:v.Children.map(s,o=>i.jsx(rs,{present:n||a.open,children:i.jsx(ug,{asChild:!0,container:r,children:o})}))})};H8.displayName=sC;var Mv="DialogOverlay",q8=v.forwardRef((e,t)=>{const n=U8(Mv,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,a=ya(Mv,e.__scopeDialog);return a.modal?i.jsx(rs,{present:s||a.open,children:i.jsx(ihe,{...r,ref:t})}):null});q8.displayName=Mv;var rhe=Gde("DialogOverlay.RemoveScroll"),ihe=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ya(Mv,n);return i.jsx(xb,{as:rhe,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(Xe.div,{"data-state":iC(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ku="DialogContent",Z8=v.forwardRef((e,t)=>{const n=U8(ku,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,a=ya(ku,e.__scopeDialog);return i.jsx(rs,{present:s||a.open,children:a.modal?i.jsx(ahe,{...r,ref:t}):i.jsx(ohe,{...r,ref:t})})});Z8.displayName=ku;var ahe=v.forwardRef((e,t)=>{const n=ya(ku,e.__scopeDialog),s=v.useRef(null),r=St(t,n.contentRef,s);return v.useEffect(()=>{const a=s.current;if(a)return nC(a)},[]),i.jsx(W8,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$e(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:$e(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:$e(e.onFocusOutside,a=>a.preventDefault())})}),ohe=v.forwardRef((e,t)=>{const n=ya(ku,e.__scopeDialog),s=v.useRef(!1),r=v.useRef(!1);return i.jsx(W8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:a=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),W8=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:a,...o}=e,l=ya(ku,n),u=v.useRef(null),d=St(t,u);return tC(),i.jsxs(i.Fragment,{children:[i.jsx(pb,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(ef,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":iC(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(lhe,{titleId:l.titleId}),i.jsx(uhe,{contentRef:u,descriptionId:l.descriptionId})]})]})}),rC="DialogTitle",K8=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ya(rC,n);return i.jsx(Xe.h2,{id:r.titleId,...s,ref:t})});K8.displayName=rC;var G8="DialogDescription",Y8=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ya(G8,n);return i.jsx(Xe.p,{id:r.descriptionId,...s,ref:t})});Y8.displayName=G8;var J8="DialogClose",X8=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ya(J8,n);return i.jsx(Xe.button,{type:"button",...s,ref:t,onClick:$e(e.onClick,()=>r.onOpenChange(!1))})});X8.displayName=J8;function iC(e){return e?"open":"closed"}var Q8="DialogTitleWarning",[qPe,e$]=Aue(Q8,{contentName:ku,titleName:rC,docsSlug:"dialog"}),lhe=({titleId:e})=>{const t=e$(Q8),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},che="DialogDescriptionWarning",uhe=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${e$(che).contentName}}.`;return v.useEffect(()=>{var a;const r=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},aC=B8,oC=H8,dg=q8,hg=Z8,fg=K8,mg=Y8,lC=X8;const dhe=aC,hhe=lC,fhe=oC,t$=v.forwardRef(({className:e,...t},n)=>i.jsx(dg,{className:se("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80 data-[state=closed]:animate-out data-[state=open]:animate-in",e),...t,ref:n}));t$.displayName=dg.displayName;const mhe=cg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),n$=v.forwardRef(({side:e="right",className:t,children:n,...s},r)=>i.jsxs(fhe,{children:[i.jsx(t$,{}),i.jsxs(hg,{ref:r,className:se(mhe({side:e}),t),...s,children:[n,i.jsxs(lC,{className:"absolute top-4 right-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Iu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));n$.displayName=hg.displayName;const s$=({className:e,...t})=>i.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});s$.displayName="SheetHeader";const r$=({className:e,...t})=>i.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});r$.displayName="SheetFooter";const i$=v.forwardRef(({className:e,...t},n)=>i.jsx(fg,{ref:n,className:se("font-semibold text-foreground text-lg",e),...t}));i$.displayName=fg.displayName;const phe=v.forwardRef(({className:e,...t},n)=>i.jsx(mg,{ref:n,className:se("text-muted-foreground text-sm",e),...t}));phe.displayName=mg.displayName;function Av(e){return new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}const a$=({open:e,onOpenChange:t})=>{const{items:n,removeItem:s,updateQuantity:r,itemCount:a,subtotal:o}=rg();return i.jsx(dhe,{open:e,onOpenChange:t,children:i.jsxs(n$,{"aria-describedby":void 0,className:"flex w-[92dvw] flex-col gap-0 p-0 sm:max-w-[28rem] lg:max-w-[32rem] [&>button]:hidden",children:[i.jsxs(s$,{className:"flex flex-row items-center justify-between gap-4 border-b px-5 py-4",children:[i.jsxs(i$,{className:"text-lg font-semibold",children:["Nakupni kosik",a>0&&i.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",a," ",a===1?"polozka":a<5?"polozky":"polozek",")"]})]}),i.jsx(hhe,{asChild:!0,children:i.jsx(Q,{variant:"ghost",size:"icon",className:"rounded-full",children:i.jsx(Iu,{className:"size-5"})})})]}),a===0?i.jsx(ghe,{onClose:()=>t(!1)}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 overflow-auto px-5 py-4",children:i.jsx("ul",{className:"space-y-4",children:n.map((l,u)=>i.jsxs("li",{children:[i.jsx(xhe,{item:l,onRemove:()=>s(l.slug),onIncrement:()=>r(l.slug,l.quantity+1),onDecrement:()=>r(l.slug,l.quantity-1)}),u<n.length-1&&i.jsx(It,{className:"mt-4"})]},l.slug))})}),i.jsx(r$,{className:"mt-0 block border-t px-5 py-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx(It,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Mezisouc et"}),i.jsx("span",{children:Av(o)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Doprava"}),i.jsx("span",{className:"text-sm text-emerald-600",children:"Zdarma"})]}),i.jsx(It,{}),i.jsxs("div",{className:"flex justify-between pt-1",children:[i.jsx("span",{className:"text-base font-semibold",children:"Celkem"}),i.jsx("span",{className:"text-base font-semibold",children:Av(o)})]})]}),i.jsx(Q,{size:"lg",className:"w-full gap-2",asChild:!0,onClick:()=>t(!1),children:i.jsxs(Be,{to:"/kosik",children:["K pokladne",i.jsx(ur,{className:"size-4"})]})})]})})]})]})})},ghe=({onClose:e})=>i.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-6 px-8 text-center",children:[i.jsx("div",{className:"flex size-20 items-center justify-center rounded-full bg-muted",children:i.jsx(ju,{className:"size-10 text-muted-foreground"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Vas kosik je prazdny"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Vypad to, ze jste jeste nic nepridali. Prohlednejte nas obchod a najdete neco, co se vam libi."})]}),i.jsx(Q,{onClick:e,className:"gap-2",asChild:!0,children:i.jsxs(Be,{to:"/obchod",children:["Pokracovat v nakupu",i.jsx(ur,{className:"size-4"})]})})]}),xhe=v.memo(({item:e,onRemove:t,onIncrement:n,onDecrement:s})=>i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-20 shrink-0",children:i.jsx(Za,{ratio:1,className:"overflow-hidden rounded-lg bg-muted",children:i.jsx("img",{src:e.image,alt:e.name,className:"block size-full object-contain p-1"})})}),i.jsxs("div",{className:"flex flex-1 flex-col justify-between gap-1",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e.subtitle}),i.jsx("h4",{className:"text-sm font-medium leading-tight",children:e.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:Av(e.price)}),e.originalPrice&&e.originalPrice>e.price&&i.jsx("span",{className:"text-xs text-muted-foreground line-through",children:Av(e.originalPrice)})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center rounded-lg border",children:[i.jsx("button",{type:"button",onClick:s,disabled:e.quantity<=1,className:"flex size-8 items-center justify-center text-muted-foreground transition-colors hover:text-foreground disabled:opacity-40",children:i.jsx(mb,{className:"size-3.5"})}),i.jsx("span",{className:"flex w-8 items-center justify-center text-sm font-medium",children:e.quantity}),i.jsx("button",{type:"button",onClick:n,className:"flex size-8 items-center justify-center text-muted-foreground transition-colors hover:text-foreground",children:i.jsx(fs,{className:"size-3.5"})})]}),i.jsx(Q,{variant:"ghost",size:"icon",type:"button",className:"size-8 text-muted-foreground hover:text-destructive",onClick:t,children:i.jsx(cr,{className:"size-4"})})]})]})]})),o$=({className:e})=>{const[t,n]=v.useState(!1),{itemCount:s}=rg();return i.jsxs("div",{className:se("inline-flex",e),children:[i.jsxs(Q,{variant:"ghost",size:"sm",className:"relative gap-2",onClick:()=>n(!0),children:[i.jsx(ju,{className:"size-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Kosik"}),s>0&&i.jsx("span",{className:"absolute -right-1 -top-1 flex size-5 items-center justify-center rounded-full bg-primary text-[10px] font-bold text-primary-foreground",children:s>99?"99+":s})]}),i.jsx(a$,{open:t,onOpenChange:n})]})};function pg(){const{user:e,session:t}=Ht(),[n,s]=v.useState(null),[r,a]=v.useState(!0),o=v.useCallback(async()=>{if(!e||!t){a(!1);return}try{const{data:u,error:d}=await ae.from("subscriptions").select("*").eq("user_id",e.id).maybeSingle();d?console.error("Error fetching subscription:",d):u&&s(u)}catch(u){console.error("Error fetching subscription:",u)}finally{a(!1)}},[e,t]);v.useEffect(()=>{o()},[o]),v.useEffect(()=>{if(!e)return;const u=ae.channel("subscription_changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions",filter:`user_id=eq.${e.id}`},d=>{console.log("Subscription updated:",d),o()}).subscribe();return()=>{ae.removeChannel(u)}},[e,o]);const l=((n==null?void 0:n.status)==="active"||(n==null?void 0:n.status)==="trialing")&&(n==null?void 0:n.plan_type)!=="free_trial"&&(n==null?void 0:n.stripe_subscription_id)!=null;return{subscription:n,loading:r,hasActiveSubscription:l,refetch:o}}function gR(e){const t=vhe(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(bhe);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function vhe(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=jhe(r),l=whe(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Qa(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yhe=Symbol("radix.slottable");function bhe(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yhe}function whe(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function jhe(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function tf(e){const t=e+"CollectionProvider",[n,s]=pr(t),[r,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:j,children:k}=w,S=W.useRef(null),C=W.useRef(new Map).current;return i.jsx(r,{scope:j,itemMap:C,collectionRef:S,children:k})};o.displayName=t;const l=e+"CollectionSlot",u=gR(l),d=W.forwardRef((w,j)=>{const{scope:k,children:S}=w,C=a(l,k),E=St(j,C.collectionRef);return i.jsx(u,{ref:E,children:S})});d.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",g=gR(f),x=W.forwardRef((w,j)=>{const{scope:k,children:S,...C}=w,E=W.useRef(null),T=St(j,E),M=a(f,k);return W.useEffect(()=>(M.itemMap.set(E,{ref:E,...C}),()=>void M.itemMap.delete(E))),i.jsx(g,{[m]:"",ref:T,children:S})});x.displayName=f;function b(w){const j=a(e+"CollectionConsumer",w);return W.useCallback(()=>{const S=j.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((M,z)=>C.indexOf(M.ref.current)-C.indexOf(z.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},b,s]}var yb="Collapsible",[khe,l$]=pr(yb),[Nhe,cC]=khe(yb),c$=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:a,onOpenChange:o,...l}=e,[u,d]=Ur({prop:s,defaultProp:r??!1,onChange:o,caller:yb});return i.jsx(Nhe,{scope:n,disabled:a,contentId:Nr(),open:u,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),children:i.jsx(Xe.div,{"data-state":hC(u),"data-disabled":a?"":void 0,...l,ref:t})})});c$.displayName=yb;var u$="CollapsibleTrigger",uC=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,r=cC(u$,n);return i.jsx(Xe.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":hC(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:t,onClick:$e(e.onClick,r.onOpenToggle)})});uC.displayName=u$;var dC="CollapsibleContent",d$=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=cC(dC,e.__scopeCollapsible);return i.jsx(rs,{present:n||r.open,children:({present:a})=>i.jsx(She,{...s,ref:t,present:a})})});d$.displayName=dC;var She=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:r,...a}=e,o=cC(dC,n),[l,u]=v.useState(s),d=v.useRef(null),f=St(t,d),m=v.useRef(0),g=m.current,x=v.useRef(0),b=x.current,w=o.open||l,j=v.useRef(w),k=v.useRef(void 0);return v.useEffect(()=>{const S=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(S)},[]),Vn(()=>{const S=d.current;if(S){k.current=k.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const C=S.getBoundingClientRect();m.current=C.height,x.current=C.width,j.current||(S.style.transitionDuration=k.current.transitionDuration,S.style.animationName=k.current.animationName),u(s)}},[o.open,s]),i.jsx(Xe.div,{"data-state":hC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...a,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:w&&r})});function hC(e){return e?"open":"closed"}var h$=c$,_he=uC,Che=d$,Ehe=v.createContext(void 0);function cc(e){const t=v.useContext(Ehe);return e||t||"ltr"}var ba="Accordion",The=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[fC,zhe,Mhe]=tf(ba),[bb]=pr(ba,[Mhe,l$]),mC=l$(),f$=W.forwardRef((e,t)=>{const{type:n,...s}=e,r=s,a=s;return i.jsx(fC.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?i.jsx(Dhe,{...a,ref:t}):i.jsx(Ohe,{...r,ref:t})})});f$.displayName=ba;var[m$,Ahe]=bb(ba),[p$,Rhe]=bb(ba,{collapsible:!1}),Ohe=W.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:a=!1,...o}=e,[l,u]=Ur({prop:n,defaultProp:s??"",onChange:r,caller:ba});return i.jsx(m$,{scope:e.__scopeAccordion,value:W.useMemo(()=>l?[l]:[],[l]),onItemOpen:u,onItemClose:W.useCallback(()=>a&&u(""),[a,u]),children:i.jsx(p$,{scope:e.__scopeAccordion,collapsible:a,children:i.jsx(g$,{...o,ref:t})})})}),Dhe=W.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...a}=e,[o,l]=Ur({prop:n,defaultProp:s??[],onChange:r,caller:ba}),u=W.useCallback(f=>l((m=[])=>[...m,f]),[l]),d=W.useCallback(f=>l((m=[])=>m.filter(g=>g!==f)),[l]);return i.jsx(m$,{scope:e.__scopeAccordion,value:o,onItemOpen:u,onItemClose:d,children:i.jsx(p$,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(g$,{...a,ref:t})})})}),[Phe,wb]=bb(ba),g$=W.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:r,orientation:a="vertical",...o}=e,l=W.useRef(null),u=St(l,t),d=zhe(n),m=cc(r)==="ltr",g=$e(e.onKeyDown,x=>{var A;if(!The.includes(x.key))return;const b=x.target,w=d().filter(D=>{var B;return!((B=D.ref.current)!=null&&B.disabled)}),j=w.findIndex(D=>D.ref.current===b),k=w.length;if(j===-1)return;x.preventDefault();let S=j;const C=0,E=k-1,T=()=>{S=j+1,S>E&&(S=C)},M=()=>{S=j-1,S<C&&(S=E)};switch(x.key){case"Home":S=C;break;case"End":S=E;break;case"ArrowRight":a==="horizontal"&&(m?T():M());break;case"ArrowDown":a==="vertical"&&T();break;case"ArrowLeft":a==="horizontal"&&(m?M():T());break;case"ArrowUp":a==="vertical"&&M();break}const z=S%k;(A=w[z].ref.current)==null||A.focus()});return i.jsx(Phe,{scope:n,disabled:s,direction:r,orientation:a,children:i.jsx(fC.Slot,{scope:n,children:i.jsx(Xe.div,{...o,"data-orientation":a,ref:u,onKeyDown:s?void 0:g})})})}),Rv="AccordionItem",[Ihe,pC]=bb(Rv),x$=W.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...r}=e,a=wb(Rv,n),o=Ahe(Rv,n),l=mC(n),u=Nr(),d=s&&o.value.includes(s)||!1,f=a.disabled||e.disabled;return i.jsx(Ihe,{scope:n,open:d,disabled:f,triggerId:u,children:i.jsx(h$,{"data-orientation":a.orientation,"data-state":k$(d),...l,...r,ref:t,disabled:f,open:d,onOpenChange:m=>{m?o.onItemOpen(s):o.onItemClose(s)}})})});x$.displayName=Rv;var v$="AccordionHeader",y$=W.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=wb(ba,n),a=pC(v$,n);return i.jsx(Xe.h3,{"data-orientation":r.orientation,"data-state":k$(a.open),"data-disabled":a.disabled?"":void 0,...s,ref:t})});y$.displayName=v$;var j2="AccordionTrigger",b$=W.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=wb(ba,n),a=pC(j2,n),o=Rhe(j2,n),l=mC(n);return i.jsx(fC.ItemSlot,{scope:n,children:i.jsx(_he,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":r.orientation,id:a.triggerId,...l,...s,ref:t})})});b$.displayName=j2;var w$="AccordionContent",j$=W.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=wb(ba,n),a=pC(w$,n),o=mC(n);return i.jsx(Che,{role:"region","aria-labelledby":a.triggerId,"data-orientation":r.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});j$.displayName=w$;function k$(e){return e?"open":"closed"}var Lhe=f$,$he=x$,Vhe=y$,N$=b$,S$=j$;const _$=Lhe,gC=v.forwardRef(({className:e,...t},n)=>i.jsx($he,{ref:n,className:se("my-4 rounded-lg border border-secondary border-b bg-muted/50 px-4",e),...t}));gC.displayName="AccordionItem";const xC=v.forwardRef(({className:e,children:t,...n},s)=>i.jsx(Vhe,{className:"flex",children:i.jsxs(N$,{ref:s,className:se("flex flex-1 items-center justify-between gap-4 py-4 font-medium transition-all [&[data-state=open]>svg]:rotate-[135deg] [&[data-state=open]>svg]:text-primary",e),...n,children:[t,i.jsx(fs,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));xC.displayName=N$.displayName;const vC=v.forwardRef(({className:e,children:t,...n},s)=>i.jsx(S$,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:i.jsx("div",{className:se("pt-0 pb-4 text-[16px] text-muted-foreground",e),children:t})}));vC.displayName=S$.displayName;function Bhe(e,t=[]){let n=[];function s(a,o){const l=v.createContext(o);l.displayName=a+"Context";const u=n.length;n=[...n,o];const d=m=>{var k;const{scope:g,children:x,...b}=m,w=((k=g==null?void 0:g[e])==null?void 0:k[u])||l,j=v.useMemo(()=>b,Object.values(b));return i.jsx(w.Provider,{value:j,children:x})};d.displayName=a+"Provider";function f(m,g){var w;const x=((w=g==null?void 0:g[e])==null?void 0:w[u])||l,b=v.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,f]}const r=()=>{const a=n.map(o=>v.createContext(o));return function(l){const u=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return r.scopeName=e,[s,Fhe(r,...t)]}function Fhe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...l,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Uhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yC=Uhe.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),_k={exports:{}},Ck={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR;function Hhe(){if(xR)return Ck;xR=1;var e=Gp();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,r=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(m,g){var x=g(),b=s({inst:{value:x,getSnapshot:g}}),w=b[0].inst,j=b[1];return a(function(){w.value=x,w.getSnapshot=g,u(w)&&j({inst:w})},[m,x,g]),r(function(){return u(w)&&j({inst:w}),m(function(){u(w)&&j({inst:w})})},[m]),o(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!n(m,x)}catch{return!0}}function d(m,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Ck.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ck}var vR;function C$(){return vR||(vR=1,_k.exports=Hhe()),_k.exports}var bC=C$();function qhe(){return bC.useSyncExternalStore(Zhe,()=>!0,()=>!1)}function Zhe(){return()=>{}}var wC="Avatar",[Whe]=Bhe(wC),[Khe,E$]=Whe(wC),T$=v.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[r,a]=v.useState("idle");return i.jsx(Khe,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:a,children:i.jsx(yC.span,{...s,ref:t})})});T$.displayName=wC;var z$="AvatarImage",M$=v.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...a}=e,o=E$(z$,n),l=Ghe(s,a),u=On(d=>{r(d),o.onImageLoadingStatusChange(d)});return Vn(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?i.jsx(yC.img,{...a,ref:t,src:s}):null});M$.displayName=z$;var A$="AvatarFallback",R$=v.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...r}=e,a=E$(A$,n),[o,l]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(u)}},[s]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(yC.span,{...r,ref:t}):null});R$.displayName=A$;function yR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ghe(e,{referrerPolicy:t,crossOrigin:n}){const s=qhe(),r=v.useRef(null),a=s?(r.current||(r.current=new window.Image),r.current):null,[o,l]=v.useState(()=>yR(a,e));return Vn(()=>{l(yR(a,e))},[a,e]),Vn(()=>{const u=m=>()=>{l(m)};if(!a)return;const d=u("loaded"),f=u("error");return a.addEventListener("load",d),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",f)}},[a,n,t]),o}var O$=T$,D$=M$,P$=R$;const In=v.forwardRef(({className:e,...t},n)=>i.jsx(O$,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));In.displayName=O$.displayName;const hs=v.forwardRef(({className:e,...t},n)=>i.jsx(D$,{ref:n,className:se("aspect-square h-full w-full",e),...t}));hs.displayName=D$.displayName;const Sr=v.forwardRef(({className:e,...t},n)=>i.jsx(P$,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Sr.displayName=P$.displayName;const Yhe=cg("inline-flex items-center rounded-full border border-secondary px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Le({className:e,variant:t,...n}){return i.jsx("div",{className:se(Yhe({variant:t}),e),...n})}const Jhe=["top","right","bottom","left"],nc=Math.min,ni=Math.max,Ov=Math.round,g0=Math.floor,Ba=e=>({x:e,y:e}),Xhe={left:"right",right:"left",bottom:"top",top:"bottom"},Qhe={start:"end",end:"start"};function k2(e,t,n){return ni(e,nc(t,n))}function Fo(e,t){return typeof e=="function"?e(t):e}function Uo(e){return e.split("-")[0]}function nf(e){return e.split("-")[1]}function jC(e){return e==="x"?"y":"x"}function kC(e){return e==="y"?"height":"width"}const efe=new Set(["top","bottom"]);function Da(e){return efe.has(Uo(e))?"y":"x"}function NC(e){return jC(Da(e))}function tfe(e,t,n){n===void 0&&(n=!1);const s=nf(e),r=NC(e),a=kC(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Dv(o)),[o,Dv(o)]}function nfe(e){const t=Dv(e);return[N2(e),t,N2(t)]}function N2(e){return e.replace(/start|end/g,t=>Qhe[t])}const bR=["left","right"],wR=["right","left"],sfe=["top","bottom"],rfe=["bottom","top"];function ife(e,t,n){switch(e){case"top":case"bottom":return n?t?wR:bR:t?bR:wR;case"left":case"right":return t?sfe:rfe;default:return[]}}function afe(e,t,n,s){const r=nf(e);let a=ife(Uo(e),n==="start",s);return r&&(a=a.map(o=>o+"-"+r),t&&(a=a.concat(a.map(N2)))),a}function Dv(e){return e.replace(/left|right|bottom|top/g,t=>Xhe[t])}function ofe(e){return{top:0,right:0,bottom:0,left:0,...e}}function I$(e){return typeof e!="number"?ofe(e):{top:e,right:e,bottom:e,left:e}}function Pv(e){const{x:t,y:n,width:s,height:r}=e;return{width:s,height:r,top:n,left:t,right:t+s,bottom:n+r,x:t,y:n}}function jR(e,t,n){let{reference:s,floating:r}=e;const a=Da(t),o=NC(t),l=kC(o),u=Uo(t),d=a==="y",f=s.x+s.width/2-r.width/2,m=s.y+s.height/2-r.height/2,g=s[l]/2-r[l]/2;let x;switch(u){case"top":x={x:f,y:s.y-r.height};break;case"bottom":x={x:f,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:m};break;case"left":x={x:s.x-r.width,y:m};break;default:x={x:s.x,y:s.y}}switch(nf(t)){case"start":x[o]-=g*(n&&d?-1:1);break;case"end":x[o]+=g*(n&&d?-1:1);break}return x}async function lfe(e,t){var n;t===void 0&&(t={});const{x:s,y:r,platform:a,rects:o,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:x=0}=Fo(t,e),b=I$(x),j=l[g?m==="floating"?"reference":"floating":m],k=Pv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),S=m==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),E=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},T=Pv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:C,strategy:u}):S);return{top:(k.top-T.top+b.top)/E.y,bottom:(T.bottom-k.bottom+b.bottom)/E.y,left:(k.left-T.left+b.left)/E.x,right:(T.right-k.right+b.right)/E.x}}const cfe=async(e,t,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:m}=jR(d,s,u),g=s,x={},b=0;for(let j=0;j<l.length;j++){var w;const{name:k,fn:S}=l[j],{x:C,y:E,data:T,reset:M}=await S({x:f,y:m,initialPlacement:s,placement:g,strategy:r,middlewareData:x,rects:d,platform:{...o,detectOverflow:(w=o.detectOverflow)!=null?w:lfe},elements:{reference:e,floating:t}});f=C??f,m=E??m,x={...x,[k]:{...x[k],...T}},M&&b<=50&&(b++,typeof M=="object"&&(M.placement&&(g=M.placement),M.rects&&(d=M.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):M.rects),{x:f,y:m}=jR(d,g,u)),j=-1)}return{x:f,y:m,placement:g,strategy:r,middlewareData:x}},ufe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:r,rects:a,platform:o,elements:l,middlewareData:u}=t,{element:d,padding:f=0}=Fo(e,t)||{};if(d==null)return{};const m=I$(f),g={x:n,y:s},x=NC(r),b=kC(x),w=await o.getDimensions(d),j=x==="y",k=j?"top":"left",S=j?"bottom":"right",C=j?"clientHeight":"clientWidth",E=a.reference[b]+a.reference[x]-g[x]-a.floating[b],T=g[x]-a.reference[x],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let z=M?M[C]:0;(!z||!await(o.isElement==null?void 0:o.isElement(M)))&&(z=l.floating[C]||a.floating[b]);const A=E/2-T/2,D=z/2-w[b]/2-1,B=nc(m[k],D),$=nc(m[S],D),q=B,Z=z-w[b]-$,F=z/2-w[b]/2+A,J=k2(q,F,Z),P=!u.arrow&&nf(r)!=null&&F!==J&&a.reference[b]/2-(F<q?B:$)-w[b]/2<0,I=P?F<q?F-q:F-Z:0;return{[x]:g[x]+I,data:{[x]:J,centerOffset:F-J-I,...P&&{alignmentOffset:I}},reset:P}}}),dfe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:r,middlewareData:a,rects:o,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...j}=Fo(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=Uo(r),S=Da(l),C=Uo(l)===l,E=await(u.isRTL==null?void 0:u.isRTL(d.floating)),T=g||(C||!w?[Dv(l)]:nfe(l)),M=b!=="none";!g&&M&&T.push(...afe(l,w,b,E));const z=[l,...T],A=await u.detectOverflow(t,j),D=[];let B=((s=a.flip)==null?void 0:s.overflows)||[];if(f&&D.push(A[k]),m){const F=tfe(r,o,E);D.push(A[F[0]],A[F[1]])}if(B=[...B,{placement:r,overflows:D}],!D.every(F=>F<=0)){var $,q;const F=((($=a.flip)==null?void 0:$.index)||0)+1,J=z[F];if(J&&(!(m==="alignment"?S!==Da(J):!1)||B.every(L=>Da(L.placement)===S?L.overflows[0]>0:!0)))return{data:{index:F,overflows:B},reset:{placement:J}};let P=(q=B.filter(I=>I.overflows[0]<=0).sort((I,L)=>I.overflows[1]-L.overflows[1])[0])==null?void 0:q.placement;if(!P)switch(x){case"bestFit":{var Z;const I=(Z=B.filter(L=>{if(M){const G=Da(L.placement);return G===S||G==="y"}return!0}).map(L=>[L.placement,L.overflows.filter(G=>G>0).reduce((G,U)=>G+U,0)]).sort((L,G)=>L[1]-G[1])[0])==null?void 0:Z[0];I&&(P=I);break}case"initialPlacement":P=l;break}if(r!==P)return{reset:{placement:P}}}return{}}}};function kR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function NR(e){return Jhe.some(t=>e[t]>=0)}const hfe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:s}=t,{strategy:r="referenceHidden",...a}=Fo(e,t);switch(r){case"referenceHidden":{const o=await s.detectOverflow(t,{...a,elementContext:"reference"}),l=kR(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:NR(l)}}}case"escaped":{const o=await s.detectOverflow(t,{...a,altBoundary:!0}),l=kR(o,n.floating);return{data:{escapedOffsets:l,escaped:NR(l)}}}default:return{}}}}},L$=new Set(["left","top"]);async function ffe(e,t){const{placement:n,platform:s,elements:r}=e,a=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Uo(n),l=nf(n),u=Da(n)==="y",d=L$.has(o)?-1:1,f=a&&u?-1:1,m=Fo(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(x=l==="end"?b*-1:b),u?{x:x*f,y:g*d}:{x:g*d,y:x*f}}const mfe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:r,y:a,placement:o,middlewareData:l}=t,u=await ffe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+u.x,y:a+u.y,data:{...u,placement:o}}}}},pfe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:r,platform:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:k=>{let{x:S,y:C}=k;return{x:S,y:C}}},...d}=Fo(e,t),f={x:n,y:s},m=await a.detectOverflow(t,d),g=Da(Uo(r)),x=jC(g);let b=f[x],w=f[g];if(o){const k=x==="y"?"top":"left",S=x==="y"?"bottom":"right",C=b+m[k],E=b-m[S];b=k2(C,b,E)}if(l){const k=g==="y"?"top":"left",S=g==="y"?"bottom":"right",C=w+m[k],E=w-m[S];w=k2(C,w,E)}const j=u.fn({...t,[x]:b,[g]:w});return{...j,data:{x:j.x-n,y:j.y-s,enabled:{[x]:o,[g]:l}}}}}},gfe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:r,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Fo(e,t),f={x:n,y:s},m=Da(r),g=jC(m);let x=f[g],b=f[m];const w=Fo(l,t),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const C=g==="y"?"height":"width",E=a.reference[g]-a.floating[C]+j.mainAxis,T=a.reference[g]+a.reference[C]-j.mainAxis;x<E?x=E:x>T&&(x=T)}if(d){var k,S;const C=g==="y"?"width":"height",E=L$.has(Uo(r)),T=a.reference[m]-a.floating[C]+(E&&((k=o.offset)==null?void 0:k[m])||0)+(E?0:j.crossAxis),M=a.reference[m]+a.reference[C]+(E?0:((S=o.offset)==null?void 0:S[m])||0)-(E?j.crossAxis:0);b<T?b=T:b>M&&(b=M)}return{[g]:x,[m]:b}}}},xfe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:r,rects:a,platform:o,elements:l}=t,{apply:u=()=>{},...d}=Fo(e,t),f=await o.detectOverflow(t,d),m=Uo(r),g=nf(r),x=Da(r)==="y",{width:b,height:w}=a.floating;let j,k;m==="top"||m==="bottom"?(j=m,k=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(k=m,j=g==="end"?"top":"bottom");const S=w-f.top-f.bottom,C=b-f.left-f.right,E=nc(w-f[j],S),T=nc(b-f[k],C),M=!t.middlewareData.shift;let z=E,A=T;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=C),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(z=S),M&&!g){const B=ni(f.left,0),$=ni(f.right,0),q=ni(f.top,0),Z=ni(f.bottom,0);x?A=b-2*(B!==0||$!==0?B+$:ni(f.left,f.right)):z=w-2*(q!==0||Z!==0?q+Z:ni(f.top,f.bottom))}await u({...t,availableWidth:A,availableHeight:z});const D=await o.getDimensions(l.floating);return b!==D.width||w!==D.height?{reset:{rects:!0}}:{}}}};function jb(){return typeof window<"u"}function sf(e){return $$(e)?(e.nodeName||"").toLowerCase():"#document"}function oi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function eo(e){var t;return(t=($$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function $$(e){return jb()?e instanceof Node||e instanceof oi(e).Node:!1}function fa(e){return jb()?e instanceof Element||e instanceof oi(e).Element:!1}function Wa(e){return jb()?e instanceof HTMLElement||e instanceof oi(e).HTMLElement:!1}function SR(e){return!jb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof oi(e).ShadowRoot}const vfe=new Set(["inline","contents"]);function gg(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=ma(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!vfe.has(r)}const yfe=new Set(["table","td","th"]);function bfe(e){return yfe.has(sf(e))}const wfe=[":popover-open",":modal"];function kb(e){return wfe.some(t=>{try{return e.matches(t)}catch{return!1}})}const jfe=["transform","translate","scale","rotate","perspective"],kfe=["transform","translate","scale","rotate","perspective","filter"],Nfe=["paint","layout","strict","content"];function SC(e){const t=_C(),n=fa(e)?ma(e):e;return jfe.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||kfe.some(s=>(n.willChange||"").includes(s))||Nfe.some(s=>(n.contain||"").includes(s))}function Sfe(e){let t=sc(e);for(;Wa(t)&&!Th(t);){if(SC(t))return t;if(kb(t))return null;t=sc(t)}return null}function _C(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const _fe=new Set(["html","body","#document"]);function Th(e){return _fe.has(sf(e))}function ma(e){return oi(e).getComputedStyle(e)}function Nb(e){return fa(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function sc(e){if(sf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||SR(e)&&e.host||eo(e);return SR(t)?t.host:t}function V$(e){const t=sc(e);return Th(t)?e.ownerDocument?e.ownerDocument.body:e.body:Wa(t)&&gg(t)?t:V$(t)}function wp(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=V$(e),a=r===((s=e.ownerDocument)==null?void 0:s.body),o=oi(r);if(a){const l=S2(o);return t.concat(o,o.visualViewport||[],gg(r)?r:[],l&&n?wp(l):[])}return t.concat(r,wp(r,[],n))}function S2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function B$(e){const t=ma(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=Wa(e),a=r?e.offsetWidth:n,o=r?e.offsetHeight:s,l=Ov(n)!==a||Ov(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function CC(e){return fa(e)?e:e.contextElement}function xh(e){const t=CC(e);if(!Wa(t))return Ba(1);const n=t.getBoundingClientRect(),{width:s,height:r,$:a}=B$(t);let o=(a?Ov(n.width):n.width)/s,l=(a?Ov(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Cfe=Ba(0);function F$(e){const t=oi(e);return!_C()||!t.visualViewport?Cfe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Efe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==oi(e)?!1:t}function Nu(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=CC(e);let o=Ba(1);t&&(s?fa(s)&&(o=xh(s)):o=xh(e));const l=Efe(a,n,s)?F$(a):Ba(0);let u=(r.left+l.x)/o.x,d=(r.top+l.y)/o.y,f=r.width/o.x,m=r.height/o.y;if(a){const g=oi(a),x=s&&fa(s)?oi(s):s;let b=g,w=S2(b);for(;w&&s&&x!==b;){const j=xh(w),k=w.getBoundingClientRect(),S=ma(w),C=k.left+(w.clientLeft+parseFloat(S.paddingLeft))*j.x,E=k.top+(w.clientTop+parseFloat(S.paddingTop))*j.y;u*=j.x,d*=j.y,f*=j.x,m*=j.y,u+=C,d+=E,b=oi(w),w=S2(b)}}return Pv({width:f,height:m,x:u,y:d})}function Sb(e,t){const n=Nb(e).scrollLeft;return t?t.left+n:Nu(eo(e)).left+n}function U$(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Sb(e,n),r=n.top+t.scrollTop;return{x:s,y:r}}function Tfe(e){let{elements:t,rect:n,offsetParent:s,strategy:r}=e;const a=r==="fixed",o=eo(s),l=t?kb(t.floating):!1;if(s===o||l&&a)return n;let u={scrollLeft:0,scrollTop:0},d=Ba(1);const f=Ba(0),m=Wa(s);if((m||!m&&!a)&&((sf(s)!=="body"||gg(o))&&(u=Nb(s)),Wa(s))){const x=Nu(s);d=xh(s),f.x=x.x+s.clientLeft,f.y=x.y+s.clientTop}const g=o&&!m&&!a?U$(o,u):Ba(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+g.x,y:n.y*d.y-u.scrollTop*d.y+f.y+g.y}}function zfe(e){return Array.from(e.getClientRects())}function Mfe(e){const t=eo(e),n=Nb(e),s=e.ownerDocument.body,r=ni(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=ni(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Sb(e);const l=-n.scrollTop;return ma(s).direction==="rtl"&&(o+=ni(t.clientWidth,s.clientWidth)-r),{width:r,height:a,x:o,y:l}}const _R=25;function Afe(e,t){const n=oi(e),s=eo(e),r=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,u=0;if(r){a=r.width,o=r.height;const f=_C();(!f||f&&t==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}const d=Sb(s);if(d<=0){const f=s.ownerDocument,m=f.body,g=getComputedStyle(m),x=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(s.clientWidth-m.clientWidth-x);b<=_R&&(a-=b)}else d<=_R&&(a+=d);return{width:a,height:o,x:l,y:u}}const Rfe=new Set(["absolute","fixed"]);function Ofe(e,t){const n=Nu(e,!0,t==="fixed"),s=n.top+e.clientTop,r=n.left+e.clientLeft,a=Wa(e)?xh(e):Ba(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,u=r*a.x,d=s*a.y;return{width:o,height:l,x:u,y:d}}function CR(e,t,n){let s;if(t==="viewport")s=Afe(e,n);else if(t==="document")s=Mfe(eo(e));else if(fa(t))s=Ofe(t,n);else{const r=F$(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Pv(s)}function H$(e,t){const n=sc(e);return n===t||!fa(n)||Th(n)?!1:ma(n).position==="fixed"||H$(n,t)}function Dfe(e,t){const n=t.get(e);if(n)return n;let s=wp(e,[],!1).filter(l=>fa(l)&&sf(l)!=="body"),r=null;const a=ma(e).position==="fixed";let o=a?sc(e):e;for(;fa(o)&&!Th(o);){const l=ma(o),u=SC(o);!u&&l.position==="fixed"&&(r=null),(a?!u&&!r:!u&&l.position==="static"&&!!r&&Rfe.has(r.position)||gg(o)&&!u&&H$(e,o))?s=s.filter(f=>f!==o):r=l,o=sc(o)}return t.set(e,s),s}function Pfe(e){let{element:t,boundary:n,rootBoundary:s,strategy:r}=e;const o=[...n==="clippingAncestors"?kb(t)?[]:Dfe(t,this._c):[].concat(n),s],l=o[0],u=o.reduce((d,f)=>{const m=CR(t,f,r);return d.top=ni(m.top,d.top),d.right=nc(m.right,d.right),d.bottom=nc(m.bottom,d.bottom),d.left=ni(m.left,d.left),d},CR(t,l,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Ife(e){const{width:t,height:n}=B$(e);return{width:t,height:n}}function Lfe(e,t,n){const s=Wa(t),r=eo(t),a=n==="fixed",o=Nu(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const u=Ba(0);function d(){u.x=Sb(r)}if(s||!s&&!a)if((sf(t)!=="body"||gg(r))&&(l=Nb(t)),s){const x=Nu(t,!0,a,t);u.x=x.x+t.clientLeft,u.y=x.y+t.clientTop}else r&&d();a&&!s&&r&&d();const f=r&&!s&&!a?U$(r,l):Ba(0),m=o.left+l.scrollLeft-u.x-f.x,g=o.top+l.scrollTop-u.y-f.y;return{x:m,y:g,width:o.width,height:o.height}}function Ek(e){return ma(e).position==="static"}function ER(e,t){if(!Wa(e)||ma(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return eo(e)===n&&(n=n.ownerDocument.body),n}function q$(e,t){const n=oi(e);if(kb(e))return n;if(!Wa(e)){let r=sc(e);for(;r&&!Th(r);){if(fa(r)&&!Ek(r))return r;r=sc(r)}return n}let s=ER(e,t);for(;s&&bfe(s)&&Ek(s);)s=ER(s,t);return s&&Th(s)&&Ek(s)&&!SC(s)?n:s||Sfe(e)||n}const $fe=async function(e){const t=this.getOffsetParent||q$,n=this.getDimensions,s=await n(e.floating);return{reference:Lfe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Vfe(e){return ma(e).direction==="rtl"}const Bfe={convertOffsetParentRelativeRectToViewportRelativeRect:Tfe,getDocumentElement:eo,getClippingRect:Pfe,getOffsetParent:q$,getElementRects:$fe,getClientRects:zfe,getDimensions:Ife,getScale:xh,isElement:fa,isRTL:Vfe};function Z$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ffe(e,t){let n=null,s;const r=eo(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const d=e.getBoundingClientRect(),{left:f,top:m,width:g,height:x}=d;if(l||t(),!g||!x)return;const b=g0(m),w=g0(r.clientWidth-(f+g)),j=g0(r.clientHeight-(m+x)),k=g0(f),C={rootMargin:-b+"px "+-w+"px "+-j+"px "+-k+"px",threshold:ni(0,nc(1,u))||1};let E=!0;function T(M){const z=M[0].intersectionRatio;if(z!==u){if(!E)return o();z?o(!1,z):s=setTimeout(()=>{o(!1,1e-7)},1e3)}z===1&&!Z$(d,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(T,{...C,root:r.ownerDocument})}catch{n=new IntersectionObserver(T,C)}n.observe(e)}return o(!0),a}function Ufe(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,d=CC(e),f=r||a?[...d?wp(d):[],...wp(t)]:[];f.forEach(k=>{r&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const m=d&&l?Ffe(d,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(k=>{let[S]=k;S&&S.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(t)})),n()}),d&&!u&&x.observe(d),x.observe(t));let b,w=u?Nu(e):null;u&&j();function j(){const k=Nu(e);w&&!Z$(w,k)&&n(),w=k,b=requestAnimationFrame(j)}return n(),()=>{var k;f.forEach(S=>{r&&S.removeEventListener("scroll",n),a&&S.removeEventListener("resize",n)}),m==null||m(),(k=x)==null||k.disconnect(),x=null,u&&cancelAnimationFrame(b)}}const Hfe=mfe,qfe=pfe,Zfe=dfe,Wfe=xfe,Kfe=hfe,TR=ufe,Gfe=gfe,Yfe=(e,t,n)=>{const s=new Map,r={platform:Bfe,...n},a={...r.platform,_c:s};return cfe(e,t,{...r,platform:a})};var Jfe=typeof document<"u",Xfe=function(){},nv=Jfe?v.useLayoutEffect:Xfe;function Iv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Iv(e[s],t[s]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,r[s]))return!1;for(s=n;s--!==0;){const a=r[s];if(!(a==="_owner"&&e.$$typeof)&&!Iv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function W$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function zR(e,t){const n=W$(e);return Math.round(t*n)/n}function Tk(e){const t=v.useRef(e);return nv(()=>{t.current=e}),t}function Qfe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,m]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=v.useState(s);Iv(g,s)||x(s);const[b,w]=v.useState(null),[j,k]=v.useState(null),S=v.useCallback(L=>{L!==M.current&&(M.current=L,w(L))},[]),C=v.useCallback(L=>{L!==z.current&&(z.current=L,k(L))},[]),E=a||b,T=o||j,M=v.useRef(null),z=v.useRef(null),A=v.useRef(f),D=u!=null,B=Tk(u),$=Tk(r),q=Tk(d),Z=v.useCallback(()=>{if(!M.current||!z.current)return;const L={placement:t,strategy:n,middleware:g};$.current&&(L.platform=$.current),Yfe(M.current,z.current,L).then(G=>{const U={...G,isPositioned:q.current!==!1};F.current&&!Iv(A.current,U)&&(A.current=U,ia.flushSync(()=>{m(U)}))})},[g,t,n,$,q]);nv(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(L=>({...L,isPositioned:!1})))},[d]);const F=v.useRef(!1);nv(()=>(F.current=!0,()=>{F.current=!1}),[]),nv(()=>{if(E&&(M.current=E),T&&(z.current=T),E&&T){if(B.current)return B.current(E,T,Z);Z()}},[E,T,Z,B,D]);const J=v.useMemo(()=>({reference:M,floating:z,setReference:S,setFloating:C}),[S,C]),P=v.useMemo(()=>({reference:E,floating:T}),[E,T]),I=v.useMemo(()=>{const L={position:n,left:0,top:0};if(!P.floating)return L;const G=zR(P.floating,f.x),U=zR(P.floating,f.y);return l?{...L,transform:"translate("+G+"px, "+U+"px)",...W$(P.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:U}},[n,l,P.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:Z,refs:J,elements:P,floatingStyles:I}),[f,Z,J,P,I])}const eme=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:r}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?TR({element:s.current,padding:r}).fn(n):{}:s?TR({element:s,padding:r}).fn(n):{}}}},tme=(e,t)=>({...Hfe(e),options:[e,t]}),nme=(e,t)=>({...qfe(e),options:[e,t]}),sme=(e,t)=>({...Gfe(e),options:[e,t]}),rme=(e,t)=>({...Zfe(e),options:[e,t]}),ime=(e,t)=>({...Wfe(e),options:[e,t]}),ame=(e,t)=>({...Kfe(e),options:[e,t]}),ome=(e,t)=>({...eme(e),options:[e,t]});var lme="Arrow",K$=v.forwardRef((e,t)=>{const{children:n,width:s=10,height:r=5,...a}=e;return i.jsx(Xe.svg,{...a,ref:t,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});K$.displayName=lme;var cme=K$;function EC(e){const[t,n]=v.useState(void 0);return Vn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let o,l;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var TC="Popper",[G$,rf]=pr(TC),[ume,Y$]=G$(TC),J$=e=>{const{__scopePopper:t,children:n}=e,[s,r]=v.useState(null);return i.jsx(ume,{scope:t,anchor:s,onAnchorChange:r,children:n})};J$.displayName=TC;var X$="PopperAnchor",Q$=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...r}=e,a=Y$(X$,n),o=v.useRef(null),l=St(t,o),u=v.useRef(null);return v.useEffect(()=>{const d=u.current;u.current=(s==null?void 0:s.current)||o.current,d!==u.current&&a.onAnchorChange(u.current)}),s?null:i.jsx(Xe.div,{...r,ref:l})});Q$.displayName=X$;var zC="PopperContent",[dme,hme]=G$(zC),e9=v.forwardRef((e,t)=>{var Y,le,he,be,we,xe;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:b,...w}=e,j=Y$(zC,n),[k,S]=v.useState(null),C=St(t,Me=>S(Me)),[E,T]=v.useState(null),M=EC(E),z=(M==null?void 0:M.width)??0,A=(M==null?void 0:M.height)??0,D=s+(a!=="center"?"-"+a:""),B=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},$=Array.isArray(d)?d:[d],q=$.length>0,Z={padding:B,boundary:$.filter(mme),altBoundary:q},{refs:F,floatingStyles:J,placement:P,isPositioned:I,middlewareData:L}=Qfe({strategy:"fixed",placement:D,whileElementsMounted:(...Me)=>Ufe(...Me,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[tme({mainAxis:r+A,alignmentAxis:o}),u&&nme({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?sme():void 0,...Z}),u&&rme({...Z}),ime({...Z,apply:({elements:Me,rects:re,availableWidth:Ee,availableHeight:Ze})=>{const{width:it,height:kt}=re.reference,We=Me.floating.style;We.setProperty("--radix-popper-available-width",`${Ee}px`),We.setProperty("--radix-popper-available-height",`${Ze}px`),We.setProperty("--radix-popper-anchor-width",`${it}px`),We.setProperty("--radix-popper-anchor-height",`${kt}px`)}}),E&&ome({element:E,padding:l}),pme({arrowWidth:z,arrowHeight:A}),g&&ame({strategy:"referenceHidden",...Z})]}),[G,U]=s9(P),R=On(b);Vn(()=>{I&&(R==null||R())},[I,R]);const H=(Y=L.arrow)==null?void 0:Y.x,K=(le=L.arrow)==null?void 0:le.y,ne=((he=L.arrow)==null?void 0:he.centerOffset)!==0,[ce,ue]=v.useState();return Vn(()=>{k&&ue(window.getComputedStyle(k).zIndex)},[k]),i.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:I?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ce,"--radix-popper-transform-origin":[(be=L.transformOrigin)==null?void 0:be.x,(we=L.transformOrigin)==null?void 0:we.y].join(" "),...((xe=L.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(dme,{scope:n,placedSide:G,onArrowChange:T,arrowX:H,arrowY:K,shouldHideArrow:ne,children:i.jsx(Xe.div,{"data-side":G,"data-align":U,...w,ref:C,style:{...w.style,animation:I?void 0:"none"}})})})});e9.displayName=zC;var t9="PopperArrow",fme={top:"bottom",right:"left",bottom:"top",left:"right"},n9=v.forwardRef(function(t,n){const{__scopePopper:s,...r}=t,a=hme(t9,s),o=fme[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(cme,{...r,ref:n,style:{...r.style,display:"block"}})})});n9.displayName=t9;function mme(e){return e!==null}var pme=e=>({name:"transformOrigin",options:e,fn(t){var j,k,S;const{placement:n,rects:s,middlewareData:r}=t,o=((j=r.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[d,f]=s9(n),m={start:"0%",center:"50%",end:"100%"}[f],g=(((k=r.arrow)==null?void 0:k.x)??0)+l/2,x=(((S=r.arrow)==null?void 0:S.y)??0)+u/2;let b="",w="";return d==="bottom"?(b=o?m:`${g}px`,w=`${-u}px`):d==="top"?(b=o?m:`${g}px`,w=`${s.floating.height+u}px`):d==="right"?(b=`${-u}px`,w=o?m:`${x}px`):d==="left"&&(b=`${s.floating.width+u}px`,w=o?m:`${x}px`),{data:{x:b,y:w}}}});function s9(e){const[t,n="center"]=e.split("-");return[t,n]}var MC=J$,AC=Q$,RC=e9,OC=n9,zk="rovingFocusGroup.onEntryFocus",gme={bubbles:!1,cancelable:!0},xg="RovingFocusGroup",[_2,r9,xme]=tf(xg),[vme,af]=pr(xg,[xme]),[yme,bme]=vme(xg),i9=v.forwardRef((e,t)=>i.jsx(_2.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(_2.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(wme,{...e,ref:t})})}));i9.displayName=xg;var wme=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,g=v.useRef(null),x=St(t,g),b=cc(a),[w,j]=Ur({prop:o,defaultProp:l??null,onChange:u,caller:xg}),[k,S]=v.useState(!1),C=On(d),E=r9(n),T=v.useRef(!1),[M,z]=v.useState(0);return v.useEffect(()=>{const A=g.current;if(A)return A.addEventListener(zk,C),()=>A.removeEventListener(zk,C)},[C]),i.jsx(yme,{scope:n,orientation:s,dir:b,loop:r,currentTabStopId:w,onItemFocus:v.useCallback(A=>j(A),[j]),onItemShiftTab:v.useCallback(()=>S(!0),[]),onFocusableItemAdd:v.useCallback(()=>z(A=>A+1),[]),onFocusableItemRemove:v.useCallback(()=>z(A=>A-1),[]),children:i.jsx(Xe.div,{tabIndex:k||M===0?-1:0,"data-orientation":s,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:$e(e.onMouseDown,()=>{T.current=!0}),onFocus:$e(e.onFocus,A=>{const D=!T.current;if(A.target===A.currentTarget&&D&&!k){const B=new CustomEvent(zk,gme);if(A.currentTarget.dispatchEvent(B),!B.defaultPrevented){const $=E().filter(P=>P.focusable),q=$.find(P=>P.active),Z=$.find(P=>P.id===w),J=[q,Z,...$].filter(Boolean).map(P=>P.ref.current);l9(J,f)}}T.current=!1}),onBlur:$e(e.onBlur,()=>S(!1))})})}),a9="RovingFocusGroupItem",o9=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:a,children:o,...l}=e,u=Nr(),d=a||u,f=bme(a9,n),m=f.currentTabStopId===d,g=r9(n),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:w}=f;return v.useEffect(()=>{if(s)return x(),()=>b()},[s,x,b]),i.jsx(_2.ItemSlot,{scope:n,id:d,focusable:s,active:r,children:i.jsx(Xe.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:$e(e.onMouseDown,j=>{s?f.onItemFocus(d):j.preventDefault()}),onFocus:$e(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:$e(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){f.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const k=Nme(j,f.orientation,f.dir);if(k!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let C=g().filter(E=>E.focusable).map(E=>E.ref.current);if(k==="last")C.reverse();else if(k==="prev"||k==="next"){k==="prev"&&C.reverse();const E=C.indexOf(j.currentTarget);C=f.loop?Sme(C,E+1):C.slice(E+1)}setTimeout(()=>l9(C))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:w!=null}):o})})});o9.displayName=a9;var jme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function kme(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Nme(e,t,n){const s=kme(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return jme[s]}function l9(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function Sme(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var DC=i9,PC=o9;function _me(e){const t=Cme(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(Tme);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function Cme(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=Mme(r),l=zme(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Qa(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Eme=Symbol("radix.slottable");function Tme(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Eme}function zme(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function Mme(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var C2=["Enter"," "],Ame=["ArrowDown","PageUp","Home"],c9=["ArrowUp","PageDown","End"],Rme=[...Ame,...c9],Ome={ltr:[...C2,"ArrowRight"],rtl:[...C2,"ArrowLeft"]},Dme={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vg="Menu",[jp,Pme,Ime]=tf(vg),[Lu,u9]=pr(vg,[Ime,rf,af]),_b=rf(),d9=af(),[Lme,$u]=Lu(vg),[$me,yg]=Lu(vg),h9=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:r,onOpenChange:a,modal:o=!0}=e,l=_b(t),[u,d]=v.useState(null),f=v.useRef(!1),m=On(a),g=cc(r);return v.useEffect(()=>{const x=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),i.jsx(MC,{...l,children:i.jsx(Lme,{scope:t,open:n,onOpenChange:m,content:u,onContentChange:d,children:i.jsx($me,{scope:t,onClose:v.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:g,modal:o,children:s})})})};h9.displayName=vg;var Vme="MenuAnchor",IC=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=_b(n);return i.jsx(AC,{...r,...s,ref:t})});IC.displayName=Vme;var LC="MenuPortal",[Bme,f9]=Lu(LC,{forceMount:void 0}),m9=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:r}=e,a=$u(LC,t);return i.jsx(Bme,{scope:t,forceMount:n,children:i.jsx(rs,{present:n||a.open,children:i.jsx(ug,{asChild:!0,container:r,children:s})})})};m9.displayName=LC;var Di="MenuContent",[Fme,$C]=Lu(Di),p9=v.forwardRef((e,t)=>{const n=f9(Di,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,a=$u(Di,e.__scopeMenu),o=yg(Di,e.__scopeMenu);return i.jsx(jp.Provider,{scope:e.__scopeMenu,children:i.jsx(rs,{present:s||a.open,children:i.jsx(jp.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(Ume,{...r,ref:t}):i.jsx(Hme,{...r,ref:t})})})})}),Ume=v.forwardRef((e,t)=>{const n=$u(Di,e.__scopeMenu),s=v.useRef(null),r=St(t,s);return v.useEffect(()=>{const a=s.current;if(a)return nC(a)},[]),i.jsx(VC,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:$e(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Hme=v.forwardRef((e,t)=>{const n=$u(Di,e.__scopeMenu);return i.jsx(VC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),qme=_me("MenuContent.ScrollLock"),VC=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:x,disableOutsideScroll:b,...w}=e,j=$u(Di,n),k=yg(Di,n),S=_b(n),C=d9(n),E=Pme(n),[T,M]=v.useState(null),z=v.useRef(null),A=St(t,z,j.onContentChange),D=v.useRef(0),B=v.useRef(""),$=v.useRef(0),q=v.useRef(null),Z=v.useRef("right"),F=v.useRef(0),J=b?xb:v.Fragment,P=b?{as:qme,allowPinchZoom:!0}:void 0,I=G=>{var Y,le;const U=B.current+G,R=E().filter(he=>!he.disabled),H=document.activeElement,K=(Y=R.find(he=>he.ref.current===H))==null?void 0:Y.textValue,ne=R.map(he=>he.textValue),ce=spe(ne,U,K),ue=(le=R.find(he=>he.textValue===ce))==null?void 0:le.ref.current;(function he(be){B.current=be,window.clearTimeout(D.current),be!==""&&(D.current=window.setTimeout(()=>he(""),1e3))})(U),ue&&setTimeout(()=>ue.focus())};v.useEffect(()=>()=>window.clearTimeout(D.current),[]),tC();const L=v.useCallback(G=>{var R,H;return Z.current===((R=q.current)==null?void 0:R.side)&&ipe(G,(H=q.current)==null?void 0:H.area)},[]);return i.jsx(Fme,{scope:n,searchRef:B,onItemEnter:v.useCallback(G=>{L(G)&&G.preventDefault()},[L]),onItemLeave:v.useCallback(G=>{var U;L(G)||((U=z.current)==null||U.focus(),M(null))},[L]),onTriggerLeave:v.useCallback(G=>{L(G)&&G.preventDefault()},[L]),pointerGraceTimerRef:$,onPointerGraceIntentChange:v.useCallback(G=>{q.current=G},[]),children:i.jsx(J,{...P,children:i.jsx(pb,{asChild:!0,trapped:r,onMountAutoFocus:$e(a,G=>{var U;G.preventDefault(),(U=z.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(ef,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:x,children:i.jsx(DC,{asChild:!0,...C,dir:k.dir,orientation:"vertical",loop:s,currentTabStopId:T,onCurrentTabStopIdChange:M,onEntryFocus:$e(u,G=>{k.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(RC,{role:"menu","aria-orientation":"vertical","data-state":M9(j.open),"data-radix-menu-content":"",dir:k.dir,...S,...w,ref:A,style:{outline:"none",...w.style},onKeyDown:$e(w.onKeyDown,G=>{const R=G.target.closest("[data-radix-menu-content]")===G.currentTarget,H=G.ctrlKey||G.altKey||G.metaKey,K=G.key.length===1;R&&(G.key==="Tab"&&G.preventDefault(),!H&&K&&I(G.key));const ne=z.current;if(G.target!==ne||!Rme.includes(G.key))return;G.preventDefault();const ue=E().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);c9.includes(G.key)&&ue.reverse(),tpe(ue)}),onBlur:$e(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(D.current),B.current="")}),onPointerMove:$e(e.onPointerMove,kp(G=>{const U=G.target,R=F.current!==G.clientX;if(G.currentTarget.contains(U)&&R){const H=G.clientX>F.current?"right":"left";Z.current=H,F.current=G.clientX}}))})})})})})})});p9.displayName=Di;var Zme="MenuGroup",BC=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return i.jsx(Xe.div,{role:"group",...s,ref:t})});BC.displayName=Zme;var Wme="MenuLabel",g9=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return i.jsx(Xe.div,{...s,ref:t})});g9.displayName=Wme;var Lv="MenuItem",MR="menu.itemSelect",Cb=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...r}=e,a=v.useRef(null),o=yg(Lv,e.__scopeMenu),l=$C(Lv,e.__scopeMenu),u=St(t,a),d=v.useRef(!1),f=()=>{const m=a.current;if(!n&&m){const g=new CustomEvent(MR,{bubbles:!0,cancelable:!0});m.addEventListener(MR,x=>s==null?void 0:s(x),{once:!0}),zv(m,g),g.defaultPrevented?d.current=!1:o.onClose()}};return i.jsx(x9,{...r,ref:u,disabled:n,onClick:$e(e.onClick,f),onPointerDown:m=>{var g;(g=e.onPointerDown)==null||g.call(e,m),d.current=!0},onPointerUp:$e(e.onPointerUp,m=>{var g;d.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:$e(e.onKeyDown,m=>{const g=l.searchRef.current!=="";n||g&&m.key===" "||C2.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Cb.displayName=Lv;var x9=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...a}=e,o=$C(Lv,n),l=d9(n),u=v.useRef(null),d=St(t,u),[f,m]=v.useState(!1),[g,x]=v.useState("");return v.useEffect(()=>{const b=u.current;b&&x((b.textContent??"").trim())},[a.children]),i.jsx(jp.ItemSlot,{scope:n,disabled:s,textValue:r??g,children:i.jsx(PC,{asChild:!0,...l,focusable:!s,children:i.jsx(Xe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:d,onPointerMove:$e(e.onPointerMove,kp(b=>{s?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:$e(e.onPointerLeave,kp(b=>o.onItemLeave(b))),onFocus:$e(e.onFocus,()=>m(!0)),onBlur:$e(e.onBlur,()=>m(!1))})})})}),Kme="MenuCheckboxItem",v9=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...r}=e;return i.jsx(k9,{scope:e.__scopeMenu,checked:n,children:i.jsx(Cb,{role:"menuitemcheckbox","aria-checked":$v(n)?"mixed":n,...r,ref:t,"data-state":UC(n),onSelect:$e(r.onSelect,()=>s==null?void 0:s($v(n)?!0:!n),{checkForDefaultPrevented:!1})})})});v9.displayName=Kme;var y9="MenuRadioGroup",[Gme,Yme]=Lu(y9,{value:void 0,onValueChange:()=>{}}),b9=v.forwardRef((e,t)=>{const{value:n,onValueChange:s,...r}=e,a=On(s);return i.jsx(Gme,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(BC,{...r,ref:t})})});b9.displayName=y9;var w9="MenuRadioItem",j9=v.forwardRef((e,t)=>{const{value:n,...s}=e,r=Yme(w9,e.__scopeMenu),a=n===r.value;return i.jsx(k9,{scope:e.__scopeMenu,checked:a,children:i.jsx(Cb,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":UC(a),onSelect:$e(s.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,n)},{checkForDefaultPrevented:!1})})})});j9.displayName=w9;var FC="MenuItemIndicator",[k9,Jme]=Lu(FC,{checked:!1}),N9=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...r}=e,a=Jme(FC,n);return i.jsx(rs,{present:s||$v(a.checked)||a.checked===!0,children:i.jsx(Xe.span,{...r,ref:t,"data-state":UC(a.checked)})})});N9.displayName=FC;var Xme="MenuSeparator",S9=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return i.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});S9.displayName=Xme;var Qme="MenuArrow",_9=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=_b(n);return i.jsx(OC,{...r,...s,ref:t})});_9.displayName=Qme;var epe="MenuSub",[ZPe,C9]=Lu(epe),Nm="MenuSubTrigger",E9=v.forwardRef((e,t)=>{const n=$u(Nm,e.__scopeMenu),s=yg(Nm,e.__scopeMenu),r=C9(Nm,e.__scopeMenu),a=$C(Nm,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=a,d={__scopeMenu:e.__scopeMenu},f=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>f,[f]),v.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),u(null)}},[l,u]),i.jsx(IC,{asChild:!0,...d,children:i.jsx(x9,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":M9(n.open),...e,ref:Qa(t,r.onTriggerChange),onClick:m=>{var g;(g=e.onClick)==null||g.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:$e(e.onPointerMove,kp(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:$e(e.onPointerLeave,kp(m=>{var x,b;f();const g=(x=n.content)==null?void 0:x.getBoundingClientRect();if(g){const w=(b=n.content)==null?void 0:b.dataset.side,j=w==="right",k=j?-5:5,S=g[j?"left":"right"],C=g[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+k,y:m.clientY},{x:S,y:g.top},{x:C,y:g.top},{x:C,y:g.bottom},{x:S,y:g.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:$e(e.onKeyDown,m=>{var x;const g=a.searchRef.current!=="";e.disabled||g&&m.key===" "||Ome[s.dir].includes(m.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),m.preventDefault())})})})});E9.displayName=Nm;var T9="MenuSubContent",z9=v.forwardRef((e,t)=>{const n=f9(Di,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,a=$u(Di,e.__scopeMenu),o=yg(Di,e.__scopeMenu),l=C9(T9,e.__scopeMenu),u=v.useRef(null),d=St(t,u);return i.jsx(jp.Provider,{scope:e.__scopeMenu,children:i.jsx(rs,{present:s||a.open,children:i.jsx(jp.Slot,{scope:e.__scopeMenu,children:i.jsx(VC,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=u.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:$e(e.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:$e(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:$e(e.onKeyDown,f=>{var x;const m=f.currentTarget.contains(f.target),g=Dme[o.dir].includes(f.key);m&&g&&(a.onOpenChange(!1),(x=l.trigger)==null||x.focus(),f.preventDefault())})})})})})});z9.displayName=T9;function M9(e){return e?"open":"closed"}function $v(e){return e==="indeterminate"}function UC(e){return $v(e)?"indeterminate":e?"checked":"unchecked"}function tpe(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function npe(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function spe(e,t,n){const r=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=npe(e,Math.max(a,0));r.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function rpe(e,t){const{x:n,y:s}=e;let r=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],u=t[o],d=l.x,f=l.y,m=u.x,g=u.y;f>s!=g>s&&n<(m-d)*(s-f)/(g-f)+d&&(r=!r)}return r}function ipe(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return rpe(n,t)}function kp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var ape=h9,ope=IC,lpe=m9,cpe=p9,upe=BC,dpe=g9,hpe=Cb,fpe=v9,mpe=b9,ppe=j9,gpe=N9,xpe=S9,vpe=_9,ype=E9,bpe=z9,Eb="DropdownMenu",[wpe]=pr(Eb,[u9]),Er=u9(),[jpe,A9]=wpe(Eb),R9=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:r,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,u=Er(t),d=v.useRef(null),[f,m]=Ur({prop:r,defaultProp:a??!1,onChange:o,caller:Eb});return i.jsx(jpe,{scope:t,triggerId:Nr(),triggerRef:d,contentId:Nr(),open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(g=>!g),[m]),modal:l,children:i.jsx(ape,{...u,open:f,onOpenChange:m,dir:s,modal:l,children:n})})};R9.displayName=Eb;var O9="DropdownMenuTrigger",D9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=e,a=A9(O9,n),o=Er(n);return i.jsx(ope,{asChild:!0,...o,children:i.jsx(Xe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Qa(t,a.triggerRef),onPointerDown:$e(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:$e(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});D9.displayName=O9;var kpe="DropdownMenuPortal",P9=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Er(t);return i.jsx(lpe,{...s,...n})};P9.displayName=kpe;var I9="DropdownMenuContent",L9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=A9(I9,n),a=Er(n),o=v.useRef(!1);return i.jsx(cpe,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...s,ref:t,onCloseAutoFocus:$e(e.onCloseAutoFocus,l=>{var u;o.current||(u=r.triggerRef.current)==null||u.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:$e(e.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;(!r.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L9.displayName=I9;var Npe="DropdownMenuGroup",Spe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(upe,{...r,...s,ref:t})});Spe.displayName=Npe;var _pe="DropdownMenuLabel",$9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(dpe,{...r,...s,ref:t})});$9.displayName=_pe;var Cpe="DropdownMenuItem",V9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(hpe,{...r,...s,ref:t})});V9.displayName=Cpe;var Epe="DropdownMenuCheckboxItem",Tpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(fpe,{...r,...s,ref:t})});Tpe.displayName=Epe;var zpe="DropdownMenuRadioGroup",Mpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(mpe,{...r,...s,ref:t})});Mpe.displayName=zpe;var Ape="DropdownMenuRadioItem",Rpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(ppe,{...r,...s,ref:t})});Rpe.displayName=Ape;var Ope="DropdownMenuItemIndicator",Dpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(gpe,{...r,...s,ref:t})});Dpe.displayName=Ope;var Ppe="DropdownMenuSeparator",B9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(xpe,{...r,...s,ref:t})});B9.displayName=Ppe;var Ipe="DropdownMenuArrow",Lpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(vpe,{...r,...s,ref:t})});Lpe.displayName=Ipe;var $pe="DropdownMenuSubTrigger",Vpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(ype,{...r,...s,ref:t})});Vpe.displayName=$pe;var Bpe="DropdownMenuSubContent",Fpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Er(n);return i.jsx(bpe,{...r,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fpe.displayName=Bpe;var Upe=R9,Hpe=D9,qpe=P9,Zpe=L9,Wpe=$9,Kpe=V9,Gpe=B9;function bg({...e}){return i.jsx(Upe,{"data-slot":"dropdown-menu",...e})}function wg({...e}){return i.jsx(Hpe,{"data-slot":"dropdown-menu-trigger",...e})}function jg({className:e,sideOffset:t=4,...n}){return i.jsx(qpe,{children:i.jsx(Zpe,{"data-slot":"dropdown-menu-content",sideOffset:t,className:se("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",e),...n})})}function lr({className:e,inset:t,variant:n="default",...s}){return i.jsx(Kpe,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:se("data-[variant=destructive]:*:[svg]:!text-destructive relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[variant=destructive]:text-destructive data-[disabled]:opacity-50 data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive dark:data-[variant=destructive]:focus:bg-destructive/20 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...s})}function F9({className:e,inset:t,...n}){return i.jsx(Wpe,{"data-slot":"dropdown-menu-label","data-inset":t,className:se("px-2 py-1.5 font-medium text-sm data-[inset]:pl-8",e),...n})}function ql({className:e,...t}){return i.jsx(Gpe,{"data-slot":"dropdown-menu-separator",className:se("-mx-1 my-1 h-px bg-border",e),...t})}function Tb(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var U9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Ype="VisuallyHidden",H9=v.forwardRef((e,t)=>i.jsx(Xe.span,{...e,ref:t,style:{...U9,...e.style}}));H9.displayName=Ype;var q9=H9,Vu="NavigationMenu",[HC,Z9,Jpe]=tf(Vu),[E2,Xpe,Qpe]=tf(Vu),[qC]=pr(Vu,[Jpe,Qpe]),[ege,Fi]=qC(Vu),[tge,nge]=qC(Vu),W9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,onValueChange:r,defaultValue:a,delayDuration:o=200,skipDelayDuration:l=300,orientation:u="horizontal",dir:d,...f}=e,[m,g]=v.useState(null),x=St(t,D=>g(D)),b=cc(d),w=v.useRef(0),j=v.useRef(0),k=v.useRef(0),[S,C]=v.useState(!0),[E,T]=Ur({prop:s,onChange:D=>{const B=D!=="",$=l>0;B?(window.clearTimeout(k.current),$&&C(!1)):(window.clearTimeout(k.current),k.current=window.setTimeout(()=>C(!0),l)),r==null||r(D)},defaultProp:a??"",caller:Vu}),M=v.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>T(""),150)},[T]),z=v.useCallback(D=>{window.clearTimeout(j.current),T(D)},[T]),A=v.useCallback(D=>{E===D?window.clearTimeout(j.current):w.current=window.setTimeout(()=>{window.clearTimeout(j.current),T(D)},o)},[E,T,o]);return v.useEffect(()=>()=>{window.clearTimeout(w.current),window.clearTimeout(j.current),window.clearTimeout(k.current)},[]),i.jsx(K9,{scope:n,isRootMenu:!0,value:E,dir:b,orientation:u,rootNavigationMenu:m,onTriggerEnter:D=>{window.clearTimeout(w.current),S?A(D):z(D)},onTriggerLeave:()=>{window.clearTimeout(w.current),M()},onContentEnter:()=>window.clearTimeout(j.current),onContentLeave:M,onItemSelect:D=>{T(B=>B===D?"":D)},onItemDismiss:()=>T(""),children:i.jsx(Xe.nav,{"aria-label":"Main","data-orientation":u,dir:b,...f,ref:x})})});W9.displayName=Vu;var T2="NavigationMenuSub",sge=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,onValueChange:r,defaultValue:a,orientation:o="horizontal",...l}=e,u=Fi(T2,n),[d,f]=Ur({prop:s,onChange:r,defaultProp:a??"",caller:T2});return i.jsx(K9,{scope:n,isRootMenu:!1,value:d,dir:u.dir,orientation:o,rootNavigationMenu:u.rootNavigationMenu,onTriggerEnter:m=>f(m),onItemSelect:m=>f(m),onItemDismiss:()=>f(""),children:i.jsx(Xe.div,{"data-orientation":o,...l,ref:t})})});sge.displayName=T2;var K9=e=>{const{scope:t,isRootMenu:n,rootNavigationMenu:s,dir:r,orientation:a,children:o,value:l,onItemSelect:u,onItemDismiss:d,onTriggerEnter:f,onTriggerLeave:m,onContentEnter:g,onContentLeave:x}=e,[b,w]=v.useState(null),[j,k]=v.useState(new Map),[S,C]=v.useState(null);return i.jsx(ege,{scope:t,isRootMenu:n,rootNavigationMenu:s,value:l,previousValue:Tb(l),baseId:Nr(),dir:r,orientation:a,viewport:b,onViewportChange:w,indicatorTrack:S,onIndicatorTrackChange:C,onTriggerEnter:On(f),onTriggerLeave:On(m),onContentEnter:On(g),onContentLeave:On(x),onItemSelect:On(u),onItemDismiss:On(d),onViewportContentChange:v.useCallback((E,T)=>{k(M=>(M.set(E,T),new Map(M)))},[]),onViewportContentRemove:v.useCallback(E=>{k(T=>T.has(E)?(T.delete(E),new Map(T)):T)},[]),children:i.jsx(HC.Provider,{scope:t,children:i.jsx(tge,{scope:t,items:j,children:o})})})},G9="NavigationMenuList",Y9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,r=Fi(G9,n),a=i.jsx(Xe.ul,{"data-orientation":r.orientation,...s,ref:t});return i.jsx(Xe.div,{style:{position:"relative"},ref:r.onIndicatorTrackChange,children:i.jsx(HC.Slot,{scope:n,children:r.isRootMenu?i.jsx(a7,{asChild:!0,children:a}):a})})});Y9.displayName=G9;var J9="NavigationMenuItem",[rge,X9]=qC(J9),Q9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,...r}=e,a=Nr(),o=s||a||"LEGACY_REACT_AUTO_VALUE",l=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(()=>{}),m=v.useRef(!1),g=v.useCallback((b="start")=>{if(l.current){f.current();const w=M2(l.current);w.length&&KC(b==="start"?w:w.reverse())}},[]),x=v.useCallback(()=>{if(l.current){const b=M2(l.current);b.length&&(f.current=dge(b))}},[]);return i.jsx(rge,{scope:n,value:o,triggerRef:u,contentRef:l,focusProxyRef:d,wasEscapeCloseRef:m,onEntryKeyDown:g,onFocusProxyEnter:g,onRootContentClose:x,onContentFocusOutside:x,children:i.jsx(Xe.li,{...r,ref:t})})});Q9.displayName=J9;var z2="NavigationMenuTrigger",e7=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,disabled:s,...r}=e,a=Fi(z2,e.__scopeNavigationMenu),o=X9(z2,e.__scopeNavigationMenu),l=v.useRef(null),u=St(l,o.triggerRef,t),d=l7(a.baseId,o.value),f=c7(a.baseId,o.value),m=v.useRef(!1),g=v.useRef(!1),x=o.value===a.value;return i.jsxs(i.Fragment,{children:[i.jsx(HC.ItemSlot,{scope:n,value:o.value,children:i.jsx(o7,{asChild:!0,children:i.jsx(Xe.button,{id:d,disabled:s,"data-disabled":s?"":void 0,"data-state":GC(x),"aria-expanded":x,"aria-controls":f,...r,ref:u,onPointerEnter:$e(e.onPointerEnter,()=>{g.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:$e(e.onPointerMove,Vv(()=>{s||g.current||o.wasEscapeCloseRef.current||m.current||(a.onTriggerEnter(o.value),m.current=!0)})),onPointerLeave:$e(e.onPointerLeave,Vv(()=>{s||(a.onTriggerLeave(),m.current=!1)})),onClick:$e(e.onClick,()=>{a.onItemSelect(o.value),g.current=x}),onKeyDown:$e(e.onKeyDown,b=>{const j={horizontal:"ArrowDown",vertical:a.dir==="rtl"?"ArrowLeft":"ArrowRight"}[a.orientation];x&&b.key===j&&(o.onEntryKeyDown(),b.preventDefault())})})})}),x&&i.jsxs(i.Fragment,{children:[i.jsx(q9,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:b=>{const w=o.contentRef.current,j=b.relatedTarget,k=j===l.current,S=w==null?void 0:w.contains(j);(k||!S)&&o.onFocusProxyEnter(k?"start":"end")}}),a.viewport&&i.jsx("span",{"aria-owns":f})]})]})});e7.displayName=z2;var ige="NavigationMenuLink",AR="navigationMenu.linkSelect",t7=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,active:s,onSelect:r,...a}=e;return i.jsx(o7,{asChild:!0,children:i.jsx(Xe.a,{"data-active":s?"":void 0,"aria-current":s?"page":void 0,...a,ref:t,onClick:$e(e.onClick,o=>{const l=o.target,u=new CustomEvent(AR,{bubbles:!0,cancelable:!0});if(l.addEventListener(AR,d=>r==null?void 0:r(d),{once:!0}),zv(l,u),!u.defaultPrevented&&!o.metaKey){const d=new CustomEvent(sv,{bubbles:!0,cancelable:!0});zv(l,d)}},{checkForDefaultPrevented:!1})})})});t7.displayName=ige;var ZC="NavigationMenuIndicator",n7=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Fi(ZC,e.__scopeNavigationMenu),a=!!r.value;return r.indicatorTrack?sb.createPortal(i.jsx(rs,{present:n||a,children:i.jsx(age,{...s,ref:t})}),r.indicatorTrack):null});n7.displayName=ZC;var age=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,r=Fi(ZC,n),a=Z9(n),[o,l]=v.useState(null),[u,d]=v.useState(null),f=r.orientation==="horizontal",m=!!r.value;v.useEffect(()=>{var w;const b=(w=a().find(j=>j.value===r.value))==null?void 0:w.ref.current;b&&l(b)},[a,r.value]);const g=()=>{o&&d({size:f?o.offsetWidth:o.offsetHeight,offset:f?o.offsetLeft:o.offsetTop})};return A2(o,g),A2(r.indicatorTrack,g),u?i.jsx(Xe.div,{"aria-hidden":!0,"data-state":m?"visible":"hidden","data-orientation":r.orientation,...s,ref:t,style:{position:"absolute",...f?{left:0,width:u.size+"px",transform:`translateX(${u.offset}px)`}:{top:0,height:u.size+"px",transform:`translateY(${u.offset}px)`},...s.style}}):null}),zh="NavigationMenuContent",s7=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Fi(zh,e.__scopeNavigationMenu),a=X9(zh,e.__scopeNavigationMenu),o=St(a.contentRef,t),l=a.value===r.value,u={value:a.value,triggerRef:a.triggerRef,focusProxyRef:a.focusProxyRef,wasEscapeCloseRef:a.wasEscapeCloseRef,onContentFocusOutside:a.onContentFocusOutside,onRootContentClose:a.onRootContentClose,...s};return r.viewport?i.jsx(oge,{forceMount:n,...u,ref:o}):i.jsx(rs,{present:n||l,children:i.jsx(r7,{"data-state":GC(l),...u,ref:o,onPointerEnter:$e(e.onPointerEnter,r.onContentEnter),onPointerLeave:$e(e.onPointerLeave,Vv(r.onContentLeave)),style:{pointerEvents:!l&&r.isRootMenu?"none":void 0,...u.style}})})});s7.displayName=zh;var oge=v.forwardRef((e,t)=>{const n=Fi(zh,e.__scopeNavigationMenu),{onViewportContentChange:s,onViewportContentRemove:r}=n;return Vn(()=>{s(e.value,{ref:t,...e})},[e,t,s]),Vn(()=>()=>r(e.value),[e.value,r]),null}),sv="navigationMenu.rootContentDismiss",r7=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,triggerRef:r,focusProxyRef:a,wasEscapeCloseRef:o,onRootContentClose:l,onContentFocusOutside:u,...d}=e,f=Fi(zh,n),m=v.useRef(null),g=St(m,t),x=l7(f.baseId,s),b=c7(f.baseId,s),w=Z9(n),j=v.useRef(null),{onItemDismiss:k}=f;v.useEffect(()=>{const C=m.current;if(f.isRootMenu&&C){const E=()=>{var T;k(),l(),C.contains(document.activeElement)&&((T=r.current)==null||T.focus())};return C.addEventListener(sv,E),()=>C.removeEventListener(sv,E)}},[f.isRootMenu,e.value,r,k,l]);const S=v.useMemo(()=>{const E=w().map(B=>B.value);f.dir==="rtl"&&E.reverse();const T=E.indexOf(f.value),M=E.indexOf(f.previousValue),z=s===f.value,A=M===E.indexOf(s);if(!z&&!A)return j.current;const D=(()=>{if(T!==M){if(z&&M!==-1)return T>M?"from-end":"from-start";if(A&&T!==-1)return T>M?"to-start":"to-end"}return null})();return j.current=D,D},[f.previousValue,f.value,f.dir,w,s]);return i.jsx(a7,{asChild:!0,children:i.jsx(ef,{id:b,"aria-labelledby":x,"data-motion":S,"data-orientation":f.orientation,...d,ref:g,disableOutsidePointerEvents:!1,onDismiss:()=>{var E;const C=new Event(sv,{bubbles:!0,cancelable:!0});(E=m.current)==null||E.dispatchEvent(C)},onFocusOutside:$e(e.onFocusOutside,C=>{var T;u();const E=C.target;(T=f.rootNavigationMenu)!=null&&T.contains(E)&&C.preventDefault()}),onPointerDownOutside:$e(e.onPointerDownOutside,C=>{var z;const E=C.target,T=w().some(A=>{var D;return(D=A.ref.current)==null?void 0:D.contains(E)}),M=f.isRootMenu&&((z=f.viewport)==null?void 0:z.contains(E));(T||M||!f.isRootMenu)&&C.preventDefault()}),onKeyDown:$e(e.onKeyDown,C=>{var M;const E=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!E){const z=M2(C.currentTarget),A=document.activeElement,D=z.findIndex(q=>q===A),$=C.shiftKey?z.slice(0,D).reverse():z.slice(D+1,z.length);KC($)?C.preventDefault():(M=a.current)==null||M.focus()}}),onEscapeKeyDown:$e(e.onEscapeKeyDown,C=>{o.current=!0})})})}),WC="NavigationMenuViewport",i7=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=!!Fi(WC,e.__scopeNavigationMenu).value;return i.jsx(rs,{present:n||a,children:i.jsx(lge,{...s,ref:t})})});i7.displayName=WC;var lge=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,children:s,...r}=e,a=Fi(WC,n),o=St(t,a.onViewportChange),l=nge(zh,e.__scopeNavigationMenu),[u,d]=v.useState(null),[f,m]=v.useState(null),g=u?(u==null?void 0:u.width)+"px":void 0,x=u?(u==null?void 0:u.height)+"px":void 0,b=!!a.value,w=b?a.value:a.previousValue;return A2(f,()=>{f&&d({width:f.offsetWidth,height:f.offsetHeight})}),i.jsx(Xe.div,{"data-state":GC(b),"data-orientation":a.orientation,...r,ref:o,style:{pointerEvents:!b&&a.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":g,"--radix-navigation-menu-viewport-height":x,...r.style},onPointerEnter:$e(e.onPointerEnter,a.onContentEnter),onPointerLeave:$e(e.onPointerLeave,Vv(a.onContentLeave)),children:Array.from(l.items).map(([k,{ref:S,forceMount:C,...E}])=>{const T=w===k;return i.jsx(rs,{present:C||T,children:i.jsx(r7,{...E,ref:Qa(S,M=>{T&&M&&m(M)})})},k)})})}),cge="FocusGroup",a7=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,r=Fi(cge,n);return i.jsx(E2.Provider,{scope:n,children:i.jsx(E2.Slot,{scope:n,children:i.jsx(Xe.div,{dir:r.dir,...s,ref:t})})})}),RR=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],uge="FocusGroupItem",o7=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,r=Xpe(n),a=Fi(uge,n);return i.jsx(E2.ItemSlot,{scope:n,children:i.jsx(Xe.button,{...s,ref:t,onKeyDown:$e(e.onKeyDown,o=>{if(["Home","End",...RR].includes(o.key)){let u=r().map(m=>m.ref.current);if([a.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&u.reverse(),RR.includes(o.key)){const m=u.indexOf(o.currentTarget);u=u.slice(m+1)}setTimeout(()=>KC(u)),o.preventDefault()}})})})});function M2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function KC(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}function dge(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const n=t.dataset.tabindex;t.setAttribute("tabindex",n)})}}function A2(e,t){const n=On(t);Vn(()=>{let s=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(s),r.unobserve(e)}}},[e,n])}function GC(e){return e?"open":"closed"}function l7(e,t){return`${e}-trigger-${t}`}function c7(e,t){return`${e}-content-${t}`}function Vv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var u7=W9,d7=Y9,hge=Q9,h7=e7,fge=t7,f7=n7,m7=s7,p7=i7;const g7=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(u7,{ref:s,className:se("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...n,children:[t,i.jsx(w7,{})]}));g7.displayName=u7.displayName;const x7=v.forwardRef(({className:e,...t},n)=>i.jsx(d7,{ref:n,className:se("group flex flex-1 list-none items-center justify-center space-x-1",e),...t}));x7.displayName=d7.displayName;const x0=hge,v7=cg("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),y7=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(h7,{ref:s,className:se(v7(),"group",e),...n,children:[t," ",i.jsx(dr,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));y7.displayName=h7.displayName;const b7=v.forwardRef(({className:e,...t},n)=>i.jsx(m7,{ref:n,className:se("data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out md:absolute md:w-auto ",e),...t}));b7.displayName=m7.displayName;const mge=fge,w7=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:se("absolute top-full left-0 flex justify-center"),children:i.jsx(p7,{className:se("data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full origin-top-center overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=closed]:animate-out data-[state=open]:animate-in md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:n,...t})}));w7.displayName=p7.displayName;const pge=v.forwardRef(({className:e,...t},n)=>i.jsx(f7,{ref:n,className:se("data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=hidden]:animate-out data-[state=visible]:animate-in",e),...t,children:i.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));pge.displayName=f7.displayName;const j7=[{title:"Dires",url:"/",id:1,groupLinks:[{title:"O nas",links:[{label:"Kdo jsme",icon:noe,description:"Poznejte nas tym a nasi vizi",url:"/#benefits"},{label:"Co delame",icon:du,description:"Nase sluzby a specializace",url:"/tym"},{label:"Nas tym",icon:qa,description:"Seznamte se s nasimi odborniky",url:"/tym"}]},{title:"Vice",links:[{label:"Blog",icon:Wt,description:"Clanky a novinky ze sveta fyzioterapie",url:"/blog"},{label:"Obchod",icon:ju,description:"Fyzioterapeuticke pomucky a vybaveni",url:"/obchod"},{label:"Cenik",icon:bp,description:"Prehled cen a predplatnych planu",url:"/#pricing"},{label:"Cast dotazy",icon:H_,description:"Odpovedi na nejcastejsi otazky",url:"/#faq"},{label:"Kontakt",icon:Roe,description:"Napiste nam nebo nas navstivte",url:"/#contact"}]}],imageLink:{url:"/#features",image:"https://images.pexels.com/photos/5473177/pexels-photo-5473177.jpeg?auto=compress&cs=tinysrgb&w=800",label:"Objevte nase funkce"}},{title:"Obchod",id:2,url:"/obchod",featuredLinks:[{label:"Lineseat",icon:ju,description:"Pomucka pro stabilni a funkcni sed v aute i kancelari",background:"https://images.pexels.com/photos/4498136/pexels-photo-4498136.jpeg?auto=compress&cs=tinysrgb&w=800",url:"/obchod"},{label:"Correctfoot",icon:U3,description:"Balancni desticka pro trenink koncetin",background:"https://images.pexels.com/photos/4498606/pexels-photo-4498606.jpeg?auto=compress&cs=tinysrgb&w=800",url:"/obchod"}],links:[{label:"4CORE Program",icon:du,description:"Online treninkovy program - 70 dni, 15 minut denne",url:"/obchod"},{label:"Fyziotrenink",icon:Wt,description:"Kniha Pohyb jako lek - aktualizovane vydani",url:"/obchod"}]},{title:"Kurzy",url:"/kurzy",id:3,groupLinks:[{title:"Nabidka kurzu",links:[{label:"Vsechny kurzy",icon:U3,description:"Kompletni prehled vsech dostupnych kurzu",url:"/kurzy"},{label:"71denni kurz",icon:ha,description:"Intenzivni program na 71 dni pro maximalni vysledky",url:"/kurzy"},{label:"Kratke kurzy",icon:on,description:"Kratke specializovane kurzy a workshopy",url:"/kurzy"}]},{title:"Informace",links:[{label:"Cenik kurzu",icon:bp,description:"Prehled cen a balicku pro vsechny kurzy",url:"/#pricing"},{label:"Certifikace",icon:tc,description:"Informace o ziskani certifikatu",url:"/kurzy"},{label:"Pro pokrocile",icon:du,description:"Specializovane kurzy pro zkusene fyzioterapeuty",url:"/kurzy"}]}],imageLink:{url:"/courses",image:"https://images.pexels.com/photos/5473182/pexels-photo-5473182.jpeg?auto=compress&cs=tinysrgb&w=800",label:"Prozkoumejte nase kurzy"}},{title:"Kosik",url:"/kosik",id:100},{title:"Prepnout tema",id:101}],gge=1024,xge=({className:e})=>{var d,f,m,g;const[t,n]=v.useState(!1),[s,r]=v.useState(!1),{user:a,signOut:o}=Ht(),{hasActiveSubscription:l}=pg();v.useEffect(()=>{const x=()=>{window.innerWidth>gge&&n(!1)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),v.useEffect(()=>{let x=window.scrollY;const b=()=>{const w=window.scrollY;w<=10?r(!1):w>x?r(!0):r(!1),x=w};return window.addEventListener("scroll",b,{passive:!0}),()=>window.removeEventListener("scroll",b)},[]),v.useEffect(()=>{document.body.style.overflow=t?"hidden":"auto"},[t]);const u=()=>{n(!t)};return i.jsxs(v.Fragment,{children:[i.jsx("section",{className:se("pointer-events-auto fixed top-0 z-999 flex w-full items-center justify-center bg-background transition-all duration-500 ease-out pt-[env(safe-area-inset-top,0px)]",s&&"shadow-[0px_1px_0px_0px_rgba(0,0,0,0.05),0px_2px_8px_0px_rgba(16,25,36,0.08)]",e),children:i.jsx(g7,{className:se("max-w-full transition-all duration-500 ease-out after:absolute after:inset-0 after:z-998 after:block after:size-full after:bg-background after:content-[''] [&>div:last-child>div]:mt-0 [&>div:last-child>div]:animate-none [&>div:last-child>div]:rounded-none [&>div:last-child>div]:border-0 [&>div:last-child>div]:border-b [&>div:last-child>div]:!shadow-[0px_-1px_0px_0px_rgba(0,0,0,0.05),0px_0px_0px_1px_rgba(17,26,37,0.05),0px_2px_5px_0px_rgba(16,25,36,0.1),0px_5px_20px_0px_rgba(16,25,36,0.1)]",s?"h-14":"h-20"),children:i.jsxs("div",{className:"relative z-999 container grid w-full grid-cols-2 items-center justify-between gap-8 xl:grid-cols-3",children:[i.jsxs(Be,{to:"/",className:"flex max-h-8 items-center gap-2 text-lg font-semibold tracking-tighter",children:[i.jsx("img",{src:pn.logo,alt:pn.name,className:se("inline-block transition-all duration-500 dark:invert",s?"size-6":"size-8")}),i.jsx("span",{className:se("hidden font-bold transition-all duration-500 md:inline-block",s?"text-lg":"text-xl"),children:pn.name})]}),i.jsx("div",{className:"hidden xl:flex",children:i.jsx(x7,{children:j7.map((x,b)=>i.jsx(vge,{item:x,index:b},`desktop-link-${b}`))})}),i.jsxs("div",{className:"flex items-center gap-2 justify-self-end",children:[i.jsx("div",{className:"hidden xl:flex xl:items-center xl:gap-2",children:a?i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsxs(Q,{variant:"ghost",className:se("gap-2 group",s?"h-9 px-3":"h-11 px-4"),children:[i.jsx(In,{className:se(s?"size-7":"size-8"),children:i.jsx(Sr,{className:"text-xs font-medium",children:((d=a.email)==null?void 0:d.charAt(0).toUpperCase())||"U"})}),i.jsx("span",{className:se("font-medium",s?"text-sm":"text-base"),children:((f=a.email)==null?void 0:f.split("@")[0])||"User"}),i.jsx(dr,{className:se("transition-transform duration-200 group-data-[state=open]:rotate-180","size-4")})]})}),i.jsxs(jg,{align:"center",className:"w-56 animate-in fade-in-0 zoom-in-95 data-[side=bottom]:slide-in-from-top-2",sideOffset:8,children:[i.jsxs("div",{className:"flex items-center gap-2 p-2",children:[i.jsx(In,{className:"size-8",children:i.jsx(Sr,{className:"text-xs",children:((m=a.email)==null?void 0:m.charAt(0).toUpperCase())||"U"})}),i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-sm font-medium",children:((g=a.email)==null?void 0:g.split("@")[0])||"User"}),l&&i.jsxs(Le,{variant:"outline",className:"h-4 px-1 text-[10px] bg-yellow-500/10 border-yellow-500/50 text-yellow-700 dark:text-yellow-400",children:[i.jsx($r,{className:"mr-0.5 size-2.5 fill-yellow-500 text-yellow-500"}),"Premium"]})]}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:a.email})]})]}),i.jsx(ql,{}),i.jsx(lr,{asChild:!0,children:i.jsxs(Be,{to:"/prehled",children:[i.jsx(Oi,{className:"mr-2 size-4"}),"Dashboard"]})}),i.jsx(lr,{asChild:!0,children:i.jsxs(Be,{to:"/prehled/nastaveni",children:[i.jsx(Yh,{className:"mr-2 size-4"}),"Nastaveni"]})}),i.jsx(lr,{asChild:!0,children:i.jsxs(Be,{to:"/prehled/fakturace",children:[i.jsx(sr,{className:"mr-2 size-4"}),"Fakturace"]})}),i.jsx(ql,{}),i.jsxs(lr,{onClick:o,className:"cursor-pointer text-red-600 focus:text-red-700 focus:bg-red-50 dark:focus:bg-red-950",children:[i.jsx(GL,{className:"mr-2 size-4"}),"Odhlasit se"]})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(Q,{variant:"ghost",asChild:!0,size:s?"sm":"default",children:i.jsx(Be,{to:"/prihlaseni",children:"Prihlasit se"})}),i.jsx(Q,{asChild:!0,size:s?"sm":"default",children:i.jsxs(Be,{to:"/registrace",children:["Zacit",i.jsx(hr,{})]})})]})}),i.jsx("div",{className:"xl:hidden",children:i.jsx(Q,{className:"size-11",variant:"ghost",size:"icon",onClick:u,children:i.jsx(gn,{mode:"wait",initial:!1,children:t?i.jsx(ee.div,{initial:{opacity:0,rotate:-90,scale:.8},animate:{opacity:1,rotate:0,scale:1},exit:{opacity:0,rotate:90,scale:.8},transition:{duration:.15},children:i.jsx(Iu,{className:"size-5.5 stroke-foreground"})},"close"):i.jsx(ee.div,{initial:{opacity:0,rotate:90,scale:.8},animate:{opacity:1,rotate:0,scale:1},exit:{opacity:0,rotate:-90,scale:.8},transition:{duration:.15},children:i.jsx(Eoe,{className:"size-5.5 stroke-foreground"})},"menu")})})})]})]})})}),i.jsx(Sge,{open:t})]})},vge=({item:e,index:t})=>e.id===100?i.jsx(x0,{value:`${t}`,children:i.jsx(o$,{})},`desktop-menu-item-${t}`):e.id===101?i.jsx(x0,{value:`${t}`,children:i.jsx(_8,{})},`desktop-menu-item-${t}`):e.links||e.featuredLinks||e.groupLinks?i.jsxs(x0,{value:`${t}`,children:[i.jsx(y7,{className:"h-fit bg-transparent font-normal text-foreground/60",children:e.url?i.jsx(Be,{to:e.url,className:"hover:text-foreground transition-colors",children:e.title}):e.title}),i.jsx(b7,{className:"hidden !rounded-xl !border-0 !p-0 xl:block",children:i.jsx("div",{className:"w-dvw animate-[fade-in-slide-down_0.35s_cubic-bezier(0.33,1,0.68,1)_forwards] px-8 pt-6 pb-12",children:i.jsxs("div",{className:"container",children:[(e.id===1||e.id===3)&&i.jsx(bge,{groupLinks:e.groupLinks,imageLink:e.imageLink}),e.id===2&&i.jsx(yge,{featuredLinks:e.featuredLinks,links:e.links})]})})})]},`desktop-menu-item-${t}`):i.jsx(x0,{value:`${t}`,children:i.jsx(mge,{href:e.url,className:`${v7()} h-fit bg-transparent font-normal text-foreground/60`,children:e.title})},`desktop-menu-item-${t}`),yge=({links:e,featuredLinks:t})=>i.jsxs("div",{children:[i.jsx("div",{className:"flex gap-8 pb-8",children:t&&t.map((n,s)=>i.jsx(kge,{link:n},`desktop-featured-link-${s}`))}),i.jsx(It,{}),i.jsx("div",{className:"grid grid-cols-4 pt-8",children:e&&e.map((n,s)=>i.jsx(k7,{link:n},`default-nav-link-${s}`))})]}),bge=({groupLinks:e,imageLink:t})=>i.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[i.jsx(wge,{groupLinks:e}),i.jsx(jge,{link:t})]}),wge=({groupLinks:e})=>{const t=v.useRef([]),n=()=>a=>{t.current.forEach(o=>{o&&o!==a.currentTarget&&o.classList.add("opacity-50")})},s=()=>{t.current.forEach(a=>{a==null||a.classList.remove("opacity-50")})};if(!e)return null;let r=0;return i.jsx("div",{className:"grid grid-cols-2 gap-8",children:e.map((a,o)=>i.jsxs("div",{children:[i.jsx("div",{className:"mb-4 text-xs text-muted-foreground",children:a.title}),i.jsx("ul",{className:"flex flex-col gap-8",children:a.links.map((l,u)=>{const d=r++;return i.jsx("li",{children:i.jsx(k7,{link:l,onMouseEnter:n(),onMouseLeave:s,ref:f=>{f&&(t.current[d]=f)}})},`group-link-${o}-${u}`)})})]},`group-link-${o}`))})},jge=({link:e})=>e?i.jsx("div",{className:"hidden xl:block",children:i.jsx("a",{href:e.url,className:"w-full max-w-[36.875rem]",children:i.jsx(Za,{ratio:1.77245509,className:"overflow-hidden rounded-[0.25rem] bg-muted",children:i.jsxs("div",{className:"size-full",children:[i.jsx(Le,{className:"absolute top-2 left-2",children:"Nove"}),i.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-8 pt-10",children:[i.jsx("div",{className:"text-2xl font-semibold",children:e.label}),i.jsx("div",{className:"w-[80%]",children:i.jsx(Za,{ratio:1.5,className:"overflow-hidden rounded-[0.25rem] bg-muted",children:i.jsx("img",{src:e.image,alt:e.label,className:"size-full object-cover object-left-top"})})})]})]})})})}):null,kge=({link:e})=>i.jsxs("a",{href:e.url,className:"group relative flex w-full overflow-hidden rounded-xl bg-muted px-8 py-7",children:[i.jsxs("div",{className:"relative z-10 flex w-full items-center gap-6",children:[i.jsx("div",{className:"flex size-12 shrink-0 rounded-lg border bg-background shadow-lg",children:e.icon&&i.jsx(e.icon,{className:"m-auto size-5 stroke-foreground"})}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("div",{className:"text-lg font-semibold text-white",children:e.label}),i.jsx("div",{className:"font-medium text-white/80",children:e.description})]})]}),i.jsx("img",{src:e.background,alt:e.label,className:"absolute top-0 left-0 size-full object-cover object-left-top opacity-90 transition-opacity duration-300 ease-in-out group-hover:opacity-100"})]}),k7=v.forwardRef(({link:e,onMouseEnter:t,onMouseLeave:n},s)=>i.jsxs("a",{ref:s,href:e.url,className:"flex w-full gap-2 transition-opacity duration-300",onMouseEnter:t,onMouseLeave:n,children:[e.icon&&i.jsx("div",{className:"flex size-6 shrink-0 rounded-md border shadow",children:i.jsx(e.icon,{className:"m-auto size-3.5"})}),i.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.company&&i.jsx("div",{className:"block text-base leading-normal xl:hidden",children:e.company.name}),e.company&&i.jsx("img",{className:"hidden h-6 xl:block",src:e.company.logo,alt:e.company.name}),e.label&&i.jsx("div",{className:"text-base leading-normal",children:e.label}),i.jsx("div",{className:"text-sm leading-normal text-muted-foreground",children:e.description})]})]})),Nge={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},Sge=({open:e})=>{var a,o;const t=j7.filter(l=>l.id!==100&&l.id!==101),{user:n,signOut:s}=Ht(),{hasActiveSubscription:r}=pg();return i.jsx(gn,{children:e&&i.jsxs(ee.div,{variants:Nge,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3,ease:[.33,1,.68,1]},className:"fixed inset-0 z-998 flex h-dvh w-full flex-col overflow-hidden bg-background pt-20",role:"dialog","aria-modal":"true","aria-label":"Mobilni navigace",children:[i.jsx("div",{className:"pointer-events-none absolute -top-20 -right-20 h-72 w-72 rounded-full bg-primary/8 blur-[80px]"}),i.jsx("div",{className:"pointer-events-none absolute -bottom-16 -left-16 h-64 w-64 rounded-full bg-primary/5 blur-[70px]"}),i.jsx("div",{className:"relative flex-1 overflow-y-auto",children:i.jsx("div",{className:"py-6 px-5 sm:px-8",children:i.jsxs("div",{className:"flex flex-col gap-3 pb-8",children:[i.jsx(_$,{type:"single",collapsible:!0,className:"w-full space-y-2",children:t.map((l,u)=>{var d,f,m;return i.jsx(ee.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05+u*.07,ease:[.33,1,.68,1]},children:i.jsxs(gC,{value:`nav-${u}`,className:"my-0 overflow-hidden rounded-xl border-border/40 bg-muted/30 px-1 backdrop-blur-sm transition-colors data-[state=open]:border-primary/15 data-[state=open]:bg-muted/50",children:[i.jsx(xC,{className:"px-3 text-[15px] font-medium text-foreground/80 hover:text-foreground hover:no-underline data-[state=open]:text-foreground",children:l.title}),i.jsx(vC,{className:"px-1 pb-1",children:i.jsxs("div",{className:"flex flex-col gap-0.5",children:[(d=l.featuredLinks)==null?void 0:d.map((g,x)=>i.jsx(Mk,{link:g},`featured-${x}`)),(f=l.links)==null?void 0:f.map((g,x)=>i.jsx(Mk,{link:g},`link-${x}`)),(m=l.groupLinks)==null?void 0:m.map((g,x)=>i.jsxs("div",{className:se(x>0&&"mt-3"),children:[i.jsx("div",{className:"mb-1 px-3 text-[11px] font-medium uppercase tracking-wider text-muted-foreground/60",children:g.title}),i.jsx("div",{className:"flex flex-col gap-0.5",children:g.links.map((b,w)=>i.jsx(Mk,{link:b},`glink-${x}-${w}`))})]},`group-${x}`))]})})]})},l.title)})}),i.jsxs(ee.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3,ease:[.33,1,.68,1]},className:"mt-2 flex items-center gap-3",children:[i.jsx(o$,{}),i.jsx(_8,{})]}),i.jsx(ee.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.38,ease:[.33,1,.68,1]},className:"flex flex-col gap-3 pt-2",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"rounded-xl border border-border/50 bg-muted/30 p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(In,{className:"size-10",children:i.jsx(Sr,{className:"text-sm font-medium",children:((a=n.email)==null?void 0:a.charAt(0).toUpperCase())||"U"})}),i.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium truncate",children:((o=n.email)==null?void 0:o.split("@")[0])||"User"}),r&&i.jsxs(Le,{variant:"outline",className:"h-4 px-1 text-[10px] bg-yellow-500/10 border-yellow-500/50 text-yellow-700 dark:text-yellow-400",children:[i.jsx($r,{className:"mr-0.5 size-2.5 fill-yellow-500 text-yellow-500"}),"Premium"]})]}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:n.email})]})]})}),i.jsx(Q,{variant:"outline",size:"lg",className:"h-12 rounded-xl border-border/50",asChild:!0,children:i.jsxs(Be,{to:"/prehled",children:[i.jsx(Oi,{className:"mr-2 size-4"}),"Dashboard"]})}),i.jsx(Q,{variant:"outline",size:"lg",className:"h-12 rounded-xl border-border/50",asChild:!0,children:i.jsxs(Be,{to:"/prehled/nastaveni",children:[i.jsx(Yh,{className:"mr-2 size-4"}),"Nastaveni"]})}),i.jsxs(Q,{variant:"outline",size:"lg",className:"h-12 rounded-xl border-border/50",onClick:s,children:[i.jsx(GL,{className:"mr-2 size-4"}),"Odhlasit se"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(Q,{variant:"outline",size:"lg",className:"h-12 rounded-xl border-border/50",asChild:!0,children:i.jsx(Be,{to:"/prihlaseni",children:"Prihlasit se"})}),i.jsx(Q,{size:"lg",className:"h-12 rounded-xl",asChild:!0,children:i.jsxs(Be,{to:"/registrace",children:["Zacit",i.jsx(hr,{className:"ml-1 size-4"})]})})]})})]})})})]})})},Mk=({link:e})=>i.jsxs("a",{href:e.url,className:"group flex w-full items-start gap-3 rounded-lg px-3 py-2.5 transition-all duration-200 hover:bg-primary/5",children:[e.icon&&i.jsx("div",{className:"flex size-8 shrink-0 items-center justify-center rounded-lg border border-border/40 bg-background/80 shadow-sm transition-all duration-200 group-hover:border-primary/25 group-hover:shadow-md",children:i.jsx(e.icon,{className:"size-3.5 text-muted-foreground transition-colors duration-200 group-hover:text-primary"})}),i.jsxs("div",{className:"flex flex-col gap-0.5 pt-0.5",children:[e.label&&i.jsx("span",{className:"text-sm font-medium leading-tight text-foreground/90 transition-colors group-hover:text-foreground",children:e.label}),e.description&&i.jsx("span",{className:"text-xs leading-relaxed text-muted-foreground/70",children:e.description})]})]}),Re=v.forwardRef(({className:e,type:t,...n},s)=>i.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-1 ring-input ring-offset-background file:border-0 file:bg-transparent file:font-medium file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Re.displayName="Input";const _ge=[{label:"Kurzy",href:"/kurzy"},{label:"Obchod",href:"/obchod"},{label:"Blog",href:"/blog"},{label:"Cenik",href:"/#pricing"},{label:"Tym",href:"/tym"}],Cge=[{label:"Linkedin",href:pn.links.linkedin},{label:"Twitter",href:pn.links.twitter}],Ege=[{label:"Ochrana soukromi",href:"#privacy"},{label:"Obchodni podminky",href:"#terms"}],Tge=[{name:"MUDr. Jana Novakova",role:"Vedouci Fyzioterapeutka",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar/avatar1.jpg",speciality:"Sportovni medicina"},{name:"Mgr. Petr Svoboda",role:"Fyzioterapeut",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar/avatar2.jpg",speciality:"Manualni terapie"},{name:"Bc. Marketa Dvorakova",role:"Fyzioterapeutka",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar/avatar3.jpg",speciality:"Detska fyzioterapie"},{name:"Mgr. Tomas Prochazka",role:"Fyzioterapeut a Maser",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar/avatar4.jpg",speciality:"Sportovni masaze"}],N7="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1522.394269715919!2d14.403041690252623!3d50.079700516325545!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470b95f56143f73b%3A0xe9fa458148e639c7!2sDires%20fyzio!5e0!3m2!1sen!2scz!4v1770755195968!5m2!1sen!2scz",OR=[{id:"default",label:"Mapa",icon:Ha,src:N7},{id:"car",label:"Autem",icon:FL,src:"https://maps.google.com/maps?saddr=Staromestske+namesti,+Praha&daddr=Dires+fyzio,+Praha&dirflg=d&output=embed"},{id:"transit",label:"MHD",icon:Gle,src:"https://maps.google.com/maps?saddr=Staromestske+namesti,+Praha&daddr=Dires+fyzio,+Praha&dirflg=r&output=embed"},{id:"walking",label:"Pesky",icon:Z_,src:"https://maps.google.com/maps?saddr=Staromestske+namesti,+Praha&daddr=Dires+fyzio,+Praha&dirflg=w&output=embed"}],zge={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.1}}},bl={hidden:{opacity:0,y:18},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},DR={rest:{x:0},hover:{x:3,transition:{duration:.2,ease:"easeOut"}}},Mge=()=>{var a;const[e,t]=v.useState(""),[n,s]=v.useState("default"),r=((a=OR.find(o=>o.id===n))==null?void 0:a.src)??N7;return i.jsx("footer",{className:"mx-3 mt-16 mb-4 overflow-hidden rounded-2xl bg-muted/60 sm:mx-5 lg:mx-6",children:i.jsxs(ee.div,{className:"mx-auto px-5 pt-10 pb-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-20",variants:zge,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsxs(ee.div,{variants:bl,children:[i.jsxs("div",{className:"flex flex-col gap-1 mb-6",children:[i.jsx("h3",{className:"text-2xl font-semibold tracking-tight text-neutral-900 dark:text-white sm:text-3xl",children:"Nasi Lektori"}),i.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Ucte se od tech nejlepsich -- certifikovani odbornici s letitou praxi."})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-4",children:Tge.map(o=>i.jsx(Be,{to:"/tym",children:i.jsxs(ee.div,{className:"group relative overflow-hidden rounded-xl bg-neutral-200/60 dark:bg-neutral-900 p-3.5 transition-colors",whileHover:{y:-4},transition:{type:"spring",stiffness:400,damping:25},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:o.image,alt:o.name,className:"size-11 rounded-full object-cover ring-2 ring-neutral-300 dark:ring-neutral-700 transition-all group-hover:ring-neutral-400 dark:group-hover:ring-neutral-500"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"truncate text-sm font-medium text-neutral-900 dark:text-white",children:o.name}),i.jsx("p",{className:"truncate text-xs text-neutral-500 dark:text-neutral-400",children:o.role})]})]}),i.jsxs("div",{className:"mt-2.5 flex items-center justify-between",children:[i.jsx("span",{className:"inline-block rounded-md bg-neutral-300/60 dark:bg-neutral-800 px-2 py-0.5 text-[10px] font-medium text-neutral-600 dark:text-neutral-400",children:o.speciality}),i.jsx(vp,{className:"size-3.5 text-neutral-400 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5 group-hover:text-neutral-600 dark:group-hover:text-neutral-200"})]})]})},o.name))}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:"A dalsi 2 odbornici v nasem tymu"}),i.jsx(Be,{to:"/tym",children:i.jsxs(ee.span,{className:"inline-flex items-center gap-1 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",whileHover:{x:2},children:["Zobrazit cely tym",i.jsx(ur,{className:"size-3"})]})})]})]}),i.jsx(ee.div,{variants:bl,className:"my-7",children:i.jsx(It,{className:"bg-neutral-200 dark:bg-neutral-800"})}),i.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1.1fr_1fr]",children:[i.jsxs(ee.div,{variants:bl,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(Be,{to:"/",className:"inline-block",children:i.jsx("img",{src:"/Dires.png",alt:pn.name,className:"h-10 dark:invert"})}),i.jsxs("p",{className:"mt-2 max-w-xs text-sm leading-relaxed text-neutral-500 dark:text-neutral-400",children:[pn.description,". Pripojte se k tisicum spokojenych klientu a zacnete svou cestu k lepsimu zdravi."]})]}),i.jsx(It,{className:"bg-neutral-200 dark:bg-neutral-800"}),i.jsxs("div",{className:"grid grid-cols-3 gap-5 text-[13px]",children:[i.jsxs("div",{children:[i.jsx("p",{className:"mb-2.5 text-[10px] font-semibold uppercase tracking-[0.15em] text-neutral-400 dark:text-neutral-500",children:"Navigace"}),i.jsx("ul",{className:"space-y-1.5",children:_ge.map(o=>i.jsx("li",{children:i.jsx(Be,{to:o.href,children:i.jsx(ee.span,{className:"inline-flex text-neutral-600 dark:text-neutral-400 transition-colors hover:text-neutral-900 dark:hover:text-white cursor-pointer",variants:DR,initial:"rest",whileHover:"hover",children:o.label})})},o.label))})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-2.5 text-[10px] font-semibold uppercase tracking-[0.15em] text-neutral-400 dark:text-neutral-500",children:"Socialni site"}),i.jsx("ul",{className:"space-y-1.5",children:Cge.map(o=>i.jsx("li",{children:i.jsx("a",{href:o.href,target:"_blank",rel:"noopener noreferrer",children:i.jsxs(ee.span,{className:"group inline-flex items-center gap-1 text-neutral-600 dark:text-neutral-400 transition-colors hover:text-neutral-900 dark:hover:text-white cursor-pointer",variants:DR,initial:"rest",whileHover:"hover",children:[o.label,i.jsx(vp,{className:"size-3 opacity-40 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})})},o.label))})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-2.5 text-[10px] font-semibold uppercase tracking-[0.15em] text-neutral-400 dark:text-neutral-500",children:"Kontakt"}),i.jsxs("ul",{className:"space-y-2 text-neutral-600 dark:text-neutral-400",children:[i.jsx("li",{children:i.jsxs("a",{href:`mailto:${pn.mailSupport}`,className:"flex items-center gap-2 hover:text-neutral-900 dark:hover:text-white transition-colors",children:[i.jsx(K_,{className:"size-3.5 shrink-0 text-neutral-400 dark:text-neutral-500"}),pn.mailSupport]})}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(QL,{className:"size-3.5 shrink-0 text-neutral-400 dark:text-neutral-500"}),"+420 123 456 789"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(on,{className:"size-3.5 shrink-0 text-neutral-400 dark:text-neutral-500"}),"Po-Pa 8:00 - 18:00"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Ha,{className:"size-3.5 shrink-0 text-neutral-400 dark:text-neutral-500"}),"Praha, Ceska republika"]})]})]})]})]}),i.jsxs(ee.div,{variants:bl,children:[i.jsxs("div",{className:"mb-3 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-semibold uppercase tracking-[0.15em] text-neutral-400 dark:text-neutral-500",children:[i.jsx(Ha,{className:"size-3.5"}),"Kde nas najdete"]}),i.jsx("div",{className:"flex gap-1 rounded-lg bg-neutral-200/70 dark:bg-neutral-900 p-0.5",children:OR.map(o=>{const l=o.icon,u=n===o.id;return i.jsxs(ee.button,{onClick:()=>s(o.id),className:se("relative flex items-center gap-1 rounded-md px-2.5 py-1 text-[11px] font-medium transition-colors",u?"text-neutral-900 dark:text-white":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"),whileTap:{scale:.95},children:[u&&i.jsx(ee.span,{layoutId:"travel-pill",className:"absolute inset-0 rounded-md bg-white dark:bg-neutral-800 shadow-sm",transition:{type:"spring",stiffness:400,damping:28}}),i.jsxs("span",{className:"relative z-10 flex items-center gap-1",children:[i.jsx(l,{className:"size-3"}),o.label]})]},o.id)})})]}),i.jsx("div",{className:"overflow-hidden rounded-xl border border-neutral-200 dark:border-neutral-800",children:i.jsx(gn,{mode:"wait",children:i.jsx(ee.iframe,{src:r,className:"aspect-[4/3] w-full lg:aspect-[16/10]",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Dires fyzio location",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3,ease:"easeOut"}},n)})})]})]}),i.jsx(ee.div,{variants:bl,className:"my-7",children:i.jsx(It,{className:"bg-neutral-200 dark:bg-neutral-800"})}),i.jsxs(ee.div,{variants:bl,className:"flex flex-col items-start gap-5 rounded-xl bg-neutral-200/60 dark:bg-neutral-900 px-6 py-6 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white sm:text-xl",children:"Nenech si ujit zadnou novinku!"}),i.jsx("p",{className:"mt-1 text-xs leading-relaxed text-neutral-500 dark:text-neutral-400",children:"Prihlasit se k odberu novinek v souladu s narizenim na ochranu osobnich udaju (GDPR)."})]}),i.jsxs("form",{onSubmit:o=>{o.preventDefault(),t("")},className:"flex w-full items-center gap-2 sm:w-auto",children:[i.jsx(Re,{type:"email",placeholder:"vas@email.cz",value:e,onChange:o=>t(o.target.value),className:"h-10 w-full min-w-[200px] rounded-lg border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-950 text-sm text-neutral-900 dark:text-white placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus-visible:ring-neutral-400 dark:focus-visible:ring-neutral-600 sm:w-56"}),i.jsx(ee.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:i.jsxs(Q,{type:"submit",size:"sm",className:"h-10 rounded-lg bg-neutral-900 dark:bg-white px-5 text-sm font-medium text-white dark:text-neutral-900 hover:bg-neutral-800 dark:hover:bg-neutral-200",children:["Odebrat",i.jsx(ur,{className:"ml-1.5 size-3.5"})]})})]})]}),i.jsx(ee.div,{variants:bl,className:"my-5",children:i.jsx(It,{className:"bg-neutral-200 dark:bg-neutral-800"})}),i.jsxs(ee.div,{variants:bl,className:"flex flex-col items-center justify-between gap-3 text-[11px] text-neutral-500 dark:text-neutral-500 sm:flex-row",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1",children:[i.jsxs("span",{children:[" ",new Date().getFullYear()," ",pn.name,". Vsechna prava vyhrazena."]}),i.jsx("span",{className:"hidden text-neutral-300 dark:text-neutral-700 sm:inline",children:"|"}),Ege.map(o=>i.jsx(Be,{to:o.href,className:"hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors",children:o.label},o.label))]}),i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Vytvoreno",i.jsxs(Be,{target:"_blank",to:"https://xx0rt.github.io/Tr0xx/",className:"inline-flex items-center gap-0.5 font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:[i.jsx("img",{src:"/logos/logo-website-world-wide-web-svg-png-icon-download-10.png",alt:"Troxx",width:13,height:13,className:"dark:invert"}),"Troxx"]})]})]})]})})};var rv={exports:{}},Age=rv.exports,PR;function Rge(){return PR||(PR=1,(function(e,t){(function(n,s){e.exports=s()})(Age,function(){return(function(n){function s(a){if(r[a])return r[a].exports;var o=r[a]={exports:{},id:a,loaded:!1};return n[a].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}var r={};return s.m=n,s.c=r,s.p="dist/",s(0)})([function(n,s,r){function a(F){return F&&F.__esModule?F:{default:F}}var o=Object.assign||function(F){for(var J=1;J<arguments.length;J++){var P=arguments[J];for(var I in P)Object.prototype.hasOwnProperty.call(P,I)&&(F[I]=P[I])}return F},l=r(1),u=(a(l),r(6)),d=a(u),f=r(7),m=a(f),g=r(8),x=a(g),b=r(9),w=a(b),j=r(10),k=a(j),S=r(11),C=a(S),E=r(14),T=a(E),M=[],z=!1,A={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},D=function(){var F=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(F&&(z=!0),z)return M=(0,C.default)(M,A),(0,k.default)(M,A.once),M},B=function(){M=(0,T.default)(),D()},$=function(){M.forEach(function(F,J){F.node.removeAttribute("data-aos"),F.node.removeAttribute("data-aos-easing"),F.node.removeAttribute("data-aos-duration"),F.node.removeAttribute("data-aos-delay")})},q=function(F){return F===!0||F==="mobile"&&w.default.mobile()||F==="phone"&&w.default.phone()||F==="tablet"&&w.default.tablet()||typeof F=="function"&&F()===!0},Z=function(F){A=o(A,F),M=(0,T.default)();var J=document.all&&!window.atob;return q(A.disable)||J?$():(A.disableMutationObserver||x.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),A.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",A.easing),document.querySelector("body").setAttribute("data-aos-duration",A.duration),document.querySelector("body").setAttribute("data-aos-delay",A.delay),A.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?D(!0):A.startEvent==="load"?window.addEventListener(A.startEvent,function(){D(!0)}):document.addEventListener(A.startEvent,function(){D(!0)}),window.addEventListener("resize",(0,m.default)(D,A.debounceDelay,!0)),window.addEventListener("orientationchange",(0,m.default)(D,A.debounceDelay,!0)),window.addEventListener("scroll",(0,d.default)(function(){(0,k.default)(M,A.once)},A.throttleDelay)),A.disableMutationObserver||x.default.ready("[data-aos]",B),M)};n.exports={init:Z,refresh:D,refreshHard:B}},function(n,s){},,,,,function(n,s){(function(r){function a(q,Z,F){function J(re){var Ee=ne,Ze=ce;return ne=ce=void 0,be=re,Y=q.apply(Ze,Ee)}function P(re){return be=re,le=setTimeout(G,Z),we?J(re):Y}function I(re){var Ee=re-he,Ze=re-be,it=Z-Ee;return xe?B(it,ue-Ze):it}function L(re){var Ee=re-he,Ze=re-be;return he===void 0||Ee>=Z||Ee<0||xe&&Ze>=ue}function G(){var re=$();return L(re)?U(re):void(le=setTimeout(G,I(re)))}function U(re){return le=void 0,Me&&ne?J(re):(ne=ce=void 0,Y)}function R(){le!==void 0&&clearTimeout(le),be=0,ne=he=ce=le=void 0}function H(){return le===void 0?Y:U($())}function K(){var re=$(),Ee=L(re);if(ne=arguments,ce=this,he=re,Ee){if(le===void 0)return P(he);if(xe)return le=setTimeout(G,Z),J(he)}return le===void 0&&(le=setTimeout(G,Z)),Y}var ne,ce,ue,Y,le,he,be=0,we=!1,xe=!1,Me=!0;if(typeof q!="function")throw new TypeError(g);return Z=f(Z)||0,l(F)&&(we=!!F.leading,xe="maxWait"in F,ue=xe?D(f(F.maxWait)||0,Z):ue,Me="trailing"in F?!!F.trailing:Me),K.cancel=R,K.flush=H,K}function o(q,Z,F){var J=!0,P=!0;if(typeof q!="function")throw new TypeError(g);return l(F)&&(J="leading"in F?!!F.leading:J,P="trailing"in F?!!F.trailing:P),a(q,Z,{leading:J,maxWait:Z,trailing:P})}function l(q){var Z=typeof q>"u"?"undefined":m(q);return!!q&&(Z=="object"||Z=="function")}function u(q){return!!q&&(typeof q>"u"?"undefined":m(q))=="object"}function d(q){return(typeof q>"u"?"undefined":m(q))=="symbol"||u(q)&&A.call(q)==b}function f(q){if(typeof q=="number")return q;if(d(q))return x;if(l(q)){var Z=typeof q.valueOf=="function"?q.valueOf():q;q=l(Z)?Z+"":Z}if(typeof q!="string")return q===0?q:+q;q=q.replace(w,"");var F=k.test(q);return F||S.test(q)?C(q.slice(2),F?2:8):j.test(q)?x:+q}var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},g="Expected a function",x=NaN,b="[object Symbol]",w=/^\s+|\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,S=/^0o[0-7]+$/i,C=parseInt,E=(typeof r>"u"?"undefined":m(r))=="object"&&r&&r.Object===Object&&r,T=(typeof self>"u"?"undefined":m(self))=="object"&&self&&self.Object===Object&&self,M=E||T||Function("return this")(),z=Object.prototype,A=z.toString,D=Math.max,B=Math.min,$=function(){return M.Date.now()};n.exports=o}).call(s,(function(){return this})())},function(n,s){(function(r){function a($,q,Z){function F(Me){var re=K,Ee=ne;return K=ne=void 0,he=Me,ue=$.apply(Ee,re)}function J(Me){return he=Me,Y=setTimeout(L,q),be?F(Me):ue}function P(Me){var re=Me-le,Ee=Me-he,Ze=q-re;return we?D(Ze,ce-Ee):Ze}function I(Me){var re=Me-le,Ee=Me-he;return le===void 0||re>=q||re<0||we&&Ee>=ce}function L(){var Me=B();return I(Me)?G(Me):void(Y=setTimeout(L,P(Me)))}function G(Me){return Y=void 0,xe&&K?F(Me):(K=ne=void 0,ue)}function U(){Y!==void 0&&clearTimeout(Y),he=0,K=le=ne=Y=void 0}function R(){return Y===void 0?ue:G(B())}function H(){var Me=B(),re=I(Me);if(K=arguments,ne=this,le=Me,re){if(Y===void 0)return J(le);if(we)return Y=setTimeout(L,q),F(le)}return Y===void 0&&(Y=setTimeout(L,q)),ue}var K,ne,ce,ue,Y,le,he=0,be=!1,we=!1,xe=!0;if(typeof $!="function")throw new TypeError(m);return q=d(q)||0,o(Z)&&(be=!!Z.leading,we="maxWait"in Z,ce=we?A(d(Z.maxWait)||0,q):ce,xe="trailing"in Z?!!Z.trailing:xe),H.cancel=U,H.flush=R,H}function o($){var q=typeof $>"u"?"undefined":f($);return!!$&&(q=="object"||q=="function")}function l($){return!!$&&(typeof $>"u"?"undefined":f($))=="object"}function u($){return(typeof $>"u"?"undefined":f($))=="symbol"||l($)&&z.call($)==x}function d($){if(typeof $=="number")return $;if(u($))return g;if(o($)){var q=typeof $.valueOf=="function"?$.valueOf():$;$=o(q)?q+"":q}if(typeof $!="string")return $===0?$:+$;$=$.replace(b,"");var Z=j.test($);return Z||k.test($)?S($.slice(2),Z?2:8):w.test($)?g:+$}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},m="Expected a function",g=NaN,x="[object Symbol]",b=/^\s+|\s+$/g,w=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,k=/^0o[0-7]+$/i,S=parseInt,C=(typeof r>"u"?"undefined":f(r))=="object"&&r&&r.Object===Object&&r,E=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,T=C||E||Function("return this")(),M=Object.prototype,z=M.toString,A=Math.max,D=Math.min,B=function(){return T.Date.now()};n.exports=a}).call(s,(function(){return this})())},function(n,s){function r(f){var m=void 0,g=void 0;for(m=0;m<f.length;m+=1)if(g=f[m],g.dataset&&g.dataset.aos||g.children&&r(g.children))return!0;return!1}function a(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!a()}function l(f,m){var g=window.document,x=a(),b=new x(u);d=m,b.observe(g.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(f){f&&f.forEach(function(m){var g=Array.prototype.slice.call(m.addedNodes),x=Array.prototype.slice.call(m.removedNodes),b=g.concat(x);if(r(b))return d()})}Object.defineProperty(s,"__esModule",{value:!0});var d=function(){};s.default={isSupported:o,ready:l}},function(n,s){function r(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(s,"__esModule",{value:!0});var o=(function(){function g(x,b){for(var w=0;w<b.length;w++){var j=b[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,b,w){return b&&g(x.prototype,b),w&&g(x,w),x}})(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,m=(function(){function g(){r(this,g)}return o(g,[{key:"phone",value:function(){var x=a();return!(!l.test(x)&&!u.test(x.substr(0,4)))}},{key:"mobile",value:function(){var x=a();return!(!d.test(x)&&!f.test(x.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),g})();s.default=new m},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var r=function(o,l,u){var d=o.node.getAttribute("data-aos-once");l>o.position?o.node.classList.add("aos-animate"):typeof d<"u"&&(d==="false"||!u&&d!=="true")&&o.node.classList.remove("aos-animate")},a=function(o,l){var u=window.pageYOffset,d=window.innerHeight;o.forEach(function(f,m){r(f,d+u,l)})};s.default=a},function(n,s,r){function a(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(s,"__esModule",{value:!0});var o=r(12),l=a(o),u=function(d,f){return d.forEach(function(m,g){m.node.classList.add("aos-init"),m.position=(0,l.default)(m.node,f.offset)}),d};s.default=u},function(n,s,r){function a(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(s,"__esModule",{value:!0});var o=r(13),l=a(o),u=function(d,f){var m=0,g=0,x=window.innerHeight,b={offset:d.getAttribute("data-aos-offset"),anchor:d.getAttribute("data-aos-anchor"),anchorPlacement:d.getAttribute("data-aos-anchor-placement")};switch(b.offset&&!isNaN(b.offset)&&(g=parseInt(b.offset)),b.anchor&&document.querySelectorAll(b.anchor)&&(d=document.querySelectorAll(b.anchor)[0]),m=(0,l.default)(d).top,b.anchorPlacement){case"top-bottom":break;case"center-bottom":m+=d.offsetHeight/2;break;case"bottom-bottom":m+=d.offsetHeight;break;case"top-center":m+=x/2;break;case"bottom-center":m+=x/2+d.offsetHeight;break;case"center-center":m+=x/2+d.offsetHeight/2;break;case"top-top":m+=x;break;case"bottom-top":m+=d.offsetHeight+x;break;case"center-top":m+=d.offsetHeight/2+x}return b.anchorPlacement||b.offset||isNaN(f)||(g=f),m+g};s.default=u},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var r=function(a){for(var o=0,l=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)o+=a.offsetLeft-(a.tagName!="BODY"?a.scrollLeft:0),l+=a.offsetTop-(a.tagName!="BODY"?a.scrollTop:0),a=a.offsetParent;return{top:l,left:o}};s.default=r},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var r=function(a){return a=a||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(a,function(o){return{node:o}})};s.default=r}])})})(rv)),rv.exports}var Oge=Rge();const Dge=KS(Oge);function Pge(){const t=ss().pathname.startsWith("/product/");return v.useEffect(()=>{Dge.init({duration:800,easing:"ease-out-cubic",once:!0,offset:50})},[]),i.jsxs("div",{className:"flex min-h-screen flex-col",children:[i.jsx(xge,{}),i.jsx("main",{className:"flex-1",style:{paddingTop:"max(env(safe-area-inset-top, 0px) + 80px, 80px)"},children:i.jsx(t_,{})}),!t&&i.jsx(Mge,{})]})}function S7(){const{user:e,loading:t}=Ht(),[n,s]=v.useState(!1),[r,a]=v.useState(!0);return v.useEffect(()=>{if(t)return;if(!e){s(!1),a(!1);return}(async()=>{const{data:l}=await ae.from("profiles").select("is_admin").eq("id",e.id).maybeSingle();s((l==null?void 0:l.is_admin)===!0),a(!1)})()},[e,t]),{isAdmin:n,loading:t||r}}const _7=v.createContext(null);function Ige({children:e}){const{user:t}=Ht(),[n,s]=v.useState([]),[r,a]=v.useState(null),[o,l]=v.useState(!0);v.useEffect(()=>{t?u():(s([]),a(null),l(!1))},[t]);const u=async()=>{if(t)try{const[{data:f},{data:m}]=await Promise.all([ae.from("course_purchases").select("course_id").eq("user_id",t.id),ae.from("course_enrollments").select("course_id").eq("user_id",t.id)]),g=new Set([...(f||[]).map(b=>b.course_id),...(m||[]).map(b=>b.course_id)]);if(g.size===0){s([]),l(!1);return}const{data:x}=await ae.from("courses").select("id, title, description, thumbnail_url, lessons_count, duration, level, instructor, category, order_index").in("id",Array.from(g)).eq("published",!0).order("order_index");s(x||[])}catch(f){console.error("Error fetching user courses:",f)}finally{l(!1)}},d=n.find(f=>f.id===r)||null;return i.jsx(_7.Provider,{value:{courses:n,selectedCourseId:r,setSelectedCourseId:a,selectedCourse:d,loading:o},children:e})}function C7(){const e=v.useContext(_7);if(!e)throw new Error("useSelectedCourse must be used within a SelectedCourseProvider");return e}const Lge=h$,IR=uC;function $ge(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const E7=W.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),kg=()=>{const e=W.useContext(E7);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};$ge(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Vge(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Bge(){return YC(/^Mac/)}function Fge(){return YC(/^iPhone/)}function LR(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Uge(){return YC(/^iPad/)||Bge()&&navigator.maxTouchPoints>1}function T7(){return Fge()||Uge()}function YC(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Hge=24,qge=typeof window<"u"?v.useLayoutEffect:v.useEffect;function $R(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Ak=typeof document<"u"&&window.visualViewport;function VR(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function z7(e){for(VR(e)&&(e=e.parentElement);e&&!VR(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Zge=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let v0=0,Rk;function Wge(e={}){let{isDisabled:t}=e;qge(()=>{if(!t)return v0++,v0===1&&T7()&&(Rk=Kge()),()=>{v0--,v0===0&&(Rk==null||Rk())}},[t])}function Kge(){let e,t=0,n=m=>{e=z7(m.target),!(e===document.documentElement&&e===document.body)&&(t=m.changedTouches[0].pageY)},s=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let g=m.changedTouches[0].pageY,x=e.scrollTop,b=e.scrollHeight-e.clientHeight;b!==0&&((x<=0&&g>t||x>=b&&g<t)&&m.preventDefault(),t=g)},r=m=>{let g=m.target;R2(g)&&g!==document.activeElement&&(m.preventDefault(),g.style.transform="translateY(-2000px)",g.focus(),requestAnimationFrame(()=>{g.style.transform=""}))},a=m=>{let g=m.target;R2(g)&&(g.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{g.style.transform="",Ak&&(Ak.height<window.innerHeight?requestAnimationFrame(()=>{BR(g)}):Ak.addEventListener("resize",()=>BR(g),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,u=window.pageYOffset,d=$R(Gge(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=$R(cm(document,"touchstart",n,{passive:!1,capture:!0}),cm(document,"touchmove",s,{passive:!1,capture:!0}),cm(document,"touchend",r,{passive:!1,capture:!0}),cm(document,"focus",a,!0),cm(window,"scroll",o));return()=>{d(),f(),window.scrollTo(l,u)}}function Gge(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function cm(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function BR(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=z7(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,r=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+Hge;a>o&&(n.scrollTop+=r-s)}e=n.parentElement}}function R2(e){return e instanceof HTMLInputElement&&!Zge.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Yge(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Jge(...e){return t=>e.forEach(n=>Yge(n,t))}function M7(...e){return v.useCallback(Jge(...e),e)}const A7=new WeakMap;function zs(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([r,a])=>{if(r.startsWith("--")){e.style.setProperty(r,a);return}s[r]=e.style[r],e.style[r]=a}),!n&&A7.set(e,s)}function Xge(e,t){if(!e||!(e instanceof HTMLElement))return;let n=A7.get(e);n&&(e.style[t]=n[t])}const ys=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function y0(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let r=s.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[ys(t)?13:12]):(r=s.match(/^matrix\((.+)\)$/),r?parseFloat(r[1].split(", ")[ys(t)?5:4]):null)}function Qge(e){return 8*(Math.log(e+1)-2)}function Ok(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function exe(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Fn={DURATION:.5,EASE:[.32,.72,0,1]},R7=.4,txe=.25,nxe=100,O7=8,Vc=16,O2=26,Dk="vaul-dragging";function D7(e){const t=W.useRef(e);return W.useEffect(()=>{t.current=e}),W.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function sxe({defaultProp:e,onChange:t}){const n=W.useState(e),[s]=n,r=W.useRef(s),a=D7(t);return W.useEffect(()=>{r.current!==s&&(a(s),r.current=s)},[s,r,a]),n}function P7({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,r]=sxe({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:s,l=D7(n),u=W.useCallback(d=>{if(a){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else r(d)},[a,e,r,l]);return[o,u]}function rxe({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:r,fadeFromIndex:a,onSnapPointChange:o,direction:l="bottom",container:u,snapToSequentialPoint:d}){const[f,m]=P7({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[g,x]=W.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);W.useEffect(()=>{function z(){x({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const b=W.useMemo(()=>f===(n==null?void 0:n[n.length-1])||null,[n,f]),w=W.useMemo(()=>{var z;return(z=n==null?void 0:n.findIndex(A=>A===f))!=null?z:null},[n,f]),j=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===f||!n,k=W.useMemo(()=>{const z=u?{width:u.getBoundingClientRect().width,height:u.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var A;return(A=n==null?void 0:n.map(D=>{const B=typeof D=="string";let $=0;if(B&&($=parseInt(D,10)),ys(l)){const Z=B?$:g?D*z.height:0;return g?l==="bottom"?z.height-Z:-z.height+Z:Z}const q=B?$:g?D*z.width:0;return g?l==="right"?z.width-q:-z.width+q:q}))!=null?A:[]},[n,g,u]),S=W.useMemo(()=>w!==null?k==null?void 0:k[w]:null,[k,w]),C=W.useCallback(z=>{var A;const D=(A=k==null?void 0:k.findIndex(B=>B===z))!=null?A:null;o(D),zs(s.current,{transition:`transform ${Fn.DURATION}s cubic-bezier(${Fn.EASE.join(",")})`,transform:ys(l)?`translate3d(0, ${z}px, 0)`:`translate3d(${z}px, 0, 0)`}),k&&D!==k.length-1&&a!==void 0&&D!==a&&D<a?zs(r.current,{transition:`opacity ${Fn.DURATION}s cubic-bezier(${Fn.EASE.join(",")})`,opacity:"0"}):zs(r.current,{transition:`opacity ${Fn.DURATION}s cubic-bezier(${Fn.EASE.join(",")})`,opacity:"1"}),m(n==null?void 0:n[Math.max(D,0)])},[s.current,n,k,a,r,m]);W.useEffect(()=>{if(f||e){var z;const A=(z=n==null?void 0:n.findIndex(D=>D===e||D===f))!=null?z:-1;k&&A!==-1&&typeof k[A]=="number"&&C(k[A])}},[f,e,n,k,C]);function E({draggedDistance:z,closeDrawer:A,velocity:D,dismissible:B}){if(a===void 0)return;const $=l==="bottom"||l==="right"?(S??0)-z:(S??0)+z,q=w===a-1,Z=w===0,F=z>0;if(q&&zs(r.current,{transition:`opacity ${Fn.DURATION}s cubic-bezier(${Fn.EASE.join(",")})`}),!d&&D>2&&!F){B?A():C(k[0]);return}if(!d&&D>2&&F&&k&&n){C(k[n.length-1]);return}const J=k==null?void 0:k.reduce((I,L)=>typeof I!="number"||typeof L!="number"?I:Math.abs(L-$)<Math.abs(I-$)?L:I),P=ys(l)?window.innerHeight:window.innerWidth;if(D>R7&&Math.abs(z)<P*.4){const I=F?1:-1;if(I>0&&b&&n){C(k[n.length-1]);return}if(Z&&I<0&&B&&A(),w===null)return;C(k[w+I]);return}C(J)}function T({draggedDistance:z}){if(S===null)return;const A=l==="bottom"||l==="right"?S-z:S+z;(l==="bottom"||l==="right")&&A<k[k.length-1]||(l==="top"||l==="left")&&A>k[k.length-1]||zs(s.current,{transform:ys(l)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`})}function M(z,A){if(!n||typeof w!="number"||!k||a===void 0)return null;const D=w===a-1;if(w>=a&&A)return 0;if(D&&!A)return 1;if(!j&&!D)return null;const $=D?w+1:w-1,q=D?k[$]-k[$-1]:k[$+1]-k[$],Z=z/Math.abs(q);return D?1-Z:Z}return{isLastSnapPoint:b,activeSnapPoint:f,shouldFade:j,getPercentageDragged:M,setActiveSnapPoint:m,activeSnapPointIndex:w,onRelease:E,onDrag:T,snapPointsOffset:k}}const ixe=()=>()=>{};function axe(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:r}=kg(),a=W.useRef(null),o=v.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-O2)/window.innerWidth}W.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const u=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!u)return;exe(s&&!r?Ok(document.body,{background:"black"}):ixe,Ok(u,{transformOrigin:ys(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Fn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Fn.EASE.join(",")})`}));const d=Ok(u,{borderRadius:`${O7}px`,overflow:"hidden",...ys(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Fn.DURATION*1e3)}}},[t,n,o])}let um=null;function oxe({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:r,noBodyStyles:a}){const[o,l]=W.useState(()=>typeof window<"u"?window.location.href:""),u=W.useRef(0),d=W.useCallback(()=>{if(LR()&&um===null&&e&&!a){um={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:g}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-u.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const x=g-window.innerHeight;x&&u.current>=g&&(document.body.style.top=`${-(u.current+x)}px`)}),300)}},[e]),f=W.useCallback(()=>{if(LR()&&um!==null&&!a){const m=-parseInt(document.body.style.top,10),g=-parseInt(document.body.style.left,10);Object.assign(document.body.style,um),window.requestAnimationFrame(()=>{if(r&&o!==window.location.href){l(window.location.href);return}window.scrollTo(g,m)}),um=null}},[o]);return W.useEffect(()=>{function m(){u.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),W.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[t,f]),W.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout(()=>{f()},500)):f())},[e,s,o,t,n,d,f]),{restorePositionSetting:f}}function lxe({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:r,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:u=txe,scrollLockTimeout:d=nxe,dismissible:f=!0,handleOnly:m=!1,fadeFromIndex:g=a&&a.length-1,activeSnapPoint:x,setActiveSnapPoint:b,fixed:w,modal:j=!0,onClose:k,nested:S,noBodyStyles:C=!1,direction:E="bottom",defaultOpen:T=!1,disablePreventScroll:M=!0,snapToSequentialPoint:z=!1,preventScrollRestoration:A=!1,repositionInputs:D=!0,onAnimationEnd:B,container:$,autoFocus:q=!1}){var Z,F;const[J=!1,P]=P7({defaultProp:T,prop:e,onChange:Ye=>{t==null||t(Ye),!Ye&&!S&&Fe(),setTimeout(()=>{B==null||B(Ye)},Fn.DURATION*1e3),Ye&&!j&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ye||(document.body.style.pointerEvents="auto")}}),[I,L]=W.useState(!1),[G,U]=W.useState(!1),[R,H]=W.useState(!1),K=W.useRef(null),ne=W.useRef(null),ce=W.useRef(null),ue=W.useRef(null),Y=W.useRef(null),le=W.useRef(!1),he=W.useRef(null),be=W.useRef(0),we=W.useRef(!1),xe=W.useRef(!T),Me=W.useRef(0),re=W.useRef(null),Ee=W.useRef(((Z=re.current)==null?void 0:Z.getBoundingClientRect().height)||0),Ze=W.useRef(((F=re.current)==null?void 0:F.getBoundingClientRect().width)||0),it=W.useRef(0),kt=W.useCallback(Ye=>{a&&Ye===me.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:We,activeSnapPointIndex:ct,setActiveSnapPoint:X,onRelease:oe,snapPointsOffset:me,onDrag:ze,shouldFade:Ae,getPercentageDragged:Ce}=rxe({snapPoints:a,activeSnapPointProp:x,setActiveSnapPointProp:b,drawerRef:re,fadeFromIndex:g,overlayRef:K,onSnapPointChange:kt,direction:E,container:$,snapToSequentialPoint:z});Wge({isDisabled:!J||G||!j||R||!I||!D||!M});const{restorePositionSetting:Fe}=oxe({isOpen:J,modal:j,nested:S??!1,hasBeenOpened:I,preventScrollRestoration:A,noBodyStyles:C});function ot(){return(window.innerWidth-O2)/window.innerWidth}function Te(Ye){var Et,Dt;!f&&!a||re.current&&!re.current.contains(Ye.target)||(Ee.current=((Et=re.current)==null?void 0:Et.getBoundingClientRect().height)||0,Ze.current=((Dt=re.current)==null?void 0:Dt.getBoundingClientRect().width)||0,U(!0),ce.current=new Date,T7()&&window.addEventListener("touchend",()=>le.current=!1,{once:!0}),Ye.target.setPointerCapture(Ye.pointerId),be.current=ys(E)?Ye.pageY:Ye.pageX)}function Ue(Ye,Et){var Dt;let at=Ye;const gt=(Dt=window.getSelection())==null?void 0:Dt.toString(),qe=re.current?y0(re.current,E):null,xt=new Date;if(at.tagName==="SELECT"||at.hasAttribute("data-vaul-no-drag")||at.closest("[data-vaul-no-drag]"))return!1;if(E==="right"||E==="left")return!0;if(ne.current&&xt.getTime()-ne.current.getTime()<500)return!1;if(qe!==null&&(E==="bottom"?qe>0:qe<0))return!0;if(gt&&gt.length>0)return!1;if(Y.current&&xt.getTime()-Y.current.getTime()<d&&qe===0||Et)return Y.current=xt,!1;for(;at;){if(at.scrollHeight>at.clientHeight){if(at.scrollTop!==0)return Y.current=new Date,!1;if(at.getAttribute("role")==="dialog")return!0}at=at.parentNode}return!0}function tt(Ye){if(re.current&&G){const Et=E==="bottom"||E==="right"?1:-1,Dt=(be.current-(ys(E)?Ye.pageY:Ye.pageX))*Et,at=Dt>0,gt=a&&!f&&!at;if(gt&&ct===0)return;const qe=Math.abs(Dt),xt=document.querySelector("[data-vaul-drawer-wrapper]"),Mt=E==="bottom"||E==="top"?Ee.current:Ze.current;let Tt=qe/Mt;const Nn=Ce(qe,at);if(Nn!==null&&(Tt=Nn),gt&&Tt>=1||!le.current&&!Ue(Ye.target,at))return;if(re.current.classList.add(Dk),le.current=!0,zs(re.current,{transition:"none"}),zs(K.current,{transition:"none"}),a&&ze({draggedDistance:Dt}),at&&!a){const At=Qge(Dt),ls=Math.min(At*-1,0)*Et;zs(re.current,{transform:ys(E)?`translate3d(0, ${ls}px, 0)`:`translate3d(${ls}px, 0, 0)`});return}const Vt=1-Tt;if((Ae||g&&ct===g-1)&&(s==null||s(Ye,Tt),zs(K.current,{opacity:`${Vt}`,transition:"none"},!0)),xt&&K.current&&o){const At=Math.min(ot()+Tt*(1-ot()),1),ls=8-Tt*8,xn=Math.max(0,14-Tt*14);zs(xt,{borderRadius:`${ls}px`,transform:ys(E)?`scale(${At}) translate3d(0, ${xn}px, 0)`:`scale(${At}) translate3d(${xn}px, 0, 0)`,transition:"none"},!0)}if(!a){const At=qe*Et;zs(re.current,{transform:ys(E)?`translate3d(0, ${At}px, 0)`:`translate3d(${At}px, 0, 0)`})}}}W.useEffect(()=>{window.requestAnimationFrame(()=>{xe.current=!0})},[]),W.useEffect(()=>{var Ye;function Et(){if(!re.current||!D)return;const Dt=document.activeElement;if(R2(Dt)||we.current){var at;const gt=((at=window.visualViewport)==null?void 0:at.height)||0,qe=window.innerHeight;let xt=qe-gt;const Mt=re.current.getBoundingClientRect().height||0,Tt=Mt>qe*.8;it.current||(it.current=Mt);const Nn=re.current.getBoundingClientRect().top;if(Math.abs(Me.current-xt)>60&&(we.current=!we.current),a&&a.length>0&&me&&ct){const Vt=me[ct]||0;xt+=Vt}if(Me.current=xt,Mt>gt||we.current){const Vt=re.current.getBoundingClientRect().height;let At=Vt;Vt>gt&&(At=gt-(Tt?Nn:O2)),w?re.current.style.height=`${Vt-Math.max(xt,0)}px`:re.current.style.height=`${Math.max(At,gt-Nn)}px`}else Vge()||(re.current.style.height=`${it.current}px`);a&&a.length>0&&!we.current?re.current.style.bottom="0px":re.current.style.bottom=`${Math.max(xt,0)}px`}}return(Ye=window.visualViewport)==null||Ye.addEventListener("resize",Et),()=>{var Dt;return(Dt=window.visualViewport)==null?void 0:Dt.removeEventListener("resize",Et)}},[ct,a,me]);function Ge(Ye){Nt(),k==null||k(),Ye||P(!1),setTimeout(()=>{a&&X(a[0])},Fn.DURATION*1e3)}function mt(){if(!re.current)return;const Ye=document.querySelector("[data-vaul-drawer-wrapper]"),Et=y0(re.current,E);zs(re.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Fn.DURATION}s cubic-bezier(${Fn.EASE.join(",")})`}),zs(K.current,{transition:`opacity ${Fn.DURATION}s cubic-bezier(${Fn.EASE.join(",")})`,opacity:"1"}),o&&Et&&Et>0&&J&&zs(Ye,{borderRadius:`${O7}px`,overflow:"hidden",...ys(E)?{transform:`scale(${ot()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ot()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Fn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Fn.EASE.join(",")})`},!0)}function Nt(){!G||!re.current||(re.current.classList.remove(Dk),le.current=!1,U(!1),ue.current=new Date)}function Rt(Ye){if(!G||!re.current)return;re.current.classList.remove(Dk),le.current=!1,U(!1),ue.current=new Date;const Et=y0(re.current,E);if(!Ye||!Ue(Ye.target,!1)||!Et||Number.isNaN(Et)||ce.current===null)return;const Dt=ue.current.getTime()-ce.current.getTime(),at=be.current-(ys(E)?Ye.pageY:Ye.pageX),gt=Math.abs(at)/Dt;if(gt>.05&&(H(!0),setTimeout(()=>{H(!1)},200)),a){oe({draggedDistance:at*(E==="bottom"||E==="right"?1:-1),closeDrawer:Ge,velocity:gt,dismissible:f}),r==null||r(Ye,!0);return}if(E==="bottom"||E==="right"?at>0:at<0){mt(),r==null||r(Ye,!0);return}if(gt>R7){Ge(),r==null||r(Ye,!1);return}var qe;const xt=Math.min((qe=re.current.getBoundingClientRect().height)!=null?qe:0,window.innerHeight);var Mt;const Tt=Math.min((Mt=re.current.getBoundingClientRect().width)!=null?Mt:0,window.innerWidth),Nn=E==="left"||E==="right";if(Math.abs(Et)>=(Nn?Tt:xt)*u){Ge(),r==null||r(Ye,!1);return}r==null||r(Ye,!0),mt()}W.useEffect(()=>(J&&(zs(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{Xge(document.documentElement,"scrollBehavior")}),[J]);function ln(Ye){const Et=Ye?(window.innerWidth-Vc)/window.innerWidth:1,Dt=Ye?-Vc:0;he.current&&window.clearTimeout(he.current),zs(re.current,{transition:`transform ${Fn.DURATION}s cubic-bezier(${Fn.EASE.join(",")})`,transform:ys(E)?`scale(${Et}) translate3d(0, ${Dt}px, 0)`:`scale(${Et}) translate3d(${Dt}px, 0, 0)`}),!Ye&&re.current&&(he.current=setTimeout(()=>{const at=y0(re.current,E);zs(re.current,{transition:"none",transform:ys(E)?`translate3d(0, ${at}px, 0)`:`translate3d(${at}px, 0, 0)`})},500))}function xr(Ye,Et){if(Et<0)return;const Dt=(window.innerWidth-Vc)/window.innerWidth,at=Dt+Et*(1-Dt),gt=-Vc+Et*Vc;zs(re.current,{transform:ys(E)?`scale(${at}) translate3d(0, ${gt}px, 0)`:`scale(${at}) translate3d(${gt}px, 0, 0)`,transition:"none"})}function Kn(Ye,Et){const Dt=ys(E)?window.innerHeight:window.innerWidth,at=Et?(Dt-Vc)/Dt:1,gt=Et?-Vc:0;Et&&zs(re.current,{transition:`transform ${Fn.DURATION}s cubic-bezier(${Fn.EASE.join(",")})`,transform:ys(E)?`scale(${at}) translate3d(0, ${gt}px, 0)`:`scale(${at}) translate3d(${gt}px, 0, 0)`})}return W.useEffect(()=>{j||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[j]),W.createElement(aC,{defaultOpen:T,onOpenChange:Ye=>{!f&&!Ye||(Ye?L(!0):Ge(!0),P(Ye))},open:J},W.createElement(E7.Provider,{value:{activeSnapPoint:We,snapPoints:a,setActiveSnapPoint:X,drawerRef:re,overlayRef:K,onOpenChange:t,onPress:Te,onRelease:Rt,onDrag:tt,dismissible:f,shouldAnimate:xe,handleOnly:m,isOpen:J,isDragging:G,shouldFade:Ae,closeDrawer:Ge,onNestedDrag:xr,onNestedOpenChange:ln,onNestedRelease:Kn,keyboardIsOpen:we,modal:j,snapPointsOffset:me,activeSnapPointIndex:ct,direction:E,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:C,container:$,autoFocus:q}},n))}const I7=W.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:s,onRelease:r,shouldFade:a,isOpen:o,modal:l,shouldAnimate:u}=kg(),d=M7(t,n),f=s&&s.length>0;if(!l)return null;const m=W.useCallback(g=>r(g),[r]);return W.createElement(dg,{onMouseUp:m,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":o&&f?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false","data-vaul-animate":u!=null&&u.current?"true":"false",...e})});I7.displayName="Drawer.Overlay";const L7=W.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...s},r){const{drawerRef:a,onPress:o,onRelease:l,onDrag:u,keyboardIsOpen:d,snapPointsOffset:f,activeSnapPointIndex:m,modal:g,isOpen:x,direction:b,snapPoints:w,container:j,handleOnly:k,shouldAnimate:S,autoFocus:C}=kg(),[E,T]=W.useState(!1),M=M7(r,a),z=W.useRef(null),A=W.useRef(null),D=W.useRef(!1),B=w&&w.length>0;axe();const $=(Z,F,J=0)=>{if(D.current)return!0;const P=Math.abs(Z.y),I=Math.abs(Z.x),L=I>P,G=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(Z.x*G<0)&&I>=0&&I<=J)return L}else if(!(Z.y*G<0)&&P>=0&&P<=J)return!L;return D.current=!0,!0};W.useEffect(()=>{B&&window.requestAnimationFrame(()=>{T(!0)})},[]);function q(Z){z.current=null,D.current=!1,l(Z)}return W.createElement(hg,{"data-vaul-drawer-direction":b,"data-vaul-drawer":"","data-vaul-delayed-snap-points":E?"true":"false","data-vaul-snap-points":x&&B?"true":"false","data-vaul-custom-container":j?"true":"false","data-vaul-animate":S!=null&&S.current?"true":"false",...s,ref:M,style:f&&f.length>0?{"--snap-point-height":`${f[m??0]}px`,...t}:t,onPointerDown:Z=>{k||(s.onPointerDown==null||s.onPointerDown.call(s,Z),z.current={x:Z.pageX,y:Z.pageY},o(Z))},onOpenAutoFocus:Z=>{n==null||n(Z),C||Z.preventDefault()},onPointerDownOutside:Z=>{if(e==null||e(Z),!g||Z.defaultPrevented){Z.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:Z=>{if(!g){Z.preventDefault();return}},onPointerMove:Z=>{if(A.current=Z,k||(s.onPointerMove==null||s.onPointerMove.call(s,Z),!z.current))return;const F=Z.pageY-z.current.y,J=Z.pageX-z.current.x,P=Z.pointerType==="touch"?10:2;$({x:J,y:F},b,P)?u(Z):(Math.abs(J)>P||Math.abs(F)>P)&&(z.current=null)},onPointerUp:Z=>{s.onPointerUp==null||s.onPointerUp.call(s,Z),z.current=null,D.current=!1,l(Z)},onPointerOut:Z=>{s.onPointerOut==null||s.onPointerOut.call(s,Z),q(A.current)},onContextMenu:Z=>{s.onContextMenu==null||s.onContextMenu.call(s,Z),A.current&&q(A.current)}})});L7.displayName="Drawer.Content";const cxe=250,uxe=120,dxe=W.forwardRef(function({preventCycle:e=!1,children:t,...n},s){const{closeDrawer:r,isDragging:a,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:u,dismissible:d,handleOnly:f,isOpen:m,onPress:g,onDrag:x}=kg(),b=W.useRef(null),w=W.useRef(!1);function j(){if(w.current){C();return}window.setTimeout(()=>{k()},uxe)}function k(){if(a||e||w.current){C();return}if(C(),!o||o.length===0){d||r();return}if(l===o[o.length-1]&&d){r();return}const T=o.findIndex(z=>z===l);if(T===-1)return;const M=o[T+1];u(M)}function S(){b.current=window.setTimeout(()=>{w.current=!0},cxe)}function C(){b.current&&window.clearTimeout(b.current),w.current=!1}return W.createElement("div",{onClick:j,onPointerCancel:C,onPointerDown:E=>{f&&g(E),S()},onPointerMove:E=>{f&&x(E)},ref:s,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},W.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});dxe.displayName="Drawer.Handle";function hxe(e){const t=kg(),{container:n=t.container,...s}=e;return W.createElement(oC,{container:n,...s})}const Zo={Root:lxe,Content:L7,Overlay:I7,Portal:hxe,Title:fg,Description:mg},$7=({shouldScaleBackground:e=!0,...t})=>i.jsx(Zo.Root,{shouldScaleBackground:e,...t});$7.displayName="Drawer";const fxe=Zo.Portal,V7=v.forwardRef(({className:e,...t},n)=>i.jsx(Zo.Overlay,{ref:n,className:se("fixed inset-0 z-50 bg-black/80",e),...t}));V7.displayName=Zo.Overlay.displayName;const B7=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(fxe,{children:[i.jsx(V7,{}),i.jsxs(Zo.Content,{ref:s,className:se("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[i.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));B7.displayName="DrawerContent";const F7=({className:e,...t})=>i.jsx("div",{className:se("grid gap-1.5 p-4 text-center sm:text-left",e),...t});F7.displayName="DrawerHeader";const U7=v.forwardRef(({className:e,...t},n)=>i.jsx(Zo.Title,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));U7.displayName=Zo.Title.displayName;const mxe=v.forwardRef(({className:e,...t},n)=>i.jsx(Zo.Description,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));mxe.displayName=Zo.Description.displayName;function D2(e,[t,n]){return Math.min(n,Math.max(t,e))}function pxe(e,t){return v.useReducer((n,s)=>t[n][s]??n,e)}var JC="ScrollArea",[H7]=pr(JC),[gxe,Ui]=H7(JC),q7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:a=600,...o}=e,[l,u]=v.useState(null),[d,f]=v.useState(null),[m,g]=v.useState(null),[x,b]=v.useState(null),[w,j]=v.useState(null),[k,S]=v.useState(0),[C,E]=v.useState(0),[T,M]=v.useState(!1),[z,A]=v.useState(!1),D=St(t,$=>u($)),B=cc(r);return i.jsx(gxe,{scope:n,type:s,dir:B,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:f,content:m,onContentChange:g,scrollbarX:x,onScrollbarXChange:b,scrollbarXEnabled:T,onScrollbarXEnabledChange:M,scrollbarY:w,onScrollbarYChange:j,scrollbarYEnabled:z,onScrollbarYEnabledChange:A,onCornerWidthChange:S,onCornerHeightChange:E,children:i.jsx(Xe.div,{dir:B,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});q7.displayName=JC;var Z7="ScrollAreaViewport",W7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:r,...a}=e,o=Ui(Z7,n),l=v.useRef(null),u=St(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...a,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});W7.displayName=Z7;var to="ScrollAreaScrollbar",XC=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Ui(to,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=r,l=e.orientation==="horizontal";return v.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),r.type==="hover"?i.jsx(xxe,{...s,ref:t,forceMount:n}):r.type==="scroll"?i.jsx(vxe,{...s,ref:t,forceMount:n}):r.type==="auto"?i.jsx(K7,{...s,ref:t,forceMount:n}):r.type==="always"?i.jsx(QC,{...s,ref:t}):null});XC.displayName=to;var xxe=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Ui(to,e.__scopeScrollArea),[a,o]=v.useState(!1);return v.useEffect(()=>{const l=r.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),o(!0)},f=()=>{u=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[r.scrollArea,r.scrollHideDelay]),i.jsx(rs,{present:n||a,children:i.jsx(K7,{"data-state":a?"visible":"hidden",...s,ref:t})})}),vxe=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Ui(to,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Mb(()=>u("SCROLL_END"),100),[l,u]=pxe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,r.scrollHideDelay,u]),v.useEffect(()=>{const d=r.viewport,f=a?"scrollLeft":"scrollTop";if(d){let m=d[f];const g=()=>{const x=d[f];m!==x&&(u("SCROLL"),o()),m=x};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[r.viewport,a,u,o]),i.jsx(rs,{present:n||l!=="hidden",children:i.jsx(QC,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:$e(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:$e(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),K7=v.forwardRef((e,t)=>{const n=Ui(to,e.__scopeScrollArea),{forceMount:s,...r}=e,[a,o]=v.useState(!1),l=e.orientation==="horizontal",u=Mb(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:f)}},10);return Mh(n.viewport,u),Mh(n.content,u),i.jsx(rs,{present:s||a,children:i.jsx(QC,{"data-state":a?"visible":"hidden",...r,ref:t})})}),QC=v.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,r=Ui(to,e.__scopeScrollArea),a=v.useRef(null),o=v.useRef(0),[l,u]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Q7(l.viewport,l.content),f={...s,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function m(g,x){return Nxe(g,o.current,l,x)}return n==="horizontal"?i.jsx(yxe,{...f,ref:t,onThumbPositionChange:()=>{if(r.viewport&&a.current){const g=r.viewport.scrollLeft,x=FR(g,l,r.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{r.viewport&&(r.viewport.scrollLeft=g)},onDragScroll:g=>{r.viewport&&(r.viewport.scrollLeft=m(g,r.dir))}}):n==="vertical"?i.jsx(bxe,{...f,ref:t,onThumbPositionChange:()=>{if(r.viewport&&a.current){const g=r.viewport.scrollTop,x=FR(g,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{r.viewport&&(r.viewport.scrollTop=g)},onDragScroll:g=>{r.viewport&&(r.viewport.scrollTop=m(g))}}):null}),yxe=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,a=Ui(to,e.__scopeScrollArea),[o,l]=v.useState(),u=v.useRef(null),d=St(t,u,a.onScrollbarXChange);return v.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),i.jsx(Y7,{"data-orientation":"horizontal",...r,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zb(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),tV(g,m)&&f.preventDefault()}},onResize:()=>{u.current&&a.viewport&&o&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Fv(o.paddingLeft),paddingEnd:Fv(o.paddingRight)}})}})}),bxe=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,a=Ui(to,e.__scopeScrollArea),[o,l]=v.useState(),u=v.useRef(null),d=St(t,u,a.onScrollbarYChange);return v.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),i.jsx(Y7,{"data-orientation":"vertical",...r,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zb(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),tV(g,m)&&f.preventDefault()}},onResize:()=>{u.current&&a.viewport&&o&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Fv(o.paddingTop),paddingEnd:Fv(o.paddingBottom)}})}})}),[wxe,G7]=H7(to),Y7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:m,...g}=e,x=Ui(to,n),[b,w]=v.useState(null),j=St(t,D=>w(D)),k=v.useRef(null),S=v.useRef(""),C=x.viewport,E=s.content-s.viewport,T=On(f),M=On(u),z=Mb(m,10);function A(D){if(k.current){const B=D.clientX-k.current.left,$=D.clientY-k.current.top;d({x:B,y:$})}}return v.useEffect(()=>{const D=B=>{const $=B.target;(b==null?void 0:b.contains($))&&T(B,E)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[C,b,E,T]),v.useEffect(M,[s,M]),Mh(b,z),Mh(x.content,z),i.jsx(wxe,{scope:n,scrollbar:b,hasThumb:r,onThumbChange:On(a),onThumbPointerUp:On(o),onThumbPositionChange:M,onThumbPointerDown:On(l),children:i.jsx(Xe.div,{...g,ref:j,style:{position:"absolute",...g.style},onPointerDown:$e(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),k.current=b.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),A(D))}),onPointerMove:$e(e.onPointerMove,A),onPointerUp:$e(e.onPointerUp,D=>{const B=D.target;B.hasPointerCapture(D.pointerId)&&B.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=S.current,x.viewport&&(x.viewport.style.scrollBehavior=""),k.current=null})})})}),Bv="ScrollAreaThumb",J7=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=G7(Bv,e.__scopeScrollArea);return i.jsx(rs,{present:n||r.hasThumb,children:i.jsx(jxe,{ref:t,...s})})}),jxe=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...r}=e,a=Ui(Bv,n),o=G7(Bv,n),{onThumbPositionChange:l}=o,u=St(t,m=>o.onThumbChange(m)),d=v.useRef(void 0),f=Mb(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const m=a.viewport;if(m){const g=()=>{if(f(),!d.current){const x=Sxe(m,l);d.current=x,l()}};return l(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[a.viewport,f,l]),i.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:$e(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),b=m.clientX-x.left,w=m.clientY-x.top;o.onThumbPointerDown({x:b,y:w})}),onPointerUp:$e(e.onPointerUp,o.onThumbPointerUp)})});J7.displayName=Bv;var eE="ScrollAreaCorner",X7=v.forwardRef((e,t)=>{const n=Ui(eE,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?i.jsx(kxe,{...e,ref:t}):null});X7.displayName=eE;var kxe=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,r=Ui(eE,n),[a,o]=v.useState(0),[l,u]=v.useState(0),d=!!(a&&l);return Mh(r.scrollbarX,()=>{var m;const f=((m=r.scrollbarX)==null?void 0:m.offsetHeight)||0;r.onCornerHeightChange(f),u(f)}),Mh(r.scrollbarY,()=>{var m;const f=((m=r.scrollbarY)==null?void 0:m.offsetWidth)||0;r.onCornerWidthChange(f),o(f)}),d?i.jsx(Xe.div,{...s,ref:t,style:{width:a,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Fv(e){return e?parseInt(e,10):0}function Q7(e,t){const n=e/t;return isNaN(n)?0:n}function zb(e){const t=Q7(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function Nxe(e,t,n,s="ltr"){const r=zb(n),a=r/2,o=t||a,l=r-o,u=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,m=s==="ltr"?[0,f]:[f*-1,0];return eV([u,d],m)(e)}function FR(e,t,n="ltr"){const s=zb(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-r,o=t.content-t.viewport,l=a-s,u=n==="ltr"?[0,o]:[o*-1,0],d=D2(e,u);return eV([0,o],[0,l])(d)}function eV(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function tV(e,t){return e>0&&e<t}var Sxe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return(function r(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,s=window.requestAnimationFrame(r)})(),()=>window.cancelAnimationFrame(s)};function Mb(e,t){const n=On(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Mh(e,t){const n=On(t);Vn(()=>{let s=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(s),r.unobserve(e)}}},[e,n])}var nV=q7,_xe=W7,Cxe=X7;const tE=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(nV,{ref:s,className:se("relative overflow-hidden",e),...n,children:[i.jsx(_xe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(sV,{}),i.jsx(Cxe,{})]}));tE.displayName=nV.displayName;const sV=v.forwardRef(({className:e,orientation:t="vertical",...n},s)=>i.jsx(XC,{ref:s,orientation:t,className:se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(J7,{className:"relative flex-1 rounded-full bg-border"})}));sV.displayName=XC.displayName;const Exe=[{label:"Prehled",path:"/prehled",icon:Oi,keywords:["prehled","domu","home","dashboard"]},{label:"Moje Kurzy",path:"/prehled/moje-kurzy",icon:Wt,keywords:["kurzy","courses","moje"]},{label:"Pokrok",path:"/prehled/pokrok",icon:Oa,keywords:["pokrok","progress","statistiky"]},{label:"Predplatne",path:"/prehled/predplatne",icon:sr,keywords:["predplatne","subscription","plan"]},{label:"Certifikaty",path:"/prehled/certifikaty",icon:Ri,keywords:["certifikaty","certificates"]},{label:"Nastaveni",path:"/prehled/nastaveni",icon:Yh,keywords:["nastaveni","settings","profil"]},{label:"Faktury",path:"/prehled/faktury",icon:$a,keywords:["faktury","invoices"]},{label:"Objednavky",path:"/prehled/fakturace",icon:ju,keywords:["objednavky","orders","fakturace"]},{label:"Vysledky Testu",path:"/prehled/vysledky-testu",icon:lg,keywords:["vysledky","test","results"]},{label:"Analytika",path:"/prehled/analytika",icon:Bo,keywords:["analytika","analytics","studijni"]}],Pk={"/prehled":"Prehled","/prehled/moje-kurzy":"Moje Kurzy","/prehled/pokrok":"Pokrok","/prehled/predplatne":"Predplatne","/prehled/certifikaty":"Certifikaty","/prehled/nastaveni":"Nastaveni","/prehled/faktury":"Faktury","/prehled/fakturace":"Objednavky","/prehled/vysledky-testu":"Vysledky Testu","/prehled/analytika":"Analytika","/prehled/treneri":"Treneri","/prehled/zpravy":"Zpravy"};function Txe(e){if(Pk[e])return Pk[e];for(const[t,n]of Object.entries(Pk))if(t!=="/prehled"&&e.startsWith(t+"/"))return n;return"Prehled"}function zxe(){const e=Jt(),t=ss(),[n,s]=v.useState(""),[r,a]=v.useState(!1),[o,l]=v.useState([]),[u,d]=v.useState([]),f=v.useRef(null),m=v.useRef(null),g=Txe(t.pathname),x=t.pathname.startsWith("/prehled/zpravy");v.useEffect(()=>{var E;if(x)return;const S=(E=m.current)==null?void 0:E.closest(".overflow-y-auto");if(!S)return;const C=()=>{a(S.scrollTop>10)};return S.addEventListener("scroll",C,{passive:!0}),()=>S.removeEventListener("scroll",C)},[x]);const b=v.useMemo(()=>{if(!n.trim())return[];const S=n.toLowerCase();return Exe.filter(C=>C.label.toLowerCase().includes(S)||C.keywords.some(E=>E.includes(S)))},[n]);v.useEffect(()=>{const S=n.trim();if(S.length<2){l([]),d([]);return}const C=setTimeout(async()=>{const E=S.replace(/%/g,"\\%").replace(/_/g,"\\_"),[T,M]=await Promise.all([ae.from("courses").select("id, title").eq("published",!0).ilike("title",`%${E}%`).limit(5),ae.from("profiles").select("id, full_name, email, trainer_role").eq("is_trainer",!0).or(`full_name.ilike.%${E}%,email.ilike.%${E}%`).limit(5)]);l(T.data??[]),d(M.data??[])},300);return()=>clearTimeout(C)},[n]);const w=b.length>0||o.length>0||u.length>0,j=n.trim().length>0,k=v.useCallback(S=>{var C;e(S),s(""),l([]),d([]),(C=f.current)==null||C.blur()},[e]);return i.jsx("div",{ref:m,className:se("sticky top-0 z-30 border-b border-border/40 md:hidden","bg-background"),style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:x?i.jsx("div",{className:"px-4 pt-1.5 pb-3",children:i.jsx("h1",{className:"text-center text-lg font-semibold tracking-tight text-foreground",children:"Zpravy"})}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid transition-[grid-template-rows,opacity] duration-300 ease-[cubic-bezier(0.33,1,0.68,1)]",style:{gridTemplateRows:r?"0fr":"1fr",opacity:r?0:1},children:i.jsx("div",{className:"overflow-hidden",children:i.jsx("div",{className:"px-4 pt-1.5 pb-2",children:i.jsx("h1",{className:"text-center text-lg font-semibold tracking-tight text-foreground",children:g})})})}),i.jsxs("div",{className:"relative px-3 pb-3",children:[i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx("input",{ref:f,type:"text",value:n,onChange:S=>s(S.target.value),placeholder:"Hledat v aplikaci...",className:"w-full h-9 rounded-lg bg-muted/50 border border-border/40 pl-9 pr-8 text-base placeholder:text-muted-foreground/60 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/40 transition-all"}),n&&i.jsx("button",{type:"button",onMouseDown:S=>S.preventDefault(),onClick:()=>{var S;s(""),l([]),d([]),(S=f.current)==null||S.focus()},className:"absolute right-2.5 top-1/2 -translate-y-1/2 p-0.5 rounded text-muted-foreground hover:text-foreground transition-colors",children:i.jsx(Iu,{className:"h-3.5 w-3.5"})})]})}),i.jsx(gn,{children:j&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>{var S;s(""),l([]),d([]),(S=f.current)==null||S.blur()}}),i.jsx(ee.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"absolute left-3 right-3 top-full mt-1 rounded-lg border bg-background shadow-lg overflow-hidden z-50 max-h-[60vh] overflow-y-auto",style:{overscrollBehavior:"contain",WebkitOverflowScrolling:"touch"},onTouchMove:S=>S.stopPropagation(),children:w?i.jsxs(i.Fragment,{children:[i.jsx(Ik,{label:"Stranky",items:b.map(S=>({key:S.path,icon:S.icon,name:S.label})),onSelect:k}),i.jsx(Ik,{label:"Kurzy",items:o.map(S=>({key:S.id,path:`/kurz/${S.id}`,icon:Wt,name:S.title})),onSelect:k}),i.jsx(Ik,{label:"Treneri",items:u.map(S=>({key:S.id,path:`/prehled/treneri/${S.id}`,icon:tc,name:S.full_name||S.email.split("@")[0],sublabel:S.trainer_role??void 0})),onSelect:k})]}):i.jsxs("div",{className:"px-3 py-4 text-center text-sm text-muted-foreground",children:['Zadne vysledky pro "',n,'"']})})]})})]})]})})}function Ik({label:e,items:t,onSelect:n}){return t.length===0?null:i.jsxs("div",{children:[i.jsx("div",{className:"px-3 pt-2 pb-1",children:i.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wider text-muted-foreground/70",children:e})}),t.map(s=>{const r=s.icon,a=s.path??s.key;return i.jsxs("button",{type:"button",onMouseDown:o=>o.preventDefault(),onClick:()=>n(a),className:"flex items-center gap-3 w-full px-3 py-2 text-left text-sm hover:bg-muted/60 transition-colors",children:[i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-muted/80 flex-shrink-0",children:i.jsx(r,{className:"h-4 w-4 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("span",{className:"text-[11px] text-muted-foreground/60",children:e}),i.jsx("span",{className:"text-[11px] text-muted-foreground/40",children:""}),i.jsx("span",{className:"font-medium truncate",children:s.name})]}),s.sublabel&&i.jsx("p",{className:"text-[11px] text-muted-foreground truncate",children:s.sublabel})]})]},s.key)})]})}var Mxe=Symbol("radix.slottable");function Axe(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Mxe,t}var[Ab]=pr("Tooltip",[rf]),Rb=rf(),rV="TooltipProvider",Rxe=700,P2="tooltip.open",[Oxe,nE]=Ab(rV),iV=e=>{const{__scopeTooltip:t,delayDuration:n=Rxe,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:a}=e,o=v.useRef(!0),l=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(Oxe,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:a})};iV.displayName=rV;var Np="Tooltip",[Dxe,Ng]=Ab(Np),aV=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:r,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,u=nE(Np,e.__scopeTooltip),d=Rb(t),[f,m]=v.useState(null),g=Nr(),x=v.useRef(0),b=o??u.disableHoverableContent,w=l??u.delayDuration,j=v.useRef(!1),[k,S]=Ur({prop:s,defaultProp:r??!1,onChange:z=>{z?(u.onOpen(),document.dispatchEvent(new CustomEvent(P2))):u.onClose(),a==null||a(z)},caller:Np}),C=v.useMemo(()=>k?j.current?"delayed-open":"instant-open":"closed",[k]),E=v.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j.current=!1,S(!0)},[S]),T=v.useCallback(()=>{window.clearTimeout(x.current),x.current=0,S(!1)},[S]),M=v.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{j.current=!0,S(!0),x.current=0},w)},[w,S]);return v.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),i.jsx(MC,{...d,children:i.jsx(Dxe,{scope:t,contentId:g,open:k,stateAttribute:C,trigger:f,onTriggerChange:m,onTriggerEnter:v.useCallback(()=>{u.isOpenDelayedRef.current?M():E()},[u.isOpenDelayedRef,M,E]),onTriggerLeave:v.useCallback(()=>{b?T():(window.clearTimeout(x.current),x.current=0)},[T,b]),onOpen:E,onClose:T,disableHoverableContent:b,children:n})})};aV.displayName=Np;var I2="TooltipTrigger",oV=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Ng(I2,n),a=nE(I2,n),o=Rb(n),l=v.useRef(null),u=St(t,l,r.onTriggerChange),d=v.useRef(!1),f=v.useRef(!1),m=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),i.jsx(AC,{asChild:!0,...o,children:i.jsx(Xe.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:u,onPointerMove:$e(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:$e(e.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:$e(e.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:$e(e.onFocus,()=>{d.current||r.onOpen()}),onBlur:$e(e.onBlur,r.onClose),onClick:$e(e.onClick,r.onClose)})})});oV.displayName=I2;var sE="TooltipPortal",[Pxe,Ixe]=Ab(sE,{forceMount:void 0}),lV=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:r}=e,a=Ng(sE,t);return i.jsx(Pxe,{scope:t,forceMount:n,children:i.jsx(rs,{present:n||a.open,children:i.jsx(ug,{asChild:!0,container:r,children:s})})})};lV.displayName=sE;var Ah="TooltipContent",cV=v.forwardRef((e,t)=>{const n=Ixe(Ah,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...a}=e,o=Ng(Ah,e.__scopeTooltip);return i.jsx(rs,{present:s||o.open,children:o.disableHoverableContent?i.jsx(uV,{side:r,...a,ref:t}):i.jsx(Lxe,{side:r,...a,ref:t})})}),Lxe=v.forwardRef((e,t)=>{const n=Ng(Ah,e.__scopeTooltip),s=nE(Ah,e.__scopeTooltip),r=v.useRef(null),a=St(t,r),[o,l]=v.useState(null),{trigger:u,onClose:d}=n,f=r.current,{onPointerInTransitChange:m}=s,g=v.useCallback(()=>{l(null),m(!1)},[m]),x=v.useCallback((b,w)=>{const j=b.currentTarget,k={x:b.clientX,y:b.clientY},S=Fxe(k,j.getBoundingClientRect()),C=Uxe(k,S),E=Hxe(w.getBoundingClientRect()),T=Zxe([...C,...E]);l(T),m(!0)},[m]);return v.useEffect(()=>()=>g(),[g]),v.useEffect(()=>{if(u&&f){const b=j=>x(j,f),w=j=>x(j,u);return u.addEventListener("pointerleave",b),f.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",w)}}},[u,f,x,g]),v.useEffect(()=>{if(o){const b=w=>{const j=w.target,k={x:w.clientX,y:w.clientY},S=(u==null?void 0:u.contains(j))||(f==null?void 0:f.contains(j)),C=!qxe(k,o);S?g():C&&(g(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,f,o,d,g]),i.jsx(uV,{...e,ref:a})}),[$xe,Vxe]=Ab(Np,{isInside:!1}),Bxe=Axe("TooltipContent"),uV=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,u=Ng(Ah,n),d=Rb(n),{onClose:f}=u;return v.useEffect(()=>(document.addEventListener(P2,f),()=>document.removeEventListener(P2,f)),[f]),v.useEffect(()=>{if(u.trigger){const m=g=>{const x=g.target;x!=null&&x.contains(u.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,f]),i.jsx(ef,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:i.jsxs(RC,{"data-state":u.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(Bxe,{children:s}),i.jsx($xe,{scope:n,isInside:!0,children:i.jsx(q9,{id:u.contentId,role:"tooltip",children:r||s})})]})})});cV.displayName=Ah;var dV="TooltipArrow",hV=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Rb(n);return Vxe(dV,n).isInside?null:i.jsx(OC,{...r,...s,ref:t})});hV.displayName=dV;function Fxe(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,r,a)){case a:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Uxe(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Hxe(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function qxe(e,t){const{x:n,y:s}=e;let r=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],u=t[o],d=l.x,f=l.y,m=u.x,g=u.y;f>s!=g>s&&n<(m-d)*(s-f)/(g-f)+d&&(r=!r)}return r}function Zxe(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Wxe(t)}function Wxe(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Kxe=iV,Gxe=aV,Yxe=oV,Jxe=lV,Xxe=cV,Qxe=hV;function fV({delayDuration:e=0,...t}){return i.jsx(Kxe,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function L2({...e}){return i.jsx(fV,{children:i.jsx(Gxe,{"data-slot":"tooltip",...e})})}function $2({...e}){return i.jsx(Yxe,{"data-slot":"tooltip-trigger",...e})}function V2({className:e,sideOffset:t=0,children:n,...s}){return i.jsx(Jxe,{children:i.jsxs(Xxe,{"data-slot":"tooltip-content",sideOffset:t,className:se("fade-in-0 zoom-in-95 border border-border data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) animate-in text-balance rounded-md bg-secondary px-3 py-1.5 text-foreground text-xs data-[state=closed]:animate-out",e),...s,children:[n,i.jsx(Qxe,{className:"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-secondary fill-secondary"})]})})}const B2=304,iv=64,mV=B2-iv,e0e="b",pV=v.createContext(null);function rE(){const e=v.useContext(pV);if(!e)throw new Error("useSidebar must be used within a SidebarProvider");return e}function t0e({defaultOpen:e=!0,children:t}){const[n,s]=v.useState(e),r=n,a=v.useCallback(d=>{s(d)},[]),o=v.useCallback(()=>{a(!r)},[r,a]);v.useEffect(()=>{const d=f=>{f.key===e0e&&(f.metaKey||f.ctrlKey)&&(f.preventDefault(),o())};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[o]);const l=r?"expanded":"collapsed",u=v.useMemo(()=>({isPanelOpen:r,setPanelOpen:a,togglePanel:o,panelState:l}),[r,a,o,l]);return i.jsx(pV.Provider,{value:u,children:t})}function n0e(e){return e.split(" ").filter(Boolean).slice(0,2).map(t=>{var n;return(n=t[0])==null?void 0:n.toUpperCase()}).join("")||"U"}const gV=v.forwardRef(({className:e,onClick:t,showTooltip:n=!0,...s},r)=>{const{isPanelOpen:a,togglePanel:o}=rE(),l=i.jsx(Q,{ref:r,variant:"ghost",size:"icon",className:se("size-8",e),onClick:u=>{t==null||t(u),o()},"aria-label":a?"Sbalit postrann panel":"Rozbalit postrann panel","aria-expanded":a,...s,children:a?i.jsx(Hoe,{className:"size-4"}):i.jsx(Zoe,{className:"size-4"})});return n?i.jsxs(L2,{children:[i.jsx($2,{asChild:!0,children:l}),i.jsxs(V2,{side:"right",sideOffset:8,children:[i.jsx("span",{children:a?"Sbalit":"Rozbalit"}),i.jsxs("kbd",{className:"ml-2 rounded bg-neutral-200 px-1.5 py-0.5 text-[10px] font-medium text-neutral-600",children:["","B"]})]})]}):l});gV.displayName="SidebarTrigger";function s0e({railIcons:e,activeModuleId:t,onModuleChange:n}){return i.jsxs("div",{className:"flex h-full w-16 flex-col items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col items-center gap-3 p-2",children:[i.jsx("div",{className:"pb-1 pt-2",children:i.jsx("a",{href:"/",className:"block rounded-lg px-1 py-4 outline-none transition-opacity hover:opacity-80 focus-visible:ring-2 focus-visible:ring-black/50 dark:focus-visible:ring-white/50",children:i.jsx("img",{src:"/logo.svg",alt:"Logo",width:80,height:20,className:"h-5"})})}),i.jsx("div",{className:"flex flex-col items-center gap-3",children:e.map(s=>{const r=s.moduleId===t,a=s.icon;return i.jsxs(L2,{children:[i.jsx($2,{asChild:!0,children:i.jsx("button",{type:"button",onClick:()=>n(s.moduleId),"aria-label":s.label,className:se("relative flex size-11 items-center justify-center rounded-lg outline-none transition-colors duration-150 focus-visible:ring-2 focus-visible:ring-black/50 dark:focus-visible:ring-white/50",r?"bg-white text-neutral-900 dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-black/5 active:bg-black/10 dark:text-neutral-400 dark:hover:bg-white/5 dark:active:bg-white/10"),children:i.jsx(a,{className:"size-5"})})}),i.jsx(V2,{side:"right",sideOffset:8,children:s.label})]},s.moduleId)})})]}),i.jsxs("div",{className:"flex flex-col items-center gap-3 py-3",children:[i.jsx(gV,{className:"size-11 text-neutral-600 hover:bg-black/5 active:bg-black/10 dark:text-neutral-400 dark:hover:bg-white/5 dark:active:bg-white/10"}),i.jsxs(L2,{children:[i.jsx($2,{asChild:!0,children:i.jsx("div",{className:"flex size-11 items-center justify-center",children:i.jsx(r0e,{})})}),i.jsx(V2,{side:"right",sideOffset:8,children:"et"})]})]})]})}function r0e(){var s,r,a;const{user:e}=Ht(),{isAdmin:t}=S7(),n=Jt();return i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsx("button",{className:"flex size-11 items-center justify-center rounded-lg hover:bg-black/5 active:bg-black/10 focus-visible:ring-2 focus-visible:ring-black/50 dark:hover:bg-white/5 dark:active:bg-white/10 dark:focus-visible:ring-white/50","aria-label":"et",children:i.jsxs(In,{className:"size-7",children:[i.jsx(hs,{src:(s=e==null?void 0:e.user_metadata)==null?void 0:s.avatar_url,alt:(e==null?void 0:e.email)||""}),i.jsx(Sr,{className:"text-xs",children:n0e(((r=e==null?void 0:e.email)==null?void 0:r.split("@")[0])||"User")})]})})}),i.jsxs(jg,{align:"end",side:"right",className:"w-56",children:[i.jsx(F9,{className:"font-normal",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("p",{className:"text-sm font-medium",children:((a=e==null?void 0:e.email)==null?void 0:a.split("@")[0])||"Uivatel"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})}),i.jsx(ql,{}),i.jsx(lr,{onClick:()=>n("/prehled/nastaveni"),children:"Nastaven"}),i.jsx(lr,{onClick:()=>n("/"),children:"Domovsk strnka"}),i.jsx(lr,{onClick:()=>n("/prehled/fakturace"),children:"Fakturace"}),t&&i.jsxs(i.Fragment,{children:[i.jsx(ql,{}),i.jsxs(lr,{onClick:()=>n("/admin"),children:[i.jsx(yp,{className:"mr-2 size-4 text-red-500"}),"Admin Panel"]})]}),i.jsx(ql,{}),i.jsx(lr,{onClick:()=>n("/prihlaseni"),children:"Odhlsit se"})]})]})}function i0e(){const e=Jt(),{courses:t,selectedCourseId:n,setSelectedCourseId:s,selectedCourse:r}=C7(),a=u=>{s(u),e("/prehled")},o=()=>{s(null),e("/prehled")},l=r?r.title:"Moje Kurzy";return i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsxs("button",{className:"flex min-w-0 flex-1 items-center gap-2 rounded-lg px-2 py-1.5 text-left hover:bg-black/5 dark:hover:bg-white/5",children:[i.jsx("div",{className:"flex size-6 items-center justify-center rounded bg-neutral-200 dark:bg-neutral-800",children:i.jsx("img",{src:"/logo.svg",alt:"Moje Kurzy",width:16,height:16,className:"size-4"})}),i.jsx("span",{className:"flex-1 truncate text-sm font-medium text-neutral-900 dark:text-neutral-100",children:l}),i.jsx(dr,{className:"size-4 text-neutral-500 dark:text-neutral-500"})]})}),i.jsxs(jg,{align:"start",className:"w-64",children:[i.jsx(F9,{children:"Moje Kurzy"}),i.jsx(ql,{}),i.jsx(lr,{onClick:o,children:i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.jsx("div",{className:"flex size-6 items-center justify-center rounded bg-neutral-200 dark:bg-neutral-800 shrink-0",children:i.jsx(Oi,{className:"size-3.5"})}),i.jsx("span",{className:"truncate flex-1",children:"Prehled"}),!n&&i.jsx(La,{className:"size-4 text-blue-600 shrink-0"})]})}),t.length>0&&i.jsx(ql,{}),t.map(u=>i.jsx(lr,{onClick:()=>a(u.id),children:i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.jsx("div",{className:"flex size-6 items-center justify-center rounded bg-neutral-200 dark:bg-neutral-800 shrink-0",children:i.jsx(Wt,{className:"size-3.5"})}),i.jsx("span",{className:"truncate flex-1",children:u.title}),n===u.id&&i.jsx(La,{className:"size-4 text-blue-600 shrink-0"})]})},u.id)),i.jsx(ql,{}),i.jsxs(lr,{onClick:()=>e("/prehled/integrace"),children:[i.jsx(fs,{className:"mr-2 size-4"}),"Zapsat se na kurz"]})]})]})}function a0e(){return i.jsx(Q,{variant:"ghost",size:"icon",className:"ml-auto size-8 text-neutral-600 hover:bg-black/5 dark:text-neutral-400 dark:hover:bg-white/5","aria-label":"Oznmen",children:i.jsx(Mie,{className:"size-4"})})}function o0e(){return i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsxs(Q,{className:"w-full justify-start gap-2 bg-neutral-900 text-white hover:bg-neutral-800 dark:bg-neutral-100 dark:text-black dark:hover:bg-neutral-200",children:[i.jsx(fs,{className:"size-4"}),"Nov"]})}),i.jsxs(jg,{align:"start",className:"w-48",children:[i.jsx(lr,{children:"Nov Lekce"}),i.jsx(lr,{children:"Nov Poznmka"}),i.jsx(lr,{children:"Nov Dotaz"})]})]})}function oh(e,t){return!!(e===t||e==="/prehled"&&t==="/prehled"||t!=="/prehled"&&e.startsWith(t+"/"))}function l0e({module:e,utilities:t,panelHeader:n}){const[s,r]=v.useState(!1),a=_ne(),l=ss().pathname,u=e.sections.filter(m=>m.id!=="studio-setup"),d=e.sections.find(m=>m.id==="studio-setup"),f=(d==null?void 0:d.items.some(m=>oh(l,m.path)))??!1;return v.useEffect(()=>{f&&r(!0)},[f]),i.jsx("div",{className:"relative flex h-screen flex-col overflow-hidden rounded-l-xl bg-neutral-100 dark:bg-neutral-900",style:{width:`${mV}px`},children:i.jsxs("div",{className:"relative flex min-h-0 flex-1 animate-in fade-in slide-in-from-right-2 flex-col text-neutral-500 dark:text-neutral-500 duration-200",children:[i.jsx("div",{className:"shrink-0 p-3",children:n??i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[i.jsx(i0e,{}),i.jsx(a0e,{})]}),i.jsx("div",{children:i.jsx(o0e,{})})]})}),i.jsx("div",{className:"scrollbar-hide flex min-h-0 flex-1 flex-col gap-5 overflow-y-auto px-3 pb-3",children:u.map(m=>i.jsxs("div",{children:[m.label&&i.jsx("div",{className:"mb-2 pl-3 text-sm text-neutral-500 dark:text-neutral-500",children:m.label}),i.jsx("nav",{className:"flex flex-col gap-0.5",children:m.items.map(g=>i.jsx(Lk,{item:g,isActive:oh(l,g.path)},g.id))})]},m.id))}),d&&d.items.length>0||t.length>0?i.jsxs("div",{className:"shrink-0 px-3 pb-3 pt-1",children:[d&&d.items.length>0&&i.jsx(Lge,{open:s,onOpenChange:r,className:"group/setup",children:i.jsxs("div",{className:se("rounded-lg p-2",s&&"bg-neutral-200/50 dark:bg-neutral-800/50"),children:[i.jsxs(IR,{className:se("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm transition-colors",s&&"hidden",f?"bg-neutral-200/70 font-medium text-neutral-900 dark:bg-neutral-800/70 dark:text-neutral-100":"text-neutral-600 hover:bg-neutral-200/50 dark:text-neutral-400 dark:hover:bg-neutral-800/50"),children:[i.jsx(Yh,{className:se("size-4",f?"text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-500")}),i.jsx("span",{className:"font-medium",children:"Konfigurace"}),i.jsx(hr,{className:se("ml-auto size-4",f?"text-neutral-500":"text-neutral-400 dark:text-neutral-600")})]}),i.jsx(gn,{initial:!1,children:s&&i.jsxs(ee.nav,{initial:a?!1:{height:0,opacity:0},animate:{height:"auto",opacity:1,transition:{height:a?{duration:0}:{type:"spring",stiffness:500,damping:40,mass:1},opacity:a?{duration:0}:{duration:.2}}},exit:{height:0,opacity:0,transition:{height:a?{duration:0}:{type:"spring",stiffness:500,damping:40,mass:1},opacity:a?{duration:0}:{duration:.15}}},className:"scrollbar-hide relative flex max-h-[40vh] flex-col gap-0.5 overflow-y-auto pr-6",children:[i.jsx(IR,{className:"absolute right-0 top-0 p-1 text-neutral-400 transition-colors hover:text-neutral-600 dark:text-neutral-600 dark:hover:text-neutral-400","aria-label":"Sbalit konfiguraci",children:i.jsx(dr,{className:"size-4"})}),d.items.map((m,g)=>i.jsx(ee.div,{initial:a?!1:{opacity:0,x:-8},animate:{opacity:1,x:0,transition:{delay:a?0:g*.03,duration:a?0:.2,ease:[.25,.1,.25,1]}},exit:{opacity:0,transition:{duration:a?0:.1}},children:i.jsx(Lk,{item:m,isActive:oh(l,m.path)})},m.id))]})})]})}),t.length>0&&i.jsx("div",{className:"mt-3 border-t border-neutral-200 pt-3 dark:border-neutral-800",children:i.jsx("nav",{className:"flex flex-col gap-0.5",children:t.map(m=>i.jsx(Lk,{item:m,isActive:oh(l,m.path)},m.id))})})]}):null]},e.id)})}function xV(){const{theme:e,setTheme:t}=MI(),n=e==="dark";return i.jsxs("button",{type:"button",onClick:()=>t(n?"light":"dark"),className:"group flex h-8 w-full items-center justify-between rounded-lg p-2 text-sm leading-none text-neutral-700 hover:bg-black/5 active:bg-black/10 dark:text-neutral-300 dark:hover:bg-white/5 dark:active:bg-white/10 transition-[background-color,color] duration-75",children:[i.jsxs("span",{className:"flex min-w-0 items-center gap-2.5",children:[i.jsxs("span",{className:"relative size-4 shrink-0",children:[i.jsx(ee.span,{className:"absolute inset-0 flex items-center justify-center",initial:!1,animate:{rotate:n?90:0,opacity:n?0:1},transition:{duration:.3,ease:"easeInOut"},children:i.jsx(J_,{className:"size-4 text-amber-500"})}),i.jsx(ee.span,{className:"absolute inset-0 flex items-center justify-center",initial:!1,animate:{rotate:n?0:-90,opacity:n?1:0},transition:{duration:.3,ease:"easeInOut"},children:i.jsx(JL,{className:"size-4 text-blue-400"})})]}),i.jsx("span",{className:"truncate",children:n?"Svetly rezim":"Tmavy rezim"})]}),i.jsx("div",{className:se("relative h-5 w-9 rounded-full transition-colors duration-300",n?"bg-blue-500":"bg-neutral-300"),children:i.jsx(ee.div,{className:"absolute top-0.5 left-0.5 size-4 rounded-full bg-white shadow-sm",initial:!1,animate:{x:n?16:0},transition:{type:"spring",stiffness:500,damping:30}})})]})}function Lk({item:e,isActive:t}){if(e.path==="#theme-toggle")return i.jsx(xV,{});const n=e.path.startsWith("http"),s=e.icon,r=Jt(),a=o=>{o.preventDefault(),n?window.open(e.path,"_blank","noopener,noreferrer"):r(e.path)};return i.jsxs("a",{href:e.path,onClick:a,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,className:se("group flex h-8 items-center justify-between rounded-lg p-2 text-sm leading-none transition-[background-color,color,font-weight] duration-75",t?"bg-neutral-200/70 font-medium text-neutral-900 hover:bg-neutral-200 active:bg-neutral-300 dark:bg-neutral-800/70 dark:text-neutral-100 dark:hover:bg-neutral-800 dark:active:bg-neutral-700":"text-neutral-700 hover:bg-black/5 active:bg-black/10 dark:text-neutral-300 dark:hover:bg-white/5 dark:active:bg-white/10"),children:[i.jsxs("span",{className:"flex min-w-0 items-center gap-2.5",children:[i.jsx(s,{className:se("size-4 shrink-0",t?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400")}),i.jsx("span",{className:"truncate",children:e.label})]}),n&&i.jsx(HL,{className:"size-3.5 text-neutral-500 transition-transform duration-75 group-hover:-translate-y-px group-hover:translate-x-px dark:text-neutral-500"})]})}function c0e({visible:e,direction:t="right",children:n}){return i.jsx("div",{className:se("left-0 top-0 flex size-full flex-col transition-[opacity,transform] duration-300",e?"relative opacity-100":se("pointer-events-none absolute opacity-0",t==="left"?"-translate-x-full":"translate-x-full")),"aria-hidden":!e,inert:e?void 0:!0,children:n})}function u0e({children:e}){const{isPanelOpen:t}=rE(),n=t;return i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col bg-neutral-200 md:py-2 md:pr-2 dark:bg-neutral-800",children:i.jsxs("div",{className:"relative flex min-h-0 min-w-0 flex-1 flex-col",children:[i.jsx("div",{className:se("absolute -left-2 top-0 z-0 hidden h-3 w-5 bg-neutral-100 transition-opacity duration-300 md:block dark:bg-neutral-900",n?"opacity-100":"opacity-0")}),i.jsx("div",{className:se("absolute -left-2 bottom-0 z-0 hidden h-3 w-5 bg-neutral-100 transition-opacity duration-300 md:block dark:bg-neutral-900",n?"opacity-100":"opacity-0")}),i.jsx("main",{className:"z-10 flex min-h-0 flex-1 flex-col overflow-hidden pb-16 md:rounded-xl md:bg-white md:pb-0 dark:md:bg-neutral-900",children:i.jsxs("div",{className:"flex-1 overflow-y-auto",style:{WebkitOverflowScrolling:"touch",overflowX:"clip"},children:[i.jsx(zxe,{}),i.jsx("div",{className:"px-4 pt-4 pb-24 sm:px-6 md:pt-6 md:pb-6",children:e})]})})]})})}function d0e({railIcons:e,activeModule:t,activeModuleId:n,utilities:s,onModuleChange:r,panelHeader:a}){const{isPanelOpen:o}=rE(),l=t!==null,u=l&&o;return i.jsx(fV,{delayDuration:0,children:i.jsx("aside",{className:se("sticky top-0 z-40 hidden h-screen transition-[width] duration-300 md:block"),style:{width:u?B2:iv,"--sidebar-width":`${u?B2:iv}px`,"--sidebar-rail-width":`${iv}px`,"--sidebar-panel-width":`${mV}px`},"data-panel-state":o?"expanded":"collapsed","data-has-content":l,children:i.jsxs("nav",{className:"grid size-full grid-cols-[64px_1fr]",children:[i.jsx(s0e,{railIcons:e,activeModuleId:n,onModuleChange:r}),i.jsx("div",{className:se("relative size-full overflow-hidden py-2 transition-opacity duration-300",!u&&"opacity-0"),children:i.jsx(c0e,{visible:!0,direction:"left",children:t&&i.jsx(l0e,{module:t,utilities:s,panelHeader:a})})})]})})})}function h0e({open:e,onOpenChange:t,railIcons:n,activeModule:s,activeModuleId:r,utilities:a,onModuleChange:o}){const u=ss().pathname,d=()=>t(!1);return i.jsxs(i.Fragment,{children:[i.jsx($7,{open:e,onOpenChange:t,children:i.jsxs(B7,{className:"md:hidden",children:[i.jsx(F7,{children:i.jsx(U7,{children:(s==null?void 0:s.label)??"Navigace"})}),i.jsx(tE,{className:"max-h-[70vh] px-[15px] pb-6",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex flex-col gap-6",children:s.sections.map(f=>i.jsxs("div",{children:[f.label&&i.jsx("div",{className:"mb-2 pl-2 text-xs font-medium uppercase tracking-wide text-neutral-500 dark:text-neutral-500",children:f.label}),i.jsx("nav",{className:"flex flex-col gap-0.5",children:f.items.map(m=>i.jsx(UR,{item:m,isActive:oh(u,m.path),onSelect:d},m.id))})]},f.id))}),a.length>0&&i.jsxs("div",{className:"mt-6 border-t border-neutral-200 pt-3 dark:border-neutral-800",children:[i.jsx("div",{className:"mb-2 pl-2 text-xs font-medium uppercase tracking-wide text-neutral-500 dark:text-neutral-500",children:"Nstroje"}),i.jsx("nav",{className:"flex flex-col gap-0.5",children:a.map(f=>i.jsx(UR,{item:f,isActive:oh(u,f.path),onSelect:d},f.id))})]})]}):null})]})}),i.jsx(f0e,{railIcons:n,activeModuleId:r,onModuleChange:o,onOpenChange:t})]})}function f0e({railIcons:e,activeModuleId:t,onModuleChange:n,onOpenChange:s}){const{mobileNavVisible:r}=U_();return i.jsx(gn,{children:r&&i.jsx(ee.nav,{initial:{y:80,opacity:0},animate:{y:0,opacity:1},exit:{y:80,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-x-0 bottom-0 z-40 border-t bg-background md:hidden",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:i.jsx("div",{className:"grid px-[15px]",style:{gridTemplateColumns:`repeat(${e.length}, minmax(0, 1fr))`},children:e.map(a=>{const o=a.icon,l=a.moduleId===t;return i.jsxs("button",{type:"button",onClick:()=>{n(a.moduleId),s(!0)},className:se("relative flex flex-col items-center gap-1 py-2 text-xs transition-colors",l?"text-foreground":"text-muted-foreground hover:text-foreground"),"aria-label":a.label,children:[l&&i.jsx(ee.div,{layoutId:"mobile-nav-indicator",className:"absolute -top-px left-1/4 right-1/4 h-0.5 rounded-full bg-primary",transition:{type:"spring",stiffness:400,damping:30}}),i.jsx(o,{className:"h-5 w-5"}),i.jsx("span",{className:se("text-[10px]",l&&"font-semibold"),children:a.label})]},a.moduleId)})})})})}function UR({item:e,isActive:t,onSelect:n}){if(e.path==="#theme-toggle")return i.jsx(xV,{});const s=e.path.startsWith("http"),r=e.icon,a=Jt(),o=l=>{l.preventDefault(),s?window.open(e.path,"_blank","noopener,noreferrer"):(a(e.path),n==null||n())};return i.jsxs("a",{href:e.path,onClick:o,target:s?"_blank":void 0,rel:s?"noopener noreferrer":void 0,className:se("group flex h-8 items-center justify-between rounded-lg p-2 text-sm leading-none transition-[background-color,color,font-weight] duration-75",t?"bg-neutral-200/70 font-medium text-neutral-900 hover:bg-neutral-200 active:bg-neutral-300 dark:bg-neutral-800/70 dark:text-neutral-100 dark:hover:bg-neutral-800 dark:active:bg-neutral-700":"text-neutral-700 hover:bg-black/5 active:bg-black/10 dark:text-neutral-300 dark:hover:bg-white/5 dark:active:bg-white/10"),children:[i.jsxs("span",{className:"flex min-w-0 items-center gap-2.5",children:[i.jsx(r,{className:se("size-4 shrink-0",t?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400")}),i.jsx("span",{className:"truncate",children:e.label})]}),s&&i.jsx(HL,{className:"size-3.5 text-neutral-500 transition-transform duration-75 group-hover:-translate-y-px group-hover:translate-x-px dark:text-neutral-500"})]})}const m0e={railIcons:[{moduleId:"home",label:"Domu",icon:Oi,defaultPath:"/prehled"},{moduleId:"analytics",label:"Statistiky",icon:Oa,defaultPath:"/prehled/pokrok"},{moduleId:"integrations",label:"Kurzy",icon:Wt,defaultPath:"/prehled/moje-kurzy"},{moduleId:"billing",label:"Platby",icon:sr,defaultPath:"/prehled/predplatne"}],modules:[{id:"home",label:"Domu",icon:Oi,defaultPath:"/prehled",sections:[{id:"main",items:[{id:"overview",label:"Prehled",icon:Oi,path:"/prehled"},{id:"my-courses-home",label:"Moje Kurzy",icon:Wt,path:"/prehled/moje-kurzy"},{id:"progress-home",label:"Pokrok",icon:Oa,path:"/prehled/pokrok"},{id:"certificates-home",label:"Certifikaty",icon:Ri,path:"/prehled/certifikaty"},{id:"trainers",label:"Treneri",icon:Cv,path:"/prehled/treneri"},{id:"messages",label:"Zpravy",icon:G_,path:"/prehled/zpravy"}]},{id:"tools",label:"Nastroje",items:[{id:"theme-toggle",label:"Tmave/Svetle",icon:J_,path:"#theme-toggle"}]}]},{id:"analytics",label:"Statistiky",icon:Oa,defaultPath:"/prehled/pokrok",sections:[{id:"main",items:[{id:"progress",label:"Pokrok",icon:Oa,path:"/prehled/pokrok"},{id:"test-results",label:"Vysledky Testu",icon:lg,path:"/prehled/vysledky-testu"},{id:"certificates",label:"Certifikaty",icon:Ri,path:"/prehled/certifikaty"},{id:"study-time",label:"Studijni doba",icon:Bo,path:"/prehled/analytika"}]}]},{id:"integrations",label:"Kurzy",icon:Wt,defaultPath:"/prehled/moje-kurzy",sections:[{id:"main",items:[{id:"my-courses",label:"Moje Kurzy",icon:Wt,path:"/prehled/moje-kurzy"},{id:"all-courses",label:"Prohlidnout Kurzy",icon:qa,path:"/prehled/integrace"},{id:"course-certificates",label:"Certifikaty",icon:Ri,path:"/prehled/certifikaty"}]}]},{id:"billing",label:"Platby",icon:sr,defaultPath:"/prehled/predplatne",sections:[{id:"main",items:[{id:"subscription",label:"Predplatne",icon:sr,path:"/prehled/predplatne"},{id:"invoices",label:"Faktury",icon:$a,path:"/prehled/faktury"},{id:"orders",label:"Objednavky",icon:ju,path:"/prehled/fakturace"},{id:"payment-methods",label:"Platebni metody",icon:Eh,path:"/prehled/nastaveni"}]}]}],utilities:[{id:"settings",label:"Nastaveni",icon:Yh,path:"/prehled/nastaveni"},{id:"help",label:"Pomoc & Podpora",icon:H_,path:"#"}]};function vV({children:e,navigationConfig:t=m0e,resolveActiveModuleId:n,panelHeader:s,defaultSidebarOpen:r=!0}){const[a,o]=v.useState(!1),l=ss(),u=Jt(),d=()=>{if(n)return n(l.pathname);const b=l.pathname;return b==="/prehled"||b.startsWith("/prehled/treneri")||b.startsWith("/prehled/zpravy")?"home":b.startsWith("/prehled/pokrok")||b.startsWith("/prehled/vysledky-testu")||b.startsWith("/prehled/analytika")||b.startsWith("/prehled/certifikaty")?"analytics":b.startsWith("/prehled/moje-kurzy")||b.startsWith("/prehled/integrace")?"integrations":b.startsWith("/prehled/predplatne")||b.startsWith("/prehled/faktury")||b.startsWith("/prehled/fakturace")?"billing":"home"},[f,m]=v.useState(d());v.useEffect(()=>{m(d())},[l.pathname]);const g=v.useMemo(()=>t.modules.find(b=>b.id===f)??t.modules[0],[f]),x=b=>{m(b);const w=t.modules.find(j=>j.id===b);w&&u(w.defaultPath)};return i.jsx(t0e,{defaultOpen:r,children:i.jsxs("div",{className:"flex h-screen flex-col overflow-hidden bg-neutral-200 dark:bg-neutral-800",children:[i.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 overflow-hidden md:grid md:grid-cols-[min-content_minmax(0,1fr)]",children:[i.jsx(d0e,{railIcons:t.railIcons,activeModule:g,activeModuleId:f,utilities:t.utilities,onModuleChange:x,panelHeader:s}),i.jsx(u0e,{children:e})]}),i.jsx(h0e,{open:a,onOpenChange:o,railIcons:t.railIcons,activeModule:g,activeModuleId:f,utilities:t.utilities,onModuleChange:x})]})})}const yV=v.createContext({onlineUserIds:new Set,isUserOnline:()=>!1});function Sg(){return v.useContext(yV)}function p0e({children:e}){const{user:t}=Ht(),[n,s]=v.useState(new Set);v.useEffect(()=>{if(!t)return;const a=ae.channel("online-presence",{config:{presence:{key:t.id}}});a.on("presence",{event:"sync"},()=>{const u=a.presenceState(),d=new Set;for(const f of Object.keys(u))d.add(f);s(d)}).subscribe(async u=>{u==="SUBSCRIBED"&&await a.track({user_id:t.id,online_at:new Date().toISOString()})});const o=()=>{ae.from("profiles").update({last_seen_at:new Date().toISOString()}).eq("id",t.id).then()};o();const l=setInterval(o,3e4);return()=>{a.unsubscribe(),ae.removeChannel(a),clearInterval(l)}},[t]);const r=v.useCallback(a=>n.has(a),[n]);return i.jsx(yV.Provider,{value:{onlineUserIds:n,isUserOnline:r},children:e})}function g0e(){const e=ss(),{showMobileNav:t,mobileNavVisible:n}=U_();return v.useEffect(()=>{e.pathname!=="/prehled"&&!n&&t()},[e.pathname,n,t]),null}function x0e(){const{user:e,loading:t}=Ht();return t?i.jsx("div",{className:"flex h-screen items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e?i.jsx(p0e,{children:i.jsx(Ige,{children:i.jsxs(vV,{children:[i.jsx(g0e,{}),i.jsx(t_,{})]})})}):i.jsx(Ua,{to:"/prihlaseni",replace:!0})}const $d=[{id:"main",items:[{id:"overview",label:"Prehled",icon:Oa,path:"/admin"},{id:"users",label:"Uzivatele",icon:qa,path:"/admin/users"},{id:"blogs",label:"Blog",icon:$a,path:"/admin/blogs"},{id:"courses",label:"Kurzy",icon:Wt,path:"/admin/courses"},{id:"subscriptions",label:"Predplatne",icon:sr,path:"/admin/subscriptions"},{id:"promo-codes",label:"Promo kody",icon:Y_,path:"/admin/promo-codes"},{id:"invoices",label:"Faktury",icon:Eh,path:"/admin/invoices"}]}],v0e={railIcons:[{moduleId:"overview",label:"Prehled",icon:Oa,defaultPath:"/admin"},{moduleId:"users",label:"Uzivatele",icon:qa,defaultPath:"/admin/users"},{moduleId:"blogs",label:"Blog",icon:$a,defaultPath:"/admin/blogs"},{moduleId:"courses",label:"Kurzy",icon:Wt,defaultPath:"/admin/courses"},{moduleId:"subscriptions",label:"Predplatne",icon:sr,defaultPath:"/admin/subscriptions"},{moduleId:"invoices",label:"Platby",icon:Eh,defaultPath:"/admin/invoices"}],modules:[{id:"overview",label:"Prehled",icon:Oa,defaultPath:"/admin",sections:$d},{id:"users",label:"Uzivatele",icon:qa,defaultPath:"/admin/users",sections:$d},{id:"blogs",label:"Blog",icon:$a,defaultPath:"/admin/blogs",sections:$d},{id:"courses",label:"Kurzy",icon:Wt,defaultPath:"/admin/courses",sections:$d},{id:"subscriptions",label:"Predplatne",icon:sr,defaultPath:"/admin/subscriptions",sections:$d},{id:"invoices",label:"Platby",icon:Eh,defaultPath:"/admin/invoices",sections:$d}],utilities:[{id:"dashboard",label:"Dashboard",icon:Oi,path:"/prehled"},{id:"settings",label:"Nastaveni",icon:Yh,path:"/prehled/settings"}]};function y0e(e){return e.startsWith("/admin/users")?"users":e.startsWith("/admin/blogs")?"blogs":e.startsWith("/admin/courses")?"courses":e.startsWith("/admin/subscriptions")||e.startsWith("/admin/promo-codes")?"subscriptions":e.startsWith("/admin/invoices")?"invoices":"overview"}function b0e(){return i.jsxs("div",{className:"mb-2 flex items-center gap-2 px-2 py-1.5",children:[i.jsx("div",{className:"flex size-6 items-center justify-center rounded bg-red-100 dark:bg-red-900/50",children:i.jsx(yp,{className:"size-4 text-red-600 dark:text-red-400"})}),i.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:"Admin Panel"})]})}function w0e(){const{user:e,loading:t}=Ht(),{isAdmin:n,loading:s}=S7();return t||s?i.jsx("div",{className:"flex h-screen items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e?n?i.jsx(vV,{navigationConfig:v0e,resolveActiveModuleId:y0e,panelHeader:i.jsx(b0e,{}),defaultSidebarOpen:!1,children:i.jsx(t_,{})}):i.jsx(Ua,{to:"/prehled",replace:!0}):i.jsx(Ua,{to:"/prihlaseni",replace:!0})}const bV=[.25,.4,.25,1],j0e={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.65,ease:bV}}},k0e={hidden:{opacity:0,scale:.96},visible:{opacity:1,scale:1,transition:{duration:.8,ease:bV}}};function Ji({children:e,className:t,variant:n="fadeUp",delay:s=0}){const r=v.useRef(null),a=vL(r,{once:!0,margin:"-60px"}),o=n==="scaleIn"?k0e:j0e;return i.jsx(ee.div,{ref:r,className:t,initial:"hidden",animate:a?"visible":"hidden",variants:{hidden:o.hidden,visible:{...o.visible,transition:{...o.visible.transition,delay:s}}},children:e})}const N0e=()=>i.jsx("section",{className:se("py-32 dark:bg-background"),id:"about",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid gap-14 pb-28 md:grid-cols-2 md:items-start",children:[i.jsxs(Ji,{children:[i.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.16em] text-sky-600 dark:text-sky-400",children:"O ns"}),i.jsxs("h2",{className:"mt-5 text-3xl font-semibold leading-[1.15] md:text-4xl lg:text-[2.75rem]",children:["Dires Fyzio  Vzdlvn"," ",i.jsx("span",{className:"bg-gradient-to-r from-sky-600 to-sky-400 bg-clip-text text-transparent",children:"na nejvy rovni"})]})]}),i.jsx(Ji,{delay:.1,children:i.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground md:pt-8",children:"Nae platforma nabz intuitivn een pro vzdlvn v oblasti fyzioterapie. Poskytujeme ucelen kurzy, praktick nstroje a odborn veden, kter pomhaj studentm i profesionlm rozvjet sv dovednosti a budovat spnou kariru."})})]}),i.jsx(Ji,{variant:"scaleIn",children:i.jsx("img",{src:"/MG_0170-1024x683-1.jpg.webp",alt:"Dires tm pi prci",className:"ml-auto aspect-video max-h-[550px] w-full rounded-2xl object-cover shadow-lg"})}),i.jsx(Ji,{delay:.08,children:i.jsx("p",{className:"mt-6 text-center text-xl text-muted-foreground lg:text-right",children:"Odhodlni zjednoduit cestu k profesionln fyzioterapii"})}),i.jsxs("div",{className:"flex flex-col justify-between gap-14 py-32 lg:flex-row lg:items-center",children:[i.jsx(Ji,{children:i.jsx("p",{className:"mx-auto max-w-xl text-center text-2xl font-medium leading-snug lg:mx-0 lg:text-left",children:"Jsme tm zkuench fyzioterapeut, trenr a pedagog s jednm spolenm clem."})}),i.jsx(Ji,{delay:.1,children:i.jsxs("div",{className:"grid shrink-0 grid-cols-3 items-center gap-8",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[i.jsx("span",{className:"text-3xl font-bold text-sky-600 dark:text-sky-400",children:"500+"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Absolvent"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[i.jsx("span",{className:"text-3xl font-bold text-sky-600 dark:text-sky-400",children:"12+"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Let praxe"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[i.jsx("span",{className:"text-3xl font-bold text-sky-600 dark:text-sky-400",children:"98%"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Spokojenost"})]})]})})]}),i.jsxs("div",{className:"grid gap-14 lg:grid-cols-4 xl:grid-cols-5",children:[i.jsxs("div",{className:"md:col-span-2 xl:col-span-3",children:[i.jsx(Ji,{children:i.jsx("h3",{className:"mb-10 text-4xl font-semibold",children:"Pro jsme zaali"})}),i.jsx(Ji,{delay:.08,children:i.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground",children:"Vidli jsme na vlastn oi, s jakmi problmy se studenti fyzioterapie potkaj. Sloit anatomick pojmy, nedostatek praxe a zastaral vukov metody. Msto opakovn stejnch chyb jsme chtli vytvoit systm, kter cel vzdlvac proces zjednodu od zklad a po pokroil techniky."})}),i.jsx(Ji,{delay:.16,children:i.jsx("p",{className:"mt-6 text-lg leading-relaxed text-muted-foreground",children:"Na mis je poskytnout kadmu pstup k profesionlnmu vzdln v oblasti pohybovho apartu. Vme, e odstrannm barir a zpstupnnm kvalitnch materil meme pomoci tmm i jednotlivcm soustedit se na to, co um nejlpe  pomhat lidem t bez bolesti."})}),i.jsx(Ji,{delay:.24,children:i.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-6 text-center",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 rounded-2xl border bg-card p-6 shadow-sm",children:[i.jsx("span",{className:"text-2xl font-bold md:text-4xl",children:"2012"}),i.jsx("span",{className:"text-sm text-muted-foreground md:text-base",children:"Rok zaloen"})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 rounded-2xl border bg-card p-6 shadow-sm",children:[i.jsx("span",{className:"text-2xl font-bold md:text-4xl",children:"30+"}),i.jsx("span",{className:"text-sm text-muted-foreground md:text-base",children:"Odbornch modul"})]})]})})]}),i.jsx(Ji,{className:"md:col-span-2",variant:"scaleIn",delay:.12,children:i.jsx("img",{src:"/Dires.png",alt:"Dires Fyzio",className:"w-full rounded-2xl object-cover shadow-lg"})})]})]})}),S0e=({title:e,slug:t,date:n,className:s})=>{const r=Jt();return i.jsxs("div",{className:se("flex w-full flex-col gap-[1.875rem] border-b py-10 lg:max-w-[28.125rem]",s),children:[i.jsx("button",{onClick:()=>r(`/blog/${t}`),className:"group inline-block text-left text-2xl leading-[1.22] font-semibold hover:underline",children:e}),i.jsx("div",{className:"flex w-full flex-col gap-5",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground/60",children:"by Fyzioterapie tm"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx("span",{className:"text-sm text-muted-foreground",children:n})]})})]})};function HR(e){return e?new Date(e).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"}):""}function _0e({className:e}){const[t,n]=v.useState([]),[s,r]=v.useState(!0),a=Jt();if(v.useEffect(()=>{(async()=>{const{data:u}=await ae.from("blogs").select("id, title, slug, excerpt, featured_image, tags, published_at, created_at").eq("status","published").order("published_at",{ascending:!1}).limit(4);n(u??[]),r(!1)})()},[]),s||t.length===0)return null;const o=t[0],l=t.slice(1);return i.jsx("section",{className:se("py-32",e),children:i.jsx("div",{className:"mx-4 sm:mx-6 lg:mx-10 rounded-2xl bg-muted/40 border border-sky-200/60 dark:border-sky-800/30 px-5 sm:px-8 lg:px-14 py-16",children:i.jsxs("div",{className:"mx-auto max-w-7xl",children:[i.jsxs("div",{className:"mb-10 grid grid-cols-[minmax(18.75rem,1fr)] items-start justify-start gap-2.5 md:mb-20 lg:mb-24 lg:grid-cols-[minmax(18.75rem,1fr)_minmax(12.5rem,28.125rem)] lg:gap-20",children:[i.jsx("h1",{className:"text-6xl leading-[1.22] font-bold md:text-[5rem] md:font-semibold lg:text-[7.5rem]",children:"Blog"}),i.jsxs("div",{className:"pb-5",children:[i.jsxs("p",{className:"text-base text-foreground sm:text-lg",children:[i.jsx("span",{className:"text-muted-foreground",children:"Inspirace se setkv s inovac"}),i.jsx("br",{}),i.jsx("strong",{children:"Blog Fyzioterapie"})]}),i.jsx("div",{className:"mt-6 rounded-lg border p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=80",alt:"Author profile",className:"h-12 w-12 rounded-full object-cover"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Fyzioterapie tm"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Odborn obsah"})]})]})})]})]}),i.jsxs("div",{className:"grid w-full grid-cols-[minmax(18.75rem,1fr)] gap-20 pb-[6.25rem] lg:grid-cols-[minmax(18.75rem,1fr)_minmax(12.5rem,28.125rem)]",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex flex-col gap-[1.875rem]",children:[i.jsx("button",{onClick:()=>a(`/blog/${o.slug}`),className:"group flex aspect-[1.736111111] w-full overflow-hidden rounded-[0.625rem]",children:i.jsx(Za,{ratio:1.736111111,className:"m-auto overflow-hidden",children:i.jsx("img",{src:o.featured_image||"/demo-img.png",alt:o.title,className:"block size-full object-cover object-center"})})}),i.jsxs("div",{className:"flex w-full flex-col gap-5",children:[i.jsx("button",{onClick:()=>a(`/blog/${o.slug}`),className:"group inline-block text-left text-2xl leading-[1.22] font-semibold hover:underline md:text-4xl",children:o.title}),i.jsx("p",{className:"text-lg text-foreground",children:o.excerpt})]}),i.jsx("div",{className:"flex w-full flex-col gap-5",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground/60",children:"by Fyzioterapie tm"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx("span",{className:"text-sm text-muted-foreground",children:HR(o.published_at||o.created_at)})]})})]})}),i.jsxs("div",{className:"flex flex-col gap-10",children:[i.jsx("div",{className:"text-5xl leading-[1.2] font-semibold",children:"Nejnovj"}),i.jsx("div",{className:"-mt-10 flex flex-col",children:l.map((u,d)=>i.jsx(S0e,{title:u.title,slug:u.slug,date:HR(u.published_at||u.created_at)},`${u.id}-${d}`))})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(Q,{onClick:()=>a("/blog"),size:"lg",className:"min-w-[200px]",children:"Zobrazit vce lnk"})})]})})})}var _g=e=>e.type==="checkbox",su=e=>e instanceof Date,Ir=e=>e==null;const wV=e=>typeof e=="object";var js=e=>!Ir(e)&&!Array.isArray(e)&&wV(e)&&!su(e),jV=e=>js(e)&&e.target?_g(e.target)?e.target.checked:e.target.value:e,C0e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,kV=(e,t)=>e.has(C0e(t)),E0e=e=>{const t=e.constructor&&e.constructor.prototype;return js(t)&&t.hasOwnProperty("isPrototypeOf")},iE=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zn(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(iE&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(js(e)&&E0e(e)))return e;const s=n?[]:Object.create(Object.getPrototypeOf(e));for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=zn(e[r]));return s}var Ob=e=>/^\w*$/.test(e),wn=e=>e===void 0,Db=e=>Array.isArray(e)?e.filter(Boolean):[],aE=e=>Db(e.replace(/["|']|\]/g,"").split(/\.|\[/)),He=(e,t,n)=>{if(!t||!js(e))return n;const s=(Ob(t)?[t]:aE(t)).reduce((r,a)=>Ir(r)?r:r[a],e);return wn(s)||s===e?wn(e[t])?n:e[t]:s},ti=e=>typeof e=="boolean",br=e=>typeof e=="function",an=(e,t,n)=>{let s=-1;const r=Ob(t)?[t]:aE(t),a=r.length,o=a-1;for(;++s<a;){const l=r[s];let u=n;if(s!==o){const d=e[l];u=js(d)||Array.isArray(d)?d:isNaN(+r[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const Uv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},zi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},jo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},oE=W.createContext(null);oE.displayName="HookFormControlContext";const Pb=()=>W.useContext(oE);var NV=(e,t,n,s=!0)=>{const r={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(r,a,{get:()=>{const o=a;return t._proxyFormState[o]!==zi.all&&(t._proxyFormState[o]=!s||zi.all),n&&(n[o]=!0),e[o]}});return r};const Ib=typeof window<"u"?W.useLayoutEffect:W.useEffect;function T0e(e){const t=Pb(),{control:n=t,disabled:s,name:r,exact:a}=e||{},[o,l]=W.useState(n._formState),u=W.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ib(()=>n._subscribe({name:r,formState:u.current,exact:a,callback:d=>{!s&&l({...n._formState,...d})}}),[r,s,a]),W.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),W.useMemo(()=>NV(o,n,u.current,!1),[o,n])}var ri=e=>typeof e=="string",F2=(e,t,n,s,r)=>ri(e)?(s&&t.watch.add(e),He(n,e,r)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),He(n,a))):(s&&(t.watchAll=!0),n),U2=e=>Ir(e)||!wV(e);function sa(e,t,n=new WeakSet){if(U2(e)||U2(t))return Object.is(e,t);if(su(e)&&su(t))return Object.is(e.getTime(),t.getTime());const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of s){const o=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const l=t[a];if(su(o)&&su(l)||js(o)&&js(l)||Array.isArray(o)&&Array.isArray(l)?!sa(o,l,n):!Object.is(o,l))return!1}}return!0}function z0e(e){const t=Pb(),{control:n=t,name:s,defaultValue:r,disabled:a,exact:o,compute:l}=e||{},u=W.useRef(r),d=W.useRef(l),f=W.useRef(void 0),m=W.useRef(n),g=W.useRef(s);d.current=l;const[x,b]=W.useState(()=>{const E=n._getWatch(s,u.current);return d.current?d.current(E):E}),w=W.useCallback(E=>{const T=F2(s,n._names,E||n._formValues,!1,u.current);return d.current?d.current(T):T},[n._formValues,n._names,s]),j=W.useCallback(E=>{if(!a){const T=F2(s,n._names,E||n._formValues,!1,u.current);if(d.current){const M=d.current(T);sa(M,f.current)||(b(M),f.current=M)}else b(T)}},[n._formValues,n._names,a,s]);Ib(()=>((m.current!==n||!sa(g.current,s))&&(m.current=n,g.current=s,j()),n._subscribe({name:s,formState:{values:!0},exact:o,callback:E=>{j(E.values)}})),[n,o,s,j]),W.useEffect(()=>n._removeUnmounted());const k=m.current!==n,S=g.current,C=W.useMemo(()=>{if(a)return null;const E=!k&&!sa(S,s);return k||E?w():null},[a,k,s,S,w]);return C!==null?C:x}function M0e(e){const t=Pb(),{name:n,disabled:s,control:r=t,shouldUnregister:a,defaultValue:o,exact:l=!0}=e,u=kV(r._names.array,n),d=W.useMemo(()=>He(r._formValues,n,He(r._defaultValues,n,o)),[r,n,o]),f=z0e({control:r,name:n,defaultValue:d,exact:l}),m=T0e({control:r,name:n,exact:l}),g=W.useRef(e),x=W.useRef(void 0),b=W.useRef(r.register(n,{...e.rules,value:f,...ti(e.disabled)?{disabled:e.disabled}:{}}));g.current=e;const w=W.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!He(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!He(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!He(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!He(m.validatingFields,n)},error:{enumerable:!0,get:()=>He(m.errors,n)}}),[m,n]),j=W.useCallback(E=>b.current.onChange({target:{value:jV(E),name:n},type:Uv.CHANGE}),[n]),k=W.useCallback(()=>b.current.onBlur({target:{value:He(r._formValues,n),name:n},type:Uv.BLUR}),[n,r._formValues]),S=W.useCallback(E=>{const T=He(r._fields,n);T&&T._f&&E&&(T._f.ref={focus:()=>br(E.focus)&&E.focus(),select:()=>br(E.select)&&E.select(),setCustomValidity:M=>br(E.setCustomValidity)&&E.setCustomValidity(M),reportValidity:()=>br(E.reportValidity)&&E.reportValidity()})},[r._fields,n]),C=W.useMemo(()=>({name:n,value:f,...ti(s)||m.disabled?{disabled:m.disabled||s}:{},onChange:j,onBlur:k,ref:S}),[n,s,m.disabled,j,k,S,f]);return W.useEffect(()=>{const E=r._options.shouldUnregister||a,T=x.current;T&&T!==n&&!u&&r.unregister(T),r.register(n,{...g.current.rules,...ti(g.current.disabled)?{disabled:g.current.disabled}:{}});const M=(z,A)=>{const D=He(r._fields,z);D&&D._f&&(D._f.mount=A)};if(M(n,!0),E){const z=zn(He(r._options.defaultValues,n,g.current.defaultValue));an(r._defaultValues,n,z),wn(He(r._formValues,n))&&an(r._formValues,n,z)}return!u&&r.register(n),x.current=n,()=>{(u?E&&!r._state.action:E)?r.unregister(n):M(n,!1)}},[n,r,u,a]),W.useEffect(()=>{r._setDisabledField({disabled:s,name:n})},[s,n,r]),W.useMemo(()=>({field:C,formState:m,fieldState:w}),[C,m,w])}const jn=e=>e.render(M0e(e)),lE=W.createContext(null);lE.displayName="HookFormContext";const uc=()=>W.useContext(lE),SV=e=>{const{children:t,watch:n,getValues:s,getFieldState:r,setError:a,clearErrors:o,setValue:l,trigger:u,formState:d,resetField:f,reset:m,handleSubmit:g,unregister:x,control:b,register:w,setFocus:j,subscribe:k}=e;return W.createElement(lE.Provider,{value:W.useMemo(()=>({watch:n,getValues:s,getFieldState:r,setError:a,clearErrors:o,setValue:l,trigger:u,formState:d,resetField:f,reset:m,handleSubmit:g,unregister:x,control:b,register:w,setFocus:j,subscribe:k}),[o,b,d,r,s,g,w,m,f,a,j,l,k,u,x,n])},W.createElement(oE.Provider,{value:b},t))};var _V=(e,t,n,s,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:r||!0}}:{},Vr=e=>Array.isArray(e)?e:[e],qR=()=>{let e=[];return{get observers(){return e},next:r=>{for(const a of e)a.next&&a.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(a=>a!==r)}}),unsubscribe:()=>{e=[]}}};function CV(e,t){const n={};for(const s in e)if(e.hasOwnProperty(s)){const r=e[s],a=t[s];if(r&&js(r)&&a){const o=CV(r,a);js(o)&&(n[s]=o)}else e[s]&&(n[s]=a)}return n}var ar=e=>js(e)&&!Object.keys(e).length,cE=e=>e.type==="file",Hv=e=>{if(!iE)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},EV=e=>e.type==="select-multiple",uE=e=>e.type==="radio",A0e=e=>uE(e)||_g(e),$k=e=>Hv(e)&&e.isConnected;function R0e(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=wn(e)?s++:e[t[s++]];return e}function O0e(e){for(const t in e)if(e.hasOwnProperty(t)&&!wn(e[t]))return!1;return!0}function ds(e,t){const n=Array.isArray(t)?t:Ob(t)?[t]:aE(t),s=n.length===1?e:R0e(e,n),r=n.length-1,a=n[r];return s&&delete s[a],r!==0&&(js(s)&&ar(s)||Array.isArray(s)&&O0e(s))&&ds(e,n.slice(0,-1)),e}var D0e=e=>{for(const t in e)if(br(e[t]))return!0;return!1};function TV(e){return Array.isArray(e)||js(e)&&!D0e(e)}function H2(e,t={}){for(const n in e){const s=e[n];TV(s)?(t[n]=Array.isArray(s)?[]:{},H2(s,t[n])):wn(s)||(t[n]=!0)}return t}function Jd(e,t,n){n||(n=H2(t));for(const s in e){const r=e[s];if(TV(r))wn(t)||U2(n[s])?n[s]=H2(r,Array.isArray(r)?[]:{}):Jd(r,Ir(t)?{}:t[s],n[s]);else{const a=t[s];n[s]=!sa(r,a)}}return n}const ZR={value:!1,isValid:!1},WR={value:!0,isValid:!0};var zV=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!wn(e[0].attributes.value)?wn(e[0].value)||e[0].value===""?WR:{value:e[0].value,isValid:!0}:WR:ZR}return ZR},MV=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>wn(e)?e:t?e===""?NaN:e&&+e:n&&ri(e)?new Date(e):s?s(e):e;const KR={isValid:!1,value:null};var AV=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,KR):KR;function GR(e){const t=e.ref;return cE(t)?t.files:uE(t)?AV(e.refs).value:EV(t)?[...t.selectedOptions].map(({value:n})=>n):_g(t)?zV(e.refs).value:MV(wn(t.value)?e.ref.value:t.value,e)}var P0e=(e,t,n,s)=>{const r={};for(const a of e){const o=He(t,a);o&&an(r,a,o._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:s}},qv=e=>e instanceof RegExp,dm=e=>wn(e)?e:qv(e)?e.source:js(e)?qv(e.value)?e.value.source:e.value:e,lh=e=>({isOnSubmit:!e||e===zi.onSubmit,isOnBlur:e===zi.onBlur,isOnChange:e===zi.onChange,isOnAll:e===zi.all,isOnTouch:e===zi.onTouched});const YR="AsyncFunction";var I0e=e=>!!e&&!!e.validate&&!!(br(e.validate)&&e.validate.constructor.name===YR||js(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===YR)),L0e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),q2=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const vh=(e,t,n,s)=>{for(const r of n||Object.keys(e)){const a=He(e,r);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],r)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(vh(l,t))break}else if(js(l)&&vh(l,t))break}}};function JR(e,t,n){const s=He(e,n);if(s||Ob(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),o=He(t,a),l=He(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};r.pop()}return{name:n}}var $0e=(e,t,n,s)=>{n(e);const{name:r,...a}=e;return ar(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!s||zi.all))},V0e=(e,t,n)=>!e||!t||e===t||Vr(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),B0e=(e,t,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(t||e):(n?s.isOnBlur:r.isOnBlur)?!e:(n?s.isOnChange:r.isOnChange)?e:!0,F0e=(e,t)=>!Db(He(e,t)).length&&ds(e,t),RV=(e,t,n)=>{const s=Vr(He(e,n));return an(s,"root",t[n]),an(e,n,s),e};function XR(e,t,n="validate"){if(ri(e)||Array.isArray(e)&&e.every(ri)||ti(e)&&!e)return{type:n,message:ri(e)?e:"",ref:t}}var Vd=e=>js(e)&&!qv(e)?e:{value:e,message:""},Z2=async(e,t,n,s,r,a)=>{const{ref:o,refs:l,required:u,maxLength:d,minLength:f,min:m,max:g,pattern:x,validate:b,name:w,valueAsNumber:j,mount:k}=e._f,S=He(n,w);if(!k||t.has(w))return{};const C=l?l[0]:o,E=q=>{r&&C.reportValidity&&(C.setCustomValidity(ti(q)?"":q||""),C.reportValidity())},T={},M=uE(o),z=_g(o),A=M||z,D=(j||cE(o))&&wn(o.value)&&wn(S)||Hv(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,B=_V.bind(null,w,s,T),$=(q,Z,F,J=jo.maxLength,P=jo.minLength)=>{const I=q?Z:F;T[w]={type:q?J:P,message:I,ref:o,...B(q?J:P,I)}};if(a?!Array.isArray(S)||!S.length:u&&(!A&&(D||Ir(S))||ti(S)&&!S||z&&!zV(l).isValid||M&&!AV(l).isValid)){const{value:q,message:Z}=ri(u)?{value:!!u,message:u}:Vd(u);if(q&&(T[w]={type:jo.required,message:Z,ref:C,...B(jo.required,Z)},!s))return E(Z),T}if(!D&&(!Ir(m)||!Ir(g))){let q,Z;const F=Vd(g),J=Vd(m);if(!Ir(S)&&!isNaN(S)){const P=o.valueAsNumber||S&&+S;Ir(F.value)||(q=P>F.value),Ir(J.value)||(Z=P<J.value)}else{const P=o.valueAsDate||new Date(S),I=U=>new Date(new Date().toDateString()+" "+U),L=o.type=="time",G=o.type=="week";ri(F.value)&&S&&(q=L?I(S)>I(F.value):G?S>F.value:P>new Date(F.value)),ri(J.value)&&S&&(Z=L?I(S)<I(J.value):G?S<J.value:P<new Date(J.value))}if((q||Z)&&($(!!q,F.message,J.message,jo.max,jo.min),!s))return E(T[w].message),T}if((d||f)&&!D&&(ri(S)||a&&Array.isArray(S))){const q=Vd(d),Z=Vd(f),F=!Ir(q.value)&&S.length>+q.value,J=!Ir(Z.value)&&S.length<+Z.value;if((F||J)&&($(F,q.message,Z.message),!s))return E(T[w].message),T}if(x&&!D&&ri(S)){const{value:q,message:Z}=Vd(x);if(qv(q)&&!S.match(q)&&(T[w]={type:jo.pattern,message:Z,ref:o,...B(jo.pattern,Z)},!s))return E(Z),T}if(b){if(br(b)){const q=await b(S,n),Z=XR(q,C);if(Z&&(T[w]={...Z,...B(jo.validate,Z.message)},!s))return E(Z.message),T}else if(js(b)){let q={};for(const Z in b){if(!ar(q)&&!s)break;const F=XR(await b[Z](S,n),C,Z);F&&(q={...F,...B(Z,F.message)},E(F.message),s&&(T[w]=q))}if(!ar(q)&&(T[w]={ref:C,...q},!s))return T}}return E(!0),T};const U0e={mode:zi.onSubmit,reValidateMode:zi.onChange,shouldFocusError:!0};function H0e(e={}){let t={...U0e,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:br(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},r=js(t.defaultValues)||js(t.values)?zn(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:zn(r),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={...f};let g={...m};const x={array:qR(),state:qR()},b=t.criteriaMode===zi.all,w=X=>oe=>{clearTimeout(d),d=setTimeout(X,oe)},j=async X=>{if(!o.keepIsValid&&!t.disabled&&(m.isValid||g.isValid||X)){let oe;t.resolver?(oe=ar((await A()).errors),k()):oe=await B(s,!0),oe!==n.isValid&&x.state.next({isValid:oe})}},k=(X,oe)=>{!t.disabled&&(m.isValidating||m.validatingFields||g.isValidating||g.validatingFields)&&((X||Array.from(l.mount)).forEach(me=>{me&&(oe?an(n.validatingFields,me,oe):ds(n.validatingFields,me))}),x.state.next({validatingFields:n.validatingFields,isValidating:!ar(n.validatingFields)}))},S=(X,oe=[],me,ze,Ae=!0,Ce=!0)=>{if(ze&&me&&!t.disabled){if(o.action=!0,Ce&&Array.isArray(He(s,X))){const Fe=me(He(s,X),ze.argA,ze.argB);Ae&&an(s,X,Fe)}if(Ce&&Array.isArray(He(n.errors,X))){const Fe=me(He(n.errors,X),ze.argA,ze.argB);Ae&&an(n.errors,X,Fe),F0e(n.errors,X)}if((m.touchedFields||g.touchedFields)&&Ce&&Array.isArray(He(n.touchedFields,X))){const Fe=me(He(n.touchedFields,X),ze.argA,ze.argB);Ae&&an(n.touchedFields,X,Fe)}(m.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Jd(r,a)),x.state.next({name:X,isDirty:q(X,oe),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else an(a,X,oe)},C=(X,oe)=>{an(n.errors,X,oe),x.state.next({errors:n.errors})},E=X=>{n.errors=X,x.state.next({errors:n.errors,isValid:!1})},T=(X,oe,me,ze)=>{const Ae=He(s,X);if(Ae){const Ce=He(a,X,wn(me)?He(r,X):me);wn(Ce)||ze&&ze.defaultChecked||oe?an(a,X,oe?Ce:GR(Ae._f)):J(X,Ce),o.mount&&!o.action&&j()}},M=(X,oe,me,ze,Ae)=>{let Ce=!1,Fe=!1;const ot={name:X};if(!t.disabled){if(!me||ze){(m.isDirty||g.isDirty)&&(Fe=n.isDirty,n.isDirty=ot.isDirty=q(),Ce=Fe!==ot.isDirty);const Te=sa(He(r,X),oe);Fe=!!He(n.dirtyFields,X),Te?ds(n.dirtyFields,X):an(n.dirtyFields,X,!0),ot.dirtyFields=n.dirtyFields,Ce=Ce||(m.dirtyFields||g.dirtyFields)&&Fe!==!Te}if(me){const Te=He(n.touchedFields,X);Te||(an(n.touchedFields,X,me),ot.touchedFields=n.touchedFields,Ce=Ce||(m.touchedFields||g.touchedFields)&&Te!==me)}Ce&&Ae&&x.state.next(ot)}return Ce?ot:{}},z=(X,oe,me,ze)=>{const Ae=He(n.errors,X),Ce=(m.isValid||g.isValid)&&ti(oe)&&n.isValid!==oe;if(t.delayError&&me?(u=w(()=>C(X,me)),u(t.delayError)):(clearTimeout(d),u=null,me?an(n.errors,X,me):ds(n.errors,X)),(me?!sa(Ae,me):Ae)||!ar(ze)||Ce){const Fe={...ze,...Ce&&ti(oe)?{isValid:oe}:{},errors:n.errors,name:X};n={...n,...Fe},x.state.next(Fe)}},A=async X=>(k(X,!0),await t.resolver(a,t.context,P0e(X||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation))),D=async X=>{const{errors:oe}=await A(X);if(k(X),X)for(const me of X){const ze=He(oe,me);ze?an(n.errors,me,ze):ds(n.errors,me)}else n.errors=oe;return oe},B=async(X,oe,me={valid:!0})=>{for(const ze in X){const Ae=X[ze];if(Ae){const{_f:Ce,...Fe}=Ae;if(Ce){const ot=l.array.has(Ce.name),Te=Ae._f&&I0e(Ae._f);Te&&m.validatingFields&&k([Ce.name],!0);const Ue=await Z2(Ae,l.disabled,a,b,t.shouldUseNativeValidation&&!oe,ot);if(Te&&m.validatingFields&&k([Ce.name]),Ue[Ce.name]&&(me.valid=!1,oe||e.shouldUseNativeValidation))break;!oe&&(He(Ue,Ce.name)?ot?RV(n.errors,Ue,Ce.name):an(n.errors,Ce.name,Ue[Ce.name]):ds(n.errors,Ce.name))}!ar(Fe)&&await B(Fe,oe,me)}}return me.valid},$=()=>{for(const X of l.unMount){const oe=He(s,X);oe&&(oe._f.refs?oe._f.refs.every(me=>!$k(me)):!$k(oe._f.ref))&&le(X)}l.unMount=new Set},q=(X,oe)=>!t.disabled&&(X&&oe&&an(a,X,oe),!sa(R(),r)),Z=(X,oe,me)=>F2(X,l,{...o.mount?a:wn(oe)?r:ri(X)?{[X]:oe}:oe},me,oe),F=X=>Db(He(o.mount?a:r,X,t.shouldUnregister?He(r,X,[]):[])),J=(X,oe,me={})=>{const ze=He(s,X);let Ae=oe;if(ze){const Ce=ze._f;Ce&&(!Ce.disabled&&an(a,X,MV(oe,Ce)),Ae=Hv(Ce.ref)&&Ir(oe)?"":oe,EV(Ce.ref)?[...Ce.ref.options].forEach(Fe=>Fe.selected=Ae.includes(Fe.value)):Ce.refs?_g(Ce.ref)?Ce.refs.forEach(Fe=>{(!Fe.defaultChecked||!Fe.disabled)&&(Array.isArray(Ae)?Fe.checked=!!Ae.find(ot=>ot===Fe.value):Fe.checked=Ae===Fe.value||!!Ae)}):Ce.refs.forEach(Fe=>Fe.checked=Fe.value===Ae):cE(Ce.ref)?Ce.ref.value="":(Ce.ref.value=Ae,Ce.ref.type||x.state.next({name:X,values:zn(a)})))}(me.shouldDirty||me.shouldTouch)&&M(X,Ae,me.shouldTouch,me.shouldDirty,!0),me.shouldValidate&&U(X)},P=(X,oe,me)=>{for(const ze in oe){if(!oe.hasOwnProperty(ze))return;const Ae=oe[ze],Ce=X+"."+ze,Fe=He(s,Ce);(l.array.has(X)||js(Ae)||Fe&&!Fe._f)&&!su(Ae)?P(Ce,Ae,me):J(Ce,Ae,me)}},I=(X,oe,me={})=>{const ze=He(s,X),Ae=l.array.has(X),Ce=zn(oe);an(a,X,Ce),Ae?(x.array.next({name:X,values:zn(a)}),(m.isDirty||m.dirtyFields||g.isDirty||g.dirtyFields)&&me.shouldDirty&&x.state.next({name:X,dirtyFields:Jd(r,a),isDirty:q(X,Ce)})):ze&&!ze._f&&!Ir(Ce)?P(X,Ce,me):J(X,Ce,me),q2(X,l)?x.state.next({...n,name:X,values:zn(a)}):x.state.next({name:o.mount?X:void 0,values:zn(a)})},L=async X=>{o.mount=!0;const oe=X.target;let me=oe.name,ze=!0;const Ae=He(s,me),Ce=Te=>{ze=Number.isNaN(Te)||su(Te)&&isNaN(Te.getTime())||sa(Te,He(a,me,Te))},Fe=lh(t.mode),ot=lh(t.reValidateMode);if(Ae){let Te,Ue;const tt=oe.type?GR(Ae._f):jV(X),Ge=X.type===Uv.BLUR||X.type===Uv.FOCUS_OUT,mt=!L0e(Ae._f)&&!t.resolver&&!He(n.errors,me)&&!Ae._f.deps||B0e(Ge,He(n.touchedFields,me),n.isSubmitted,ot,Fe),Nt=q2(me,l,Ge);an(a,me,tt),Ge?(!oe||!oe.readOnly)&&(Ae._f.onBlur&&Ae._f.onBlur(X),u&&u(0)):Ae._f.onChange&&Ae._f.onChange(X);const Rt=M(me,tt,Ge),ln=!ar(Rt)||Nt;if(!Ge&&x.state.next({name:me,type:X.type,values:zn(a)}),mt)return(m.isValid||g.isValid)&&(t.mode==="onBlur"?Ge&&j():Ge||j()),ln&&x.state.next({name:me,...Nt?{}:Rt});if(!Ge&&Nt&&x.state.next({...n}),t.resolver){const{errors:xr}=await A([me]);if(k([me]),Ce(tt),ze){const Kn=JR(n.errors,s,me),Ye=JR(xr,s,Kn.name||me);Te=Ye.error,me=Ye.name,Ue=ar(xr)}}else k([me],!0),Te=(await Z2(Ae,l.disabled,a,b,t.shouldUseNativeValidation))[me],k([me]),Ce(tt),ze&&(Te?Ue=!1:(m.isValid||g.isValid)&&(Ue=await B(s,!0)));ze&&(Ae._f.deps&&(!Array.isArray(Ae._f.deps)||Ae._f.deps.length>0)&&U(Ae._f.deps),z(me,Ue,Te,Rt))}},G=(X,oe)=>{if(He(n.errors,oe)&&X.focus)return X.focus(),1},U=async(X,oe={})=>{let me,ze;const Ae=Vr(X);if(t.resolver){const Ce=await D(wn(X)?X:Ae);me=ar(Ce),ze=X?!Ae.some(Fe=>He(Ce,Fe)):me}else X?(ze=(await Promise.all(Ae.map(async Ce=>{const Fe=He(s,Ce);return await B(Fe&&Fe._f?{[Ce]:Fe}:Fe)}))).every(Boolean),!(!ze&&!n.isValid)&&j()):ze=me=await B(s);return x.state.next({...!ri(X)||(m.isValid||g.isValid)&&me!==n.isValid?{}:{name:X},...t.resolver||!X?{isValid:me}:{},errors:n.errors}),oe.shouldFocus&&!ze&&vh(s,G,X?Ae:l.mount),ze},R=(X,oe)=>{let me={...o.mount?a:r};return oe&&(me=CV(oe.dirtyFields?n.dirtyFields:n.touchedFields,me)),wn(X)?me:ri(X)?He(me,X):X.map(ze=>He(me,ze))},H=(X,oe)=>({invalid:!!He((oe||n).errors,X),isDirty:!!He((oe||n).dirtyFields,X),error:He((oe||n).errors,X),isValidating:!!He(n.validatingFields,X),isTouched:!!He((oe||n).touchedFields,X)}),K=X=>{X&&Vr(X).forEach(oe=>ds(n.errors,oe)),x.state.next({errors:X?n.errors:{}})},ne=(X,oe,me)=>{const ze=(He(s,X,{_f:{}})._f||{}).ref,Ae=He(n.errors,X)||{},{ref:Ce,message:Fe,type:ot,...Te}=Ae;an(n.errors,X,{...Te,...oe,ref:ze}),x.state.next({name:X,errors:n.errors,isValid:!1}),me&&me.shouldFocus&&ze&&ze.focus&&ze.focus()},ce=(X,oe)=>br(X)?x.state.subscribe({next:me=>"values"in me&&X(Z(void 0,oe),me)}):Z(X,oe,!0),ue=X=>x.state.subscribe({next:oe=>{V0e(X.name,oe.name,X.exact)&&$0e(oe,X.formState||m,kt,X.reRenderRoot)&&X.callback({values:{...a},...n,...oe,defaultValues:r})}}).unsubscribe,Y=X=>(o.mount=!0,g={...g,...X.formState},ue({...X,formState:{...f,...X.formState}})),le=(X,oe={})=>{for(const me of X?Vr(X):l.mount)l.mount.delete(me),l.array.delete(me),oe.keepValue||(ds(s,me),ds(a,me)),!oe.keepError&&ds(n.errors,me),!oe.keepDirty&&ds(n.dirtyFields,me),!oe.keepTouched&&ds(n.touchedFields,me),!oe.keepIsValidating&&ds(n.validatingFields,me),!t.shouldUnregister&&!oe.keepDefaultValue&&ds(r,me);x.state.next({values:zn(a)}),x.state.next({...n,...oe.keepDirty?{isDirty:q()}:{}}),!oe.keepIsValid&&j()},he=({disabled:X,name:oe})=>{if(ti(X)&&o.mount||X||l.disabled.has(oe)){const Ae=l.disabled.has(oe)!==!!X;X?l.disabled.add(oe):l.disabled.delete(oe),Ae&&o.mount&&!o.action&&j()}},be=(X,oe={})=>{let me=He(s,X);const ze=ti(oe.disabled)||ti(t.disabled);return an(s,X,{...me||{},_f:{...me&&me._f?me._f:{ref:{name:X}},name:X,mount:!0,...oe}}),l.mount.add(X),me?he({disabled:ti(oe.disabled)?oe.disabled:t.disabled,name:X}):T(X,!0,oe.value),{...ze?{disabled:oe.disabled||t.disabled}:{},...t.progressive?{required:!!oe.required,min:dm(oe.min),max:dm(oe.max),minLength:dm(oe.minLength),maxLength:dm(oe.maxLength),pattern:dm(oe.pattern)}:{},name:X,onChange:L,onBlur:L,ref:Ae=>{if(Ae){be(X,oe),me=He(s,X);const Ce=wn(Ae.value)&&Ae.querySelectorAll&&Ae.querySelectorAll("input,select,textarea")[0]||Ae,Fe=A0e(Ce),ot=me._f.refs||[];if(Fe?ot.find(Te=>Te===Ce):Ce===me._f.ref)return;an(s,X,{_f:{...me._f,...Fe?{refs:[...ot.filter($k),Ce,...Array.isArray(He(r,X))?[{}]:[]],ref:{type:Ce.type,name:X}}:{ref:Ce}}}),T(X,!1,void 0,Ce)}else me=He(s,X,{}),me._f&&(me._f.mount=!1),(t.shouldUnregister||oe.shouldUnregister)&&!(kV(l.array,X)&&o.action)&&l.unMount.add(X)}}},we=()=>t.shouldFocusError&&vh(s,G,l.mount),xe=X=>{ti(X)&&(x.state.next({disabled:X}),vh(s,(oe,me)=>{const ze=He(s,me);ze&&(oe.disabled=ze._f.disabled||X,Array.isArray(ze._f.refs)&&ze._f.refs.forEach(Ae=>{Ae.disabled=ze._f.disabled||X}))},0,!1))},Me=(X,oe)=>async me=>{let ze;me&&(me.preventDefault&&me.preventDefault(),me.persist&&me.persist());let Ae=zn(a);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:Ce,values:Fe}=await A();k(),n.errors=Ce,Ae=zn(Fe)}else await B(s);if(l.disabled.size)for(const Ce of l.disabled)ds(Ae,Ce);if(ds(n.errors,"root"),ar(n.errors)){x.state.next({errors:{}});try{await X(Ae,me)}catch(Ce){ze=Ce}}else oe&&await oe({...n.errors},me),we(),setTimeout(we);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ar(n.errors)&&!ze,submitCount:n.submitCount+1,errors:n.errors}),ze)throw ze},re=(X,oe={})=>{He(s,X)&&(wn(oe.defaultValue)?I(X,zn(He(r,X))):(I(X,oe.defaultValue),an(r,X,zn(oe.defaultValue))),oe.keepTouched||ds(n.touchedFields,X),oe.keepDirty||(ds(n.dirtyFields,X),n.isDirty=oe.defaultValue?q(X,zn(He(r,X))):q()),oe.keepError||(ds(n.errors,X),m.isValid&&j()),x.state.next({...n}))},Ee=(X,oe={})=>{const me=X?zn(X):r,ze=zn(me),Ae=ar(X),Ce=Ae?r:ze;if(oe.keepDefaultValues||(r=me),!oe.keepValues){if(oe.keepDirtyValues){const Fe=new Set([...l.mount,...Object.keys(Jd(r,a))]);for(const ot of Array.from(Fe)){const Te=He(n.dirtyFields,ot),Ue=He(a,ot),tt=He(Ce,ot);Te&&!wn(Ue)?an(Ce,ot,Ue):!Te&&!wn(tt)&&I(ot,tt)}}else{if(iE&&wn(X))for(const Fe of l.mount){const ot=He(s,Fe);if(ot&&ot._f){const Te=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(Hv(Te)){const Ue=Te.closest("form");if(Ue){Ue.reset();break}}}}if(oe.keepFieldsRef)for(const Fe of l.mount)I(Fe,He(Ce,Fe));else s={}}a=t.shouldUnregister?oe.keepDefaultValues?zn(r):{}:zn(Ce),x.array.next({values:{...Ce}}),x.state.next({values:{...Ce}})}l={mount:oe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!oe.keepIsValid||!!oe.keepDirtyValues||!t.shouldUnregister&&!ar(Ce),o.watch=!!t.shouldUnregister,o.keepIsValid=!!oe.keepIsValid,o.action=!1,oe.keepErrors||(n.errors={}),x.state.next({submitCount:oe.keepSubmitCount?n.submitCount:0,isDirty:Ae?!1:oe.keepDirty?n.isDirty:!!(oe.keepDefaultValues&&!sa(X,r)),isSubmitted:oe.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Ae?{}:oe.keepDirtyValues?oe.keepDefaultValues&&a?Jd(r,a):n.dirtyFields:oe.keepDefaultValues&&X?Jd(r,X):oe.keepDirty?n.dirtyFields:{},touchedFields:oe.keepTouched?n.touchedFields:{},errors:oe.keepErrors?n.errors:{},isSubmitSuccessful:oe.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},Ze=(X,oe)=>Ee(br(X)?X(a):X,{...t.resetOptions,...oe}),it=(X,oe={})=>{const me=He(s,X),ze=me&&me._f;if(ze){const Ae=ze.refs?ze.refs[0]:ze.ref;Ae.focus&&setTimeout(()=>{Ae.focus(),oe.shouldSelect&&br(Ae.select)&&Ae.select()})}},kt=X=>{n={...n,...X}},ct={control:{register:be,unregister:le,getFieldState:H,handleSubmit:Me,setError:ne,_subscribe:ue,_runSchema:A,_updateIsValidating:k,_focusError:we,_getWatch:Z,_getDirty:q,_setValid:j,_setFieldArray:S,_setDisabledField:he,_setErrors:E,_getFieldArray:F,_reset:Ee,_resetDefaultValues:()=>br(t.defaultValues)&&t.defaultValues().then(X=>{Ze(X,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:$,_disableForm:xe,_subjects:x,_proxyFormState:m,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(X){o=X},get _defaultValues(){return r},get _names(){return l},set _names(X){l=X},get _formState(){return n},get _options(){return t},set _options(X){t={...t,...X}}},subscribe:Y,trigger:U,register:be,handleSubmit:Me,watch:ce,setValue:I,getValues:R,reset:Ze,resetField:re,clearErrors:K,unregister:le,setError:ne,setFocus:it,getFieldState:H};return{...ct,formControl:ct}}var wl=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},Vk=(e,t,n={})=>n.shouldFocus||wn(n.shouldFocus)?n.focusName||`${e}.${wn(n.focusIndex)?t:n.focusIndex}.`:"",Bk=(e,t)=>[...e,...Vr(t)],Fk=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Uk(e,t,n){return[...e.slice(0,t),...Vr(n),...e.slice(t)]}var Hk=(e,t,n)=>Array.isArray(e)?(wn(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],qk=(e,t)=>[...Vr(t),...Vr(e)];function q0e(e,t){let n=0;const s=[...e];for(const r of t)s.splice(r-n,1),n++;return Db(s).length?s:[]}var Zk=(e,t)=>wn(t)?[]:q0e(e,Vr(t).sort((n,s)=>n-s)),Wk=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},QR=(e,t,n)=>(e[t]=n,e);function Z0e(e){const t=Pb(),{control:n=t,name:s,keyName:r="id",shouldUnregister:a,rules:o}=e,[l,u]=W.useState(n._getFieldArray(s)),d=W.useRef(n._getFieldArray(s).map(wl)),f=W.useRef(!1);n._names.array.add(s),W.useMemo(()=>o&&l.length>=0&&n.register(s,o),[n,s,l.length,o]),Ib(()=>n._subjects.array.subscribe({next:({values:E,name:T})=>{if(T===s||!T){const M=He(E,s);Array.isArray(M)&&(u(M),d.current=M.map(wl))}}}).unsubscribe,[n,s]);const m=W.useCallback(E=>{f.current=!0,n._setFieldArray(s,E)},[n,s]),g=(E,T)=>{const M=Vr(zn(E)),z=Bk(n._getFieldArray(s),M);n._names.focus=Vk(s,z.length-1,T),d.current=Bk(d.current,M.map(wl)),m(z),u(z),n._setFieldArray(s,z,Bk,{argA:Fk(E)})},x=(E,T)=>{const M=Vr(zn(E)),z=qk(n._getFieldArray(s),M);n._names.focus=Vk(s,0,T),d.current=qk(d.current,M.map(wl)),m(z),u(z),n._setFieldArray(s,z,qk,{argA:Fk(E)})},b=E=>{const T=Zk(n._getFieldArray(s),E);d.current=Zk(d.current,E),m(T),u(T),!Array.isArray(He(n._fields,s))&&an(n._fields,s,void 0),n._setFieldArray(s,T,Zk,{argA:E})},w=(E,T,M)=>{const z=Vr(zn(T)),A=Uk(n._getFieldArray(s),E,z);n._names.focus=Vk(s,E,M),d.current=Uk(d.current,E,z.map(wl)),m(A),u(A),n._setFieldArray(s,A,Uk,{argA:E,argB:Fk(T)})},j=(E,T)=>{const M=n._getFieldArray(s);Wk(M,E,T),Wk(d.current,E,T),m(M),u(M),n._setFieldArray(s,M,Wk,{argA:E,argB:T},!1)},k=(E,T)=>{const M=n._getFieldArray(s);Hk(M,E,T),Hk(d.current,E,T),m(M),u(M),n._setFieldArray(s,M,Hk,{argA:E,argB:T},!1)},S=(E,T)=>{const M=zn(T),z=QR(n._getFieldArray(s),E,M);d.current=[...z].map((A,D)=>!A||D===E?wl():d.current[D]),m(z),u([...z]),n._setFieldArray(s,z,QR,{argA:E,argB:M},!0,!1)},C=E=>{const T=Vr(zn(E));d.current=T.map(wl),m([...T]),u([...T]),n._setFieldArray(s,[...T],M=>M,{},!0,!1)};return W.useEffect(()=>{if(n._state.action=!1,q2(s,n._names)&&n._subjects.state.next({...n._formState}),f.current&&(!lh(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!lh(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([s]).then(E=>{n._updateIsValidating([s]);const T=He(E.errors,s),M=He(n._formState.errors,s);(M?!T&&M.type||T&&(M.type!==T.type||M.message!==T.message):T&&T.type)&&(T?an(n._formState.errors,s,T):ds(n._formState.errors,s),n._subjects.state.next({errors:n._formState.errors}))});else{const E=He(n._fields,s);E&&E._f&&!(lh(n._options.reValidateMode).isOnSubmit&&lh(n._options.mode).isOnSubmit)&&Z2(E,n._names.disabled,n._formValues,n._options.criteriaMode===zi.all,n._options.shouldUseNativeValidation,!0).then(T=>!ar(T)&&n._subjects.state.next({errors:RV(n._formState.errors,T,s)}))}n._subjects.state.next({name:s,values:zn(n._formValues)}),n._names.focus&&vh(n._fields,(E,T)=>{if(n._names.focus&&T.startsWith(n._names.focus)&&E.focus)return E.focus(),1}),n._names.focus="",n._setValid(),f.current=!1},[l,s,n]),W.useEffect(()=>(!He(n._formValues,s)&&n._setFieldArray(s),()=>{const E=(T,M)=>{const z=He(n._fields,T);z&&z._f&&(z._f.mount=M)};n._options.shouldUnregister||a?n.unregister(s):E(s,!1)}),[s,n,r,a]),{swap:W.useCallback(j,[m,s,n]),move:W.useCallback(k,[m,s,n]),prepend:W.useCallback(x,[m,s,n]),append:W.useCallback(g,[m,s,n]),remove:W.useCallback(b,[m,s,n]),insert:W.useCallback(w,[m,s,n]),update:W.useCallback(S,[m,s,n]),replace:W.useCallback(C,[m,s,n]),fields:W.useMemo(()=>l.map((E,T)=>({...E,[r]:d.current[T]||wl()})),[l,r])}}function Cg(e={}){const t=W.useRef(void 0),n=W.useRef(void 0),[s,r]=W.useState({isDirty:!1,isValidating:!1,isLoading:br(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:br(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!br(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=H0e(e);t.current={...l,formState:s}}const a=t.current.control;return a._options=e,Ib(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0});return r(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),W.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),W.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),W.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),W.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),W.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),W.useEffect(()=>{var o;e.values&&!sa(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),n.current=e.values,r(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),W.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=W.useMemo(()=>NV(s,a),[a,s]),t.current}const W0e=v.forwardRef(({className:e,...t},n)=>i.jsx("fieldset",{ref:n,className:se("space-y-2",e),...t}));W0e.displayName="FieldSet";const K0e=v.forwardRef(({className:e,...t},n)=>i.jsx("legend",{ref:n,className:se("text-sm font-medium leading-none",e),...t}));K0e.displayName="FieldLegend";const Xt=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:se("relative",e),...t}));Xt.displayName="Field";const mn=v.forwardRef(({className:e,hasDisabled:t,hasChecked:n,...s},r)=>i.jsx("label",{ref:r,"data-disabled":t,"data-checked":n,className:se("[&:has(:disabled)]:opacity-50","[&:has(:checked)]:has-checked","[&:has(:disabled)]:has-disabled",e),...s}));mn.displayName="FieldLabel";const $s=v.forwardRef(({className:e,errors:t,...n},s)=>{var a;const r=(a=t==null?void 0:t[0])==null?void 0:a.message;return r?i.jsx("p",{ref:s,className:se("text-sm text-destructive",e),...n,children:r}):null});$s.displayName="FieldError";const dE=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:se("flex flex-col gap-2",e),...t}));dE.displayName="FieldGroup";const hu=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:se("flex flex-col gap-0.5",e),...t}));hu.displayName="FieldContent";const fu=v.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:se("text-sm font-medium",e),...t}));fu.displayName="FieldTitle";const av=v.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:se("text-xs text-muted-foreground",e),...t}));av.displayName="FieldDescription";function G0e(e){const t=Y0e(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(X0e);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function Y0e(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=eve(r),l=Q0e(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Qa(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var J0e=Symbol("radix.slottable");function X0e(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===J0e}function Q0e(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function eve(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var tve=[" ","Enter","ArrowUp","ArrowDown"],nve=[" ","Enter"],Su="Select",[Lb,$b,sve]=tf(Su),[of]=pr(Su,[sve,rf]),Vb=rf(),[rve,dc]=of(Su),[ive,ave]=of(Su),OV=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:r,onOpenChange:a,value:o,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:m,disabled:g,required:x,form:b}=e,w=Vb(t),[j,k]=v.useState(null),[S,C]=v.useState(null),[E,T]=v.useState(!1),M=cc(d),[z,A]=Ur({prop:s,defaultProp:r??!1,onChange:a,caller:Su}),[D,B]=Ur({prop:o,defaultProp:l,onChange:u,caller:Su}),$=v.useRef(null),q=j?b||!!j.closest("form"):!0,[Z,F]=v.useState(new Set),J=Array.from(Z).map(P=>P.props.value).join(";");return i.jsx(MC,{...w,children:i.jsxs(rve,{required:x,scope:t,trigger:j,onTriggerChange:k,valueNode:S,onValueNodeChange:C,valueNodeHasChildren:E,onValueNodeHasChildrenChange:T,contentId:Nr(),value:D,onValueChange:B,open:z,onOpenChange:A,dir:M,triggerPointerDownPosRef:$,disabled:g,children:[i.jsx(Lb.Provider,{scope:t,children:i.jsx(ive,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(P=>{F(I=>new Set(I).add(P))},[]),onNativeOptionRemove:v.useCallback(P=>{F(I=>{const L=new Set(I);return L.delete(P),L})},[]),children:n})}),q?i.jsxs(rB,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:m,value:D,onChange:P=>B(P.target.value),disabled:g,form:b,children:[D===void 0?i.jsx("option",{value:""}):null,Array.from(Z)]},J):null]})})};OV.displayName=Su;var DV="SelectTrigger",PV=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...r}=e,a=Vb(n),o=dc(DV,n),l=o.disabled||s,u=St(t,o.onTriggerChange),d=$b(n),f=v.useRef("touch"),[m,g,x]=aB(w=>{const j=d().filter(C=>!C.disabled),k=j.find(C=>C.value===o.value),S=oB(j,w,k);S!==void 0&&o.onValueChange(S.value)}),b=w=>{l||(o.onOpenChange(!0),x()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return i.jsx(AC,{asChild:!0,...a,children:i.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":iB(o.value)?"":void 0,...r,ref:u,onClick:$e(r.onClick,w=>{w.currentTarget.focus(),f.current!=="mouse"&&b(w)}),onPointerDown:$e(r.onPointerDown,w=>{f.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:$e(r.onKeyDown,w=>{const j=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(j&&w.key===" ")&&tve.includes(w.key)&&(b(),w.preventDefault())})})})});PV.displayName=DV;var IV="SelectValue",LV=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:r,children:a,placeholder:o="",...l}=e,u=dc(IV,n),{onValueNodeHasChildrenChange:d}=u,f=a!==void 0,m=St(t,u.onValueNodeChange);return Vn(()=>{d(f)},[d,f]),i.jsx(Xe.span,{...l,ref:m,style:{pointerEvents:"none"},children:iB(u.value)?i.jsx(i.Fragment,{children:o}):a})});LV.displayName=IV;var ove="SelectIcon",$V=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...r}=e;return i.jsx(Xe.span,{"aria-hidden":!0,...r,ref:t,children:s||""})});$V.displayName=ove;var lve="SelectPortal",VV=e=>i.jsx(ug,{asChild:!0,...e});VV.displayName=lve;var _u="SelectContent",BV=v.forwardRef((e,t)=>{const n=dc(_u,e.__scopeSelect),[s,r]=v.useState();if(Vn(()=>{r(new DocumentFragment)},[]),!n.open){const a=s;return a?ia.createPortal(i.jsx(FV,{scope:e.__scopeSelect,children:i.jsx(Lb.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(UV,{...e,ref:t})});BV.displayName=_u;var ea=10,[FV,hc]=of(_u),cve="SelectContentImpl",uve=G0e("SelectContent.RemoveScroll"),UV=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:w,avoidCollisions:j,...k}=e,S=dc(_u,n),[C,E]=v.useState(null),[T,M]=v.useState(null),z=St(t,Y=>E(Y)),[A,D]=v.useState(null),[B,$]=v.useState(null),q=$b(n),[Z,F]=v.useState(!1),J=v.useRef(!1);v.useEffect(()=>{if(C)return nC(C)},[C]),tC();const P=v.useCallback(Y=>{const[le,...he]=q().map(xe=>xe.ref.current),[be]=he.slice(-1),we=document.activeElement;for(const xe of Y)if(xe===we||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===le&&T&&(T.scrollTop=0),xe===be&&T&&(T.scrollTop=T.scrollHeight),xe==null||xe.focus(),document.activeElement!==we))return},[q,T]),I=v.useCallback(()=>P([A,C]),[P,A,C]);v.useEffect(()=>{Z&&I()},[Z,I]);const{onOpenChange:L,triggerPointerDownPosRef:G}=S;v.useEffect(()=>{if(C){let Y={x:0,y:0};const le=be=>{var we,xe;Y={x:Math.abs(Math.round(be.pageX)-(((we=G.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(be.pageY)-(((xe=G.current)==null?void 0:xe.y)??0))}},he=be=>{Y.x<=10&&Y.y<=10?be.preventDefault():C.contains(be.target)||L(!1),document.removeEventListener("pointermove",le),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",le),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",le),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,L,G]),v.useEffect(()=>{const Y=()=>L(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[L]);const[U,R]=aB(Y=>{const le=q().filter(we=>!we.disabled),he=le.find(we=>we.ref.current===document.activeElement),be=oB(le,Y,he);be&&setTimeout(()=>be.ref.current.focus())}),H=v.useCallback((Y,le,he)=>{const be=!J.current&&!he;(S.value!==void 0&&S.value===le||be)&&(D(Y),be&&(J.current=!0))},[S.value]),K=v.useCallback(()=>C==null?void 0:C.focus(),[C]),ne=v.useCallback((Y,le,he)=>{const be=!J.current&&!he;(S.value!==void 0&&S.value===le||be)&&$(Y)},[S.value]),ce=s==="popper"?W2:HV,ue=ce===W2?{side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:w,avoidCollisions:j}:{};return i.jsx(FV,{scope:n,content:C,viewport:T,onViewportChange:M,itemRefCallback:H,selectedItem:A,onItemLeave:K,itemTextRefCallback:ne,focusSelectedItem:I,selectedItemText:B,position:s,isPositioned:Z,searchRef:U,children:i.jsx(xb,{as:uve,allowPinchZoom:!0,children:i.jsx(pb,{asChild:!0,trapped:S.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:$e(r,Y=>{var le;(le=S.trigger)==null||le.focus({preventScroll:!0}),Y.preventDefault()}),children:i.jsx(ef,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:i.jsx(ce,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:Y=>Y.preventDefault(),...k,...ue,onPlaced:()=>F(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:$e(k.onKeyDown,Y=>{const le=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!le&&Y.key.length===1&&R(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let be=q().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const we=Y.target,xe=be.indexOf(we);be=be.slice(xe+1)}setTimeout(()=>P(be)),Y.preventDefault()}})})})})})})});UV.displayName=cve;var dve="SelectItemAlignedPosition",HV=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...r}=e,a=dc(_u,n),o=hc(_u,n),[l,u]=v.useState(null),[d,f]=v.useState(null),m=St(t,z=>f(z)),g=$b(n),x=v.useRef(!1),b=v.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:k,focusSelectedItem:S}=o,C=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&w&&j&&k){const z=a.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),B=k.getBoundingClientRect();if(a.dir!=="rtl"){const we=B.left-A.left,xe=D.left-we,Me=z.left-xe,re=z.width+Me,Ee=Math.max(re,A.width),Ze=window.innerWidth-ea,it=D2(xe,[ea,Math.max(ea,Ze-Ee)]);l.style.minWidth=re+"px",l.style.left=it+"px"}else{const we=A.right-B.right,xe=window.innerWidth-D.right-we,Me=window.innerWidth-z.right-xe,re=z.width+Me,Ee=Math.max(re,A.width),Ze=window.innerWidth-ea,it=D2(xe,[ea,Math.max(ea,Ze-Ee)]);l.style.minWidth=re+"px",l.style.right=it+"px"}const $=g(),q=window.innerHeight-ea*2,Z=w.scrollHeight,F=window.getComputedStyle(d),J=parseInt(F.borderTopWidth,10),P=parseInt(F.paddingTop,10),I=parseInt(F.borderBottomWidth,10),L=parseInt(F.paddingBottom,10),G=J+P+Z+L+I,U=Math.min(j.offsetHeight*5,G),R=window.getComputedStyle(w),H=parseInt(R.paddingTop,10),K=parseInt(R.paddingBottom,10),ne=z.top+z.height/2-ea,ce=q-ne,ue=j.offsetHeight/2,Y=j.offsetTop+ue,le=J+P+Y,he=G-le;if(le<=ne){const we=$.length>0&&j===$[$.length-1].ref.current;l.style.bottom="0px";const xe=d.clientHeight-w.offsetTop-w.offsetHeight,Me=Math.max(ce,ue+(we?K:0)+xe+I),re=le+Me;l.style.height=re+"px"}else{const we=$.length>0&&j===$[0].ref.current;l.style.top="0px";const Me=Math.max(ne,J+w.offsetTop+(we?H:0)+ue)+he;l.style.height=Me+"px",w.scrollTop=le-ne+w.offsetTop}l.style.margin=`${ea}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=q+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[g,a.trigger,a.valueNode,l,d,w,j,k,a.dir,s]);Vn(()=>C(),[C]);const[E,T]=v.useState();Vn(()=>{d&&T(window.getComputedStyle(d).zIndex)},[d]);const M=v.useCallback(z=>{z&&b.current===!0&&(C(),S==null||S(),b.current=!1)},[C,S]);return i.jsx(fve,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:M,children:i.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:i.jsx(Xe.div,{...r,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});HV.displayName=dve;var hve="SelectPopperPosition",W2=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=ea,...a}=e,o=Vb(n);return i.jsx(RC,{...o,...a,ref:t,align:s,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});W2.displayName=hve;var[fve,hE]=of(_u,{}),K2="SelectViewport",qV=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...r}=e,a=hc(K2,n),o=hE(K2,n),l=St(t,a.onViewportChange),u=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Lb.Slot,{scope:n,children:i.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:$e(r.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&m){const x=Math.abs(u.current-f.scrollTop);if(x>0){const b=window.innerHeight-ea*2,w=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),k=Math.max(w,j);if(k<b){const S=k+x,C=Math.min(b,S),E=S-C;m.style.height=C+"px",m.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});qV.displayName=K2;var ZV="SelectGroup",[mve,pve]=of(ZV),gve=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=Nr();return i.jsx(mve,{scope:n,id:r,children:i.jsx(Xe.div,{role:"group","aria-labelledby":r,...s,ref:t})})});gve.displayName=ZV;var WV="SelectLabel",KV=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=pve(WV,n);return i.jsx(Xe.div,{id:r.id,...s,ref:t})});KV.displayName=WV;var Zv="SelectItem",[xve,GV]=of(Zv),YV=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:a,...o}=e,l=dc(Zv,n),u=hc(Zv,n),d=l.value===s,[f,m]=v.useState(a??""),[g,x]=v.useState(!1),b=St(t,S=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,S,s,r)}),w=Nr(),j=v.useRef("touch"),k=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(xve,{scope:n,value:s,disabled:r,textId:w,isSelected:d,onItemTextChange:v.useCallback(S=>{m(C=>C||((S==null?void 0:S.textContent)??"").trim())},[]),children:i.jsx(Lb.ItemSlot,{scope:n,value:s,disabled:r,textValue:f,children:i.jsx(Xe.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:b,onFocus:$e(o.onFocus,()=>x(!0)),onBlur:$e(o.onBlur,()=>x(!1)),onClick:$e(o.onClick,()=>{j.current!=="mouse"&&k()}),onPointerUp:$e(o.onPointerUp,()=>{j.current==="mouse"&&k()}),onPointerDown:$e(o.onPointerDown,S=>{j.current=S.pointerType}),onPointerMove:$e(o.onPointerMove,S=>{var C;j.current=S.pointerType,r?(C=u.onItemLeave)==null||C.call(u):j.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:$e(o.onPointerLeave,S=>{var C;S.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:$e(o.onKeyDown,S=>{var E;((E=u.searchRef)==null?void 0:E.current)!==""&&S.key===" "||(nve.includes(S.key)&&k(),S.key===" "&&S.preventDefault())})})})})});YV.displayName=Zv;var Sm="SelectItemText",JV=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:r,...a}=e,o=dc(Sm,n),l=hc(Sm,n),u=GV(Sm,n),d=ave(Sm,n),[f,m]=v.useState(null),g=St(t,k=>m(k),u.onItemTextChange,k=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,k,u.value,u.disabled)}),x=f==null?void 0:f.textContent,b=v.useMemo(()=>i.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=d;return Vn(()=>(w(b),()=>j(b)),[w,j,b]),i.jsxs(i.Fragment,{children:[i.jsx(Xe.span,{id:u.textId,...a,ref:g}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ia.createPortal(a.children,o.valueNode):null]})});JV.displayName=Sm;var XV="SelectItemIndicator",QV=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return GV(XV,n).isSelected?i.jsx(Xe.span,{"aria-hidden":!0,...s,ref:t}):null});QV.displayName=XV;var G2="SelectScrollUpButton",eB=v.forwardRef((e,t)=>{const n=hc(G2,e.__scopeSelect),s=hE(G2,e.__scopeSelect),[r,a]=v.useState(!1),o=St(t,s.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;a(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(nB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});eB.displayName=G2;var Y2="SelectScrollDownButton",tB=v.forwardRef((e,t)=>{const n=hc(Y2,e.__scopeSelect),s=hE(Y2,e.__scopeSelect),[r,a]=v.useState(!1),o=St(t,s.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;a(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(nB,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});tB.displayName=Y2;var nB=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=e,a=hc("SelectScrollButton",n),o=v.useRef(null),l=$b(n),u=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>u(),[u]),Vn(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(Xe.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:$e(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:$e(r.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:$e(r.onPointerLeave,()=>{u()})})}),vve="SelectSeparator",sB=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return i.jsx(Xe.div,{"aria-hidden":!0,...s,ref:t})});sB.displayName=vve;var J2="SelectArrow",yve=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=Vb(n),a=dc(J2,n),o=hc(J2,n);return a.open&&o.position==="popper"?i.jsx(OC,{...r,...s,ref:t}):null});yve.displayName=J2;var bve="SelectBubbleInput",rB=v.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const r=v.useRef(null),a=St(s,r),o=Tb(t);return v.useEffect(()=>{const l=r.current;if(!l)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(m)}},[o,t]),i.jsx(Xe.select,{...n,style:{...U9,...n.style},ref:a,defaultValue:t})});rB.displayName=bve;function iB(e){return e===""||e===void 0}function aB(e){const t=On(e),n=v.useRef(""),s=v.useRef(0),r=v.useCallback(o=>{const l=n.current+o;t(l),(function u(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>u(""),1e3))})(l)},[t]),a=v.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,a]}function oB(e,t,n){const r=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=wve(e,Math.max(a,0));r.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function wve(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var jve=OV,lB=PV,kve=LV,Nve=$V,Sve=VV,cB=BV,_ve=qV,uB=KV,dB=YV,Cve=JV,Eve=QV,hB=eB,fB=tB,mB=sB;const As=jve,Rs=kve,ks=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(lB,{ref:s,className:se("!bg-background flex h-10 w-full items-center justify-between rounded-md border border-input px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(Nve,{asChild:!0,children:i.jsx(dr,{className:"h-4 w-4 opacity-50"})})]}));ks.displayName=lB.displayName;const pB=v.forwardRef(({className:e,...t},n)=>i.jsx(hB,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(wu,{className:"h-4 w-4"})}));pB.displayName=hB.displayName;const gB=v.forwardRef(({className:e,...t},n)=>i.jsx(fB,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(dr,{className:"h-4 w-4"})}));gB.displayName=fB.displayName;const Ns=v.forwardRef(({className:e,children:t,position:n="popper",...s},r)=>i.jsx(Sve,{children:i.jsxs(cB,{ref:r,className:se("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-secondary bg-popover text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",n==="popper"&&"data-[side=left]:-translate-x-1 data-[side=top]:-translate-y-1 data-[side=right]:translate-x-1 data-[side=bottom]:translate-y-1",e),position:n,...s,children:[i.jsx(pB,{}),i.jsx(_ve,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(gB,{})]})}));Ns.displayName=cB.displayName;const Tve=v.forwardRef(({className:e,...t},n)=>i.jsx(uB,{ref:n,className:se("py-1.5 pr-2 pl-8 font-semibold text-sm",e),...t}));Tve.displayName=uB.displayName;const wt=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(dB,{ref:s,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(Eve,{children:i.jsx(La,{className:"h-4 w-4"})})}),i.jsx(Cve,{children:t})]}));wt.displayName=dB.displayName;const zve=v.forwardRef(({className:e,...t},n)=>i.jsx(mB,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));zve.displayName=mB.displayName;const fr=v.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-1 ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));fr.displayName="Textarea";const Mve=()=>{const e=Cg({defaultValues:{firstName:"",lastName:"",email:"",subject:"",message:"",referrer:""}}),t=n=>{const s=`mailto:${pn.mailSupport}?subject=${n.subject}&body=Dobry den, jmenuji se ${n.firstName} ${n.lastName}, muj email je ${n.email}. %0D%0A${n.message}`;window.location.href=s};return i.jsx("section",{id:"contact",className:se("py-32"),children:i.jsxs("div",{className:"container mx-auto max-w-5xl rounded-2xl bg-muted/50 p-8 md:p-12 lg:p-16",children:[i.jsx("div",{className:"text-center",children:i.jsx("span",{className:"text-xs text-muted-foreground",children:"KONTAKT /"})}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-8 md:gap-10 lg:grid-cols-2 lg:grid-rows-[min-content_1fr]",children:[i.jsx("h2",{className:"order-1 text-4xl font-medium tracking-tight md:order-none md:text-5xl",children:"Spojte se s nami"}),i.jsx("div",{className:"order-2 md:order-none md:row-span-2",children:i.jsx("div",{className:"rounded-lg border border-border bg-background p-6",children:i.jsxs("form",{onSubmit:e.handleSubmit(t),className:"grid gap-6 sm:grid-cols-2",children:[i.jsx(jn,{control:e.control,name:"firstName",render:({field:n})=>i.jsxs(Xt,{children:[i.jsx(mn,{htmlFor:n.name,children:"Jmeno"}),i.jsx(Re,{...n,id:n.name,placeholder:"Jan"})]})}),i.jsx(jn,{control:e.control,name:"lastName",render:({field:n})=>i.jsxs(Xt,{children:[i.jsx(mn,{htmlFor:n.name,children:"Prijmeni"}),i.jsx(Re,{...n,id:n.name,placeholder:"Novak"})]})}),i.jsx(jn,{control:e.control,name:"email",render:({field:n})=>i.jsxs(Xt,{children:[i.jsx(mn,{htmlFor:n.name,children:"Email"}),i.jsx(Re,{...n,id:n.name,placeholder:"jan.novak@email.cz"})]})}),i.jsx(jn,{control:e.control,name:"subject",render:({field:n})=>i.jsxs(Xt,{children:[i.jsx(mn,{htmlFor:n.name,children:"Predmet"}),i.jsxs(As,{onValueChange:n.onChange,defaultValue:n.value,children:[i.jsx(ks,{id:n.name,className:"w-full",children:i.jsx(Rs,{placeholder:"Vyberte predmet"})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"Manualni Terapie",children:"Manualni Terapie"}),i.jsx(wt,{value:"Sportovni Rehabilitace",children:"Sportovni Rehabilitace"}),i.jsx(wt,{value:"Neurologicka Rehabilitace",children:"Neurologicka Rehabilitace"}),i.jsx(wt,{value:"Detska Fyzioterapie",children:"Detska Fyzioterapie"}),i.jsx(wt,{value:"Obecny Dotaz",children:"Obecny Dotaz"})]})]})]})}),i.jsx(jn,{control:e.control,name:"message",render:({field:n})=>i.jsxs(Xt,{className:"sm:col-span-2",children:[i.jsx(mn,{htmlFor:n.name,children:"Zprava"}),i.jsx(fr,{...n,id:n.name,placeholder:"Napiste nam svuj dotaz..."})]})}),i.jsx(jn,{control:e.control,name:"referrer",render:({field:n})=>i.jsxs(Xt,{className:"sm:col-span-2",children:[i.jsx(mn,{htmlFor:n.name,children:"Jak jste se o nas dozvedeli?"}),i.jsx(Re,{...n,id:n.name,placeholder:"Google / Doporuceni"})]})}),i.jsx(Q,{type:"submit",className:"sm:col-span-2",children:"Odeslat zpravu"}),i.jsxs("p",{className:"text-xs text-muted-foreground sm:col-span-2",children:["Odeslanim formulare souhlaste se zpracovanim vasich osobnich udaju v souladu s nasimi"," ",i.jsx("a",{href:"#",className:"text-primary hover:underline",children:"zasadami ochrany soukromi"}),"."]})]})})}),i.jsxs("div",{className:"order-3 my-6 md:order-none",children:[i.jsxs("ul",{className:"space-y-2 font-medium",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"flex size-6 shrink-0 items-center justify-center rounded-full bg-background",children:i.jsx(La,{className:"size-4"})}),"Popiste sve potize a pozadavky"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"flex size-6 shrink-0 items-center justify-center rounded-full bg-background",children:i.jsx(La,{className:"size-4"})}),"Obdrzite nabidku na miru"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"flex size-6 shrink-0 items-center justify-center rounded-full bg-background",children:i.jsx(La,{className:"size-4"})}),"Domluvte si osobni konzultaci"]})]}),i.jsx("p",{className:"my-6 font-bold",children:"Duvera vice nez 3000 klientu po cele Ceske republice"}),i.jsxs("div",{className:"grid grid-cols-2 place-items-center gap-8 md:grid-cols-4",children:[i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-1.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-2.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-3.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-4.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-5.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-6.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-7.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-8.svg",alt:"partner",className:"max-w-24 dark:invert"})]})]})]}),i.jsxs("div",{className:"mx-auto mt-16 grid gap-8 md:gap-12 lg:w-1/2 lg:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"mb-1.5 font-bold",children:"FAQ"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Prohledejte nasi kolekci"," ",i.jsx("a",{href:"#faq",onClick:n=>{var s;n.preventDefault(),(s=document.getElementById("faq"))==null||s.scrollIntoView({behavior:"smooth"})},className:"text-primary underline hover:underline",children:"casto kladenych otazek"})," ","o nasich sluzbach a kurzech."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-1.5 font-bold",children:"Kurzy"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Prozkoumejte nasi nabidku"," ",i.jsx(Be,{to:"/home/kurzy",className:"text-primary underline hover:underline",children:"profesionalnich kurzu"})," ","pro fyzioterapeuty vsech urovni."]})]})]})]})})},Ave=({className:e})=>{const t=[{src:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Posilovac guma",height:"23rem"},{src:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Masn pomcky",height:"28rem"},{src:"https://images.pexels.com/photos/4397840/pexels-photo-4397840.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Balann cvien",height:"12rem"}],n=[{src:"https://images.pexels.com/photos/3768131/pexels-photo-3768131.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Fyzioterapie",height:"13rem"},{src:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Rehabilitan cvien",height:"32rem"},{src:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Terapeutick pomcky",height:"18rem"}],s=[{src:"https://images.pexels.com/photos/4397840/pexels-photo-4397840.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Balann podloka",height:"32rem"},{src:"https://images.pexels.com/photos/3768131/pexels-photo-3768131.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Manuln terapie",height:"32rem"}],r=[{src:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Protahovac cvien",height:"13rem"},{src:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Masn terapie",height:"22.5rem"},{src:"https://images.pexels.com/photos/4397840/pexels-photo-4397840.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Rehabilitan sezen",height:"22rem"}];return i.jsx("section",{className:se("py-32",e),children:i.jsxs("div",{className:"relative container mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4 max-w-7xl mx-auto",children:[i.jsx("div",{className:"grid gap-4",children:t.map((a,o)=>i.jsx(ee.div,{initial:{opacity:0,scale:.9,y:50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsx("div",{className:"grid gap-4",children:n.map((a,o)=>i.jsx(ee.div,{initial:{opacity:0,scale:.9,y:-50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsx("div",{className:"grid gap-4",children:s.map((a,o)=>i.jsx(ee.div,{initial:{opacity:0,scale:.9,y:50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsxs("div",{className:"grid gap-4",children:[r.map((a,o)=>i.jsx(ee.div,{initial:{opacity:0,scale:.9,y:-50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o)),i.jsx("div",{className:"h-17 w-full rounded-2xl bg-muted"})]})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 md:grid-cols-4 max-w-7xl mx-auto",children:[i.jsx("div",{className:"grid gap-4",children:t.map((a,o)=>i.jsx(ee.div,{initial:{opacity:0,scale:.9,y:50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsx("div",{className:"grid gap-4",children:n.map((a,o)=>i.jsx(ee.div,{initial:{opacity:0,scale:.9,y:-50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsx("div",{className:"grid gap-4",children:s.map((a,o)=>i.jsx(ee.div,{initial:{opacity:0,scale:.9,y:50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsxs("div",{className:"grid gap-4",children:[r.map((a,o)=>i.jsx(ee.div,{initial:{opacity:0,scale:.9,y:-50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o)),i.jsx("div",{className:"h-17 w-full rounded-2xl bg-muted"})]})]})]})})},Rve=[{category:"Obecn",question:"Jak dlouho trv prmrn fyzioterapeutick lba?",answer:"Dlka lby zvis na druhu zrann a jeho zvanosti. Prmrn trv lba 4-8 tdn s 2-3 nvtvami tdn. Pi akutnch problmech mete vidt zlepen ji po prvnch sezench."},{category:"Obecn",question:"Potebuji doporuen od lkae?",answer:"V esk republice mete navtvit fyzioterapeuta i bez doporuen. Pro hradu zdravotn pojiovnou je vak nutn mt doporuen od praktickho lkae nebo specialisty."},{category:"Obecn",question:"Jak je rozdl mezi fyzioterapi a rehabilitac?",answer:"Fyzioterapie je soust rehabilitace. Rehabilitace je ir pojem zahrnujc celkov proces uzdraven, zatmco fyzioterapie se zamuje konkrtn na pohybov funkce pomoc cvien, mas a dalch technik."},{category:"Cvien",question:"Jak asto bych ml cviit doma?",answer:"Domc cvien je klov pro spnou rehabilitaci. Doporuujeme cviit 2-3x denn po 15-20 minut. V fyzioterapeut vm sestav individuln pln pizpsoben vaemu stavu."},{category:"Cvien",question:"Mu cviit, kdy m to bol?",answer:"Lehk nepjemnost pi cvien je normln, ale ostr nebo intenzivn bolest je varovnm. Plat pravidlo: cvien by nemlo zvyovat bolest vce ne na 3-4 na kle 0-10. Pi silnj bolesti cvien perute a konzultujte s fyzioterapeutem."},{category:"Cvien",question:"Jak poznm, e cvim sprvn?",answer:"Sprvn technika je zsadn. Mli byste ctit zapojen sprvnch sval, mt kontrolu nad pohybem a nedochzet k nhradnm pohybovm vzorcm. Pi pochybnostech vdy podejte fyzioterapeuta o kontrolu techniky."},{category:"Bolest",question:"Je normln, e m bol po terapii?",answer:"Lehk bolest sval nsledujc den po terapii je normln, podobn jako po cvien. Mla by ustoupit do 24-48 hodin. Pokud bolest petrvv nebo se zhoruje, kontaktujte svho fyzioterapeuta."},{category:"Bolest",question:"Jak dlouho trv, ne bolest odezn?",answer:"To zvis na pin bolesti. Akutn bolest me ustoupit za nkolik dn a tdn. Chronick bolest vyaduje del lbu, obvykle nkolik msc. Dleit je pravidelnost terapie a domcho cvien."},{category:"Bolest",question:"Pomh fyzioterapie pi chronick bolesti?",answer:"Ano, fyzioterapie je velmi efektivn pi lb chronick bolesti. Kombinuje aktivn cvien, manuln techniky a edukaci o bolesti. Clem je nejen zmrnit bolest, ale tak nauit vs, jak s n lpe fungovat."},{category:"Terapie",question:"Co mm vzt s sebou na prvn nvtvu?",answer:"Pineste doporuen od lkae (pokud ho mte), kartu pojiovny, pohodln obleen vhodn pro cvien a ppadn pedchoz lkask zprvy nebo vsledky vyeten tkajc se vaeho problmu."},{category:"Terapie",question:"Jak dlouho trv jedno sezen?",answer:"Standardn terapeutick sezen trv 30-60 minut. Prvn nvtva bv del (60-90 minut), protoe zahrnuje podrobn vyeten a vyhodnocen vaeho stavu."},{category:"Terapie",question:"Mohu si vybrat svho fyzioterapeuta?",answer:"Ano, mte prvo si vybrat fyzioterapeuta podle svch preferenc. Doporuujeme vybrat si terapeuta se specializac odpovdajc vaemu problmu, napklad sport, neurologie nebo ortopedie."},{category:"Ostatn",question:"Hrad fyzioterapii zdravotn pojiovna?",answer:"S doporuenm od lkae hrad zdravotn pojiovna vtinu fyzioterapeutickch slueb. Bez doporuen si platte plnou cenu. Rozsah hrazen pe zvis na va pojiovn."},{category:"Ostatn",question:"Mu chodit k fyzioterapeutovi preventivn?",answer:"Urit! Preventivn fyzioterapie je skvl zpsob, jak pedchzet zrannm, zejmna u sportovc nebo lid s fyzicky nronm zamstnnm. Pome vm udret sprvn pohybov vzorce a svalovou rovnovhu."},{category:"Ostatn",question:"Je fyzioterapie vhodn pro seniory?",answer:"Ano, fyzioterapie je vynikajc pro seniory. Pomh udrovat pohyblivost, slu a rovnovhu, co sniuje riziko pd. Cvien je vdy pizpsobeno individulnm monostem a potebm."}],Ove=["Obecn","Cvien","Bolest","Terapie","Ostatn"];function Dve({item:e,isOpen:t,onToggle:n}){return i.jsxs(ee.div,{layout:!0,initial:!1,className:se("cursor-pointer rounded-xl border border-transparent bg-background/60 backdrop-blur-sm transition-colors",t&&"border-sky-200/40 bg-background dark:border-sky-800/30"),whileHover:{scale:1.008,y:-2},transition:{type:"spring",stiffness:400,damping:30},children:[i.jsxs("button",{type:"button",onClick:n,className:"flex w-full items-center justify-between gap-4 px-6 py-5 text-left",children:[i.jsx("span",{className:"text-base font-medium leading-snug",children:e.question}),i.jsx(ee.span,{animate:{rotate:t?180:0},transition:{duration:.25,ease:"easeInOut"},className:"flex shrink-0 items-center justify-center",children:i.jsx(dr,{className:"size-5 text-muted-foreground"})})]}),i.jsx(gn,{initial:!1,children:t&&i.jsx(ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:[.4,0,.2,1]},className:"overflow-hidden",children:i.jsx("div",{className:"px-6 pb-5 text-[0.95rem] leading-relaxed text-muted-foreground",children:e.answer})})})]})}const Pve=({className:e})=>{const[t,n]=v.useState("Obecn"),[s,r]=v.useState("Obecn-0"),a=Rve.filter(o=>o.category===t);return i.jsx("section",{id:"faq",className:se("min-h-screen py-32",e),children:i.jsx("div",{className:"container mx-auto max-w-4xl",children:i.jsx("div",{className:"rounded-3xl bg-muted/40 px-6 py-16 sm:px-12 lg:px-16",children:i.jsxs("div",{className:"mx-auto max-w-3xl",children:[i.jsxs("div",{className:"mb-16 text-center",children:[i.jsx("span",{className:"mb-3 inline-block text-xs font-medium uppercase tracking-widest text-muted-foreground",children:"FAQ /"}),i.jsx("h2",{className:"text-3xl font-light tracking-tight lg:text-5xl",children:"asto kladen otzky"}),i.jsx("p",{className:"mx-auto mt-4 max-w-lg text-base text-muted-foreground",children:"Prohledejte nai kolekci asto kladench otzek o naich slubch a kurzech."})]}),i.jsx("div",{className:"mb-10 flex flex-wrap justify-center gap-2",children:Ove.map(o=>i.jsxs(ee.button,{type:"button",onClick:()=>{n(o),r(null)},className:se("relative rounded-full px-5 py-2 text-sm font-medium transition-colors",t===o?"text-sky-900 dark:text-sky-100":"text-muted-foreground hover:text-foreground"),whileHover:{scale:1.04},whileTap:{scale:.97},transition:{type:"spring",stiffness:500,damping:30},children:[t===o&&i.jsx(ee.div,{layoutId:"faq-tab-indicator",className:"absolute inset-0 rounded-full bg-sky-100 dark:bg-sky-900/40",transition:{type:"spring",stiffness:400,damping:30}}),i.jsx("span",{className:"relative z-10",children:o})]},o))}),i.jsx(gn,{mode:"wait",children:i.jsx(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25,ease:"easeOut"},className:"space-y-3",children:a.map((o,l)=>{const u=`${t}-${l}`;return i.jsx(Dve,{item:o,isOpen:s===u,onToggle:()=>r(s===u?null:u)},u)})},t)})]})})})})},Ive=Pve,Zl=(e,t,n)=>{const s=document.createElement(e),[r,a]=Array.isArray(t)?[void 0,t]:[t,n];return r&&Object.assign(s,r),a==null||a.forEach(o=>s.appendChild(o)),s},Lve=(e,t)=>{var n;return t==="left"?e.offsetLeft:(((n=e.offsetParent instanceof HTMLElement?e.offsetParent:null)==null?void 0:n.offsetWidth)??0)-e.offsetWidth-e.offsetLeft},$ve=e=>e.offsetWidth>0&&e.offsetHeight>0,Vve=(e,t)=>{!customElements.get(e)&&customElements.define(e,t)};function Bve(e,t,{reverse:n=!1}={}){const s=e.length;for(let r=n?s-1:0;n?r>=0:r<s;n?r--:r++)t(e[r],r)}function Fve(e,t,n,s){const r=t.formatToParts(e);n&&r.unshift({type:"prefix",value:n}),s&&r.push({type:"suffix",value:s});const a=[],o=[],l=[],u=[],d={},f=w=>`${w}:${d[w]=(d[w]??-1)+1}`;let m="",g=!1,x=!1;for(const w of r){m+=w.value;const j=w.type==="minusSign"||w.type==="plusSign"?"sign":w.type;j==="integer"?(g=!0,o.push(...w.value.split("").map(k=>({type:j,value:parseInt(k)})))):j==="group"?o.push({type:j,value:w.value}):j==="decimal"?(x=!0,l.push({type:j,value:w.value,key:f(j)})):j==="fraction"?l.push(...w.value.split("").map(k=>({type:j,value:parseInt(k),key:f(j),pos:-1-d[j]}))):(g||x?u:a).push({type:j,value:w.value,key:f(j)})}const b=[];for(let w=o.length-1;w>=0;w--){const j=o[w];b.unshift(j.type==="integer"?{...j,key:f(j.type),pos:d[j.type]}:{...j,key:f(j.type)})}return{pre:a,integer:b,fraction:l,post:u,valueAsString:m,value:typeof e=="string"?parseFloat(e):e}}const Uve=String.raw,Hve=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0})(),qve=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),eO=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,Wv="--_number-flow-d-opacity",fE="--_number-flow-d-width",Kv="--_number-flow-dx",mE="--_number-flow-d",Zve=(()=>{try{return CSS.registerProperty({name:Wv,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:Kv,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:fE,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:mE,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),Wve="var(--number-flow-char-height, 1em)",El="var(--number-flow-mask-height, 0.25em)",tO=`calc(${El} / 2)`,X2="var(--number-flow-mask-width, 0.5em)",Bc=`calc(${X2} / var(--scale-x))`,b0="#000 0, transparent 71%",Kve=Uve`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${Wve} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${fE}) / var(--width));transform:translateX(var(${Kv})) scaleX(var(--scale-x));margin:0 calc(-1 * ${X2});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${Bc},#000 calc(100% - ${Bc}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${El},#000 calc(100% - ${El}),transparent 100% ),radial-gradient(at bottom right,${b0}),radial-gradient(at bottom left,${b0}),radial-gradient(at top left,${b0}),radial-gradient(at top right,${b0});-webkit-mask-size:100% calc(100% - ${El} * 2),calc(100% - ${Bc} * 2) 100%,${Bc} ${El},${Bc} ${El},${Bc} ${El},${Bc} ${El};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${tO} ${X2};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${Kv})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${mE})}.digit__num,.number .section::after{padding:${tO} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${Wv}))}`,Gve=HTMLElement,Yve=qve&&Hve&&Zve;class xB extends Gve{constructor(){super(),this.created=!1,this.batched=!1;const{animated:t,...n}=this.constructor.defaultProps;this._animated=this.computedAnimated=t,Object.assign(this,n)}get animated(){return this._animated}set animated(t){var n;this.animated!==t&&(this._animated=t,(n=this.shadowRoot)==null||n.getAnimations().forEach(s=>s.finish()))}set data(t){var n;if(t==null)return;const{pre:s,integer:r,fraction:a,post:o,value:l}=t;if(this.created){const u=this._data;this._data=t,this.computedTrend=typeof this.trend=="function"?this.trend(u.value,l):this.trend,this.computedAnimated=Yve&&this._animated&&(!this.respectMotionPreference||!(eO!=null&&eO.matches))&&$ve(this),(n=this.plugins)==null||n.forEach(d=>{var f;return(f=d.onUpdate)==null?void 0:f.call(d,t,u,this)}),this.batched||this.willUpdate(),this._pre.update(s),this._num.update({integer:r,fraction:a}),this._post.update(o),this.batched||this.didUpdate()}else{this._data=t,this.attachShadow({mode:"open"});try{this._internals??(this._internals=this.attachInternals()),this._internals.role="img"}catch{}const u=document.createElement("style");u.textContent=Kve,this.shadowRoot.appendChild(u),this._pre=new sO(this,s,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new Jve(this,r,a),this.shadowRoot.appendChild(this._num.el),this._post=new sO(this,o,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=t.valueAsString}catch{}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const t=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(n=>n.finished)).then(()=>{t.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=t}}xB.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(e,t)=>Math.sign(t-e),respectMotionPreference:!0,plugins:void 0,digits:void 0};class Jve{constructor(t,n,s,{className:r,...a}={}){this.flow=t,this._integer=new nO(t,n,{justify:"right",part:"integer"}),this._fraction=new nO(t,s,{justify:"left",part:"fraction"}),this._inner=Zl("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=Zl("span",{...a,part:"number",className:`number ${r??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:t,fraction:n}){this._integer.update(t),this._fraction.update(n)}didUpdate(){const t=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const n=this._prevLeft-t.left,s=this.el.offsetWidth,r=this._prevWidth-s;this.el.style.setProperty("--width",String(s)),this.el.animate({[Kv]:[`${n}px`,"0px"],[fE]:[r,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class vB{constructor(t,n,{justify:s,className:r,...a},o){this.flow=t,this.children=new Map,this.onCharRemove=u=>()=>{this.children.delete(u)},this.justify=s;const l=n.map(u=>this.addChar(u).el);this.el=Zl("span",{...a,className:`section section--justify-${s} ${r??""}`},o?o(l):l)}addChar(t,{startDigitsAtZero:n=!1,...s}={}){const r=t.type==="integer"||t.type==="fraction"?new bB(this,t.type,n?0:t.value,t.pos,{...s,onRemove:this.onCharRemove(t.key)}):new Xve(this,t.type,t.value,{...s,onRemove:this.onCharRemove(t.key)});return this.children.set(t.key,r),r}unpop(t){t.el.removeAttribute("inert"),t.el.style.top="",t.el.style[this.justify]=""}pop(t){t.forEach(n=>{n.el.style.top=`${n.el.offsetTop}px`,n.el.style[this.justify]=`${Lve(n.el,this.justify)}px`}),t.forEach(n=>{n.el.setAttribute("inert",""),n.present=!1})}addNewAndUpdateExisting(t){const n=new Map,s=new Map,r=this.justify==="left",a=r?"prepend":"append";if(Bve(t,o=>{let l;this.children.has(o.key)?(l=this.children.get(o.key),s.set(o,l),this.unpop(l),l.present=!0):(l=this.addChar(o,{startDigitsAtZero:!0,animateIn:!0}),n.set(o,l)),this.el[a](l.el)},{reverse:r}),this.flow.computedAnimated){const o=this.el.getBoundingClientRect();n.forEach(l=>{l.willUpdate(o)})}n.forEach((o,l)=>{o.update(l.value)}),s.forEach((o,l)=>{o.update(l.value)})}willUpdate(){const t=this.el.getBoundingClientRect();this._prevOffset=t[this.justify],this.children.forEach(n=>n.willUpdate(t))}didUpdate(){const t=this.el.getBoundingClientRect();this.children.forEach(r=>r.didUpdate(t));const n=t[this.justify],s=this._prevOffset-n;s&&this.children.size&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class nO extends vB{update(t){const n=new Map;this.children.forEach((s,r)=>{t.find(a=>a.key===r)||n.set(r,s),this.unpop(s)}),this.addNewAndUpdateExisting(t),n.forEach(s=>{s instanceof bB&&s.update(0)}),this.pop(n)}}class sO extends vB{update(t){const n=new Map;this.children.forEach((s,r)=>{t.find(a=>a.key===r)||n.set(r,s)}),this.pop(n),this.addNewAndUpdateExisting(t)}}class Q2{constructor(t,n,{onRemove:s,animateIn:r=!1}={}){this.flow=t,this.el=n,this._present=!0,this._remove=()=>{var a;this.el.remove(),(a=this._onRemove)==null||a.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&r&&this.el.animate({[Wv]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=s}get present(){return this._present}set present(t){if(this._present!==t){if(this._present=t,t?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){t||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",t?"0":"-.999"),this.el.animate({[Wv]:t?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),t?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}}class yB extends Q2{constructor(t,n,s,r){super(t.flow,s,r),this.section=t,this.value=n,this.el=s}}class bB extends yB{constructor(t,n,s,r,a){var o,l;const u=(((l=(o=t.flow.digits)==null?void 0:o[r])==null?void 0:l.max)??9)+1,d=Array.from({length:u}).map((m,g)=>{const x=Zl("span",{className:"digit__num"},[document.createTextNode(String(g))]);return g!==s&&x.setAttribute("inert",""),x.style.setProperty("--n",String(g)),x}),f=Zl("span",{part:`digit ${n}-digit`,className:"digit"},d);f.style.setProperty("--current",String(s)),f.style.setProperty("--length",String(u)),super(t,s,f,a),this.pos=r,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=d,this.length=u}willUpdate(t){const n=this.el.getBoundingClientRect();this._prevValue=this.value;const s=n[this.section.justify]-t[this.section.justify],r=n.width/2;this._prevCenter=this.section.justify==="left"?s+r:s-r}update(t){this.el.style.setProperty("--current",String(t)),this._numbers.forEach((n,s)=>s===t?n.removeAttribute("inert"):n.setAttribute("inert","")),this.value=t}didUpdate(t){const n=this.el.getBoundingClientRect(),s=n[this.section.justify]-t[this.section.justify],r=n.width/2,a=this.section.justify==="left"?s+r:s-r,o=this._prevCenter-a;o&&this.el.animate({transform:[`translateX(${o}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});const l=this.getDelta();l&&(this.el.classList.add("is-spinning"),this.el.animate({[mE]:[-l,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var t;if(this.flow.plugins)for(const r of this.flow.plugins){const a=(t=r.getDelta)==null?void 0:t.call(r,this.value,this._prevValue,this);if(a!=null)return a}const n=this.value-this._prevValue,s=this.flow.computedTrend||Math.sign(n);return s<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:s>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:n}}class Xve extends yB{constructor(t,n,s,r){const a=Zl("span",{className:"symbol__value",textContent:s});super(t,s,Zl("span",{part:`symbol ${n}`,className:"symbol"},[a]),r),this.type=n,this._children=new Map,this._onChildRemove=o=>()=>{this._children.delete(o)},this._children.set(s,new Q2(this.flow,a,{onRemove:this._onChildRemove(s)}))}willUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect();this._prevOffset=n[this.section.justify]-t[this.section.justify]}update(t){if(this.value!==t){const n=this._children.get(this.value);n&&(n.present=!1);const s=this._children.get(t);if(s)s.present=!0;else{const r=Zl("span",{className:"symbol__value",textContent:t});this.el.appendChild(r),this._children.set(t,new Q2(this.flow,r,{animateIn:!0,onRemove:this._onChildRemove(t)}))}}this.value=t}didUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect()[this.section.justify]-t[this.section.justify],s=this._prevOffset-n;s&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}var dI;const Qve=parseInt((dI=v.version.match(/^(\d+)\./))==null?void 0:dI[1]),pE=Qve>=19,eye=["data","digits"];class gE extends xB{attributeChangedCallback(t,n,s){this[t]=JSON.parse(s)}}gE.observedAttributes=pE?[]:eye;Vve("number-flow-react",gE);const Kk={},rO=pE?e=>e:JSON.stringify;function iO(e){const{transformTiming:t,spinTiming:n,opacityTiming:s,animated:r,respectMotionPreference:a,trend:o,plugins:l,...u}=e;return[{transformTiming:t,spinTiming:n,opacityTiming:s,animated:r,respectMotionPreference:a,trend:o,plugins:l},u]}class tye extends v.Component{updateProperties(t){if(!this.el)return;this.el.batched=!this.props.isolate;const[n]=iO(this.props);Object.entries(n).forEach(([s,r])=>{this.el[s]=r??gE.defaultProps[s]}),t!=null&&t.onAnimationsStart&&this.el.removeEventListener("animationsstart",t.onAnimationsStart),this.props.onAnimationsStart&&this.el.addEventListener("animationsstart",this.props.onAnimationsStart),t!=null&&t.onAnimationsFinish&&this.el.removeEventListener("animationsfinish",t.onAnimationsFinish),this.props.onAnimationsFinish&&this.el.addEventListener("animationsfinish",this.props.onAnimationsFinish)}componentDidMount(){this.updateProperties(),pE&&this.el&&(this.el.digits=this.props.digits,this.el.data=this.props.data)}getSnapshotBeforeUpdate(t){var n;if(this.updateProperties(t),t.data!==this.props.data){if(this.props.group)return this.props.group.willUpdate(),()=>{var s;return(s=this.props.group)==null?void 0:s.didUpdate()};if(!this.props.isolate)return(n=this.el)==null||n.willUpdate(),()=>{var s;return(s=this.el)==null?void 0:s.didUpdate()}}return null}componentDidUpdate(t,n,s){s==null||s()}handleRef(t){this.props.innerRef&&(this.props.innerRef.current=t),this.el=t}render(){const[t,{innerRef:n,className:s,data:r,willChange:a,isolate:o,group:l,digits:u,onAnimationsStart:d,onAnimationsFinish:f,...m}]=iO(this.props);return v.createElement("number-flow-react",{ref:this.handleRef,"data-will-change":a?"":void 0,class:s,...m,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0,digits:rO(u),data:rO(r)})}constructor(t){super(t),this.handleRef=this.handleRef.bind(this)}}const hm=v.forwardRef(function({value:t,locales:n,format:s,prefix:r,suffix:a,...o},l){v.useImperativeHandle(l,()=>u.current,[]);const u=v.useRef(),d=v.useContext(nye);d==null||d.useRegister(u);const f=v.useMemo(()=>n?JSON.stringify(n):"",[n]),m=v.useMemo(()=>s?JSON.stringify(s):"",[s]),g=v.useMemo(()=>{var b;const x=Kk[b=`${f}:${m}`]??(Kk[b]=new Intl.NumberFormat(n,s));return Fve(t,x,r,a)},[t,f,m,r,a]);return v.createElement(tye,{...o,group:d,data:g,innerRef:u})}),nye=v.createContext(void 0),sye={monthly:{TotalRevenue:450,TotalUsers:85,CompanyGrowth:45,NewCustomers:120,SuccessRate:98},yearly:{TotalRevenue:5200,TotalUsers:950,CompanyGrowth:220,NewCustomers:1400,SuccessRate:97}},rye={monthly:{TotalRevenue:0,TotalUsers:0,CompanyGrowth:0,NewCustomers:0,SuccessRate:0},yearly:{TotalRevenue:0,TotalUsers:0,CompanyGrowth:0,NewCustomers:0,SuccessRate:0}},iye=({className:e})=>{const[t,n]=v.useState(!1),s=v.useRef(null),a=vL(s)?sye:rye;return i.jsx("section",{className:se("py-32",e),children:i.jsx("div",{className:"container mx-auto flex justify-center px-4",children:i.jsxs("div",{className:"flex w-full max-w-6xl flex-col justify-between gap-8 lg:flex-row lg:gap-12",children:[i.jsxs("div",{className:"w-full lg:w-[45%]",children:[i.jsx("h1",{className:"w-full font-bold text-4xl lg:text-5xl",children:"Nejsme Jen Slova, Pedvdme Vsledky"}),i.jsx("p",{className:"my-4 text-base tracking-tight text-muted-foreground lg:text-lg",children:"Nae fyzioterapeutick kurzy transformuj zdravotn pi v esk republice. Dvuje nm pes tisc certifikovanch terapeut."}),i.jsxs(Q,{variant:"secondary",className:"text-md group mt-8 flex w-fit items-center justify-center gap-2 rounded-full bg-sky-100 hover:bg-sky-200 dark:bg-sky-900/30 dark:hover:bg-sky-800/40 text-sky-700 dark:text-sky-300 px-6 py-1 tracking-tight shadow-none",children:[i.jsx("span",{children:"Zante S Nmi"}),i.jsx(ur,{className:"size-4 -rotate-45 transition-all ease-out group-hover:ml-3 group-hover:rotate-0"})]}),i.jsx("div",{className:"mt-10 w-full",children:i.jsx(aye,{})})]}),i.jsxs("div",{ref:s,className:"flex w-full flex-col items-center lg:w-[55%] lg:items-end",children:[i.jsx("h1",{className:"font-bold text-7xl leading-none lg:text-8xl",children:i.jsx(hm,{value:t?a.monthly.TotalRevenue:a.yearly.TotalRevenue,suffix:"+",className:"font-bold"})}),i.jsxs("div",{className:"mb-6 flex flex-col items-center justify-center gap-4 lg:flex-row lg:gap-6",children:[i.jsx("p",{className:"text-sm lg:text-base",children:"Absolvent za posledn rok"}),i.jsxs(Q,{variant:"secondary",className:"text-sm group flex w-fit items-center justify-center gap-2 rounded-full bg-sky-100 hover:bg-sky-200 dark:bg-sky-900/30 dark:hover:bg-sky-800/40 text-sky-700 dark:text-sky-300 px-4 py-1 tracking-tight shadow-none transition-all duration-300 ease-out active:scale-95",onClick:()=>n(!t),children:[i.jsx("span",{children:"Msn Statistiky"}),i.jsx(ale,{className:"size-4 -rotate-45 transition-all ease-out group-hover:ml-3 group-hover:rotate-0"})]})]}),i.jsxs("div",{className:"mt-auto mb-10 grid w-full max-w-lg grid-cols-2 gap-8 lg:gap-10",children:[i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"text-3xl font-medium lg:text-5xl",children:i.jsx(hm,{value:t?a.monthly.TotalUsers:a.yearly.TotalUsers,suffix:"+"})}),i.jsx("p",{className:"text-sm text-muted-foreground/70",children:" Aktivnch Terapeut "})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"text-3xl font-medium lg:text-5xl",children:i.jsx(hm,{value:t?a.monthly.CompanyGrowth:a.yearly.CompanyGrowth,suffix:"%"})}),i.jsx("p",{className:"text-sm text-muted-foreground/70",children:" Rst Absolvent "})]}),i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"text-3xl font-medium lg:text-5xl",children:i.jsx(hm,{value:t?a.monthly.NewCustomers:a.yearly.NewCustomers,suffix:"+"})}),i.jsx("p",{className:"text-sm text-muted-foreground/70",children:" Novch Student "})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"text-3xl font-medium lg:text-5xl",children:i.jsx(hm,{value:t?a.monthly.SuccessRate:a.yearly.SuccessRate,suffix:"%"})}),i.jsx("p",{className:"text-sm text-muted-foreground/70",children:" spnost Kurz "})]})]})]})]})})})};function aye(){return i.jsx("div",{className:"wrapper",children:i.jsxs(ee.svg,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 644 388",initial:{clipPath:"inset(0px 100% 0px 0px)"},animate:{clipPath:"inset(0px 0% 0px 0px)"},transition:{duration:1,type:"spring",damping:18},children:[i.jsxs("g",{clipPath:"url(#grad)",children:[i.jsx("path",{d:"M1 118.5C1 118.5 83.308 102.999 114.735 89.4998C146.162 76.0008 189.504 87.7868 235.952 77.4998C273.548 69.1718 294.469 62.4938 329.733 46.9998C409.879 11.7848 452.946 30.9998 483.874 22.4998C514.802 13.9998 635.97 0.84884 644 1.49984",stroke:"#0090FF",strokeWidth:"2"}),i.jsx("path",{d:"M113.912 89.4888C82.437 102.988 1 118.487 1 118.487V438.477H644V1.49977C635.957 0.849773 514.601 13.9988 483.625 22.4978C452.649 30.9958 409.515 11.7838 329.245 46.9938C293.926 62.4868 272.973 69.1638 235.318 77.4908C188.798 87.7768 145.388 75.9908 113.912 89.4888Z",fill:"url(#grad)"})]}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"grad",x1:"321.5",y1:"0.476773",x2:"321.5",y2:"387.477",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#138EED",stopOpacity:"0.4"}),i.jsx("stop",{offset:"1",stopColor:"#058FFB",stopOpacity:"0"})]})})]})})}const oye=()=>i.jsx("section",{id:"features",className:"relative w-full",children:i.jsx(iye,{})});function lye({items:e,onItemClick:t}){const[n,s]=v.useState(null),r={stiffness:100,damping:5},a=V_(0),o=p3(zo(a,[-100,100],[-45,45]),r),l=p3(zo(a,[-100,100],[-50,50]),r),u=d=>{const f=d.currentTarget.offsetWidth/2;a.set(d.nativeEvent.offsetX-f)};return i.jsx(i.Fragment,{children:e.map(d=>i.jsxs("div",{className:"group/tooltip relative -mr-4",onMouseEnter:()=>s(d.id),onMouseLeave:()=>s(null),children:[i.jsx(gn,{mode:"popLayout",children:n===d.id&&i.jsxs(ee.div,{initial:{opacity:0,y:20,scale:.6},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:10}},exit:{opacity:0,y:20,scale:.6},style:{translateX:l,rotate:o,whiteSpace:"nowrap"},className:"absolute -top-16 left-1/2 z-50 flex -translate-x-1/2 flex-col items-center justify-center rounded-md bg-foreground px-4 py-2 text-xs shadow-xl",children:[i.jsx("div",{className:"absolute inset-x-10 -bottom-px z-30 h-px w-[20%] bg-gradient-to-r from-transparent via-sky-500 to-transparent"}),i.jsx("div",{className:"absolute -bottom-px left-10 z-30 h-px w-[40%] bg-gradient-to-r from-transparent via-sky-300 to-transparent"}),i.jsx("div",{className:"relative z-30 text-base font-bold text-background",children:d.name}),i.jsx("div",{className:"text-xs text-background/70",children:d.designation})]})}),i.jsx("div",{onMouseMove:u,onClick:t?f=>{f.stopPropagation(),t(d)}:void 0,className:`relative size-10 overflow-hidden rounded-full border-2 border-background object-cover object-top shadow-md${t?" cursor-pointer":""}`,children:i.jsx("img",{src:d.image,alt:d.name,className:"h-full w-full object-cover object-top"})})]},d.id))})}const cye=[{title:"Rezervace v DIRES",description:"Objednejte se na osobni konzultaci nebo terapii. Nas tym zkusenych fyzioterapeutu je pripraveny vam pomoci s individualnim pristupem zamerenym na vase specificke potreby a cile. Vybirejte z siroke nabidky terminu.",image:"/MG_0170-1024x683-1.jpg.webp",imageAlt:"Fyzioterapie v DIRES",href:"#contact",isExternal:!0},{title:"Prozkoumejte kurzy",description:"Online vzdelavani v oblasti fyzioterapie. Profesionalni kurzy, certifikace a nastroje pro vase karierni rust. Ucte se vlastnim tempem odkudkoliv s pristupem k videum, materialum a interaktivnim testum od prednich odborniku.",image:"https://images.pexels.com/photos/5473182/pexels-photo-5473182.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",imageAlt:"Online kurzy fyzioterapie",href:"/kurzy"}],uye=()=>{const e=Jt(),[t,n]=v.useState(null),[s,r]=v.useState([]);v.useEffect(()=>{ae.from("team_members").select("id, name, role, avatar_url, slug").eq("is_active",!0).order("order_index").then(({data:u})=>r(u??[]))},[]);const a=s.map((u,d)=>({id:d+1,name:u.name,designation:u.role,image:u.avatar_url})),o=u=>{const d=s[u.id-1];d!=null&&d.slug&&e(`/tym/${d.slug}`)},l=u=>{if(u.isExternal||u.href.startsWith("#")){const d=document.querySelector(u.href);d==null||d.scrollIntoView({behavior:"smooth"})}else e(u.href)};return i.jsxs("section",{className:"relative -mt-20 flex min-h-svh flex-col justify-center overflow-hidden bg-background pb-12 pt-24",children:[i.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[i.jsx("img",{src:"/pattern.png",alt:"","aria-hidden":"true",className:"absolute inset-0 h-full w-full select-none object-cover opacity-[0.07] mix-blend-multiply dark:opacity-[0.04]"}),i.jsx("div",{className:"absolute top-1/3 left-1/2 h-[600px] w-[900px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-blue-500/10 blur-[150px] dark:bg-blue-500/15"})]}),i.jsx("div",{className:"container relative z-10 mx-auto",children:i.jsxs("div",{className:"flex flex-col gap-10",children:[i.jsxs("div",{className:"flex flex-col items-center gap-5 text-center",children:[i.jsxs("div",{className:"flex max-w-4xl flex-col items-center gap-4",children:[i.jsx("h1",{className:"text-4xl font-medium tracking-tight text-balance md:text-5xl lg:text-6xl",children:"Profesionalni vzdelavani v oblasti fyzioterapie"}),a.length>0&&i.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-border/50 bg-background/80 px-5 py-2.5 backdrop-blur-sm",children:[i.jsx("span",{className:"relative z-50 flex items-center justify-center [&>div:nth-child(1)]:-rotate-3 [&>div:nth-child(2)]:rotate-2 [&>div:nth-child(3)]:-rotate-1 [&>div]:transition-transform [&>div]:duration-300 [&>div:hover]:rotate-0",children:i.jsx(lye,{items:a,onItemClick:o})}),i.jsx("span",{className:"ml-1 text-base font-semibold text-foreground",children:"Nas tym"})]}),i.jsx("p",{className:"mx-auto max-w-2xl text-base text-muted-foreground md:text-lg",children:"Od myslenky k realizaci  pripravujeme ucelene kurzy, certifikace a nastroje pro fyzioterapeuty vsech urovni."})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[i.jsx(Q,{size:"lg",asChild:!0,children:i.jsxs("a",{href:"#contact",children:[i.jsx(Fie,{className:"mr-2 size-4"}),"Rezervovat termin"]})}),i.jsxs(Q,{variant:"outline",size:"lg",onClick:()=>e("/kurzy"),children:["Prozkoumat kurzy",i.jsx(ur,{className:"ml-2 size-4"})]})]})]}),i.jsx("div",{className:"hide-scrollbar mx-auto flex w-full max-w-5xl gap-4 overflow-x-auto pb-4 md:overflow-visible md:pb-0",role:"list",children:cye.map((u,d)=>{const f=t===d,m=t!==null&&t!==d;return i.jsxs(ee.article,{layout:!0,role:"listitem",className:se("group relative flex min-h-96 min-w-72 flex-none cursor-pointer overflow-hidden rounded-xl border border-border/60 transition duration-300 md:min-w-0 md:flex-1"),onClick:()=>l(u),onMouseEnter:()=>n(d),onMouseLeave:()=>n(null),onFocus:()=>n(d),onBlur:()=>n(null),tabIndex:0,animate:{flex:f?1.3:m?.85:1},transition:{duration:.45,ease:"easeInOut"},children:[i.jsx("img",{src:u.image,alt:u.imageAlt,className:se("absolute inset-0 h-full w-full object-cover transition duration-500",f?"scale-105":"scale-100"),loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-black/30 to-black/70 transition duration-300 group-hover:via-black/50 group-hover:to-black/80"}),i.jsxs("div",{className:"relative z-10 flex h-full w-full flex-col justify-between",children:[i.jsx("div",{className:"p-6",children:i.jsx("h3",{className:"text-lg font-semibold tracking-tight text-white md:text-xl",children:u.title})}),i.jsxs(ee.div,{layout:!0,className:"flex w-full items-end gap-4 p-6",initial:!1,animate:{justifyContent:f?"space-between":"flex-start"},transition:{duration:.35,ease:"easeInOut"},children:[i.jsx(gn,{initial:!1,children:f&&i.jsx(ee.p,{layout:!0,className:"flex-1 text-sm text-white/90 md:text-base",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,delay:.2,ease:"easeInOut"},children:u.description},"card-description")}),i.jsx(ee.span,{layout:!0,className:"rounded-full border border-white/20 bg-white/10 p-2 text-white backdrop-blur-sm",initial:!1,transition:{duration:.4,ease:"easeInOut"},children:i.jsx(vp,{className:"size-4"})})]})]})]},u.title)})})]})})]})},aO=[{icon:n8,name:"Zkuebn verze zdarma",planType:"free_trial",price:0,duration:"3 dny",currency:"CZK",features:["3denn zkuebn verze zdarma","Pln pstup ke vem funkcm","Zkladn nstroje pro sprvu kol","Synchronizace kalende s omezenmi integracemi","Pstup k 1 dashboardu pro sledovn kol","Zkladn podpora a pstup do komunity"]},{icon:VL,name:"Msn pln",planType:"monthly",price:730,duration:"msn",currency:"CZK",features:["Vechny funkce zkuebn verze a navc:","Neomezen seznamy kol","Pokroil synchronizace kalende","Poznatky zen AI","Pstup k vlastnm dashboardm","Prioritn e-mailov podpora","Zruit kdykoli"]},{icon:BL,name:"Doivotn pstup",planType:"lifetime",price:4870,duration:"jednorzov",currency:"CZK",features:["Vechny msn funkce a navc:","Doivotn pstup - zaplate jednou","Dedikovan account manager","Vlastn integrace","Spoluprce v relnm ase","Oprvnn zaloen na rolch","Prioritn podpora 24/7"]}],dye=({className:e})=>{const t=Jt(),n=ss(),{user:s,session:r}=Ht(),[a,o]=v.useState(null),l=v.useCallback(async u=>{if(u.planType==="free_trial"&&(!s||!r)){localStorage.setItem("pending_plan",u.planType),Se.info("Pro zkuebn verzi se prosm pihlaste"),t("/prihlaseni");return}o(u.planType);try{const d="https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/create-checkout-session",f=(r==null?void 0:r.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE",m=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({planType:u.planType})}),g=await m.json();if(!m.ok){if(g.requiresAuth){localStorage.setItem("pending_plan",u.planType),Se.info("Pro tento pln se prosm pihlaste"),t("/prihlaseni");return}throw new Error(g.error||"Failed to create checkout session")}g.url?window.location.href=g.url:t("/potvrzeni-objednavky")}catch(d){console.error("Checkout error:",d),Se.error("Nepodailo se zahjit pokladnu. Zkuste to prosm znovu.")}finally{o(null)}},[s,r,t]);return v.useEffect(()=>{const u=n.state;if(u!=null&&u.selectedPlan&&s&&r){const d=aO.find(f=>f.planType===u.selectedPlan);d&&l(d)}},[n.state,s,r,l]),i.jsxs("section",{id:"pricing",className:se("py-32",e),children:[i.jsx("div",{className:"border-y border-sky-200/60 dark:border-sky-800/30",children:i.jsx("div",{className:"container mx-auto flex flex-col gap-6 border-x border-sky-200/60 dark:border-sky-800/30 py-4 max-lg:border-x lg:py-8",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsxs(Le,{variant:"outline",className:"w-fit gap-1 bg-card px-3 text-sm font-normal tracking-tight shadow-sm",children:[i.jsx(Tie,{className:"size-4"}),i.jsx("span",{children:"Cenov plny"})]}),i.jsx("h2",{className:"mt-6 text-3xl leading-tight tracking-tight md:text-4xl lg:text-6xl",children:"Ceny pro kadho"}),i.jsx("p",{className:"mt-4 max-w-[600px] tracking-[-0.32px] text-muted-foreground",children:"Vyberte si pln, kter vyhovuje vaim potebm produktivity"})]})})}),i.jsx("div",{className:"container mx-auto mt-10 lg:mt-14",children:i.jsx("section",{className:"grid border border-sky-200/60 dark:border-sky-800/30 max-lg:divide-y max-lg:divide-sky-200/60 dark:max-lg:divide-sky-800/30 lg:grid-cols-3 lg:divide-x lg:divide-sky-200/60 dark:lg:divide-sky-800/30",children:aO.map((u,d)=>i.jsxs("div",{className:se("flex flex-col justify-between p-6 relative",d===0&&"bg-gradient-to-r from-background to-muted/30",d===1&&"bg-muted/30",d===2&&"bg-gradient-to-l from-background to-muted/30"),children:[i.jsxs("div",{className:"space-y-2 border-b pb-6",children:[i.jsxs("div",{className:"flex items-center gap-2.5 text-muted-foreground",children:[i.jsx(u.icon,{className:"size-4"}),i.jsx("h3",{className:"text-xl tracking-[-0.8px]",children:u.name})]}),i.jsxs("div",{className:"flex items-baseline font-medium",children:[i.jsx("span",{className:"text-[3.5rem] leading-[120%] tracking-[-3.92px]",children:u.price.toLocaleString("cs-CZ")}),i.jsxs("span",{className:"text-muted-foreground-subtle text-2xl tracking-[-0.96px] ml-2",children:["K",u.planType==="monthly"?"/ms":""]})]}),i.jsx("p",{className:"text-muted-foreground",children:u.duration})]}),i.jsxs("div",{className:"pt-6",children:[i.jsx("h4",{className:"text-muted-foreground-subtle",children:"Zahrnut funkce"}),i.jsx("ul",{className:"mt-4 space-y-4",children:u.features.map((f,m)=>i.jsxs("li",{className:"flex items-center gap-4",children:[i.jsx(ig,{className:"size-6 text-muted-foreground"}),i.jsx("span",{className:"tracking-[-0.32px] text-muted-foreground",children:f})]},m))})]}),i.jsx(Q,{variant:d===1?"default":"secondary",className:"mt-12",onClick:()=>l(u),disabled:a===u.planType,children:a===u.planType?"Natn...":"Zat"})]},d))})}),i.jsx("div",{className:"mt-12 h-8 w-full border-y border-sky-200/60 dark:border-sky-800/30 md:h-12 lg:h-[112px]",children:i.jsx("div",{className:"container mx-auto h-full w-full border-x border-sky-200/60 dark:border-sky-800/30"})})]})},hye=({featuredCasestudy:e,casestudies:t,className:n})=>{const s=Jt();return!e||!t?null:i.jsx("section",{className:se("py-32",n),children:i.jsx("div",{className:"container mx-auto flex justify-center",children:i.jsxs("div",{className:"border border-sky-200/60 dark:border-sky-800/30 max-w-7xl w-full",children:[i.jsxs("div",{onClick:()=>e.link&&s(e.link),className:"group grid gap-4 overflow-hidden px-6 transition-colors duration-500 ease-out hover:bg-sky-50/40 dark:hover:bg-sky-950/20 lg:grid-cols-2 xl:px-28 cursor-pointer",children:[i.jsxs("div",{className:"flex flex-col justify-between gap-4 pt-8 md:pt-16 lg:pb-16",children:[i.jsxs("div",{className:"flex items-center gap-2 text-2xl font-medium",children:[i.jsx("img",{src:e.logo,alt:"logo",className:"h-9"}),e.company]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-muted-foreground sm:text-sm",children:e.tags}),i.jsxs("h2",{className:"mt-4 mb-5 text-2xl font-semibold text-balance sm:text-3xl sm:leading-10",children:[e.title,i.jsxs("span",{className:"font-medium text-primary/50 transition-colors duration-500 ease-out group-hover:text-primary/70",children:[" ",e.subtitle]})]}),i.jsxs("div",{className:"flex items-center gap-2 font-medium",children:["Pest lnek",i.jsx(H3,{className:"h-4 w-4 transition-transform duration-500 ease-out group-hover:translate-x-1"})]})]})]}),i.jsx("div",{className:"relative isolate py-16",children:i.jsx("div",{className:"relative isolate h-full border border-border bg-background p-2",children:i.jsx("div",{className:"h-full overflow-hidden",children:i.jsx("img",{src:e.image,alt:"placeholder",className:"aspect-14/9 h-full w-full object-cover transition-transform duration-500 ease-out group-hover:scale-105"})})})})]}),i.jsxs("div",{className:"flex border-t border-sky-200/60 dark:border-sky-800/30",children:[i.jsx("div",{className:"hidden w-28 shrink-0 bg-[radial-gradient(var(--muted-foreground)_1px,transparent_1px)] [background-size:10px_10px] opacity-15 xl:block"}),i.jsx("div",{className:"grid lg:grid-cols-2",children:t.map((r,a)=>i.jsxs("div",{onClick:()=>r.link&&s(r.link),className:`group flex flex-col justify-between gap-12 border-sky-200/60 dark:border-sky-800/30 bg-background px-6 py-8 transition-colors duration-500 ease-out hover:bg-sky-50/40 dark:hover:bg-sky-950/20 md:py-16 lg:pb-16 xl:gap-16 cursor-pointer ${a===0?"xl:border-l xl:pl-8":"border-t lg:border-t-0 lg:border-l xl:border-r xl:pl-8"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 text-2xl font-medium",children:[i.jsx("img",{src:r.logo,alt:"logo",className:"h-9"}),r.company]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-muted-foreground sm:text-sm",children:r.tags}),i.jsxs("h2",{className:"mt-4 mb-5 text-2xl font-semibold text-balance sm:text-3xl sm:leading-10",children:[r.title,i.jsxs("span",{className:"font-medium text-primary/50 transition-colors duration-500 ease-out group-hover:text-primary/70",children:[" ",r.subtitle]})]}),i.jsxs("div",{className:"flex items-center gap-2 font-medium",children:["Pest lnek",i.jsx(H3,{className:"h-4 w-4 transition-transform duration-500 ease-out group-hover:translate-x-1"})]})]})]},r.company))}),i.jsx("div",{className:"hidden w-28 shrink-0 bg-[radial-gradient(var(--muted-foreground)_1px,transparent_1px)] [background-size:10px_10px] opacity-15 xl:block"})]})]})})})},wB=6048e5,fye=864e5,oO=Symbol.for("constructDateFrom");function rc(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&oO in e?e[oO](t):e instanceof Date?new e.constructor(t):new Date(t)}function wa(e,t){return rc(t||e,e)}let mye={};function Bb(){return mye}function Sp(e,t){var l,u,d,f;const n=Bb(),s=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,r=wa(e,t==null?void 0:t.in),a=r.getDay(),o=(a<s?7:0)+a-s;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Gv(e,t){return Sp(e,{...t,weekStartsOn:1})}function jB(e,t){const n=wa(e,t==null?void 0:t.in),s=n.getFullYear(),r=rc(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const a=Gv(r),o=rc(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const l=Gv(o);return n.getTime()>=a.getTime()?s+1:n.getTime()>=l.getTime()?s:s-1}function lO(e){const t=wa(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function pye(e,...t){const n=rc.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function cO(e,t){const n=wa(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function gye(e,t,n){const[s,r]=pye(n==null?void 0:n.in,e,t),a=cO(s),o=cO(r),l=+a-lO(a),u=+o-lO(o);return Math.round((l-u)/fye)}function xye(e,t){const n=jB(e,t),s=rc(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Gv(s)}function vye(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function yye(e){return!(!vye(e)&&typeof e!="number"||isNaN(+wa(e)))}function bye(e,t){const n=wa(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const wye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},jye=(e,t,n)=>{let s;const r=wye[e];return typeof r=="string"?s=r:t===1?s=r.one:s=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function yh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const kye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Sye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_ye={date:yh({formats:kye,defaultWidth:"full"}),time:yh({formats:Nye,defaultWidth:"full"}),dateTime:yh({formats:Sye,defaultWidth:"full"})},Cye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Eye=(e,t,n,s)=>Cye[e];function Aa(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;r=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return r[a]}}const Tye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},zye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Mye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Aye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Oye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Dye=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Pye={ordinalNumber:Dye,era:Aa({values:Tye,defaultWidth:"wide"}),quarter:Aa({values:zye,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Aa({values:Mye,defaultWidth:"wide"}),day:Aa({values:Aye,defaultWidth:"wide"}),dayPeriod:Aa({values:Rye,defaultWidth:"wide",formattingValues:Oye,defaultFormattingWidth:"wide"})};function Ra(e){return(t,n={})=>{const s=n.width,r=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?Lye(l,m=>m.test(o)):Iye(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function Iye(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function Lye(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function kB(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const r=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(r.length);return{value:o,rest:l}}}const $ye=/^(\d+)(th|st|nd|rd)?/i,Vye=/\d+/i,Bye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fye={any:[/^b/i,/^(a|c)/i]},Uye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Hye={any:[/1/i,/2/i,/3/i,/4/i]},qye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Zye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Wye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Kye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Gye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Yye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Jye={ordinalNumber:kB({matchPattern:$ye,parsePattern:Vye,valueCallback:e=>parseInt(e,10)}),era:Ra({matchPatterns:Bye,defaultMatchWidth:"wide",parsePatterns:Fye,defaultParseWidth:"any"}),quarter:Ra({matchPatterns:Uye,defaultMatchWidth:"wide",parsePatterns:Hye,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ra({matchPatterns:qye,defaultMatchWidth:"wide",parsePatterns:Zye,defaultParseWidth:"any"}),day:Ra({matchPatterns:Wye,defaultMatchWidth:"wide",parsePatterns:Kye,defaultParseWidth:"any"}),dayPeriod:Ra({matchPatterns:Gye,defaultMatchWidth:"any",parsePatterns:Yye,defaultParseWidth:"any"})},Xye={code:"en-US",formatDistance:jye,formatLong:_ye,formatRelative:Eye,localize:Pye,match:Jye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Qye(e,t){const n=wa(e,t==null?void 0:t.in);return gye(n,bye(n))+1}function ebe(e,t){const n=wa(e,t==null?void 0:t.in),s=+Gv(n)-+xye(n);return Math.round(s/wB)+1}function NB(e,t){var f,m,g,x;const n=wa(e,t==null?void 0:t.in),s=n.getFullYear(),r=Bb(),a=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(g=r.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=rc((t==null?void 0:t.in)||e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=Sp(o,t),u=rc((t==null?void 0:t.in)||e,0);u.setFullYear(s,0,a),u.setHours(0,0,0,0);const d=Sp(u,t);return+n>=+l?s+1:+n>=+d?s:s-1}function tbe(e,t){var l,u,d,f;const n=Bb(),s=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,r=NB(e,t),a=rc((t==null?void 0:t.in)||e,0);return a.setFullYear(r,0,s),a.setHours(0,0,0,0),Sp(a,t)}function nbe(e,t){const n=wa(e,t==null?void 0:t.in),s=+Sp(n,t)-+tbe(n,t);return Math.round(s/wB)+1}function fn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const jl={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return fn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):fn(n+1,2)},d(e,t){return fn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return fn(e.getHours()%12||12,t.length)},H(e,t){return fn(e.getHours(),t.length)},m(e,t){return fn(e.getMinutes(),t.length)},s(e,t){return fn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return fn(r,t.length)}},Bd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uO={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return jl.y(e,t)},Y:function(e,t,n,s){const r=NB(e,s),a=r>0?r:1-r;if(t==="YY"){const o=a%100;return fn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):fn(a,t.length)},R:function(e,t){const n=jB(e);return fn(n,t.length)},u:function(e,t){const n=e.getFullYear();return fn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return fn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return fn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return jl.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return fn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const r=nbe(e,s);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):fn(r,t.length)},I:function(e,t,n){const s=ebe(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):fn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):jl.d(e,t)},D:function(e,t,n){const s=Qye(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):fn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const r=e.getDay(),a=(r-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return fn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const r=e.getDay(),a=(r-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return fn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),r=s===0?7:s;switch(t){case"i":return String(r);case"ii":return fn(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let r;switch(s===12?r=Bd.noon:s===0?r=Bd.midnight:r=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let r;switch(s>=17?r=Bd.evening:s>=12?r=Bd.afternoon:s>=4?r=Bd.morning:r=Bd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return jl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):jl.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):fn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):fn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):jl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):jl.s(e,t)},S:function(e,t){return jl.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return hO(s);case"XXXX":case"XX":return Zc(s);case"XXXXX":case"XXX":default:return Zc(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return hO(s);case"xxxx":case"xx":return Zc(s);case"xxxxx":case"xxx":default:return Zc(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+dO(s,":");case"OOOO":default:return"GMT"+Zc(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+dO(s,":");case"zzzz":default:return"GMT"+Zc(s,":")}},t:function(e,t,n){const s=Math.trunc(+e/1e3);return fn(s,t.length)},T:function(e,t,n){return fn(+e,t.length)}};function dO(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=Math.trunc(s/60),a=s%60;return a===0?n+String(r):n+String(r)+t+fn(a,2)}function hO(e,t){return e%60===0?(e>0?"-":"+")+fn(Math.abs(e)/60,2):Zc(e,t)}function Zc(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=fn(Math.trunc(s/60),2),a=fn(s%60,2);return n+r+t+a}const fO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},SB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},sbe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return fO(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",fO(s,t)).replace("{{time}}",SB(r,t))},rbe={p:SB,P:sbe},ibe=/^D+$/,abe=/^Y+$/,obe=["D","DD","YY","YYYY"];function lbe(e){return ibe.test(e)}function cbe(e){return abe.test(e)}function ube(e,t,n){const s=dbe(e,t,n);if(console.warn(s),obe.includes(e))throw new RangeError(s)}function dbe(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mbe=/^'([^]*?)'?$/,pbe=/''/g,gbe=/[a-zA-Z]/;function Yv(e,t,n){var f,m,g,x,b,w,j,k;const s=Bb(),r=(n==null?void 0:n.locale)??s.locale??Xye,a=(n==null?void 0:n.firstWeekContainsDate)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(g=s.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((w=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((k=(j=s.locale)==null?void 0:j.options)==null?void 0:k.weekStartsOn)??0,l=wa(e,n==null?void 0:n.in);if(!yye(l))throw new RangeError("Invalid time value");let u=t.match(fbe).map(S=>{const C=S[0];if(C==="p"||C==="P"){const E=rbe[C];return E(S,r.formatLong)}return S}).join("").match(hbe).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const C=S[0];if(C==="'")return{isToken:!1,value:xbe(S)};if(uO[C])return{isToken:!0,value:S};if(C.match(gbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:S}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:r};return u.map(S=>{if(!S.isToken)return S.value;const C=S.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&cbe(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&lbe(C))&&ube(C,t,String(e));const E=uO[C[0]];return E(l,C,r.localize,d)}).join("")}function xbe(e){const t=e.match(mbe);return t?t[1].replace(pbe,"'"):e}const vbe={lessThanXSeconds:{one:{regular:"mn ne 1 sekunda",past:"ped mn ne 1 sekundou",future:"za mn ne 1 sekundu"},few:{regular:"mn ne {{count}} sekundy",past:"ped mn ne {{count}} sekundami",future:"za mn ne {{count}} sekundy"},many:{regular:"mn ne {{count}} sekund",past:"ped mn ne {{count}} sekundami",future:"za mn ne {{count}} sekund"}},xSeconds:{one:{regular:"1 sekunda",past:"ped 1 sekundou",future:"za 1 sekundu"},few:{regular:"{{count}} sekundy",past:"ped {{count}} sekundami",future:"za {{count}} sekundy"},many:{regular:"{{count}} sekund",past:"ped {{count}} sekundami",future:"za {{count}} sekund"}},halfAMinute:{type:"other",other:{regular:"pl minuty",past:"ped pl minutou",future:"za pl minuty"}},lessThanXMinutes:{one:{regular:"mn ne 1 minuta",past:"ped mn ne 1 minutou",future:"za mn ne 1 minutu"},few:{regular:"mn ne {{count}} minuty",past:"ped mn ne {{count}} minutami",future:"za mn ne {{count}} minuty"},many:{regular:"mn ne {{count}} minut",past:"ped mn ne {{count}} minutami",future:"za mn ne {{count}} minut"}},xMinutes:{one:{regular:"1 minuta",past:"ped 1 minutou",future:"za 1 minutu"},few:{regular:"{{count}} minuty",past:"ped {{count}} minutami",future:"za {{count}} minuty"},many:{regular:"{{count}} minut",past:"ped {{count}} minutami",future:"za {{count}} minut"}},aboutXHours:{one:{regular:"piblin 1 hodina",past:"piblin ped 1 hodinou",future:"piblin za 1 hodinu"},few:{regular:"piblin {{count}} hodiny",past:"piblin ped {{count}} hodinami",future:"piblin za {{count}} hodiny"},many:{regular:"piblin {{count}} hodin",past:"piblin ped {{count}} hodinami",future:"piblin za {{count}} hodin"}},xHours:{one:{regular:"1 hodina",past:"ped 1 hodinou",future:"za 1 hodinu"},few:{regular:"{{count}} hodiny",past:"ped {{count}} hodinami",future:"za {{count}} hodiny"},many:{regular:"{{count}} hodin",past:"ped {{count}} hodinami",future:"za {{count}} hodin"}},xDays:{one:{regular:"1 den",past:"ped 1 dnem",future:"za 1 den"},few:{regular:"{{count}} dny",past:"ped {{count}} dny",future:"za {{count}} dny"},many:{regular:"{{count}} dn",past:"ped {{count}} dny",future:"za {{count}} dn"}},aboutXWeeks:{one:{regular:"piblin 1 tden",past:"piblin ped 1 tdnem",future:"piblin za 1 tden"},few:{regular:"piblin {{count}} tdny",past:"piblin ped {{count}} tdny",future:"piblin za {{count}} tdny"},many:{regular:"piblin {{count}} tdn",past:"piblin ped {{count}} tdny",future:"piblin za {{count}} tdn"}},xWeeks:{one:{regular:"1 tden",past:"ped 1 tdnem",future:"za 1 tden"},few:{regular:"{{count}} tdny",past:"ped {{count}} tdny",future:"za {{count}} tdny"},many:{regular:"{{count}} tdn",past:"ped {{count}} tdny",future:"za {{count}} tdn"}},aboutXMonths:{one:{regular:"piblin 1 msc",past:"piblin ped 1 mscem",future:"piblin za 1 msc"},few:{regular:"piblin {{count}} msce",past:"piblin ped {{count}} msci",future:"piblin za {{count}} msce"},many:{regular:"piblin {{count}} msc",past:"piblin ped {{count}} msci",future:"piblin za {{count}} msc"}},xMonths:{one:{regular:"1 msc",past:"ped 1 mscem",future:"za 1 msc"},few:{regular:"{{count}} msce",past:"ped {{count}} msci",future:"za {{count}} msce"},many:{regular:"{{count}} msc",past:"ped {{count}} msci",future:"za {{count}} msc"}},aboutXYears:{one:{regular:"piblin 1 rok",past:"piblin ped 1 rokem",future:"piblin za 1 rok"},few:{regular:"piblin {{count}} roky",past:"piblin ped {{count}} roky",future:"piblin za {{count}} roky"},many:{regular:"piblin {{count}} rok",past:"piblin ped {{count}} roky",future:"piblin za {{count}} rok"}},xYears:{one:{regular:"1 rok",past:"ped 1 rokem",future:"za 1 rok"},few:{regular:"{{count}} roky",past:"ped {{count}} roky",future:"za {{count}} roky"},many:{regular:"{{count}} rok",past:"ped {{count}} roky",future:"za {{count}} rok"}},overXYears:{one:{regular:"vce ne 1 rok",past:"ped vce ne 1 rokem",future:"za vce ne 1 rok"},few:{regular:"vce ne {{count}} roky",past:"ped vce ne {{count}} roky",future:"za vce ne {{count}} roky"},many:{regular:"vce ne {{count}} rok",past:"ped vce ne {{count}} roky",future:"za vce ne {{count}} rok"}},almostXYears:{one:{regular:"skoro 1 rok",past:"skoro ped 1 rokem",future:"skoro za 1 rok"},few:{regular:"skoro {{count}} roky",past:"skoro ped {{count}} roky",future:"skoro za {{count}} roky"},many:{regular:"skoro {{count}} rok",past:"skoro ped {{count}} roky",future:"skoro za {{count}} rok"}}},ybe=(e,t,n)=>{let s;const r=vbe[e];r.type==="other"?s=r.other:t===1?s=r.one:t>1&&t<5?s=r.few:s=r.many;const a=(n==null?void 0:n.addSuffix)===!0,o=n==null?void 0:n.comparison;let l;return a&&o===-1?l=s.past:a&&o===1?l=s.future:l=s.regular,l.replace("{{count}}",String(t))},bbe={full:"EEEE, d. MMMM yyyy",long:"d. MMMM yyyy",medium:"d. M. yyyy",short:"dd.MM.yyyy"},wbe={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},jbe={full:"{{date}} 'v' {{time}}",long:"{{date}} 'v' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kbe={date:yh({formats:bbe,defaultWidth:"full"}),time:yh({formats:wbe,defaultWidth:"full"}),dateTime:yh({formats:jbe,defaultWidth:"full"})},Nbe=["nedli","pondl","ter","stedu","tvrtek","ptek","sobotu"],Sbe={lastWeek:"'posledn' eeee 've' p",yesterday:"'vera v' p",today:"'dnes v' p",tomorrow:"'ztra v' p",nextWeek:e=>{const t=e.getDay();return"'v "+Nbe[t]+" o' p"},other:"P"},_be=(e,t)=>{const n=Sbe[e];return typeof n=="function"?n(t):n},Cbe={narrow:["p. n. l.","n. l."],abbreviated:["p. n. l.","n. l."],wide:["ped nam letopotem","naeho letopotu"]},Ebe={narrow:["1","2","3","4"],abbreviated:["1. tvrtlet","2. tvrtlet","3. tvrtlet","4. tvrtlet"],wide:["1. tvrtlet","2. tvrtlet","3. tvrtlet","4. tvrtlet"]},Tbe={narrow:["L","","B","D","K","","","S","Z","","L","P"],abbreviated:["led","no","be","dub","kv","vn","vc","srp","z","j","lis","pro"],wide:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"]},zbe={narrow:["L","","B","D","K","","","S","Z","","L","P"],abbreviated:["led","no","be","dub","kv","vn","vc","srp","z","j","lis","pro"],wide:["ledna","nora","bezna","dubna","kvtna","ervna","ervence","srpna","z","jna","listopadu","prosince"]},Mbe={narrow:["ne","po","t","st","t","p","so"],short:["ne","po","t","st","t","p","so"],abbreviated:["ned","pon","te","st","tv","pt","sob"],wide:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"]},Abe={narrow:{am:"dop.",pm:"odp.",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"},abbreviated:{am:"dop.",pm:"odp.",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"},wide:{am:"dopoledne",pm:"odpoledne",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"}},Rbe={narrow:{am:"dop.",pm:"odp.",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"},abbreviated:{am:"dop.",pm:"odp.",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"},wide:{am:"dopoledne",pm:"odpoledne",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"}},Obe=(e,t)=>Number(e)+".",Dbe={ordinalNumber:Obe,era:Aa({values:Cbe,defaultWidth:"wide"}),quarter:Aa({values:Ebe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Aa({values:Tbe,defaultWidth:"wide",formattingValues:zbe,defaultFormattingWidth:"wide"}),day:Aa({values:Mbe,defaultWidth:"wide"}),dayPeriod:Aa({values:Abe,defaultWidth:"wide",formattingValues:Rbe,defaultFormattingWidth:"wide"})},Pbe=/^(\d+)\.?/i,Ibe=/\d+/i,Lbe={narrow:/^(p[r](\.|ed) Kr\.|p[r](\.|ed) n\. l\.|po Kr\.|n\. l\.)/i,abbreviated:/^(p[r](\.|ed) Kr\.|p[r](\.|ed) n\. l\.|po Kr\.|n\. l\.)/i,wide:/^(p[r](\.|ed) Kristem|p[r](\.|ed) na[s][i]m letopo[c]tem|po Kristu|na[s]eho letopo[c]tu)/i},$be={any:[/^p[r]/i,/^(po|n)/i]},Vbe={narrow:/^[1234]/i,abbreviated:/^[1234]\. [c]tvrtlet[i]/i,wide:/^[1234]\. [c]tvrtlet[i]/i},Bbe={any:[/1/i,/2/i,/3/i,/4/i]},Fbe={narrow:/^[lubdkcszrlp]/i,abbreviated:/^(led|[u]no|b[r]e|dub|kv[e]|[c]vn|[c]vc|srp|z[a][r]|[r][i]j|lis|pro)/i,wide:/^(leden|ledna|[u]nora?|b[r]ezen|b[r]ezna|duben|dubna|kv[e]ten|kv[e]tna|[c]erven(ec|ce)?|[c]ervna|srpen|srpna|z[a][r][i]|[r][i]jen|[r][i]jna|listopad(a|u)?|prosinec|prosince)/i},Ube={narrow:[/^l/i,/^[u]/i,/^b/i,/^d/i,/^k/i,/^[c]/i,/^[c]/i,/^s/i,/^z/i,/^[r]/i,/^l/i,/^p/i],any:[/^led/i,/^[u]n/i,/^b[r]e/i,/^dub/i,/^kv[e]/i,/^[c]vn|[c]erven(?!\w)|[c]ervna/i,/^[c]vc|[c]erven(ec|ce)/i,/^srp/i,/^z[a][r]/i,/^[r][i]j/i,/^lis/i,/^pro/i]},Hbe={narrow:/^[npusps]/i,short:/^(ne|po|[u]t|st|[c]t|p[a]|so)/i,abbreviated:/^(ned|pon|[u]te|st[r]|[c]tv|p[a]t|sob)/i,wide:/^(ned[e]le|pond[e]l[i]|[u]ter[y]|st[r]eda|[c]tvrtek|p[a]tek|sobota)/i},qbe={narrow:[/^n/i,/^p/i,/^[u]/i,/^s/i,/^[c]/i,/^p/i,/^s/i],any:[/^ne/i,/^po/i,/^[u]t/i,/^st/i,/^[c]t/i,/^p[a]/i,/^so/i]},Zbe={any:/^dopoledne|dop\.?|odpoledne|odp\.?|p[u]lnoc|poledne|r[a]no|odpoledne|ve[c]er|(v )?noci?/i},Wbe={any:{am:/^dop/i,pm:/^odp/i,midnight:/^p[u]lnoc/i,noon:/^poledne/i,morning:/r[a]no/i,afternoon:/odpoledne/i,evening:/ve[c]er/i,night:/noc/i}},Kbe={ordinalNumber:kB({matchPattern:Pbe,parsePattern:Ibe,valueCallback:e=>parseInt(e,10)}),era:Ra({matchPatterns:Lbe,defaultMatchWidth:"wide",parsePatterns:$be,defaultParseWidth:"any"}),quarter:Ra({matchPatterns:Vbe,defaultMatchWidth:"wide",parsePatterns:Bbe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ra({matchPatterns:Fbe,defaultMatchWidth:"wide",parsePatterns:Ube,defaultParseWidth:"any"}),day:Ra({matchPatterns:Hbe,defaultMatchWidth:"wide",parsePatterns:qbe,defaultParseWidth:"any"}),dayPeriod:Ra({matchPatterns:Zbe,defaultMatchWidth:"any",parsePatterns:Wbe,defaultParseWidth:"any"})},Jv={code:"cs",formatDistance:ybe,formatLong:kbe,formatRelative:_be,localize:Dbe,match:Kbe,options:{weekStartsOn:1,firstWeekContainsDate:4}},Gbe=()=>{const[e,t]=v.useState(null),[n,s]=v.useState([]),[r,a]=v.useState(!0);return v.useEffect(()=>{(async()=>{var u,d;const{data:l}=await ae.from("blog_posts").select("id, slug, title, excerpt, featured_image, category, published_at").eq("status","published").order("published_at",{ascending:!1}).limit(3);if(l&&l.length>0){const f=Math.floor(Math.random()*l.length),m=l[f],g=l.filter((j,k)=>k!==f).slice(0,2),x=m.title.split(":"),b=((u=x[0])==null?void 0:u.trim())||m.title,w=((d=x[1])==null?void 0:d.trim())||"";t({logo:"/logo.svg",company:"Nedvn lnky",tags:`${m.category.toUpperCase()} / ${Yv(new Date(m.published_at),"d. MMMM yyyy",{locale:Jv}).toUpperCase()}`,title:b,subtitle:w,image:m.featured_image||"https://images.pexels.com/photos/6111597/pexels-photo-6111597.jpeg",link:`/blog/${m.slug}`}),s(g.map(j=>{var E,T;const k=j.title.split(":"),S=((E=k[0])==null?void 0:E.trim())||j.title,C=((T=k[1])==null?void 0:T.trim())||"";return{logo:"/logo.svg",company:"Blog",tags:`${j.category.toUpperCase()} / ${Yv(new Date(j.published_at),"d. MMMM yyyy",{locale:Jv}).toUpperCase()}`,title:S,subtitle:C,image:j.featured_image||"https://images.pexels.com/photos/6111597/pexels-photo-6111597.jpeg",link:`/blog/${j.slug}`}}))}a(!1)})()},[]),r?i.jsx("section",{id:"services",className:"w-full py-32 overflow-visible",children:i.jsx("div",{className:"container mx-auto flex justify-center",children:i.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):i.jsx("section",{id:"services",className:"w-full py-0 overflow-visible",children:i.jsx(hye,{featuredCasestudy:e,casestudies:n})})},Ybe=({heading:e="N Tm",description:t="Zkuen odbornci s letitmi zkuenostmi pipraveni vm pomoci.",className:n})=>{const s=Jt(),[r,a]=v.useState([]),[o,l]=v.useState(!0);return v.useEffect(()=>{(async()=>{const{data:d}=await ae.from("team_members").select("id, name, role, slug, avatar_url, github, twitter, linkedin").eq("is_active",!0).order("order_index");a(d??[]),l(!1)})()},[]),o?i.jsx("section",{className:se("bg-gradient-to-b from-background to-muted/20 py-24 lg:py-32",n),children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):i.jsx("section",{className:se("bg-gradient-to-b from-background to-muted/20 py-24 lg:py-32",n),children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"mb-20 text-center",children:[i.jsx("h2",{className:"mb-6 bg-gradient-to-r from-foreground to-muted-foreground bg-clip-text text-4xl font-bold tracking-tight text-transparent lg:text-6xl",children:e}),i.jsx("p",{className:"mx-auto max-w-3xl text-xl leading-relaxed text-muted-foreground",children:t})]}),i.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:r.map(u=>i.jsxs("div",{onClick:()=>s(`/tym/${u.slug}`),className:"group relative cursor-pointer overflow-hidden rounded-2xl border border-sky-100 dark:border-sky-900/30 bg-card p-8 transition-all duration-300 hover:-translate-y-2 hover:border-sky-300 dark:hover:border-sky-700 hover:shadow-2xl hover:shadow-sky-200/30 dark:hover:shadow-sky-900/20",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-100/40 dark:from-sky-900/20 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),i.jsxs("div",{className:"relative flex flex-col items-center text-center",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-sky-300/20 to-sky-200/10 blur-xl transition-all duration-300 group-hover:blur-2xl"}),i.jsxs(In,{className:"relative size-24 shadow-lg ring-4 ring-background transition-all duration-300 group-hover:ring-primary/20 lg:size-28",children:[i.jsx(hs,{src:u.avatar_url,className:"object-cover"}),i.jsx(Sr,{className:"bg-gradient-to-br from-primary/10 to-primary/5 text-xl font-semibold",children:u.name.split(" ").map(d=>d[0]).join("")})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"mb-2 text-xl font-bold transition-colors duration-300 group-hover:text-primary",children:u.name}),i.jsx("p",{className:"inline-block rounded-full bg-muted/50 px-4 py-1.5 text-sm font-medium text-muted-foreground",children:u.role})]}),i.jsxs("div",{className:"flex gap-3",children:[u.github&&i.jsx("a",{href:u.github,onClick:d=>d.stopPropagation(),className:"rounded-xl bg-muted/80 p-3 transition-all duration-300 hover:scale-110 hover:bg-primary/10 hover:shadow-lg","aria-label":`${u.name}'s GitHub`,children:i.jsx(Rae,{className:"size-5 text-muted-foreground transition-colors duration-300 hover:text-primary"})}),u.twitter&&i.jsx("a",{href:u.twitter,onClick:d=>d.stopPropagation(),className:"rounded-xl bg-muted/80 p-3 transition-all duration-300 hover:scale-110 hover:bg-primary/10 hover:shadow-lg","aria-label":`${u.name}'s twitter`,children:i.jsx(c8,{className:"size-5 text-muted-foreground transition-colors duration-300 hover:text-primary"})}),u.linkedin&&i.jsx("a",{href:u.linkedin,onClick:d=>d.stopPropagation(),className:"rounded-xl bg-muted/80 p-3 transition-all duration-300 hover:scale-110 hover:bg-primary/10 hover:shadow-lg","aria-label":`${u.name}'s linkedin`,children:i.jsx(KL,{className:"size-5 text-muted-foreground transition-colors duration-300 hover:text-primary"})})]})]})]},u.id))})]})})},Jbe=Ybe;function Oe({className:e,...t}){return i.jsx("div",{"data-slot":"card",className:se("flex flex-col gap-6 rounded-xl border bg-card py-6 text-card-foreground shadow-sm",e),...t})}function Je({className:e,...t}){return i.jsx("div",{"data-slot":"card-header",className:se("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Qe({className:e,...t}){return i.jsx("div",{"data-slot":"card-title",className:se("font-semibold leading-none",e),...t})}function Qt({className:e,...t}){return i.jsx("div",{"data-slot":"card-description",className:se("text-muted-foreground text-sm",e),...t})}function De({className:e,...t}){return i.jsx("div",{"data-slot":"card-content",className:se("px-6",e),...t})}function Xbe({className:e,...t}){return i.jsx("div",{"data-slot":"card-footer",className:se("flex items-center px-6 [.border-t]:pt-6 ",e),...t})}const Qbe=[{id:"1",name:"John Doe",username:"johndoe",date:"2023-10-05",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-1.webp",content:"Piblin 3/4 roku jsem trpl bolest zad v bedern oblasti s postupnm odumrnm lev hd a nohy. Tato bolest byla schopn m zastavit, jako by nkdo pitahoval kohoutky a u nelo jt dl a musel jsem hledat levovou pozici ve depu. Absolvoval jsem magnetickou rezonanci (vhezy 2-6mm na 6i mstech), neurologick vyeten vetn EMG, CT obstik, konzultaci na neurochirurgii s monost operace jen jsem odmtl, rehabilitace, cvien,  stav se nelepil, akoliv jsem stle vil, e si musm bt schopen pomoci sm. Nakonec jsem se dostal na doporuen do Dires Fyzio k Martinovi astnmu a zaal objevovat nov monosti cvien a vnmn svho tla. Bolest rapidn ustoupila a vm, e zmiz pln. Je poteba vytrvat a vit, e nae tla jsou dostaten vybavena k tomu aby si pomohla, jen jim musme obas dt trochu prostoru a asu najt nov monosti."},{id:"2",name:"Jane Smith",username:"janesmith",date:"2023-09-30",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-2.webp",content:"Honza Kottas mi opt pomohl od problmu,  kter m msc trpil a se kterm mi nepomohly ani mase, ani akupunktura. Honzova jemn, citliv prce mi pinesla znatelnou levu a zlepen ne pln okamit, ale za pr hodin jsem zjistila, e u m to nebol, nethne v zdech, nebrn v ruce, nepl na hrudi. Honzu povauji za amana, litele. Jet se nestalo, aby mi nepomohl od problm, se ktermi bych la jinak k neurologovi, se kterm mm naopak velmi patnou zkuenost. Take jsem skuten astn, e Honzu znm a vele ho kadmu doporuuji."},{id:"3",name:"Alice Johnson",username:"alicej",date:"2023-09-25",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-3.webp",content:"Velice doporuuji pana Kottase, se kterm em dlouhodob neurologick problm. Dochzel jsem na rzn fyzio cvien/terapie a poprv ctm, e problmu nkdo opravdu rozum a pouv sprvnou cestu a techniku. 5/5"},{id:"4",name:"Bob Brown",username:"bobbrown",date:"2023-09-20",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-4.webp",content:"Nevila jsem, e moje 3 let dcera doke bt hodinu v klidu, ale z pana Kottase vyzauje takov klid, e se j cel nvtva lbila a i kdy se j hned ulevilo, tak by tam chtla jezdit znovu, jak j bylo cel oeten pjemn."},{id:"5",name:"Charlie Davis",username:"charlied",date:"2023-09-15",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-5.webp",content:"Dkuju za skvl pstup ! Pan Kottas byl asn a hned po prvn nvtv se mi dost ulevilo. Co jet oceuji je dostupnost do Diresu - tramvajov zastvka je kousek:))"},{id:"6",name:"Eva Wilson",username:"evawilson",date:"2023-09-10",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-6.webp",content:"Skvl osobn pstup, velice doporuuji a dkuji  "},{id:"7",name:"Frank Miller",username:"frankm",date:"2023-09-05",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-7.webp",content:"Skvl"},{id:"8",name:"Grace Lee",username:"gracelee",date:"2023-08-30",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-8.webp",content:"pstup terapeut je profesionln a clen na individuln poteby. U po pr sezench jsem ctil velk zlepen pohyblivosti."},{id:"9",name:"Henry Garcia",username:"henryg",date:"2023-08-25",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-4.webp",content:"Program 4Core m opravdu posunul. Lekce jsou srozumiteln a pomhaj nejen s tlem, ale i s celkovm ctnm sprvnho dren tla."}],e1e=({testimonial:e})=>i.jsxs(Oe,{className:"relative mb-5 break-inside-avoid rounded-xl p-5 shadow-sm border-sky-100 dark:border-sky-900/30",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(In,{className:"h-10 w-10 rounded-full ring-1 ring-muted",children:i.jsx(hs,{src:e.avatar,alt:e.name})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm font-medium",children:e.name}),i.jsx(ig,{className:"h-4 w-4 fill-sky-400 stroke-white"})]}),i.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["@",e.username]})]}),i.jsx("div",{className:"ml-auto hover:cursor-pointer",children:i.jsx("img",{src:`
          public/google__g__logo.svg.webp`,alt:"X logo",className:"h-4 w-4"})})]}),i.jsx("div",{className:"my-4 border-t border-dashed border-sky-200/60 dark:border-sky-800/30"}),i.jsx("div",{className:"text-sm text-foreground",children:i.jsx("q",{children:e.content})}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(on,{className:"h-4 w-4"}),i.jsx("span",{children:e.date})]})]}),t1e=({className:e})=>{const[t,n]=v.useState(3);v.useEffect(()=>{const a=()=>{if(typeof window>"u")return 3;const l=window.innerWidth;return l<768?1:l<1024?2:3},o=()=>{n(a())};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const s=(a,o)=>{const l=Math.ceil(a.length/o),u=[];for(let d=0;d<o;d++)for(let f=0;f<l;f++){const m=f*o+d;m<a.length&&u.push(a[m])}return u},r=v.useMemo(()=>s(Qbe,t),[t]);return i.jsx("section",{id:"testimonials",className:se("py-32",e),children:i.jsxs("div",{className:"container mx-auto flex flex-col items-center",children:[i.jsx("div",{className:"my-4 flex justify-center",children:i.jsxs(Le,{variant:"outline",className:"rounded-sm py-2 shadow-md",children:[i.jsx(Moe,{className:"mr-2 size-4 text-muted-foreground"}),i.jsx("span",{children:"Reference pacient"})]})}),i.jsxs("div",{className:"flex flex-col items-center gap-6 px-4 sm:px-8 text-center",children:[i.jsxs("h2",{className:"mb-2 text-center text-3xl font-semibold lg:text-5xl",children:["Zjistte, co kaj ",i.jsx("br",{})," nai pacienti"]}),i.jsx("div",{className:"mt-4 flex flex-col items-center justify-center gap-4 sm:flex-row",children:i.jsx("span",{children:"Objevte, jak nae fyzioterapeutick pe mn ivoty a zlepuje zdrav naich klient."})})]}),i.jsx("div",{className:"relative mt-14 w-full max-w-7xl mx-auto px-4 after:absolute after:inset-x-0 after:-bottom-2 after:h-96 after:bg-gradient-to-t after:from-background sm:px-8 md:px-16 lg:px-32",children:i.jsx("div",{className:"columns-1 gap-5 md:columns-2 lg:columns-3",children:r.map(a=>i.jsx(e1e,{testimonial:a},a.id))})}),i.jsx("div",{className:"flex justify-center",children:i.jsx(Q,{asChild:!0,className:"mt-4 gap-2 rounded-lg px-5 py-3 text-sm shadow-sm transition-colors hover:bg-primary/90 focus:outline-none disabled:pointer-events-none disabled:opacity-50",children:i.jsxs(Be,{to:"/reference",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"Zobrazit vce"}),i.jsx("span",{className:"text-muted/80",children:"-"}),i.jsx("span",{className:"text-muted/80",children:"Referenc"})]}),i.jsx(hr,{className:"h-4 w-4 text-muted-foreground/80"})]})})})]})})},fm="absolute pointer-events-none select-none object-contain mix-blend-multiply";function n1e(){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-background transition-colors duration-700",children:i.jsx(uye,{})}),i.jsx("div",{className:"bg-muted/70 transition-colors duration-700",children:i.jsx(N0e,{})}),i.jsxs("div",{className:"relative overflow-hidden bg-background transition-colors duration-700",children:[i.jsx("img",{src:"/pattern.png",alt:"","aria-hidden":"true",className:`${fm} -left-20 top-1/2 -translate-y-1/2 h-[130%] w-auto opacity-[0.12] dark:opacity-[0.08]`}),i.jsx(oye,{})]}),i.jsx("div",{className:"bg-background transition-colors duration-700",children:i.jsx(t1e,{})}),i.jsxs("div",{className:"relative overflow-hidden bg-muted/50 transition-colors duration-700",children:[i.jsx("img",{src:"/pattern_(kopie).png",alt:"","aria-hidden":"true",className:`${fm} -right-20 top-1/2 -translate-y-1/2 h-[120%] w-auto opacity-[0.12] dark:opacity-[0.07]`}),i.jsx(Gbe,{})]}),i.jsx("div",{className:"bg-muted/70 transition-colors duration-700",children:i.jsx(Ave,{})}),i.jsxs("div",{className:"relative overflow-hidden bg-background transition-colors duration-700",children:[i.jsx("img",{src:"/pattern.png",alt:"","aria-hidden":"true",className:`${fm} -left-20 top-1/2 -translate-y-1/2 h-[120%] w-auto opacity-[0.1] dark:opacity-[0.06]`}),i.jsx(Jbe,{})]}),i.jsx("div",{className:"bg-muted/40 transition-colors duration-700",children:i.jsx(_0e,{})}),i.jsxs("div",{className:"relative overflow-hidden bg-muted/70 transition-colors duration-700",children:[i.jsx("img",{src:"/ltko.png",alt:"","aria-hidden":"true",className:`${fm} -right-8 top-0 h-full w-auto opacity-[0.22] dark:opacity-[0.12]`}),i.jsx(dye,{})]}),i.jsxs("div",{className:"relative overflow-hidden bg-background transition-colors duration-700",children:[i.jsx("img",{src:"/pattern_(kopie).png",alt:"","aria-hidden":"true",className:`${fm} inset-0 w-full h-full object-cover opacity-[0.1] dark:opacity-[0.06]`,style:{maskImage:"linear-gradient(to right, black 0%, transparent 50%)",WebkitMaskImage:"linear-gradient(to right, black 0%, transparent 50%)"}}),i.jsx(Ive,{})]}),i.jsx("div",{className:"bg-muted/70 transition-colors duration-700",children:i.jsx(Mve,{})})]})}const Fd=[{title:"Vtejte v Dires",description:"V osobn prvodce fyziologickm trninkem a wellbeing",icon:""},{title:"Online kurzy",description:"Pstup k odbornm kurzm pro zdrav a funkn tlo",icon:""},{title:"Sledujte pokrok",description:"Gamifikace vaeho uen s odznaky, body a ebky",icon:""},{title:"E-shop produkt",description:"Profesionln pomcky pro vae cvien a rehabilitaci",icon:""}];function s1e(){const[e,t]=v.useState(0),n=Jt(),s=()=>{e<Fd.length-1?t(e+1):(localStorage.setItem("onboarding_completed","true"),n("/prehled"))},r=()=>{e>0&&t(e-1)},a=()=>{localStorage.setItem("onboarding_completed","true"),n("/prehled")};return i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-between p-6 bg-gradient-to-b from-background to-muted",children:[i.jsxs("div",{className:"w-full max-w-md flex-1 flex flex-col items-center justify-center",children:[i.jsx(gn,{mode:"wait",children:i.jsxs(ee.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"text-center space-y-6",children:[i.jsx(ee.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-8xl mb-8",children:Fd[e].icon}),i.jsx("h1",{className:"text-3xl font-bold",children:Fd[e].title}),i.jsx("p",{className:"text-lg text-muted-foreground",children:Fd[e].description})]},e)}),i.jsx("div",{className:"flex gap-2 mt-12",children:Fd.map((o,l)=>i.jsx(ee.div,{className:`h-2 rounded-full transition-all ${l===e?"w-8 bg-primary":"w-2 bg-muted-foreground/30"}`,initial:!1,animate:{width:l===e?32:8},transition:{duration:.3}},l))})]}),i.jsxs("div",{className:"w-full max-w-md space-y-4 pb-safe",children:[i.jsxs("div",{className:"flex gap-4",children:[e>0&&i.jsxs(Q,{variant:"outline",size:"lg",onClick:r,className:"flex-1",children:[i.jsx(ag,{className:"mr-2 h-5 w-5"}),"Zpt"]}),i.jsxs(Q,{size:"lg",onClick:s,className:"flex-1",children:[e===Fd.length-1?"Zat":"Dal",i.jsx(hr,{className:"ml-2 h-5 w-5"})]})]}),i.jsx(Q,{variant:"ghost",onClick:a,className:"w-full",children:"Peskoit"})]})]})}const r1e=({className:e})=>i.jsxs("div",{className:se(e),children:[i.jsx("h1",{className:"text-4xl font-medium sm:text-6xl md:text-7xl",children:"Video Balicky"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Kazdy balicek obsahuje sadu videi. Zakupte si balicek jednorazove a ziskejte pristup ke vsem videim uvnitr."}),i.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-4 lg:grid-cols-12",children:[i.jsxs("a",{href:"#courses",className:"group relative isolate overflow-hidden rounded-2xl border border-border transition-transform duration-300 hover:-translate-y-0.5 lg:col-span-7 lg:row-span-2",children:[i.jsx("img",{src:"https://images.pexels.com/photos/4050315/pexels-photo-4050315.jpeg?auto=compress&cs=tinysrgb&w=1200",alt:"Fyzioterapie kurzy",className:"size-full max-h-[550px] object-cover grayscale-100 transition-all duration-300 group-hover:grayscale-50"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),i.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col justify-between p-8",children:[i.jsxs(Le,{className:"w-fit border border-white/20 bg-white/15 text-white backdrop-blur-sm",children:[i.jsx(a8,{className:"size-4"}),"Doporuceny balicek"]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"Kompletni kurzy fyzioterapie pro vasi praxi"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("time",{className:"text-sm text-white/80",children:"Nove aktualizovano"}),i.jsxs("div",{className:"flex items-center -space-x-2",children:[i.jsx(In,{className:"size-6 border border-primary",children:i.jsx(hs,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100"})}),i.jsx(In,{className:"size-6 border border-primary",children:i.jsx(hs,{src:"https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100"})}),i.jsx("span",{className:"z-10 grid size-6 place-items-center rounded-full border border-primary bg-primary/90 text-xs text-white backdrop-blur-sm",children:"+5"})]})]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4 lg:col-span-5 lg:row-span-2 lg:flex-col",children:[i.jsxs("a",{href:"#courses",className:"group relative isolate overflow-hidden rounded-2xl border border-border transition-transform duration-300 hover:-translate-y-0.5",children:[i.jsx("img",{src:"https://images.pexels.com/photos/5473182/pexels-photo-5473182.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Rehabilitace",className:"size-full max-h-[267px] object-cover grayscale-100 transition-all duration-300 group-hover:grayscale-50"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),i.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col justify-between p-8",children:[i.jsx(Le,{className:"w-fit border border-white/20 bg-white/15 text-white backdrop-blur-sm",children:"Populrn"}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"Rehabilitacni techniky pro kazdy den"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("time",{className:"text-sm text-white/80",children:"Nejnovejsi"}),i.jsx(In,{className:"size-6 border border-primary",children:i.jsx(hs,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100"})})]})]})]})]}),i.jsxs("a",{href:"#courses",className:"group relative isolate overflow-hidden rounded-2xl border border-border transition-transform duration-300 hover:-translate-y-0.5",children:[i.jsx("img",{src:"https://images.pexels.com/photos/4506109/pexels-photo-4506109.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Pokrocile techniky",className:"size-full max-h-[267px] object-cover grayscale-100 transition-all duration-300 group-hover:grayscale-50"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),i.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col justify-between p-8",children:[i.jsx(Le,{className:"w-fit border border-white/20 bg-white/15 text-white backdrop-blur-sm",children:"Pokrocile"}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"Pokrocile fyzioterapeuticke postupy a metody"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("time",{className:"text-sm text-white/80",children:"Aktualizovano"}),i.jsx(In,{className:"size-6 border border-primary",children:i.jsx(hs,{src:"https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100"})})]})]})]})]})]})]})]});function Xv(e){return new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(e)}function xE({course:e}){return e.isPurchased?i.jsx(Q,{size:"sm",className:"h-9 gap-1.5 rounded-lg px-4 text-xs",asChild:!0,children:i.jsxs(Be,{to:e.cta.url,children:[i.jsx(Va,{className:"h-3.5 w-3.5",fill:"currentColor"}),"Pokracovat"]})}):e.onBuy?i.jsxs(Q,{size:"sm",className:"h-9 gap-1.5 rounded-lg px-4 text-xs",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),(n=e.onBuy)==null||n.call(e)},children:[i.jsx(og,{className:"h-3.5 w-3.5"}),"Koupit"]}):i.jsx(Q,{size:"sm",className:"h-9 gap-1.5 rounded-lg px-4 text-xs",asChild:!0,children:i.jsx(Be,{to:e.cta.url,children:e.cta.text})})}function i1e({course:e}){const[t,n]=v.useState(!1);return i.jsxs(Be,{to:e.cta.url,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"group relative flex h-full flex-col overflow-hidden rounded-2xl border border-border bg-card transition-all duration-300 hover:border-primary/30 hover:shadow-lg cursor-pointer",children:[i.jsxs("div",{className:"relative aspect-[16/9] shrink-0 overflow-hidden",children:[i.jsx("img",{src:e.image,alt:e.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),i.jsxs("div",{className:"absolute left-4 top-4 flex items-center gap-2",children:[e.badge&&i.jsx(Le,{className:"border-0 bg-white/15 text-white backdrop-blur-md",children:e.badge}),e.isPurchased&&i.jsx(Le,{className:"border-0 bg-emerald-500/90 text-white",children:"Zakoupeno"})]}),i.jsx(gn,{children:t&&!e.isPurchased&&e.onPreview&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-[2px]",children:i.jsx(ee.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},transition:{duration:.2},children:i.jsxs(Q,{variant:"secondary",size:"lg",className:"gap-2 rounded-full bg-white/95 text-black shadow-xl hover:bg-white relative z-10",onClick:s=>{var r;s.preventDefault(),s.stopPropagation(),(r=e.onPreview)==null||r.call(e)},children:[i.jsx(Vi,{className:"h-4 w-4"}),"Nahled obsahu"]})})})}),i.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:i.jsxs("div",{className:"flex items-end justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-white/15 px-2.5 py-1 text-xs font-medium text-white backdrop-blur-md",children:[i.jsx(Du,{className:"h-3 w-3"}),e.videos]}),i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-white/15 px-2.5 py-1 text-xs font-medium text-white backdrop-blur-md",children:[i.jsx(on,{className:"h-3 w-3"}),e.duration]})]}),!e.isPurchased&&e.price>0&&i.jsx("span",{className:"text-lg font-bold text-white",children:Xv(e.price)})]})})]}),i.jsxs("div",{className:"flex flex-1 flex-col p-5",children:[i.jsxs("div",{className:"mb-2 flex items-center gap-1",children:[[1,2,3,4,5].map(s=>i.jsx($r,{className:"h-3 w-3 fill-amber-400 text-amber-400"},s)),i.jsx("span",{className:"ml-1 text-xs text-muted-foreground",children:"5.0"})]}),i.jsx("h3",{className:"mb-1 text-lg font-bold leading-tight group-hover:underline",children:e.title}),i.jsx("p",{className:"mb-4 line-clamp-2 text-sm text-muted-foreground",children:e.description}),i.jsxs("div",{className:"mt-auto flex items-center gap-2 border-t border-border pt-4",children:[e.onPreview&&i.jsxs(Q,{variant:"ghost",size:"sm",className:"h-9 gap-1.5 rounded-lg px-3 text-xs",onClick:s=>{var r;s.preventDefault(),s.stopPropagation(),(r=e.onPreview)==null||r.call(e)},children:[i.jsx(Vi,{className:"h-3.5 w-3.5"}),"Nahled"]}),i.jsx("div",{className:"flex-1"}),i.jsx(xE,{course:e})]})]})]})}function a1e({course:e}){const[t,n]=v.useState(!1);return i.jsxs(Be,{to:e.cta.url,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"group relative flex h-full flex-col overflow-hidden rounded-2xl border border-border bg-card transition-all duration-300 hover:border-primary/30 hover:shadow-xl cursor-pointer",children:[i.jsxs("div",{className:"relative aspect-[2/1] shrink-0 overflow-hidden",children:[i.jsx("img",{src:e.image,alt:e.title,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"}),i.jsxs("div",{className:"absolute left-5 top-5 flex items-center gap-2",children:[e.badge&&i.jsx(Le,{className:"border-0 bg-white/15 px-3 py-1 text-sm text-white backdrop-blur-md",children:e.badge}),e.isPurchased&&i.jsx(Le,{className:"border-0 bg-emerald-500/90 px-3 py-1 text-sm text-white",children:"Zakoupeno"})]}),i.jsx(gn,{children:t&&!e.isPurchased&&e.onPreview&&i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-[2px]",children:i.jsx(ee.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},transition:{duration:.2},children:i.jsxs(Q,{variant:"secondary",size:"lg",className:"gap-2 rounded-full bg-white/95 text-black shadow-xl hover:bg-white",onClick:s=>{var r;s.preventDefault(),s.stopPropagation(),(r=e.onPreview)==null||r.call(e)},children:[i.jsx(Vi,{className:"h-5 w-5"}),"Nahled obsahu"]})})})}),i.jsxs("div",{className:"absolute bottom-5 left-5 right-5",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[1,2,3,4,5].map(s=>i.jsx($r,{className:"h-3.5 w-3.5 fill-amber-400 text-amber-400"},s)),i.jsx("span",{className:"ml-1 text-xs text-white/80",children:"5.0"})]}),i.jsx("h3",{className:"text-2xl font-bold text-white leading-tight mb-2 group-hover:underline",children:e.title}),i.jsx("p",{className:"text-sm text-white/70 line-clamp-2 max-w-2xl",children:e.description})]})]}),i.jsxs("div",{className:"flex flex-col gap-4 p-6 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-muted px-3 py-1.5 text-xs font-medium",children:[i.jsx(Du,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.videos," videi"]}),i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-muted px-3 py-1.5 text-xs font-medium",children:[i.jsx(on,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.duration]}),i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-muted px-3 py-1.5 text-xs font-medium",children:[i.jsx(Wt,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.lessons," lekci"]}),!e.isPurchased&&e.price>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[e.originalPrice&&e.originalPrice>e.price&&i.jsx("span",{className:"text-sm text-muted-foreground line-through",children:Xv(e.originalPrice)}),i.jsx("span",{className:"text-lg font-bold",children:Xv(e.price)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[e.onPreview&&i.jsxs(Q,{variant:"outline",size:"sm",className:"h-10 gap-2 rounded-lg px-4",onClick:s=>{var r;s.preventDefault(),s.stopPropagation(),(r=e.onPreview)==null||r.call(e)},children:[i.jsx(Vi,{className:"h-4 w-4"}),"Nahled"]}),i.jsx(xE,{course:e})]})]})]})}function o1e({course:e}){return i.jsxs(Be,{to:e.cta.url,className:"group flex flex-col overflow-hidden rounded-xl border border-border bg-card transition-all duration-300 hover:border-primary/30 hover:shadow-md sm:flex-row cursor-pointer",children:[i.jsxs("div",{className:"relative w-full shrink-0 overflow-hidden sm:w-56 md:w-64",children:[i.jsx("div",{className:"aspect-[16/10] sm:aspect-auto sm:h-full",children:i.jsx("img",{src:e.image,alt:e.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-black/10 sm:bg-gradient-to-r"}),i.jsxs("div",{className:"absolute left-3 top-3 flex items-center gap-1.5",children:[e.badge&&i.jsx(Le,{className:"border-0 bg-white/15 text-xs text-white backdrop-blur-md",children:e.badge}),e.isPurchased&&i.jsx(Le,{className:"border-0 bg-emerald-500/90 text-xs text-white",children:"Zakoupeno"})]})]}),i.jsxs("div",{className:"flex flex-1 flex-col justify-between p-4 sm:p-5",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"mb-1.5 flex items-center gap-1",children:[[1,2,3,4,5].map(t=>i.jsx($r,{className:"h-3 w-3 fill-amber-400 text-amber-400"},t)),i.jsx("span",{className:"ml-1 text-xs text-muted-foreground",children:"5.0"})]}),i.jsx("h3",{className:"text-base font-bold leading-snug mb-1 group-hover:underline",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 border-t border-border pt-3",children:[i.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Du,{className:"h-3 w-3"}),e.videos]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(on,{className:"h-3 w-3"}),e.duration]}),!e.isPurchased&&e.price>0&&i.jsx("span",{className:"text-sm font-bold text-foreground",children:Xv(e.price)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[e.onPreview&&i.jsxs(Q,{variant:"ghost",size:"sm",className:"h-8 gap-1.5 rounded-lg px-2.5 text-xs",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),(n=e.onPreview)==null||n.call(e)},children:[i.jsx(Vi,{className:"h-3 w-3"}),"Nahled"]}),i.jsx(xE,{course:e})]})]})]})]})}function mO({course:e,layout:t}){switch(t){case"large":return i.jsx(a1e,{course:e});case"list":return i.jsx(o1e,{course:e});default:return i.jsx(i1e,{course:e})}}const l1e=[{value:"large",icon:Lae,label:"Velke karty"},{value:"grid",icon:Vae,label:"Mrizka"},{value:"list",icon:loe,label:"Seznam"}],w0=3,c1e=({className:e,courses:t})=>{const[n,s]=v.useState(!1),[r,a]=v.useState("grid"),o=t.length>w0,l={large:"grid-cols-1 md:grid-cols-2",grid:"grid-cols-1 md:grid-cols-2 xl:grid-cols-3",list:"grid-cols-1"}[r],u=r==="list"?"gap-3":"gap-6",d=v.useCallback(()=>{s(f=>!f)},[]);return i.jsxs("section",{className:se("py-4",e),style:{overflowAnchor:"none"},children:[i.jsxs("div",{className:"mb-10 flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[i.jsxs("div",{children:[i.jsxs(Le,{variant:"outline",className:"mb-3 gap-1.5 text-xs uppercase",children:[i.jsx(Wt,{className:"h-3 w-3"}),"Katalog balicku"]}),i.jsx("h2",{className:"text-3xl font-bold",children:"Vyberte si balicek"}),i.jsx("p",{className:"mt-2 max-w-lg text-muted-foreground",children:"Kazdy balicek obsahuje sadu videi. Zakupte jednorazove a ziskejte pristup ke vsem videim."})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"hidden items-center gap-1 text-sm text-muted-foreground md:flex",children:[i.jsx(Du,{className:"h-4 w-4 text-primary"}),t.reduce((f,m)=>f+m.videos,0)," videi"]}),i.jsx("div",{className:"flex items-center rounded-lg border border-border p-0.5",children:l1e.map(f=>{const m=f.icon;return i.jsx("button",{type:"button",onClick:()=>a(f.value),className:se("rounded-md p-1.5 transition-colors",r===f.value?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"),title:f.label,children:i.jsx(m,{className:"h-4 w-4"})},f.value)})})]})]}),i.jsx(gn,{mode:"wait",initial:!1,children:i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:i.jsxs(ee.div,{className:se("grid",u,l),layout:!0,transition:{layout:{duration:.4,ease:[.25,.1,.25,1]}},children:[t.slice(0,w0).map((f,m)=>i.jsx(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.3,delay:m*.04,ease:"easeOut"},layout:!0,className:"h-full",children:i.jsx(mO,{course:f,layout:r})},f.title)),i.jsx(gn,{initial:!1,children:n&&t.slice(w0).map((f,m)=>i.jsx(ee.div,{initial:{opacity:0,y:32,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.97,transition:{duration:.2}},transition:{duration:.5,delay:m*.14,ease:[.22,1,.36,1]},layout:!0,className:"h-full",children:i.jsx(mO,{course:f,layout:r})},f.title))})]})},r)}),o&&i.jsx("div",{className:"mt-8 flex justify-center",children:i.jsxs(Q,{variant:"outline",size:"lg",onClick:d,className:"gap-2",children:[n?"Zobrazit mene":`Zobrazit vse (${t.length-w0} dalsich)`,i.jsx(ee.span,{animate:{rotate:n?180:0},transition:{type:"spring",stiffness:300,damping:20},className:"inline-flex",children:i.jsx(dr,{className:"h-4 w-4"})})]})})]})},u1e=[{title:"Novy balicek: Pokrocile rehabilitacni techniky",category:"Novinka",avatar:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100",date:"6. unor 2026",link:"#"},{title:"Aktualizace obsahu: Zaklady fyzioterapie",category:"Aktualizace",avatar:"https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100",date:"1. unor 2026",link:"#"},{title:"Spolupraca s odborniky na sportovni medicinu",category:"Partnerstvi",avatar:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100",date:"28. leden 2026",link:"#"},{title:"Nove studijni materialy ke stazeni pro vsechny kurzy",category:"Novinka",avatar:"https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100",date:"20. leden 2026",link:"#"},{title:"Pripravujeme certifikacni program pro absolventy",category:"Oznameni",avatar:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100",date:"15. leden 2026",link:"#"}],d1e=({className:e})=>i.jsx("section",{className:se("relative py-4",e),children:i.jsxs("div",{className:"relative",children:[i.jsxs("h2",{className:"text-3xl",children:["Zustan v obraze",i.jsx("br",{}),i.jsx("span",{className:"text-primary/50",children:"Posledni aktualizace a novinky."})]}),i.jsxs("div",{className:"mt-14",children:[i.jsx(It,{}),u1e.map((t,n)=>i.jsxs(v.Fragment,{children:[i.jsxs("a",{href:t.link,className:"group flex flex-col justify-between gap-10 py-6 transition-all duration-400 lg:flex-row lg:items-center lg:hover:bg-muted/50",children:[i.jsx("div",{className:"flex items-center gap-2 text-lg transition-all duration-400 lg:group-hover:translate-x-8",children:i.jsxs("p",{className:"inline text-pretty text-primary",children:[t.title,i.jsx(ur,{className:"ml-2 inline size-4 shrink-0 opacity-0 transition-all duration-400 lg:group-hover:text-primary lg:group-hover:opacity-100"})]})}),i.jsxs("div",{className:"flex w-full items-center justify-between transition-all duration-400 lg:max-w-72 lg:group-hover:-translate-x-4 xl:max-w-80",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t.category}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(In,{className:"size-7 rounded-full border border-border",children:i.jsx(hs,{src:t.avatar})}),i.jsx("time",{className:"text-xs text-muted-foreground",children:t.date})]})]})]}),i.jsx(It,{})]},n))]})]})}),eS=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"})),Fb=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"})),_p=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"})),h1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M3.00488 2.99979H21.0049C21.5572 2.99979 22.0049 3.4475 22.0049 3.99979V19.9998C22.0049 20.5521 21.5572 20.9998 21.0049 20.9998H3.00488C2.4526 20.9998 2.00488 20.5521 2.00488 19.9998V3.99979C2.00488 3.4475 2.4526 2.99979 3.00488 2.99979ZM20.0049 10.9998H4.00488V18.9998H20.0049V10.9998ZM20.0049 8.99979V4.99979H4.00488V8.99979H20.0049ZM14.0049 14.9998H18.0049V16.9998H14.0049V14.9998Z"})),pO=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM8 9H16V11H8V9ZM8 13H16V15H8V13Z"})),Gk=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M13 21V23H11V21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H9C10.1947 3 11.2671 3.52375 12 4.35418C12.7329 3.52375 13.8053 3 15 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H13ZM20 19V5H15C13.8954 5 13 5.89543 13 7V19H20ZM11 19V7C11 5.89543 10.1046 5 9 5H4V19H11Z"})),j0=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M9 1V3H15V1H17V3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H7V1H9ZM20 11H4V19H20V11ZM7 5H4V9H20V5H17V7H15V5H9V7H7V5Z"})),Fa=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"})),vE=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"})),f1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"})),m1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M17.8827 19.2968C16.1814 20.3755 14.1638 21.0002 12.0003 21.0002C6.60812 21.0002 2.12215 17.1204 1.18164 12.0002C1.61832 9.62282 2.81932 7.5129 4.52047 5.93457L1.39366 2.80777L2.80788 1.39355L22.6069 21.1925L21.1927 22.6068L17.8827 19.2968ZM5.9356 7.3497C4.60673 8.56015 3.6378 10.1672 3.22278 12.0002C4.14022 16.0521 7.7646 19.0002 12.0003 19.0002C13.5997 19.0002 15.112 18.5798 16.4243 17.8384L14.396 15.8101C13.7023 16.2472 12.8808 16.5002 12.0003 16.5002C9.51498 16.5002 7.50026 14.4854 7.50026 12.0002C7.50026 11.1196 7.75317 10.2981 8.19031 9.60442L5.9356 7.3497ZM12.9139 14.328L9.67246 11.0866C9.5613 11.3696 9.50026 11.6777 9.50026 12.0002C9.50026 13.3809 10.6196 14.5002 12.0003 14.5002C12.3227 14.5002 12.6309 14.4391 12.9139 14.328ZM20.8068 16.5925L19.376 15.1617C20.0319 14.2268 20.5154 13.1586 20.7777 12.0002C19.8603 7.94818 16.2359 5.00016 12.0003 5.00016C11.1544 5.00016 10.3329 5.11773 9.55249 5.33818L7.97446 3.76015C9.22127 3.26959 10.5793 3.00016 12.0003 3.00016C17.3924 3.00016 21.8784 6.87992 22.8189 12.0002C22.5067 13.6998 21.8038 15.2628 20.8068 16.5925ZM11.7229 7.50857C11.8146 7.50299 11.9071 7.50016 12.0003 7.50016C14.4855 7.50016 16.5003 9.51488 16.5003 12.0002C16.5003 12.0933 16.4974 12.1858 16.4919 12.2775L11.7229 7.50857Z"})),p1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M16.5 3C19.5376 3 22 5.5 22 9C22 16 14.5 20 12 21.5C10.0226 20.3135 4.91699 17.563 2.86894 13.001L1 13V11L2.21045 11.0009C2.07425 10.3633 2 9.69651 2 9C2 5.5 4.5 3 7.5 3C9.35997 3 11 4 12 5C13 4 14.64 3 16.5 3ZM16.5 5C15.4241 5 14.2593 5.56911 13.4142 6.41421L12 7.82843L10.5858 6.41421C9.74068 5.56911 8.5759 5 7.5 5C5.55906 5 4 6.6565 4 9C4 9.68542 4.09035 10.3516 4.26658 11.0004L6.43381 11L8.5 7.55635L11.5 12.5563L12.4338 11H17V13H13.5662L11.5 16.4437L8.5 11.4437L7.56619 13L5.10789 13.0006C5.89727 14.3737 7.09304 15.6681 8.64514 16.9029C9.39001 17.4955 10.1845 18.0485 11.0661 18.6038C11.3646 18.7919 11.6611 18.9729 12 19.1752C12.3389 18.9729 12.6354 18.7919 12.9339 18.6038C13.8155 18.0485 14.61 17.4955 15.3549 16.9029C18.3337 14.533 20 11.9435 20 9C20 6.64076 18.463 5 16.5 5Z"})),_B=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M19 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9V10ZM5 12V20H19V12H5ZM11 14H13V18H11V14ZM17 10V9C17 6.23858 14.7614 4 12 4C9.23858 4 7 6.23858 7 9V10H17Z"})),g1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M4 18H6V20H18V4H6V6H4V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V18ZM6 11H13V13H6V16L1 12L6 8V11Z"})),x1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM20 7.23792L12.0718 14.338L4 7.21594V19H20V7.23792ZM4.51146 5L12.0619 11.662L19.501 5H4.51146Z"})),v1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M4.5 10.5C3.675 10.5 3 11.175 3 12C3 12.825 3.675 13.5 4.5 13.5C5.325 13.5 6 12.825 6 12C6 11.175 5.325 10.5 4.5 10.5ZM19.5 10.5C18.675 10.5 18 11.175 18 12C18 12.825 18.675 13.5 19.5 13.5C20.325 13.5 21 12.825 21 12C21 11.175 20.325 10.5 19.5 10.5ZM12 10.5C11.175 10.5 10.5 11.175 10.5 12C10.5 12.825 11.175 13.5 12 13.5C12.825 13.5 13.5 12.825 13.5 12C13.5 11.175 12.825 10.5 12 10.5Z"})),y1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM13 13.3551V14H11V12.5C11 11.9477 11.4477 11.5 12 11.5C12.8284 11.5 13.5 10.8284 13.5 10C13.5 9.17157 12.8284 8.5 12 8.5C11.2723 8.5 10.6656 9.01823 10.5288 9.70577L8.56731 9.31346C8.88637 7.70919 10.302 6.5 12 6.5C13.933 6.5 15.5 8.067 15.5 10C15.5 11.5855 14.4457 12.9248 13 13.3551Z"})),gO=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M13 4.05493C17.5 4.55237 21 8.36745 21 13V22H3V13C3 8.36745 6.50005 4.55237 11 4.05493V1H13V4.05493ZM19 20V13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13V20H19ZM12 18C9.23858 18 7 15.7614 7 13C7 10.2386 9.23858 8 12 8C14.7614 8 17 10.2386 17 13C17 15.7614 14.7614 18 12 18ZM12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16ZM12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13C13 13.5523 12.5523 14 12 14Z"})),b1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M7 19V13H17V19H19V7.82843L16.1716 5H5V19H7ZM4 3H17L21 7V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM9 15V19H15V15H9Z"})),w1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M3.5 1.34558C3.58425 1.34558 3.66714 1.36687 3.74096 1.40747L22.2034 11.5618C22.4454 11.6949 22.5337 11.9989 22.4006 12.2409C22.3549 12.324 22.2865 12.3924 22.2034 12.4381L3.74096 22.5924C3.499 22.7255 3.19497 22.6372 3.06189 22.3953C3.02129 22.3214 3 22.2386 3 22.1543V1.84558C3 1.56944 3.22386 1.34558 3.5 1.34558ZM5 4.38249V10.9999H10V12.9999H5V19.6174L18.8499 11.9999L5 4.38249Z"})),j1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M5 11V13H19V11H5Z"})),mu=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM13 12H17V14H11V7H13V12Z"})),k1e=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M13.0049 16.9409V19.0027H18.0049V21.0027H6.00488V19.0027H11.0049V16.9409C7.05857 16.4488 4.00488 13.0824 4.00488 9.00275V3.00275H20.0049V9.00275C20.0049 13.0824 16.9512 16.4488 13.0049 16.9409ZM6.00488 5.00275V9.00275C6.00488 12.3165 8.69117 15.0027 12.0049 15.0027C15.3186 15.0027 18.0049 12.3165 18.0049 9.00275V5.00275H6.00488ZM1.00488 5.00275H3.00488V9.00275H1.00488V5.00275ZM21.0049 5.00275H23.0049V9.00275H21.0049V5.00275Z"})),yE=({color:e="currentColor",size:t=24,className:n,...s})=>W.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},W.createElement("path",{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"})),Ka=aC,N1e=oC,CB=v.forwardRef(({className:e,...t},n)=>i.jsx(dg,{ref:n,className:se("fixed inset-0 z-[1000] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));CB.displayName=dg.displayName;const pa=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(N1e,{children:[i.jsx(CB,{}),i.jsxs(hg,{ref:s,className:se("fixed left-[50%] top-[50%] z-[1001] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(lC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(vE,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pa.displayName=hg.displayName;const ga=({className:e,...t})=>i.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});ga.displayName="DialogHeader";const Qv=({className:e,...t})=>i.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qv.displayName="DialogFooter";const xa=v.forwardRef(({className:e,...t},n)=>i.jsx(fg,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));xa.displayName=fg.displayName;const Cp=v.forwardRef(({className:e,...t},n)=>i.jsx(mg,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));Cp.displayName=mg.displayName;function Gt({className:e,...t}){return i.jsx("div",{"data-slot":"skeleton",className:se("animate-pulse rounded-md bg-primary/10",e),...t})}function S1e({open:e,onOpenChange:t,courseTitle:n,courseDescription:s,coursePrice:r,isPurchased:a,lessons:o,loading:l,onBuy:u}){const d=o.reduce((m,g)=>m+g.duration,0),f=r?new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(r):null;return i.jsx(Ka,{open:e,onOpenChange:t,children:i.jsxs(pa,{className:"max-w-2xl max-h-[85vh] overflow-hidden",children:[i.jsx(ga,{className:"border-b pb-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:i.jsx(Hl,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx(xa,{className:"text-xl",children:n}),i.jsx(Cp,{className:"mt-1",children:s}),i.jsxs("div",{className:"mt-3 flex items-center gap-3 flex-wrap",children:[!l&&i.jsxs(i.Fragment,{children:[i.jsxs(Le,{variant:"outline",className:"gap-1 text-xs",children:[i.jsx(Du,{className:"h-3 w-3"}),o.length," videi v balicku"]}),i.jsxs(Le,{variant:"outline",className:"gap-1 text-xs",children:[i.jsx(on,{className:"h-3 w-3"}),d," min celkem"]})]}),f&&!a&&i.jsx(Le,{className:"gap-1 text-xs bg-primary",children:f}),a&&i.jsx(Le,{className:"gap-1 text-xs bg-emerald-500",children:"Zakoupeno"})]})]})]})}),i.jsx("div",{className:"mt-2 mb-1",children:i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Videa obsazena v balicku"})}),i.jsx("div",{className:"overflow-y-auto max-h-[calc(85vh-240px)] pr-1 space-y-2",children:l?Array.from({length:4}).map((m,g)=>i.jsxs("div",{className:"flex items-center gap-3 rounded-xl border p-3",children:[i.jsx(Gt,{className:"h-9 w-9 shrink-0 rounded-lg"}),i.jsxs("div",{className:"flex-1 space-y-1.5",children:[i.jsx(Gt,{className:"h-4 w-3/4"}),i.jsx(Gt,{className:"h-3 w-1/2"})]}),i.jsx(Gt,{className:"h-5 w-14 rounded-full"})]},g)):o.sort((m,g)=>m.order_index-g.order_index).map((m,g)=>i.jsxs(ee.div,{initial:{opacity:0,x:-12},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.06},className:"flex items-center gap-3 rounded-xl border p-3 transition-colors hover:bg-muted/50",children:[i.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:i.jsx(Va,{className:"h-3.5 w-3.5 text-primary",fill:"currentColor"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium leading-tight",children:m.title}),m.description&&i.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground line-clamp-1",children:m.description})]}),i.jsxs(Le,{variant:"outline",className:"shrink-0 text-[10px] gap-1 px-2 py-0.5",children:[i.jsx(on,{className:"h-2.5 w-2.5"}),m.duration," min"]})]},m.id))}),u&&!a&&i.jsx("div",{className:"border-t pt-4 mt-2",children:i.jsxs(Q,{onClick:u,className:"w-full gap-2",size:"lg",children:[i.jsx(og,{className:"h-4 w-4"}),"Koupit balicek ",f&&`za ${f}`]})})]})})}const xO=[{id:"qa_1",question:"Jak jsou nejastj piny bolesti doln sti zad?",answer:"Nejastj piny bolesti doln sti zad zahrnuj: 1) Svalov peten a napt, 2) Degenerativn zmny meziobratlovch disk, 3) patn dren tla a ergonomie, 4) Nedostatek pohybu a oslaben hlubokho stabilizanho systmu, 5) Stres a psychosomatick faktory. Dleit je komplexn diagnostika a individuln pstup k terapii.",category:"pte"},{id:"qa_2",question:"Jak asto by ml pacient cviit doma mezi terapiemi?",answer:"Optimln frekvence domcho cvien je 3-5x tdn, ideln denn po 15-20 minut. Dleitj ne dlka je pravidelnost a kvalita proveden cvik. Zante s jednoduchmi cviky a postupn zvyujte obtnost. Pacient by ml mt jasn psemn nebo video instrukce pro domc cvien.",category:"obecn"},{id:"qa_3",question:"Kdy je vhodn pout led a kdy teplo pi zrann?",answer:"Led (kryoterapie) pouvejte v akutn fzi (0-72 hodin) po zrann - sniuje otok, znt a bolest. Aplikujte na 15-20 minut s pestvkami. Teplo je vhodn pro chronick obte, svalov napt a ztuhlost - zvyuje prokrven a uvoluje svaly. Nikdy neaplikujte teplo na akutn zrann nebo aktivn znt!",category:"terapie"},{id:"qa_4",question:"Co je to hlubok stabilizan systm ptee?",answer:"Hlubok stabilizan systm (HSS) je soubor sval, kter stabilizuj pte a pnev: brnice, pn bin sval, pnevn dno a hlubok zdov svaly. Tyto svaly se aktivuj PED pohybem a chrn pte. Jejich oslaben vede k bolestem zad. Trnink HSS je zklad kad terapie ptee.",category:"pte"},{id:"qa_5",question:"Jak se li sportovn fyzioterapie od bn?",answer:"Sportovn fyzioterapie se zamuje na: 1) Prevenci zrann u sportovc, 2) Akutn pi na mst (prvn pomoc), 3) Rychlou a bezpenou nvratnost do sportu, 4) Specifick poadavky danho sportu, 5) Vy intenzitu rehabilitace, 6) Funkn testovn a screening. Vyaduje znalost biomechaniky sportu a specifickch pohybovch vzorc.",category:"sport"},{id:"qa_6",question:"Co dlat pi akutnm svalovm kei?",answer:"Pi akutnm kei: 1) Okamit zastavte aktivitu, 2) Jemn prothnte staen sval, 3) Masrujte oblast kee, 4) Aplikujte teplo nebo tepl obklad, 5) Hydratujte se (voda s minerly), 6) Odpovejte. Prevence: pravideln protahovn, dostaten hydratace, vyven strava s dostatkem hoku a draslku.",category:"akutn pe"},{id:"qa_7",question:"Jak jsou kontraindikace manuln terapie?",answer:"Absolutn kontraindikace: ndorov onemocnn ptee, infekce, akutn zlomeniny, tk osteoporza, neurologick deficity, vaskulrn komplikace. Relativn: akutn znt, gravidita, antikoagulan terapie. Vdy dkladn vyetete pacienta a v ppad pochybnost konzultujte s lkaem. Bezpenost pacienta je priorita!",category:"terapie"},{id:"qa_8",question:"Jak hodnotit pokrok pacienta v rehabilitaci?",answer:"Hodnocen pokroku: 1) Subjektivn (bolest - VAS kla, funkn omezen), 2) Objektivn (rozsah pohybu, svalov sla, funkn testy), 3) Standardizovan dotaznky (ODI, DASH), 4) Funkn testy specifick pro aktivitu, 5) Clov kritria stanoven na zatku. Pravideln revidujte terapeutick pln podle pokroku.",category:"obecn"},{id:"qa_9",question:"Jak je postup pi syndromu karplnho tunelu?",answer:"Konzervativn lba zahrnuje: 1) Non dlahy v neutrln pozici zpst, 2) Modifikace ergonomie pracovit, 3) Neuromobilizace n. medianus, 4) Protaen a poslen sval pedlokt, 5) Fyzikln terapie (ultrazvuk, laser), 6) Edukace pacienta. Pi nespchu konzervativn lby zvate chirurgick een.",category:"terapie"},{id:"qa_10",question:"Co je dleit pi rehabilitaci po cvn mozkov phod?",answer:"Klov principy: 1) Vasn zatek - co nejdve po stabilizaci, 2) Intenzivn a opakovan trnink, 3) Funkn orientovan cvien (ADL aktivity), 4) Prevence komplikac (kontraktury, proleeniny), 5) Facilitace pohybu postienou stranou, 6) Ncvik rovnovhy a chze, 7) Multidisciplinrn pstup, 8) Psychologick podpora pacienta a rodiny.",category:"neurologie"}];function EB(){const{session:e}=Ht(),[t,n]=v.useState(!1),[s,r]=v.useState(!0),[a,o]=v.useState([{id:"0",type:"bot",content:"Ahoj! Jsem v AI asistent pro fyzioterapii. Mete se m zeptat na cokoliv ohledn fyzioterapie, rehabilitace a pe o pacienty."}]),[l,u]=v.useState(""),[d,f]=v.useState(!1),m=v.useRef(null),g=v.useRef(null),x=xO;v.useEffect(()=>{var k;(k=m.current)==null||k.scrollIntoView({behavior:"smooth"})},[a,d]),v.useEffect(()=>{const k=S=>{g.current&&!g.current.contains(S.target)&&n(!1)};return t&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[t]);const b=(k,S)=>{f(!0),setTimeout(()=>{f(!1);const C={id:Date.now().toString(),type:"bot",content:k,category:S};o(E=>[...E,C])},1e3+Math.random()*1e3)},w=k=>{const S={id:Date.now().toString(),type:"user",content:k.question};o(C=>[...C,S]),b(k.answer,k.category),r(!1)},j=async()=>{if(!l.trim())return;const k={id:Date.now().toString(),type:"user",content:l};o(C=>[...C,k]);const S=l;u(""),f(!0);try{const C=(e==null?void 0:e.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE",E=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/ai-chat",{method:"POST",headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},body:JSON.stringify({question:S})});if(!E.ok)throw new Error("Failed to get AI response");const T=await E.json();f(!1);const M={id:Date.now().toString(),type:"bot",content:T.answer};o(z=>[...z,M])}catch(C){console.error("AI Error:",C),f(!1);const E=xO.find(z=>z.question.toLowerCase().includes(S.toLowerCase())||S.toLowerCase().includes(z.question.toLowerCase().split(" ").slice(0,3).join(" "))),T=E?E.answer:"Omlouvm se, na tuto otzku momentln nemm odpov. Zkuste prosm peformulovat dotaz nebo vyberte nkterou z pipravench otzek ne.",M={id:Date.now().toString(),type:"bot",content:T,category:E==null?void 0:E.category};o(z=>[...z,M])}};return i.jsxs(i.Fragment,{children:[i.jsx(gn,{children:!t&&i.jsx(ee.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!0),className:"fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full bg-gradient-to-br from-primary to-primary/80 shadow-2xl flex items-center justify-center hover:shadow-primary/50 transition-shadow",children:i.jsx(gO,{className:"h-7 w-7 text-white"})})}),i.jsx(gn,{children:t&&i.jsx(ee.div,{ref:g,initial:{scale:0,opacity:0,originX:1,originY:1},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",duration:.5,bounce:.3},className:"fixed bottom-6 right-6 z-50 w-[350px] max-w-[calc(100vw-3rem)]",children:i.jsxs(Oe,{className:"border-2 border-primary/20 bg-background shadow-2xl",children:[i.jsx(Je,{className:"pb-3 bg-gradient-to-br from-primary/10 to-transparent",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-primary to-primary/80",children:i.jsx(gO,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-base",children:"AI Asistent"}),i.jsx(Qt,{className:"text-xs",children:"Fyzioterapie pomoc"})]})]}),i.jsx(Q,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:()=>n(!1),children:i.jsx(vE,{className:"h-5 w-5"})})]})}),i.jsxs(De,{className:"p-3 space-y-2",children:[i.jsx("div",{className:"relative",onWheel:k=>k.stopPropagation(),children:i.jsx(tE,{className:"h-[250px] pr-2",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs(gn,{children:[a.map((k,S)=>i.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${k.type==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[85%] rounded-2xl px-3.5 py-2.5 relative overflow-hidden ${k.type==="user"?"bg-primary text-primary-foreground rounded-br-sm":S===0?"bg-gradient-to-br from-primary/10 via-primary/5 to-background/50 border border-primary/20 rounded-bl-sm shadow-sm":"bg-muted rounded-bl-sm"}`,children:[k.type==="bot"&&S===0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`repeating-linear-gradient(
                                        45deg,
                                        transparent,
                                        transparent 10px,
                                        hsl(var(--primary) / 0.08) 10px,
                                        hsl(var(--primary) / 0.08) 20px
                                      )`}}),i.jsx("div",{className:"absolute -top-6 -right-6 w-32 h-32 bg-gradient-to-br from-primary/15 via-primary/5 to-transparent rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-4 -left-4 w-20 h-20 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl"})]}),i.jsx("p",{className:"text-xs leading-relaxed relative z-10",children:k.content}),k.category&&i.jsx(Le,{variant:"outline",className:"mt-1.5 text-xs relative z-10",children:k.category})]})},k.id)),d&&i.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex justify-start",children:i.jsx("div",{className:"max-w-[85%] rounded-2xl rounded-bl-sm px-3 py-2 bg-muted",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx(ee.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0}}),i.jsx(ee.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2}}),i.jsx(ee.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4}})]})})})]}),i.jsx("div",{ref:m})]})})}),i.jsx(gn,{children:s&&x.length>0&&i.jsxs(ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"space-y-2 overflow-hidden border-t pt-3",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"asto kladen:"}),i.jsx("div",{className:"space-y-1.5",children:x.slice(0,3).map(k=>i.jsx("button",{onClick:()=>w(k),className:"w-full text-left px-3 py-2 rounded-lg border border-primary/10 hover:border-primary/30 hover:bg-primary/5 transition-all text-xs group",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(y1e,{className:"h-3 w-3 text-primary flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"line-clamp-2",children:k.question})]})},k.id))})]})}),i.jsxs("div",{className:"flex gap-2 border-t pt-3",children:[i.jsx(Re,{value:l,onChange:k=>u(k.target.value),onKeyPress:k=>k.key==="Enter"&&j(),placeholder:"Napite dotaz...",className:"flex-1 text-sm"}),i.jsx(Q,{onClick:j,size:"icon",disabled:!l.trim(),className:"flex-shrink-0",children:i.jsx(w1e,{className:"h-4 w-4"})})]})]})]})})})]})}const vO=["https://images.pexels.com/photos/4506109/pexels-photo-4506109.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/5473182/pexels-photo-5473182.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/4050315/pexels-photo-4050315.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/4498606/pexels-photo-4498606.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/7298867/pexels-photo-7298867.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/3985163/pexels-photo-3985163.jpeg?auto=compress&cs=tinysrgb&w=800"],yO=["https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100","https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100"],bO=["from-blue-100 to-cyan-100","from-green-100 to-emerald-100","from-amber-100 to-orange-100","from-rose-100 to-pink-100","from-teal-100 to-green-100","from-sky-100 to-blue-100"];function _1e(){const{user:e,session:t}=Ht(),n=Jt(),[s,r]=r_(),[a,o]=v.useState([]),[l,u]=v.useState([]),[d,f]=v.useState([]),[m,g]=v.useState([]),[x,b]=v.useState(!0),[,w]=v.useState(null),j=!!e,[k,S]=v.useState(!1),[C,E]=v.useState(null),[T,M]=v.useState([]),[z,A]=v.useState(!1),D=v.useCallback(async()=>{try{const{data:J}=await ae.from("course_packages").select("*").order("order_index"),{data:P}=await ae.from("courses").select("id, title, description, duration, lessons_count, price, package_id, order_index").eq("published",!0).not("package_id","is",null).order("order_index");if(J&&o(J),P&&u(P),e){const{data:I,error:L}=await ae.from("course_enrollments").select("course_id, completed, completion_date").eq("user_id",e.id),{data:G,error:U}=await ae.from("course_purchases").select("course_id").eq("user_id",e.id);L&&console.error("Error loading enrollments:",L),U&&console.error("Error loading purchases:",U),f(I||[]),g(G||[])}}catch(J){console.error("Error loading courses:",J)}finally{b(!1)}},[e]);v.useEffect(()=>{D()},[D]),v.useEffect(()=>{const J=s.get("purchased"),P=s.get("session_id");if(J&&e){r({},{replace:!0});const I=Se.loading("Overujeme platbu...");(async()=>{if(P)try{const{data:{session:K}}=await ae.auth.getSession();if(K&&(await(await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/verify-course-purchase",{method:"POST",headers:{Authorization:`Bearer ${K.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({sessionId:P})})).json()).verified){await D(),Se.dismiss(I),Se.success("Kurz je nyni odemceny!",{description:"Muzete zacit studovat ihned",duration:5e3});return}}catch(K){console.error("Verify course purchase error:",K)}let G=0;const U=30,R=async()=>{G++;const{data:K}=await ae.from("course_purchases").select("course_id").eq("user_id",e.id).eq("course_id",J).maybeSingle();K?(await D(),Se.dismiss(I),Se.success("Kurz je nyni odemceny!",{description:"Muzete zacit studovat ihned",duration:5e3}),clearInterval(H)):G>=U&&(clearInterval(H),Se.dismiss(I),Se.warning("Zpracovani platby trva dele nez obvykle",{description:"Zkuste obnovit stranku nebo kontaktujte podporu"}))},H=setInterval(R,2e3);R()})()}},[s,e,r,D]);const B=J=>m.some(P=>P.course_id===J)||d.some(P=>P.course_id===J),$=async J=>{if(!e||!t){n("/registrace");return}const{data:{session:P},error:I}=await ae.auth.getSession();if(I||!P){Se.error("Prosim prihlaste se znovu"),n("/prihlaseni");return}w(J);try{const G=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/course-checkout",{method:"POST",headers:{Authorization:`Bearer ${P.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({courseId:J})}),U=await G.json();if(!G.ok)throw console.error("Checkout failed:",{status:G.status,error:U.error}),new Error(U.error||"Chyba pri vytvareni platby");U.url&&(window.location.href=U.url)}catch(L){console.error("Checkout error:",L),Se.error(L instanceof Error?L.message:"Chyba pri vytvareni platby")}finally{w(null)}},q=async J=>{const P=a.find(G=>G.id===J),I=l.filter(G=>G.package_id===J);if(!P)return;const L=I.reduce((G,U)=>G+U.price,0);E({title:P.title,description:P.description,price:L}),A(!0),S(!0);try{const G=I.map(R=>R.id),{data:U}=await ae.from("course_lessons").select("id, course_id, title, description, duration, order_index").in("course_id",G).order("order_index");M(U||[])}catch{M([])}finally{A(!1)}},Z=()=>a.map((J,P)=>{const I=l.filter(Y=>Y.package_id===J.id),L=I.reduce((Y,le)=>Y+le.lessons_count,0),G=I.reduce((Y,le)=>Y+le.duration,0),U=I.reduce((Y,le)=>Y+le.price,0),R=I.filter(Y=>B(Y.id)),H=I.length>0&&I.every(Y=>B(Y.id)),K=R.length>0&&!H,ne=I.find(Y=>{const le=B(Y.id),he=d.find(be=>be.course_id===Y.id);return le||!!he}),ce=I.length>0?I[0].id:"",ue=I.filter(Y=>!B(Y.id)).reduce((Y,le)=>Y+le.price,0);return{badge:H?"Zakoupeno":K?`${R.length}/${I.length} odemceno`:"Balicek",title:J.title,description:J.description,author:{name:"Fyzioterapie tym",title:K?`${R.length}/${I.length} kurzu odemceno`:`${I.length} kurzu v balicku`,avatar:yO[P%yO.length]},image:vO[P%vO.length],lessons:I.length,videos:L,duration:`${G} min`,audience:["Fyzioterapeuti","Studenti"],gradient:bO[P%bO.length],price:K?ue:U,coursesInPackage:I.map(Y=>({id:Y.id,title:Y.title,duration:Y.duration})),isPurchased:H||K,cta:{text:H||K?"Pokracovat":"Zobrazit",url:ne?`/kurz/${ne.id}`:ce?`/kurz/${ce}`:"#courses"},onPreview:()=>q(J.id),onBuy:!H&&!K&&j?()=>{const Y=I.find(le=>!B(le.id));Y&&$(Y.id)}:!H&&!K&&!j?()=>n("/registrace"):void 0}});if(x)return i.jsx("div",{className:"flex min-h-[600px] items-center justify-center",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})});const F=Z();return i.jsxs("div",{className:"py-20",children:[i.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-muted/40 px-6 py-16 sm:px-10 lg:px-16",children:[i.jsx("div",{className:"pointer-events-none absolute -right-24 -top-24 h-80 w-80 rounded-full bg-primary/10 blur-[90px]"}),i.jsx("div",{className:"pointer-events-none absolute -bottom-24 -left-20 h-72 w-72 rounded-full bg-primary/8 blur-[80px]"}),i.jsx("div",{className:"pointer-events-none absolute left-1/2 top-1/3 h-56 w-96 -translate-x-1/2 rounded-full bg-primary/5 blur-[100px]"}),i.jsx(r1e,{})]}),i.jsxs("div",{id:"courses",className:"relative mt-16 overflow-hidden rounded-3xl bg-muted/40 px-6 py-12 sm:px-10 lg:px-16",children:[i.jsx("div",{className:"pointer-events-none absolute -bottom-24 -left-24 h-64 w-64 rounded-full bg-primary/8 blur-[80px]"}),i.jsx("div",{className:"pointer-events-none absolute -top-16 right-1/3 h-48 w-72 rounded-full bg-primary/6 blur-[70px]"}),i.jsx(c1e,{courses:F})]}),i.jsxs("div",{className:"relative mt-16 overflow-hidden rounded-3xl bg-muted/40 px-6 py-12 sm:px-10 lg:px-16",children:[i.jsx("div",{className:"pointer-events-none absolute -left-20 -top-20 h-64 w-64 rounded-full bg-primary/8 blur-[80px]"}),i.jsx("div",{className:"pointer-events-none absolute -bottom-16 -right-16 h-56 w-56 rounded-full bg-primary/6 blur-[70px]"}),i.jsx("div",{className:"pointer-events-none absolute right-1/4 top-0 h-40 w-80 rounded-full bg-primary/4 blur-[90px]"}),i.jsx(d1e,{})]}),i.jsx(S1e,{open:k,onOpenChange:S,courseTitle:(C==null?void 0:C.title)||"",courseDescription:(C==null?void 0:C.description)||"",coursePrice:C==null?void 0:C.price,isPurchased:!1,lessons:T,loading:z,onBuy:void 0})]}),i.jsx(EB,{})]})}const bE=[{slug:"lineseat",name:"Lineseat",subtitle:"Ergonomicky sedak",description:"Nase pomucka pro stabilni a funkcni sed v aute nebo v kancelari.",image:"/lefttop1.png",images:[{src:"/lefttop1.png",thumbnail:"/lefttop1.png",alt:"Lineseat ergonomicky sedak",width:1280,height:853},{src:"/IMG_9113_lineseat.png.webp",thumbnail:"/IMG_9113_lineseat.png.webp",alt:"Lineseat pohled shora",width:1280,height:853},{src:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp",thumbnail:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp",alt:"Lineseat detail materialu",width:1280,height:853},{src:"/MG_0170-1024x683-1.jpg.webp",thumbnail:"/MG_0170-1024x683-1.jpg.webp",alt:"Lineseat v aute",width:1024,height:683}],price:{regular:3900,sale:2900,currency:"CZK"},badge:"Akce",note:"Akce je platna do vyprodani zasob!",rate:4.5,ctaPrimaryLabel:"Koupit",ctaSecondaryLabel:"O produktu",services:[{icon:Hm,text:"Doprava zdarma po cele CR"},{icon:q3,text:"Vraceni do 30 dnu zdarma"},{icon:W3,text:"Moznost vyzvednuti v nasem showroomu"}],accordion:[{value:"popis",title:"Popis produktu",content:{text:"Lineseat je inovativni ergonomicky sedak, ktery vam pomuze udrzet spravne drzeni tela pri sezeni. At uz travite hodiny v kancelari nebo za volantem, Lineseat podporuje vasi pater a pomaha predchazet bolestem zad. Navrzeno fyzioterapeuty s 20letou zkusenosti."}},{value:"materialy",title:"Materialy a rozmery",content:{list:["Vysokokvalitni pena s tvarovou pameti","Protiskluzova spodni strana","Pratelny potah na zip","Rozmery: 45 x 40 x 8 cm"]}},{value:"doprava",title:"Doprava a vraceni",content:{text:"Doprava po cele CR zdarma. Zbozi lze vratit do 30 dnu od zakoupeni v originalnim obalu. Doruceni obvykle do 3-5 pracovnich dnu."}}]},{slug:"correctfoot",name:"Correctfoot",subtitle:"Balancni desticka",description:"Balancni desticka pro trenink koncetin.",image:"/correctfoot-carbon-2048x1245.jpg",images:[{src:"/correctfoot-carbon-2048x1245.jpg",thumbnail:"/correctfoot-carbon-2048x1245.jpg",alt:"Correctfoot Carbon varianta",width:2048,height:1245},{src:"/correctfoot-wood-2048x1545.jpg",thumbnail:"/correctfoot-wood-2048x1545.jpg",alt:"Correctfoot Wood varianta",width:2048,height:1545}],price:{regular:2900,currency:"CZK"},pricePrefix:"od",note:"Vyber ze dvou variant.",rate:4,ctaPrimaryLabel:"Koupit",ctaSecondaryLabel:"O produktu",services:[{icon:Hm,text:"Doprava zdarma po cele CR"},{icon:q3,text:"Vraceni do 30 dnu zdarma"},{icon:Hl,text:"Vyber ze dvou variant"}],accordion:[{value:"popis",title:"Popis produktu",content:{text:"Correctfoot balancni desticka je navrzena ve spolupraci s fyzioterapeuty. Pomaha zlepsit stabilitu, propriocepci a koordinaci. Idealni pro rehabilitaci po zranenich kotnika a kolena."}},{value:"varianty",title:"Varianty",content:{list:["Varianta Basic - pro zacatecniky a mirnou rehabilitaci","Varianta Pro - pro pokrocile a intenzivni trenink","Obe varianty vyrobeny z kvalitniho dreva","Protiskluzovy povrch"]}},{value:"doprava",title:"Doprava a vraceni",content:{text:"Doprava po cele CR zdarma. Zbozi lze vratit do 30 dnu od zakoupeni v originalnim obalu."}}]},{slug:"4core",name:"4CORE",subtitle:"Treninkovy program",description:"Online treninkovy program pro zlepseni kondice a zdravi.",image:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=800",images:[{src:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"4CORE treninkovy program",width:1280,height:853},{src:"https://images.pexels.com/photos/3768131/pexels-photo-3768131.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/3768131/pexels-photo-3768131.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"4CORE cviceni",width:1280,height:853},{src:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"4CORE trenink",width:1280,height:853}],price:{regular:4900,currency:"CZK"},features:["70 dni treninku","15 minut denne"],note:"Dozivotni pristup!",rate:4.8,ctaPrimaryLabel:"Koupit",ctaSecondaryLabel:"Vyzkouset",services:[{icon:Hl,text:"Okamzity pristup po zakoupeni"},{icon:W3,text:"Dozivotni pristup ke vsem materialam"}],accordion:[{value:"obsah",title:"Co program obsahuje",content:{list:["70 dnu strukturovaneho treninku","Video navody ke kazdemu cviku","Postupne zvysovani narocnosti","Dozivotni pristup ke vsem materialam"]}},{value:"komu",title:"Pro koho je urcen",content:{text:"Program je vhodny pro vsechny urovne zdatnosti. At uz jste uplny zacatecnik nebo pokrocily sportovec, 4CORE se prizpusobi vasemu tempu."}},{value:"fungovani",title:"Jak to funguje",content:{text:"Po zakoupeni ziskate okamzity pristup do online platformy. Kazdy den obdrzite novy trenink s video navodem. Staci 15 minut denne."}}]},{slug:"fyziotrenink",name:"Fyziotrenink",subtitle:"Kniha",description:"Aktualizovane vydani knihy Fyziotrenink - Pohyb jako lek.",image:"https://images.pexels.com/photos/3747468/pexels-photo-3747468.jpeg?auto=compress&cs=tinysrgb&w=800",images:[{src:"https://images.pexels.com/photos/3747468/pexels-photo-3747468.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/3747468/pexels-photo-3747468.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"Kniha Fyziotrenink",width:1280,height:853},{src:"https://images.pexels.com/photos/5473188/pexels-photo-5473188.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/5473188/pexels-photo-5473188.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"Fyziotrenink obsah",width:1280,height:853},{src:"https://images.pexels.com/photos/3838389/pexels-photo-3838389.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/3838389/pexels-photo-3838389.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"Fyziotrenink cviky",width:1280,height:853}],price:{regular:450,currency:"CZK"},note:"Cena je vcetne dopravy!",rate:4.7,ctaPrimaryLabel:"Koupit",ctaSecondaryLabel:"O knize",services:[{icon:Hm,text:"Cena vcetne postovneho a balneho"},{icon:Hl,text:"Doruceni do 3-5 pracovnich dnu"}],accordion:[{value:"oknize",title:"O knize",content:{text:"Fyziotrenink - Pohyb jako lek je prakticky pruvodce, ktery vam ukazuje, jak vyuzit pohyb jako nastroj pro zlepseni zdravi. Obsahuje desitky cviku s detailnimi popisy a ilustracemi."}},{value:"obsah",title:"Obsah knihy",content:{list:["Zaklady funkcniho treninku","Cviky pro spravne drzeni tela","Rehabilitacni programy","Prevence zraneni","Treninkove plany pro ruzne urovne"]}},{value:"doprava",title:"Doprava",content:{text:"Kniha je zasilana postou s dorucenim do 3-5 pracovnich dnu. Cena jiz zahrnuje postovne a balne."}}]}];function C1e(e){return bE.find(t=>t.slug===e)}const E1e=({className:e})=>i.jsxs("section",{className:se("py-16 md:py-24",e),children:[i.jsxs("div",{className:"mb-12 text-center",children:[i.jsxs(Le,{variant:"outline",className:"mb-4",children:[i.jsx(og,{className:"mr-1.5 size-3"}),"Obchod"]}),i.jsx("h1",{className:"text-3xl font-bold tracking-tight sm:text-4xl lg:text-5xl",children:"Nase produkty"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-lg text-muted-foreground",children:"Profesionalni pomucky a programy pro vasi fyzioterapii a zdravi"})]}),i.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:bE.map(t=>i.jsx(T1e,{product:t},t.slug))})]}),T1e=({product:e})=>i.jsxs(Be,{to:`/produkt/${e.slug}`,className:"group flex flex-col overflow-hidden rounded-2xl border border-border/50 bg-card transition-all duration-300 hover:border-border hover:shadow-lg",children:[i.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-muted",children:[i.jsx("img",{src:e.image,alt:e.name,className:"size-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.badge&&i.jsx(Le,{className:"absolute left-3 top-3 bg-red-600 text-white hover:bg-red-700",children:e.badge})]}),i.jsxs("div",{className:"flex flex-1 flex-col p-5",children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:e.subtitle}),i.jsx("h3",{className:"mt-1 text-xl font-bold tracking-tight",children:e.name}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed text-muted-foreground",children:e.description}),e.features&&i.jsx("ul",{className:"mt-3 space-y-1.5",children:e.features.map(t=>i.jsxs("li",{className:"flex items-center gap-2 text-sm text-foreground/80",children:[i.jsx(on,{className:"size-3.5 shrink-0 text-primary"}),t]},t))}),i.jsxs("div",{className:"mt-auto pt-4",children:[i.jsxs("div",{className:"flex items-baseline gap-2",children:[e.pricePrefix&&i.jsx("span",{className:"text-sm text-muted-foreground",children:e.pricePrefix}),i.jsx("span",{className:"text-2xl font-bold tracking-tight",children:(e.price.sale??e.price.regular).toLocaleString("cs-CZ")}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Kc"}),e.price.sale&&i.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:[e.price.regular.toLocaleString("cs-CZ")," Kc"]})]}),e.note&&i.jsxs("p",{className:"mt-1.5 flex items-center gap-1.5 text-xs font-medium text-emerald-600 dark:text-emerald-400",children:[e.note.toLowerCase().includes("doprav")?i.jsx(Hm,{className:"size-3"}):e.note.toLowerCase().includes("dozivot")?i.jsx(WL,{className:"size-3"}):e.note.toLowerCase().includes("kniz")?i.jsx(Wt,{className:"size-3"}):i.jsx(og,{className:"size-3"}),e.note]})]}),i.jsx("div",{className:"mt-4 rounded-lg bg-primary px-4 py-2.5 text-center text-sm font-medium text-primary-foreground transition-colors group-hover:bg-primary/90",children:"Zobrazit detail"})]})]}),ey=({rate:e,max:t=5,className:n})=>{const s=Math.floor(e),r=e%1!==0,a=t-Math.ceil(e);return i.jsxs("div",{className:se("flex items-center gap-0.5",n),children:[Array.from({length:s}).map((o,l)=>i.jsx($r,{className:"fill-yellow-400 text-yellow-400"},`full-${l}`)),r&&i.jsxs("div",{className:"relative",children:[i.jsx($r,{className:"text-yellow-400"}),i.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{width:"50%"},children:i.jsx($r,{className:"fill-yellow-400 text-yellow-400"})})]}),Array.from({length:a}).map((o,l)=>i.jsx($r,{className:"text-gray-300"},`empty-${l}`))]})};function z1e(e,t=[]){let n=[];function s(a,o){const l=v.createContext(o);l.displayName=a+"Context";const u=n.length;n=[...n,o];const d=m=>{var k;const{scope:g,children:x,...b}=m,w=((k=g==null?void 0:g[e])==null?void 0:k[u])||l,j=v.useMemo(()=>b,Object.values(b));return i.jsx(w.Provider,{value:j,children:x})};d.displayName=a+"Provider";function f(m,g){var w;const x=((w=g==null?void 0:g[e])==null?void 0:w[u])||l,b=v.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,f]}const r=()=>{const a=n.map(o=>v.createContext(o));return function(l){const u=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return r.scopeName=e,[s,M1e(r,...t)]}function M1e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...l,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var A1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],TB=A1e.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),wE="Progress",jE=100,[R1e]=z1e(wE),[O1e,D1e]=R1e(wE),zB=v.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:a=P1e,...o}=e;(r||r===0)&&!wO(r)&&console.error(I1e(`${r}`,"Progress"));const l=wO(r)?r:jE;s!==null&&!jO(s,l)&&console.error(L1e(`${s}`,"Progress"));const u=jO(s,l)?s:null,d=ty(u)?a(u,l):void 0;return i.jsx(O1e,{scope:n,value:u,max:l,children:i.jsx(TB.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ty(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":RB(u,l),"data-value":u??void 0,"data-max":l,...o,ref:t})})});zB.displayName=wE;var MB="ProgressIndicator",AB=v.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,r=D1e(MB,n);return i.jsx(TB.div,{"data-state":RB(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:t})});AB.displayName=MB;function P1e(e,t){return`${Math.round(e/t*100)}%`}function RB(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ty(e){return typeof e=="number"}function wO(e){return ty(e)&&!isNaN(e)&&e>0}function jO(e,t){return ty(e)&&!isNaN(e)&&e<=t&&e>=0}function I1e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${jE}\`.`}function L1e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${jE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var OB=zB,$1e=AB;const Hi=v.forwardRef(({className:e,value:t,...n},s)=>i.jsx(OB,{ref:s,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx($1e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Hi.displayName=OB.displayName;const V1e=[{id:"1",rating:5,title:"Vborn pomcka na rehabilitaci",content:"Po operaci kolene jsem poteboval kvalitn pomcky na cvien doma. Posilovac gumy jsou skvl, rzn rovn odporu a nvod s cviky. U po msci vidm velk pokrok.",author:{name:"Jana Novkov",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-1.webp"},date:"10. prosince 2024",verified:!0,helpful:42},{id:"2",rating:5,title:"Perfektn pro domc cvien",content:"Jsem fyzioterapeutka a tyto pomcky doporuuji i svm klientm. Kvalita je opravdu vysok a cena je frov. Rychl dodn a skvl komunikace.",author:{name:"Mgr. Petra Dvokov",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-2.webp"},date:"8. prosince 2024",verified:!0,helpful:38},{id:"3",rating:4,title:"Skvl pomr cena/vkon",content:"Masn mky mi pomohly s bolestmi zad. Pouvm je kad den po prci a ctm se mnohem lpe. Kvalita je dobr, jen trochu tu ne jsem ekal.",author:{name:"Tom Svoboda",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-3.webp"},date:"5. prosince 2024",verified:!0,helpful:24},{id:"4",rating:5,title:"Pomohlo mi od bolesti",content:"Ml jsem dlouhodob bolesti ramen a akupresurn podloka mi opravdu pomohla. U po tdnu jsem ctil zlepen. Urit doporuuji vem s podobnmi problmy.",author:{name:"Martin Prochzka"},date:"2. prosince 2024",verified:!1,helpful:19},{id:"5",rating:4,title:"Kvalitn pomcka",content:"Balann podloka je skvl na poslen hlubokho stabilizanho systmu. Pouvm ji pi vech cvicch. Trochu pevnj ne jsem oekvala, ale celkov jsem spokojen.",author:{name:"Lucie Markov",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-5.webp"},date:"28. listopadu 2024",verified:!0,helpful:12},{id:"6",rating:3,title:"Slun za tu cenu",content:"Rehabilitan m dl co m. Nen to top kvalita, ale pro domc cvien to sta. Rychl dodn a dobr cena.",author:{name:"Pavel ern"},date:"25. listopadu 2024",verified:!0,helpful:8}],B1e=({reviews:e=V1e,className:t})=>{const[n,s]=v.useState("helpful"),r=e.length,a=e.reduce((d,f)=>d+f.rating,0)/r,o=[5,4,3,2,1].map(d=>({star:d,count:e.filter(f=>f.rating===d).length,percentage:e.filter(f=>f.rating===d).length/r*100})),l=[...e].sort((d,f)=>{switch(n){case"helpful":return(f.helpful||0)-(d.helpful||0);case"newest":return new Date(f.date).getTime()-new Date(d.date).getTime();case"highest":return f.rating-d.rating;case"lowest":return d.rating-f.rating;default:return 0}}),u={helpful:"Nejuitenj",newest:"Nejnovj",highest:"Nejvy hodnocen",lowest:"Nejni hodnocen"};return i.jsx("section",{className:se("py-16 md:py-24",t),children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"mb-6 flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Hodnocen zkaznk"}),i.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"text-3xl font-bold",children:a.toFixed(1)}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"/ 5"})]}),i.jsx(ey,{rate:a,className:"[&_svg]:size-4"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",r,")"]})]})]}),i.jsxs("div",{className:"flex gap-2 sm:w-48",children:[i.jsx("div",{className:"flex flex-col gap-1.5 text-xs text-muted-foreground",children:[5,4,3,2,1].map(d=>i.jsx("span",{className:"h-2 leading-none",children:d},d))}),i.jsx("div",{className:"flex flex-1 flex-col gap-1.5",children:o.map(({star:d,percentage:f})=>i.jsx(Hi,{value:f,className:"h-2"},d))})]})]}),i.jsx(It,{className:"mb-4"}),i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[r," hodnocen"]}),i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsxs(Q,{variant:"ghost",size:"sm",className:"gap-1",children:["Seadit: ",u[n],i.jsx(dr,{className:"size-4"})]})}),i.jsx(jg,{align:"end",children:Object.keys(u).map(d=>i.jsx(lr,{onClick:()=>s(d),className:se(n===d&&"font-medium"),children:u[d]},d))})]})]}),i.jsx("div",{className:"space-y-0",children:l.map((d,f)=>i.jsxs("div",{children:[f>0&&i.jsx(It,{className:"my-4"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(In,{className:"size-7",children:[i.jsx(hs,{src:d.author.avatar,alt:d.author.name}),i.jsx(Sr,{className:"text-xs",children:d.author.name.split(" ").map(m=>m[0]).join("")})]}),i.jsx("span",{className:"text-sm font-medium",children:d.author.name}),d.verified&&i.jsx(ig,{className:"size-4 text-emerald-600"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:d.date})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ey,{rate:d.rating,className:"[&>div]:size-3.5 [&_svg]:size-3.5"}),i.jsx("span",{className:"font-medium",children:d.title})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.content}),d.helpful!==void 0&&d.helpful>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.helpful," lid povauje toto za uiten"]})]})]},d.id))}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx(Q,{variant:"outline",children:"Nast dal hodnocen"})})]})})};function F1e(){return i.jsx("div",{className:"min-h-screen",children:i.jsxs("div",{className:"container mx-auto",children:[i.jsx(E1e,{}),i.jsx(B1e,{})]})})}const kO=(e,t,n)=>{if(e&&"reportValidity"in e){const s=He(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},DB=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?kO(s.ref,n,e):s.refs&&s.refs.forEach(r=>kO(r,n,e))}},U1e=(e,t)=>{t.shouldUseNativeValidation&&DB(e,t);const n={};for(const s in e){const r=He(t.fields,s),a=Object.assign(e[s]||{},{ref:r&&r.ref});if(H1e(t.names||Object.keys(e),s)){const o=Object.assign({},He(n,s));an(o,"root",a),an(n,s,o)}else an(n,s,a)}return n},H1e=(e,t)=>e.some(n=>n.startsWith(t+"."));var q1e=function(e,t){for(var n={};e.length;){var s=e[0],r=s.code,a=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return e.push(m)})}),t){var u=n[o].types,d=u&&u[s.code];n[o]=_V(o,t,n,r,d?[].concat(d,s.message):s.message)}e.shift()}return n},Ub=function(e,t,n){return n===void 0&&(n={}),function(s,r,a){try{return Promise.resolve((function(o,l){try{var u=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return a.shouldUseNativeValidation&&DB({},a),{errors:{},values:n.raw?s:d}})}catch(d){return l(d)}return u&&u.then?u.then(void 0,l):u})(0,function(o){if((function(l){return Array.isArray(l==null?void 0:l.errors)})(o))return{values:{},errors:U1e(q1e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};function Ne(e,t,n){function s(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);const d=o.prototype,f=Object.keys(d);for(let m=0;m<f.length;m++){const g=f[m];g in l||(l[g]=d[g].bind(l))}}const r=(n==null?void 0:n.Parent)??Object;class a extends r{}Object.defineProperty(a,"name",{value:e});function o(l){var u;const d=n!=null&&n.Parent?new a:this;s(d,l),(u=d._zod).deferred??(u.deferred=[]);for(const f of d._zod.deferred)f();return d}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var u,d;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(d=(u=l==null?void 0:l._zod)==null?void 0:u.traits)==null?void 0:d.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class bh extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class PB extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const IB={};function Cu(e){return IB}function LB(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,r])=>t.indexOf(+s)===-1).map(([s,r])=>r)}function tS(e,t){return typeof t=="bigint"?t.toString():t}function Hb(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function kE(e){return e==null}function NE(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function Z1e(e,t){const n=(e.toString().split(".")[1]||"").length,s=t.toString();let r=(s.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(s)){const u=s.match(/\d?e-(\d?)/);u!=null&&u[1]&&(r=Number.parseInt(u[1]))}const a=n>r?n:r,o=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(t.toFixed(a).replace(".",""));return o%l/10**a}const NO=Symbol("evaluating");function cn(e,t,n){let s;Object.defineProperty(e,t,{get(){if(s!==NO)return s===void 0&&(s=NO,s=n()),s},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Bu(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function fc(...e){const t={};for(const n of e){const s=Object.getOwnPropertyDescriptors(n);Object.assign(t,s)}return Object.defineProperties({},t)}function SO(e){return JSON.stringify(e)}function W1e(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const $B="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Ep(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const K1e=Hb(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Tp(e){if(Ep(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Ep(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function VB(e){return Tp(e)?{...e}:Array.isArray(e)?[...e]:e}const G1e=new Set(["string","number","symbol"]);function Rh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function mc(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(s._zod.parent=e),s}function ht(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function Y1e(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const J1e={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function X1e(e,t){const n=e._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=fc(e._zod.def,{get shape(){const o={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(o[l]=n.shape[l])}return Bu(this,"shape",o),o},checks:[]});return mc(e,a)}function Q1e(e,t){const n=e._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=fc(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete o[l]}return Bu(this,"shape",o),o},checks:[]});return mc(e,a)}function ewe(e,t){if(!Tp(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const a=e._zod.def.shape;for(const o in t)if(Object.getOwnPropertyDescriptor(a,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=fc(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Bu(this,"shape",a),a}});return mc(e,r)}function twe(e,t){if(!Tp(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=fc(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Bu(this,"shape",s),s}});return mc(e,n)}function nwe(e,t){const n=fc(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return Bu(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return mc(e,n)}function swe(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=fc(t._zod.def,{get shape(){const l=t._zod.def.shape,u={...l};if(n)for(const d in n){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(u[d]=e?new e({type:"optional",innerType:l[d]}):l[d])}else for(const d in l)u[d]=e?new e({type:"optional",innerType:l[d]}):l[d];return Bu(this,"shape",u),u},checks:[]});return mc(t,o)}function rwe(e,t,n){const s=fc(t._zod.def,{get shape(){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)a[o]=new e({type:"nonoptional",innerType:r[o]});return Bu(this,"shape",a),a}});return mc(t,s)}function ch(e,t=0){var n;if(e.aborted===!0)return!0;for(let s=t;s<e.issues.length;s++)if(((n=e.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function BB(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function k0(e){return typeof e=="string"?e:e==null?void 0:e.message}function Eu(e,t,n){var r,a,o,l,u,d;const s={...e,path:e.path??[]};if(!e.message){const f=k0((o=(a=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:a.error)==null?void 0:o.call(a,e))??k0((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??k0((u=n.customError)==null?void 0:u.call(n,e))??k0((d=n.localeError)==null?void 0:d.call(n,e))??"Invalid input";s.message=f}return delete s.inst,delete s.continue,t!=null&&t.reportInput||delete s.input,s}function SE(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function zp(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const FB=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,tS,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},UB=Ne("$ZodError",FB),HB=Ne("$ZodError",FB,{Parent:Error});function iwe(e,t=n=>n.message){const n={},s=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:n}}function awe(e,t=n=>n.message){const n={_errors:[]},s=r=>{for(const a of r.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(o=>s({issues:o}));else if(a.code==="invalid_key")s({issues:a.issues});else if(a.code==="invalid_element")s({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let o=n,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return s(e),n}const _E=e=>(t,n,s,r)=>{const a=s?Object.assign(s,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new bh;if(o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(u=>Eu(u,a,Cu())));throw $B(l,r==null?void 0:r.callee),l}return o.value},CE=e=>async(t,n,s,r)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(u=>Eu(u,a,Cu())));throw $B(l,r==null?void 0:r.callee),l}return o.value},qb=e=>(t,n,s)=>{const r=s?{...s,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new bh;return a.issues.length?{success:!1,error:new(e??UB)(a.issues.map(o=>Eu(o,r,Cu())))}:{success:!0,data:a.value}},owe=qb(HB),Zb=e=>async(t,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(o=>Eu(o,r,Cu())))}:{success:!0,data:a.value}},lwe=Zb(HB),cwe=e=>(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return _E(e)(t,n,r)},uwe=e=>(t,n,s)=>_E(e)(t,n,s),dwe=e=>async(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return CE(e)(t,n,r)},hwe=e=>async(t,n,s)=>CE(e)(t,n,s),fwe=e=>(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return qb(e)(t,n,r)},mwe=e=>(t,n,s)=>qb(e)(t,n,s),pwe=e=>async(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Zb(e)(t,n,r)},gwe=e=>async(t,n,s)=>Zb(e)(t,n,s),xwe=/^[cC][^\s-]{8,}$/,vwe=/^[0-9a-z]+$/,ywe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,bwe=/^[0-9a-vA-V]{20}$/,wwe=/^[A-Za-z0-9]{27}$/,jwe=/^[a-zA-Z0-9_-]{21}$/,kwe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Nwe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,_O=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Swe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_we="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Cwe(){return new RegExp(_we,"u")}const Ewe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Twe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,zwe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Mwe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Awe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,qB=/^[A-Za-z0-9_-]*$/,Rwe=/^\+[1-9]\d{6,14}$/,ZB="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",Owe=new RegExp(`^${ZB}$`);function WB(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function Dwe(e){return new RegExp(`^${WB(e)}$`)}function Pwe(e){const t=WB({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${ZB}T(?:${s})$`)}const Iwe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Lwe=/^-?\d+$/,$we=/^-?\d+(?:\.\d+)?$/,Vwe=/^(?:true|false)$/i,Bwe=/^[^A-Z]*$/,Fwe=/^[^a-z]*$/,Hr=Ne("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),KB={number:"number",bigint:"bigint",object:"date"},GB=Ne("$ZodCheckLessThan",(e,t)=>{Hr.init(e,t);const n=KB[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,a=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),YB=Ne("$ZodCheckGreaterThan",(e,t)=>{Hr.init(e,t);const n=KB[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,a=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),Uwe=Ne("$ZodCheckMultipleOf",(e,t)=>{Hr.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):Z1e(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Hwe=Ne("$ZodCheckNumberFormat",(e,t)=>{var o;Hr.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),s=n?"int":"number",[r,a]=J1e[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=r,u.maximum=a,n&&(u.pattern=Lwe)}),e._zod.check=l=>{const u=l.value;if(n){if(!Number.isInteger(u)){l.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,inclusive:!0,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,inclusive:!0,continue:!t.abort});return}}u<r&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),u>a&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),qwe=Ne("$ZodCheckMaxLength",(e,t)=>{var n;Hr.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!kE(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const r=s.value;if(r.length<=t.maximum)return;const o=SE(r);s.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Zwe=Ne("$ZodCheckMinLength",(e,t)=>{var n;Hr.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!kE(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const r=s.value;if(r.length>=t.minimum)return;const o=SE(r);s.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Wwe=Ne("$ZodCheckLengthEquals",(e,t)=>{var n;Hr.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!kE(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=s=>{const r=s.value,a=r.length;if(a===t.length)return;const o=SE(r),l=a>t.length;s.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),Wb=Ne("$ZodCheckStringFormat",(e,t)=>{var n,s;Hr.init(e,t),e._zod.onattach.push(r=>{const a=r._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),Kwe=Ne("$ZodCheckRegex",(e,t)=>{Wb.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Gwe=Ne("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Bwe),Wb.init(e,t)}),Ywe=Ne("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Fwe),Wb.init(e,t)}),Jwe=Ne("$ZodCheckIncludes",(e,t)=>{Hr.init(e,t);const n=Rh(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),Xwe=Ne("$ZodCheckStartsWith",(e,t)=>{Hr.init(e,t);const n=new RegExp(`^${Rh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),Qwe=Ne("$ZodCheckEndsWith",(e,t)=>{Hr.init(e,t);const n=new RegExp(`.*${Rh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),eje=Ne("$ZodCheckOverwrite",(e,t)=>{Hr.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class tje{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(o=>o),r=Math.min(...s.map(o=>o.length-o.trimStart().length)),a=s.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of a)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new t(...n,r.join(`
`))}}const nje={major:4,minor:3,patch:6},is=Ne("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=nje;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const a of s)for(const o of a._zod.onattach)o(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,u,d)=>{let f=ch(l),m;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(f)continue;const x=l.issues.length,b=g._zod.check(l);if(b instanceof Promise&&(d==null?void 0:d.async)===!1)throw new bh;if(m||b instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await b,l.issues.length!==x&&(f||(f=ch(l,x)))});else{if(l.issues.length===x)continue;f||(f=ch(l,x))}}return m?m.then(()=>l):l},o=(l,u,d)=>{if(ch(l))return l.aborted=!0,l;const f=a(u,s,d);if(f instanceof Promise){if(d.async===!1)throw new bh;return f.then(m=>e._zod.parse(m,d))}return e._zod.parse(f,d)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const f=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(m=>o(m,l,u)):o(f,l,u)}const d=e._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new bh;return d.then(f=>a(f,s,u))}return a(d,s,u)}}cn(e,"~standard",()=>({validate:a=>{var o;try{const l=owe(e,a);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return lwe(e,a).then(u=>{var d;return u.success?{value:u.data}:{issues:(d=u.error)==null?void 0:d.issues}})}},vendor:"zod",version:1}))}),EE=Ne("$ZodString",(e,t)=>{var n;is.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Iwe(e._zod.bag),e._zod.parse=(s,r)=>{if(t.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Bn=Ne("$ZodStringFormat",(e,t)=>{Wb.init(e,t),EE.init(e,t)}),sje=Ne("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Nwe),Bn.init(e,t)}),rje=Ne("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=_O(s))}else t.pattern??(t.pattern=_O());Bn.init(e,t)}),ije=Ne("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Swe),Bn.init(e,t)}),aje=Ne("$ZodURL",(e,t)=>{Bn.init(e,t),e._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),oje=Ne("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=Cwe()),Bn.init(e,t)}),lje=Ne("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=jwe),Bn.init(e,t)}),cje=Ne("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=xwe),Bn.init(e,t)}),uje=Ne("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=vwe),Bn.init(e,t)}),dje=Ne("$ZodULID",(e,t)=>{t.pattern??(t.pattern=ywe),Bn.init(e,t)}),hje=Ne("$ZodXID",(e,t)=>{t.pattern??(t.pattern=bwe),Bn.init(e,t)}),fje=Ne("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=wwe),Bn.init(e,t)}),mje=Ne("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=Pwe(t)),Bn.init(e,t)}),pje=Ne("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=Owe),Bn.init(e,t)}),gje=Ne("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=Dwe(t)),Bn.init(e,t)}),xje=Ne("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=kwe),Bn.init(e,t)}),vje=Ne("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Ewe),Bn.init(e,t),e._zod.bag.format="ipv4"}),yje=Ne("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Twe),Bn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),bje=Ne("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=zwe),Bn.init(e,t)}),wje=Ne("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Mwe),Bn.init(e,t),e._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[r,a]=s;if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function JB(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const jje=Ne("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=Awe),Bn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{JB(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function kje(e){if(!qB.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return JB(n)}const Nje=Ne("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=qB),Bn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{kje(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),Sje=Ne("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Rwe),Bn.init(e,t)});function _je(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const Cje=Ne("$ZodJWT",(e,t)=>{Bn.init(e,t),e._zod.check=n=>{_je(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),XB=Ne("$ZodNumber",(e,t)=>{is.init(e,t),e._zod.pattern=e._zod.bag.pattern??$we,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...a?{received:a}:{}}),n}}),Eje=Ne("$ZodNumberFormat",(e,t)=>{Hwe.init(e,t),XB.init(e,t)}),Tje=Ne("$ZodBoolean",(e,t)=>{is.init(e,t),e._zod.pattern=Vwe,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),zje=Ne("$ZodUnknown",(e,t)=>{is.init(e,t),e._zod.parse=n=>n}),Mje=Ne("$ZodNever",(e,t)=>{is.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function CO(e,t,n){e.issues.length&&t.issues.push(...BB(n,e.issues)),t.value[n]=e.value}const Aje=Ne("$ZodArray",(e,t)=>{is.init(e,t),e._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const a=[];for(let o=0;o<r.length;o++){const l=r[o],u=t.element._zod.run({value:l,issues:[]},s);u instanceof Promise?a.push(u.then(d=>CO(d,n,o))):CO(u,n,o)}return a.length?Promise.all(a).then(()=>n):n}});function ny(e,t,n,s,r){if(e.issues.length){if(r&&!(n in s))return;t.issues.push(...BB(n,e.issues))}e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}function QB(e){var s,r,a,o;const t=Object.keys(e.shape);for(const l of t)if(!((o=(a=(r=(s=e.shape)==null?void 0:s[l])==null?void 0:r._zod)==null?void 0:a.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=Y1e(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function eF(e,t,n,s,r,a){const o=[],l=r.keySet,u=r.catchall._zod,d=u.def.type,f=u.optout==="optional";for(const m in t){if(l.has(m))continue;if(d==="never"){o.push(m);continue}const g=u.run({value:t[m],issues:[]},s);g instanceof Promise?e.push(g.then(x=>ny(x,n,m,t,f))):ny(g,n,m,t,f)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const Rje=Ne("$ZodObject",(e,t)=>{is.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const s=Hb(()=>QB(t));cn(e._zod,"propValues",()=>{const l=t.shape,u={};for(const d in l){const f=l[d]._zod;if(f.values){u[d]??(u[d]=new Set);for(const m of f.values)u[d].add(m)}}return u});const r=Ep,a=t.catchall;let o;e._zod.parse=(l,u)=>{o??(o=s.value);const d=l.value;if(!r(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l;l.value={};const f=[],m=o.shape;for(const g of o.keys){const x=m[g],b=x._zod.optout==="optional",w=x._zod.run({value:d[g],issues:[]},u);w instanceof Promise?f.push(w.then(j=>ny(j,l,g,d,b))):ny(w,l,g,d,b)}return a?eF(f,d,l,u,s.value,e):f.length?Promise.all(f).then(()=>l):l}}),Oje=Ne("$ZodObjectJIT",(e,t)=>{Rje.init(e,t);const n=e._zod.parse,s=Hb(()=>QB(t)),r=g=>{var C;const x=new tje(["shape","payload","ctx"]),b=s.value,w=E=>{const T=SO(E);return`shape[${T}]._zod.run({ value: input[${T}], issues: [] }, ctx)`};x.write("const input = payload.value;");const j=Object.create(null);let k=0;for(const E of b.keys)j[E]=`key_${k++}`;x.write("const newResult = {};");for(const E of b.keys){const T=j[E],M=SO(E),z=g[E],A=((C=z==null?void 0:z._zod)==null?void 0:C.optout)==="optional";x.write(`const ${T} = ${w(E)};`),A?x.write(`
        if (${T}.issues.length) {
          if (${M} in input) {
            payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${M}, ...iss.path] : [${M}]
            })));
          }
        }
        
        if (${T}.value === undefined) {
          if (${M} in input) {
            newResult[${M}] = undefined;
          }
        } else {
          newResult[${M}] = ${T}.value;
        }
        
      `):x.write(`
        if (${T}.issues.length) {
          payload.issues = payload.issues.concat(${T}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${M}, ...iss.path] : [${M}]
          })));
        }
        
        if (${T}.value === undefined) {
          if (${M} in input) {
            newResult[${M}] = undefined;
          }
        } else {
          newResult[${M}] = ${T}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const S=x.compile();return(E,T)=>S(g,E,T)};let a;const o=Ep,l=!IB.jitless,d=l&&K1e.value,f=t.catchall;let m;e._zod.parse=(g,x)=>{m??(m=s.value);const b=g.value;return o(b)?l&&d&&(x==null?void 0:x.async)===!1&&x.jitless!==!0?(a||(a=r(t.shape)),g=a(g,x),f?eF([],b,g,x,m,e):g):n(g,x):(g.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),g)}});function EO(e,t,n,s){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const r=e.filter(a=>!ch(a));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(o=>Eu(o,s,Cu())))}),t)}const tF=Ne("$ZodUnion",(e,t)=>{is.init(e,t),cn(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),cn(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),cn(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),cn(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${r.map(a=>NE(a.source)).join("|")})$`)}});const n=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(r,a)=>{if(n)return s(r,a);let o=!1;const l=[];for(const u of t.options){const d=u._zod.run({value:r.value,issues:[]},a);if(d instanceof Promise)l.push(d),o=!0;else{if(d.issues.length===0)return d;l.push(d)}}return o?Promise.all(l).then(u=>EO(u,r,e,a)):EO(l,r,e,a)}}),Dje=Ne("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,tF.init(e,t);const n=e._zod.parse;cn(e._zod,"propValues",()=>{const r={};for(const a of t.options){const o=a._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(const[l,u]of Object.entries(o)){r[l]||(r[l]=new Set);for(const d of u)r[l].add(d)}}return r});const s=Hb(()=>{var o;const r=t.options,a=new Map;for(const l of r){const u=(o=l._zod.propValues)==null?void 0:o[t.discriminator];if(!u||u.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(l)}"`);for(const d of u){if(a.has(d))throw new Error(`Duplicate discriminator value "${String(d)}"`);a.set(d,l)}}return a});e._zod.parse=(r,a)=>{const o=r.value;if(!Ep(o))return r.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),r;const l=s.value.get(o==null?void 0:o[t.discriminator]);return l?l._zod.run(r,a):t.unionFallback?n(r,a):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),r)}}),Pje=Ne("$ZodIntersection",(e,t)=>{is.init(e,t),e._zod.parse=(n,s)=>{const r=n.value,a=t.left._zod.run({value:r,issues:[]},s),o=t.right._zod.run({value:r,issues:[]},s);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then(([u,d])=>TO(n,u,d)):TO(n,a,o)}});function nS(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Tp(e)&&Tp(t)){const n=Object.keys(t),s=Object.keys(e).filter(a=>n.indexOf(a)!==-1),r={...e,...t};for(const a of s){const o=nS(e[a],t[a]);if(!o.valid)return{valid:!1,mergeErrorPath:[a,...o.mergeErrorPath]};r[a]=o.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const r=e[s],a=t[s],o=nS(r,a);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function TO(e,t,n){const s=new Map;let r;for(const l of t.issues)if(l.code==="unrecognized_keys"){r??(r=l);for(const u of l.keys)s.has(u)||s.set(u,{}),s.get(u).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)s.has(u)||s.set(u,{}),s.get(u).r=!0;else e.issues.push(l);const a=[...s].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(a.length&&r&&e.issues.push({...r,keys:a}),ch(e))return e;const o=nS(t.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const Ije=Ne("$ZodEnum",(e,t)=>{is.init(e,t);const n=LB(t.entries),s=new Set(n);e._zod.values=s,e._zod.pattern=new RegExp(`^(${n.filter(r=>G1e.has(typeof r)).map(r=>typeof r=="string"?Rh(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return s.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),Lje=Ne("$ZodLiteral",(e,t)=>{if(is.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(s=>typeof s=="string"?Rh(s):s?Rh(s.toString()):String(s)).join("|")})$`),e._zod.parse=(s,r)=>{const a=s.value;return n.has(a)||s.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),s}}),$je=Ne("$ZodTransform",(e,t)=>{is.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new PB(e.constructor.name);const r=t.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new bh;return n.value=r,n}});function zO(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const nF=Ne("$ZodOptional",(e,t)=>{is.init(e,t),e._zod.optin="optional",e._zod.optout="optional",cn(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),cn(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${NE(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>{if(t.innerType._zod.optin==="optional"){const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>zO(a,n.value)):zO(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,s)}}),Vje=Ne("$ZodExactOptional",(e,t)=>{nF.init(e,t),cn(e._zod,"values",()=>t.innerType._zod.values),cn(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,s)=>t.innerType._zod.run(n,s)}),Bje=Ne("$ZodNullable",(e,t)=>{is.init(e,t),cn(e._zod,"optin",()=>t.innerType._zod.optin),cn(e._zod,"optout",()=>t.innerType._zod.optout),cn(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${NE(n.source)}|null)$`):void 0}),cn(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),Fje=Ne("$ZodDefault",(e,t)=>{is.init(e,t),e._zod.optin="optional",cn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>MO(a,t)):MO(r,t)}});function MO(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Uje=Ne("$ZodPrefault",(e,t)=>{is.init(e,t),e._zod.optin="optional",cn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),Hje=Ne("$ZodNonOptional",(e,t)=>{is.init(e,t),cn(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>AO(a,e)):AO(r,e)}});function AO(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const qje=Ne("$ZodCatch",(e,t)=>{is.init(e,t),cn(e._zod,"optin",()=>t.innerType._zod.optin),cn(e._zod,"optout",()=>t.innerType._zod.optout),cn(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>Eu(o,s,Cu()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>Eu(a,s,Cu()))},input:n.value}),n.issues=[]),n)}}),Zje=Ne("$ZodPipe",(e,t)=>{is.init(e,t),cn(e._zod,"values",()=>t.in._zod.values),cn(e._zod,"optin",()=>t.in._zod.optin),cn(e._zod,"optout",()=>t.out._zod.optout),cn(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{if(s.direction==="backward"){const a=t.out._zod.run(n,s);return a instanceof Promise?a.then(o=>N0(o,t.in,s)):N0(a,t.in,s)}const r=t.in._zod.run(n,s);return r instanceof Promise?r.then(a=>N0(a,t.out,s)):N0(r,t.out,s)}});function N0(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Wje=Ne("$ZodReadonly",(e,t)=>{is.init(e,t),cn(e._zod,"propValues",()=>t.innerType._zod.propValues),cn(e._zod,"values",()=>t.innerType._zod.values),cn(e._zod,"optin",()=>{var n,s;return(s=(n=t.innerType)==null?void 0:n._zod)==null?void 0:s.optin}),cn(e._zod,"optout",()=>{var n,s;return(s=(n=t.innerType)==null?void 0:n._zod)==null?void 0:s.optout}),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(RO):RO(r)}});function RO(e){return e.value=Object.freeze(e.value),e}const Kje=Ne("$ZodCustom",(e,t)=>{Hr.init(e,t),is.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,r=t.fn(s);if(r instanceof Promise)return r.then(a=>OO(a,n,s,e));OO(r,n,s,e)}});function OO(e,t,n,s){if(!e){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),t.issues.push(zp(r))}}var DO;class Gje{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const s=n[0];return this._map.set(t,s),s&&typeof s=="object"&&"id"in s&&this._idmap.set(s.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Yje(){return new Gje}(DO=globalThis).__zod_globalRegistry??(DO.__zod_globalRegistry=Yje());const _m=globalThis.__zod_globalRegistry;function Jje(e,t){return new e({type:"string",...ht(t)})}function Xje(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ht(t)})}function PO(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ht(t)})}function Qje(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ht(t)})}function eke(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ht(t)})}function tke(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ht(t)})}function nke(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ht(t)})}function ske(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ht(t)})}function rke(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ht(t)})}function ike(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ht(t)})}function ake(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ht(t)})}function oke(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ht(t)})}function lke(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ht(t)})}function cke(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ht(t)})}function uke(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ht(t)})}function dke(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ht(t)})}function hke(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ht(t)})}function fke(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ht(t)})}function mke(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ht(t)})}function pke(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ht(t)})}function gke(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ht(t)})}function xke(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ht(t)})}function vke(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ht(t)})}function yke(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ht(t)})}function bke(e,t){return new e({type:"string",format:"date",check:"string_format",...ht(t)})}function wke(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ht(t)})}function jke(e,t){return new e({type:"string",format:"duration",check:"string_format",...ht(t)})}function kke(e,t){return new e({type:"number",checks:[],...ht(t)})}function Nke(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ht(t)})}function Ske(e,t){return new e({type:"boolean",...ht(t)})}function _ke(e){return new e({type:"unknown"})}function Cke(e,t){return new e({type:"never",...ht(t)})}function IO(e,t){return new GB({check:"less_than",...ht(t),value:e,inclusive:!1})}function Yk(e,t){return new GB({check:"less_than",...ht(t),value:e,inclusive:!0})}function LO(e,t){return new YB({check:"greater_than",...ht(t),value:e,inclusive:!1})}function Jk(e,t){return new YB({check:"greater_than",...ht(t),value:e,inclusive:!0})}function $O(e,t){return new Uwe({check:"multiple_of",...ht(t),value:e})}function sF(e,t){return new qwe({check:"max_length",...ht(t),maximum:e})}function sy(e,t){return new Zwe({check:"min_length",...ht(t),minimum:e})}function rF(e,t){return new Wwe({check:"length_equals",...ht(t),length:e})}function Eke(e,t){return new Kwe({check:"string_format",format:"regex",...ht(t),pattern:e})}function Tke(e){return new Gwe({check:"string_format",format:"lowercase",...ht(e)})}function zke(e){return new Ywe({check:"string_format",format:"uppercase",...ht(e)})}function Mke(e,t){return new Jwe({check:"string_format",format:"includes",...ht(t),includes:e})}function Ake(e,t){return new Xwe({check:"string_format",format:"starts_with",...ht(t),prefix:e})}function Rke(e,t){return new Qwe({check:"string_format",format:"ends_with",...ht(t),suffix:e})}function lf(e){return new eje({check:"overwrite",tx:e})}function Oke(e){return lf(t=>t.normalize(e))}function Dke(){return lf(e=>e.trim())}function Pke(){return lf(e=>e.toLowerCase())}function Ike(){return lf(e=>e.toUpperCase())}function Lke(){return lf(e=>W1e(e))}function $ke(e,t,n){return new e({type:"array",element:t,...ht(n)})}function Vke(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ht(n)})}function Bke(e){const t=Fke(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(zp(s,n.value,t._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(zp(r))}},e(n.value,n)));return t}function Fke(e,t){const n=new Hr({check:"custom",...ht(t)});return n._zod.check=e,n}function iF(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??_m,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function rr(e,t,n={path:[],schemaPath:[]}){var f,m;var s;const r=e._zod.def,a=t.seen.get(e);if(a)return a.count++,n.schemaPath.includes(e)&&(a.cycle=n.path),a.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);const l=(m=(f=e._zod).toJSONSchema)==null?void 0:m.call(f);if(l)o.schema=l;else{const g={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,g);else{const b=o.schema,w=t.processors[r.type];if(!w)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);w(e,t,b,g)}const x=e._zod.parent;x&&(o.ref||(o.ref=x),rr(x,t,g),t.seen.get(x).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),t.io==="input"&&yr(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((s=o.schema).default??(s.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function aF(e,t){var o,l,u,d;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=new Map;for(const f of e.seen.entries()){const m=(o=e.metadataRegistry.get(f[0]))==null?void 0:o.id;if(m){const g=s.get(m);if(g&&g!==f[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);s.set(m,f[0])}}const r=f=>{var w;const m=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const j=(w=e.external.registry.get(f[0]))==null?void 0:w.id,k=e.external.uri??(C=>C);if(j)return{ref:k(j)};const S=f[1].defId??f[1].schema.id??`schema${e.counter++}`;return f[1].defId=S,{defId:S,ref:`${k("__shared")}#/${m}/${S}`}}if(f[1]===n)return{ref:"#"};const x=`#/${m}/`,b=f[1].schema.id??`__schema${e.counter++}`;return{defId:b,ref:x+b}},a=f=>{if(f[1].schema.$ref)return;const m=f[1],{ref:g,defId:x}=r(f);m.def={...m.schema},x&&(m.defId=x);const b=m.schema;for(const w in b)delete b[w];b.$ref=g};if(e.cycles==="throw")for(const f of e.seen.entries()){const m=f[1];if(m.cycle)throw new Error(`Cycle detected: #/${(l=m.cycle)==null?void 0:l.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of e.seen.entries()){const m=f[1];if(t===f[0]){a(f);continue}if(e.external){const x=(u=e.external.registry.get(f[0]))==null?void 0:u.id;if(t!==f[0]&&x){a(f);continue}}if((d=e.metadataRegistry.get(f[0]))==null?void 0:d.id){a(f);continue}if(m.cycle){a(f);continue}if(m.count>1&&e.reused==="ref"){a(f);continue}}}function oF(e,t){var o,l,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=d=>{const f=e.seen.get(d);if(f.ref===null)return;const m=f.def??f.schema,g={...m},x=f.ref;if(f.ref=null,x){s(x);const w=e.seen.get(x),j=w.schema;if(j.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(j)):Object.assign(m,j),Object.assign(m,g),d._zod.parent===x)for(const S in m)S==="$ref"||S==="allOf"||S in g||delete m[S];if(j.$ref&&w.def)for(const S in m)S==="$ref"||S==="allOf"||S in w.def&&JSON.stringify(m[S])===JSON.stringify(w.def[S])&&delete m[S]}const b=d._zod.parent;if(b&&b!==x){s(b);const w=e.seen.get(b);if(w!=null&&w.schema.$ref&&(m.$ref=w.schema.$ref,w.def))for(const j in m)j==="$ref"||j==="allOf"||j in w.def&&JSON.stringify(m[j])===JSON.stringify(w.def[j])&&delete m[j]}e.override({zodSchema:d,jsonSchema:m,path:f.path??[]})};for(const d of[...e.seen.entries()].reverse())s(d[0]);const r={};if(e.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":e.target,(o=e.external)!=null&&o.uri){const d=(l=e.external.registry.get(t))==null?void 0:l.id;if(!d)throw new Error("Schema is missing an `id` property");r.$id=e.external.uri(d)}Object.assign(r,n.def??n.schema);const a=((u=e.external)==null?void 0:u.defs)??{};for(const d of e.seen.entries()){const f=d[1];f.def&&f.defId&&(a[f.defId]=f.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?r.$defs=a:r.definitions=a);try{const d=JSON.parse(JSON.stringify(r));return Object.defineProperty(d,"~standard",{value:{...t["~standard"],jsonSchema:{input:ry(t,"input",e.processors),output:ry(t,"output",e.processors)}},enumerable:!1,writable:!1}),d}catch{throw new Error("Error converting schema to JSON.")}}function yr(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const s=e._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return yr(s.element,n);if(s.type==="set")return yr(s.valueType,n);if(s.type==="lazy")return yr(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return yr(s.innerType,n);if(s.type==="intersection")return yr(s.left,n)||yr(s.right,n);if(s.type==="record"||s.type==="map")return yr(s.keyType,n)||yr(s.valueType,n);if(s.type==="pipe")return yr(s.in,n)||yr(s.out,n);if(s.type==="object"){for(const r in s.shape)if(yr(s.shape[r],n))return!0;return!1}if(s.type==="union"){for(const r of s.options)if(yr(r,n))return!0;return!1}if(s.type==="tuple"){for(const r of s.items)if(yr(r,n))return!0;return!!(s.rest&&yr(s.rest,n))}return!1}const Uke=(e,t={})=>n=>{const s=iF({...n,processors:t});return rr(e,s),aF(s,e),oF(s,e)},ry=(e,t,n={})=>s=>{const{libraryOptions:r,target:a}=s??{},o=iF({...r??{},target:a,io:t,processors:n});return rr(e,o),aF(o,e),oF(o,e)},Hke={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},qke=(e,t,n,s)=>{const r=n;r.type="string";const{minimum:a,maximum:o,format:l,patterns:u,contentEncoding:d}=e._zod.bag;if(typeof a=="number"&&(r.minLength=a),typeof o=="number"&&(r.maxLength=o),l&&(r.format=Hke[l]??l,r.format===""&&delete r.format,l==="time"&&delete r.format),d&&(r.contentEncoding=d),u&&u.size>0){const f=[...u];f.length===1?r.pattern=f[0].source:f.length>1&&(r.allOf=[...f.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},Zke=(e,t,n,s)=>{const r=n,{minimum:a,maximum:o,format:l,multipleOf:u,exclusiveMaximum:d,exclusiveMinimum:f}=e._zod.bag;typeof l=="string"&&l.includes("int")?r.type="integer":r.type="number",typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.minimum=f,r.exclusiveMinimum=!0):r.exclusiveMinimum=f),typeof a=="number"&&(r.minimum=a,typeof f=="number"&&t.target!=="draft-04"&&(f>=a?delete r.minimum:delete r.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.maximum=d,r.exclusiveMaximum=!0):r.exclusiveMaximum=d),typeof o=="number"&&(r.maximum=o,typeof d=="number"&&t.target!=="draft-04"&&(d<=o?delete r.maximum:delete r.exclusiveMaximum)),typeof u=="number"&&(r.multipleOf=u)},Wke=(e,t,n,s)=>{n.type="boolean"},Kke=(e,t,n,s)=>{n.not={}},Gke=(e,t,n,s)=>{},Yke=(e,t,n,s)=>{const r=e._zod.def,a=LB(r.entries);a.every(o=>typeof o=="number")&&(n.type="number"),a.every(o=>typeof o=="string")&&(n.type="string"),n.enum=a},Jke=(e,t,n,s)=>{const r=e._zod.def,a=[];for(const o of r.values)if(o===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(o))}else a.push(o);if(a.length!==0)if(a.length===1){const o=a[0];n.type=o===null?"null":typeof o,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[o]:n.const=o}else a.every(o=>typeof o=="number")&&(n.type="number"),a.every(o=>typeof o=="string")&&(n.type="string"),a.every(o=>typeof o=="boolean")&&(n.type="boolean"),a.every(o=>o===null)&&(n.type="null"),n.enum=a},Xke=(e,t,n,s)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Qke=(e,t,n,s)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},eNe=(e,t,n,s)=>{const r=n,a=e._zod.def,{minimum:o,maximum:l}=e._zod.bag;typeof o=="number"&&(r.minItems=o),typeof l=="number"&&(r.maxItems=l),r.type="array",r.items=rr(a.element,t,{...s,path:[...s.path,"items"]})},tNe=(e,t,n,s)=>{var d;const r=n,a=e._zod.def;r.type="object",r.properties={};const o=a.shape;for(const f in o)r.properties[f]=rr(o[f],t,{...s,path:[...s.path,"properties",f]});const l=new Set(Object.keys(o)),u=new Set([...l].filter(f=>{const m=a.shape[f]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));u.size>0&&(r.required=Array.from(u)),((d=a.catchall)==null?void 0:d._zod.def.type)==="never"?r.additionalProperties=!1:a.catchall?a.catchall&&(r.additionalProperties=rr(a.catchall,t,{...s,path:[...s.path,"additionalProperties"]})):t.io==="output"&&(r.additionalProperties=!1)},nNe=(e,t,n,s)=>{const r=e._zod.def,a=r.inclusive===!1,o=r.options.map((l,u)=>rr(l,t,{...s,path:[...s.path,a?"oneOf":"anyOf",u]}));a?n.oneOf=o:n.anyOf=o},sNe=(e,t,n,s)=>{const r=e._zod.def,a=rr(r.left,t,{...s,path:[...s.path,"allOf",0]}),o=rr(r.right,t,{...s,path:[...s.path,"allOf",1]}),l=d=>"allOf"in d&&Object.keys(d).length===1,u=[...l(a)?a.allOf:[a],...l(o)?o.allOf:[o]];n.allOf=u},rNe=(e,t,n,s)=>{const r=e._zod.def,a=rr(r.innerType,t,s),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=r.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},iNe=(e,t,n,s)=>{const r=e._zod.def;rr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType},aNe=(e,t,n,s)=>{const r=e._zod.def;rr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},oNe=(e,t,n,s)=>{const r=e._zod.def;rr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},lNe=(e,t,n,s)=>{const r=e._zod.def;rr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType;let o;try{o=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},cNe=(e,t,n,s)=>{const r=e._zod.def,a=t.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;rr(a,t,s);const o=t.seen.get(e);o.ref=a},uNe=(e,t,n,s)=>{const r=e._zod.def;rr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType,n.readOnly=!0},lF=(e,t,n,s)=>{const r=e._zod.def;rr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType},dNe=Ne("ZodISODateTime",(e,t)=>{mje.init(e,t),Zn.init(e,t)});function hNe(e){return yke(dNe,e)}const fNe=Ne("ZodISODate",(e,t)=>{pje.init(e,t),Zn.init(e,t)});function mNe(e){return bke(fNe,e)}const pNe=Ne("ZodISOTime",(e,t)=>{gje.init(e,t),Zn.init(e,t)});function gNe(e){return wke(pNe,e)}const xNe=Ne("ZodISODuration",(e,t)=>{xje.init(e,t),Zn.init(e,t)});function vNe(e){return jke(xNe,e)}const yNe=(e,t)=>{UB.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>awe(e,n)},flatten:{value:n=>iwe(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,tS,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,tS,2)}},isEmpty:{get(){return e.issues.length===0}}})},qi=Ne("ZodError",yNe,{Parent:Error}),bNe=_E(qi),wNe=CE(qi),jNe=qb(qi),kNe=Zb(qi),NNe=cwe(qi),SNe=uwe(qi),_Ne=dwe(qi),CNe=hwe(qi),ENe=fwe(qi),TNe=mwe(qi),zNe=pwe(qi),MNe=gwe(qi),as=Ne("ZodType",(e,t)=>(is.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:ry(e,"input"),output:ry(e,"output")}}),e.toJSONSchema=Uke(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(fc(t,{checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),{parent:!0}),e.with=e.check,e.clone=(n,s)=>mc(e,n,s),e.brand=()=>e,e.register=((n,s)=>(n.add(e,s),e)),e.parse=(n,s)=>bNe(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>jNe(e,n,s),e.parseAsync=async(n,s)=>wNe(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>kNe(e,n,s),e.spa=e.safeParseAsync,e.encode=(n,s)=>NNe(e,n,s),e.decode=(n,s)=>SNe(e,n,s),e.encodeAsync=async(n,s)=>_Ne(e,n,s),e.decodeAsync=async(n,s)=>CNe(e,n,s),e.safeEncode=(n,s)=>ENe(e,n,s),e.safeDecode=(n,s)=>TNe(e,n,s),e.safeEncodeAsync=async(n,s)=>zNe(e,n,s),e.safeDecodeAsync=async(n,s)=>MNe(e,n,s),e.refine=(n,s)=>e.check(E2e(n,s)),e.superRefine=n=>e.check(T2e(n)),e.overwrite=n=>e.check(lf(n)),e.optional=()=>UO(e),e.exactOptional=()=>p2e(e),e.nullable=()=>HO(e),e.nullish=()=>UO(HO(e)),e.nonoptional=n=>w2e(e,n),e.array=()=>s2e(e),e.or=n=>i2e([e,n]),e.and=n=>c2e(e,n),e.transform=n=>qO(e,f2e(n)),e.default=n=>v2e(e,n),e.prefault=n=>b2e(e,n),e.catch=n=>k2e(e,n),e.pipe=n=>qO(e,n),e.readonly=()=>_2e(e),e.describe=n=>{const s=e.clone();return _m.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){var n;return(n=_m.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return _m.get(e);const s=e.clone();return _m.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),cF=Ne("_ZodString",(e,t)=>{EE.init(e,t),as.init(e,t),e._zod.processJSONSchema=(s,r,a)=>qke(e,s,r);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(Eke(...s)),e.includes=(...s)=>e.check(Mke(...s)),e.startsWith=(...s)=>e.check(Ake(...s)),e.endsWith=(...s)=>e.check(Rke(...s)),e.min=(...s)=>e.check(sy(...s)),e.max=(...s)=>e.check(sF(...s)),e.length=(...s)=>e.check(rF(...s)),e.nonempty=(...s)=>e.check(sy(1,...s)),e.lowercase=s=>e.check(Tke(s)),e.uppercase=s=>e.check(zke(s)),e.trim=()=>e.check(Dke()),e.normalize=(...s)=>e.check(Oke(...s)),e.toLowerCase=()=>e.check(Pke()),e.toUpperCase=()=>e.check(Ike()),e.slugify=()=>e.check(Lke())}),ANe=Ne("ZodString",(e,t)=>{EE.init(e,t),cF.init(e,t),e.email=n=>e.check(Xje(RNe,n)),e.url=n=>e.check(ske(ONe,n)),e.jwt=n=>e.check(vke(GNe,n)),e.emoji=n=>e.check(rke(DNe,n)),e.guid=n=>e.check(PO(VO,n)),e.uuid=n=>e.check(Qje(S0,n)),e.uuidv4=n=>e.check(eke(S0,n)),e.uuidv6=n=>e.check(tke(S0,n)),e.uuidv7=n=>e.check(nke(S0,n)),e.nanoid=n=>e.check(ike(PNe,n)),e.guid=n=>e.check(PO(VO,n)),e.cuid=n=>e.check(ake(INe,n)),e.cuid2=n=>e.check(oke(LNe,n)),e.ulid=n=>e.check(lke($Ne,n)),e.base64=n=>e.check(pke(ZNe,n)),e.base64url=n=>e.check(gke(WNe,n)),e.xid=n=>e.check(cke(VNe,n)),e.ksuid=n=>e.check(uke(BNe,n)),e.ipv4=n=>e.check(dke(FNe,n)),e.ipv6=n=>e.check(hke(UNe,n)),e.cidrv4=n=>e.check(fke(HNe,n)),e.cidrv6=n=>e.check(mke(qNe,n)),e.e164=n=>e.check(xke(KNe,n)),e.datetime=n=>e.check(hNe(n)),e.date=n=>e.check(mNe(n)),e.time=n=>e.check(gNe(n)),e.duration=n=>e.check(vNe(n))});function es(e){return Jje(ANe,e)}const Zn=Ne("ZodStringFormat",(e,t)=>{Bn.init(e,t),cF.init(e,t)}),RNe=Ne("ZodEmail",(e,t)=>{ije.init(e,t),Zn.init(e,t)}),VO=Ne("ZodGUID",(e,t)=>{sje.init(e,t),Zn.init(e,t)}),S0=Ne("ZodUUID",(e,t)=>{rje.init(e,t),Zn.init(e,t)}),ONe=Ne("ZodURL",(e,t)=>{aje.init(e,t),Zn.init(e,t)}),DNe=Ne("ZodEmoji",(e,t)=>{oje.init(e,t),Zn.init(e,t)}),PNe=Ne("ZodNanoID",(e,t)=>{lje.init(e,t),Zn.init(e,t)}),INe=Ne("ZodCUID",(e,t)=>{cje.init(e,t),Zn.init(e,t)}),LNe=Ne("ZodCUID2",(e,t)=>{uje.init(e,t),Zn.init(e,t)}),$Ne=Ne("ZodULID",(e,t)=>{dje.init(e,t),Zn.init(e,t)}),VNe=Ne("ZodXID",(e,t)=>{hje.init(e,t),Zn.init(e,t)}),BNe=Ne("ZodKSUID",(e,t)=>{fje.init(e,t),Zn.init(e,t)}),FNe=Ne("ZodIPv4",(e,t)=>{vje.init(e,t),Zn.init(e,t)}),UNe=Ne("ZodIPv6",(e,t)=>{yje.init(e,t),Zn.init(e,t)}),HNe=Ne("ZodCIDRv4",(e,t)=>{bje.init(e,t),Zn.init(e,t)}),qNe=Ne("ZodCIDRv6",(e,t)=>{wje.init(e,t),Zn.init(e,t)}),ZNe=Ne("ZodBase64",(e,t)=>{jje.init(e,t),Zn.init(e,t)}),WNe=Ne("ZodBase64URL",(e,t)=>{Nje.init(e,t),Zn.init(e,t)}),KNe=Ne("ZodE164",(e,t)=>{Sje.init(e,t),Zn.init(e,t)}),GNe=Ne("ZodJWT",(e,t)=>{Cje.init(e,t),Zn.init(e,t)}),uF=Ne("ZodNumber",(e,t)=>{XB.init(e,t),as.init(e,t),e._zod.processJSONSchema=(s,r,a)=>Zke(e,s,r),e.gt=(s,r)=>e.check(LO(s,r)),e.gte=(s,r)=>e.check(Jk(s,r)),e.min=(s,r)=>e.check(Jk(s,r)),e.lt=(s,r)=>e.check(IO(s,r)),e.lte=(s,r)=>e.check(Yk(s,r)),e.max=(s,r)=>e.check(Yk(s,r)),e.int=s=>e.check(BO(s)),e.safe=s=>e.check(BO(s)),e.positive=s=>e.check(LO(0,s)),e.nonnegative=s=>e.check(Jk(0,s)),e.negative=s=>e.check(IO(0,s)),e.nonpositive=s=>e.check(Yk(0,s)),e.multipleOf=(s,r)=>e.check($O(s,r)),e.step=(s,r)=>e.check($O(s,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function sS(e){return kke(uF,e)}const YNe=Ne("ZodNumberFormat",(e,t)=>{Eje.init(e,t),uF.init(e,t)});function BO(e){return Nke(YNe,e)}const JNe=Ne("ZodBoolean",(e,t)=>{Tje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Wke(e,n,s)});function XNe(e){return Ske(JNe,e)}const QNe=Ne("ZodUnknown",(e,t)=>{zje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Gke()});function FO(){return _ke(QNe)}const e2e=Ne("ZodNever",(e,t)=>{Mje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Kke(e,n,s)});function t2e(e){return Cke(e2e,e)}const n2e=Ne("ZodArray",(e,t)=>{Aje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>eNe(e,n,s,r),e.element=t.element,e.min=(n,s)=>e.check(sy(n,s)),e.nonempty=n=>e.check(sy(1,n)),e.max=(n,s)=>e.check(sF(n,s)),e.length=(n,s)=>e.check(rF(n,s)),e.unwrap=()=>e.element});function s2e(e,t){return $ke(n2e,e,t)}const r2e=Ne("ZodObject",(e,t)=>{Oje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>tNe(e,n,s,r),cn(e,"shape",()=>t.shape),e.keyof=()=>u2e(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:FO()}),e.loose=()=>e.clone({...e._zod.def,catchall:FO()}),e.strict=()=>e.clone({...e._zod.def,catchall:t2e()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>ewe(e,n),e.safeExtend=n=>twe(e,n),e.merge=n=>nwe(e,n),e.pick=n=>X1e(e,n),e.omit=n=>Q1e(e,n),e.partial=(...n)=>swe(hF,e,n[0]),e.required=(...n)=>rwe(fF,e,n[0])});function Pa(e,t){const n={type:"object",shape:e??{},...ht(t)};return new r2e(n)}const dF=Ne("ZodUnion",(e,t)=>{tF.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>nNe(e,n,s,r),e.options=t.options});function i2e(e,t){return new dF({type:"union",options:e,...ht(t)})}const a2e=Ne("ZodDiscriminatedUnion",(e,t)=>{dF.init(e,t),Dje.init(e,t)});function o2e(e,t,n){return new a2e({type:"union",options:t,discriminator:e,...ht(n)})}const l2e=Ne("ZodIntersection",(e,t)=>{Pje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>sNe(e,n,s,r)});function c2e(e,t){return new l2e({type:"intersection",left:e,right:t})}const rS=Ne("ZodEnum",(e,t)=>{Ije.init(e,t),as.init(e,t),e._zod.processJSONSchema=(s,r,a)=>Yke(e,s,r),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,r)=>{const a={};for(const o of s)if(n.has(o))a[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new rS({...t,checks:[],...ht(r),entries:a})},e.exclude=(s,r)=>{const a={...t.entries};for(const o of s)if(n.has(o))delete a[o];else throw new Error(`Key ${o} not found in enum`);return new rS({...t,checks:[],...ht(r),entries:a})}});function u2e(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new rS({type:"enum",entries:n,...ht(t)})}const d2e=Ne("ZodLiteral",(e,t)=>{Lje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Jke(e,n,s),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function TE(e,t){return new d2e({type:"literal",values:Array.isArray(e)?e:[e],...ht(t)})}const h2e=Ne("ZodTransform",(e,t)=>{$je.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Qke(e,n),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new PB(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(zp(a,n.value,t));else{const o=a;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(zp(o))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(a=>(n.value=a,n)):(n.value=r,n)}});function f2e(e){return new h2e({type:"transform",transform:e})}const hF=Ne("ZodOptional",(e,t)=>{nF.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>lF(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function UO(e){return new hF({type:"optional",innerType:e})}const m2e=Ne("ZodExactOptional",(e,t)=>{Vje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>lF(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function p2e(e){return new m2e({type:"optional",innerType:e})}const g2e=Ne("ZodNullable",(e,t)=>{Bje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>rNe(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function HO(e){return new g2e({type:"nullable",innerType:e})}const x2e=Ne("ZodDefault",(e,t)=>{Fje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>aNe(e,n,s,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function v2e(e,t){return new x2e({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():VB(t)}})}const y2e=Ne("ZodPrefault",(e,t)=>{Uje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>oNe(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function b2e(e,t){return new y2e({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():VB(t)}})}const fF=Ne("ZodNonOptional",(e,t)=>{Hje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>iNe(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function w2e(e,t){return new fF({type:"nonoptional",innerType:e,...ht(t)})}const j2e=Ne("ZodCatch",(e,t)=>{qje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>lNe(e,n,s,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function k2e(e,t){return new j2e({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const N2e=Ne("ZodPipe",(e,t)=>{Zje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>cNe(e,n,s,r),e.in=t.in,e.out=t.out});function qO(e,t){return new N2e({type:"pipe",in:e,out:t})}const S2e=Ne("ZodReadonly",(e,t)=>{Wje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>uNe(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function _2e(e){return new S2e({type:"readonly",innerType:e})}const C2e=Ne("ZodCustom",(e,t)=>{Kje.init(e,t),as.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Xke(e,n)});function E2e(e,t={}){return Vke(C2e,e,t)}function T2e(e){return Bke(e)}const mF=v.forwardRef(({min:e=1,max:t=99,defaultValue:n=1,onValueChange:s,className:r,inputProps:a},o)=>{const[l,u]=v.useState(n),d=()=>{const g=Math.min(l+1,t);u(g),s==null||s(g)},f=()=>{const g=Math.max(l-1,e);u(g),s==null||s(g)},m=g=>{const x=parseInt(g.target.value)||e,b=Math.max(e,Math.min(t,x));u(b),s==null||s(b)};return v.useEffect(()=>{(a==null?void 0:a.value)!==void 0&&u(Number(a.value))},[a==null?void 0:a.value]),i.jsxs("div",{className:se("flex items-center",r),children:[i.jsx(Q,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 rounded-r-none",onClick:f,disabled:l<=e,children:i.jsx(mb,{className:"h-4 w-4"})}),i.jsx(Re,{ref:o,type:"number",min:e,max:t,value:l,onChange:m,className:"h-10 w-16 rounded-none border-x-0 text-center [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",...a}),i.jsx(Q,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 rounded-l-none",onClick:d,disabled:l>=t,children:i.jsx(fs,{className:"h-4 w-4"})})]})});mF.displayName="QuantityInput";var Kb="Checkbox",[z2e]=pr(Kb),[M2e,zE]=z2e(Kb);function A2e(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:r,disabled:a,form:o,name:l,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:m}=e,[g,x]=Ur({prop:n,defaultProp:r??!1,onChange:u,caller:Kb}),[b,w]=v.useState(null),[j,k]=v.useState(null),S=v.useRef(!1),C=b?!!o||!!b.closest("form"):!0,E={checked:g,disabled:a,setChecked:x,control:b,setControl:w,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:S,required:d,defaultChecked:Wl(r)?!1:r,isFormControl:C,bubbleInput:j,setBubbleInput:k};return i.jsx(M2e,{scope:t,...E,children:R2e(m)?m(E):s})}var pF="CheckboxTrigger",gF=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},r)=>{const{control:a,value:o,disabled:l,checked:u,required:d,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:b}=zE(pF,e),w=St(r,f),j=v.useRef(u);return v.useEffect(()=>{const k=a==null?void 0:a.form;if(k){const S=()=>m(j.current);return k.addEventListener("reset",S),()=>k.removeEventListener("reset",S)}},[a,m]),i.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":Wl(u)?"mixed":u,"aria-required":d,"data-state":wF(u),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:w,onKeyDown:$e(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:$e(n,k=>{m(S=>Wl(S)?!0:!S),b&&x&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})})});gF.displayName=pF;var ME=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:a,required:o,disabled:l,value:u,onCheckedChange:d,form:f,...m}=e;return i.jsx(A2e,{__scopeCheckbox:n,checked:r,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:s,form:f,value:u,internal_do_not_use_render:({isFormControl:g})=>i.jsxs(i.Fragment,{children:[i.jsx(gF,{...m,ref:t,__scopeCheckbox:n}),g&&i.jsx(bF,{__scopeCheckbox:n})]})})});ME.displayName=Kb;var xF="CheckboxIndicator",vF=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...r}=e,a=zE(xF,n);return i.jsx(rs,{present:s||Wl(a.checked)||a.checked===!0,children:i.jsx(Xe.span,{"data-state":wF(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});vF.displayName=xF;var yF="CheckboxBubbleInput",bF=v.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:a,defaultChecked:o,required:l,disabled:u,name:d,value:f,form:m,bubbleInput:g,setBubbleInput:x}=zE(yF,e),b=St(n,x),w=Tb(a),j=EC(s);v.useEffect(()=>{const S=g;if(!S)return;const C=window.HTMLInputElement.prototype,T=Object.getOwnPropertyDescriptor(C,"checked").set,M=!r.current;if(w!==a&&T){const z=new Event("click",{bubbles:M});S.indeterminate=Wl(a),T.call(S,Wl(a)?!1:a),S.dispatchEvent(z)}},[g,w,a,r]);const k=v.useRef(Wl(a)?!1:a);return i.jsx(Xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??k.current,required:l,disabled:u,name:d,value:f,form:m,...t,tabIndex:-1,ref:b,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});bF.displayName=yF;function R2e(e){return typeof e=="function"}function Wl(e){return e==="indeterminate"}function wF(e){return Wl(e)?"indeterminate":e?"checked":"unchecked"}const Eg=v.forwardRef(({className:e,...t},n)=>i.jsx(ME,{ref:n,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(vF,{className:se("flex items-center justify-center text-current"),children:i.jsx(Fa,{className:"h-4 w-4"})})}));Eg.displayName=ME.displayName;var AE="Radio",[O2e,jF]=pr(AE),[D2e,P2e]=O2e(AE),kF=v.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:r=!1,required:a,disabled:o,value:l="on",onCheck:u,form:d,...f}=e,[m,g]=v.useState(null),x=St(t,j=>g(j)),b=v.useRef(!1),w=m?d||!!m.closest("form"):!0;return i.jsxs(D2e,{scope:n,checked:r,disabled:o,children:[i.jsx(Xe.button,{type:"button",role:"radio","aria-checked":r,"data-state":CF(r),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:x,onClick:$e(e.onClick,j=>{r||u==null||u(),w&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),w&&i.jsx(_F,{control:m,bubbles:!b.current,name:s,value:l,checked:r,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});kF.displayName=AE;var NF="RadioIndicator",SF=v.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...r}=e,a=P2e(NF,n);return i.jsx(rs,{present:s||a.checked,children:i.jsx(Xe.span,{"data-state":CF(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})})});SF.displayName=NF;var I2e="RadioBubbleInput",_F=v.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...r},a)=>{const o=v.useRef(null),l=St(o,a),u=Tb(n),d=EC(t);return v.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&x){const b=new Event("click",{bubbles:s});x.call(f,n),f.dispatchEvent(b)}},[u,n,s]),i.jsx(Xe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_F.displayName=I2e;function CF(e){return e?"checked":"unchecked"}var L2e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Gb="RadioGroup",[$2e]=pr(Gb,[af,jF]),EF=af(),TF=jF(),[V2e,B2e]=$2e(Gb),zF=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:r,value:a,required:o=!1,disabled:l=!1,orientation:u,dir:d,loop:f=!0,onValueChange:m,...g}=e,x=EF(n),b=cc(d),[w,j]=Ur({prop:a,defaultProp:r??null,onChange:m,caller:Gb});return i.jsx(V2e,{scope:n,name:s,required:o,disabled:l,value:w,onValueChange:j,children:i.jsx(DC,{asChild:!0,...x,orientation:u,dir:b,loop:f,children:i.jsx(Xe.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:b,...g,ref:t})})})});zF.displayName=Gb;var MF="RadioGroupItem",AF=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...r}=e,a=B2e(MF,n),o=a.disabled||s,l=EF(n),u=TF(n),d=v.useRef(null),f=St(t,d),m=a.value===r.value,g=v.useRef(!1);return v.useEffect(()=>{const x=w=>{L2e.includes(w.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",b)}},[]),i.jsx(PC,{asChild:!0,...l,focusable:!o,active:m,children:i.jsx(kF,{disabled:o,required:a.required,checked:m,...u,...r,name:a.name,ref:f,onCheck:()=>a.onValueChange(r.value),onKeyDown:$e(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:$e(r.onFocus,()=>{var x;g.current&&((x=d.current)==null||x.click())})})})});AF.displayName=MF;var F2e="RadioGroupIndicator",RF=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,r=TF(n);return i.jsx(SF,{...r,...s,ref:t})});RF.displayName=F2e;var U2e=zF,H2e=AF,q2e=RF;function OF({className:e,...t}){return i.jsx(U2e,{"data-slot":"radio-group",className:se("grid gap-3",e),...t})}function wh({className:e,...t}){return i.jsx(H2e,{"data-slot":"radio-group-item",className:se("aspect-square size-4 shrink-0 rounded-full border border-input shadow-xs outline-none transition-shadow focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[state=checked]:border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:aria-invalid:ring-destructive/40",e),...t,children:i.jsx(q2e,{className:"flex items-center justify-center text-current",children:i.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("circle",{cx:"3",cy:"3",r:"3"})})})})}const pu={creditCard:"creditCard",paypal:"paypal",onlineBankTransfer:"onlineBankTransfer"},Z2e=Pa({method:TE(pu.creditCard),cardholderName:es(),cardNumber:es(),expiryDate:es().regex(/^(0[1-9]|1[0-2])\/\d{2}$/,"Neplatny format (MM/RR)").refine(e=>{const[t,n]=e.split("/").map(Number),s=new Date,r=s.getMonth()+1,a=s.getFullYear()%100;return!(n<a||n===a&&t<r)},"Platnost karty vyprsela"),cvc:es()}),W2e=Pa({method:TE(pu.paypal),payPalEmail:es()}),K2e=Pa({method:TE(pu.onlineBankTransfer),bankName:es(),accountNumber:es()}),G2e=o2e("method",[Z2e,W2e,K2e]),Y2e=Pa({contactInfo:Pa({email:es(),subscribe:XNe().optional()}),address:Pa({country:es(),firstName:es(),lastName:es(),address:es(),postalCode:es(),city:es(),phone:es()}),shippingMethod:es(),payment:G2e,products:Pa({slug:es(),quantity:sS(),price:sS()}).array()});function ru(e){return new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function J2e(e,t){return t?t.discountType==="percentage"?Math.round(e*(t.discountValue/100)):Math.min(t.discountValue,e):0}function X2e(){const{items:e,removeItem:t,updateQuantity:n,subtotal:s,itemCount:r}=rg(),a=Jt(),[o,l]=v.useState(null),u=e.map(m=>({slug:m.slug,quantity:m.quantity,price:m.price})),d=Cg({resolver:Ub(Y2e),defaultValues:{payment:{method:pu.creditCard},products:u}}),f=m=>{a("/potvrzeni-objednavky")};return e.length===0?i.jsx("section",{className:"py-32",children:i.jsxs("div",{className:"mx-auto max-w-lg px-4 text-center",children:[i.jsx("div",{className:"mx-auto mb-6 flex size-16 items-center justify-center rounded-full bg-muted",children:i.jsx(og,{className:"size-8 text-muted-foreground"})}),i.jsx("h1",{className:"mb-4 text-2xl font-semibold",children:"Vas kosik je prazdny"}),i.jsx("p",{className:"mb-8 text-muted-foreground",children:"Vypada to, ze jste jeste nic nepridali."}),i.jsx(Q,{asChild:!0,children:i.jsx(Be,{to:"/obchod",children:"Pokracovat v nakupu"})})]})}):i.jsx("section",{className:"py-16 md:py-24",children:i.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-10 text-center",children:[i.jsx(Be,{to:"/",className:"inline-block",children:i.jsx("img",{src:"/logo.svg",alt:"Logo",className:"mx-auto h-8"})}),i.jsx("h1",{className:"mt-6 text-3xl font-bold tracking-tight md:text-4xl",children:"Pokladna"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Dokoncete svuj nakup bezpecne"})]}),i.jsx(SV,{...d,children:i.jsx("form",{onSubmit:d.handleSubmit(f),children:i.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-5",children:[i.jsxs("div",{className:"space-y-6 lg:col-span-3",children:[i.jsxs(Oe,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Kontaktni udaje"})}),i.jsx(De,{children:i.jsx(eSe,{})})]}),i.jsxs(Oe,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Dodaci adresa"})}),i.jsx(De,{children:i.jsx(tSe,{})})]}),i.jsxs(Oe,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Zpusob dopravy"})}),i.jsx(De,{children:i.jsx(nSe,{})})]}),i.jsxs(Oe,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Platba"})}),i.jsx(De,{children:i.jsx(sSe,{})})]}),i.jsx(Q,{type:"submit",size:"lg",className:"w-full",children:"Dokoncit objednavku"})]}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"sticky top-8 space-y-4",children:[i.jsx(aSe,{form:d,removeItem:t,updateQuantity:n,subtotal:s,itemCount:r,appliedPromo:o}),i.jsx(Q2e,{appliedPromo:o,onApply:l,onRemove:()=>l(null)})]})})]})})})]})})}function Q2e({appliedPromo:e,onApply:t,onRemove:n}){const[s,r]=v.useState(""),[a,o]=v.useState(!1),[l,u]=v.useState(""),d=async()=>{const f=s.trim();if(f){o(!0),u("");try{const x=await(await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/validate-shop-promo",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({code:f})})).json();x.valid&&x.promo?(t({code:x.promo.code,discountType:x.promo.discountType,discountValue:x.promo.discountValue}),r(""),u("")):u(x.message||"Neplatny promo kod")}catch{u("Chyba pri overovani kodu")}finally{o(!1)}}};return e?i.jsx(Oe,{className:"shadow-none",children:i.jsx(De,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex size-8 items-center justify-center rounded-full bg-emerald-100 dark:bg-emerald-900/30",children:i.jsx(La,{className:"size-4 text-emerald-600 dark:text-emerald-400"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium",children:["Promo kod:"," ",i.jsx("span",{className:"font-mono",children:e.code})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sleva"," ",e.discountType==="percentage"?`${e.discountValue}%`:ru(e.discountValue)]})]})]}),i.jsx(Q,{type:"button",variant:"ghost",size:"icon",className:"size-8",onClick:n,children:i.jsx(Iu,{className:"size-4"})})]})})}):i.jsx(Oe,{className:"shadow-none",children:i.jsxs(De,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(bp,{className:"size-4 text-muted-foreground"}),i.jsx("p",{className:"text-sm font-medium",children:"Mate promo kod?"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Re,{value:s,onChange:f=>{r(f.target.value.toUpperCase()),l&&u("")},onKeyDown:f=>{f.key==="Enter"&&(f.preventDefault(),d())},placeholder:"Zadejte kod",className:"font-mono uppercase",disabled:a}),i.jsx(Q,{type:"button",variant:"outline",onClick:d,disabled:a||!s.trim(),className:"shrink-0",children:a?i.jsx(Ul,{className:"size-4 animate-spin"}):"Pouzit"})]}),l&&i.jsx("p",{className:"mt-2 text-xs text-destructive",children:l})]})})}function eSe(){const e=uc();return i.jsxs(dE,{className:"gap-4",children:[i.jsx(jn,{name:"contactInfo.email",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-email",children:"Email"}),i.jsx(Re,{...t,id:"checkout-email",type:"email",placeholder:"vas@email.cz","aria-invalid":n.invalid}),n.invalid&&i.jsx($s,{errors:[n.error]})]})}),i.jsx(jn,{name:"contactInfo.subscribe",control:e.control,render:({field:t})=>i.jsxs(Xt,{className:"flex items-center gap-2",children:[i.jsx(Eg,{id:"checkout-subscribe",name:t.name,checked:t.value,onCheckedChange:t.onChange}),i.jsx(mn,{htmlFor:"checkout-subscribe",className:"font-normal",children:"Posilejte mi novinky a nabidky"})]})})]})}function tSe(){const e=uc();return i.jsxs(dE,{className:"gap-4",children:[i.jsx(jn,{name:"address.country",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-country",children:"Zeme"}),i.jsx(Re,{...t,id:"checkout-country","aria-invalid":n.invalid}),n.invalid&&i.jsx($s,{errors:[n.error]})]})}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsx(jn,{name:"address.firstName",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-firstName",children:"Jmeno"}),i.jsx(Re,{...t,id:"checkout-firstName","aria-invalid":n.invalid}),n.invalid&&i.jsx($s,{errors:[n.error]})]})}),i.jsx(jn,{name:"address.lastName",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-lastName",children:"Prijmeni"}),i.jsx(Re,{...t,id:"checkout-lastName","aria-invalid":n.invalid}),n.invalid&&i.jsx($s,{errors:[n.error]})]})})]}),i.jsx(jn,{name:"address.address",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-address",children:"Adresa"}),i.jsx(Re,{...t,id:"checkout-address","aria-invalid":n.invalid}),n.invalid&&i.jsx($s,{errors:[n.error]})]})}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsx(jn,{name:"address.postalCode",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-postalCode",children:"PSC"}),i.jsx(Re,{...t,id:"checkout-postalCode","aria-invalid":n.invalid}),n.invalid&&i.jsx($s,{errors:[n.error]})]})}),i.jsx(jn,{name:"address.city",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-city",children:"Mesto"}),i.jsx(Re,{...t,id:"checkout-city","aria-invalid":n.invalid}),n.invalid&&i.jsx($s,{errors:[n.error]})]})})]}),i.jsx(jn,{name:"address.phone",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-phone",children:"Telefon"}),i.jsx(Re,{...t,id:"checkout-phone","aria-invalid":n.invalid}),n.invalid&&i.jsx($s,{errors:[n.error]})]})})]})}function nSe(){const e=uc();return i.jsx(jn,{name:"shippingMethod",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{children:[i.jsxs(OF,{name:t.name,value:t.value,onValueChange:t.onChange,className:"gap-3",children:[i.jsx(mn,{htmlFor:"checkout-shippingMethod-1",children:i.jsxs(Xt,{"data-invalid":n.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(wh,{value:"zasilkovna",id:"checkout-shippingMethod-1"}),i.jsxs(hu,{className:"flex-1",children:[i.jsx(fu,{children:"Zasilkovna"}),i.jsx(av,{children:"Doruceni: 2-3 pracovni dny"})]}),i.jsx("p",{className:"text-sm font-medium",children:"89 Kc"})]})}),i.jsx(mn,{htmlFor:"checkout-shippingMethod-2",children:i.jsxs(Xt,{"data-invalid":n.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(wh,{value:"ppl",id:"checkout-shippingMethod-2"}),i.jsxs(hu,{className:"flex-1",children:[i.jsx(fu,{children:"PPL"}),i.jsx(av,{children:"Doruceni: 1-2 pracovni dny"})]}),i.jsx("p",{className:"text-sm font-medium",children:"149 Kc"})]})}),i.jsx(mn,{htmlFor:"checkout-shippingMethod-3",children:i.jsxs(Xt,{"data-invalid":n.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(wh,{value:"ceska-posta",id:"checkout-shippingMethod-3"}),i.jsxs(hu,{className:"flex-1",children:[i.jsx(fu,{children:"Ceska posta"}),i.jsx(av,{children:"Doruceni: 3-5 pracovnich dnu"})]}),i.jsx("p",{className:"text-sm font-medium",children:"69 Kc"})]})})]}),n.invalid&&i.jsx($s,{errors:[n.error]})]})})}function sSe(){const e=uc(),t=e.watch("payment.method");return i.jsxs("div",{className:"space-y-6",children:[i.jsx(jn,{name:"payment.method",control:e.control,render:({field:n,fieldState:s})=>i.jsxs(Xt,{children:[i.jsxs(OF,{name:n.name,value:n.value,onValueChange:n.onChange,className:"gap-3",children:[i.jsx(mn,{htmlFor:"checkout-payment-method-1",children:i.jsxs(Xt,{"data-invalid":s.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(wh,{value:"creditCard",id:"checkout-payment-method-1"}),i.jsx(hu,{className:"flex-1",children:i.jsx(fu,{children:"Platebni karta"})}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/visa-icon.svg",alt:"Visa",className:"size-5"})]})}),i.jsx(mn,{htmlFor:"checkout-payment-method-2",children:i.jsxs(Xt,{"data-invalid":s.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(wh,{value:"paypal",id:"checkout-payment-method-2"}),i.jsx(hu,{className:"flex-1",children:i.jsx(fu,{children:"PayPal"})}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/paypal-icon.svg",alt:"PayPal",className:"size-5"})]})}),i.jsx(mn,{htmlFor:"checkout-payment-method-3",children:i.jsxs(Xt,{"data-invalid":s.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(wh,{value:"onlineBankTransfer",id:"checkout-payment-method-3"}),i.jsx(hu,{className:"flex-1",children:i.jsx(fu,{children:"Bankovni prevod"})}),i.jsx($ie,{className:"size-5 text-muted-foreground"})]})})]}),s.invalid&&i.jsx($s,{errors:[s.error]})]})}),i.jsx(rSe,{method:t})]})}function rSe({method:e}){const t=uc();if(!e)return null;switch(e){case pu.creditCard:return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{name:"payment.cardholderName",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Xt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-cardholderName",children:"Jmeno na karte"}),i.jsx(Re,{...n,id:"checkout-payment-cardholderName","aria-invalid":s.invalid}),s.invalid&&i.jsx($s,{errors:[s.error]})]})}),i.jsx(jn,{name:"payment.cardNumber",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Xt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-cardNumber",children:"Cislo karty"}),i.jsx(Re,{...n,id:"checkout-payment-cardNumber",placeholder:"1234 5678 9012 3456","aria-invalid":s.invalid}),s.invalid&&i.jsx($s,{errors:[s.error]})]})}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsx(iSe,{}),i.jsx(jn,{name:"payment.cvc",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Xt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-cvc",children:"CVC"}),i.jsx(Re,{...n,id:"checkout-payment-cvc",placeholder:"123","aria-invalid":s.invalid}),s.invalid&&i.jsx($s,{errors:[s.error]})]})})]})]});case pu.paypal:return i.jsx(jn,{name:"payment.payPalEmail",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Xt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-payPalEmail",children:"PayPal email"}),i.jsx(Re,{...n,type:"email",placeholder:"vas-paypal@email.cz",id:"checkout-payment-payPalEmail","aria-invalid":s.invalid}),s.invalid&&i.jsx($s,{errors:[s.error]})]})});case pu.onlineBankTransfer:return i.jsxs("div",{className:"space-y-4",children:[i.jsx(jn,{name:"payment.bankName",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Xt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-bankName",children:"Nazev banky"}),i.jsx(Re,{...n,placeholder:"Nazev banky",id:"checkout-payment-bankName","aria-invalid":s.invalid}),s.invalid&&i.jsx($s,{errors:[s.error]})]})}),i.jsx(jn,{name:"payment.accountNumber",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Xt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-accountNumber",children:"Cislo uctu"}),i.jsx(Re,{...n,id:"checkout-payment-accountNumber","aria-invalid":s.invalid}),s.invalid&&i.jsx($s,{errors:[s.error]})]})})]});default:return null}}function iSe(){const e=uc();return i.jsx(jn,{name:"payment.expiryDate",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Xt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-expiryDate",children:"Platnost do"}),i.jsx(Re,{...t,onChange:s=>{let r=s.target.value;r=r.replace(/[^0-9/]/g,"");const a=t.value??"";r.length<a.length||r.length===2&&!r.includes("/")&&(r=`${r}/`),r.length>5&&(r=r.slice(0,5)),t.onChange(r)},pattern:"^(0[1-9]|1[0-2])/[0-9]{2}$",placeholder:"MM/RR",id:"checkout-payment-expiryDate","aria-invalid":n.invalid}),n.invalid&&i.jsx($s,{errors:[n.error]})]})})}function aSe({form:e,removeItem:t,updateQuantity:n,subtotal:s,itemCount:r,appliedPromo:a}){const{items:o}=rg(),{fields:l,remove:u,update:d}=Z0e({control:e.control,name:"products"}),f=J2e(s,a),m=s-f,g=m>=3600?0:149,x=m+g,b=v.useCallback((j,k)=>{u(j),t(k)},[u,t]),w=v.useCallback((j,k,S)=>{d(j,{...l[j],quantity:S}),n(k,S)},[d,l,n]);return i.jsxs(Oe,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsxs(Qe,{children:["Souhrn objednavky (",r," ",r===1?"polozka":r<5?"polozky":"polozek",")"]})}),i.jsxs(De,{className:"space-y-6",children:[i.jsx("ul",{className:"space-y-4",children:l.map((j,k)=>{const S=o.find(C=>C.slug===j.slug);return S?i.jsx("li",{children:i.jsx(oSe,{item:S,index:k,onRemove:()=>b(k,S.slug),onQuantityChange:C=>w(k,S.slug,C)})},j.id):null})}),i.jsxs("div",{className:"space-y-3 border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Mezisoucet"}),i.jsx("span",{children:ru(s)})]}),f>0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-emerald-600",children:["Sleva (",a==null?void 0:a.code,")"]}),i.jsxs("span",{className:"text-emerald-600",children:["-",ru(f)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Doprava"}),i.jsx("span",{children:g===0?i.jsx("span",{className:"text-emerald-600",children:"Zdarma"}):ru(g)})]})]}),i.jsxs("div",{className:"flex justify-between border-t pt-4",children:[i.jsx("span",{className:"text-lg font-semibold",children:"Celkem"}),i.jsx("span",{className:"text-lg font-semibold",children:ru(x)})]})]})]})}function oSe({item:e,index:t,onRemove:n,onQuantityChange:s}){return i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-16 shrink-0",children:i.jsx(Za,{ratio:1,className:"overflow-hidden rounded-md bg-muted",children:i.jsx("img",{src:e.image,alt:e.name,className:"size-full object-contain p-1"})})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.subtitle&&i.jsx("p",{className:"text-xs text-muted-foreground",children:e.subtitle})]}),i.jsxs("div",{className:"shrink-0 text-right",children:[i.jsx("p",{className:"text-sm font-medium",children:ru(e.price*e.quantity)}),e.quantity>1&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[ru(e.price)," / ks"]})]})]}),i.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[i.jsx(lSe,{index:t,onQuantityChange:s}),i.jsx(Q,{type:"button",size:"icon",variant:"ghost",className:"size-8",onClick:n,children:i.jsx(Xle,{className:"size-4"})})]})]})]})}function lSe({index:e,onQuantityChange:t}){const{control:n}=uc();return i.jsx(jn,{name:`products.${e}.quantity`,control:n,render:({field:s})=>i.jsx(Xt,{className:"w-auto",children:i.jsx(mF,{inputProps:s,onValueChange:r=>{s.onChange(r),t(r)},className:"h-8 rounded-none"})})})}const cSe="modulepreload",uSe=function(e){return"/"+e},ZO={},dSe=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(n.map(d=>{if(d=uSe(d),d in ZO)return;ZO[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":cSe,f||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function Cm(e,t,n){const s=document.createElement(t);return e&&(s.className=e),n&&n.appendChild(s),s}function hSe(e,t,n){let s=`translate3d(${e}px,0px,0)`;return n!==void 0&&(s+=` scale3d(${n},${n},1)`),s}function iS(e,t,n){e.style.width=typeof t=="number"?`${t}px`:t,e.style.height=typeof n=="number"?`${n}px`:n}const Ni={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function fSe(e){return"button"in e&&e.button===1||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey}function Em(e,t,n=document){let s=[];if(e instanceof Element)s=[e];else if(e instanceof NodeList||Array.isArray(e))s=Array.from(e);else{const r=typeof e=="string"?e:t;r&&(s=Array.from(n.querySelectorAll(r)))}return s}function mSe(e){return typeof e=="function"&&e.prototype&&e.prototype.goTo}function WO(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class pSe{constructor(t,n){this.type=t,this.defaultPrevented=!1,n&&Object.assign(this,n)}preventDefault(){this.defaultPrevented=!0}}class gSe{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(t,n,s=100){var r,a,o;this._filters[t]||(this._filters[t]=[]),(r=this._filters[t])===null||r===void 0||r.push({fn:n,priority:s}),(a=this._filters[t])===null||a===void 0||a.sort((l,u)=>l.priority-u.priority),(o=this.pswp)===null||o===void 0||o.addFilter(t,n,s)}removeFilter(t,n){this._filters[t]&&(this._filters[t]=this._filters[t].filter(s=>s.fn!==n)),this.pswp&&this.pswp.removeFilter(t,n)}applyFilters(t,...n){var s;return(s=this._filters[t])===null||s===void 0||s.forEach(r=>{n[0]=r.fn.apply(this,n)}),n[0]}on(t,n){var s,r;this._listeners[t]||(this._listeners[t]=[]),(s=this._listeners[t])===null||s===void 0||s.push(n),(r=this.pswp)===null||r===void 0||r.on(t,n)}off(t,n){var s;this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter(r=>n!==r)),(s=this.pswp)===null||s===void 0||s.off(t,n)}dispatch(t,n){var s;if(this.pswp)return this.pswp.dispatch(t,n);const r=new pSe(t,n);return(s=this._listeners[t])===null||s===void 0||s.forEach(a=>{a.call(this,r)}),r}}class xSe{constructor(t,n){if(this.element=Cm("pswp__img pswp__img--placeholder",t?"img":"div",n),t){const s=this.element;s.decoding="async",s.alt="",s.src=t,s.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,n){this.element&&(this.element.tagName==="IMG"?(iS(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=hSe(0,0,t/250)):iS(this.element,t,n))}destroy(){var t;(t=this.element)!==null&&t!==void 0&&t.parentNode&&this.element.remove(),this.element=null}}let vSe=class{constructor(t,n,s){this.instance=n,this.data=t,this.index=s,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=Ni.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(t,n){if(this.slide&&this.usePlaceholder())if(this.placeholder){const s=this.placeholder.element;s&&!s.parentElement&&this.slide.container.prepend(s)}else{const s=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new xSe(s,this.slide.container)}this.element&&!n||this.instance.dispatch("contentLoad",{content:this,isLazy:t}).defaultPrevented||(this.isImageContent()?(this.element=Cm("pswp__img","img"),this.displayedImageWidth&&this.loadImage(t)):(this.element=Cm("pswp__content","div"),this.element.innerHTML=this.data.html||""),n&&this.slide&&this.slide.updateContentSize(!0))}loadImage(t){var n,s;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const r=this.element;this.updateSrcsetSizes(),this.data.srcset&&(r.srcset=this.data.srcset),r.src=(n=this.data.src)!==null&&n!==void 0?n:"",r.alt=(s=this.data.alt)!==null&&s!==void 0?s:"",this.state=Ni.LOADING,r.complete?this.onLoaded():(r.onload=()=>{this.onLoaded()},r.onerror=()=>{this.onError()})}setSlide(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}onLoaded(){this.state=Ni.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===Ni.LOADED||this.state===Ni.ERROR)&&this.removePlaceholder())}onError(){this.state=Ni.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===Ni.LOADING,this)}isError(){return this.state===Ni.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(t,n){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,n),!this.instance.dispatch("contentResize",{content:this,width:t,height:n}).defaultPrevented&&(iS(this.element,t,n),this.isImageContent()&&!this.isError()))){const s=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=n,s?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:n,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==Ni.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element,n=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||n>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=n+"px",t.dataset.largestUsedSize=String(n))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var t,n;let s=Cm("pswp__error-msg","div");s.innerText=(t=(n=this.instance.options)===null||n===void 0?void 0:n.errorMsg)!==null&&t!==void 0?t:"",s=this.instance.applyFilters("contentErrorElement",s,this),this.element=Cm("pswp__content pswp__error-msg-container","div"),this.element.appendChild(s),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===Ni.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;this.isImageContent()?t&&this.slide&&(!this.slide.isActive||WO())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!WO()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===Ni.LOADED||this.state===Ni.ERROR)&&this.removePlaceholder()))}};function ySe(e,t){if(e.getViewportSizeFn){const n=e.getViewportSizeFn(e,t);if(n)return n}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function _0(e,t,n,s,r){let a=0;if(t.paddingFn)a=t.paddingFn(n,s,r)[e];else if(t.padding)a=t.padding[e];else{const o="padding"+e[0].toUpperCase()+e.slice(1);t[o]&&(a=t[o])}return Number(a)||0}function bSe(e,t,n,s){return{x:t.x-_0("left",e,t,n,s)-_0("right",e,t,n,s),y:t.y-_0("top",e,t,n,s)-_0("bottom",e,t,n,s)}}const KO=4e3;class wSe{constructor(t,n,s,r){this.pswp=r,this.options=t,this.itemData=n,this.index=s,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(t,n,s){const r={x:t,y:n};this.elementSize=r,this.panAreaSize=s;const a=s.x/r.x,o=s.y/r.y;this.fit=Math.min(1,a<o?a:o),this.fill=Math.min(1,a>o?a:o),this.vFill=Math.min(1,o),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(t){const n=t+"ZoomLevel",s=this.options[n];if(s)return typeof s=="function"?s(this):s==="fill"?this.fill:s==="fit"?this.fit:Number(s)}_getSecondary(){let t=this._parseZoomLevelOption("secondary");return t||(t=Math.min(1,this.fit*3),this.elementSize&&t*this.elementSize.x>KO&&(t=KO/this.elementSize.x),t)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function DF(e,t,n){const s=t.createContentFromData(e,n);let r;const{options:a}=t;if(a){r=new wSe(a,e,-1);let o;t.pswp?o=t.pswp.viewportSize:o=ySe(a,t);const l=bSe(a,o,e,n);r.update(s.width,s.height,l)}return s.lazyLoad(),r&&s.setDisplayedSize(Math.ceil(s.width*r.initial),Math.ceil(s.height*r.initial)),s}function jSe(e,t){const n=t.getItemData(e);if(!t.dispatch("lazyLoadSlide",{index:e,itemData:n}).defaultPrevented)return DF(n,t,e)}class kSe extends gSe{getNumItems(){var t;let n=0;const s=(t=this.options)===null||t===void 0?void 0:t.dataSource;s&&"length"in s?n=s.length:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),s.items&&(n=s.items.length));const r=this.dispatch("numItems",{dataSource:s,numItems:n});return this.applyFilters("numItems",r.numItems,s)}createContentFromData(t,n){return new vSe(t,this,n)}getItemData(t){var n;const s=(n=this.options)===null||n===void 0?void 0:n.dataSource;let r={};Array.isArray(s)?r=s[t]:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),r=s.items[t]);let a=r;a instanceof Element&&(a=this._domElementToItemData(a));const o=this.dispatch("itemData",{itemData:a||{},index:t});return this.applyFilters("itemData",o.itemData,t)}_getGalleryDOMElements(t){var n,s;return(n=this.options)!==null&&n!==void 0&&n.children||(s=this.options)!==null&&s!==void 0&&s.childSelector?Em(this.options.children,this.options.childSelector,t)||[]:[t]}_domElementToItemData(t){const n={element:t},s=t.tagName==="A"?t:t.querySelector("a");if(s){n.src=s.dataset.pswpSrc||s.href,s.dataset.pswpSrcset&&(n.srcset=s.dataset.pswpSrcset),n.width=s.dataset.pswpWidth?parseInt(s.dataset.pswpWidth,10):0,n.height=s.dataset.pswpHeight?parseInt(s.dataset.pswpHeight,10):0,n.w=n.width,n.h=n.height,s.dataset.pswpType&&(n.type=s.dataset.pswpType);const a=t.querySelector("img");if(a){var r;n.msrc=a.currentSrc||a.src,n.alt=(r=a.getAttribute("alt"))!==null&&r!==void 0?r:""}(s.dataset.pswpCropped||s.dataset.cropped)&&(n.thumbCropped=!0)}return this.applyFilters("domItemData",n,t,s)}lazyLoadData(t,n){return DF(t,this,n)}}class NSe extends kSe{constructor(t){super(),this.options=t||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){Em(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(t){if(fSe(t)||window.pswp)return;let n={x:t.clientX,y:t.clientY};!n.x&&!n.y&&(n=null);let s=this.getClickedIndex(t);s=this.applyFilters("clickedIndex",s,t,this);const r={gallery:t.currentTarget};s>=0&&(t.preventDefault(),this.loadAndOpen(s,r,n))}getClickedIndex(t){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,t);const n=t.target,r=Em(this.options.children,this.options.childSelector,t.currentTarget).findIndex(a=>a===n||a.contains(n));return r!==-1?r:this.options.children||this.options.childSelector?-1:0}loadAndOpen(t,n,s){if(window.pswp||!this.options)return!1;if(!n&&this.options.gallery&&this.options.children){const r=Em(this.options.gallery);r[0]&&(n={gallery:r[0]})}return this.options.index=t,this.options.initialPointerPos=s,this.shouldOpen=!0,this.preload(t,n),!0}preload(t,n){const{options:s}=this;n&&(s.dataSource=n);const r=[],a=typeof s.pswpModule;if(mSe(s.pswpModule))r.push(Promise.resolve(s.pswpModule));else{if(a==="string")throw new Error("pswpModule as string is no longer supported");if(a==="function")r.push(s.pswpModule());else throw new Error("pswpModule is not valid")}typeof s.openPromise=="function"&&r.push(s.openPromise()),s.preloadFirstSlide!==!1&&t>=0&&(this._preloadedContent=jSe(t,this));const o=++this._uid;Promise.all(r).then(l=>{if(this.shouldOpen){const u=l[0];this._openPhotoswipe(u,o)}})}_openPhotoswipe(t,n){if(n!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const s=typeof t=="object"?new t.default(this.options):new t(this.options);this.pswp=s,window.pswp=s,Object.keys(this._listeners).forEach(r=>{var a;(a=this._listeners[r])===null||a===void 0||a.forEach(o=>{s.on(r,o)})}),Object.keys(this._filters).forEach(r=>{var a;(a=this._filters[r])===null||a===void 0||a.forEach(o=>{s.addFilter(r,o.fn,o.priority)})}),this._preloadedContent&&(s.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),s.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),s.init()}destroy(){var t;(t=this.pswp)===null||t===void 0||t.destroy(),this.shouldOpen=!1,this._listeners={},Em(this.options.gallery,this.options.gallerySelector).forEach(n=>{n.removeEventListener("click",this.onThumbnailsClick,!1)})}}function SSe(e){return Object.prototype.toString.call(e)==="[object Object]"}function GO(e){return SSe(e)||Array.isArray(e)}function _Se(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function RE(e,t){const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;const r=JSON.stringify(Object.keys(e.breakpoints||{})),a=JSON.stringify(Object.keys(t.breakpoints||{}));return r!==a?!1:n.every(o=>{const l=e[o],u=t[o];return typeof l=="function"?`${l}`==`${u}`:!GO(l)||!GO(u)?l===u:RE(l,u)})}function YO(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function CSe(e,t){if(e.length!==t.length)return!1;const n=YO(e),s=YO(t);return n.every((r,a)=>{const o=s[a];return RE(r,o)})}function OE(e){return typeof e=="number"}function aS(e){return typeof e=="string"}function Yb(e){return typeof e=="boolean"}function JO(e){return Object.prototype.toString.call(e)==="[object Object]"}function qn(e){return Math.abs(e)}function DE(e){return Math.sign(e)}function qm(e,t){return qn(e-t)}function ESe(e,t){if(e===0||t===0||qn(e)<=qn(t))return 0;const n=qm(qn(e),qn(t));return qn(n/e)}function TSe(e){return Math.round(e*100)/100}function Mp(e){return Ap(e).map(Number)}function la(e){return e[Tg(e)]}function Tg(e){return Math.max(0,e.length-1)}function PE(e,t){return t===Tg(e)}function XO(e,t=0){return Array.from(Array(e),(n,s)=>t+s)}function Ap(e){return Object.keys(e)}function PF(e,t){return[e,t].reduce((n,s)=>(Ap(s).forEach(r=>{const a=n[r],o=s[r],l=JO(a)&&JO(o);n[r]=l?PF(a,o):o}),n),{})}function oS(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function zSe(e,t){const n={start:s,center:r,end:a};function s(){return 0}function r(u){return a(u)/2}function a(u){return t-u}function o(u,d){return aS(e)?n[e](u):e(t,u,d)}return{measure:o}}function Rp(){let e=[];function t(r,a,o,l={passive:!0}){let u;if("addEventListener"in r)r.addEventListener(a,o,l),u=()=>r.removeEventListener(a,o,l);else{const d=r;d.addListener(o),u=()=>d.removeListener(o)}return e.push(u),s}function n(){e=e.filter(r=>r())}const s={add:t,clear:n};return s}function MSe(e,t,n,s){const r=Rp(),a=1e3/60;let o=null,l=0,u=0;function d(){r.add(e,"visibilitychange",()=>{e.hidden&&b()})}function f(){x(),r.clear()}function m(j){if(!u)return;o||(o=j,n(),n());const k=j-o;for(o=j,l+=k;l>=a;)n(),l-=a;const S=l/a;s(S),u&&(u=t.requestAnimationFrame(m))}function g(){u||(u=t.requestAnimationFrame(m))}function x(){t.cancelAnimationFrame(u),o=null,l=0,u=0}function b(){o=null,l=0}return{init:d,destroy:f,start:g,stop:x,update:n,render:s}}function ASe(e,t){const n=t==="rtl",s=e==="y",r=s?"y":"x",a=s?"x":"y",o=!s&&n?-1:1,l=f(),u=m();function d(b){const{height:w,width:j}=b;return s?w:j}function f(){return s?"top":n?"right":"left"}function m(){return s?"bottom":n?"left":"right"}function g(b){return b*o}return{scroll:r,cross:a,startEdge:l,endEdge:u,measureSize:d,direction:g}}function Tu(e=0,t=0){const n=qn(e-t);function s(d){return d<e}function r(d){return d>t}function a(d){return s(d)||r(d)}function o(d){return a(d)?s(d)?e:t:d}function l(d){return n?d-n*Math.ceil((d-t)/n):d}return{length:n,max:t,min:e,constrain:o,reachedAny:a,reachedMax:r,reachedMin:s,removeOffset:l}}function IF(e,t,n){const{constrain:s}=Tu(0,e),r=e+1;let a=o(t);function o(g){return n?qn((r+g)%r):s(g)}function l(){return a}function u(g){return a=o(g),m}function d(g){return f().set(l()+g)}function f(){return IF(e,l(),n)}const m={get:l,set:u,add:d,clone:f};return m}function RSe(e,t,n,s,r,a,o,l,u,d,f,m,g,x,b,w,j,k,S){const{cross:C,direction:E}=e,T=["INPUT","SELECT","TEXTAREA"],M={passive:!1},z=Rp(),A=Rp(),D=Tu(50,225).constrain(x.measure(20)),B={mouse:300,touch:400},$={mouse:500,touch:600},q=b?43:25;let Z=!1,F=0,J=0,P=!1,I=!1,L=!1,G=!1;function U(xe){if(!S)return;function Me(Ee){(Yb(S)||S(xe,Ee))&&ue(Ee)}const re=t;z.add(re,"dragstart",Ee=>Ee.preventDefault(),M).add(re,"touchmove",()=>{},M).add(re,"touchend",()=>{}).add(re,"touchstart",Me).add(re,"mousedown",Me).add(re,"touchcancel",le).add(re,"contextmenu",le).add(re,"click",he,!0)}function R(){z.clear(),A.clear()}function H(){const xe=G?n:t;A.add(xe,"touchmove",Y,M).add(xe,"touchend",le).add(xe,"mousemove",Y,M).add(xe,"mouseup",le)}function K(xe){const Me=xe.nodeName||"";return T.includes(Me)}function ne(){return(b?$:B)[G?"mouse":"touch"]}function ce(xe,Me){const re=m.add(DE(xe)*-1),Ee=f.byDistance(xe,!b).distance;return b||qn(xe)<D?Ee:j&&Me?Ee*.5:f.byIndex(re.get(),0).distance}function ue(xe){const Me=oS(xe,s);G=Me,L=b&&Me&&!xe.buttons&&Z,Z=qm(r.get(),o.get())>=2,!(Me&&xe.button!==0)&&(K(xe.target)||(P=!0,a.pointerDown(xe),d.useFriction(0).useDuration(0),r.set(o),H(),F=a.readPoint(xe),J=a.readPoint(xe,C),g.emit("pointerDown")))}function Y(xe){if(!oS(xe,s)&&xe.touches.length>=2)return le(xe);const re=a.readPoint(xe),Ee=a.readPoint(xe,C),Ze=qm(re,F),it=qm(Ee,J);if(!I&&!G&&(!xe.cancelable||(I=Ze>it,!I)))return le(xe);const kt=a.pointerMove(xe);Ze>w&&(L=!0),d.useFriction(.3).useDuration(.75),l.start(),r.add(E(kt)),xe.preventDefault()}function le(xe){const re=f.byDistance(0,!1).index!==m.get(),Ee=a.pointerUp(xe)*ne(),Ze=ce(E(Ee),re),it=ESe(Ee,Ze),kt=q-10*it,We=k+it/50;I=!1,P=!1,A.clear(),d.useDuration(kt).useFriction(We),u.distance(Ze,!b),G=!1,g.emit("pointerUp")}function he(xe){L&&(xe.stopPropagation(),xe.preventDefault(),L=!1)}function be(){return P}return{init:U,destroy:R,pointerDown:be}}function OSe(e,t){let s,r;function a(m){return m.timeStamp}function o(m,g){const b=`client${(g||e.scroll)==="x"?"X":"Y"}`;return(oS(m,t)?m:m.touches[0])[b]}function l(m){return s=m,r=m,o(m)}function u(m){const g=o(m)-o(r),x=a(m)-a(s)>170;return r=m,x&&(s=m),g}function d(m){if(!s||!r)return 0;const g=o(r)-o(s),x=a(m)-a(s),b=a(m)-a(r)>170,w=g/x;return x&&!b&&qn(w)>.1?w:0}return{pointerDown:l,pointerMove:u,pointerUp:d,readPoint:o}}function DSe(){function e(n){const{offsetTop:s,offsetLeft:r,offsetWidth:a,offsetHeight:o}=n;return{top:s,right:r+a,bottom:s+o,left:r,width:a,height:o}}return{measure:e}}function PSe(e){function t(s){return e*(s/100)}return{measure:t}}function ISe(e,t,n,s,r,a,o){const l=[e].concat(s);let u,d,f=[],m=!1;function g(j){return r.measureSize(o.measure(j))}function x(j){if(!a)return;d=g(e),f=s.map(g);function k(S){for(const C of S){if(m)return;const E=C.target===e,T=s.indexOf(C.target),M=E?d:f[T],z=g(E?e:s[T]);if(qn(z-M)>=.5){j.reInit(),t.emit("resize");break}}}u=new ResizeObserver(S=>{(Yb(a)||a(j,S))&&k(S)}),n.requestAnimationFrame(()=>{l.forEach(S=>u.observe(S))})}function b(){m=!0,u&&u.disconnect()}return{init:x,destroy:b}}function LSe(e,t,n,s,r,a){let o=0,l=0,u=r,d=a,f=e.get(),m=0;function g(){const M=s.get()-e.get(),z=!u;let A=0;return z?(o=0,n.set(s),e.set(s),A=M):(n.set(e),o+=M/u,o*=d,f+=o,e.add(o),A=f-m),l=DE(A),m=f,T}function x(){const M=s.get()-t.get();return qn(M)<.001}function b(){return u}function w(){return l}function j(){return o}function k(){return C(r)}function S(){return E(a)}function C(M){return u=M,T}function E(M){return d=M,T}const T={direction:w,duration:b,velocity:j,seek:g,settled:x,useBaseFriction:S,useBaseDuration:k,useFriction:E,useDuration:C};return T}function $Se(e,t,n,s,r){const a=r.measure(10),o=r.measure(50),l=Tu(.1,.99);let u=!1;function d(){return!(u||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function f(x){if(!d())return;const b=e.reachedMin(t.get())?"min":"max",w=qn(e[b]-t.get()),j=n.get()-t.get(),k=l.constrain(w/o);n.subtract(j*k),!x&&qn(j)<a&&(n.set(e.constrain(n.get())),s.useDuration(25).useBaseFriction())}function m(x){u=!x}return{shouldConstrain:d,constrain:f,toggleActive:m}}function VSe(e,t,n,s,r){const a=Tu(-t+e,0),o=m(),l=f(),u=g();function d(b,w){return qm(b,w)<=1}function f(){const b=o[0],w=la(o),j=o.lastIndexOf(b),k=o.indexOf(w)+1;return Tu(j,k)}function m(){return n.map((b,w)=>{const{min:j,max:k}=a,S=a.constrain(b),C=!w,E=PE(n,w);return C?k:E||d(j,S)?j:d(k,S)?k:S}).map(b=>parseFloat(b.toFixed(3)))}function g(){if(t<=e+r)return[a.max];if(s==="keepSnaps")return o;const{min:b,max:w}=l;return o.slice(b,w)}return{snapsContained:u,scrollContainLimit:l}}function BSe(e,t,n){const s=t[0],r=n?s-e:la(t);return{limit:Tu(r,s)}}function FSe(e,t,n,s){const a=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:u}=Tu(a,o);function d(g){return g===1?u(n.get()):g===-1?l(n.get()):!1}function f(g){if(!d(g))return;const x=e*(g*-1);s.forEach(b=>b.add(x))}return{loop:f}}function USe(e){const{max:t,length:n}=e;function s(a){const o=a-t;return n?o/-n:0}return{get:s}}function HSe(e,t,n,s,r){const{startEdge:a,endEdge:o}=e,{groupSlides:l}=r,u=m().map(t.measure),d=g(),f=x();function m(){return l(s).map(w=>la(w)[o]-w[0][a]).map(qn)}function g(){return s.map(w=>n[a]-w[a]).map(w=>-qn(w))}function x(){return l(d).map(w=>w[0]).map((w,j)=>w+u[j])}return{snaps:d,snapsAligned:f}}function qSe(e,t,n,s,r,a){const{groupSlides:o}=r,{min:l,max:u}=s,d=f();function f(){const g=o(a),x=!e||t==="keepSnaps";return n.length===1?[a]:x?g:g.slice(l,u).map((b,w,j)=>{const k=!w,S=PE(j,w);if(k){const C=la(j[0])+1;return XO(C)}if(S){const C=Tg(a)-la(j)[0]+1;return XO(C,la(j)[0])}return b})}return{slideRegistry:d}}function ZSe(e,t,n,s,r){const{reachedAny:a,removeOffset:o,constrain:l}=s;function u(b){return b.concat().sort((w,j)=>qn(w)-qn(j))[0]}function d(b){const w=e?o(b):l(b),j=t.map((S,C)=>({diff:f(S-w,0),index:C})).sort((S,C)=>qn(S.diff)-qn(C.diff)),{index:k}=j[0];return{index:k,distance:w}}function f(b,w){const j=[b,b+n,b-n];if(!e)return b;if(!w)return u(j);const k=j.filter(S=>DE(S)===w);return k.length?u(k):la(j)-n}function m(b,w){const j=t[b]-r.get(),k=f(j,w);return{index:b,distance:k}}function g(b,w){const j=r.get()+b,{index:k,distance:S}=d(j),C=!e&&a(j);if(!w||C)return{index:k,distance:b};const E=t[k]-S,T=b+f(E,0);return{index:k,distance:T}}return{byDistance:g,byIndex:m,shortcut:f}}function WSe(e,t,n,s,r,a,o){function l(m){const g=m.distance,x=m.index!==t.get();a.add(g),g&&(s.duration()?e.start():(e.update(),e.render(1),e.update())),x&&(n.set(t.get()),t.set(m.index),o.emit("select"))}function u(m,g){const x=r.byDistance(m,g);l(x)}function d(m,g){const x=t.clone().set(m),b=r.byIndex(x.get(),g);l(b)}return{distance:u,index:d}}function KSe(e,t,n,s,r,a,o,l){const u={passive:!0,capture:!0};let d=0;function f(x){if(!l)return;function b(w){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const S=n.findIndex(C=>C.includes(w));OE(S)&&(r.useDuration(0),s.index(S,0),o.emit("slideFocus"))}a.add(document,"keydown",m,!1),t.forEach((w,j)=>{a.add(w,"focus",k=>{(Yb(l)||l(x,k))&&b(j)},u)})}function m(x){x.code==="Tab"&&(d=new Date().getTime())}return{init:f}}function Tm(e){let t=e;function n(){return t}function s(u){t=o(u)}function r(u){t+=o(u)}function a(u){t-=o(u)}function o(u){return OE(u)?u:u.get()}return{get:n,set:s,add:r,subtract:a}}function LF(e,t){const n=e.scroll==="x"?o:l,s=t.style;let r=null,a=!1;function o(g){return`translate3d(${g}px,0px,0px)`}function l(g){return`translate3d(0px,${g}px,0px)`}function u(g){if(a)return;const x=TSe(e.direction(g));x!==r&&(s.transform=n(x),r=x)}function d(g){a=!g}function f(){a||(s.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:f,to:u,toggleActive:d}}function GSe(e,t,n,s,r,a,o,l,u){const f=Mp(r),m=Mp(r).reverse(),g=k().concat(S());function x(z,A){return z.reduce((D,B)=>D-r[B],A)}function b(z,A){return z.reduce((D,B)=>x(D,A)>0?D.concat([B]):D,[])}function w(z){return a.map((A,D)=>({start:A-s[D]+.5+z,end:A+t-.5+z}))}function j(z,A,D){const B=w(A);return z.map($=>{const q=D?0:-n,Z=D?n:0,F=D?"end":"start",J=B[$][F];return{index:$,loopPoint:J,slideLocation:Tm(-1),translate:LF(e,u[$]),target:()=>l.get()>J?q:Z}})}function k(){const z=o[0],A=b(m,z);return j(A,n,!1)}function S(){const z=t-o[0]-1,A=b(f,z);return j(A,-n,!0)}function C(){return g.every(({index:z})=>{const A=f.filter(D=>D!==z);return x(A,t)<=.1})}function E(){g.forEach(z=>{const{target:A,translate:D,slideLocation:B}=z,$=A();$!==B.get()&&(D.to($),B.set($))})}function T(){g.forEach(z=>z.translate.clear())}return{canLoop:C,clear:T,loop:E,loopPoints:g}}function YSe(e,t,n){let s,r=!1;function a(u){if(!n)return;function d(f){for(const m of f)if(m.type==="childList"){u.reInit(),t.emit("slidesChanged");break}}s=new MutationObserver(f=>{r||(Yb(n)||n(u,f))&&d(f)}),s.observe(e,{childList:!0})}function o(){s&&s.disconnect(),r=!0}return{init:a,destroy:o}}function JSe(e,t,n,s){const r={};let a=null,o=null,l,u=!1;function d(){l=new IntersectionObserver(b=>{u||(b.forEach(w=>{const j=t.indexOf(w.target);r[j]=w}),a=null,o=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:s}),t.forEach(b=>l.observe(b))}function f(){l&&l.disconnect(),u=!0}function m(b){return Ap(r).reduce((w,j)=>{const k=parseInt(j),{isIntersecting:S}=r[k];return(b&&S||!b&&!S)&&w.push(k),w},[])}function g(b=!0){if(b&&a)return a;if(!b&&o)return o;const w=m(b);return b&&(a=w),b||(o=w),w}return{init:d,destroy:f,get:g}}function XSe(e,t,n,s,r,a){const{measureSize:o,startEdge:l,endEdge:u}=e,d=n[0]&&r,f=b(),m=w(),g=n.map(o),x=j();function b(){if(!d)return 0;const S=n[0];return qn(t[l]-S[l])}function w(){if(!d)return 0;const S=a.getComputedStyle(la(s));return parseFloat(S.getPropertyValue(`margin-${u}`))}function j(){return n.map((S,C,E)=>{const T=!C,M=PE(E,C);return T?g[C]+f:M?g[C]+m:E[C+1][l]-S[l]}).map(qn)}return{slideSizes:g,slideSizesWithGaps:x,startGap:f,endGap:m}}function QSe(e,t,n,s,r,a,o,l,u){const{startEdge:d,endEdge:f,direction:m}=e,g=OE(n);function x(k,S){return Mp(k).filter(C=>C%S===0).map(C=>k.slice(C,C+S))}function b(k){return k.length?Mp(k).reduce((S,C,E)=>{const T=la(S)||0,M=T===0,z=C===Tg(k),A=r[d]-a[T][d],D=r[d]-a[C][f],B=!s&&M?m(o):0,$=!s&&z?m(l):0,q=qn(D-$-(A+B));return E&&q>t+u&&S.push(C),z&&S.push(k.length),S},[]).map((S,C,E)=>{const T=Math.max(E[C-1]||0);return k.slice(T,S)}):[]}function w(k){return g?x(k,n):b(k)}return{groupSlides:w}}function e_e(e,t,n,s,r,a,o){const{align:l,axis:u,direction:d,startIndex:f,loop:m,duration:g,dragFree:x,dragThreshold:b,inViewThreshold:w,slidesToScroll:j,skipSnaps:k,containScroll:S,watchResize:C,watchSlides:E,watchDrag:T,watchFocus:M}=a,z=2,A=DSe(),D=A.measure(t),B=n.map(A.measure),$=ASe(u,d),q=$.measureSize(D),Z=PSe(q),F=zSe(l,q),J=!m&&!!S,P=m||!!S,{slideSizes:I,slideSizesWithGaps:L,startGap:G,endGap:U}=XSe($,D,B,n,P,r),R=QSe($,q,j,m,D,B,G,U,z),{snaps:H,snapsAligned:K}=HSe($,F,D,B,R),ne=-la(H)+la(L),{snapsContained:ce,scrollContainLimit:ue}=VSe(q,ne,K,S,z),Y=J?ce:K,{limit:le}=BSe(ne,Y,m),he=IF(Tg(Y),f,m),be=he.clone(),we=Mp(n),xe=({dragHandler:Ue,scrollBody:tt,scrollBounds:Ge,options:{loop:mt}})=>{mt||Ge.constrain(Ue.pointerDown()),tt.seek()},Me=({scrollBody:Ue,translate:tt,location:Ge,offsetLocation:mt,previousLocation:Nt,scrollLooper:Rt,slideLooper:ln,dragHandler:xr,animation:Kn,eventHandler:Ye,scrollBounds:Et,options:{loop:Dt}},at)=>{const gt=Ue.settled(),qe=!Et.shouldConstrain(),xt=Dt?gt:gt&&qe,Mt=xt&&!xr.pointerDown();Mt&&Kn.stop();const Tt=Ge.get()*at+Nt.get()*(1-at);mt.set(Tt),Dt&&(Rt.loop(Ue.direction()),ln.loop()),tt.to(mt.get()),Mt&&Ye.emit("settle"),xt||Ye.emit("scroll")},re=MSe(s,r,()=>xe(Te),Ue=>Me(Te,Ue)),Ee=.68,Ze=Y[he.get()],it=Tm(Ze),kt=Tm(Ze),We=Tm(Ze),ct=Tm(Ze),X=LSe(it,We,kt,ct,g,Ee),oe=ZSe(m,Y,ne,le,ct),me=WSe(re,he,be,X,oe,ct,o),ze=USe(le),Ae=Rp(),Ce=JSe(t,n,o,w),{slideRegistry:Fe}=qSe(J,S,Y,ue,R,we),ot=KSe(e,n,Fe,me,X,Ae,o,M),Te={ownerDocument:s,ownerWindow:r,eventHandler:o,containerRect:D,slideRects:B,animation:re,axis:$,dragHandler:RSe($,e,s,r,ct,OSe($,r),it,re,me,X,oe,he,o,Z,x,b,k,Ee,T),eventStore:Ae,percentOfView:Z,index:he,indexPrevious:be,limit:le,location:it,offsetLocation:We,previousLocation:kt,options:a,resizeHandler:ISe(t,o,r,n,$,C,A),scrollBody:X,scrollBounds:$Se(le,We,ct,X,Z),scrollLooper:FSe(ne,le,We,[it,We,kt,ct]),scrollProgress:ze,scrollSnapList:Y.map(ze.get),scrollSnaps:Y,scrollTarget:oe,scrollTo:me,slideLooper:GSe($,q,ne,I,L,H,Y,We,n),slideFocus:ot,slidesHandler:YSe(t,o,E),slidesInView:Ce,slideIndexes:we,slideRegistry:Fe,slidesToScroll:R,target:ct,translate:LF($,t)};return Te}function t_e(){let e={},t;function n(d){t=d}function s(d){return e[d]||[]}function r(d){return s(d).forEach(f=>f(t,d)),u}function a(d,f){return e[d]=s(d).concat([f]),u}function o(d,f){return e[d]=s(d).filter(m=>m!==f),u}function l(){e={}}const u={init:n,emit:r,off:o,on:a,clear:l};return u}const n_e={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function s_e(e){function t(a,o){return PF(a,o||{})}function n(a){const o=a.breakpoints||{},l=Ap(o).filter(u=>e.matchMedia(u).matches).map(u=>o[u]).reduce((u,d)=>t(u,d),{});return t(a,l)}function s(a){return a.map(o=>Ap(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:s}}function r_e(e){let t=[];function n(a,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(a,e)),o.reduce((l,u)=>Object.assign(l,{[u.name]:u}),{})}function s(){t=t.filter(a=>a.destroy())}return{init:n,destroy:s}}function iy(e,t,n){const s=e.ownerDocument,r=s.defaultView,a=s_e(r),o=r_e(a),l=Rp(),u=t_e(),{mergeOptions:d,optionsAtMedia:f,optionsMediaQueries:m}=a,{on:g,off:x,emit:b}=u,w=$;let j=!1,k,S=d(n_e,iy.globalOptions),C=d(S),E=[],T,M,z;function A(){const{container:we,slides:xe}=C;M=(aS(we)?e.querySelector(we):we)||e.children[0];const re=aS(xe)?M.querySelectorAll(xe):xe;z=[].slice.call(re||M.children)}function D(we){const xe=e_e(e,M,z,s,r,we,u);if(we.loop&&!xe.slideLooper.canLoop()){const Me=Object.assign({},we,{loop:!1});return D(Me)}return xe}function B(we,xe){j||(S=d(S,we),C=f(S),E=xe||E,A(),k=D(C),m([S,...E.map(({options:Me})=>Me)]).forEach(Me=>l.add(Me,"change",$)),C.active&&(k.translate.to(k.location.get()),k.animation.init(),k.slidesInView.init(),k.slideFocus.init(be),k.eventHandler.init(be),k.resizeHandler.init(be),k.slidesHandler.init(be),k.options.loop&&k.slideLooper.loop(),M.offsetParent&&z.length&&k.dragHandler.init(be),T=o.init(be,E)))}function $(we,xe){const Me=R();q(),B(d({startIndex:Me},we),xe),u.emit("reInit")}function q(){k.dragHandler.destroy(),k.eventStore.clear(),k.translate.clear(),k.slideLooper.clear(),k.resizeHandler.destroy(),k.slidesHandler.destroy(),k.slidesInView.destroy(),k.animation.destroy(),o.destroy(),l.clear()}function Z(){j||(j=!0,l.clear(),q(),u.emit("destroy"),u.clear())}function F(we,xe,Me){!C.active||j||(k.scrollBody.useBaseFriction().useDuration(xe===!0?0:C.duration),k.scrollTo.index(we,Me||0))}function J(we){const xe=k.index.add(1).get();F(xe,we,-1)}function P(we){const xe=k.index.add(-1).get();F(xe,we,1)}function I(){return k.index.add(1).get()!==R()}function L(){return k.index.add(-1).get()!==R()}function G(){return k.scrollSnapList}function U(){return k.scrollProgress.get(k.offsetLocation.get())}function R(){return k.index.get()}function H(){return k.indexPrevious.get()}function K(){return k.slidesInView.get()}function ne(){return k.slidesInView.get(!1)}function ce(){return T}function ue(){return k}function Y(){return e}function le(){return M}function he(){return z}const be={canScrollNext:I,canScrollPrev:L,containerNode:le,internalEngine:ue,destroy:Z,off:x,on:g,emit:b,plugins:ce,previousScrollSnap:H,reInit:w,rootNode:Y,scrollNext:J,scrollPrev:P,scrollProgress:U,scrollSnapList:G,scrollTo:F,selectedScrollSnap:R,slideNodes:he,slidesInView:K,slidesNotInView:ne};return B(t,n),setTimeout(()=>u.emit("init"),0),be}iy.globalOptions=void 0;function IE(e={},t=[]){const n=v.useRef(e),s=v.useRef(t),[r,a]=v.useState(),[o,l]=v.useState(),u=v.useCallback(()=>{r&&r.reInit(n.current,s.current)},[r]);return v.useEffect(()=>{RE(n.current,e)||(n.current=e,u())},[e,u]),v.useEffect(()=>{CSe(s.current,t)||(s.current=t,u())},[t,u]),v.useEffect(()=>{if(_Se()&&o){iy.globalOptions=IE.globalOptions;const d=iy(o,n.current,s.current);return a(d),()=>d.destroy()}else a(void 0)},[o,a]),[l,r]}IE.globalOptions=void 0;const $F=v.createContext(null);function Jb(){const e=v.useContext($F);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Xb=v.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:s,className:r,children:a,...o},l)=>{const[u,d]=IE({...t,axis:e==="horizontal"?"x":"y"},s),[f,m]=v.useState(!1),[g,x]=v.useState(!1),b=v.useCallback(S=>{S&&(m(S.canScrollPrev()),x(S.canScrollNext()))},[]),w=v.useCallback(()=>{d==null||d.scrollPrev()},[d]),j=v.useCallback(()=>{d==null||d.scrollNext()},[d]),k=v.useCallback(S=>{S.key==="ArrowLeft"?(S.preventDefault(),w()):S.key==="ArrowRight"&&(S.preventDefault(),j())},[w,j]);return v.useEffect(()=>{!d||!n||n(d)},[d,n]),v.useEffect(()=>{if(d)return b(d),d.on("reInit",b),d.on("select",b),()=>{d==null||d.off("select",b)}},[d,b]),i.jsx($F.Provider,{value:{carouselRef:u,api:d,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:j,canScrollPrev:f,canScrollNext:g},children:i.jsx("div",{ref:l,onKeyDownCapture:k,className:se("relative",r),...o,children:a})})});Xb.displayName="Carousel";const Qb=v.forwardRef(({className:e,...t},n)=>{const{carouselRef:s,orientation:r}=Jb();return i.jsx("div",{ref:s,className:"overflow-hidden",children:i.jsx("div",{ref:n,className:se("flex",r==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});Qb.displayName="CarouselContent";const e1=v.forwardRef(({className:e,...t},n)=>{const{orientation:s}=Jb();return i.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:se("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",e),...t})});e1.displayName="CarouselItem";const i_e=v.forwardRef(({className:e,variant:t="outline",size:n="icon",...s},r)=>{const{orientation:a,scrollPrev:o,canScrollPrev:l}=Jb();return i.jsxs(Q,{ref:r,variant:t,size:n,className:se("absolute h-8 w-8 rounded-full",a==="horizontal"?"-left-12 -translate-y-1/2 top-1/2":"-top-12 -translate-x-1/2 left-1/2 rotate-90",e),disabled:!l,onClick:o,...s,children:[i.jsx(da,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Previous slide"})]})});i_e.displayName="CarouselPrevious";const a_e=v.forwardRef(({className:e,variant:t="outline",size:n="icon",...s},r)=>{const{orientation:a,scrollNext:o,canScrollNext:l}=Jb();return i.jsxs(Q,{ref:r,variant:t,size:n,className:se("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 -translate-y-1/2 top-1/2":"-bottom-12 -translate-x-1/2 left-1/2 rotate-90",e),disabled:!l,onClick:o,...s,children:[i.jsx(ur,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Next slide"})]})});a_e.displayName="CarouselNext";const o_e=[{label:"LIBELA",description:"Vizualni zpetna vazba polohy desticky pro presnou korekci"},{label:"WOODEN / CARBON PLATFORM",description:"Vyrobeno z kvalitnich materialu s povrchovou upravou"},{label:"BASE CONTROL",description:"Zjednodusuje najit a citit bazi opory"},{label:"BALANCE ZONE",description:"Balancni opora s optimalnim prumerem"}],l_e=[{title:"Zaujeti cvicebnich poloh",description:"Cvicime v asymetrickem sedu z uziho a z sirsiho. Snadnejsi je zacit s uzim sedem, kde se lepe aktivuji svaly nohy a chodidla.",image:"/postup-prvni.jpg",icon:Z_},{title:"Cviceni",description:"V asymetrickem sedu postupne nacitame stabilitu, tlacime nohy vazi podel a promenujeme svaly. Potern sledujeme citlivost a reakce tela.",image:"/postup-druhy.jpg",icon:x2},{title:"Pocity",description:"Pri postupnem zatezovani vnimame, jak se noha a chodidlo prizpusobuji. V idealnich stavu citi vahu, a pritom sledujeme odchylky spoliu.",image:"/postup-treti.jpg",icon:Vi},{title:"Rezim cviceni",description:"Postupujte az od sedu pres stoj. V obou dalsinch stavu cvicte dle svych moznosti - sledujte vlastni pokroky.",image:"/postup-ctvrty.jpg",icon:Pu}],c_e=[{name:"CARBON",description:"Aerodynamicky design doplni sportovni vizual a zaroven nabidne maximalni odolnost diky karbonove povrchove uprave. Vhodna pro intenzivni pouziti.",price:"3 100",image:"/correctfoot-carbon-2048x1245.jpg",features:["Karbonova povrchova uprava","Maximalni odolnost","Sportovni design"]},{name:"WOOD",description:"Elegantni provedeni z kvalitniho ceskeho dreva. Prirodni material a nadcasovy vzhled, ktery se hodi do kazdeho interieru.",price:"2 900",image:"/correctfoot-wood-2048x1545.jpg",features:["Ceske drevo","Prirodni material","Nadcasovy design"]}];function u_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Popis correctfoot"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"S correctfoot trenujete chodidlo, celou nohu, zaklady a drzeni tela na sve deti."})]}),i.jsxs("div",{className:"mt-14 grid grid-cols-1 gap-6 md:grid-cols-2",children:[i.jsx("div",{className:"overflow-hidden rounded-2xl border",children:i.jsx("img",{src:"/popis-correctfoot.jpg",alt:"Correctfoot - libela a platforma",className:"h-full w-full object-cover"})}),i.jsx("div",{className:"overflow-hidden rounded-2xl border",children:i.jsx("img",{src:"/popis-correctfoot2.jpg",alt:"Correctfoot - base control a balance zone",className:"h-full w-full object-cover"})})]}),i.jsx("div",{className:"mt-10 grid grid-cols-2 gap-4 md:grid-cols-4",children:o_e.map(e=>i.jsxs("div",{className:"rounded-xl border bg-card p-5 transition-shadow hover:shadow-md",children:[i.jsx("p",{className:"text-sm font-bold uppercase tracking-wide",children:e.label}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed text-muted-foreground",children:e.description})]},e.label))})]})}function d_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsx("div",{className:"mx-auto max-w-3xl text-center",children:i.jsxs("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:["Jak cvicit s ",i.jsx("span",{className:"font-bold",children:"correctfoot"}),"?"]})}),i.jsx("div",{className:"mt-14 flex flex-col",children:l_e.map((e,t)=>i.jsxs("div",{children:[t>0&&i.jsx(It,{}),i.jsxs("div",{className:"grid grid-cols-1 items-center gap-8 py-10 md:grid-cols-[1fr_auto]",children:[i.jsxs("div",{className:`flex flex-col gap-4 ${t%2===1?"md:order-2":""}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-foreground/5",children:i.jsx(e.icon,{className:"h-5 w-5 text-foreground/70"})}),i.jsx("h3",{className:"text-xl font-semibold",children:e.title})]}),i.jsx("p",{className:"max-w-md text-muted-foreground leading-relaxed",children:e.description})]}),i.jsx("div",{className:`w-full overflow-hidden rounded-2xl bg-muted md:w-72 lg:w-80 ${t%2===1?"md:order-1":""}`,children:i.jsx("img",{src:e.image,alt:e.title,className:"mx-auto h-auto max-h-[24rem] w-auto object-contain"})})]})]},e.title))})]})}function h_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsx("div",{className:"mx-auto max-w-3xl text-center",children:i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Vyberte si ze dvou variant"})}),i.jsx("div",{className:"mt-14 flex flex-col gap-10",children:c_e.map((e,t)=>i.jsx("div",{className:"group overflow-hidden rounded-3xl border bg-card transition-shadow hover:shadow-lg",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[i.jsxs("div",{className:`flex flex-col justify-center gap-5 p-8 md:p-12 ${t%2===1?"md:order-2":""}`,children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"correctfoot"}),i.jsx("h3",{className:"mt-1 text-4xl font-bold tracking-tight",children:e.name})]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.description}),i.jsx("ul",{className:"flex flex-col gap-2",children:e.features.map(n=>i.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"h-1.5 w-1.5 shrink-0 rounded-full bg-foreground/40"}),n]},n))}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("p",{className:"text-2xl font-bold",children:[e.price," Kc"]}),i.jsx(Q,{size:"sm",children:"Koupit"})]})]}),i.jsx("div",{className:`bg-muted p-6 ${t%2===1?"md:order-1":""}`,children:i.jsx("img",{src:e.image,alt:`Correctfoot ${e.name}`,className:"h-full w-full rounded-xl object-cover transition-transform duration-500 group-hover:scale-[1.02]"})})]})},e.name))})]})}const f_e=[{icon:qie,label:"70 dni",description:"Strukturovany plan"},{icon:on,label:"15 min",description:"Denne staci"},{icon:WL,label:"Dozivotni",description:"Pristup k materialu"},{icon:Va,label:"Video",description:"Navod ke kazdemu cviku"}],m_e=[{title:"Faze 1 - Zaklady",description:"Naucite se spravnou techniku zakladnich cviku. Zamerime se na mobilitu, stabilitu a spravne dychani.",icon:lg,days:"Den 1-20"},{title:"Faze 2 - Rozvoj",description:"Postupne zvysujeme intenzitu a pridavame slozitejsi cviky. Budujete silu a vydrz.",icon:Pu,days:"Den 21-45"},{title:"Faze 3 - Vykonnost",description:"Pokrocile cviky a kombinace pro maximalni efekt. Telo je pripravene na vyssi zatez.",icon:fb,days:"Den 46-60"},{title:"Faze 4 - Udrzba",description:"Upevnete ziskane navyky. Naucite se, jak pokracovat i po skonceni programu.",icon:vae,days:"Den 61-70"}],p_e=[{title:"Zacatecnici",description:"Nikdy jste pravidelne necvicili? 4CORE vas provede od uplnych zakladu."},{title:"Rehabilitanti",description:"Po zraneni nebo operaci potrebujete setrny navrat k pohybu."},{title:"Sportovci",description:"Chcete zlepsit zakladni stabilitu a predejit zranenim."}];function g_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Co vas ceka"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"70 dni strukturovaneho treninku, ktery zvladnete kazdy den za 15 minut."})]}),i.jsx("div",{className:"mt-14 grid grid-cols-2 gap-4 md:grid-cols-4",children:f_e.map(e=>i.jsxs("div",{className:"group flex flex-col items-center rounded-2xl border bg-card p-6 text-center transition-shadow hover:shadow-md",children:[i.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-xl bg-foreground/5 transition-colors group-hover:bg-foreground/10",children:i.jsx(e.icon,{className:"h-6 w-6 text-foreground/70"})}),i.jsx("p",{className:"text-2xl font-bold",children:e.label}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:e.description})]},e.label))})]})}function x_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsx("div",{className:"mx-auto max-w-3xl text-center",children:i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Struktura programu"})}),i.jsx("div",{className:"mt-14 flex flex-col",children:m_e.map((e,t)=>i.jsxs("div",{children:[t>0&&i.jsx(It,{}),i.jsxs("div",{className:"flex items-start gap-6 py-8",children:[i.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-foreground/5",children:i.jsx(e.icon,{className:"h-6 w-6 text-foreground/70"})}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:e.days}),i.jsx("h3",{className:"text-lg font-semibold",children:e.title}),i.jsx("p",{className:"max-w-lg leading-relaxed text-muted-foreground",children:e.description})]})]})]},e.title))})]})}function v_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsx("div",{className:"mx-auto max-w-3xl text-center",children:i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Pro koho je 4CORE"})}),i.jsx("div",{className:"mt-14 grid grid-cols-1 gap-6 md:grid-cols-3",children:p_e.map(e=>i.jsxs("div",{className:"group rounded-2xl border bg-card p-8 transition-shadow hover:shadow-md",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e.title}),i.jsx("p",{className:"mt-3 leading-relaxed text-muted-foreground",children:e.description})]},e.title))})]})}const y_e=[{title:"Zaklady funkcniho treninku",description:"Pochopte principy pohybu a naucte se, proc je funkcni trenink zaklad zdravi."},{title:"Cviky pro spravne drzeni tela",description:"Desitky cviku s detailnimi popisy a ilustracemi pro kazdodenni praxi."},{title:"Rehabilitacni programy",description:"Komplexni programy pro navrat k pohybu po zraneni ci operaci."},{title:"Prevence zraneni",description:"Jak predchazet beznym zranenim a udrzet telo odolne."},{title:"Treninkove plany",description:"Hotove plany pro ruzne urovne zdatnosti - od zacatecniku po pokrocile."}],b_e=[{icon:Wt,title:"Prakticky pruvodce",description:"Zadna teorie navic. Kazda stranka vas privede bliz ke zdravemu pohybu."},{icon:tc,title:"20 let zkusenosti",description:"Autori s dlouholetou praxi ve fyzioterapii a sportovnim treninku."},{icon:qa,title:"Pro vsechny urovne",description:"At uz zacinate nebo jste pokrocily, kniha se prizpusobi vasim potrebam."},{icon:qL,title:"Pohyb jako lek",description:"Naucte se, jak vyuzit pohyb jako nastroj pro zlepseni celkoveho zdravi."}];function w_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"O knize Fyziotrenink"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Pohyb jako lek - prakticky pruvodce funkcnim treninkem a rehabilitaci."})]}),i.jsx("div",{className:"mt-14 grid grid-cols-1 gap-6 sm:grid-cols-2",children:b_e.map(e=>i.jsxs("div",{className:"group rounded-2xl border bg-card p-8 transition-shadow hover:shadow-md",children:[i.jsx("div",{className:"mb-5 flex h-12 w-12 items-center justify-center rounded-xl bg-foreground/5 transition-colors group-hover:bg-foreground/10",children:i.jsx(e.icon,{className:"h-6 w-6 text-foreground/70"})}),i.jsx("h3",{className:"text-lg font-semibold",children:e.title}),i.jsx("p",{className:"mt-2 leading-relaxed text-muted-foreground",children:e.description})]},e.title))})]})}function j_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("div",{className:"mx-auto mb-6 flex h-12 w-12 items-center justify-center rounded-xl bg-foreground/5",children:i.jsx(Bo,{className:"h-6 w-6 text-foreground/70"})}),i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Co v knize najdete"})]}),i.jsx("div",{className:"mx-auto mt-14 max-w-2xl flex flex-col",children:y_e.map((e,t)=>i.jsxs("div",{children:[t>0&&i.jsx(It,{}),i.jsxs("div",{className:"flex items-start gap-5 py-7",children:[i.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-foreground text-sm font-bold text-background",children:t+1}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:e.title}),i.jsx("p",{className:"mt-1 leading-relaxed text-muted-foreground",children:e.description})]})]})]},e.title))})]})}function k_e({label:e,items:t,className:n}){return i.jsxs("section",{className:se("relative overflow-hidden py-16 md:py-24",n),children:[e&&i.jsx("p",{className:"font-mono text-sm font-semibold uppercase tracking-widest text-muted-foreground",children:e}),i.jsx("div",{className:"relative z-10 mt-8 grid grid-cols-1 gap-6 md:grid-cols-5",children:t.map((s,r)=>i.jsxs(Oe,{className:se("col-span-1 shadow-lg",s.className),children:[i.jsxs(Je,{className:s.headerClassName,children:[s.imagePosition==="header"&&i.jsx("img",{src:s.image.src,alt:s.image.alt,className:se("object-cover",s.image.className)}),i.jsx(Qe,{className:"mt-0! text-3xl",children:s.title}),s.description.map((a,o)=>i.jsx(Qt,{className:"mt-3 text-base font-medium leading-snug",children:a},`desc-${o}`))]}),i.jsx(De,{className:s.contentClassName,children:s.imagePosition==="content"&&i.jsx("img",{src:s.image.src,alt:s.image.alt,className:se("self-center object-cover",s.image.className)})})]},`bento-${r}`))})]})}function mm({children:e,delay:t=0,className:n,duration:s=.3}){return i.jsx(ee.div,{initial:{x:10,opacity:0},animate:{x:0,opacity:1},exit:{x:-10,opacity:0},transition:{duration:s,ease:"easeOut",delay:t},className:n,children:e})}function N_e({testimonial:e}){return i.jsxs("div",{className:"hidden h-96 flex-1/2 shrink-0 flex-col items-start justify-end rounded-lg border bg-muted p-6 sm:flex lg:h-full",children:[i.jsxs("p",{className:"mt-8 text-lg leading-tight",children:["",e.quote,""]}),i.jsxs("p",{className:"mt-4 text-sm font-medium",children:[" ",e.author," ",i.jsx("span",{className:"font-light",children:e.designation})]})]})}function S_e({totalFeatures:e,activeIndex:t,scrollYProgress:n}){const s=1/e,r=t*s,a=(t+1)*s,o=zo(n,[r,a],["0%","100%"]);return i.jsx("div",{className:"mt-14 hidden w-fit items-center justify-center gap-3 rounded-full bg-muted px-6 py-4 lg:flex",children:Array.from({length:e}).map((l,u)=>i.jsx("div",{className:se("relative h-1.5 w-1.5 rounded-full bg-foreground/20",t===u&&"w-10",t>u&&"bg-foreground"),children:t===u&&i.jsx(ee.div,{style:{width:o},className:"absolute top-0 left-0 h-full rounded-full bg-foreground"})},`scroll-progress-${u}`))})}function QO({feature:e,index:t,testimonial:n,totalFeatures:s,scrollYProgress:r}){return i.jsxs("div",{className:se("flex w-full flex-col-reverse justify-between gap-8 py-4 lg:absolute lg:top-1/2 lg:left-1/2 lg:h-full lg:-translate-x-1/2 lg:-translate-y-1/2 lg:flex-row lg:items-center lg:border-l lg:px-10"),children:[i.jsxs("div",{className:"flex flex-2/5 flex-col gap-8 lg:h-full lg:gap-0",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(mm,{children:i.jsx("p",{className:"text-xl font-semibold",children:e.title})}),i.jsx(mm,{delay:.15,children:i.jsx("p",{className:"font-light",children:e.subtitle})})]}),i.jsx(S_e,{totalFeatures:s,activeIndex:t,scrollYProgress:r}),i.jsxs("div",{className:"flex flex-col gap-1 lg:mt-auto",children:[i.jsx(mm,{delay:.3,children:i.jsx("p",{className:"text-6xl font-medium",children:e.statistics.value})}),i.jsx(mm,{delay:.45,children:i.jsx("p",{className:"text-sm font-light",children:e.statistics.label})})]})]}),i.jsxs(mm,{duration:.6,className:"flex h-96 w-full flex-3/5 items-center gap-6 lg:h-full",children:[i.jsx("img",{src:e.visual,alt:e.title,className:se("h-96 w-full overflow-hidden rounded-lg border object-cover lg:h-full",t===0&&"flex-1/2")}),t===0&&i.jsx(N_e,{testimonial:n})]})]})}function __e({features:e,testimonial:t,className:n}){const s=v.useRef(null),{scrollYProgress:r}=$_({target:s,offset:["start start","end end"]}),[a,o]=v.useState(0);return v.useEffect(()=>{const l=r.on("change",u=>{const d=1/e.length,f=Math.min(e.length-1,Math.floor(u/d));o(f)});return()=>l()},[e,r]),i.jsxs("section",{ref:s,className:se("relative",n),style:{height:`${(e.length+1)*100}vh`},children:[i.jsx("div",{className:"sticky top-0 hidden h-screen w-full flex-col items-center justify-center gap-10 lg:flex",children:i.jsx("div",{className:"relative h-full w-full lg:h-1/2",children:i.jsx(gn,{mode:"popLayout",children:i.jsx(QO,{index:a,feature:e[a],testimonial:t,totalFeatures:e.length,scrollYProgress:r},`feature-${a}`)})})}),i.jsx("div",{className:"flex w-full flex-col items-center justify-center gap-10 py-16 lg:hidden",children:i.jsx("div",{className:"relative h-full w-full",children:e.map((l,u)=>i.jsx(QO,{index:u,feature:l,testimonial:t,totalFeatures:e.length,scrollYProgress:r},`feature-mobile-${u}`))})})]})}var t1="Tabs",[C_e]=pr(t1,[af]),VF=af(),[E_e,LE]=C_e(t1),BF=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=e,f=cc(l),[m,g]=Ur({prop:s,onChange:r,defaultProp:a??"",caller:t1});return i.jsx(E_e,{scope:n,baseId:Nr(),value:m,onValueChange:g,orientation:o,dir:f,activationMode:u,children:i.jsx(Xe.div,{dir:f,"data-orientation":o,...d,ref:t})})});BF.displayName=t1;var FF="TabsList",UF=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...r}=e,a=LE(FF,n),o=VF(n);return i.jsx(DC,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:i.jsx(Xe.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:t})})});UF.displayName=FF;var HF="TabsTrigger",qF=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...a}=e,o=LE(HF,n),l=VF(n),u=KF(o.baseId,s),d=GF(o.baseId,s),f=s===o.value;return i.jsx(PC,{asChild:!0,...l,focusable:!r,active:f,children:i.jsx(Xe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...a,ref:t,onMouseDown:$e(e.onMouseDown,m=>{!r&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:$e(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:$e(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!r&&m&&o.onValueChange(s)})})})});qF.displayName=HF;var ZF="TabsContent",WF=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:r,children:a,...o}=e,l=LE(ZF,n),u=KF(l.baseId,s),d=GF(l.baseId,s),f=s===l.value,m=v.useRef(f);return v.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),i.jsx(rs,{present:r||f,children:({present:g})=>i.jsx(Xe.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&a})})});WF.displayName=ZF;function KF(e,t){return`${e}-trigger-${t}`}function GF(e,t){return`${e}-content-${t}`}var T_e=BF,YF=UF,JF=qF,XF=WF;const ja=T_e,Zi=v.forwardRef(({className:e,...t},n)=>i.jsx(YF,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Zi.displayName=YF.displayName;const kn=v.forwardRef(({className:e,...t},n)=>i.jsx(JF,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 font-medium text-sm disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));kn.displayName=JF.displayName;const Ln=v.forwardRef(({className:e,...t},n)=>i.jsx(XF,{ref:n,className:se("mt-2 ring-offset-0 ring-offset-background focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ln.displayName=XF.displayName;function z_e({heading:e,subheading:t,features:n,className:s}){var r;return i.jsxs("section",{className:se("py-16 md:py-24",s),children:[i.jsxs("div",{className:"flex gap-3 max-md:flex-col",children:[i.jsx("h2",{className:"flex-1 text-3xl font-semibold leading-tight tracking-tight text-balance md:text-4xl",children:e}),t&&i.jsx("p",{className:"flex-1 self-end text-lg font-medium text-muted-foreground",children:t})]}),i.jsxs(ja,{defaultValue:(r=n[0])==null?void 0:r.title,orientation:"vertical",className:"mt-8 grid grid-cols-1 gap-4 rounded-xl border p-4 md:mt-12 lg:grid-cols-4",children:[i.jsx(Zi,{className:"flex h-auto flex-col justify-start rounded-xl bg-muted p-1.5",children:n.map(a=>i.jsx(kn,{value:a.title,className:"w-full justify-start rounded-lg px-4 py-3 text-start whitespace-normal transition-colors duration-300 data-[state=active]:shadow-xl lg:px-6 lg:py-4",children:i.jsxs("div",{children:[i.jsx(a.icon,{className:"size-7 md:size-8 lg:size-9"}),i.jsx("h3",{className:"mt-3 font-semibold",children:a.title}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:a.description})]})},a.title))}),n.map(a=>i.jsxs(Ln,{className:se("col-span-1 m-0 overflow-hidden rounded-xl bg-background lg:col-span-3",a.content.className),value:a.title,children:[i.jsxs("div",{className:"max-w-2xl pb-4 text-balance",children:[i.jsxs("h4",{className:"inline font-semibold",children:[a.content.title," "]}),i.jsx("span",{className:"mt-2 font-medium text-pretty text-muted-foreground",children:a.content.description})]}),i.jsx("img",{src:a.content.image,alt:a.title,className:"h-[420px] w-full rounded-lg object-cover lg:h-[512px] lg:flex-1"})]},a.title))]})]})}const M_e=[{title:"Kombinace pruznych a pevnych materialu",subtitle:"Napomaha k aktivnimu sedu a spravnemu drzeni tela.",statistics:{value:"2x",label:"Lepsi drzeni tela oproti bezne zidli"},visual:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp"},{title:"Aktivni sed umoznuje lepe dychat",subtitle:"Spravna pozice panve a patere otevira prostor pro volne dychani.",statistics:{value:"40%",label:"Zlepseni kapacity plic pri spravnem sedu"},visual:"/lefttop1.png"},{title:"Opora pro panev",subtitle:"Tvar lineseat poskytuje oporu pro panev, to navadi ke snadnejsimu propojeni s hrudnikem.",statistics:{value:"85%",label:"Uzivatelu hlasi zlepseni do 14 dnu"},visual:"/IMG_9113_lineseat.png.webp"},{title:"Aktivace brisnich svalu",subtitle:"Behem sedu dochazi k aktivaci brisnich svalu a lepsi stabilite.",statistics:{value:"3x",label:"Vetsi aktivace core svalu nez na bezne zidli"},visual:"/MG_0170-1024x683-1.jpg.webp"}],A_e={quote:"Po dvou tydnech pouzivani lineseat jsem prestala mit bolesti zad pri dlouhem sezeni v kancelari.",author:"Jana K.",designation:"kancelarska pracovnice"},R_e=[{title:i.jsxs(i.Fragment,{children:["V aute i v",i.jsx("br",{}),"kancelari"]}),description:["Lineseat bere s sebou vsude. At sidite v aute, v kancelari, u stolu nebo na cestach.","Jediny sedak, ktery opravdu funguje - navrzeny fyzioterapeuty s 20letou zkusenosti."],image:{src:"/MG_0170-1024x683-1.jpg.webp",alt:"Lineseat v aute"},imagePosition:"content",className:"flex flex-col pl-6 py-6 overflow-hidden md:col-span-3 md:flex-row gap-6 md:gap-12",headerClassName:"flex-2 p-0 md:flex-1",contentClassName:"relative w-full self-start p-0 overflow-hidden rounded-l-xl border md:flex-1"},{title:"Vyzkousejte lineseat",description:["Prijdte si osobne vyzkouset do Dires Fyzio v Praze.","Nasi fyzioterapeuti vam poradi s nastavenim a vyberem."],image:{src:"/lefttop1.png",alt:"Lineseat produkt",className:"aspect-[2/1.1] rounded-xl"},className:"md:col-span-2 flex flex-col justify-center",contentClassName:"flex items-center justify-center",imagePosition:"content"},{title:"Vyvoj s fyzioterapeuty",description:["Lineseat vznikl ve spolupraci s prednimi ceskymi fyzioterapeuty a ortopedy."],image:{src:"/IMG_9113_lineseat.png.webp",alt:"Vyvoj lineseat",className:"aspect-2/1 rounded-xl flex-1 self-center mb-6"},className:"md:col-span-2",headerClassName:"h-full",imagePosition:"header"},{title:"Materialy a kvalita",description:["Vysokokvalitni pena s tvarovou pameti, protiskluzova spodni strana a pratelny potah na zip."],image:{src:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp",alt:"Lineseat detail materialu"},imagePosition:"content",className:"overflow-hidden md:col-span-3",headerClassName:"",contentClassName:"relative aspect-[2/1.25] mt-4 p-0 ml-8 w-full md:max-w-[400px] lg:max-w-[500px] overflow-hidden md:mx-auto rounded-t-xl"}],O_e=[{title:"Sezeni v aute",description:"Ergonomicka podpora pri dlouhe jizde.",icon:FL,content:{title:"Pohodlna jizda bez bolesti zad.",description:"Lineseat se dokonale prisedi na sedadlo v aute. Podporuje spravne drzeni panve a snizuje unavu pri dlouhych cestach. Snadne nasazeni i sundani.",image:"/MG_0170-1024x683-1.jpg.webp"}},{title:"Kancelarska prace",description:"Cely den u stolu bez nasledku.",icon:bie,content:{title:"Aktivni sed po celou pracovni dobu.",description:"Premiste lineseat na kancelarskou zidli a okamzite pocitite rozdil. Vase panev se nakloni do spravne pozice a pater se narovna prirozene.",image:"/lefttop1.png"}},{title:"Rehabilitace",description:"Podpora lecby a prevence.",icon:qL,content:{title:"Doporuceno fyzioterapeuty pro rehabilitaci.",description:"Lineseat je casto doporucovan pri bolestech zad, po operacich patere nebo pri prevenci problemu s drzenim tela. Jemne aktivuje spravne svalove skupiny.",image:"/IMG_9113_lineseat.png.webp"}},{title:"Cestovani",description:"Kompaktni a lehky, vzdy po ruce.",icon:jce,content:{title:"Vezmete si ho kamkoli s sebou.",description:"Lineseat je lehky a snadno prenosny. Pouzijte ho ve vlaku, v letadle nebo v hotelu. Nikdy nemusite sedet spatne.",image:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp"}}],D_e=[{step:"1",title:"Umistete na sedadlo",description:"Polozte lineseat na sedadlo v aute nebo na kancelarskou zidli. Protiskluzova spodni strana zajisti, ze sedak zustane na miste a nebude se posouvat behem sezeni. Neni potreba zadne upevneni ani pasky - staci jednoduche polozeni na povrch sedadla. Sedak se prisedi na jakoukoliv rovnou plochu, at uz je to sedadlo v osobnim aute, dodavce, kancelarskem kresle nebo doma u jidelniho stolu. Doporucujeme umistit sedak co nejblize k zadni operce, aby byla zajistena maximalni podpora panve a spodni casti zad.",image:"/MG_0170-1024x683-1.jpg.webp"},{step:"2",title:"Sednte si prirozene",description:"Sedak sam navede vasi panev do spravne pozice diky unikatni kombinaci pruznych a pevnych materialu, ktere podporuji aktivni sed bez namah. Jakmile si sednete, pocitite jemny tlak pod sedacimi kostmi, ktery prirozene nakloni panev do optimalni pozice. Tato pozice uvolni bederni pater a umozni hrudniku se otevrit. Nemusite premyslet o drzeni tela - sedak pracuje za vas. Behem prvnich minut si mozna vsimnete, ze sedite vyse a rovneji nez obvykle. To je spravne - vase telo se prisposobuje zdravejsi pozici, ktera snizuje zatez na meziobratlove plotenky a okolni svaly.",image:"/IMG_9113_lineseat.png.webp"},{step:"3",title:"Uzivejte si zdravy sed",description:"Vase telo si rychle zvykne na spravne drzeni. Pocitite uvolneni v zadech a zlepseni dychani jiz po prvnich minutach pouzivani. Doporucujeme zacinat s kratsimi intervaly okolo 30-60 minut a postupne prodluzovat dobu sezeni, jak si vase svaly zvykaji na novou pozici. Vetsi uzivatelu hlasi vyrazne zlepseni do dvou tydnu pravidelnaho pouzivani. Lineseat muzete snadno prenast mezi autem a kancelari - je lehky a kompaktni. Pravidelnym pouzivanim posilujete hluboky stabilizacni system, zlepsujete dychani a predchazite chronickym bolestem zad, ktere jsou spojeny s dlouhodobym sezenim v nespravne pozici.",image:"/lefttop1.png"}];function P_e(){return i.jsx(__e,{features:M_e,testimonial:A_e})}function I_e(){return i.jsx(k_e,{label:"PROC LINESEAT?",items:R_e})}function L_e(){return i.jsx(z_e,{heading:"Kde vsude lineseat pouzijete",subheading:"Lineseat je postaven na navycich, ktere delaji z dobreho sezeni kazdodenni rutinu - bez namah, bez bolesti.",features:O_e})}const Xk=[{step:"01",title:"Umistete na sedadlo",description:"Polozte lineseat na libovolne sedadlo. Protiskluzova spodni strana ho udrzuje na miste bez jakehokoli upevneni  funguje v aute, kancelari i doma."},{step:"02",title:"Sednte si prirozene",description:"Jakmile si sednete, lineseat prirozene navede vasi panev do optimalni polohy. Zadna nastaveni, zadna namaha  spravne drzeni nastava automaticky."},{step:"03",title:"Uzivejte aktivni sed",description:"Vase telo se rychle prisposobi. Pocitite uvolneni v zadech a lepsi dychani uz behem prvnich minut. Pravidelnym pouzivanim predchazite chronicke bolesti zad."}];function $_e(){const e=v.useRef(null),t=v.useRef(null),[n,s]=v.useState(0),[r,a]=v.useState(0),{scrollYProgress:o}=$_({target:e,offset:["start start","end start"]});return v.useEffect(()=>{const l=t.current;if(!l)return;l.pause();const u=()=>a(l.duration);return l.addEventListener("loadedmetadata",u),l.readyState>=1&&a(l.duration),()=>l.removeEventListener("loadedmetadata",u)},[]),sne(o,"change",l=>{t.current&&r>0&&(t.current.currentTime=l*r),l<.33?s(0):l<.66?s(1):s(2)}),i.jsx("section",{className:"relative px-4 lg:px-8",children:i.jsx("div",{ref:e,className:"relative h-[300vh]",children:i.jsx("div",{className:"sticky top-4 overflow-hidden rounded-3xl bg-black",style:{height:"calc(100vh - 2rem)"},children:i.jsxs("div",{className:"grid h-full grid-cols-1 grid-rows-[2fr_3fr] lg:grid-cols-2 lg:grid-rows-1",children:[i.jsxs("div",{className:"relative",children:[i.jsx("video",{ref:t,src:"/New-Rajden1.mp4",muted:!0,playsInline:!0,preload:"auto",className:"h-full w-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/60 lg:hidden"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-black/20 hidden lg:block"})]}),i.jsxs("div",{className:"flex flex-col justify-center overflow-y-auto px-5 py-4 lg:justify-start lg:overflow-visible lg:px-16 lg:pb-0 lg:pt-40",children:[i.jsx("p",{className:"mb-1.5 lg:mb-3 text-[10px] lg:text-xs font-semibold uppercase tracking-[0.2em] text-white/40",children:"Navod k pouziti"}),i.jsx("h2",{className:"mb-4 lg:mb-10 text-xl lg:text-4xl font-semibold tracking-tight text-white",children:"Jak pouzivat lineseat"}),i.jsx("div",{className:"flex flex-col gap-0",children:Xk.map((l,u)=>{const d=u===n;return i.jsxs("div",{className:"group relative flex gap-4 lg:gap-6 pb-4 lg:pb-8 last:pb-0",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"flex h-8 w-8 lg:h-10 lg:w-10 shrink-0 items-center justify-center rounded-full border text-xs lg:text-sm font-bold transition-all duration-500",style:{borderColor:d?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.15)",backgroundColor:d?"white":"transparent",color:d?"black":"rgba(255,255,255,0.3)"},children:l.step}),u<Xk.length-1&&i.jsx("div",{className:"mt-2 w-px flex-1 transition-all duration-700",style:{backgroundColor:u<n?"rgba(255,255,255,0.6)":"rgba(255,255,255,0.1)"}})]}),i.jsxs("div",{className:"flex flex-col gap-1 pt-1 lg:gap-1.5 lg:pt-1.5 transition-all duration-500",style:{opacity:d?1:.25},children:[i.jsx("h3",{className:"text-sm lg:text-lg font-semibold text-white",style:{transform:d?"translateX(0)":"translateX(-6px)",transition:"transform 0.5s ease"},children:l.title}),i.jsx("p",{className:"max-w-sm text-xs lg:text-base leading-relaxed text-white/60",style:{maxHeight:d?"8rem":"0",overflow:"hidden",transition:"max-height 0.5s ease"},children:l.description})]})]},l.step)})}),i.jsx("div",{className:"mt-4 lg:mt-10 flex gap-2",children:Xk.map((l,u)=>i.jsx("div",{className:"h-0.5 flex-1 rounded-full transition-all duration-500",style:{backgroundColor:u<=n?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.15)"}},`dot-${u}`))})]})]})})})})}function V_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("p",{className:"text-sm font-semibold uppercase tracking-widest text-muted-foreground",children:"Jednoduche pouziti"}),i.jsx("h2",{className:"mt-2 text-3xl font-semibold tracking-tight md:text-4xl",children:"Navod k pouziti"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"S lineseat neni potreba nic nastavovat. Staci polozit a sednout si."})]}),i.jsx("div",{className:"mt-14 flex flex-col gap-12 md:gap-0",children:D_e.map((e,t)=>i.jsxs("div",{className:"group grid grid-cols-1 items-center gap-8 md:grid-cols-2 md:gap-12",children:[i.jsx("div",{className:`overflow-hidden rounded-2xl border bg-muted/30 ${t%2===1?"md:order-2":""}`,children:i.jsx("img",{src:e.image,alt:e.title,className:"aspect-[4/3] w-full object-contain p-6 transition-transform duration-500 group-hover:scale-105"})}),i.jsxs("div",{className:`flex flex-col gap-4 ${t%2===1?"md:order-1 md:text-right md:items-end":""}`,children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-foreground text-xl font-bold text-background",children:e.step}),i.jsx("h3",{className:"text-2xl font-semibold tracking-tight",children:e.title}),i.jsx("p",{className:"max-w-md leading-relaxed text-muted-foreground",children:e.description})]})]},e.step))})]})}function B_e(e){if(!e.src.startsWith("http"))return{src:e.src,srcset:"",sizes:"",alt:e.alt,width:e.width,height:e.height};const n=e.src.replace(/&w=\d+/,"");return{src:`${n}&w=2400`,srcset:`${n}&w=2400 2400w, ${n}&w=1920 1920w, ${n}&w=640 640w`,sizes:"(max-width: 1240px) 100vw, 60vw",alt:e.alt,width:2400,height:Math.round(2400*(e.height/e.width))}}function eD(e,t){const n=t==="CZK"?"cs-CZ":"en-US";return new Intl.NumberFormat(n,{style:"currency",currency:t}).format(e)}const F_e=Pa({quantity:sS().min(1).max(99)});function U_e(){const{productId:e}=Ho(),t=v.useMemo(()=>e?C1e(e):void 0,[e]);return t?i.jsx(H_e,{product:t}):i.jsxs("section",{className:"flex min-h-[60vh] flex-col items-center justify-center px-4 py-32",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Produkt nenalezen"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Tento produkt nebyl nalezen v nasem obchode."}),i.jsx(Q,{asChild:!0,className:"mt-6",children:i.jsx(Be,{to:"/obchod",children:"Zpet do obchodu"})})]})}function H_e({product:e}){const t=Jt(),{addItem:n}=rg(),[s,r]=v.useState(!1),a=Cg({resolver:Ub(F_e),defaultValues:{quantity:1}}),o=v.useRef(null),l=v.useRef(null);v.useEffect(()=>{const k=new IntersectionObserver(S=>{for(const C of S)l.current&&l.current.classList.toggle("translate-y-full",C.isIntersecting)},{threshold:.02});return o.current&&k.observe(o.current),()=>k.disconnect()},[e.slug]);const u=e.images.map(B_e),d=bE.filter(k=>k.slug!==e.slug),{regular:f,sale:m,currency:g}=e.price,x=d.map(k=>({name:k.name,price:k.price,link:`/produkt/${k.slug}`,image:{src:k.image,alt:k.name},category:k.subtitle})),b=e.accordion.map(k=>({title:k.title,content:k.content.list||k.content.text||""})),w=k=>{const S=Number(a.getValues("quantity"))||1,C={slug:e.slug,name:e.name,subtitle:e.subtitle,image:e.image,price:m??f,originalPrice:m?f:void 0,currency:g};n(C,S),r(!0)},j=()=>{const k=Number(a.getValues("quantity"))||1,S={slug:e.slug,name:e.name,subtitle:e.subtitle,image:e.image,price:m??f,originalPrice:m?f:void 0,currency:g};n(S,k),t("/kosik")};return i.jsxs("section",{className:"px-4 py-16 md:py-24 lg:px-12",children:[i.jsxs("div",{className:"mx-auto w-full max-w-[88.125rem]",children:[i.jsxs("button",{type:"button",onClick:()=>t("/obchod"),className:"mb-10 flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx(da,{className:"size-4"}),"Zpet do obchodu"]}),i.jsxs("div",{className:"relative grid grid-cols-1 gap-7 gap-y-7.5 lg:grid-cols-5 xl:gap-18",children:[i.jsx("div",{className:"lg:col-span-3",children:i.jsx(Z_e,{images:u,galleryID:`gallery-${e.slug}`})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"sticky top-14 flex flex-col gap-4.5",children:[e.badge&&i.jsx(Le,{variant:"secondary",className:"w-fit",children:e.badge}),i.jsx("p",{className:"text-sm font-medium uppercase tracking-wider text-muted-foreground",children:e.subtitle}),i.jsx("h1",{className:"text-[1.75rem] leading-tight font-medium tracking-tight xl:text-[2.5rem]",children:e.name}),i.jsx("div",{className:"flex flex-col",children:i.jsx(lS,{regular:f,sale:m,currency:g})}),i.jsx("p",{children:e.description}),e.note&&i.jsx("p",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:e.note}),i.jsxs("div",{className:"flex w-full flex-col gap-7",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-4",children:[i.jsx(jn,{control:a.control,name:"quantity",render:({field:k})=>i.jsx(Xt,{children:i.jsx(tD,{field:k,min:1,max:99})})}),i.jsx("div",{className:"flex-1",children:i.jsx(Q,{variant:"secondary",className:"w-full",ref:o,type:"button",onClick:()=>w(),children:"Pridat do kosiku"})})]}),i.jsx("div",{className:"flex w-full shrink-0 basis-full flex-col gap-6",children:i.jsx(Q,{className:"w-full",size:"lg",type:"button",onClick:j,children:"Koupit nyni"})}),ia.createPortal(i.jsx("div",{ref:l,className:"fixed inset-x-0 bottom-0 z-50 w-full translate-y-full border-t bg-background transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-2.5",children:[i.jsxs("div",{className:"hidden items-center gap-5 md:flex",children:[i.jsx("div",{className:"size-[5.625rem] overflow-hidden rounded-[0.375rem]",children:i.jsx("img",{src:e.image,alt:e.name,className:"block size-full object-cover object-center"})}),i.jsxs("div",{children:[i.jsx("div",{className:"mb-1 text-lg font-medium",children:e.name}),i.jsx(lS,{size:"sm",regular:f,sale:m,currency:g})]})]}),i.jsxs("div",{className:"flex flex-1 gap-3 md:flex-none",children:[i.jsx(jn,{control:a.control,name:"quantity",render:({field:k})=>i.jsx(Xt,{className:"hidden md:grid",children:i.jsx(tD,{field:k,min:1,max:99})})}),i.jsx("div",{className:"flex-1 md:flex-none",children:i.jsx(Q,{className:"w-full",type:"button",onClick:()=>w(),children:"Pridat do kosiku"})})]})]})}),document.body)]}),i.jsx("div",{className:"flex flex-col gap-4",children:e.services.map((k,S)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(k.icon,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm",children:k.text})]},`svc-${S}`))}),i.jsx(W_e,{products:x}),i.jsx(K_e,{info:b})]})})]}),i.jsx(q_e,{slug:e.slug})]}),i.jsx(a$,{open:s,onOpenChange:r})]})}function q_e({slug:e}){switch(e){case"lineseat":return i.jsxs(i.Fragment,{children:[i.jsx(P_e,{}),i.jsx(I_e,{}),i.jsx(L_e,{}),i.jsx($_e,{}),i.jsx(V_e,{})]});case"correctfoot":return i.jsxs(i.Fragment,{children:[i.jsx(u_e,{}),i.jsx(d_e,{}),i.jsx(h_e,{})]});case"4core":return i.jsxs(i.Fragment,{children:[i.jsx(g_e,{}),i.jsx(x_e,{}),i.jsx(v_e,{})]});case"fyziotrenink":return i.jsxs(i.Fragment,{children:[i.jsx(w_e,{}),i.jsx(j_e,{})]});default:return null}}function Z_e({images:e,galleryID:t}){const[n,s]=v.useState(),[r,a]=v.useState(0),o=v.useRef(null);return v.useEffect(()=>{const l=new NSe({gallery:`#${t}`,children:"a",bgOpacity:1,wheelToZoom:!0,arrowPrev:!1,arrowNext:!1,close:!1,zoom:!1,counter:!1,mainClass:"[&>div:first-child]:!bg-background",pswpModule:()=>dSe(()=>import("./photoswipe.esm-D2Nf-uDI.js"),[])});return l.init(),o.current=l,l.on("uiRegister",()=>{var u;(u=l==null?void 0:l.pswp)!=null&&u.ui&&l.pswp.ui.registerElement({name:"custom-toolbar",order:10,isButton:!1,appendTo:"root",className:"absolute bottom-7.5 left-1/2 transform -translate-x-1/2 z-50 flex gap-3 items-center gap-7",html:`
            <button id="pswp-prev" class="!bg-white flex !size-12 border text-white p-2 rounded-full">
              <svg class="stroke-black m-auto size-6 stroke-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
            </button>
            <button id="pswp-close" class="!bg-white flex !size-15.5 border text-white p-2 rounded-full">
              <svg class="stroke-black m-auto size-7.5 stroke-1" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
            </button>
            <button id="pswp-next" class="!bg-white flex !size-12 border text-white p-2 rounded-full">
              <svg class="stroke-black m-auto size-6 stroke-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
            </button>
          `,onInit:(d,f)=>{var m,g,x;(m=d.querySelector("#pswp-prev"))==null||m.addEventListener("click",()=>f.prev()),(g=d.querySelector("#pswp-next"))==null||g.addEventListener("click",()=>f.next()),(x=d.querySelector("#pswp-close"))==null||x.addEventListener("click",()=>f.close()),f.customToolbarEl=d}})}),l.on("close",()=>{const u=l.pswp;u!=null&&u.customToolbarEl&&(u.customToolbarEl.remove(),u.customToolbarEl=void 0)}),()=>l.destroy()},[t]),v.useEffect(()=>{if(!n)return;const l=()=>a(n.selectedScrollSnap()+1);return l(),n.on("select",l),()=>{n.off("select",l)}},[n]),v.useEffect(()=>{o.current&&n&&o.current.on("change",()=>{var l,u;n==null||n.scrollTo(((u=(l=o.current)==null?void 0:l.pswp)==null?void 0:u.currIndex)||0)})},[n,r]),i.jsxs("div",{children:[i.jsx("div",{className:"overflow-hidden rounded-3xl",id:t,children:i.jsx(Xb,{setApi:s,className:"w-full",opts:{loop:!0,breakpoints:{"(min-width: 1024px)":{active:!1,align:"start",loop:!1}}},children:i.jsx(Qb,{className:"-ml-1 lg:grid lg:grid-cols-1 lg:gap-2.5",children:e.map((l,u)=>i.jsx(e1,{className:"group w-full pl-1",children:i.jsxs(Za,{ratio:1,className:"w-full overflow-hidden rounded-3xl bg-muted",children:[i.jsx("a",{href:l.src,"data-pswp-width":l.width,"data-pswp-height":l.height,"data-pswp-srcset":l.srcset,target:"_blank",rel:"noreferrer","data-cropped":"true",children:i.jsx("img",{src:l.src,srcSet:l.srcset||void 0,alt:l.alt,width:l.width,height:l.height,sizes:l.sizes||void 0,className:"block size-full object-cover object-center"})}),i.jsx(Le,{className:"pointer-events-none absolute top-5 right-5 h-10 w-10 rounded-full bg-background p-1.5 text-xs opacity-0 transition-opacity duration-200 group-hover:opacity-100",variant:"secondary",children:i.jsx(_ce,{})})]})},`img-${u}`))})})}),i.jsx("div",{className:"lg:hidden",children:i.jsxs("div",{className:"mt-3.5 flex items-center justify-center",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>n==null?void 0:n.scrollPrev(),children:i.jsx(ag,{})}),i.jsxs("div",{className:"min-w-6 text-center text-sm",children:[r,"/",e.length]}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>n==null?void 0:n.scrollNext(),children:i.jsx(hr,{})})]})})]})}function lS({regular:e,sale:t,currency:n,size:s}){return i.jsxs("div",{className:"flex flex-wrap items-center gap-x-2.5 gap-y-1",children:[t&&i.jsx("div",{"data-sale":!!t,"data-size":s,className:"text-xl leading-normal font-semibold data-[sale=true]:text-red-600 data-[size=sm]:text-base",children:eD(t,n)}),i.jsx("div",{"data-sale":!!t,"data-size":s,className:"text-xl leading-relaxed font-bold data-[sale=true]:text-base data-[sale=true]:font-normal data-[sale=true]:text-muted-foreground data-[sale=true]:line-through data-[size=sm]:text-base",children:eD(e,n)})]})}function tD({field:e,max:t=99,min:n=1}){return i.jsxs("div",{className:"flex h-9 w-32 items-center justify-between overflow-hidden rounded-md border shadow-xs",children:[i.jsx(Q,{onClick:()=>e.onChange(Math.max(n,Number(e.value||1)-1)),variant:"ghost",type:"button",size:"icon",className:"rounded-none",children:i.jsx(mb,{})}),i.jsx(Re,{...e,value:e.value??"",onChange:s=>{const r=s.target.value,a=parseInt(r,10);r===""?e.onChange(""):Number.isNaN(a)||e.onChange(a)},type:"number",min:n,max:t,className:"h-full flex-1 [appearance:textfield] rounded-none border-0 text-center focus-visible:ring-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"}),i.jsx(Q,{onClick:()=>e.onChange(Math.min(t,Number(e.value||1)+1)),variant:"ghost",type:"button",size:"icon",className:"rounded-none",children:i.jsx(fs,{})})]})}function W_e({products:e}){const[t,n]=v.useState(),[s,r]=v.useState(1);return v.useEffect(()=>{if(!t)return;const a=()=>r(t.selectedScrollSnap()+1);return a(),t.on("select",a),()=>{t.off("select",a)}},[t]),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-2",children:[i.jsx("div",{className:"text-base font-medium tracking-tighter xl:text-xl",children:"Dalsi produkty"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>t==null?void 0:t.scrollPrev(),children:i.jsx(ag,{})}),i.jsxs("div",{className:"w-6 text-center text-sm",children:[s,"/",e.length]}),i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>t==null?void 0:t.scrollNext(),children:i.jsx(hr,{})})]})]}),i.jsx(Xb,{opts:{loop:!0},setApi:n,className:"w-full",children:i.jsx(Qb,{children:e.map((a,o)=>i.jsx(e1,{children:i.jsx("div",{className:"rounded-[1.25rem] bg-muted p-2.5",children:i.jsxs("div",{className:"grid grid-cols-[minmax(0,4.125rem)_minmax(0,1fr)] items-center gap-3",children:[i.jsx("div",{children:i.jsx("div",{className:"aspect-square w-full overflow-hidden rounded-[0.625rem]",children:i.jsx("img",{src:a.image.src,alt:a.image.alt,className:"block size-full object-cover object-center"})})}),i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx("div",{className:"text-sm text-foreground/50",children:a.category}),i.jsx(Be,{to:a.link,className:"relative block h-fit w-fit !p-0 text-lg leading-[1.5] font-medium after:absolute after:start-0 after:bottom-[0.35rem] after:h-px after:w-full after:origin-right after:scale-x-0 after:bg-foreground after:transition-transform after:duration-200 after:content-[''] hover:after:origin-left hover:after:scale-x-100",children:a.name}),i.jsx("div",{className:"mt-1",children:i.jsx(lS,{regular:a.price.regular,sale:a.price.sale,currency:a.price.currency,size:"sm"})})]})]})})},`rec-${o}`))})})]})}function K_e({info:e}){return i.jsx(_$,{type:"multiple",className:"w-full border-b",children:e.map((t,n)=>i.jsxs(gC,{value:`info-${n}`,children:[i.jsx(xC,{children:t.title}),i.jsx(vC,{className:"flex flex-col gap-4 text-sm leading-normal text-balance",children:Array.isArray(t.content)?i.jsx("ul",{className:"list-inside list-disc pl-5",children:t.content.map((s,r)=>i.jsx("li",{children:s},`list-${r}`))}):t.content})]},`info-${n}`))})}const G_e={orderNumber:"ORD-2024-78432",orderDate:"December 14, 2024",status:"confirmed",email:"customer@example.com",items:[{id:"1",name:"Pro Subscription (Annual)",image:"https://images.pexels.com/photos/1181244/pexels-photo-1181244.jpeg?auto=compress&cs=tinysrgb&w=400",price:199,quantity:1,details:[{label:"Plan",value:"Annual"},{label:"Billing",value:"Yearly"}]}],subtotal:199,shipping:0,tax:0,discount:0,total:199,shippingAddress:{name:"Alex Johnson",street:"1234 Maple Street, Apt 5B",city:"San Francisco",state:"CA",zipCode:"94102",country:"United States"},shippingMethod:"Digital Delivery",estimatedDelivery:"Instant Access",paymentMethod:{type:"card",lastFour:"4242",cardBrand:"Visa"}},nD=({className:e})=>{var d;const t=ss(),n=Jt(),s=((d=t.state)==null?void 0:d.order)||G_e,{refetch:r}=pg(),{session:a}=Ht();v.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("session_id");if(!m){r&&r();return}(async()=>{console.log(" Verifying payment with session ID:",m);try{const x=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/verify-subscription",{method:"POST",headers:{Authorization:`Bearer ${(a==null?void 0:a.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE"}`,"Content-Type":"application/json"},body:JSON.stringify({sessionId:m})});if(x.ok){const b=await x.json();console.log(" Payment verification result:",b),b.subscription&&(console.log(" Subscription confirmed, refreshing data..."),r&&await r())}else console.error(" Payment verification failed:",await x.text())}catch(x){console.error(" Error verifying payment:",x)}})()},[r,a]);const o=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),u=(f=>({confirmed:{label:"Objednvka potvrzena",className:"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/10"},processing:{label:"Zpracovv se",className:"bg-amber-500/10 text-amber-600 hover:bg-amber-500/10"},shipped:{label:"Odeslno",className:"bg-blue-500/10 text-blue-600 hover:bg-blue-500/10"},delivered:{label:"Dorueno",className:"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/10"}})[f])(s.status);return i.jsx("section",{className:se("min-h-screen flex items-center justify-center py-16 md:py-24",e),children:i.jsxs("div",{className:"container max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-10 text-center",children:[i.jsx("div",{className:"mx-auto mb-4 flex size-16 items-center justify-center rounded-full bg-emerald-500/10",children:i.jsx(sae,{className:"size-8 text-emerald-600"})}),i.jsx("h1",{className:"mb-2 text-2xl font-bold tracking-tight md:text-3xl",children:"Dkujeme za vai objednvku!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Potvrzujc e-mail byl odesln na"," ",i.jsx("span",{className:"font-medium text-foreground",children:s.email})]})]}),i.jsx(Oe,{className:"mb-6 shadow-none",children:i.jsxs(De,{className:"flex flex-wrap items-center justify-between gap-4 p-4 md:p-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"slo objednvky"}),i.jsx("p",{className:"font-semibold",children:s.orderNumber})]}),i.jsx(It,{orientation:"vertical",className:"hidden h-10 md:block"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Datum objednvky"}),i.jsx("p",{className:"font-medium",children:s.orderDate})]})]}),i.jsx(Le,{className:u.className,children:u.label})]})}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[i.jsxs(Oe,{className:"shadow-none",children:[i.jsx(Je,{className:"pb-4",children:i.jsxs(Qe,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Hl,{className:"size-5"}),"Objednan poloky"]})}),i.jsx(De,{className:"space-y-4",children:s.items.map((f,m)=>i.jsxs("div",{children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-20 shrink-0",children:i.jsx(Za,{ratio:1,className:"overflow-hidden rounded-lg bg-muted",children:i.jsx("img",{src:f.image,alt:f.name,className:"size-full object-cover"})})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"font-medium",children:f.name}),f.details&&i.jsx("p",{className:"mt-0.5 text-sm text-muted-foreground",children:f.details.map((g,x)=>i.jsxs("span",{children:[g.value,x<f.details.length-1&&"  "]},g.label))}),i.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Mnostv: ",f.quantity]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-semibold",children:o(f.price*f.quantity)}),f.quantity>1&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[o(f.price)," each"]})]})]}),m<s.items.length-1&&i.jsx(It,{className:"mt-4"})]},f.id))})]}),i.jsx(Oe,{className:"shadow-none",children:i.jsx(De,{className:"p-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Mezisouet"}),i.jsx("span",{children:o(s.subtotal)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Doprava"}),i.jsx("span",{children:s.shipping===0?"Zdarma":o(s.shipping)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Da"}),i.jsx("span",{children:o(s.tax)})]}),s.discount&&s.discount>0&&i.jsxs("div",{className:"flex justify-between text-sm text-emerald-600",children:[i.jsx("span",{children:"Sleva"}),i.jsxs("span",{children:["-",o(s.discount)]})]}),i.jsx(It,{}),i.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[i.jsx("span",{children:"Celkem zaplaceno"}),i.jsx("span",{children:o(s.total)})]})]})})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Oe,{className:"shadow-none",children:[i.jsx(Je,{className:"pb-4",children:i.jsxs(Qe,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Ha,{className:"size-5"}),"Dodac adresa"]})}),i.jsxs(De,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:s.shippingAddress.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:s.shippingAddress.street}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.shippingAddress.city,", ",s.shippingAddress.state," ",s.shippingAddress.zipCode]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:s.shippingAddress.country})]}),i.jsx(It,{}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Hm,{className:"mt-0.5 size-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:s.shippingMethod}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Odhadovan doruen: ",s.estimatedDelivery]})]})]})]})]}),i.jsxs(Oe,{className:"shadow-none",children:[i.jsx(Je,{className:"pb-4",children:i.jsxs(Qe,{className:"flex items-center gap-2 text-lg",children:[i.jsx(sr,{className:"size-5"}),"Platebn metoda"]})}),i.jsxs(De,{children:[s.paymentMethod.type==="card"&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/visa-icon.svg",alt:"Visa",className:"size-8"}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium",children:[s.paymentMethod.cardBrand," konc na"," ",s.paymentMethod.lastFour]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Platba dokonena"})]})]}),s.paymentMethod.type==="paypal"&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-md bg-muted",children:i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/paypal-icon.svg",alt:"PayPal",className:"size-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"PayPal"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:s.paymentMethod.email})]})]})]})]}),i.jsx(Oe,{className:"shadow-none",children:i.jsxs(De,{className:"space-y-3 p-4",children:[i.jsxs(Q,{className:"w-full",variant:"default",children:[i.jsx(Hl,{className:"mr-2 size-4"}),"Sledovat objednvku"]}),i.jsxs(Q,{className:"w-full",variant:"outline",children:[i.jsx(q_,{className:"mr-2 size-4"}),"Sthnout tenku"]}),i.jsxs(Q,{className:"w-full",variant:"ghost",children:[i.jsx(ele,{className:"mr-2 size-4"}),"Vytisknout objednvku"]})]})})]})]}),i.jsxs("div",{className:"mt-10 text-center",children:[i.jsx("p",{className:"mb-4 text-muted-foreground",children:"Mte dotaz ohledn va objednvky?"}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[i.jsx(Q,{variant:"outline",children:"Kontaktovat podporu"}),i.jsx(Q,{onClick:()=>n("/"),children:"Pokraovat v nkupu"})]})]})]})})},Y_e=[{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-1.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"The blush blends beautifully and gives such a natural glow. It's lightweight, buildable, and lasts all day without fading. I'm honestly impressed!",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/promotional/Close-Up-of-Womans-Face-1.png",product:{name:"Silky Glow Blush",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Makeup-Product-Flat-Lay-1.png",link:"#"}},{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-3.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"The shade is gorgeous and the creamy texture makes it super easy to apply. It hydrates the lips while giving a rich bronze shine. Definitely a staple now.",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Close-Up-of-Lips-1.png",product:{name:"Shimmer Bronze Lipstick",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Shimmering-Bronze-Lipstick-Close-Up-1.png",link:"#"}},{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-4.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"This anti-aging serum absorbs quickly and leaves my skin feeling firmer and smoother. After a few weeks, my fine lines look noticeably softer. Love it!",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Skincare-Routine-Close-Up-1.png",product:{name:"Renewal Anti-Aging Serum",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Frosted-Glass-Dropper-1.png",link:"#"}},{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-5.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"A deeply hydrating cream that feels rich without being heavy. My skin stays soft, moisturized, and glowing all day. Perfect for dry or sensitive skin.",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Woman-Applying-Face-Cream-1.png",product:{name:"Ultra Hydrating Face Cream",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/pexels-carlos-diaz-216017-18350286-1.jpg",link:"#"}},{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-2.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"Such a luxurious body cream! It melts into the skin and leaves it silky, nourished, and lightly scented. Amazing for daily usehighly recommend.",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/promotional/Skincare-Routine-1.png",product:{name:"Nourishing Body Cream",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Elegant-Hand-Holding-Skincare-Product-1.png",link:"#"}}],J_e=({reviews:e=Y_e,className:t})=>{const[n,s]=v.useState();return i.jsx("section",{className:se("overflow-hidden py-32",t),children:i.jsxs("div",{className:"container space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx("h2",{className:"font-serif text-4xl",children:"Hodnocen pacient"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(Q,{onClick:()=>n==null?void 0:n.scrollPrev(),variant:"outline",className:"rounded-full",size:"icon",children:i.jsx(ag,{})}),i.jsx(Q,{onClick:()=>n==null?void 0:n.scrollNext(),variant:"outline",className:"rounded-full",size:"icon",children:i.jsx(hr,{})})]})]}),i.jsx("div",{children:i.jsx(Xb,{setApi:s,className:"[&>div]:overflow-visible",children:i.jsx(Qb,{children:e.map(r=>i.jsx(e1,{className:"sm:basis-9/12 md:basis-150 lg:basis-1/2 xl:basis-1/3",children:i.jsx(X_e,{...r})},crypto.randomUUID()))})})})]})})},X_e=({image:e,product:t,author:n,comment:s})=>i.jsx(Oe,{className:"h-full rounded-lg px-4 py-5",children:i.jsxs(De,{className:"flex h-full flex-col justify-between p-0",children:[i.jsxs("div",{className:"flex gap-3 max-md:flex-col-reverse",children:[i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(In,{className:"size-12.5 border",children:[i.jsx(hs,{src:n.image,alt:n.name}),i.jsx(Sr,{children:n.name})]}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("h3",{className:"font-serif text-base leading-normal",children:n.name}),n.verifiedBuyer&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Oven pacient"})]})]}),i.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:s})]}),i.jsx("div",{className:"basis-40",children:i.jsx(Za,{ratio:.8,className:"overflow-hidden rounded-lg",children:i.jsx("img",{src:e,alt:t.name,className:"block size-full object-cover object-center"})})})]}),i.jsxs("div",{className:"mt-auto space-y-3 pt-3",children:[i.jsx(It,{}),i.jsxs("a",{href:t.link,className:"group flex items-center gap-3",children:[i.jsx("div",{className:"size-10 shrink-0 overflow-hidden rounded-sm",children:i.jsx("img",{src:t.image,alt:t.name,className:"block size-full object-cover object-center"})}),i.jsx("span",{className:"text-sm font-medium underline-offset-2 group-hover:underline",children:t.name})]})]})]})}),Q_e=[{id:"1",rating:5,title:"Absolutely stunning quality",content:"The craftsmanship on this is incredible. Photos don't do it justice - it looks even better in person. The material feels premium and the fit is perfect. I've already gotten so many compliments!",author:{name:"Sarah M.",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-1.webp"},date:"Dec 10, 2024",verified:!0,images:["https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/clothes/Person-in-Activewear-1.png","https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/clothes/Fashionable-Woman-in-Monochrome-Attire-1.png"],helpful:24,variant:"Size M, Navy Blue"},{id:"2",rating:4,title:"Great product, minor sizing issue",content:"Love the quality and design. Runs slightly small so I'd recommend sizing up. Other than that, it's exactly what I was looking for. Fast shipping too!",author:{name:"James R.",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-2.webp"},date:"Dec 8, 2024",verified:!0,helpful:18,variant:"Size L, Black"},{id:"3",rating:5,title:"My new favorite!",content:"I've been searching for something like this for months. The attention to detail is amazing - from the stitching to the hardware, everything is top notch. Worth every penny.",author:{name:"Emily K.",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-3.webp"},date:"Dec 5, 2024",verified:!0,images:["https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/clothes/elegant-peach-scarf.png"],helpful:31,variant:"One Size, Cream"},{id:"4",rating:5,title:"Exceeded expectations",content:"Was hesitant to order online but so glad I did. The color is exactly as shown and the quality is exceptional. Customer service was also very responsive when I had questions about care instructions.",author:{name:"Michael T."},date:"Dec 2, 2024",verified:!1,helpful:12},{id:"5",rating:4,title:"Beautiful but pricey",content:"The product is gorgeous and well-made. I debated for a while because of the price, but ultimately happy with my purchase. Would love to see more color options in the future.",author:{name:"Lisa P.",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-5.webp"},date:"Nov 28, 2024",verified:!0,images:["https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/accessories/Elegant-Gold-Earrings-1.png"],helpful:8,variant:"Gold"}],eCe=({reviews:e=Q_e,title:t="Customer Reviews",className:n})=>{const[s,r]=v.useState(new Set),a=e.length,o=e.reduce((u,d)=>u+d.rating,0)/a,l=u=>{r(d=>{const f=new Set(d);return f.has(u)?f.delete(u):f.add(u),f})};return i.jsx("section",{className:se("py-16 md:py-24",n),children:i.jsxs("div",{className:"container mx-auto max-w-3xl",children:[i.jsxs("div",{className:"mb-8 flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:t}),i.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx(ey,{rate:o,className:"[&_svg]:size-5"}),i.jsx("span",{className:"text-lg font-semibold",children:o.toFixed(1)}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",a," hodnocen)"]})]})]}),i.jsx(Q,{variant:"outline",children:"Napsat hodnocen"})]}),i.jsx("div",{className:"space-y-0",children:e.map((u,d)=>i.jsxs("div",{children:[d>0&&i.jsx(It,{className:"my-6"}),i.jsx(Oe,{className:"border-0 p-0 shadow-none",children:i.jsxs(De,{className:"space-y-4 p-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(In,{className:"size-10",children:[i.jsx(hs,{src:u.author.avatar,alt:u.author.name}),i.jsx(Sr,{children:u.author.name.split(" ").map(f=>f[0]).join("")})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:u.author.name}),u.verified&&i.jsx("span",{className:"flex items-center gap-1 text-emerald-600",children:i.jsx(ig,{className:"size-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("span",{children:u.date}),u.variant&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{children:u.variant})]})]})]})]}),i.jsx(ey,{rate:u.rating,className:"[&_svg]:size-4 [&>div]:size-4"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:u.title}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed text-muted-foreground",children:u.content})]}),u.images&&u.images.length>0&&i.jsx("div",{className:"flex gap-2",children:u.images.map((f,m)=>i.jsx("div",{className:"size-20 overflow-hidden rounded-lg sm:size-24",children:i.jsx(Za,{ratio:1,children:i.jsx("img",{src:f,alt:`Review image ${m+1}`,className:"size-full object-cover"})})},m))}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(Q,{variant:"ghost",size:"sm",className:se("h-8 gap-1.5 text-muted-foreground",s.has(u.id)&&"text-foreground"),onClick:()=>l(u.id),children:[i.jsx(Ule,{className:se("size-4",s.has(u.id)&&"fill-current")}),"Uiten",u.helpful!==void 0&&i.jsxs("span",{children:["(",u.helpful+(s.has(u.id)?1:0),")"]})]}),i.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",children:"Nahlsit"})]})]})})]},u.id))})]})})},tCe=[{author:{image:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Jana K.",verifiedBuyer:!0},comment:"Skvl pe! Po tech mscch bolest zad jsem konen bez pot. Pan doktor byl velmi profesionln a trpliv. Cviky, kter mi ukzal, mi pomhaj dodnes.",image:"https://images.pexels.com/photos/3823495/pexels-photo-3823495.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Terapie zad",image:"https://images.pexels.com/photos/7579831/pexels-photo-7579831.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}},{author:{image:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Martin P.",verifiedBuyer:!0},comment:"Po razu kolena pi fotbale jsem poteboval rychlou rehabilitaci. Dky individulnmu pstupu a modernm metodm jsem se vrtil do hry za 6 tdn. Vele doporuuji!",image:"https://images.pexels.com/photos/6111612/pexels-photo-6111612.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Rehabilitace kolene",image:"https://images.pexels.com/photos/6111616/pexels-photo-6111616.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}},{author:{image:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Eva M.",verifiedBuyer:!0},comment:"Dlouhodob problmy s krn pte m trpily roky. Po srii terapi a sprvnch cvicch jsem konen nala levu. Pstup byl velmi profesionln a vstcn.",image:"https://images.pexels.com/photos/5793955/pexels-photo-5793955.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Terapie krn ptee",image:"https://images.pexels.com/photos/7579831/pexels-photo-7579831.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}},{author:{image:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Petr S.",verifiedBuyer:!0},comment:"Sportovn mase zde jsou asn! Pomhaj mi s regenerac po nronch trnincch. Personl je vdy mil a profesionln. Chodm pravideln a jsem velmi spokojen.",image:"https://images.pexels.com/photos/3823039/pexels-photo-3823039.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Sportovn mas",image:"https://images.pexels.com/photos/3823039/pexels-photo-3823039.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}},{author:{image:"https://images.pexels.com/photos/1181690/pexels-photo-1181690.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Lucie H.",verifiedBuyer:!0},comment:"Po porodu jsem mla problmy s bolestmi v oblasti pnevnho dna. Dky specializovan pi a clenm cvikm se mi podailo pln se zotavit. Jsem moc vdn!",image:"https://images.pexels.com/photos/3822621/pexels-photo-3822621.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Poporodn rehabilitace",image:"https://images.pexels.com/photos/7579831/pexels-photo-7579831.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}}],nCe=[{id:"1",rating:5,title:"asn pe a profesionln pstup",content:"Po mscch bolest ramene jsem konen nala odbornou pomoc. Kad terapie byla pizpsobena mm potebm a terapeut si vdy udlal as na vysvtlen postupu. Bolesti jsou pry a mohu se opt pln vnovat svm konkm. Doporuuji vem!",author:{name:"Alena V.",avatar:"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"15. ledna 2025",verified:!0,images:["https://images.pexels.com/photos/5794032/pexels-photo-5794032.jpeg?auto=compress&cs=tinysrgb&w=400"],helpful:24,variant:"Terapie ramene"},{id:"2",rating:5,title:"Vrtil jsem se ke sportu rychleji ne jsem ekal",content:"Po zrann achillovy lachy pi bhn jsem byl skeptick, zda se jet nkdy vrtm k aktivnmu sportu. Dky individulnmu rehabilitanmu plnu a modernm metodm lby jsem za 8 tdn opt na beck drze. Profesionalita na nejvy rovni!",author:{name:"Tom K.",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"10. ledna 2025",verified:!0,helpful:18,variant:"Sportovn rehabilitace"},{id:"3",rating:5,title:"Konen mohu fungovat bez bolesti",content:"Chronick bolesti doln sti zad m trpily vce ne 5 let. Zkouela jsem rzn lby, ale dn nepomohla dlouhodob. Tady mi sestavili komplexn pln zahrnujc manuln terapii, cvien a sprvn pracovn nvyky. Po tech mscch jsem poprv bez bolesti!",author:{name:"Markta N.",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"5. ledna 2025",verified:!0,images:["https://images.pexels.com/photos/5793944/pexels-photo-5793944.jpeg?auto=compress&cs=tinysrgb&w=400"],helpful:31,variant:"Terapie bedern ptee"},{id:"4",rating:4,title:"Skvl vsledky, trochu del ekac doba",content:"Pe je opravdu na vysok rovni a vsledky jsou skvl. Jedin mnus je obas del ekac doba na termn, co ale svd o kvalit slueb. Terapeut je velmi zkuen a vdy si udl as na vechny m dotazy. Urit stoj za to pokat.",author:{name:"Pavel D."},date:"2. ledna 2025",verified:!1,helpful:12},{id:"5",rating:5,title:"Pomohli mi po autonehod",content:"Po autonehod jsem ml vn problmy s krkem a rameny. Klasick medicna nabzela jen lky proti bolesti. Zde mi pomohli s komplexn rehabilitac vetn cvien, kter mohu dlat i doma. Po pl roce jsem tm bez obt. Dkuji!",author:{name:"David B.",avatar:"https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"28. prosince 2024",verified:!0,images:["https://images.pexels.com/photos/5794028/pexels-photo-5794028.jpeg?auto=compress&cs=tinysrgb&w=400"],helpful:8,variant:"Porazov rehabilitace"},{id:"6",rating:5,title:"Perfektn pstup k seniorm",content:"Moje maminka (78 let) trpla artritidou a mla velk problmy s pohyblivost. Terapeut byl nesmrn trpliv a pizpsobil ve jejmu vku a schopnostem. Po nkolika seancch je mnohem pohyblivj a sebevdomj. Jsme velmi vdn.",author:{name:"Karolna S.",avatar:"https://images.pexels.com/photos/1181424/pexels-photo-1181424.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"22. prosince 2024",verified:!0,helpful:15,variant:"Geriatrick fyzioterapie"}],sCe=()=>i.jsx("div",{className:"min-h-screen w-full",children:i.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col items-center justify-center",children:[i.jsx(J_e,{reviews:tCe,className:"w-full"}),i.jsx(eCe,{reviews:nCe,title:"Reference pacient",className:"w-full mx-auto"})]})}),rCe={seedling:Sle,book:Wt,stethoscope:Ale,award:Ri,star:$r,crown:Ch,flame:fb};function iCe(e){return e.split(/[.\-_\s]/).filter(Boolean).slice(0,2).map(t=>{var n;return(n=t[0])==null?void 0:n.toUpperCase()}).join("")||"U"}function aCe({user:e,subscription:t,hasActiveSubscription:n,currentRank:s,nextRank:r,totalXp:a,rankProgress:o,loginStreak:l,lessonsCompleted:u,coursesCompleted:d,onRefresh:f,refreshing:m}){var T,M;const g=Jt(),[x,b]=v.useState({days:0,hours:0,minutes:0,seconds:0});v.useEffect(()=>{if(!(t!=null&&t.current_period_end))return;const z=()=>{const D=Math.max(0,new Date(t.current_period_end).getTime()-Date.now());b({days:Math.floor(D/864e5),hours:Math.floor(D%864e5/36e5),minutes:Math.floor(D%36e5/6e4),seconds:Math.floor(D%6e4/1e3)})};z();const A=setInterval(z,1e3);return()=>clearInterval(A)},[t==null?void 0:t.current_period_end]);const w=()=>{const z=new Date().getHours();return z<6?"Dobrou noc":z<12?"Dobre rano":z<18?"Dobre odpoledne":"Dobry vecer"},j=((T=e==null?void 0:e.email)==null?void 0:T.split("@")[0])||"Studente",k=s&&rCe[s.icon]||$r,S=()=>{switch(t==null?void 0:t.plan_type){case"free_trial":return"Zkusebni verze";case"monthly":return"Mesicni plan";case"lifetime":return"Dozivotni pristup";default:return"Zadne predplatne"}},C=(t==null?void 0:t.plan_type)==="lifetime"?Ch:(t==null?void 0:t.plan_type)==="free_trial"?du:ha,E=[{icon:fb,color:"text-orange-500",val:l,unit:"dnu"},{icon:Wt,color:"text-emerald-500",val:u,unit:"lekci"},{icon:Pu,color:"text-blue-500",val:d,unit:"kurzu"}];return i.jsxs("div",{className:"space-y-4",children:[i.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"relative -mx-4 sm:-mx-6 -mt-3 px-4 sm:px-6 pt-2 pb-8",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-100/90 via-blue-50/50 to-transparent dark:from-blue-950/50 dark:via-blue-900/20 dark:to-transparent pointer-events-none"}),i.jsx("div",{className:"absolute top-0 right-0 w-56 h-56 bg-sky-200/40 dark:bg-sky-500/[0.06] rounded-full blur-3xl -translate-y-1/3 translate-x-1/4 pointer-events-none"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-blue-200/20 dark:bg-blue-500/[0.04] rounded-full blur-3xl translate-y-1/4 -translate-x-1/4 pointer-events-none"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs(ee.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground tracking-wide mb-0.5",children:w()}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight text-foreground leading-tight",children:j}),i.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Pokracujte ve svem uceni"})]}),i.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[f&&i.jsx(ee.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},whileTap:{scale:.9},onClick:f,disabled:m,className:"w-8 h-8 rounded-lg flex items-center justify-center border border-border/40 bg-white/60 dark:bg-white/5 backdrop-blur text-muted-foreground hover:text-foreground transition-colors disabled:opacity-50",children:i.jsx(t8,{className:`w-3.5 h-3.5 ${m?"animate-spin":""}`})}),i.jsxs(ee.div,{initial:{scale:.6,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},className:"relative",children:[i.jsxs(In,{className:"w-12 h-12 ring-2 ring-white/80 dark:ring-white/10 shadow-md",children:[i.jsx(hs,{src:(M=e==null?void 0:e.user_metadata)==null?void 0:M.avatar_url}),i.jsx(Sr,{className:"bg-primary/10 text-primary text-base font-bold",children:iCe(j)})]}),s&&i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 rounded-full bg-primary flex items-center justify-center ring-[1.5px] ring-white dark:ring-neutral-800 shadow-sm",children:i.jsx(k,{className:"w-2.5 h-2.5 text-primary-foreground"})})]})]})]}),s&&i.jsxs(ee.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"mt-5 flex items-center gap-2.5",children:[i.jsx("span",{className:"text-[11px] font-bold text-primary whitespace-nowrap",children:s.name}),i.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-black/[0.06] dark:bg-white/[0.08] overflow-hidden",children:i.jsx(ee.div,{className:"h-full rounded-full bg-primary",initial:{width:0},animate:{width:`${o}%`},transition:{duration:1.2,ease:[.33,1,.68,1],delay:.3}})}),i.jsxs("span",{className:"text-[10px] font-bold text-muted-foreground tabular-nums whitespace-nowrap",children:[a," XP"]}),r&&i.jsxs("span",{className:"text-[9px] text-muted-foreground whitespace-nowrap hidden sm:inline",children:[" ",r.name]})]}),i.jsx(ee.div,{className:"flex items-center gap-3 mt-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},children:E.map(({icon:z,color:A,val:D,unit:B},$)=>i.jsxs(v.Fragment,{children:[$>0&&i.jsx("div",{className:"w-px h-3 bg-border/50"}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(z,{className:`w-3.5 h-3.5 ${A}`}),i.jsx("span",{className:"text-xs font-bold",children:D}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:B})]})]},B))})]})]}),i.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.45,delay:.3},className:"rounded-2xl bg-muted/40 border border-border/40 p-4 space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center bg-primary/10 border border-primary/20",children:i.jsx(C,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider",children:"Predplatne"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-bold",children:S()}),n&&(t==null?void 0:t.plan_type)&&i.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 rounded-md bg-primary/10 border border-primary/20 text-primary",children:t.plan_type==="free_trial"?"Zkusebni":t.plan_type==="lifetime"?"Dozivotni":"Premium"})]})]})]})}),(t==null?void 0:t.current_period_end)&&t.plan_type!=="lifetime"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-px bg-border/50"}),i.jsxs("div",{className:"space-y-2.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-muted-foreground font-medium",children:[i.jsx(on,{className:"w-3 h-3"}),t.plan_type==="free_trial"?"Konci za":"Obnovuje se za"]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{val:x.days,unit:"Dnu"},{val:x.hours,unit:"Hod"},{val:x.minutes,unit:"Min"},{val:x.seconds,unit:"Sek"}].map(({val:z,unit:A},D)=>i.jsxs(ee.div,{className:"flex flex-col items-center py-2 rounded-xl bg-background border border-border/30",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.4+D*.04,type:"spring",stiffness:300},children:[i.jsx("span",{className:"text-lg font-extrabold tabular-nums leading-tight",children:String(z).padStart(2,"0")}),i.jsx("span",{className:"text-[9px] font-medium text-muted-foreground uppercase tracking-wider",children:A})]},A))}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground",children:[i.jsx(ha,{className:"w-3 h-3 flex-shrink-0"}),i.jsx("span",{children:new Date(t.current_period_end).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"})})]})]})]}),(t==null?void 0:t.plan_type)==="lifetime"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-px bg-border/50"}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-primary/5 border border-primary/15",children:[i.jsx(Ch,{className:"w-4 h-4 text-primary flex-shrink-0"}),i.jsx("span",{className:"text-xs font-semibold",children:"Aktivni navzdy"})]})]}),(!t||t.plan_type==="free_trial")&&i.jsxs(ee.button,{onClick:()=>g("/prehled/predplatne"),whileTap:{scale:.98},className:"w-full py-2.5 rounded-xl bg-primary text-primary-foreground text-sm font-semibold flex items-center justify-center gap-1.5 hover:opacity-90 transition-opacity",children:[t?"Upgradovat plan":"Zobrazit plany",i.jsx(hr,{className:"w-4 h-4"})]})]})]})}function oCe({course:e}){const{user:t}=Ht(),n=Jt(),[s,r]=v.useState([]),[a,o]=v.useState(new Map),[l,u]=v.useState(!1),[d,f]=v.useState(null),[m,g]=v.useState(!0);v.useEffect(()=>{t&&x()},[t,e.id]);const x=async()=>{if(t){g(!0);try{const[{data:T},{data:M},{data:z}]=await Promise.all([ae.from("course_lessons").select("id, title, description, duration, order_index").eq("course_id",e.id).order("order_index"),ae.from("course_enrollments").select("completed, enrolled_at").eq("user_id",t.id).eq("course_id",e.id).maybeSingle(),ae.from("user_course_progress").select("lesson_id, completed, completed_at, progress_percent").eq("user_id",t.id).eq("course_id",e.id)]);if(r(T||[]),u((M==null?void 0:M.completed)||!1),f((M==null?void 0:M.enrolled_at)||null),z){const A=new Map;for(const D of z)A.set(D.lesson_id,D);o(A)}}catch(T){console.error("Error loading course data:",T)}finally{g(!1)}}},b=Array.from(a.values()).filter(T=>T.completed).length,w=s.length,j=w>0?Math.round(b/w*100):0,k=s.reduce((T,M)=>T+M.duration,0),S=T=>{const M=s[T],z=a.get(M.id);if(z!=null&&z.completed)return"completed";if(T===0)return"available";const A=s[T-1],D=a.get(A.id);if(!(D!=null&&D.completed))return"locked";if(D.completed_at){const B=new Date(D.completed_at),$=new Date,q=new Date(B.getFullYear(),B.getMonth(),B.getDate()),Z=new Date($.getFullYear(),$.getMonth(),$.getDate());if(q.getTime()>=Z.getTime())return"daily_locked"}return"available"},C=()=>{var T;for(let M=0;M<s.length;M++)if(S(M)==="available"&&!((T=a.get(s[M].id))!=null&&T.completed))return M;return null};if(m)return i.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})});const E=C();return i.jsxs("div",{className:"space-y-6 mx-auto max-w-7xl",children:[i.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l?i.jsxs(Le,{className:"bg-green-500/20 text-green-600 border-green-500/30",children:[i.jsx(lc,{className:"h-3 w-3 mr-1"}),"Dokonceno"]}):j>0?i.jsxs(Le,{className:"bg-blue-500/20 text-blue-600 border-blue-500/30",children:[i.jsx(Va,{className:"h-3 w-3 mr-1"}),"Probiha"]}):i.jsxs(Le,{variant:"outline",children:[i.jsx(Wt,{className:"h-3 w-3 mr-1"}),"Nezahajeno"]}),e.level&&i.jsx(Le,{variant:"outline",className:"capitalize",children:e.level}),e.category&&i.jsx(Le,{variant:"outline",children:e.category})]}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:e.title}),e.description&&i.jsx("p",{className:"text-muted-foreground leading-relaxed max-w-2xl",children:e.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mt-3",children:[e.instructor&&i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(gce,{className:"h-4 w-4"}),e.instructor]}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Bo,{className:"h-4 w-4"}),w," lekci"]}),k>0&&i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(on,{className:"h-4 w-4"}),k," min"]}),d&&i.jsxs("span",{className:"flex items-center gap-1.5",children:["Zapsano: ",new Date(d).toLocaleDateString("cs-CZ")]})]})]}),E!==null&&i.jsxs(Q,{size:"lg",className:"shrink-0",onClick:()=>n(`/kurz/${e.id}/cast/${E+1}`),children:[i.jsx(Va,{className:"h-4 w-4 mr-2"}),"Pokracovat ve studiu"]}),l&&E===null&&i.jsxs(Q,{variant:"outline",size:"lg",className:"shrink-0",onClick:()=>n(`/kurz/${e.id}/cast/1`),children:[i.jsx(ur,{className:"h-4 w-4 mr-2"}),"Zopakovat kurz"]})]}),i.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"grid gap-4 grid-cols-2 sm:grid-cols-4",children:[{label:"Celkem lekci",value:w,icon:Bo,color:"text-blue-600"},{label:"Dokonceno",value:b,icon:Fs,color:"text-green-600"},{label:"Zbyvajicich",value:w-b,icon:Wt,color:"text-orange-600"},{label:"Celkovy cas",value:`${k} min`,icon:on,color:"text-blue-600"}].map(T=>i.jsx(Oe,{children:i.jsxs(De,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:i.jsx(T.icon,{className:`h-5 w-5 ${T.color}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xl font-bold",children:T.value}),i.jsx("p",{className:"text-xs text-muted-foreground",children:T.label})]})]})},T.label))}),i.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},children:i.jsx(Oe,{children:i.jsxs(De,{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Celkovy pokrok"}),i.jsxs("p",{className:"text-sm font-bold tabular-nums",children:[j,"%"]})]}),i.jsx(Hi,{value:j,className:"h-3"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[b," z ",w," lekci dokonceno"]})]})})}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:i.jsxs(Oe,{children:[i.jsx(Je,{children:i.jsx(Qe,{className:"text-lg",children:"Lekce"})}),i.jsx(De,{className:"p-0",children:i.jsx("div",{className:"divide-y",children:s.map((T,M)=>{const z=S(M),A=z==="completed"||z==="available";return i.jsxs("button",{type:"button",disabled:!A,onClick:()=>{A&&n(`/kurz/${e.id}/cast/${M+1}`)},className:se("w-full flex items-center gap-4 px-6 py-4 text-left transition-colors",A&&"hover:bg-accent/50 cursor-pointer",!A&&"cursor-not-allowed opacity-60"),children:[i.jsx("div",{className:se("w-9 h-9 rounded-full flex items-center justify-center text-sm font-semibold shrink-0",z==="completed"&&"bg-green-500 text-white",z==="available"&&"bg-primary/10 text-primary",z==="daily_locked"&&"bg-amber-500/15 text-amber-600",z==="locked"&&"bg-muted text-muted-foreground"),children:z==="completed"?i.jsx(Fs,{className:"h-4 w-4"}):z==="daily_locked"?i.jsx(Oo,{className:"h-4 w-4"}):z==="locked"?i.jsx($l,{className:"h-3.5 w-3.5"}):M+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate text-sm",children:T.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[i.jsx(on,{className:"h-3 w-3"}),i.jsxs("span",{children:[T.duration," min"]})]})]}),i.jsxs("div",{className:"shrink-0 flex items-center gap-2",children:[z==="completed"&&i.jsx(Le,{variant:"outline",className:"text-green-600 border-green-500/30 text-xs",children:"Hotovo"}),z==="daily_locked"&&i.jsxs(Le,{variant:"outline",className:"text-amber-600 border-amber-500/30 text-xs gap-1",children:[i.jsx(Oo,{className:"h-3 w-3"}),"Zitra"]}),A&&i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]})]},T.id)})})})]})})]})}const iu=[{id:"novice",name:"Novic",minXp:0,maxXp:99,color:"text-zinc-500",bgColor:"bg-zinc-500/10",borderColor:"border-zinc-500/30",icon:"seedling"},{id:"student",name:"Student",minXp:100,maxXp:299,color:"text-green-500",bgColor:"bg-green-500/10",borderColor:"border-green-500/30",icon:"book"},{id:"practitioner",name:"Praktikant",minXp:300,maxXp:599,color:"text-blue-500",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30",icon:"stethoscope"},{id:"specialist",name:"Specialista",minXp:600,maxXp:999,color:"text-cyan-500",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30",icon:"award"},{id:"expert",name:"Expert",minXp:1e3,maxXp:1999,color:"text-amber-500",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",icon:"star"},{id:"master",name:"Mistr",minXp:2e3,maxXp:3499,color:"text-orange-500",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30",icon:"crown"},{id:"grandmaster",name:"Velmistr",minXp:3500,maxXp:999999,color:"text-red-500",bgColor:"bg-red-500/10",borderColor:"border-red-500/30",icon:"flame"}],Xc={lesson_complete:25,course_complete:150,streak_3:30,streak_7:75,streak_30:300,first_lesson:50,first_course:100},_o=[{id:"first_lesson",name:"Prvni krok",description:"Dokoncete svou prvni lekci",icon:"footprints",xpReward:Xc.first_lesson,category:"lessons",condition:e=>e.lessonsCompleted>=1,reward:{type:"promo_code",value:"PRVNIKROK10",label:"10% sleva na dalsi kurz"}},{id:"lessons_5",name:"Pilny student",description:"Dokoncete 5 lekci",icon:"book-open",xpReward:50,category:"lessons",condition:e=>e.lessonsCompleted>=5,reward:{type:"subscription_days",value:"3",label:"3 dny predplatneho zdarma"}},{id:"lessons_10",name:"Znaly praktik",description:"Dokoncete 10 lekci",icon:"brain",xpReward:100,category:"lessons",condition:e=>e.lessonsCompleted>=10,reward:{type:"promo_code",value:"PRAKTIK15",label:"15% sleva na vsechny produkty"}},{id:"lessons_25",name:"Neustupny",description:"Dokoncete 25 lekci",icon:"target",xpReward:200,category:"lessons",condition:e=>e.lessonsCompleted>=25,reward:{type:"subscription_days",value:"7",label:"7 dni predplatneho zdarma"}},{id:"lessons_50",name:"Marathonec",description:"Dokoncete 50 lekci",icon:"medal",xpReward:400,category:"lessons",condition:e=>e.lessonsCompleted>=50,reward:{type:"discount",value:"25",label:"25% sleva na rocni predplatne"}},{id:"first_course",name:"Absolvent",description:"Dokoncete svuj prvni kurz",icon:"graduation-cap",xpReward:Xc.first_course,category:"courses",condition:e=>e.coursesCompleted>=1,reward:{type:"promo_code",value:"ABSOLVENT20",label:"20% sleva na dalsi kurz"}},{id:"courses_3",name:"Sberatel znalosti",description:"Dokoncete 3 kurzy",icon:"library",xpReward:250,category:"courses",condition:e=>e.coursesCompleted>=3,reward:{type:"subscription_days",value:"14",label:"14 dni predplatneho zdarma"}},{id:"courses_5",name:"Akademik",description:"Dokoncete 5 kurzu",icon:"trophy",xpReward:500,category:"courses",condition:e=>e.coursesCompleted>=5,reward:{type:"discount",value:"30",label:"30% sleva na cokoliv v obchode"}},{id:"streak_3",name:"Na vlne",description:"3 dny v rade aktivni",icon:"zap",xpReward:Xc.streak_3,category:"streaks",condition:e=>e.longestStreak>=3,reward:{type:"promo_code",value:"SERIE5",label:"5% sleva na dalsi nakup"}},{id:"streak_7",name:"Tydenni valka",description:"7 dni v rade aktivni",icon:"flame",xpReward:Xc.streak_7,category:"streaks",condition:e=>e.longestStreak>=7,reward:{type:"subscription_days",value:"5",label:"5 dni predplatneho zdarma"}},{id:"streak_30",name:"Zelezna vule",description:"30 dni v rade aktivni",icon:"shield",xpReward:Xc.streak_30,category:"streaks",condition:e=>e.longestStreak>=30,reward:{type:"subscription_days",value:"30",label:"30 dni predplatneho zdarma"}},{id:"xp_500",name:"Stoupenec",description:"Nasbirejte 500 XP",icon:"trending-up",xpReward:50,category:"special",condition:e=>e.totalXp>=500,reward:{type:"promo_code",value:"XP500SLEVA",label:"10% sleva na e-shop"}},{id:"xp_2000",name:"Veteran",description:"Nasbirejte 2000 XP",icon:"crown",xpReward:200,category:"special",condition:e=>e.totalXp>=2e3,reward:{type:"discount",value:"50",label:"50% sleva na mesicni predplatne"}}];function C0(e){for(let t=iu.length-1;t>=0;t--)if(e>=iu[t].minXp)return iu[t];return iu[0]}function QF(e){const t=iu.findIndex(n=>n.id===e.id);return t<iu.length-1?iu[t+1]:null}function lCe(e,t){const n=QF(t);if(!n)return 100;const s=e-t.minXp,r=n.minXp-t.minXp;return Math.min(Math.round(s/r*100),100)}function eU(){const{user:e}=Ht(),[t,n]=v.useState(null),[s,r]=v.useState([]),[a,o]=v.useState([]),[l,u]=v.useState(!0),[d,f]=v.useState(null),m=v.useCallback(async()=>{if(e)try{const[{data:T},{data:M},{data:z}]=await Promise.all([ae.from("user_xp").select("total_xp, current_rank, lessons_completed, courses_completed, login_streak, longest_streak, last_activity_date").eq("user_id",e.id).maybeSingle(),ae.from("user_badges").select("badge_id, earned_at, xp_awarded").eq("user_id",e.id),ae.from("badge_rewards").select("badge_id, reward_type, reward_value, reward_label, claimed, claimed_at").eq("user_id",e.id)]);T?n(T):(await ae.from("user_xp").insert({user_id:e.id,total_xp:0,current_rank:"novice",lessons_completed:0,courses_completed:0,login_streak:0,longest_streak:0}),n({total_xp:0,current_rank:"novice",lessons_completed:0,courses_completed:0,login_streak:0,longest_streak:0,last_activity_date:null})),r(M||[]),o(z||[])}catch(T){console.error("Error loading gamification data:",T)}finally{u(!1)}},[e]);v.useEffect(()=>{m()},[m]);const g=v.useCallback(async()=>{if(!e||!t)return;const T=new Date().toISOString().split("T")[0];if(t.last_activity_date===T)return;const M=new Date;M.setDate(M.getDate()-1);const z=M.toISOString().split("T")[0];let A=1;t.last_activity_date===z&&(A=t.login_streak+1);const D=Math.max(A,t.longest_streak);await ae.from("user_xp").update({login_streak:A,longest_streak:D,last_activity_date:T,updated_at:new Date().toISOString()}).eq("user_id",e.id),n(B=>B&&{...B,login_streak:A,longest_streak:D,last_activity_date:T})},[e,t]);v.useEffect(()=>{t&&e&&g()},[e,t==null?void 0:t.last_activity_date]);const x=v.useCallback(async(T,M,z)=>{if(!e||!t)return null;const A=t.total_xp+T,D=C0(A),B=C0(t.total_xp),$=D.id!==B.id;await Promise.all([ae.from("user_xp").update({total_xp:A,current_rank:D.id,updated_at:new Date().toISOString()}).eq("user_id",e.id),ae.from("user_xp_history").insert({user_id:e.id,xp_amount:T,source:M,source_id:z||null})]),n(I=>I&&{...I,total_xp:A,current_rank:D.id});const q={lessonsCompleted:t.lessons_completed,coursesCompleted:t.courses_completed,loginStreak:t.login_streak,longestStreak:t.longest_streak,totalXp:A},Z=new Set(s.map(I=>I.badge_id)),F=[];for(const I of _o)!Z.has(I.id)&&I.condition(q)&&(F.push(I),await ae.from("user_badges").insert({user_id:e.id,badge_id:I.id,xp_awarded:I.xpReward}),I.xpReward>0&&await ae.from("user_xp_history").insert({user_id:e.id,xp_amount:I.xpReward,source:"badge_earned",source_id:I.id}),I.reward&&(await ae.from("badge_rewards").insert({user_id:e.id,badge_id:I.id,reward_type:I.reward.type,reward_value:I.reward.value,reward_label:I.reward.label,claimed:!1}),o(L=>[...L,{badge_id:I.id,reward_type:I.reward.type,reward_value:I.reward.value,reward_label:I.reward.label,claimed:!1,claimed_at:null}])));const J=F.reduce((I,L)=>I+L.xpReward,0);if(J>0){const I=A+J,L=C0(I);await ae.from("user_xp").update({total_xp:I,current_rank:L.id,updated_at:new Date().toISOString()}).eq("user_id",e.id),n(G=>G&&{...G,total_xp:I,current_rank:L.id})}F.length>0&&r(I=>[...I,...F.map(L=>({badge_id:L.id,earned_at:new Date().toISOString(),xp_awarded:L.xpReward}))]);const P={amount:T+J,source:M,newBadges:F,newRank:$?D:null};return f(P),P},[e,t,s]),b=v.useCallback(async T=>{if(!e||!t)return null;const M=t.lessons_completed+1;return await ae.from("user_xp").update({lessons_completed:M,updated_at:new Date().toISOString()}).eq("user_id",e.id),n(z=>z&&{...z,lessons_completed:M}),x(Xc.lesson_complete,"lesson_complete",T)},[e,t,x]),w=v.useCallback(async T=>{if(!e||!t)return null;const M=t.courses_completed+1;return await ae.from("user_xp").update({courses_completed:M,updated_at:new Date().toISOString()}).eq("user_id",e.id),n(z=>z&&{...z,courses_completed:M}),x(Xc.course_complete,"course_complete",T)},[e,t,x]),j=v.useCallback(async T=>{if(!e)return!1;const M=new Date().toISOString(),{error:z}=await ae.from("badge_rewards").update({claimed:!0,claimed_at:M}).eq("user_id",e.id).eq("badge_id",T);return z?!1:(o(A=>A.map(D=>D.badge_id===T?{...D,claimed:!0,claimed_at:M}:D)),!0)},[e]),k=v.useCallback(()=>f(null),[]),S=t?C0(t.total_xp):null,C=S?QF(S):null,E=S&&t?lCe(t.total_xp,S):0;return{userXp:t,earnedBadges:s,claimedRewards:a,loading:l,currentRank:S,nextRank:C,rankProgress:E,lastXpEvent:d,onLessonComplete:b,onCourseComplete:w,claimReward:j,clearLastEvent:k,reload:m}}const cCe={footprints:Z_,"book-open":Wt,brain:Pie,target:lg,medal:_oe,"graduation-cap":tc,library:uoe,trophy:lc,zap:du,flame:fb,shield:yp,"trending-up":Pu,crown:Ch},uCe={lessons:"Lekce",courses:"Kurzy",streaks:"Serie",special:"Specialni"},dCe={lessons:"text-green-500",courses:"text-blue-500",streaks:"text-orange-500",special:"text-amber-500"},hCe={promo_code:bp,subscription_days:ha,discount:Y_};function fCe({earnedBadgeIds:e,claimedRewards:t,onClaimReward:n}){const[s,r]=v.useState(null),a=["lessons","courses","streaks","special"],o=s?_o.filter(f=>f.category===s):_o,l=_o.filter(f=>e.has(f.id)).length,u=new Map(t.map(f=>[f.badge_id,f])),d=t.filter(f=>!f.claimed).length;return i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[i.jsxs("div",{children:[i.jsxs(Qe,{className:"text-lg flex items-center gap-2",children:["Odznaky a odmeny",d>0&&i.jsxs(ee.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1 rounded-full bg-green-500/15 border border-green-500/30 px-2 py-0.5",children:[i.jsx(Yd,{className:"w-3 h-3 text-green-500"}),i.jsxs("span",{className:"text-xs font-bold text-green-600",children:[d," novych"]})]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[l," z ",_o.length," ziskano -- kazdy odznak odemyka odmenu"]})]}),i.jsxs(Le,{variant:"secondary",className:"text-xs font-bold tabular-nums",children:[l,"/",_o.length]})]}),i.jsxs("div",{className:"flex gap-1.5 pt-2 flex-wrap",children:[i.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(null),className:se("px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",s?"bg-muted text-muted-foreground hover:text-foreground":"bg-foreground text-background"),children:["Vse (",_o.length,")"]}),a.map(f=>{const m=_o.filter(x=>x.category===f).length,g=_o.filter(x=>x.category===f&&e.has(x.id)).length;return i.jsxs(ee.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(f),className:se("px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",s===f?"bg-foreground text-background":"bg-muted text-muted-foreground hover:text-foreground"),children:[uCe[f]," (",g,"/",m,")"]},f)})]})]}),i.jsx(De,{className:"pb-4",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:i.jsx(gn,{mode:"popLayout",children:o.map((f,m)=>i.jsx(mCe,{badge:f,earned:e.has(f.id),rewardData:u.get(f.id),onClaim:n,index:m},f.id))})})})]})})}function mCe({badge:e,earned:t,rewardData:n,onClaim:s,index:r}){const[a,o]=v.useState(!1),[l,u]=v.useState(!1),d=cCe[e.icon]||lc,f=dCe[e.category]||"text-zinc-500",m=!!e.reward,g=(n==null?void 0:n.claimed)??!1,x=t&&m&&n&&!g,b=async()=>{var S;o(!0);const k=await s(e.id);o(!1),k&&Se.success("Odmena vyzvednuta!",{description:(S=e.reward)==null?void 0:S.label})},w=()=>{n!=null&&n.reward_value&&(navigator.clipboard.writeText(n.reward_value),u(!0),Se.success("Kod zkopirovan do schranky"),setTimeout(()=>u(!1),2e3))},j=e.reward&&hCe[e.reward.type]||Yd;return i.jsxs(ee.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:r*.03},whileHover:t?{y:-3}:void 0,className:se("relative rounded-xl border p-4 transition-colors flex gap-3",t?"bg-card border-border hover:border-primary/30":"bg-muted/30 border-border/40 opacity-50"),children:[!t&&i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx($l,{className:"w-3.5 h-3.5 text-muted-foreground/50"})}),i.jsx(ee.div,{className:se("shrink-0 w-12 h-12 rounded-xl flex items-center justify-center",t?`${f.replace("text-","bg-")}/15`:"bg-muted"),animate:t?{rotate:[0,-5,5,0]}:void 0,transition:{duration:.5,delay:r*.1+.5},children:i.jsx(d,{className:se("w-6 h-6",t?f:"text-muted-foreground/40")})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:se("text-sm font-semibold leading-tight",t?"text-foreground":"text-muted-foreground/60"),children:e.name}),i.jsx("p",{className:se("text-xs leading-snug mt-0.5",t?"text-muted-foreground":"text-muted-foreground/40"),children:e.description})]}),t&&e.xpReward>0&&i.jsxs(Le,{variant:"secondary",className:"text-[10px] h-5 px-1.5 font-bold shrink-0",children:["+",e.xpReward," XP"]})]}),m&&i.jsx("div",{className:"mt-2",children:t?x?i.jsxs(ee.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"flex items-center gap-2 mt-1",children:[i.jsxs("div",{className:"flex-1 rounded-lg border border-green-500/30 bg-green-500/5 px-2.5 py-1.5 flex items-center gap-1.5",children:[i.jsx(j,{className:"w-3.5 h-3.5 text-green-500 shrink-0"}),i.jsx("span",{className:"text-[11px] font-medium text-green-600 truncate",children:e.reward.label})]}),i.jsx(Q,{size:"sm",className:"h-7 px-2.5 text-xs bg-green-600 hover:bg-green-700 text-white shrink-0",onClick:b,disabled:a,children:a?i.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Yd,{className:"w-3 h-3 mr-1"}),"Vyzvednout"]})})]}):g?i.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 rounded-lg border border-border bg-muted/50 px-2.5 py-1.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[i.jsx(La,{className:"w-3 h-3 text-green-500"}),i.jsx("span",{className:"text-[11px] font-medium text-green-600",children:"Vyzvednuto"})]}),((n==null?void 0:n.reward_type)==="promo_code"||(n==null?void 0:n.reward_type)==="discount")&&i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("code",{className:"text-xs font-mono bg-background px-2 py-0.5 rounded border flex-1 truncate",children:n.reward_value}),i.jsx("button",{onClick:w,className:"shrink-0 p-1 rounded hover:bg-accent transition-colors",children:l?i.jsx(La,{className:"w-3 h-3 text-green-500"}):i.jsx(v2,{className:"w-3 h-3 text-muted-foreground"})})]}),(n==null?void 0:n.reward_type)==="subscription_days"&&i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ha,{className:"w-3 h-3 text-blue-500"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",n.reward_value," dni pridano k predplatnemu"]})]})]}):i.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-muted-foreground mt-1",children:[i.jsx(Yd,{className:"w-3 h-3"}),i.jsx("span",{children:e.reward.label})]}):i.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-muted-foreground/40",children:[i.jsx(Yd,{className:"w-3 h-3"}),i.jsxs("span",{children:["Odmena: ",e.reward.label]})]})})]})]})}function tU({amount:e,source:t,newBadges:n,newRank:s,visible:r,onClose:a}){v.useEffect(()=>{if(r){const l=setTimeout(a,4e3);return()=>clearTimeout(l)}},[r,a]);const o={lesson_complete:"Lekce dokoncena",course_complete:"Kurz dokoncen",badge_earned:"Odznak ziskan",streak_bonus:"Bonus za serii"};return i.jsx(gn,{children:r&&i.jsxs(ee.div,{className:"fixed top-24 right-4 z-[9999] flex flex-col gap-2 items-end pointer-events-none",initial:{opacity:0,x:100,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.8},transition:{type:"spring",stiffness:300,damping:25},children:[i.jsxs(ee.div,{className:"pointer-events-auto rounded-xl border bg-card/95 backdrop-blur-md shadow-lg px-4 py-3 flex items-center gap-3 min-w-[200px]",whileHover:{scale:1.02},onClick:a,children:[i.jsx(ee.div,{className:"w-10 h-10 rounded-lg bg-amber-500/15 flex items-center justify-center shrink-0",animate:{rotate:[0,15,-15,0]},transition:{duration:.6,delay:.2},children:i.jsx(du,{className:"w-5 h-5 text-amber-500"})}),i.jsxs("div",{children:[i.jsxs(ee.div,{className:"text-lg font-bold tabular-nums text-amber-500",initial:{scale:.5},animate:{scale:[.5,1.3,1]},transition:{duration:.5,delay:.1},children:["+",e," XP"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:o[t]||t})]})]}),s&&i.jsxs(ee.div,{initial:{opacity:0,y:-10,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.4,type:"spring",stiffness:300},className:"pointer-events-auto rounded-xl border-2 bg-card/95 backdrop-blur-md shadow-lg px-4 py-3 flex items-center gap-3 min-w-[200px]",style:{borderColor:`var(--color-${s.color.replace("text-","")}, currentColor)`},children:[i.jsx(ee.div,{className:se("w-10 h-10 rounded-lg flex items-center justify-center shrink-0",s.bgColor),animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:.8,delay:.5},children:i.jsx(Sie,{className:se("w-5 h-5",s.color)})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Novy rank!"}),i.jsx("p",{className:se("text-sm font-bold",s.color),children:s.name})]})]}),n.map((l,u)=>i.jsxs(ee.div,{initial:{opacity:0,y:-10,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.6+u*.2,type:"spring",stiffness:300},className:"pointer-events-auto rounded-xl border bg-card/95 backdrop-blur-md shadow-lg px-4 py-3 flex items-center gap-3 min-w-[200px]",children:[i.jsx(ee.div,{className:"w-10 h-10 rounded-lg bg-green-500/15 flex items-center justify-center shrink-0",animate:{scale:[1,1.15,1]},transition:{duration:.5,delay:.7+u*.2},children:l.category==="courses"?i.jsx(lc,{className:"w-5 h-5 text-green-500"}):i.jsx($r,{className:"w-5 h-5 text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Novy odznak!"}),i.jsx("p",{className:"text-sm font-bold",children:l.name}),l.xpReward>0&&i.jsxs("p",{className:"text-[10px] text-amber-500 font-semibold",children:["+",l.xpReward," XP"]})]})]},l.id))]})})}function pCe({onComplete:e,username:t="Studente"}){const[n,s]=v.useState("logo");return v.useEffect(()=>{const r=setTimeout(()=>s("greeting"),800),a=setTimeout(()=>s("exit"),2e3),o=setTimeout(e,2600);return()=>{clearTimeout(r),clearTimeout(a),clearTimeout(o)}},[e]),i.jsxs(gn,{children:[null,i.jsxs(ee.div,{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-background",initial:{opacity:1},animate:{opacity:n==="exit"?0:1},exit:{opacity:0},transition:{duration:.5,ease:[.33,1,.68,1]},style:{pointerEvents:n==="exit"?"none":"auto"},children:[i.jsxs(ee.div,{className:"absolute inset-0",initial:{opacity:0},animate:{opacity:.4},transition:{duration:1.5},children:[i.jsx("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full bg-primary/8 blur-[100px]"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[300px] h-[300px] rounded-full bg-blue-400/6 blur-[80px]"})]}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[i.jsx(ee.div,{initial:{scale:.5,opacity:0},animate:{scale:n==="greeting"?.85:1,opacity:1,y:n==="greeting"?-20:0},transition:{scale:{type:"spring",stiffness:200,damping:20},opacity:{duration:.4},y:{type:"spring",stiffness:200,damping:25}},children:i.jsx("img",{src:"/Dires.png",alt:"Dires",className:"w-20 h-20 dark:invert"})}),i.jsx(gn,{children:n==="greeting"&&i.jsxs(ee.div,{className:"flex flex-col items-center gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.5,ease:[.33,1,.68,1]},children:[i.jsx(ee.p,{className:"text-sm font-medium text-muted-foreground tracking-wide uppercase",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.4},children:"Vitejte zpet"}),i.jsx(ee.h1,{className:"text-2xl font-bold text-foreground",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:t})]})}),i.jsx(ee.div,{className:"w-48 h-0.5 rounded-full bg-border overflow-hidden",initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{delay:.3,duration:.4},children:i.jsx(ee.div,{className:"h-full bg-primary rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{delay:.5,duration:1.5,ease:[.33,1,.68,1]}})})]})]})]})}const gCe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},xCe={hidden:{opacity:0,y:16},visible:{opacity:1,y:0,transition:{duration:.45,ease:[.33,1,.68,1]}}};function Qk({title:e,delay:t=0,right:n}){return i.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.35,delay:t},className:"flex items-center justify-between mb-3",children:[i.jsx("span",{className:"text-[11px] font-semibold text-muted-foreground uppercase tracking-wider",children:e}),n]})}function vCe(){var Z;const{user:e}=Ht(),{subscription:t,hasActiveSubscription:n,refetch:s}=pg(),{selectedCourse:r}=C7(),{userXp:a,earnedBadges:o,claimedRewards:l,currentRank:u,nextRank:d,rankProgress:f,lastXpEvent:m,clearLastEvent:g,claimReward:x}=eU(),[b,w]=v.useState([]),[j,k]=v.useState(!0),[S,C]=v.useState(!1),[E,T]=v.useState(!0),{showMobileNav:M}=U_(),[z,A]=v.useState({completedCourses:0,inProgressCourses:0,totalHoursSpent:0,completedModules:0}),D=async()=>{C(!0);try{await s(),Se.success("Predplatne aktualizovano")}catch{Se.error("Nepodarilo se aktualizovat predplatne")}finally{C(!1)}};v.useEffect(()=>{B()},[e]);const B=async()=>{if(e)try{const{data:F,error:J}=await ae.from("course_enrollments").select(`
          id,
          course_id,
          enrolled_at,
          completed,
          completion_date,
          courses!inner (
            id,
            title,
            description,
            thumbnail_url,
            price,
            order_index
          )
        `).eq("user_id",e.id).order("enrolled_at",{ascending:!1});if(J){console.error("Error fetching enrollments:",J);return}const P=(F||[]).map(U=>{var R,H,K,ne,ce,ue;return{id:U.id,course_id:U.course_id,progress_percentage:U.completed?100:0,enrolled_at:U.enrolled_at,completed_at:U.completion_date,course:{id:((R=U.courses)==null?void 0:R.id)||"",title:((H=U.courses)==null?void 0:H.title)||"",description:((K=U.courses)==null?void 0:K.description)||"",image_url:((ne=U.courses)==null?void 0:ne.thumbnail_url)||"",price:((ce=U.courses)==null?void 0:ce.price)||0,order_index:((ue=U.courses)==null?void 0:ue.order_index)||0}}});w(P);const{data:I}=await ae.from("user_course_progress").select("completed").eq("user_id",e.id),L=(I==null?void 0:I.filter(U=>U.completed).length)||0,G=L*60;A({completedCourses:(F==null?void 0:F.filter(U=>U.completed).length)||0,inProgressCourses:(F==null?void 0:F.filter(U=>!U.completed).length)||0,totalHoursSpent:Math.round(G/60),completedModules:L})}catch(F){console.error("Error loading dashboard data:",F)}finally{k(!1)}},$=v.useCallback(()=>{T(!1),M()},[M]);if(r)return i.jsx(oCe,{course:r});const q=((Z=e==null?void 0:e.email)==null?void 0:Z.split("@")[0])||"Studente";return i.jsxs(i.Fragment,{children:[i.jsx(gn,{children:E&&i.jsx(pCe,{onComplete:$,username:q})}),!E&&i.jsxs(ee.div,{className:"pb-8 space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},children:[i.jsx(aCe,{user:e,subscription:t,hasActiveSubscription:n,currentRank:u,nextRank:d,totalXp:(a==null?void 0:a.total_xp)??0,rankProgress:f,loginStreak:(a==null?void 0:a.login_streak)??0,lessonsCompleted:(a==null?void 0:a.lessons_completed)??0,coursesCompleted:(a==null?void 0:a.courses_completed)??0,onRefresh:D,refreshing:S}),j?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(Qk,{title:"Statistiky",delay:.1}),i.jsx(ee.div,{className:"grid grid-cols-2 gap-3",variants:gCe,initial:"hidden",animate:"visible",children:[{title:"Dokoncene",value:z.completedCourses,icon:k1e,color:"text-green-500",bg:"bg-green-500/10"},{title:"Probihajici",value:z.inProgressCourses,icon:Gk,color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Hodin",value:z.totalHoursSpent,icon:mu,color:"text-cyan-500",bg:"bg-cyan-500/10"},{title:"Lekci",value:z.completedModules,icon:Fa,color:"text-orange-500",bg:"bg-orange-500/10"}].map(F=>{const J=F.icon;return i.jsxs(ee.div,{variants:xCe,whileTap:{scale:.97},className:"flex items-center gap-3 p-3.5 rounded-2xl bg-muted/30 border border-border/25",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${F.bg}`,children:i.jsx(J,{className:`h-5 w-5 ${F.color}`})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-extrabold leading-tight",children:F.value}),i.jsx("div",{className:"text-[11px] text-muted-foreground font-medium",children:F.title})]})]},F.title)})})]}),i.jsx("div",{children:b.length>0?i.jsxs(i.Fragment,{children:[i.jsx(Qk,{title:"Pokracovat v uceni",delay:.2,right:i.jsx(Q,{asChild:!0,variant:"ghost",size:"sm",className:"text-[11px] h-6 px-2 -mr-2",children:i.jsxs(Be,{to:"/prehled/moje-kurzy",children:["Zobrazit vse",i.jsx(_p,{className:"ml-1 h-3 w-3"})]})})}),i.jsx("div",{className:"space-y-2.5",children:b.slice(0,3).map((F,J)=>i.jsx(ee.div,{initial:{opacity:0,x:-12},animate:{opacity:1,x:0},transition:{delay:.25+J*.08,duration:.4},whileTap:{scale:.98},children:i.jsxs(Be,{to:`/kurz/${F.course_id}`,className:"flex items-center gap-3 p-3 rounded-2xl bg-muted/25 border border-border/25 active:bg-muted/50 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0 w-11 h-11 rounded-xl bg-gradient-to-br from-primary/12 to-blue-400/12 flex items-center justify-center",children:i.jsx(Gk,{className:"h-5 w-5 text-primary/70"})}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:F.course.title}),F.completed_at&&i.jsx("span",{className:"flex-shrink-0 text-[9px] font-bold text-green-600 bg-green-500/10 px-1.5 py-0.5 rounded-md",children:"Hotovo"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[i.jsx("span",{className:"text-muted-foreground",children:"Pokrok"}),i.jsxs("span",{className:"font-bold tabular-nums",children:[Math.round(F.progress_percentage),"%"]})]}),i.jsx(Hi,{value:F.progress_percentage,className:"h-1.5"})]})]}),i.jsx(_p,{className:"h-4 w-4 text-muted-foreground/50 flex-shrink-0"})]})},F.id))})]}):i.jsxs(ee.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center py-10 space-y-4 rounded-2xl bg-muted/15 border border-border/20",children:[i.jsx(ee.div,{initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.4},children:i.jsx(Gk,{className:"h-12 w-12 text-muted-foreground/30 mx-auto"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-base font-bold",children:"Zatim zadne kurzy"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Zapiste se do sveho prvniho kurzu"})]}),i.jsx(Q,{asChild:!0,size:"default",className:"rounded-xl",children:i.jsx(Be,{to:"/prehled/moje-kurzy",children:"Prohlednout Kurzy"})})]})}),i.jsxs("div",{children:[i.jsx(Qk,{title:"Oceneni",delay:.3}),i.jsx(fCe,{earnedBadgeIds:new Set(o.map(F=>F.badge_id)),claimedRewards:l,onClaimReward:x})]})]}),m&&i.jsx(tU,{amount:m.amount,source:m.source,newBadges:m.newBadges,newRank:m.newRank,visible:!!m,onClose:g})]})]})}const Ud=[{id:1,name:"Pooperan rehabilitace kolene",patient:"Sarah Johnson",type:"Ortopedick",duration:"12 tdn",progress:75,sessionsCompleted:9,totalSessions:12,status:"active",startDate:"2024-11-15",exercises:[{name:"Extenze nohou",sets:3,reps:15,completed:!0},{name:"Hamstringov rotace",sets:3,reps:12,completed:!0},{name:"Depy u zdi",sets:2,reps:10,completed:!1},{name:"Balann cvien",sets:3,reps:10,completed:!1}]},{id:2,name:"Lba bolesti doln sti zad",patient:"Emma Davis",type:"Lba bolesti",duration:"8 tdn",progress:60,sessionsCompleted:5,totalSessions:8,status:"active",startDate:"2024-12-01",exercises:[{name:"Pnvov nklon",sets:3,reps:12,completed:!0},{name:"Koka-krva protaen",sets:2,reps:10,completed:!0},{name:"Mstek",sets:3,reps:15,completed:!0},{name:"Pta pes",sets:3,reps:10,completed:!1}]},{id:3,name:"Zlepen pohyblivosti ramen",patient:"Michael Chen",type:"Pohyblivost",duration:"10 tdn",progress:45,sessionsCompleted:4,totalSessions:10,status:"active",startDate:"2024-12-10",exercises:[{name:"Krouhy paemi",sets:2,reps:20,completed:!0},{name:"Staen lopatek",sets:3,reps:12,completed:!0},{name:"Chze po zdi",sets:2,reps:10,completed:!1},{name:"Tahn odporov gumy",sets:3,reps:15,completed:!1}]},{id:4,name:"Program levy od bolesti krku",patient:"Lisa Anderson",type:"Lba bolesti",duration:"6 tdn",progress:30,sessionsCompleted:2,totalSessions:6,status:"active",startDate:"2024-12-20",exercises:[{name:"Rotace krku",sets:2,reps:10,completed:!0},{name:"Vtaen brady",sets:3,reps:15,completed:!1},{name:"Pokren ramen",sets:3,reps:12,completed:!1},{name:"Bon ohyby krku",sets:2,reps:10,completed:!1}]}],yCe=[{category:"Sla",exercises:["Extenze nohou","Hamstringov rotace","Bicepsov zdvihy","Tricepsov nataen","Tlak na hrudnk"]},{category:"Flexibilita",exercises:["Koka-krva protaen","Hamstringov nataen","Protaen kyelnho flexoru","Protaen ramen"]},{category:"Rovnovha",exercises:["Stoj na jedn noze","Chze pata-pika","Balann deska","Tandemov postoj"]},{category:"Kardio",exercises:["Chze","Cyklistika","Plavn","Eliptick trenar"]}];function bCe(){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between max-md:hidden",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Terapeutick plny"}),i.jsx("p",{className:"text-muted-foreground",children:"Spravujte terapeutick plny a cviebn programy pro vae pacienty."})]}),i.jsxs(Q,{children:[i.jsx(eS,{className:"mr-2 h-4 w-4"}),"Vytvoit terapeutick pln"]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Aktivn plny"}),i.jsx(p1e,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Ud.filter(e=>e.status==="active").length}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["U ",Ud.length," pacient"]})]})]}),i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Prmrn pokrok"}),i.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(Ud.reduce((e,t)=>e+t.progress,0)/Ud.length),"%"]}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Dle plnu"})]})]}),i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Celkem sezen"}),i.jsx(mu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Ud.reduce((e,t)=>e+t.sessionsCompleted,0)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Dokoneno tento msc"})]})]}),i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"spnost"}),i.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"94%"}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Dosaench cl"})]})]})]}),i.jsxs(ja,{defaultValue:"active",className:"space-y-4",children:[i.jsxs(Zi,{children:[i.jsx(kn,{value:"active",children:"Aktivn plny"}),i.jsx(kn,{value:"library",children:"Knihovna cvik"})]}),i.jsx(Ln,{value:"active",className:"space-y-4",children:i.jsx("div",{className:"grid gap-4",children:Ud.map(e=>i.jsxs(Oe,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Je,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qe,{className:"text-xl",children:e.name}),i.jsx(Le,{children:e.type}),i.jsx(Le,{variant:e.status==="active"?"default":"secondary",children:e.status==="active"?"aktivn":e.status})]}),i.jsxs(Qt,{className:"flex items-center gap-4 mt-2",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(yE,{className:"h-4 w-4"}),e.patient]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(mu,{className:"h-4 w-4"}),e.duration]}),i.jsxs("span",{children:["Zatek: ",new Date(e.startDate).toLocaleDateString()]})]})]}),i.jsx(Q,{variant:"outline",size:"sm",children:"Upravit pln"})]})}),i.jsxs(De,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Celkov pokrok"}),i.jsxs("span",{className:"font-semibold",children:[e.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-secondary h-2 rounded-full overflow-hidden",children:i.jsx("div",{className:"bg-primary h-full transition-all",style:{width:`${e.progress}%`}})}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Sezen: ",e.sessionsCompleted," / ",e.totalSessions]}),i.jsxs("span",{children:["Zbv ",e.totalSessions-e.sessionsCompleted]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-sm font-semibold",children:"Cvien"}),i.jsx(Q,{variant:"ghost",size:"sm",children:i.jsx(_p,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"grid gap-2",children:e.exercises.map((t,n)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${t.completed?"bg-green-500 border-green-500":"border-muted-foreground"}`,children:t.completed&&i.jsx(Fa,{className:"h-3 w-3 text-white"})}),i.jsx("span",{className:`text-sm font-medium ${t.completed?"line-through text-muted-foreground":""}`,children:t.name})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsxs("span",{children:[t.sets," sri"]}),i.jsxs("span",{children:[t.reps," opakovn"]})]})]},n))})]})]})]},e.id))})}),i.jsx(Ln,{value:"library",className:"space-y-4",children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Knihovna cvik"}),i.jsx(Qt,{children:"Prochzejte a pidvejte cvien do terapeutickch pln"})]}),i.jsx(De,{children:i.jsx("div",{className:"grid gap-6",children:yCe.map((e,t)=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e.category}),i.jsxs(Le,{variant:"outline",children:[e.exercises.length," cvik"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.exercises.map((n,s)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors cursor-pointer",children:[i.jsx("span",{className:"text-sm font-medium",children:n}),i.jsx(Q,{variant:"ghost",size:"sm",children:i.jsx(eS,{className:"h-4 w-4"})})]},s))})]},t))})})]})})]})]})}const Hd={today:[{id:1,time:"09:00",patient:"Jana Novkov",treatment:"Rehabilitace sportovnch zrann",duration:"60 min",status:"confirmed",notes:"Kontroln sezen pro zrann kolene"},{id:2,time:"10:30",patient:"Petr Dvok",treatment:"Pooperan terapie",duration:"45 min",status:"confirmed",notes:"Prvotn vyeten po operaci ramene"},{id:3,time:"12:00",patient:"Eva Markov",treatment:"Lba chronick bolesti",duration:"60 min",status:"pending",notes:"Lba bolesti doln sti zad"},{id:4,time:"14:00",patient:"Tom Svoboda",treatment:"Zlepen mobility",duration:"45 min",status:"confirmed",notes:"Pravideln cvien mobility"},{id:5,time:"15:30",patient:"Lucie Prochzkov",treatment:"Lba bolesti krku",duration:"60 min",status:"confirmed",notes:"Lba krn ptee"}],upcoming:[{id:6,date:"2024-01-20",time:"10:00",patient:"Martin ern",treatment:"Rehabilitace kolene",duration:"60 min",status:"confirmed",notes:"Rehabilitace po operaci ACL"},{id:7,date:"2024-01-21",time:"11:00",patient:"Jana Novkov",treatment:"Rehabilitace sportovnch zrann",duration:"60 min",status:"confirmed",notes:"Pokraovn posilovn kolene"},{id:8,date:"2024-01-22",time:"09:30",patient:"Pavel Novotn",treatment:"Rovnovha a koordinace",duration:"45 min",status:"pending",notes:"Program prevence pd"},{id:9,date:"2024-01-23",time:"14:00",patient:"Monika Horkov",treatment:"Lba artritidy",duration:"60 min",status:"confirmed",notes:"Cvien mobility kloub"}]},E0={confirmed:{variant:"default",label:"Potvrzeno"},pending:{variant:"secondary",label:"ek"},completed:{variant:"outline",label:"Dokoneno"},cancelled:{variant:"destructive",label:"Zrueno"}};function wCe(){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Objednvky"}),i.jsx("p",{className:"text-muted-foreground",children:"Spravujte harmonogram objednvek a nvtvy pacient."})]}),i.jsxs(Q,{children:[i.jsx(eS,{className:"mr-2 h-4 w-4"}),"Nov objednvka"]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Dnen objednvky"}),i.jsx(j0,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Hd.today.length}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[Hd.today.filter(e=>e.status==="confirmed").length," potvrzeno"]})]})]}),i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Tento tden"}),i.jsx(j0,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Hd.today.length+Hd.upcoming.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"V prbhu 5 dn"})]})]}),i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Prmrn dlka"}),i.jsx(mu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"55 min"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Na objednvku"})]})]}),i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Mra dokonen"}),i.jsx(Fa,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"96%"}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Vynikajc vkon"})]})]})]}),i.jsxs(ja,{defaultValue:"today",className:"space-y-4",children:[i.jsxs(Zi,{children:[i.jsx(kn,{value:"today",children:"Dnes"}),i.jsx(kn,{value:"upcoming",children:"Nadchzejc"}),i.jsx(kn,{value:"calendar",children:"Kalendn zobrazen"})]}),i.jsx(Ln,{value:"today",className:"space-y-4",children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Dnen harmonogram"}),i.jsx(Qt,{children:"Vechny dnen objednvky"})]}),i.jsx(De,{className:"space-y-4",children:Hd.today.map(e=>i.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[80px] p-3 rounded-lg bg-primary/10",children:[i.jsx(mu,{className:"h-5 w-5 text-primary mb-1"}),i.jsx("span",{className:"text-sm font-bold text-primary",children:e.time}),i.jsx("span",{className:"text-xs text-muted-foreground",children:e.duration})]}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold",children:e.patient}),i.jsx(Le,{variant:E0[e.status].variant,children:E0[e.status].label})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.treatment})]})}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(yE,{className:"h-4 w-4"}),i.jsx("span",{children:e.notes})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs(Q,{variant:"outline",size:"sm",children:[i.jsx(Fa,{className:"mr-2 h-4 w-4"}),"Dokonit"]}),i.jsx(Q,{variant:"ghost",size:"sm",children:i.jsx(v1e,{className:"h-4 w-4"})})]})]},e.id))})]})}),i.jsx(Ln,{value:"upcoming",className:"space-y-4",children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Nadchzejc objednvky"}),i.jsx(Qt,{children:"Naplnovan objednvky na nsledujcch 7 dn"})]}),i.jsx(De,{className:"space-y-4",children:Hd.upcoming.map(e=>i.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[80px] p-3 rounded-lg bg-primary/10",children:[i.jsx(j0,{className:"h-5 w-5 text-primary mb-1"}),i.jsx("span",{className:"text-xs font-semibold text-primary",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),i.jsx("span",{className:"text-xs text-muted-foreground",children:e.time})]}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold",children:e.patient}),i.jsx(Le,{variant:E0[e.status].variant,children:E0[e.status].label})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.treatment})]})}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(mu,{className:"h-4 w-4"}),i.jsx("span",{children:e.duration}),i.jsx("span",{className:"mx-2",children:""}),i.jsx("span",{children:e.notes})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx(Q,{variant:"outline",size:"sm",children:"Peplnovat"}),i.jsx(Q,{variant:"ghost",size:"sm",children:i.jsx(vE,{className:"h-4 w-4"})})]})]},e.id))})]})}),i.jsx(Ln,{value:"calendar",className:"space-y-4",children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Kalendn zobrazen"}),i.jsx(Qt,{children:"Msn kalend se vemi objednvkami"})]}),i.jsx(De,{children:i.jsx("div",{className:"flex items-center justify-center h-[400px] text-muted-foreground",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx(j0,{className:"h-16 w-16 mx-auto opacity-50"}),i.jsx("p",{children:"Kalendn zobrazen bude brzy k dispozici"}),i.jsx("p",{className:"text-sm",children:"Integrovan komponenta kalende pijde v pt aktualizaci"})]})})})]})})]})]})}const sD={completed:{label:"Dokonceno",color:"text-emerald-600",dotColor:"bg-emerald-500"},active:{label:"Aktivni",color:"text-emerald-600",dotColor:"bg-emerald-500"},pending:{label:"Zpracovava se",color:"text-amber-600",dotColor:"bg-amber-500"},cancelled:{label:"Zruseno",color:"text-muted-foreground",dotColor:"bg-muted-foreground"},expired:{label:"Vyprselo",color:"text-muted-foreground",dotColor:"bg-muted-foreground"}},jCe={free_trial:"Zkusebni verze",monthly:"Mesicni predplatne",lifetime:"Dozivotni predplatne"},rD=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK"}).format(e),pm=e=>new Date(e).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"}),kCe=({className:e})=>{const{user:t}=Ht(),n=Jt(),[s,r]=v.useState("all"),[a,o]=v.useState(""),[l,u]=v.useState([]),[d,f]=v.useState(!0);v.useEffect(()=>{t?m():(u([]),f(!1))},[t]);const m=async()=>{if(t)try{const[{data:b},{data:w},{data:j}]=await Promise.all([ae.from("course_purchases").select(`
            id,
            amount_paid,
            purchased_at,
            course_id,
            courses (id, title, thumbnail_url)
          `).eq("user_id",t.id).order("purchased_at",{ascending:!1}),ae.from("orders").select(`
            id,
            status,
            total,
            created_at,
            order_items (
              id,
              quantity,
              price,
              product_id,
              products (id, name, image_url)
            )
          `).eq("user_id",t.id).order("created_at",{ascending:!1}),ae.from("subscriptions").select("id, plan_type, status, current_period_start, current_period_end, created_at").eq("user_id",t.id).order("created_at",{ascending:!1})]),k=[];if(b)for(const S of b){const C=S.courses;C&&k.push({id:`cp-${S.id}`,orderNumber:`CRS-${S.id.slice(0,8).toUpperCase()}`,orderDate:pm(S.purchased_at),rawDate:S.purchased_at,status:"completed",total:S.amount_paid,type:"course",items:[{id:C.id,name:C.title,image:C.thumbnail_url||"https://images.pexels.com/photos/4506109/pexels-photo-4506109.jpeg?auto=compress&cs=tinysrgb&w=400",price:S.amount_paid,detail:"Online kurz",quantity:1,type:"course",courseId:C.id}]})}if(w)for(const S of w){const C=(S.order_items||[]).map(T=>{const M=T.products;return{id:T.id,name:(M==null?void 0:M.name)||"Produkt",image:(M==null?void 0:M.image_url)||"https://images.pexels.com/photos/6111394/pexels-photo-6111394.jpeg?auto=compress&cs=tinysrgb&w=400",price:T.price,detail:`Ks: ${T.quantity}`,quantity:T.quantity,type:"product"}}),E={pending:"pending",paid:"completed",shipped:"active",delivered:"completed",cancelled:"cancelled"};k.push({id:`ord-${S.id}`,orderNumber:`ORD-${S.id.slice(0,8).toUpperCase()}`,orderDate:pm(S.created_at),rawDate:S.created_at,status:E[S.status]||S.status,total:S.total,type:"product",items:C})}if(j)for(const S of j){if(S.plan_type==="free_trial")continue;const C=S.status==="active"?"active":S.status==="canceled"||S.status==="cancelled"?"cancelled":S.status==="expired"?"expired":"completed",E=S.current_period_start&&S.current_period_end?`${pm(S.current_period_start)} - ${pm(S.current_period_end)}`:"";k.push({id:`sub-${S.id}`,orderNumber:`SUB-${S.id.slice(0,8).toUpperCase()}`,orderDate:pm(S.created_at),rawDate:S.created_at,status:C,total:S.plan_type==="lifetime"?9990:S.plan_type==="monthly"?499:0,type:"subscription",items:[{id:S.id,name:jCe[S.plan_type]||S.plan_type,image:"https://images.pexels.com/photos/3183150/pexels-photo-3183150.jpeg?auto=compress&cs=tinysrgb&w=400",price:S.plan_type==="lifetime"?9990:S.plan_type==="monthly"?499:0,detail:E,quantity:1,type:"subscription"}]})}k.sort((S,C)=>new Date(C.rawDate).getTime()-new Date(S.rawDate).getTime()),u(k)}catch(b){console.error("Error loading payments:",b)}finally{f(!1)}},g=l.filter(b=>{const w=s==="all"||s==="courses"&&b.type==="course"||s==="subscriptions"&&b.type==="subscription"||s==="products"&&b.type==="product",j=a===""||b.orderNumber.toLowerCase().includes(a.toLowerCase())||b.items.some(k=>k.name.toLowerCase().includes(a.toLowerCase()));return w&&j}),x=b=>{switch(b){case"course":return i.jsx(tc,{className:"size-4 text-blue-600"});case"subscription":return i.jsx(cle,{className:"size-4 text-emerald-600"});case"product":return i.jsx(ju,{className:"size-4 text-orange-600"})}};return d?i.jsx("section",{className:se("py-16 md:py-24",e),children:i.jsx("div",{className:"container mx-auto max-w-4xl",children:i.jsx("div",{className:"flex items-center justify-center py-16",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):i.jsx("section",{className:se("py-16 md:py-24",e),children:i.jsxs("div",{className:"container mx-auto max-w-4xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:"Vase objednavky"}),i.jsx("p",{className:"mt-1 text-muted-foreground",children:"Prehled vsech vasich plateb a nakupu"})]}),i.jsxs("div",{className:"mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx(ja,{value:s,onValueChange:r,children:i.jsxs(Zi,{children:[i.jsx(kn,{value:"all",children:"Vsechny"}),i.jsx(kn,{value:"courses",children:"Kurzy"}),i.jsx(kn,{value:"subscriptions",children:"Predplatne"}),i.jsx(kn,{value:"products",children:"Produkty"})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(Xa,{className:"absolute top-1/2 left-3 size-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(Re,{placeholder:"Hledat objednavky...",value:a,onChange:b=>o(b.target.value),className:"pl-9 sm:w-64"})]})]}),i.jsxs("div",{className:"space-y-6",children:[g.map(b=>{const w=sD[b.status]||sD.completed;return i.jsxs(Oe,{className:"gap-0 overflow-hidden p-0 shadow-none",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b px-5 py-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-x-5 gap-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[x(b.type),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Datum"}),i.jsx("p",{className:"text-sm font-medium",children:b.orderDate})]})]}),i.jsx(It,{orientation:"vertical",className:"h-8"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cislo"}),i.jsx("p",{className:"text-sm font-medium",children:b.orderNumber})]}),i.jsx(It,{orientation:"vertical",className:"h-8"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Celkem"}),i.jsx("p",{className:"text-sm font-medium",children:rD(b.total)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:se("size-2 rounded-full",w.dotColor)}),i.jsx("span",{className:se("text-sm font-medium",w.color),children:w.label})]})]}),i.jsx(De,{className:"p-0",children:b.items.map((j,k)=>i.jsxs("div",{children:[k>0&&i.jsx(It,{}),i.jsxs("div",{className:"flex gap-5 p-5",children:[i.jsx("div",{className:"size-24 shrink-0 overflow-hidden rounded-lg bg-muted sm:size-28",children:i.jsx(Za,{ratio:1,children:i.jsx("img",{src:j.image,alt:j.name,className:"size-full object-cover"})})}),i.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-medium",children:j.name}),j.type==="course"&&i.jsx(tc,{className:"h-4 w-4 text-primary"}),j.type==="subscription"&&i.jsx(sr,{className:"h-4 w-4 text-emerald-600"})]}),j.detail&&i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:j.detail})]}),i.jsx("p",{className:"shrink-0 text-sm font-semibold",children:rD(j.price)})]}),i.jsxs("div",{className:"mt-auto flex flex-wrap items-center gap-2 pt-3",children:[j.type==="course"&&j.courseId&&i.jsxs(Q,{variant:"secondary",size:"sm",onClick:()=>n(`/kurz/${j.courseId}`),children:[i.jsx(_v,{className:"mr-1.5 size-3.5"}),"Prehrat kurz"]}),j.type==="subscription"&&i.jsxs(Q,{variant:"secondary",size:"sm",onClick:()=>n("/prehled/fakturace"),children:[i.jsx(sr,{className:"mr-1.5 size-3.5"}),"Spravovat predplatne"]})]})]})]})]},j.id))}),i.jsx("div",{className:"flex items-center justify-end border-t bg-muted/20 px-5 py-3",children:i.jsx(Q,{variant:"ghost",size:"sm",children:"Potrebujete pomoc?"})})]},b.id)}),g.length===0&&i.jsx(Oe,{className:"gap-0 p-0 shadow-none",children:i.jsxs(De,{className:"flex flex-col items-center justify-center py-16 text-center",children:[i.jsx("div",{className:"mb-4 flex size-14 items-center justify-center rounded-full bg-muted",children:i.jsx(Hl,{className:"size-6 text-muted-foreground"})}),i.jsx("h2",{className:"text-lg font-semibold",children:"Zadne objednavky"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:a?`Zadne vysledky pro "${a}"`:"Zatim nemame zaznam o zadnych platbach"}),i.jsx(Q,{className:"mt-5",onClick:()=>n("/kurzy"),children:"Prohlednou kurzy"})]})})]})]})})};function NCe(){const{user:e}=Ht(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const{data:u}=await ae.from("course_purchases").select("id, course_id, amount_paid, purchased_at, stripe_payment_intent_id, courses(title)").eq("user_id",e.id).order("purchased_at",{ascending:!1}),{data:d}=await ae.from("course_enrollments").select("course_id, completed").eq("user_id",e.id),f=new Map((d||[]).map(g=>[g.course_id,g.completed])),m=(u||[]).map(g=>{const x=g.courses;return{id:g.id,course_id:g.course_id,amount_paid:g.amount_paid,purchased_at:g.purchased_at,stripe_payment_intent_id:g.stripe_payment_intent_id,course_title:(x==null?void 0:x.title)||"Neznamy kurz",completed:f.get(g.course_id)||!1}});n(m)}catch(u){console.error("Error loading billing data:",u)}finally{r(!1)}},o=t.reduce((u,d)=>u+d.amount_paid,0),l=t.filter(u=>u.completed).length;return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"hidden md:block",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Platby a Fakturace"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Spravujte sv platby a prohlejte zakoupen kurzy"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Celkov Vdaje"}),i.jsx(pO,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(o)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," zakoupench kurz"]})]})]})}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Dokonen Kurzy"}),i.jsx(Fa,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:l}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["z ",t.length," kurz"]})]})]})}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Aktivn Kurzy"}),i.jsx(mu,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length-l}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"probhajcch kurz"})]})]})})]}),i.jsxs(ja,{defaultValue:"courses",className:"space-y-6",children:[i.jsxs(Zi,{children:[i.jsx(kn,{value:"courses",children:"Kurzy"}),i.jsx(kn,{value:"orders",children:"Objednvky"})]}),i.jsxs(Ln,{value:"courses",className:"space-y-6",children:[i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Zakoupen Kurzy"}),i.jsx(Qt,{children:"Historie vaich nkup a plateb"})]}),i.jsx(De,{children:t.length>0?i.jsx("div",{className:"space-y-4",children:t.map(u=>i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:i.jsx(Fa,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold",children:u.course_title}),u.completed&&i.jsx(Le,{variant:"default",className:"bg-green-600",children:"Dokonceno"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Zakoupeno: ",new Date(u.purchased_at).toLocaleDateString("cs-CZ")]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-bold",children:new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(u.amount_paid)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Zaplaceno"})]})]},u.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(pO,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Zadne nakupy"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Jeste jste si nezakoupili zadny kurz"}),i.jsx(Q,{children:"Prohlednout Kurzy"})]})})]})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Platebn Metody"}),i.jsx(Qt,{children:"Spravujte sv platebn metody"})]}),i.jsxs(De,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(h1e,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold",children:"Kreditn Karta"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Vchoz platebn metoda"})]})]}),i.jsx(Q,{variant:"outline",size:"sm",children:"Pidat Kartu"})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Pi nkupu kurzu mete pout kartu nebo bankovn pevod"})]})]})}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Fakturan daje"}),i.jsx(Qt,{children:"Upravte sv fakturan informace"})]}),i.jsxs(De,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"text-muted-foreground",children:"Email pro faktury"}),i.jsx("p",{className:"font-medium",children:e==null?void 0:e.email})]})}),i.jsx(Q,{variant:"outline",className:"w-full",children:"Upravit Fakturan daje"})]})]})})]})]}),i.jsx(Ln,{value:"orders",children:i.jsx(kCe,{className:"py-0"})})]})]})}const SCe=()=>{const{user:e}=Ht(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const[{data:o},{data:l},{data:u}]=await Promise.all([ae.from("course_purchases").select("course_id").eq("user_id",e.id),ae.from("course_enrollments").select("course_id, completed").eq("user_id",e.id),ae.from("user_course_progress").select("course_id, completed").eq("user_id",e.id)]),d=new Set((o||[]).map(j=>j.course_id)),f=new Set((l||[]).map(j=>j.course_id)),m=new Set((l||[]).filter(j=>j.completed).map(j=>j.course_id)),g=new Map;for(const j of u||[]){const k=g.get(j.course_id)||{total:0,completed:0};k.total++,j.completed&&k.completed++,g.set(j.course_id,k)}const x=new Set([...d,...f]);if(x.size===0){n([]),r(!1);return}const{data:b}=await ae.from("courses").select("id, title, description, price, order_index, lessons_count, duration").in("id",Array.from(x)).eq("published",!0).order("order_index"),w=(b||[]).map(j=>{const k=m.has(j.id),S=g.get(j.id),C=S&&S.total>0?Math.round(S.completed/S.total*100):0;return{...j,status:k?"completed":"purchased",progress:k?100:C}});n(w)}catch(o){console.error("Error fetching courses:",o)}finally{r(!1)}};return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Vase Kurzy"}),i.jsx("p",{className:"text-muted-foreground",children:"Kurzy, ktere jste zakoupili. Kliknutim na kurz zacnete studovat."})]}),t.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Wt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Zatim zadne kurzy"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Prozkoumejte nasi nabidku kurzu a zacnete se ucit."}),i.jsx(Q,{asChild:!0,size:"lg",children:i.jsx(Be,{to:"/prehled/integrace",children:"Prohlizet kurzy"})})]}):i.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(o=>i.jsxs(Oe,{className:`relative transition-all duration-300 ${o.status==="completed"?"border-green-500/50 shadow-green-500/10":"hover:shadow-lg hover:border-primary/30"}`,children:[i.jsxs(Je,{children:[i.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:i.jsx(Le,{className:o.status==="completed"?"bg-green-500/20 text-green-600 border-green-500/30":"bg-primary/20 text-primary border-primary/30",children:o.status==="completed"?"Dokonceno":"Zakoupeno"})}),i.jsx(Qe,{className:"text-xl",children:o.title}),i.jsx(Qt,{className:"line-clamp-2",children:o.description})]}),i.jsx(De,{children:o.progress>0&&o.progress<100&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Pokrok"}),i.jsxs("span",{className:"font-medium",children:[Math.round(o.progress),"%"]})]}),i.jsx(Hi,{value:o.progress,className:"h-2"})]})}),i.jsx(Xbe,{children:i.jsx(Q,{className:"w-full",variant:o.status==="completed"?"outline":"default",asChild:!0,children:i.jsxs(Be,{to:`/kurz/${o.id}`,children:[o.status==="completed"?i.jsx(Fs,{className:"h-4 w-4 mr-2"}):i.jsx(Va,{className:"h-4 w-4 mr-2",fill:"currentColor"}),o.status==="completed"?"Zopakovat kurz":"Spustit kurz"]})})})]},o.id))})]})};function _Ce(){return i.jsx(SCe,{})}function CCe(){const{user:e}=Ht(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const[{data:u},{data:d}]=await Promise.all([ae.from("course_purchases").select("course_id").eq("user_id",e.id),ae.from("course_enrollments").select("course_id, completed, enrolled_at").eq("user_id",e.id)]),f=new Set((u||[]).map(C=>C.course_id)),m=new Map((d||[]).map(C=>[C.course_id,C])),g=new Set([...f,...(d||[]).map(C=>C.course_id)]);if(g.size===0){n([]),r(!1);return}const[{data:x},{data:b},{data:w}]=await Promise.all([ae.from("courses").select("id, title, description, thumbnail_url, lessons_count, duration").in("id",Array.from(g)).eq("published",!0).order("order_index"),ae.from("user_course_progress").select("course_id, lesson_id, completed").eq("user_id",e.id),ae.from("course_lessons").select("id, course_id").in("course_id",Array.from(g))]),j=new Map;for(const C of w||[])j.set(C.course_id,(j.get(C.course_id)||0)+1);const k=new Map;for(const C of b||[])C.completed&&k.set(C.course_id,(k.get(C.course_id)||0)+1);const S=(x||[]).map(C=>{const E=m.get(C.id),T=j.get(C.id)||C.lessons_count||0,M=k.get(C.id)||0,z=T>0?Math.round(M/T*100):0,A=(E==null?void 0:E.completed)||z===100;return{...C,completedLessons:M,totalLessons:T,progress:A?100:z,isCompleted:A,enrolledAt:(E==null?void 0:E.enrolled_at)||""}});n(S)}catch(u){console.error("Error fetching courses:",u)}finally{r(!1)}};if(s)return i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})});const o=t.filter(u=>!u.isCompleted),l=t.filter(u=>u.isCompleted);return i.jsxs("div",{className:"space-y-8 mx-auto max-w-5xl",children:[i.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"hidden md:block",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Moje Kurzy"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Kurzy, ktere jste zakoupili. Vyberte kurz pro zobrazeni detailu."})]}),t.length===0?i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-center py-16",children:[i.jsx(Wt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Zatim zadne kurzy"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Prozkoumejte nasi nabidku kurzu a zacnete se ucit."}),i.jsx(Q,{asChild:!0,size:"lg",children:i.jsx(Be,{to:"/prehled/integrace",children:"Prohlizet kurzy"})})]}):i.jsxs("div",{className:"space-y-8",children:[o.length>0&&i.jsx(iD,{title:"Probihajici",courses:o,delay:.1}),l.length>0&&i.jsx(iD,{title:"Dokoncene",courses:l,delay:o.length>0?.3:.1})]})]})}function iD({title:e,courses:t,delay:n}){return i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n},children:[i.jsx("h2",{className:"text-lg font-semibold mb-4 text-muted-foreground",children:e}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map((s,r)=>i.jsx(ECe,{course:s,index:r},s.id))})]})}function ECe({course:e,index:t}){return i.jsx(ee.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.4,delay:t*.05},children:i.jsx(Be,{to:`/prehled/moje-kurzy/${e.id}`,className:"block group",children:i.jsx(Oe,{className:"h-full transition-all duration-200 hover:shadow-lg hover:border-primary/30 group-hover:-translate-y-0.5",children:i.jsxs(De,{className:"p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),i.jsx(Le,{variant:"outline",className:e.isCompleted?"border-green-500/30 text-green-600 bg-green-500/10 shrink-0":"border-primary/30 text-primary bg-primary/10 shrink-0",children:e.isCompleted?i.jsxs(i.Fragment,{children:[i.jsx(Fs,{className:"h-3 w-3 mr-1"})," Hotovo"]}):i.jsxs(i.Fragment,{children:[i.jsx(Va,{className:"h-3 w-3 mr-1"})," Aktivni"]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[e.completedLessons," / ",e.totalLessons," lekci"]}),i.jsxs("span",{className:"font-medium tabular-nums",children:[e.progress,"%"]})]}),i.jsx(Hi,{value:e.progress,className:"h-2"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Bo,{className:"h-3 w-3"}),e.totalLessons," lekci"]}),e.duration>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(on,{className:"h-3 w-3"}),e.duration," min"]})]})]})})})})}function TCe(){const{courseId:e}=Ho(),{user:t}=Ht(),n=Jt(),[s,r]=v.useState(null),[a,o]=v.useState([]),[l,u]=v.useState(new Map),[d,f]=v.useState(!1),[m,g]=v.useState(!1),[x,b]=v.useState(null),[w,j]=v.useState(!0);v.useEffect(()=>{t&&e&&k()},[t,e]);const k=async()=>{if(!(!t||!e))try{const[{data:D},{data:B},{data:$},{data:q},{data:Z}]=await Promise.all([ae.from("courses").select("id, title, description, thumbnail_url, lessons_count, duration, category, level, instructor, package_id, order_index").eq("id",e).maybeSingle(),ae.from("course_lessons").select("id, title, description, duration, order_index").eq("course_id",e).order("order_index"),ae.from("course_enrollments").select("id, completed, enrolled_at").eq("user_id",t.id).eq("course_id",e).maybeSingle(),ae.from("course_purchases").select("id").eq("user_id",t.id).eq("course_id",e).maybeSingle(),ae.from("user_course_progress").select("lesson_id, completed, completed_at, progress_percent").eq("user_id",t.id).eq("course_id",e)]);if(D&&r(D),B&&o(B),f(!!$||!!q),g(($==null?void 0:$.completed)||!1),b(($==null?void 0:$.enrolled_at)||null),Z){const F=new Map;for(const J of Z)F.set(J.lesson_id,J);u(F)}}catch(D){console.error("Error loading course detail:",D)}finally{j(!1)}},S=Array.from(l.values()).filter(D=>D.completed).length,C=a.length,E=C>0?Math.round(S/C*100):0,T=a.reduce((D,B)=>D+B.duration,0),M=D=>{const B=a[D],$=l.get(B.id);if($!=null&&$.completed)return"completed";if(D===0)return"available";const q=a[D-1],Z=l.get(q.id);if(!(Z!=null&&Z.completed))return"locked";if(Z.completed_at){const F=new Date(Z.completed_at),J=new Date,P=new Date(F.getFullYear(),F.getMonth(),F.getDate()),I=new Date(J.getFullYear(),J.getMonth(),J.getDate());if(P.getTime()>=I.getTime())return"daily_locked"}return"available"},z=()=>{var D;for(let B=0;B<a.length;B++)if(M(B)==="available"&&!((D=l.get(a[B].id))!=null&&D.completed))return B;return null};if(w)return i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})});if(!s||!d)return i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Wt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Kurz nenalezen"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Tento kurz neexistuje nebo k nemu nemate pristup."}),i.jsx(Q,{asChild:!0,variant:"outline",children:i.jsx(Be,{to:"/prehled/moje-kurzy",children:"Zpet na moje kurzy"})})]});const A=z();return i.jsxs("div",{className:"space-y-6 mx-auto max-w-5xl",children:[i.jsx(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsx(Q,{variant:"ghost",size:"sm",asChild:!0,className:"mb-4 -ml-2 text-muted-foreground hover:text-foreground",children:i.jsxs(Be,{to:"/prehled/moje-kurzy",children:[i.jsx(da,{className:"h-4 w-4 mr-1"}),"Zpet na moje kurzy"]})})}),i.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},children:i.jsx(Oe,{children:i.jsx(De,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-6",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[m?i.jsxs(Le,{className:"bg-green-500/20 text-green-600 border-green-500/30",children:[i.jsx(lc,{className:"h-3 w-3 mr-1"}),"Dokonceno"]}):E>0?i.jsxs(Le,{className:"bg-primary/20 text-primary border-primary/30",children:[i.jsx(Va,{className:"h-3 w-3 mr-1"}),"Probiha"]}):i.jsxs(Le,{variant:"outline",children:[i.jsx(Wt,{className:"h-3 w-3 mr-1"}),"Nezahajeno"]}),s.level&&s.level!=="beginner"&&i.jsx(Le,{variant:"outline",className:"capitalize",children:s.level})]}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:s.title}),s.description&&i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:s.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Bo,{className:"h-4 w-4"}),C," lekci"]}),T>0&&i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(on,{className:"h-4 w-4"}),T," min celkem"]}),s.instructor&&i.jsxs("span",{className:"flex items-center gap-1.5",children:["Instruktor: ",s.instructor]}),x&&i.jsxs("span",{className:"flex items-center gap-1.5",children:["Zapsano: ",new Date(x).toLocaleDateString("cs-CZ")]})]})]}),i.jsxs("div",{className:"lg:w-64 shrink-0 space-y-4",children:[i.jsxs("div",{className:"rounded-xl border bg-card p-4 space-y-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-3xl font-bold tabular-nums",children:[E,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Celkovy pokrok"})]}),i.jsx(Hi,{value:E,className:"h-2.5"}),i.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[S," z ",C," lekci dokonceno"]})]}),A!==null&&i.jsxs(Q,{className:"w-full",onClick:()=>n(`/kurz/${s.id}/cast/${A+1}`),children:[i.jsx(Va,{className:"h-4 w-4 mr-2"}),"Pokracovat ve studiu"]}),m&&i.jsxs(Q,{variant:"outline",className:"w-full",onClick:()=>n(`/kurz/${s.id}/cast/1`),children:[i.jsx(ur,{className:"h-4 w-4 mr-2"}),"Zopakovat kurz"]})]})]})})})}),i.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-4",children:[{label:"Celkem lekci",value:C,icon:Bo},{label:"Dokonceno",value:S,icon:Fs},{label:"Zbyvajicich",value:C-S,icon:Wt},{label:"Celkovy cas",value:`${T} min`,icon:on}].map(D=>i.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:i.jsx(Oe,{children:i.jsxs(De,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg bg-primary/10 p-2",children:i.jsx(D.icon,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold",children:D.value}),i.jsx("p",{className:"text-xs text-muted-foreground",children:D.label})]})]})})},D.label))}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:i.jsxs(Oe,{children:[i.jsx(Je,{children:i.jsx(Qe,{className:"text-lg",children:"Prehled lekci"})}),i.jsx(De,{className:"p-0",children:i.jsx("div",{className:"divide-y",children:a.map((D,B)=>{const $=M(B),q=l.get(D.id),Z=$==="completed"||$==="available";return i.jsxs("button",{type:"button",disabled:!Z,onClick:()=>{Z&&n(`/kurz/${s.id}/cast/${B+1}`)},className:se("w-full flex items-center gap-4 px-6 py-4 text-left transition-colors",Z&&"hover:bg-accent/50 cursor-pointer",!Z&&"cursor-not-allowed opacity-60"),children:[i.jsx("div",{className:se("w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold shrink-0",$==="completed"&&"bg-green-500 text-white",$==="available"&&"bg-primary/10 text-primary",$==="daily_locked"&&"bg-amber-500/15 text-amber-600",$==="locked"&&"bg-muted text-muted-foreground"),children:$==="completed"?i.jsx(Fs,{className:"h-5 w-5"}):$==="daily_locked"?i.jsx(Oo,{className:"h-4 w-4"}):$==="locked"?i.jsx($l,{className:"h-4 w-4"}):B+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:D.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[i.jsx(on,{className:"h-3 w-3"}),i.jsxs("span",{children:[D.duration," min"]}),i.jsx("span",{className:"text-muted-foreground/40",children:"|"}),i.jsxs("span",{children:["Lekce ",B+1," z ",C]})]})]}),i.jsxs("div",{className:"shrink-0 flex items-center gap-2",children:[$==="completed"&&i.jsx(Le,{variant:"outline",className:"text-green-600 border-green-500/30 text-xs",children:"Dokonceno"}),$==="daily_locked"&&i.jsxs(Le,{variant:"outline",className:"text-amber-600 border-amber-500/30 text-xs gap-1",children:[i.jsx(Oo,{className:"h-3 w-3"}),"Zitra"]}),$==="available"&&!(q!=null&&q.completed)&&i.jsx(Va,{className:"h-4 w-4 text-muted-foreground"}),Z&&i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]})]},D.id)})})})]})})]})}var zCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],MCe=zCe.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),ACe="Label",nU=v.forwardRef((e,t)=>i.jsx(MCe.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));nU.displayName=ACe;var sU=nU;const RCe=cg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=v.forwardRef(({className:e,...t},n)=>i.jsx(sU,{ref:n,className:se(RCe(),e),...t}));Ie.displayName=sU.displayName;function rU({userId:e}){const[t,n]=v.useState(null),[s,r]=v.useState(!0),a=Jt();v.useEffect(()=>{o()},[e]);async function o(){r(!0);try{const g=await fetch(`https://smcvwjbdrrswbdfidlgz.supabase.co/rest/v1/subscriptions?user_id=eq.${e}&select=*`,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"}});if(g.ok){const x=await g.json();x&&x.length>0&&n(x[0])}}catch(g){console.error("Error fetching subscription:",g)}finally{r(!1)}}if(s)return i.jsx(Oe,{children:i.jsx(De,{className:"p-6",children:i.jsxs("div",{className:"animate-pulse space-y-3",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),i.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})});const l=(t==null?void 0:t.status)==="active"||(t==null?void 0:t.status)==="trialing",u=g=>{switch(g){case"free_trial":return"Zkuebn verze zdarma";case"monthly":return"Msn pln";case"lifetime":return"Doivotn pstup";default:return g}},d=()=>{if(!(t!=null&&t.current_period_end))return 0;const g=new Date(t.current_period_end),x=new Date,b=g.getTime()-x.getTime();return Math.ceil(b/(1e3*60*60*24))},f=t?u(t.plan_type):"",m=d();return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[(t==null?void 0:t.plan_type)==="lifetime"?i.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-yellow-500/10",children:i.jsx(Ch,{className:"size-6 text-yellow-600"})}):(t==null?void 0:t.plan_type)==="free_trial"?i.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-blue-500/10",children:i.jsx(du,{className:"size-6 text-blue-600"})}):i.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-green-500/10",children:i.jsx(La,{className:"size-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktuln pln"}),i.jsx("p",{className:"text-lg font-semibold",children:t?f:"dn pedplatn"})]})]}),t&&i.jsx(Le,{variant:l?"default":"secondary",className:l?"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/10":"",children:l?"Aktivn":"Neaktivn"})]}),t?i.jsxs(i.Fragment,{children:[t.plan_type==="free_trial"&&m>0&&i.jsxs("div",{className:"rounded-lg bg-blue-500/10 p-4 border border-blue-500/20",children:[i.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[m," ",m===1?"den":m<5?"dny":"dn"," zbv ve zkuebn verzi"]}),i.jsx("p",{className:"mt-1 text-xs text-blue-600/80",children:"Upgradujte nyn pro pokraovn pstupu po skonen zkuebn doby"})]}),t.plan_type==="monthly"&&m>0&&i.jsxs("div",{className:"rounded-lg bg-green-500/10 p-4 border border-green-500/20",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"Zbvajc as pedplatnho"}),i.jsx(Le,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:"Aktivn"})]}),i.jsxs("p",{className:"mt-2 text-2xl font-bold text-green-600",children:[m," ",m===1?"den":m<5?"dny":"dn"]}),i.jsxs("p",{className:"mt-1 text-xs text-green-600/80",children:["Vae pedplatn se automaticky obnov ",t.current_period_end?new Date(t.current_period_end).toLocaleDateString("cs-CZ"):"N/A"]})]}),t.plan_type!=="lifetime"&&t.current_period_end&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground rounded-lg bg-muted p-3",children:[i.jsx(ha,{className:"size-4"}),i.jsxs("span",{children:[t.plan_type==="free_trial"?"Zkuebn verze kon":"Obnovuje se"," ",new Date(t.current_period_end).toLocaleDateString("cs-CZ",{year:"numeric",month:"long",day:"numeric"})]})]}),t.plan_type==="lifetime"&&i.jsx("div",{className:"rounded-lg bg-yellow-500/10 p-4 border border-yellow-500/20",children:i.jsx("p",{className:"text-sm font-medium text-yellow-700",children:"Mte doivotn pstup ke vem funkcm"})}),i.jsxs("div",{className:"space-y-2 pt-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID pedplatnho:"}),i.jsxs("span",{className:"font-mono text-xs",children:[t.id.slice(0,8),"..."]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Typ plnu:"}),i.jsx("span",{className:"font-medium",children:f})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Datum vytvoen:"}),i.jsx("span",{children:new Date(t.created_at).toLocaleDateString("cs-CZ")})]})]}),t.plan_type!=="lifetime"&&i.jsx(Q,{variant:"outline",className:"w-full",onClick:()=>a("/prehled/predplatne"),children:t.plan_type==="free_trial"?"Upgradovat pln":"Zmnit pln"})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"Nemte aktivn pedplatn. Vyberte si pln a zante vyuvat vechny funkce."}),i.jsx(Q,{className:"w-full",onClick:()=>a("/prehled/predplatne"),children:"Zobrazit plny"})]})]})}function OCe(){var E;const{user:e,signOut:t}=Ht(),[n,s]=v.useState(!1),[r,a]=v.useState(!0),[o,l]=v.useState(!1),[u,d]=v.useState(""),[f,m]=v.useState(""),[g,x]=v.useState(""),[b,w]=v.useState({full_name:"",phone:"",company:"",website:"",location:"",bio:""});v.useEffect(()=>{if(!e)return;(async()=>{a(!0);const{data:M,error:z}=await ae.from("profiles").select("full_name, phone, company, website, location, bio").eq("id",e.id).maybeSingle();z?Se.error("Nepodailo se nast profil"):M&&w({full_name:M.full_name||"",phone:M.phone||"",company:M.company||"",website:M.website||"",location:M.location||"",bio:M.bio||""}),a(!1)})()},[e]);const j=async T=>{if(T.preventDefault(),!e)return;l(!0);const{error:M}=await ae.from("profiles").update({full_name:b.full_name,phone:b.phone,company:b.company,website:b.website,location:b.location,bio:b.bio,updated_at:new Date().toISOString()}).eq("id",e.id);M?Se.error("Nepodailo se uloit profil"):Se.success("Profil byl spn uloen!"),l(!1)},k=async T=>{if(T.preventDefault(),f!==g){Se.error("Hesla se neshoduj");return}if(f.length<6){Se.error("Heslo mus mt alespo 6 znak");return}s(!0);try{const{error:M}=await ae.auth.updateUser({password:f});if(M)throw M;Se.success("Heslo bylo spn aktualizovno!"),d(""),m(""),x("")}catch(M){Se.error(M.message||"Aktualizace hesla se nezdaila")}finally{s(!1)}},S=async()=>{try{await t(),Se.success("spn odhleno")}catch(T){Se.error(T.message||"Odhlen se nezdailo")}},C=(T,M)=>{w(z=>({...z,[T]:M}))};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"hidden md:block",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Nastaven"}),i.jsx("p",{className:"text-muted-foreground",children:"Spravujte sv nastaven tu a preference"})]}),i.jsxs(ja,{defaultValue:"profile",className:"space-y-6",children:[i.jsxs(Zi,{children:[i.jsx(kn,{value:"profile",children:"Profil"}),i.jsx(kn,{value:"subscription",children:"Pedplatn"}),i.jsx(kn,{value:"security",children:"Zabezpeen"}),i.jsx(kn,{value:"notifications",children:"Upozornn"})]}),i.jsx(Ln,{value:"profile",className:"space-y-6",children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Informace o profilu"}),i.jsx(Qt,{children:"Aktualizujte informace svho tu"})]}),i.jsx(De,{children:r?i.jsx("div",{className:"flex items-center justify-center py-8",children:i.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary/10",children:i.jsx(yE,{className:"h-10 w-10 text-primary"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:b.full_name||((E=e==null?void 0:e.email)==null?void 0:E.split("@")[0])}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e==null?void 0:e.email})]})]}),i.jsx(It,{}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ie,{htmlFor:"full_name",children:"Cel jmno"}),i.jsx(Re,{id:"full_name",value:b.full_name,onChange:T=>C("full_name",T.target.value),placeholder:"Vae cel jmno"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ie,{htmlFor:"phone",children:"Telefon"}),i.jsx(Re,{id:"phone",type:"tel",value:b.phone,onChange:T=>C("phone",T.target.value),placeholder:"+420 123 456 789"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ie,{htmlFor:"company",children:"Firma / Organizace"}),i.jsx(Re,{id:"company",value:b.company,onChange:T=>C("company",T.target.value),placeholder:"Nzev firmy"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ie,{htmlFor:"website",children:"Web"}),i.jsx(Re,{id:"website",type:"url",value:b.website,onChange:T=>C("website",T.target.value),placeholder:"https://vase-stranka.cz"})]}),i.jsxs("div",{className:"grid gap-2 sm:col-span-2",children:[i.jsx(Ie,{htmlFor:"location",children:"Lokace"}),i.jsx(Re,{id:"location",value:b.location,onChange:T=>C("location",T.target.value),placeholder:"Praha, esk republika"})]}),i.jsxs("div",{className:"grid gap-2 sm:col-span-2",children:[i.jsx(Ie,{htmlFor:"bio",children:"O mn"}),i.jsx(fr,{id:"bio",value:b.bio,onChange:T=>C("bio",T.target.value),placeholder:"Krtce o sob...",rows:3})]})]}),i.jsx(It,{}),i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ie,{htmlFor:"email",children:"Email"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Re,{id:"email",type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"flex-1"}),i.jsx(Q,{variant:"outline",disabled:!0,children:"Oveno"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"V email je oven a nelze jej zmnit"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ie,{htmlFor:"created",children:"et vytvoen"}),i.jsx(Re,{id:"created",value:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString("cs-CZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",disabled:!0})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsxs(Q,{type:"submit",disabled:o,children:[i.jsx(b1e,{className:"mr-2 h-4 w-4"}),o?"Ukldm...":"Uloit profil"]})})]})})]})}),i.jsx(Ln,{value:"subscription",className:"space-y-6",children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Informace o pedplatnm"}),i.jsx(Qt,{children:"Spravujte sv pedplatn a licenci"})]}),i.jsx(De,{className:"space-y-6",children:e&&i.jsx(rU,{userId:e.id})})]})}),i.jsxs(Ln,{value:"security",className:"space-y-6",children:[i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Zmna hesla"}),i.jsx(Qt,{children:"Aktualizujte sv heslo pro zabezpeen tu"})]}),i.jsx(De,{children:i.jsxs("form",{onSubmit:k,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ie,{htmlFor:"currentPassword",children:"Souasn heslo"}),i.jsx(Re,{id:"currentPassword",type:"password",value:u,onChange:T=>d(T.target.value),placeholder:"Zadejte souasn heslo"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ie,{htmlFor:"newPassword",children:"Nov heslo"}),i.jsx(Re,{id:"newPassword",type:"password",value:f,onChange:T=>m(T.target.value),placeholder:"Zadejte nov heslo",required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ie,{htmlFor:"confirmPassword",children:"Potvrzen novho hesla"}),i.jsx(Re,{id:"confirmPassword",type:"password",value:g,onChange:T=>x(T.target.value),placeholder:"Potvrte nov heslo",required:!0})]}),i.jsxs(Q,{type:"submit",disabled:n,children:[i.jsx(_B,{className:"mr-2 h-4 w-4"}),n?"Aktualizuji...":"Aktualizovat heslo"]})]})})]}),i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Aktivn relace"}),i.jsx(Qt,{children:"Spravujte sv aktivn relace nap zazenmi"})]}),i.jsx(De,{children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Aktuln relace"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Toto zazen - Aktivn nyn"})]}),i.jsx(Q,{variant:"outline",size:"sm",disabled:!0,children:"Aktivn"})]})})})]}),i.jsxs(Oe,{className:"border-destructive",children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Nebezpen zna"}),i.jsx(Qt,{children:"Nevratn a destruktivn akce"})]}),i.jsx(De,{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-destructive/50 p-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Odhlsit se"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Odhlsit se ze svho tu na tomto zazen"})]}),i.jsxs(Q,{variant:"destructive",size:"sm",onClick:S,children:[i.jsx(g1e,{className:"mr-2 h-4 w-4"}),"Odhlsit se"]})]})})]})]}),i.jsx(Ln,{value:"notifications",className:"space-y-6",children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"E-mailov upozornn"}),i.jsx(Qt,{children:"Spravujte, jak pijmte e-mailov upozornn"})]}),i.jsxs(De,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Marketingov e-maily"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dostvejte e-maily o novch funkcch a aktualizacch"})]}),i.jsx(Q,{variant:"outline",size:"sm",children:"Konfigurovat"})]}),i.jsx(It,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Bezpenostn upozornn"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dostvejte upozornn o zabezpeen vaeho tu"})]}),i.jsx(Q,{variant:"outline",size:"sm",disabled:!0,children:"Vdy zapnuto"})]})]})]})})]})]})}const aD={free_trial:["Pristup k vybranemu obsahu","Casove omezene","Zakladni podpora"],monthly:["Plny pristup ke vsem kurzum","Mesicni aktualizace obsahu","Prioritni podpora","Moznost zrusit kdykoliv"],lifetime:["Dozivotni pristup ke vsem kurzum","Vsechny budouci aktualizace","VIP podpora","Exkluzivni bonusovy obsah"]},oD={free_trial:"Zkusebni verze",monthly:"Mesicni predplatne",lifetime:"Dozivotni predplatne"},DCe=[{icon:n8,name:"Zkusebni verze zdarma",planType:"free_trial",price:0,duration:"3 dny",features:["3denni zkusebni verze zdarma","Plny pristup ke vsem funkcim","Zakladni nastroje pro spravu ukolu","Pristup k 1 dashboardu","Zakladni podpora"]},{icon:VL,name:"Mesicni plan",planType:"monthly",price:730,duration:"mesicne",popular:!0,features:["Vsechny funkce zkusebni verze","Neomezene seznamy ukolu","Pokrocila synchronizace kalendare","Poznatky rizene AI","Prioritni e-mailova podpora","Zrusit kdykoli"]},{icon:BL,name:"Dozivotni pristup",planType:"lifetime",price:4870,duration:"jednorazove",features:["Vsechny mesicni funkce","Dozivotni pristup - zaplatte jednou","Spoluprace v realnem case","Vlastni integrace","Prioritni podpora 24/7"]}];function PCe(){const{user:e,session:t}=Ht(),{subscription:n,hasActiveSubscription:s,refetch:r}=pg(),[a,o]=v.useState(!1),[l,u]=v.useState(null),d=async()=>{o(!0);try{await r(),Se.success("Predplatne aktualizovano")}catch{Se.error("Nepodarilo se aktualizovat")}finally{o(!1)}},f=v.useCallback(async b=>{u(b);try{const w="https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/create-checkout-session",j=(t==null?void 0:t.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE",k=await fetch(w,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({planType:b})}),S=await k.json();if(!k.ok)throw new Error(S.error||"Failed to create checkout session");S.url&&(window.location.href=S.url)}catch(w){console.error("Checkout error:",w),Se.error("Nepodarilo se zahajit pokladnu. Zkuste to prosim znovu.")}finally{u(null)}},[t]),m=(n==null?void 0:n.plan_type)||"free_trial",g=aD[m]||aD.free_trial,x=b=>(n==null?void 0:n.plan_type)===b&&s;return i.jsxs("div",{className:"space-y-8 mx-auto max-w-4xl",children:[i.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"hidden md:block",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Predplatne"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Spravujte sve predplatne a pristup ke kurzum"})]}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e&&i.jsx(rU,{userId:e.id})}),i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[i.jsx(sr,{className:"h-5 w-5 text-muted-foreground"}),i.jsx("h2",{className:"text-lg font-bold",children:"Dostupne plany"})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:DCe.map((b,w)=>{const j=x(b.planType),k=b.icon;return i.jsx(ee.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2+w*.08},children:i.jsxs(Oe,{className:se("relative flex flex-col h-full transition-shadow",j&&"ring-2 ring-primary shadow-md",b.popular&&!j&&"border-primary/40"),children:[j&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:i.jsx(Le,{className:"bg-primary text-primary-foreground text-[10px] px-2.5 py-0.5 shadow-sm",children:"Aktualni plan"})}),b.popular&&!j&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:i.jsx(Le,{variant:"secondary",className:"text-[10px] px-2.5 py-0.5 shadow-sm",children:"Popularni"})}),i.jsxs(Je,{className:"pb-3 pt-5",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[i.jsx(k,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:b.name})]}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"text-3xl font-extrabold tracking-tight",children:b.price.toLocaleString("cs-CZ")}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Kc",b.planType==="monthly"?"/mes":""]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:b.duration})]}),i.jsxs(De,{className:"flex-1 flex flex-col pb-5",children:[i.jsx("ul",{className:"space-y-2 flex-1 mb-4",children:b.features.map(S=>i.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[i.jsx(ig,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:S})]},S))}),j?i.jsxs("div",{className:"flex items-center justify-center gap-1.5 py-2 rounded-lg bg-primary/5 border border-primary/20 text-primary text-xs font-semibold",children:[i.jsx(Ch,{className:"h-3.5 w-3.5"}),"Aktivni"]}):i.jsx(Q,{variant:b.popular?"default":"outline",size:"sm",className:"w-full",onClick:()=>f(b.planType),disabled:l===b.planType,children:l===b.planType?"Nacitani...":"Vybrat plan"})]})]})},b.planType)})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsxs(Qe,{className:"flex items-center gap-2",children:[i.jsx(sr,{className:"h-5 w-5"}),"Detaily planu"]}),i.jsx(Qt,{children:"Informace o vasem aktualnim planu"})]}),i.jsxs(De,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Plan"}),i.jsx(Le,{variant:s?"default":"secondary",children:oD[m]||m})]}),i.jsx(It,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[s?i.jsx(Fs,{className:"h-4 w-4 text-green-600"}):i.jsx(X_,{className:"h-4 w-4 text-amber-500"}),i.jsx("span",{className:"text-sm font-medium",children:s?"Aktivni":"Neaktivni"})]})]}),(n==null?void 0:n.current_period_end)&&i.jsxs(i.Fragment,{children:[i.jsx(It,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Platnost do"}),i.jsx("span",{className:"text-sm font-medium",children:new Date(n.current_period_end).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"})})]})]}),i.jsx(It,{}),i.jsxs(Q,{variant:"outline",className:"w-full",onClick:d,disabled:a,children:[i.jsx(t8,{className:`mr-2 h-4 w-4 ${a?"animate-spin":""}`}),"Aktualizovat stav"]})]})]})}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.35},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsxs(Qe,{className:"flex items-center gap-2",children:[i.jsx(Fs,{className:"h-5 w-5"}),"Vyhody vaseho planu"]}),i.jsx(Qt,{children:"Co vase predplatne zahrnuje"})]}),i.jsx(De,{children:i.jsx("ul",{className:"space-y-3",children:g.map((b,w)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Fs,{className:"h-4 w-4 text-green-600 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-sm",children:b})]},w))})})]})})]}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsxs(Qe,{className:"flex items-center gap-2",children:[i.jsx(ha,{className:"h-5 w-5"}),"Historie predplatneho"]}),i.jsx(Qt,{children:"Prehled zmen vaseho predplatneho"})]}),i.jsx(De,{children:n?i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(on,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:oD[m]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Aktivovano: ",new Date(n.created_at).toLocaleDateString("cs-CZ")]})]})]}),i.jsx(Le,{variant:n.status==="active"?"default":"secondary",children:n.status==="active"?"Aktivni":n.status})]})}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(on,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Zadna historie predplatneho"})]})})]})})]})}function ICe(){const{user:e}=Ht(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const{data:u}=await ae.from("course_purchases").select("id, amount_paid, purchased_at, stripe_payment_intent_id, courses(title)").eq("user_id",e.id).order("purchased_at",{ascending:!1}),d=(u||[]).map(f=>{var m;return{id:f.id,courseTitle:((m=f.courses)==null?void 0:m.title)||"Neznamy kurz",amount:f.amount_paid,date:f.purchased_at,paymentId:f.stripe_payment_intent_id}});n(d)}catch(u){console.error("Error loading invoices:",u)}finally{r(!1)}},o=u=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(u),l=t.reduce((u,d)=>u+d.amount,0);return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"space-y-8 mx-auto max-w-4xl",children:[i.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"hidden md:block",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Faktury"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Prehled vsech vasich faktur a plateb"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Celkove vydaje"}),i.jsx(Eh,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o(l)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," faktur"]})]})]})}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Posledni platba"}),i.jsx(ha,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length>0?new Date(t[0].date).toLocaleDateString("cs-CZ",{day:"numeric",month:"short"}):"-"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t.length>0?o(t[0].amount):"Zadne platby"})]})]})}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Prumerna platba"}),i.jsx($a,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length>0?o(Math.round(l/t.length)):"-"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Na fakturu"})]})]})})]}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Historie faktur"}),i.jsx(Qt,{children:"Vsechny vase faktury a doklady o platbe"})]}),i.jsx(De,{children:t.length>0?i.jsx("div",{className:"space-y-3",children:t.map((u,d)=>i.jsxs("div",{children:[d>0&&i.jsx(It,{className:"my-3"}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-muted",children:i.jsx($a,{className:"h-5 w-5 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:u.courseTitle}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(u.date).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"})})]})]}),i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-semibold",children:o(u.amount)}),i.jsx(Le,{variant:"outline",className:"text-xs",children:"Zaplaceno"})]}),i.jsx(Q,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(q_,{className:"h-4 w-4"})})]})]})]},u.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx($a,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),i.jsx("h3",{className:"text-base font-semibold mb-1",children:"Zadne faktury"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Zatim nemame zaznam o zadnych platbach"})]})})]})})]})}function LCe(){const{user:e}=Ht(),[t,n]=v.useState([]),[s,r]=v.useState(!0),[a,o]=v.useState(0);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{const[{data:g},{data:x},{data:b}]=await Promise.all([ae.from("course_enrollments").select("course_id, completed, courses!inner(id, title)").eq("user_id",e.id),ae.from("user_course_progress").select("course_id, lesson_id, completed, last_watched_at").eq("user_id",e.id),ae.from("course_lessons").select("id, course_id")]),w=new Map;for(const E of b||[])w.set(E.course_id,(w.get(E.course_id)||0)+1);const j=new Map,k=new Map;for(const E of x||[]){E.completed&&j.set(E.course_id,(j.get(E.course_id)||0)+1);const T=k.get(E.course_id);(!T||E.last_watched_at&&E.last_watched_at>T)&&k.set(E.course_id,E.last_watched_at)}const S=(g||[]).map(E=>{var A;const T=w.get(E.course_id)||0,M=j.get(E.course_id)||0,z=T>0?Math.round(M/T*100):0;return{courseId:E.course_id,courseTitle:((A=E.courses)==null?void 0:A.title)||"",totalLessons:T,completedLessons:M,progress:E.completed?100:z,isCompleted:E.completed||z===100,lastActivity:k.get(E.course_id)||null}});S.sort((E,T)=>E.isCompleted!==T.isCompleted?E.isCompleted?1:-1:T.progress-E.progress),n(S);const C=(x||[]).filter(E=>E.completed).length;o(Math.round(C*.75))}catch(g){console.error("Error loading progress:",g)}finally{r(!1)}},u=t.filter(g=>g.isCompleted).length,d=t.filter(g=>!g.isCompleted).length,f=t.reduce((g,x)=>g+x.completedLessons,0),m=t.length>0?Math.round(t.reduce((g,x)=>g+x.progress,0)/t.length):0;return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"space-y-8 mx-auto max-w-5xl",children:[i.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"hidden md:block",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Pokrok ve studiu"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Sledujte svuj pokrok a ucebni aktivitu"})]}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Celkovy pokrok",value:`${m}%`,icon:Pu,sub:"Prumerny pokrok"},{label:"Dokoncene kurzy",value:u,icon:Fs,sub:`z ${t.length} kurzu`},{label:"Probihajici",value:d,icon:Wt,sub:"Aktivni kurzy"},{label:"Dokoncene lekce",value:f,icon:Bo,sub:`~${a}h studia`}].map((g,x)=>i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:x*.05},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:g.label}),i.jsx(g.icon,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:g.value}),i.jsx("p",{className:"text-xs text-muted-foreground",children:g.sub})]})]})},g.label))}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Pokrok v kurzech"}),i.jsx(Qt,{children:"Detailni prehled vaseho pokroku v jednotlivych kurzech"})]}),i.jsx(De,{children:t.length>0?i.jsx("div",{className:"space-y-5",children:t.map(g=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium truncate",children:g.courseTitle}),g.isCompleted&&i.jsx(Le,{variant:"outline",className:"shrink-0 border-green-500/30 text-green-600 bg-green-500/10",children:"Dokonceno"})]}),i.jsxs("span",{className:"text-sm font-semibold tabular-nums shrink-0",children:[g.progress,"%"]})]}),i.jsx(Hi,{value:g.progress,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[g.completedLessons," / ",g.totalLessons," lekci"]}),g.lastActivity&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(on,{className:"h-3 w-3"}),"Posledni aktivita: ",new Date(g.lastActivity).toLocaleDateString("cs-CZ")]})]})]},g.courseId))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Oa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),i.jsx("h3",{className:"text-base font-semibold mb-1",children:"Zadny pokrok"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Zacnete studovat kurzy a sledujte svuj pokrok"}),i.jsx(Q,{asChild:!0,children:i.jsx(Be,{to:"/prehled/integrace",children:"Prohlidnout kurzy"})})]})})]})})]})}function $Ce(){const{user:e}=Ht(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const[{data:m},{data:g},{data:x}]=await Promise.all([ae.from("course_enrollments").select("course_id, completed, courses!inner(id, title)").eq("user_id",e.id),ae.from("user_course_progress").select("course_id, lesson_id, completed").eq("user_id",e.id),ae.from("course_lessons").select("id, course_id")]),b=new Map;for(const k of x||[])b.set(k.course_id,(b.get(k.course_id)||0)+1);const w=new Map;for(const k of g||[])k.completed&&w.set(k.course_id,(w.get(k.course_id)||0)+1);const j=(m||[]).map(k=>{var T;const S=b.get(k.course_id)||0,C=w.get(k.course_id)||0,E=S>0?Math.round(C/S*100):0;return{courseId:k.course_id,courseTitle:((T=k.courses)==null?void 0:T.title)||"",totalLessons:S,completedLessons:C,score:k.completed?100:E,isCompleted:k.completed||E===100}});j.sort((k,S)=>S.score-k.score),n(j)}catch(m){console.error("Error loading results:",m)}finally{r(!1)}},o=t.filter(m=>m.isCompleted).length,l=t.length>0?Math.round(t.reduce((m,g)=>m+g.score,0)/t.length):0,u=t.length>0?Math.max(...t.map(m=>m.score)):0,d=m=>m>=80?"text-green-600":m>=50?"text-amber-600":"text-red-500",f=(m,g)=>g?{label:"Splneno",variant:"default",className:"bg-green-600"}:m>=80?{label:"Vyborne",variant:"default",className:"bg-green-600"}:m>=50?{label:"Probihajici",variant:"secondary",className:""}:{label:"Zacatek",variant:"outline",className:""};return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"space-y-8 mx-auto max-w-5xl",children:[i.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"hidden md:block",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Vysledky testu"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Prehled vasich vysledku a hodnoceni v kurzech"})]}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Prumerne hodnoceni",value:`${l}%`,icon:lg,sub:"Ze vsech kurzu"},{label:"Nejlepsi vysledek",value:`${u}%`,icon:lc,sub:"Maximalni skore"},{label:"Splnene kurzy",value:o,icon:$a,sub:`z ${t.length} celkem`},{label:"Celkovy pokrok",value:`${l}%`,icon:Pu,sub:"Prumerny pokrok"}].map((m,g)=>i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:g*.05},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:m.label}),i.jsx(m.icon,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(De,{children:[i.jsx("div",{className:"text-2xl font-bold",children:m.value}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.sub})]})]})},m.label))}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Vysledky podle kurzu"}),i.jsx(Qt,{children:"Podrobne vysledky a hodnoceni pro kazdy kurz"})]}),i.jsx(De,{children:t.length>0?i.jsx("div",{className:"space-y-4",children:t.map(m=>{const g=f(m.score,m.isCompleted);return i.jsxs("div",{className:"p-4 rounded-lg border hover:bg-accent/30 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"font-medium truncate",children:m.courseTitle}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[m.completedLessons," / ",m.totalLessons," lekci dokonceno"]})]}),i.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[i.jsxs("span",{className:`text-lg font-bold tabular-nums ${d(m.score)}`,children:[m.score,"%"]}),i.jsx(Le,{variant:g.variant,className:g.className,children:g.label})]})]}),i.jsx(Hi,{value:m.score,className:"h-2"})]},m.courseId)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx($a,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),i.jsx("h3",{className:"text-base font-semibold mb-1",children:"Zadne vysledky"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Zapiste se do kurzu a zacnete studovat"}),i.jsx(Q,{asChild:!0,children:i.jsx(Be,{to:"/prehled/integrace",children:"Prohlidnout kurzy"})})]})})]})})]})}function VCe(){const{user:e}=Ht(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const{data:o}=await ae.from("course_enrollments").select("course_id, completion_date, courses!inner(id, title)").eq("user_id",e.id).eq("completed",!0).order("completion_date",{ascending:!1}),l=(o||[]).map(u=>{var d;return{courseId:u.course_id,courseTitle:((d=u.courses)==null?void 0:d.title)||"",completedAt:u.completion_date||""}});n(l)}catch(o){console.error("Error loading certificates:",o)}finally{r(!1)}};return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"space-y-8 mx-auto max-w-4xl",children:[i.jsxs(ee.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"hidden md:block",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Certifikaty"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Vase ziskane certifikaty za dokoncene kurzy"})]}),i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0",children:[i.jsxs("div",{children:[i.jsx(Qe,{children:"Celkem certifikatu"}),i.jsx(Qt,{children:"Pocet dokoncenych kurzu"})]}),i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900/30",children:i.jsx(Ri,{className:"h-6 w-6 text-amber-600"})})]}),i.jsx(De,{children:i.jsx("div",{className:"text-3xl font-bold",children:t.length})})]})}),t.length>0?i.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:t.map((o,l)=>i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15+l*.05},children:i.jsx(Oe,{className:"h-full",children:i.jsx(De,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-amber-50 dark:bg-amber-900/20",children:i.jsx(Ri,{className:"h-6 w-6 text-amber-600"})}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold truncate",children:o.courseTitle}),o.completedAt&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[i.jsx(ha,{className:"h-3 w-3"}),"Dokonceno: ",new Date(o.completedAt).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Le,{variant:"outline",className:"border-green-500/30 text-green-600 bg-green-500/10",children:"Overeno"}),i.jsxs(Q,{variant:"ghost",size:"sm",className:"h-7 text-xs",children:[i.jsx(q_,{className:"h-3 w-3 mr-1"}),"Stahnout"]})]})]})]})})})},o.courseId))}):i.jsx(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:i.jsx(Oe,{children:i.jsxs(De,{className:"text-center py-16",children:[i.jsx(Ri,{className:"h-14 w-14 text-muted-foreground mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Zadne certifikaty"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Dokoncete kurz a ziskejte svuj prvni certifikat"}),i.jsx(Q,{asChild:!0,children:i.jsxs(Be,{to:"/prehled/moje-kurzy",children:[i.jsx(Wt,{className:"mr-2 h-4 w-4"}),"Moje kurzy"]})})]})})})]})}function BCe(){const{user:e,signIn:t,signInWithGoogle:n}=Ht(),[s,r]=v.useState(""),[a,o]=v.useState(""),[l,u]=v.useState(!1),[d,f]=v.useState(!1),[m,g]=v.useState(!1);if(e)return i.jsx(Ua,{to:"/prehled",replace:!0});const x=async b=>{b.preventDefault(),g(!0);try{await t(s,a),Se.success("spn pihleno!")}catch(w){Se.error(w.message||"Pihlen se nezdailo")}finally{g(!1)}};return i.jsxs("div",{className:"flex min-h-screen",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary/20 via-primary/10 to-background items-center justify-center p-12 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),i.jsxs("div",{className:"relative z-10 max-w-lg",children:[i.jsxs(Be,{to:"/",className:"inline-flex items-center gap-2 mb-8",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:40,height:40}),i.jsx("span",{className:"text-2xl font-bold",children:pn.name})]}),i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Vtejte zpt!"}),i.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Pihlaste se pro pstup k vaim kurzm a sprv student."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Bezpen pihlen"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Vae data jsou chrnna nejmodernjm zabezpeenm."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Rychl pstup"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Okamit pstup ke vem vaim kurzm a materilm."})]})]})]})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-4 lg:p-12",children:i.jsxs(Oe,{className:"w-full max-w-md border-0 shadow-none lg:shadow-sm lg:border",children:[i.jsxs(Je,{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 lg:hidden",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:32,height:32}),i.jsx("span",{className:"text-xl font-bold",children:pn.name})]}),i.jsx(Qe,{className:"text-2xl",children:"Pihlen do tu"}),i.jsx(Qt,{children:"Zadejte svj email a heslo pro pstup"})]}),i.jsxs(De,{children:[i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"email",children:"Email"}),i.jsx(Re,{id:"email",type:"email",placeholder:"jmeno@priklad.cz",value:s,onChange:b=>r(b.target.value),required:!0,autoComplete:"email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ie,{htmlFor:"password",children:"Heslo"}),i.jsx(Be,{to:"/zapomenute-heslo",className:"text-sm text-primary hover:underline",children:"Zapomenut heslo?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Re,{id:"password",type:l?"text":"password",value:a,onChange:b=>o(b.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),i.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:l?i.jsx(m1e,{className:"h-4 w-4"}):i.jsx(f1e,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Eg,{id:"remember",checked:d,onCheckedChange:b=>f(b)}),i.jsx("label",{htmlFor:"remember",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Zapamatovat si m"})]}),i.jsxs(Q,{type:"submit",className:"w-full group",disabled:m,children:[m?"Pihlaovn...":"Pihlsit se",i.jsx(_p,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Nebo pokraujte s"})})]}),i.jsxs(Q,{type:"button",variant:"outline",className:"w-full",onClick:async()=>{try{await n()}catch(b){Se.error(b.message||"Pihlen pes Google se nezdailo")}},children:[i.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Pihlsit se pes Google"]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Nemte jet et?"," ",i.jsx(Be,{to:"/registrace",className:"font-medium text-primary hover:underline",children:"Zaregistrujte se"})]}),i.jsx("p",{className:"text-center",children:i.jsxs(Be,{to:"/",className:"inline-flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",children:[i.jsx(Fb,{className:"mr-1 h-4 w-4"}),"Zpt na hlavn strnku"]})})]})]})]})})]})}function FCe(){const{user:e,signInWithGoogle:t}=Ht(),n=Jt(),[s,r]=v.useState(""),[a,o]=v.useState(""),[l,u]=v.useState(""),[d,f]=v.useState(!1),[m,g]=v.useState(!1);if(e)return i.jsx(Ua,{to:"/prehled",replace:!0});const x=async b=>{if(b.preventDefault(),a!==l){Se.error("Hesla se neshoduj");return}if(!d){Se.error("Prosm, souhlaste s podmnkami pouit");return}if(a.length<6){Se.error("Heslo mus mt alespo 6 znak");return}g(!0);try{const j=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/send-verification-code",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({email:s,password:a})}),k=await j.json();if(!j.ok){Se.error(k.error||"Nco se pokazilo");return}Se.success("Ovovac kd byl odesln na v email!"),n(`/overeni-emailu?email=${encodeURIComponent(s)}`)}catch(w){console.error("Error:",w),Se.error(w.message||"Nco se pokazilo")}finally{g(!1)}};return i.jsxs("div",{className:"flex min-h-screen",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary/20 via-primary/10 to-background items-center justify-center p-12 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),i.jsxs("div",{className:"relative z-10 max-w-lg",children:[i.jsxs(Be,{to:"/",className:"inline-flex items-center gap-2 mb-8",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:40,height:40}),i.jsx("span",{className:"text-2xl font-bold",children:pn.name})]}),i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Zante svou cestu dnes"}),i.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Pipojte se k tiscm fyzioterapeut, kte nm dvuj se svmi kurzy."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"100% zabezpeeno"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Vae informace jsou ifrovny a chrnny."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Rychl nastaven"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Zante bhem 2 minut."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Podpora 24/7"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Jsme tu, abychom vm pomohli, kdykoli to potebujete."})]})]})]})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-4 lg:p-12",children:i.jsxs(Oe,{className:"w-full max-w-md border-0 shadow-none lg:shadow-sm lg:border",children:[i.jsxs(Je,{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 lg:hidden",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:32,height:32}),i.jsx("span",{className:"text-xl font-bold",children:pn.name})]}),i.jsx(Qe,{className:"text-2xl",children:"Vytvoit et"}),i.jsx(Qt,{children:"Zadejte sv daje pro zatek"})]}),i.jsxs(De,{children:[i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"email",children:"Email"}),i.jsx(Re,{id:"email",type:"email",placeholder:"jmeno@priklad.cz",value:s,onChange:b=>r(b.target.value),required:!0,autoComplete:"email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"password",children:"Heslo"}),i.jsx(Re,{id:"password",type:"password",placeholder:"Vytvote siln heslo",value:a,onChange:b=>o(b.target.value),required:!0,autoComplete:"new-password",minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"confirmPassword",children:"Potvrzen hesla"}),i.jsx(Re,{id:"confirmPassword",type:"password",placeholder:"Potvrte sv heslo",value:l,onChange:b=>u(b.target.value),required:!0,autoComplete:"new-password"})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Eg,{id:"terms",checked:d,onCheckedChange:b=>f(b),className:"mt-0.5"}),i.jsxs("label",{htmlFor:"terms",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["Souhlasm s"," ",i.jsx(Be,{to:"/terms",className:"text-primary hover:underline",children:"podmnkami sluby"})," ","a"," ",i.jsx(Be,{to:"/privacy",className:"text-primary hover:underline",children:"zsadami ochrany osobnch daj"})]})]}),i.jsxs(Q,{type:"submit",className:"w-full group",disabled:m,children:[m?"Vytven tu...":"Vytvoit et",i.jsx(_p,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Nebo pokraujte s"})})]}),i.jsxs(Q,{type:"button",variant:"outline",className:"w-full",onClick:async()=>{try{await t()}catch(b){Se.error(b.message||"Registrace pes Google se nezdaila")}},children:[i.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Registrovat pes Google"]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Ji mte et?"," ",i.jsx(Be,{to:"/prihlaseni",className:"font-medium text-primary hover:underline",children:"Pihlaste se"})]}),i.jsx("p",{className:"text-center",children:i.jsxs(Be,{to:"/",className:"inline-flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",children:[i.jsx(Fb,{className:"mr-1 h-4 w-4"}),"Zpt na hlavn strnku"]})})]})]})]})})]})}const iU=SV,aU=v.createContext({}),zm=({...e})=>i.jsx(aU.Provider,{value:{name:e.name},children:i.jsx(jn,{...e})}),n1=()=>{const e=v.useContext(aU),t=v.useContext(oU),{getFieldState:n,formState:s}=uc(),r=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...r}},oU=v.createContext({}),uh=v.forwardRef(({className:e,...t},n)=>{const s=v.useId();return i.jsx(oU.Provider,{value:{id:s},children:i.jsx("div",{ref:n,className:se("space-y-2",e),...t})})});uh.displayName="FormItem";const Mm=v.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:r}=n1();return i.jsx(Ie,{ref:n,className:se(s&&"text-destructive",e),htmlFor:r,...t})});Mm.displayName="FormLabel";const dh=v.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:r,formDescriptionId:a,formMessageId:o}=n1();return i.jsx(eC,{ref:n,id:r,"aria-describedby":s?`${a} ${o}`:`${a}`,"aria-invalid":!!s,className:se("mt-2",e),...t})});dh.displayName="FormControl";const UCe=v.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=n1();return i.jsx("p",{ref:n,id:s,className:se("text-muted-foreground text-sm",e),...t})});UCe.displayName="FormDescription";const hh=v.forwardRef(({className:e,children:t,...n},s)=>{const{error:r,formMessageId:a}=n1(),o=r?String(r==null?void 0:r.message):t;return o?i.jsx("p",{ref:s,id:a,className:se("font-medium text-destructive text-sm",e),...n,children:o}):null});hh.displayName="FormMessage";var HCe=Object.defineProperty,qCe=Object.defineProperties,ZCe=Object.getOwnPropertyDescriptors,ay=Object.getOwnPropertySymbols,lU=Object.prototype.hasOwnProperty,cU=Object.prototype.propertyIsEnumerable,lD=(e,t,n)=>t in e?HCe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,WCe=(e,t)=>{for(var n in t||(t={}))lU.call(t,n)&&lD(e,n,t[n]);if(ay)for(var n of ay(t))cU.call(t,n)&&lD(e,n,t[n]);return e},KCe=(e,t)=>qCe(e,ZCe(t)),GCe=(e,t)=>{var n={};for(var s in e)lU.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&ay)for(var s of ay(e))t.indexOf(s)<0&&cU.call(e,s)&&(n[s]=e[s]);return n};function YCe(e){let t=setTimeout(e,0),n=setTimeout(e,10),s=setTimeout(e,50);return[t,n,s]}function JCe(e){let t=v.useRef();return v.useEffect(()=>{t.current=e}),t.current}var XCe=18,uU=40,QCe=`${uU}px`,eEe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function tEe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:s}){let[r,a]=v.useState(!1),[o,l]=v.useState(!1),[u,d]=v.useState(!1),f=v.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&r&&o,[r,o,n]),m=v.useCallback(()=>{let g=e.current,x=t.current;if(!g||!x||u||n==="none")return;let b=g,w=b.getBoundingClientRect().left+b.offsetWidth,j=b.getBoundingClientRect().top+b.offsetHeight/2,k=w-XCe,S=j;document.querySelectorAll(eEe).length===0&&document.elementFromPoint(k,S)===g||(a(!0),d(!0))},[e,t,u,n]);return v.useEffect(()=>{let g=e.current;if(!g||n==="none")return;function x(){let w=window.innerWidth-g.getBoundingClientRect().right;l(w>=uU)}x();let b=setInterval(x,1e3);return()=>{clearInterval(b)}},[e,n]),v.useEffect(()=>{let g=s||document.activeElement===t.current;if(n==="none"||!g)return;let x=setTimeout(m,0),b=setTimeout(m,2e3),w=setTimeout(m,5e3),j=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(x),clearTimeout(b),clearTimeout(w),clearTimeout(j)}},[t,s,n,m]),{hasPWMBadge:r,willPushPWMBadge:f,PWM_BADGE_SPACE_WIDTH:QCe}}var dU=v.createContext({}),hU=v.forwardRef((e,t)=>{var n=e,{value:s,onChange:r,maxLength:a,textAlign:o="left",pattern:l,placeholder:u,inputMode:d="numeric",onComplete:f,pushPasswordManagerStrategy:m="increase-width",pasteTransformer:g,containerClassName:x,noScriptCSSFallback:b=nEe,render:w,children:j}=n,k=GCe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),S,C,E,T,M;let[z,A]=v.useState(typeof k.defaultValue=="string"?k.defaultValue:""),D=s??z,B=JCe(D),$=v.useCallback(re=>{r==null||r(re),A(re)},[r]),q=v.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),Z=v.useRef(null),F=v.useRef(null),J=v.useRef({value:D,onChange:$,isIOS:typeof window<"u"&&((C=(S=window==null?void 0:window.CSS)==null?void 0:S.supports)==null?void 0:C.call(S,"-webkit-touch-callout","none"))}),P=v.useRef({prev:[(E=Z.current)==null?void 0:E.selectionStart,(T=Z.current)==null?void 0:T.selectionEnd,(M=Z.current)==null?void 0:M.selectionDirection]});v.useImperativeHandle(t,()=>Z.current,[]),v.useEffect(()=>{let re=Z.current,Ee=F.current;if(!re||!Ee)return;J.current.value!==re.value&&J.current.onChange(re.value),P.current.prev=[re.selectionStart,re.selectionEnd,re.selectionDirection];function Ze(){if(document.activeElement!==re){H(null),ne(null);return}let We=re.selectionStart,ct=re.selectionEnd,X=re.selectionDirection,oe=re.maxLength,me=re.value,ze=P.current.prev,Ae=-1,Ce=-1,Fe;if(me.length!==0&&We!==null&&ct!==null){let tt=We===ct,Ge=We===me.length&&me.length<oe;if(tt&&!Ge){let mt=We;if(mt===0)Ae=0,Ce=1,Fe="forward";else if(mt===oe)Ae=mt-1,Ce=mt,Fe="backward";else if(oe>1&&me.length>1){let Nt=0;if(ze[0]!==null&&ze[1]!==null){Fe=mt<ze[1]?"backward":"forward";let Rt=ze[0]===ze[1]&&ze[0]<oe;Fe==="backward"&&!Rt&&(Nt=-1)}Ae=Nt+mt,Ce=Nt+mt+1}}Ae!==-1&&Ce!==-1&&Ae!==Ce&&Z.current.setSelectionRange(Ae,Ce,Fe)}let ot=Ae!==-1?Ae:We,Te=Ce!==-1?Ce:ct,Ue=Fe??X;H(ot),ne(Te),P.current.prev=[ot,Te,Ue]}if(document.addEventListener("selectionchange",Ze,{capture:!0}),Ze(),document.activeElement===re&&U(!0),!document.getElementById("input-otp-style")){let We=document.createElement("style");if(We.id="input-otp-style",document.head.appendChild(We),We.sheet){let ct="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";gm(We.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),gm(We.sheet,`[data-input-otp]:autofill { ${ct} }`),gm(We.sheet,`[data-input-otp]:-webkit-autofill { ${ct} }`),gm(We.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),gm(We.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let it=()=>{Ee&&Ee.style.setProperty("--root-height",`${re.clientHeight}px`)};it();let kt=new ResizeObserver(it);return kt.observe(re),()=>{document.removeEventListener("selectionchange",Ze,{capture:!0}),kt.disconnect()}},[]);let[I,L]=v.useState(!1),[G,U]=v.useState(!1),[R,H]=v.useState(null),[K,ne]=v.useState(null);v.useEffect(()=>{YCe(()=>{var re,Ee,Ze,it;(re=Z.current)==null||re.dispatchEvent(new Event("input"));let kt=(Ee=Z.current)==null?void 0:Ee.selectionStart,We=(Ze=Z.current)==null?void 0:Ze.selectionEnd,ct=(it=Z.current)==null?void 0:it.selectionDirection;kt!==null&&We!==null&&(H(kt),ne(We),P.current.prev=[kt,We,ct])})},[D,G]),v.useEffect(()=>{B!==void 0&&D!==B&&B.length<a&&D.length===a&&(f==null||f(D))},[a,f,B,D]);let ce=tEe({containerRef:F,inputRef:Z,pushPasswordManagerStrategy:m,isFocused:G}),ue=v.useCallback(re=>{let Ee=re.currentTarget.value.slice(0,a);if(Ee.length>0&&q&&!q.test(Ee)){re.preventDefault();return}typeof B=="string"&&Ee.length<B.length&&document.dispatchEvent(new Event("selectionchange")),$(Ee)},[a,$,B,q]),Y=v.useCallback(()=>{var re;if(Z.current){let Ee=Math.min(Z.current.value.length,a-1),Ze=Z.current.value.length;(re=Z.current)==null||re.setSelectionRange(Ee,Ze),H(Ee),ne(Ze)}U(!0)},[a]),le=v.useCallback(re=>{var Ee,Ze;let it=Z.current;if(!g&&(!J.current.isIOS||!re.clipboardData||!it))return;let kt=re.clipboardData.getData("text/plain"),We=g?g(kt):kt;re.preventDefault();let ct=(Ee=Z.current)==null?void 0:Ee.selectionStart,X=(Ze=Z.current)==null?void 0:Ze.selectionEnd,oe=(ct!==X?D.slice(0,ct)+We+D.slice(X):D.slice(0,ct)+We+D.slice(ct)).slice(0,a);if(oe.length>0&&q&&!q.test(oe))return;it.value=oe,$(oe);let me=Math.min(oe.length,a-1),ze=oe.length;it.setSelectionRange(me,ze),H(me),ne(ze)},[a,$,q,D]),he=v.useMemo(()=>({position:"relative",cursor:k.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[k.disabled]),be=v.useMemo(()=>({position:"absolute",inset:0,width:ce.willPushPWMBadge?`calc(100% + ${ce.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ce.willPushPWMBadge?`inset(0 ${ce.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ce.PWM_BADGE_SPACE_WIDTH,ce.willPushPWMBadge,o]),we=v.useMemo(()=>v.createElement("input",KCe(WCe({autoComplete:k.autoComplete||"one-time-code"},k),{"data-input-otp":!0,"data-input-otp-placeholder-shown":D.length===0||void 0,"data-input-otp-mss":R,"data-input-otp-mse":K,inputMode:d,pattern:q==null?void 0:q.source,"aria-placeholder":u,style:be,maxLength:a,value:D,ref:Z,onPaste:re=>{var Ee;le(re),(Ee=k.onPaste)==null||Ee.call(k,re)},onChange:ue,onMouseOver:re=>{var Ee;L(!0),(Ee=k.onMouseOver)==null||Ee.call(k,re)},onMouseLeave:re=>{var Ee;L(!1),(Ee=k.onMouseLeave)==null||Ee.call(k,re)},onFocus:re=>{var Ee;Y(),(Ee=k.onFocus)==null||Ee.call(k,re)},onBlur:re=>{var Ee;U(!1),(Ee=k.onBlur)==null||Ee.call(k,re)}})),[ue,Y,le,d,be,a,K,R,k,q==null?void 0:q.source,D]),xe=v.useMemo(()=>({slots:Array.from({length:a}).map((re,Ee)=>{var Ze;let it=G&&R!==null&&K!==null&&(R===K&&Ee===R||Ee>=R&&Ee<K),kt=D[Ee]!==void 0?D[Ee]:null,We=D[0]!==void 0?null:(Ze=u==null?void 0:u[Ee])!=null?Ze:null;return{char:kt,placeholderChar:We,isActive:it,hasFakeCaret:it&&kt===null}}),isFocused:G,isHovering:!k.disabled&&I}),[G,I,a,K,R,k.disabled,D]),Me=v.useMemo(()=>w?w(xe):v.createElement(dU.Provider,{value:xe},j),[j,xe,w]);return v.createElement(v.Fragment,null,b!==null&&v.createElement("noscript",null,v.createElement("style",null,b)),v.createElement("div",{ref:F,"data-input-otp-container":!0,style:he,className:x},Me,v.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},we)))});hU.displayName="Input";function gm(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var nEe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const fU=v.forwardRef(({className:e,containerClassName:t,...n},s)=>i.jsx(hU,{ref:s,containerClassName:se("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:se("disabled:cursor-not-allowed",e),...n}));fU.displayName="InputOTP";const cS=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:se("flex items-center",e),...t}));cS.displayName="InputOTPGroup";const Wc=v.forwardRef(({index:e,className:t,...n},s)=>{const r=v.useContext(dU),{char:a,hasFakeCaret:o,isActive:l}=r.slots[e];return i.jsxs("div",{ref:s,className:se("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...n,children:[a,o&&i.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Wc.displayName="InputOTPSlot";const mU=v.forwardRef(({...e},t)=>i.jsx("div",{ref:t,role:"separator",...e,children:i.jsx(j1e,{className:"h-4 w-4"})}));mU.displayName="InputOTPSeparator";const sEe=Pa({code:es().min(6,{message:"Ovovac kd mus mt 6 znak."})});function rEe(){const[e,t]=v.useState(!1),[n,s]=v.useState(!1),[r,a]=v.useState(!1),[o]=r_(),l=o.get("email")||"user@example.com",u=Jt(),d=Cg({resolver:Ub(sEe),defaultValues:{code:""}});v.useEffect(()=>{o.get("email")||u("/registrace")},[o,u]);async function f(g){t(!0);try{const b=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/verify-and-create-account",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({email:l,code:g.code})}),w=await b.json();if(!b.ok){w.attemptsRemaining!==void 0?Se.error(`Neplatn kd. Zbv pokus: ${w.attemptsRemaining}`):Se.error(w.error||"Neplatn ovovac kd. Zkuste to prosm znovu."),d.reset(),t(!1);return}w.session&&await ae.auth.setSession({access_token:w.session.access_token,refresh_token:w.session.refresh_token}),a(!0),Se.success("et byl spn vytvoen!"),setTimeout(()=>{const j=localStorage.getItem("pending_plan");j?(localStorage.removeItem("pending_plan"),u("/",{state:{scrollTo:"pricing",selectedPlan:j}})):u("/prehled")},1500)}catch(x){console.error("Verification error:",x),Se.error("Nco se pokazilo. Zkuste to prosm znovu."),t(!1)}}async function m(){s(!0);try{Se.info("Pro nov kd se vrate na registran strnku a zadejte znovu sv daje.")}catch(g){console.error("Resend error:",g),Se.error("Nco se pokazilo. Zkuste to prosm znovu.")}finally{s(!1)}}return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-2 text-center",children:[i.jsx(ee.div,{className:"flex h-12 w-12 items-center justify-center rounded-full",initial:{scale:1},animate:r?{scale:[1,1.2,1],backgroundColor:["hsl(var(--primary) / 0.1)","hsl(var(--primary))","hsl(var(--primary))"]}:{},transition:{duration:.5},style:{backgroundColor:r?void 0:"hsl(var(--primary) / 0.1)"},children:r?i.jsx(ee.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:i.jsx(Fa,{className:"h-6 w-6 text-primary-foreground"})}):i.jsx(x1e,{className:"h-6 w-6 text-primary"})}),i.jsx(ee.h2,{className:"text-2xl font-semibold",animate:r?{color:"hsl(var(--primary))"}:{},children:r?"Email oven!":"Zkontrolujte svj email"}),!r&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Poslali jsme ovovac kd na"," ",i.jsx("span",{className:"font-medium",children:l})]}),r&&i.jsx(ee.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-sm text-muted-foreground",children:"Pesmrovn na dashboard..."})]}),!r&&i.jsxs(i.Fragment,{children:[i.jsx(iU,{...d,children:i.jsxs("form",{className:"space-y-6",onSubmit:d.handleSubmit(f),children:[i.jsx(zm,{control:d.control,name:"code",render:({field:g})=>i.jsxs(uh,{children:[i.jsx(dh,{children:i.jsx("div",{className:"flex justify-center",children:i.jsxs(fU,{maxLength:6,...g,children:[i.jsxs(cS,{children:[i.jsx(Wc,{className:"bg-background",index:0}),i.jsx(Wc,{className:"bg-background",index:1}),i.jsx(Wc,{className:"bg-background",index:2})]}),i.jsx(mU,{}),i.jsxs(cS,{children:[i.jsx(Wc,{className:"bg-background",index:3}),i.jsx(Wc,{className:"bg-background",index:4}),i.jsx(Wc,{className:"bg-background",index:5})]})]})})}),i.jsx(hh,{})]})}),i.jsx(Q,{className:"w-full",disabled:e,type:"submit",children:e?"Ovuji...":"Ovit Email"})]})}),i.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Nedostali jste email?"," ",i.jsx(Q,{className:"h-auto p-0 font-normal",type:"button",variant:"link",onClick:m,disabled:n,children:n?"Odeslm...":"Odeslat znovu"})]})]})]})})}function iEe(){const[e,t]=v.useState(""),[n,s]=v.useState(!1),r=Jt(),a=async o=>{o.preventDefault(),s(!0);try{const u=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/send-password-reset-code",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({email:e})}),d=await u.json();if(!u.ok){Se.error(d.error||"Nco se pokazilo");return}Se.success("Ovovac kd byl odesln na v email!"),r("/obnoveni-hesla",{state:{email:e}})}catch(l){console.error("Error:",l),Se.error(l.message||"Nco se pokazilo")}finally{s(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-muted/40",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("div",{className:"mb-8 text-center",children:i.jsxs(Be,{to:"/",className:"inline-flex items-center justify-center gap-2 mb-6",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:40,height:40}),i.jsx("span",{className:"text-2xl font-bold",children:pn.name})]})}),i.jsxs(Oe,{children:[i.jsxs(Je,{className:"space-y-1",children:[i.jsx(Qe,{className:"text-2xl",children:"Obnoven hesla"}),i.jsx(Qt,{children:"Zadejte svj email a dostanete ovovac kd"})]}),i.jsxs(De,{children:[i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"email",children:"Email"}),i.jsx(Re,{id:"email",type:"email",placeholder:"jmeno@priklad.cz",value:e,onChange:o=>t(o.target.value),required:!0,autoComplete:"email"})]}),i.jsx(Q,{type:"submit",className:"w-full",disabled:n,children:n?"Odesln...":"Odeslat ovovac kd"})]}),i.jsx("div",{className:"mt-6",children:i.jsxs(Be,{to:"/prihlaseni",className:"flex items-center justify-center text-sm text-primary hover:underline",children:[i.jsx(Fb,{className:"mr-2 h-4 w-4"}),"Zpt na pihlen"]})})]})]})]})})}const aEe=Pa({email:es().email({message:"Zadejte platn email."}),code:es().min(6,{message:"Ovovac kd mus mt 6 slic."}).max(6),newPassword:es().min(6,{message:"Heslo mus mt alespo 6 znak."}),confirmPassword:es().min(6,{message:"Heslo mus mt alespo 6 znak."})}).refine(e=>e.newPassword===e.confirmPassword,{message:"Hesla se neshoduj",path:["confirmPassword"]});function oEe(){var o;const e=Jt(),t=ss(),[n,s]=v.useState(!1),r=Cg({resolver:Ub(aEe),defaultValues:{email:((o=t.state)==null?void 0:o.email)||"",code:"",newPassword:"",confirmPassword:""}});async function a(l){s(!0);try{const d=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/verify-and-reset-password",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({email:l.email,code:l.code,newPassword:l.newPassword})}),f=await d.json();if(!d.ok){f.attemptsRemaining!==void 0?Se.error(`${f.error}. Zbvajc pokusy: ${f.attemptsRemaining}`):Se.error(f.error||"Nco se pokazilo");return}Se.success("Heslo bylo spn zmnno! Nyn se mete pihlsit."),e("/prihlaseni")}catch(u){console.error("Password reset error:",u),Se.error(u.message||"Nco se pokazilo. Zkuste to prosm znovu.")}finally{s(!1)}}return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("div",{className:"mb-8 text-center",children:i.jsxs(Be,{to:"/",className:"inline-flex items-center justify-center gap-2 mb-6",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:40,height:40}),i.jsx("span",{className:"text-2xl font-bold",children:pn.name})]})}),i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:i.jsx(_B,{className:"h-6 w-6 text-primary"})})}),i.jsx(Qe,{className:"text-2xl text-center",children:"Resetovat heslo"}),i.jsx(Qt,{className:"text-center",children:"Zadejte ovovac kd z emailu a nov heslo"})]}),i.jsxs(De,{children:[i.jsx(iU,{...r,children:i.jsxs("form",{className:"space-y-4",onSubmit:r.handleSubmit(a),children:[i.jsx(zm,{control:r.control,name:"email",render:({field:l})=>i.jsxs(uh,{children:[i.jsx(Mm,{children:"Email"}),i.jsx(dh,{children:i.jsx(Re,{type:"email",placeholder:"jmeno@priklad.cz",...l})}),i.jsx(hh,{})]})}),i.jsx(zm,{control:r.control,name:"code",render:({field:l})=>i.jsxs(uh,{children:[i.jsx(Mm,{children:"Ovovac kd"}),i.jsx(dh,{children:i.jsx(Re,{type:"text",placeholder:"123456",maxLength:6,...l})}),i.jsx(hh,{})]})}),i.jsx(zm,{control:r.control,name:"newPassword",render:({field:l})=>i.jsxs(uh,{children:[i.jsx(Mm,{children:"Nov heslo"}),i.jsx(dh,{children:i.jsx(Re,{type:"password",placeholder:"Zadejte nov heslo",...l})}),i.jsx(hh,{})]})}),i.jsx(zm,{control:r.control,name:"confirmPassword",render:({field:l})=>i.jsxs(uh,{children:[i.jsx(Mm,{children:"Potvrzen hesla"}),i.jsx(dh,{children:i.jsx(Re,{type:"password",placeholder:"Potvrte nov heslo",...l})}),i.jsx(hh,{})]})}),i.jsx(Q,{className:"w-full",disabled:n,type:"submit",children:n?"Resetovn hesla...":"Resetovat heslo"})]})}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx(Be,{to:"/zapomenute-heslo",className:"flex items-center justify-center text-sm text-muted-foreground hover:text-primary hover:underline",children:"Znovu odeslat kd"}),i.jsxs(Be,{to:"/prihlaseni",className:"flex items-center justify-center text-sm text-primary hover:underline",children:[i.jsx(Fb,{className:"mr-2 h-4 w-4"}),"Zpt na pihlen"]})]})]})]})]})})}function s1({...e}){return i.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function r1({className:e,...t}){return i.jsx("ol",{"data-slot":"breadcrumb-list",className:se("flex flex-wrap items-center gap-1.5 break-words font-medium text-muted-foreground text-sm sm:gap-2.5",e),...t})}function ai({className:e,...t}){return i.jsx("li",{"data-slot":"breadcrumb-item",className:se("inline-flex items-center gap-1.5",e),...t})}function Do({asChild:e,className:t,...n}){const s=e?eC:"a";return i.jsx(s,{"data-slot":"breadcrumb-link",className:se("transition-colors hover:text-foreground",t),...n})}function i1({className:e,...t}){return i.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:se("font-normal text-foreground",e),...t})}function Po({children:e,className:t,...n}){return i.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:se("text-muted-foreground/50",t),...n,children:e??i.jsx(hr,{size:16})})}function lEe(){const{courseId:e}=Ho(),{user:t}=Ht(),n=Jt(),[s,r]=v.useState(null),[a,o]=v.useState([]),[l,u]=v.useState(new Set),[d,f]=v.useState(new Map),[m,g]=v.useState(!0),[x,b]=v.useState(!1),[w,j]=v.useState(null);v.useEffect(()=>{t&&e&&k()},[t,e]);const k=async()=>{try{const{data:z}=await ae.from("courses").select("id, title, description, thumbnail_url, price, order_index, package_id").eq("id",e).maybeSingle();if(!z){g(!1);return}r(z);const{data:A}=await ae.from("course_lessons").select("id, course_id, title, description, video_url, duration, order_index").eq("course_id",e).order("order_index");if(A&&o(A),t){const[{data:B},{data:$}]=await Promise.all([ae.from("course_enrollments").select("id").eq("user_id",t.id).eq("course_id",e).maybeSingle(),ae.from("course_purchases").select("id").eq("user_id",t.id).eq("course_id",e).maybeSingle()]);b(!!B||!!$);const{data:q}=await ae.from("user_course_progress").select("lesson_id, completed, completed_at").eq("user_id",t.id).eq("course_id",e);if(q){u(new Set(q.filter(F=>F.completed).map(F=>F.lesson_id)));const Z=new Map;for(const F of q)F.completed&&F.completed_at&&Z.set(F.lesson_id,F.completed_at);f(Z)}}const{data:D}=await ae.from("courses").select("id").eq("published",!0).eq("package_id",z.package_id).gt("order_index",z.order_index).order("order_index").limit(1).maybeSingle();D&&j(D.id)}catch(z){console.error("Error loading course data:",z)}finally{g(!1)}},S=z=>{if(z===0||l.has(a[z].id))return"available";const A=a[z-1];if(!l.has(A.id))return"locked";const D=d.get(A.id);if(!D)return"available";const B=new Date(D),$=new Date,q=new Date(B.getFullYear(),B.getMonth(),B.getDate()),Z=new Date($.getFullYear(),$.getMonth(),$.getDate());return q.getTime()>=Z.getTime()?"daily_locked":"available"},C=z=>{S(z)==="available"&&n(`/kurz/${e}/cast/${z+1}`)};if(!t)return i.jsx(Ua,{to:"/prihlaseni",replace:!0});if(m)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsx(Ul,{className:"h-8 w-8 animate-spin text-primary"})});if(!s||!x)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Kurz nenalezen"}),i.jsx("p",{className:"text-muted-foreground",children:"Tento kurz neexistuje nebo k nemu nemate pristup."}),i.jsx(Q,{asChild:!0,variant:"outline",className:"mt-4",children:i.jsx(Be,{to:"/prehled/moje-kurzy",children:"Zpet na kurzy"})})]})});if(a.length===0)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Zadne lekce"}),i.jsx("p",{className:"text-muted-foreground",children:"Tento kurz zatim neobsahuje zadne lekce."})]})});const E=l.size/a.length*100,T=E===100,M=a.reduce((z,A)=>z+A.duration,0);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:i.jsxs("div",{className:"container max-w-4xl mx-auto py-4 px-4",children:[i.jsx(s1,{className:"mb-3",children:i.jsxs(r1,{children:[i.jsx(ai,{children:i.jsx(Do,{asChild:!0,children:i.jsx(Be,{to:"/prehled",children:i.jsx(Oi,{className:"size-4"})})})}),i.jsx(Po,{}),i.jsx(ai,{children:i.jsx(Do,{asChild:!0,children:i.jsx(Be,{to:"/prehled/moje-kurzy",children:"Kurzy"})})}),i.jsx(Po,{}),i.jsx(ai,{children:i.jsx(i1,{children:s.title})})]})}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("h1",{className:"text-xl font-bold truncate",children:s.title}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[l.size," z ",a.length," lekci dokonceno"]})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsx(Hi,{value:E,className:"h-2 w-24"}),i.jsxs("span",{className:"text-sm font-semibold tabular-nums",children:[Math.round(E),"%"]})]})]})]})}),i.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4 space-y-6",children:[s.description&&i.jsx("div",{className:"rounded-xl border bg-card p-5",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Wt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold mb-1",children:"O kurzu"}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Wt,{className:"h-3 w-3"}),a.length," lekci"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(on,{className:"h-3 w-3"}),M," min celkem"]})]})]})]})}),T&&i.jsxs("div",{className:"rounded-xl bg-green-500/10 border border-green-500/30 p-6 text-center",children:[i.jsx(lc,{className:"h-10 w-10 text-green-500 mx-auto mb-2"}),i.jsx("h2",{className:"text-xl font-bold",children:"Kurz dokoncen!"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Gratulujeme k dokonceni vsech lekci."}),w&&i.jsxs(Q,{onClick:()=>n(`/kurz/${w}`),className:"mt-4",children:["Pokracovat na dalsi kurz",i.jsx(ur,{className:"ml-2 h-4 w-4"})]})]}),i.jsx("div",{className:"space-y-3",children:a.map((z,A)=>{const D=S(A),B=l.has(z.id),$=D==="daily_locked",q=D==="locked",Z=D==="available";return i.jsx("button",{type:"button",onClick:()=>C(A),disabled:!Z,className:se("w-full rounded-xl border bg-card overflow-hidden transition-all duration-200 text-left",Z&&"hover:shadow-md hover:border-primary/30 cursor-pointer",B&&"border-green-500/20",$&&"border-amber-500/20",q&&"opacity-50",!Z&&"cursor-not-allowed"),children:i.jsxs("div",{className:"flex items-center gap-4 p-4",children:[i.jsx("div",{className:se("w-11 h-11 rounded-full flex items-center justify-center font-semibold text-sm flex-shrink-0 transition-colors",B?"bg-green-500 text-white":Z?"bg-primary/10 text-primary":$?"bg-amber-500/15 text-amber-600 dark:text-amber-400":"bg-muted text-muted-foreground"),children:B?i.jsx(Fs,{className:"h-5 w-5"}):$?i.jsx(Oo,{className:"h-4 w-4"}):q?i.jsx($l,{className:"h-4 w-4"}):A+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:z.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[i.jsx(on,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{children:[z.duration," min"]}),i.jsx("span",{className:"text-muted-foreground/50",children:"|"}),i.jsxs("span",{children:["Cast ",A+1," z ",a.length]})]})]}),i.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[B&&i.jsx(Le,{variant:"outline",className:"text-green-600 border-green-500/30 text-xs",children:"Dokonceno"}),$&&i.jsxs(Le,{variant:"outline",className:"text-amber-600 border-amber-500/30 text-xs gap-1",children:[i.jsx(Oo,{className:"h-3 w-3"}),"Zitra"]}),Z&&!B&&i.jsx(_v,{className:"h-5 w-5 text-muted-foreground"}),Z&&i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]})]})},z.id)})})]})]})}var $E={};(function e(t,n,s,r){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!t.OffscreenCanvas)return!1;try{var U=new OffscreenCanvas(1,1),R=U.getContext("2d");R.fillRect(0,0,1,1);var H=U.transferToImageBitmap();R.createPattern(H,"no-repeat")}catch{return!1}return!0})();function u(){}function d(U){var R=n.exports.Promise,H=R!==void 0?R:t.Promise;return typeof H=="function"?new H(U):(U(u,u),null)}var f=(function(U,R){return{transform:function(H){if(U)return H;if(R.has(H))return R.get(H);var K=new OffscreenCanvas(H.width,H.height),ne=K.getContext("2d");return ne.drawImage(H,0,0),R.set(H,K),K},clear:function(){R.clear()}}})(l,new Map),m=(function(){var U=Math.floor(16.666666666666668),R,H,K={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(R=function(ce){var ue=Math.random();return K[ue]=requestAnimationFrame(function Y(le){ne===le||ne+U-1<le?(ne=le,delete K[ue],ce()):K[ue]=requestAnimationFrame(Y)}),ue},H=function(ce){K[ce]&&cancelAnimationFrame(K[ce])}):(R=function(ce){return setTimeout(ce,U)},H=function(ce){return clearTimeout(ce)}),{frame:R,cancel:H}})(),g=(function(){var U,R,H={};function K(ne){function ce(ue,Y){ne.postMessage({options:ue||{},callback:Y})}ne.init=function(Y){var le=Y.transferControlToOffscreen();ne.postMessage({canvas:le},[le])},ne.fire=function(Y,le,he){if(R)return ce(Y,null),R;var be=Math.random().toString(36).slice(2);return R=d(function(we){function xe(Me){Me.data.callback===be&&(delete H[be],ne.removeEventListener("message",xe),R=null,f.clear(),he(),we())}ne.addEventListener("message",xe),ce(Y,be),H[be]=xe.bind(null,{data:{callback:be}})}),R},ne.reset=function(){ne.postMessage({reset:!0});for(var Y in H)H[Y](),delete H[Y]}}return function(){if(U)return U;if(!s&&a){var ne=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{U=new Worker(URL.createObjectURL(new Blob([ne])))}catch(ce){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",ce),null}K(U)}return U}})(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(U,R){return R?R(U):U}function w(U){return U!=null}function j(U,R,H){return b(U&&w(U[R])?U[R]:x[R],H)}function k(U){return U<0?0:Math.floor(U)}function S(U,R){return Math.floor(Math.random()*(R-U))+U}function C(U){return parseInt(U,16)}function E(U){return U.map(T)}function T(U){var R=String(U).replace(/[^0-9a-f]/gi,"");return R.length<6&&(R=R[0]+R[0]+R[1]+R[1]+R[2]+R[2]),{r:C(R.substring(0,2)),g:C(R.substring(2,4)),b:C(R.substring(4,6))}}function M(U){var R=j(U,"origin",Object);return R.x=j(R,"x",Number),R.y=j(R,"y",Number),R}function z(U){U.width=document.documentElement.clientWidth,U.height=document.documentElement.clientHeight}function A(U){var R=U.getBoundingClientRect();U.width=R.width,U.height=R.height}function D(U){var R=document.createElement("canvas");return R.style.position="fixed",R.style.top="0px",R.style.left="0px",R.style.pointerEvents="none",R.style.zIndex=U,R}function B(U,R,H,K,ne,ce,ue,Y,le){U.save(),U.translate(R,H),U.rotate(ce),U.scale(K,ne),U.arc(0,0,1,ue,Y,le),U.restore()}function $(U){var R=U.angle*(Math.PI/180),H=U.spread*(Math.PI/180);return{x:U.x,y:U.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:U.startVelocity*.5+Math.random()*U.startVelocity,angle2D:-R+(.5*H-Math.random()*H),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:U.color,shape:U.shape,tick:0,totalTicks:U.ticks,decay:U.decay,drift:U.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:U.gravity*3,ovalScalar:.6,scalar:U.scalar,flat:U.flat}}function q(U,R){R.x+=Math.cos(R.angle2D)*R.velocity+R.drift,R.y+=Math.sin(R.angle2D)*R.velocity+R.gravity,R.velocity*=R.decay,R.flat?(R.wobble=0,R.wobbleX=R.x+10*R.scalar,R.wobbleY=R.y+10*R.scalar,R.tiltSin=0,R.tiltCos=0,R.random=1):(R.wobble+=R.wobbleSpeed,R.wobbleX=R.x+10*R.scalar*Math.cos(R.wobble),R.wobbleY=R.y+10*R.scalar*Math.sin(R.wobble),R.tiltAngle+=.1,R.tiltSin=Math.sin(R.tiltAngle),R.tiltCos=Math.cos(R.tiltAngle),R.random=Math.random()+2);var H=R.tick++/R.totalTicks,K=R.x+R.random*R.tiltCos,ne=R.y+R.random*R.tiltSin,ce=R.wobbleX+R.random*R.tiltCos,ue=R.wobbleY+R.random*R.tiltSin;if(U.fillStyle="rgba("+R.color.r+", "+R.color.g+", "+R.color.b+", "+(1-H)+")",U.beginPath(),o&&R.shape.type==="path"&&typeof R.shape.path=="string"&&Array.isArray(R.shape.matrix))U.fill(I(R.shape.path,R.shape.matrix,R.x,R.y,Math.abs(ce-K)*.1,Math.abs(ue-ne)*.1,Math.PI/10*R.wobble));else if(R.shape.type==="bitmap"){var Y=Math.PI/10*R.wobble,le=Math.abs(ce-K)*.1,he=Math.abs(ue-ne)*.1,be=R.shape.bitmap.width*R.scalar,we=R.shape.bitmap.height*R.scalar,xe=new DOMMatrix([Math.cos(Y)*le,Math.sin(Y)*le,-Math.sin(Y)*he,Math.cos(Y)*he,R.x,R.y]);xe.multiplySelf(new DOMMatrix(R.shape.matrix));var Me=U.createPattern(f.transform(R.shape.bitmap),"no-repeat");Me.setTransform(xe),U.globalAlpha=1-H,U.fillStyle=Me,U.fillRect(R.x-be/2,R.y-we/2,be,we),U.globalAlpha=1}else if(R.shape==="circle")U.ellipse?U.ellipse(R.x,R.y,Math.abs(ce-K)*R.ovalScalar,Math.abs(ue-ne)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI):B(U,R.x,R.y,Math.abs(ce-K)*R.ovalScalar,Math.abs(ue-ne)*R.ovalScalar,Math.PI/10*R.wobble,0,2*Math.PI);else if(R.shape==="star")for(var re=Math.PI/2*3,Ee=4*R.scalar,Ze=8*R.scalar,it=R.x,kt=R.y,We=5,ct=Math.PI/We;We--;)it=R.x+Math.cos(re)*Ze,kt=R.y+Math.sin(re)*Ze,U.lineTo(it,kt),re+=ct,it=R.x+Math.cos(re)*Ee,kt=R.y+Math.sin(re)*Ee,U.lineTo(it,kt),re+=ct;else U.moveTo(Math.floor(R.x),Math.floor(R.y)),U.lineTo(Math.floor(R.wobbleX),Math.floor(ne)),U.lineTo(Math.floor(ce),Math.floor(ue)),U.lineTo(Math.floor(K),Math.floor(R.wobbleY));return U.closePath(),U.fill(),R.tick<R.totalTicks}function Z(U,R,H,K,ne){var ce=R.slice(),ue=U.getContext("2d"),Y,le,he=d(function(be){function we(){Y=le=null,ue.clearRect(0,0,K.width,K.height),f.clear(),ne(),be()}function xe(){s&&!(K.width===r.width&&K.height===r.height)&&(K.width=U.width=r.width,K.height=U.height=r.height),!K.width&&!K.height&&(H(U),K.width=U.width,K.height=U.height),ue.clearRect(0,0,K.width,K.height),ce=ce.filter(function(Me){return q(ue,Me)}),ce.length?Y=m.frame(xe):we()}Y=m.frame(xe),le=we});return{addFettis:function(be){return ce=ce.concat(be),he},canvas:U,promise:he,reset:function(){Y&&m.cancel(Y),le&&le()}}}function F(U,R){var H=!U,K=!!j(R||{},"resize"),ne=!1,ce=j(R,"disableForReducedMotion",Boolean),ue=a&&!!j(R||{},"useWorker"),Y=ue?g():null,le=H?z:A,he=U&&Y?!!U.__confetti_initialized:!1,be=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,we;function xe(re,Ee,Ze){for(var it=j(re,"particleCount",k),kt=j(re,"angle",Number),We=j(re,"spread",Number),ct=j(re,"startVelocity",Number),X=j(re,"decay",Number),oe=j(re,"gravity",Number),me=j(re,"drift",Number),ze=j(re,"colors",E),Ae=j(re,"ticks",Number),Ce=j(re,"shapes"),Fe=j(re,"scalar"),ot=!!j(re,"flat"),Te=M(re),Ue=it,tt=[],Ge=U.width*Te.x,mt=U.height*Te.y;Ue--;)tt.push($({x:Ge,y:mt,angle:kt,spread:We,startVelocity:ct,color:ze[Ue%ze.length],shape:Ce[S(0,Ce.length)],ticks:Ae,decay:X,gravity:oe,drift:me,scalar:Fe,flat:ot}));return we?we.addFettis(tt):(we=Z(U,tt,le,Ee,Ze),we.promise)}function Me(re){var Ee=ce||j(re,"disableForReducedMotion",Boolean),Ze=j(re,"zIndex",Number);if(Ee&&be)return d(function(ct){ct()});H&&we?U=we.canvas:H&&!U&&(U=D(Ze),document.body.appendChild(U)),K&&!he&&le(U);var it={width:U.width,height:U.height};Y&&!he&&Y.init(U),he=!0,Y&&(U.__confetti_initialized=!0);function kt(){if(Y){var ct={getBoundingClientRect:function(){if(!H)return U.getBoundingClientRect()}};le(ct),Y.postMessage({resize:{width:ct.width,height:ct.height}});return}it.width=it.height=null}function We(){we=null,K&&(ne=!1,t.removeEventListener("resize",kt)),H&&U&&(document.body.contains(U)&&document.body.removeChild(U),U=null,he=!1)}return K&&!ne&&(ne=!0,t.addEventListener("resize",kt,!1)),Y?Y.fire(re,it,We):xe(re,it,We)}return Me.reset=function(){Y&&Y.reset(),we&&we.reset()},Me}var J;function P(){return J||(J=F(null,{useWorker:!0,resize:!0})),J}function I(U,R,H,K,ne,ce,ue){var Y=new Path2D(U),le=new Path2D;le.addPath(Y,new DOMMatrix(R));var he=new Path2D;return he.addPath(le,new DOMMatrix([Math.cos(ue)*ne,Math.sin(ue)*ne,-Math.sin(ue)*ce,Math.cos(ue)*ce,H,K])),he}function L(U){if(!o)throw new Error("path confetti are not supported in this browser");var R,H;typeof U=="string"?R=U:(R=U.path,H=U.matrix);var K=new Path2D(R),ne=document.createElement("canvas"),ce=ne.getContext("2d");if(!H){for(var ue=1e3,Y=ue,le=ue,he=0,be=0,we,xe,Me=0;Me<ue;Me+=2)for(var re=0;re<ue;re+=2)ce.isPointInPath(K,Me,re,"nonzero")&&(Y=Math.min(Y,Me),le=Math.min(le,re),he=Math.max(he,Me),be=Math.max(be,re));we=he-Y,xe=be-le;var Ee=10,Ze=Math.min(Ee/we,Ee/xe);H=[Ze,0,0,Ze,-Math.round(we/2+Y)*Ze,-Math.round(xe/2+le)*Ze]}return{type:"path",path:R,matrix:H}}function G(U){var R,H=1,K="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof U=="string"?R=U:(R=U.text,H="scalar"in U?U.scalar:H,ne="fontFamily"in U?U.fontFamily:ne,K="color"in U?U.color:K);var ce=10*H,ue=""+ce+"px "+ne,Y=new OffscreenCanvas(ce,ce),le=Y.getContext("2d");le.font=ue;var he=le.measureText(R),be=Math.ceil(he.actualBoundingBoxRight+he.actualBoundingBoxLeft),we=Math.ceil(he.actualBoundingBoxAscent+he.actualBoundingBoxDescent),xe=2,Me=he.actualBoundingBoxLeft+xe,re=he.actualBoundingBoxAscent+xe;be+=xe+xe,we+=xe+xe,Y=new OffscreenCanvas(be,we),le=Y.getContext("2d"),le.font=ue,le.fillStyle=K,le.fillText(R,Me,re);var Ee=1/H;return{type:"bitmap",bitmap:Y.transferToImageBitmap(),matrix:[Ee,0,0,Ee,-be*Ee/2,-we*Ee/2]}}n.exports=function(){return P().apply(this,arguments)},n.exports.reset=function(){P().reset()},n.exports.create=F,n.exports.shapeFromPath=L,n.exports.shapeFromText=G})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),$E,!1);const cEe=$E.exports;$E.exports.create;function uEe(){const{courseId:e,partNumber:t}=Ho(),{user:n}=Ht(),s=Jt(),{onLessonComplete:r,onCourseComplete:a,lastXpEvent:o,clearLastEvent:l}=eU(),u=parseInt(t||"1",10)-1,[d,f]=v.useState(null),[m,g]=v.useState([]),[x,b]=v.useState(new Map),[w,j]=v.useState(new Set),[k,S]=v.useState(new Map),[C,E]=v.useState(!0),[T,M]=v.useState(!1),[z,A]=v.useState(0),[D,B]=v.useState(0),[$,q]=v.useState(0),[Z,F]=v.useState(0),[J,P]=v.useState(0),[I,L]=v.useState(!1),G=v.useRef(null),U=v.useRef(null),R=v.useRef(null),H=v.useRef(!0),K=v.useRef(0),ne=v.useRef(0),ce=v.useRef(null),ue=v.useRef(Date.now()),Y=v.useRef(!1),le=v.useRef(new Set);v.useEffect(()=>{le.current=w},[w]),v.useEffect(()=>{g([]),f(null),E(!0),j(new Set),S(new Map),A(0),B(0),q(0),F(0),P(0),L(!1)},[e,t]),v.useEffect(()=>{n&&e&&xe()},[n,e,t]),v.useEffect(()=>{var Te;if(!window.YT){const Ue=document.createElement("script");Ue.src="https://www.youtube.com/iframe_api";const tt=document.getElementsByTagName("script")[0];(Te=tt.parentNode)==null||Te.insertBefore(Ue,tt)}},[]);const he=m[u]||null,be=async()=>{if(!n||!he||!U.current)return;const Te=he.id,Ue=K.current;if(!(Ue<=ne.current))try{const tt=Math.floor(U.current.getCurrentTime?U.current.getCurrentTime():0),Ge=le.current.has(Te),mt=$>0?Math.min(Math.round(tt/$*100),100):0,{data:Nt}=await ae.from("user_course_progress").select("id").eq("user_id",n.id).eq("lesson_id",Te).maybeSingle();Nt?await ae.from("user_course_progress").update({completed:Ge,progress_percent:mt,last_watched_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",Nt.id):await ae.from("user_course_progress").insert({user_id:n.id,course_id:e,lesson_id:Te,completed:Ge,progress_percent:mt,last_watched_at:new Date().toISOString()}),ne.current=Ue}catch(tt){console.error("Error saving watch time:",tt)}},we=async()=>{if(!(!n||!he))try{const{data:Te}=await ae.from("user_course_progress").select("progress_percent, completed").eq("user_id",n.id).eq("lesson_id",he.id).maybeSingle();if(Te){const Ue=Math.floor(Te.progress_percent/100*(he.duration*60));K.current=Ue,ne.current=Ue,F(Ue),P(Ue)}else K.current=0,ne.current=0,F(0),P(0)}catch(Te){console.error("Error loading module progress:",Te)}};v.useEffect(()=>{if(!he)return;H.current=!0,A(0),B(0),q(0),ue.current=Date.now(),Y.current=!1,R.current&&(clearInterval(R.current),R.current=null),ce.current&&(clearInterval(ce.current),ce.current=null),we();const Te=async()=>{if(U.current){try{const Ge=U.current.getIframe();Ge&&Ge.parentNode&&U.current.destroy()}catch{}U.current=null}},Ue=async()=>{var Rt;if(!H.current)return;await Te();const Ge=he==null?void 0:he.video_url;if(!Ge||!H.current)return;const mt=Ge.match(/embed\/([^?]+)/),Nt=mt?mt[1]:null;if(Nt&&((Rt=window.YT)!=null&&Rt.Player)&&G.current&&H.current){const ln=G.current;for(;ln.firstChild;)ln.removeChild(ln.firstChild);const xr=document.createElement("div");ln.appendChild(xr);try{U.current=new window.YT.Player(xr,{videoId:Nt,width:"100%",height:"100%",playerVars:{enablejsapi:1,origin:window.location.origin},events:{onReady:()=>{if(!(!H.current||!U.current))try{const Kn=Math.floor(U.current.getDuration());H.current&&q(Kn),!Y.current&&J>0&&J<Kn-10&&(U.current.seekTo(J,!0),Y.current=!0),R.current=setInterval(()=>{var Ye;if(!H.current||!((Ye=U.current)!=null&&Ye.getCurrentTime)){R.current&&(clearInterval(R.current),R.current=null);return}try{const Et=Math.floor(U.current.getCurrentTime()),Dt=U.current.getDuration(),at=U.current.getPlayerState();if(H.current){B(Et);const gt=Date.now(),qe=(gt-ue.current)/1e3;at===1&&qe>=.9&&qe<=1.5&&(K.current+=1,F(K.current)),ue.current=gt,Dt>0&&A(Math.min(Et/Dt*100,100))}}catch{}},1e3),ce.current=setInterval(()=>be(),1e4)}catch{}},onStateChange:Kn=>{Kn.data===window.YT.PlayerState.ENDED&&(be(),R.current&&(clearInterval(R.current),R.current=null),ce.current&&(clearInterval(ce.current),ce.current=null))}}})}catch(Kn){console.error("Error creating player:",Kn)}}},tt=setTimeout(()=>{var Ge;(Ge=window.YT)!=null&&Ge.Player?Ue():window.onYouTubeIframeAPIReady=Ue},200);return()=>{if(H.current=!1,clearTimeout(tt),be(),R.current&&(clearInterval(R.current),R.current=null),ce.current&&(clearInterval(ce.current),ce.current=null),U.current){try{const Ge=U.current.getIframe();Ge&&Ge.parentNode&&U.current.destroy()}catch{}U.current=null}if(G.current)for(;G.current.firstChild;)G.current.removeChild(G.current.firstChild)}},[he,n,e]);const xe=async()=>{try{const{data:Te}=await ae.from("courses").select("id, title, description, thumbnail_url, price, order_index, package_id").eq("id",e).maybeSingle();if(!Te){E(!1);return}f(Te);const{data:Ue}=await ae.from("course_lessons").select("id, course_id, title, description, video_url, duration, order_index").eq("course_id",e).order("order_index");if(Ue){g(Ue);const tt=Ue.map(Ge=>Ge.id);if(tt.length>0){const{data:Ge}=await ae.from("course_videos").select("id, lesson_id, title, video_provider, video_external_id, video_url, storage_path, duration_seconds, order_index").in("lesson_id",tt).order("order_index");if(Ge){const mt=new Map;for(const Nt of Ge){const Rt=mt.get(Nt.lesson_id)??[];Rt.push(Nt),mt.set(Nt.lesson_id,Rt)}b(mt)}}}if(n){const[{data:tt},{data:Ge}]=await Promise.all([ae.from("course_enrollments").select("id").eq("user_id",n.id).eq("course_id",e).maybeSingle(),ae.from("course_purchases").select("id").eq("user_id",n.id).eq("course_id",e).maybeSingle()]);M(!!tt||!!Ge);const{data:mt}=await ae.from("user_course_progress").select("lesson_id, completed, completed_at").eq("user_id",n.id).eq("course_id",e);if(mt){j(new Set(mt.filter(Rt=>Rt.completed).map(Rt=>Rt.lesson_id)));const Nt=new Map;for(const Rt of mt)Rt.completed&&Rt.completed_at&&Nt.set(Rt.lesson_id,Rt.completed_at);S(Nt)}}}catch(Te){console.error("Error loading course data:",Te)}finally{E(!1)}},Me=Te=>{if(Te===0)return"available";if(!m[Te])return"locked";if(w.has(m[Te].id))return"available";const Ue=m[Te-1];if(!w.has(Ue.id))return"locked";const tt=k.get(Ue.id);if(!tt)return"available";const Ge=new Date(tt),mt=new Date,Nt=new Date(Ge.getFullYear(),Ge.getMonth(),Ge.getDate()),Rt=new Date(mt.getFullYear(),mt.getMonth(),mt.getDate());return Nt.getTime()>=Rt.getTime()?"daily_locked":"available"},re=async()=>{if(!(!n||!he||w.has(he.id)))try{await be();const Te=new Date().toISOString(),{data:Ue}=await ae.from("user_course_progress").select("id").eq("user_id",n.id).eq("lesson_id",he.id).maybeSingle();Ue?await ae.from("user_course_progress").update({completed:!0,completed_at:Te,progress_percent:100,last_watched_at:Te,updated_at:Te}).eq("id",Ue.id):await ae.from("user_course_progress").insert({user_id:n.id,course_id:e,lesson_id:he.id,completed:!0,completed_at:Te,progress_percent:100,last_watched_at:Te}),j(Ge=>new Set([...Ge,he.id])),S(Ge=>new Map(Ge).set(he.id,Te)),await r(he.id);const tt=u===m.length-1;Se.success("Lekce dokoncena!",{description:tt?"Gratulujeme! Dokoncili jste cely kurz!":"Dalsi lekce bude dostupna zitra."}),tt&&setTimeout(async()=>{await Ee()},2e3)}catch(Te){console.error("Error marking module complete:",Te),Se.error("Chyba pri dokoncovani lekce")}},Ee=async()=>{if(!(!n||!d))try{await ae.from("course_enrollments").update({completed:!0,completion_date:new Date().toISOString()}).eq("user_id",n.id).eq("course_id",e),await a(e),cEe({particleCount:150,spread:100,origin:{y:.5},colors:["#10b981","#3b82f6","#2563eb","#f59e0b"]}),Se.success("Kurz uspesne dokoncen!",{description:"Gratulujeme!",duration:5e3}),setTimeout(()=>s(`/kurz/${e}`),2e3)}catch(Te){console.error("Error completing course:",Te)}},Ze=Te=>{const Ue=Math.floor(Te/60),tt=Te%60;return`${Ue}:${tt.toString().padStart(2,"0")}`};if(!n)return i.jsx(Ua,{to:"/prihlaseni",replace:!0});if(C)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(Ul,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nacitani lekce..."})]})});if(!d||!T)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-4 max-w-md px-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-muted flex items-center justify-center",children:i.jsx($l,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Kurz nenalezen"}),i.jsx("p",{className:"text-muted-foreground",children:"Tento kurz neexistuje nebo k nemu nemate pristup."}),i.jsx(Q,{asChild:!0,variant:"outline",className:"mt-2",children:i.jsx(Be,{to:"/prehled/moje-kurzy",children:"Zpet na kurzy"})})]})});if(!he)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-4 max-w-md px-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-muted flex items-center justify-center",children:i.jsx(Wt,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Lekce nenalezena"}),i.jsx("p",{className:"text-muted-foreground",children:"Tato cast kurzu neexistuje."}),i.jsx(Q,{asChild:!0,variant:"outline",className:"mt-2",children:i.jsx(Be,{to:`/kurz/${e}`,children:"Zpet na kurz"})})]})});const it=Me(u);if(it!=="available")return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-4 max-w-md px-4",children:[it==="daily_locked"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-amber-500/10 flex items-center justify-center",children:i.jsx(Oo,{className:"h-8 w-8 text-amber-500"})}),i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Lekce bude dostupna zitra"}),i.jsx("p",{className:"text-muted-foreground",children:"Kazdy den se odemkne nova lekce."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-muted flex items-center justify-center",children:i.jsx($l,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Lekce je zamcena"}),i.jsx("p",{className:"text-muted-foreground",children:"Nejdrive dokoncete predchozi lekce."})]}),i.jsx(Q,{asChild:!0,variant:"outline",className:"mt-2",children:i.jsx(Be,{to:`/kurz/${e}`,children:"Zpet na kurz"})})]})});const kt=w.has(he.id),We=w.size/m.length*100,ct=$>0?$:he.duration*60,X=Math.max(0,ct-D),oe=u===m.length-1,me=u===0,Ae=(x.get(he.id)??[]).find(Te=>Te.video_provider==="storage"&&Te.video_url),Ce=!!Ae,Fe=oe?null:Me(u+1),ot=Fe==="available";return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:i.jsx("div",{className:"mx-auto max-w-7xl py-3 px-4 sm:px-6 lg:px-8 landscape-compact",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx(s1,{children:i.jsxs(r1,{children:[i.jsx(ai,{children:i.jsx(Do,{asChild:!0,children:i.jsx(Be,{to:"/prehled",children:i.jsx(Oi,{className:"size-4"})})})}),i.jsx(Po,{}),i.jsx(ai,{children:i.jsx(Do,{asChild:!0,children:i.jsx(Be,{to:"/prehled/moje-kurzy",children:"Kurzy"})})}),i.jsx(Po,{}),i.jsx(ai,{children:i.jsx(Do,{asChild:!0,children:i.jsx(Be,{to:`/kurz/${e}`,className:"max-w-[120px] sm:max-w-[200px] truncate inline-block",children:d.title})})}),i.jsx(Po,{}),i.jsx(ai,{children:i.jsxs(i1,{children:["Cast ",u+1]})})]})}),i.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:i.jsxs("span",{children:[w.size,"/",m.length]})}),i.jsx(Hi,{value:We,className:"h-1.5 w-20"}),i.jsxs("span",{className:"text-xs font-semibold tabular-nums",children:[Math.round(We),"%"]})]})]})})}),i.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 lg:py-8 landscape-compact",children:i.jsxs("div",{className:"landscape-video-fullwidth grid grid-cols-1 lg:grid-cols-[1fr_320px] xl:grid-cols-[1fr_360px] gap-6 lg:gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"rounded-2xl border bg-card overflow-hidden shadow-sm",children:[i.jsx("div",{className:"bg-black aspect-video relative",children:Ce?i.jsx("video",{className:"w-full h-full",controls:!0,controlsList:"nodownload",onContextMenu:Te=>Te.preventDefault(),src:Ae.video_url,onTimeUpdate:Te=>{const Ue=Te.currentTarget;B(Math.floor(Ue.currentTime)),Ue.duration>0&&(A(Ue.currentTime/Ue.duration*100),q(Math.floor(Ue.duration)))},onLoadedMetadata:Te=>{const Ue=Te.currentTarget;q(Math.floor(Ue.duration)),J>0&&J<Ue.duration-10&&(Ue.currentTime=J)}}):i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:G,className:"w-full h-full [&>div]:w-full [&>div]:h-full [&_iframe]:w-full [&_iframe]:h-full"}),!I&&i.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center cursor-pointer",onClick:()=>L(!0),onTouchEnd:Te=>{Te.preventDefault(),L(!0)},children:i.jsxs("div",{className:"flex flex-col items-center gap-2 select-none",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border border-white/30",children:i.jsx(_v,{className:"h-9 w-9 text-white drop-shadow"})}),i.jsx("span",{className:"text-white/80 text-xs font-medium tracking-wide drop-shadow",children:"Klepnete pro prehrani"})]})})]})}),i.jsxs("div",{className:"px-4 sm:px-5 py-3 bg-muted/30 border-t",children:[i.jsx("div",{className:"relative h-1.5 rounded-full bg-muted overflow-hidden",children:i.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-primary transition-all duration-300",style:{width:`${z}%`}})}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[i.jsx("span",{className:"tabular-nums",children:Ze(D)}),i.jsxs("span",{className:"tabular-nums",children:["-",Ze(X)]})]})]})]}),i.jsxs("div",{className:"space-y-4 landscape-hide",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs(Le,{variant:"secondary",className:"text-xs font-medium gap-1.5 px-2.5 py-1",children:[i.jsx(tc,{className:"h-3 w-3"}),"Cast ",u+1," z ",m.length]}),i.jsxs(Le,{variant:"secondary",className:"text-xs font-medium gap-1.5 px-2.5 py-1",children:[i.jsx(on,{className:"h-3 w-3"}),he.duration," min"]}),kt&&i.jsxs(Le,{className:"bg-emerald-500/15 text-emerald-600 dark:text-emerald-400 border-emerald-500/30 text-xs font-medium gap-1.5 px-2.5 py-1",children:[i.jsx(Fs,{className:"h-3 w-3"}),"Dokonceno"]})]}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight leading-tight",children:he.title}),he.description&&i.jsx("p",{className:"text-base text-muted-foreground leading-relaxed",children:he.description})]}),d.description&&i.jsx("div",{className:"rounded-2xl border bg-gradient-to-br from-card to-muted/30 p-5 sm:p-6 landscape-hide",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(lc,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{className:"space-y-2 min-w-0",children:[i.jsx("h2",{className:"font-semibold text-sm uppercase tracking-wider text-muted-foreground",children:"O kurzu"}),i.jsx("p",{className:"text-sm leading-relaxed",children:d.description})]})]})}),!kt&&i.jsx("div",{className:"rounded-2xl border-2 border-dashed border-primary/20 bg-primary/[0.02] p-5 sm:p-6 landscape-hide",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(a8,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Dokoncili jste tuto lekci?"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Oznacte lekci jako dokoncene pro odemknuti dalsiho obsahu."})]}),i.jsxs(Q,{onClick:re,size:"lg",className:"w-full sm:w-auto flex-shrink-0",children:[i.jsx(Fs,{className:"h-4 w-4 mr-2"}),"Dokoncit lekci"]})]})}),i.jsxs("div",{className:"flex items-center gap-3 pt-2 landscape-hide",children:[!me&&i.jsxs(Q,{variant:"outline",className:"flex-1 sm:flex-none",onClick:()=>s(`/kurz/${e}/cast/${u}`),children:[i.jsx(da,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"truncate",children:"Predchozi lekce"})]}),!oe&&i.jsx(Q,{variant:ot?"default":"outline",className:se("flex-1 sm:flex-none",!ot&&"opacity-60"),disabled:!ot,onClick:()=>ot&&s(`/kurz/${e}/cast/${u+2}`),children:Fe==="daily_locked"?i.jsxs(i.Fragment,{children:[i.jsx(Oo,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"truncate",children:"Dostupne zitra"})]}):Fe==="locked"?i.jsxs(i.Fragment,{children:[i.jsx($l,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"truncate",children:"Zamceno"})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"truncate",children:"Dalsi lekce"}),i.jsx(ur,{className:"h-4 w-4 ml-2"})]})})]})]}),i.jsxs("div",{className:"space-y-4 lg:sticky lg:top-20 lg:self-start",children:[i.jsxs("div",{className:"rounded-2xl border bg-card overflow-hidden",children:[i.jsxs("div",{className:"p-4 sm:p-5 border-b bg-muted/30",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(_v,{className:"h-4 w-4 text-primary"})}),i.jsx("h3",{className:"font-semibold",children:"Pokrok"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[w.size," z ",m.length," lekci"]}),i.jsxs("span",{className:"font-semibold tabular-nums",children:[Math.round(We),"%"]})]}),i.jsx("div",{className:"relative h-2 rounded-full bg-muted overflow-hidden",children:i.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-primary transition-all duration-500 ease-out",style:{width:`${We}%`}})})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-3 text-xs text-muted-foreground",children:[i.jsx(qle,{className:"h-3.5 w-3.5"}),i.jsxs("span",{children:["Sledovano: ",Ze(Z)]})]})]}),i.jsx("div",{className:"p-2",children:i.jsx("div",{className:"space-y-0.5",children:m.map((Te,Ue)=>{var Nt;const tt=Me(Ue),Ge=w.has(Te.id),mt=Ue===u;return i.jsxs("button",{type:"button",onClick:()=>tt==="available"&&s(`/kurz/${e}/cast/${Ue+1}`),disabled:tt!=="available",className:se("w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-left text-sm transition-all duration-200",mt&&"bg-primary/10 ring-1 ring-primary/20",!mt&&tt==="available"&&"hover:bg-muted/60",tt!=="available"&&"opacity-40 cursor-not-allowed"),children:[i.jsx("div",{className:se("w-7 h-7 rounded-lg flex items-center justify-center text-xs font-medium flex-shrink-0 transition-colors",Ge?"bg-emerald-500 text-white":mt?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:Ge?i.jsx(Fs,{className:"h-3.5 w-3.5"}):tt==="locked"?i.jsx($l,{className:"h-3 w-3"}):tt==="daily_locked"?i.jsx(Oo,{className:"h-3 w-3"}):Ue+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:se("block truncate text-sm",mt&&"font-medium text-primary"),children:Te.title}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[Te.duration," min",(((Nt=x.get(Te.id))==null?void 0:Nt.length)??0)>0&&i.jsxs("span",{className:"ml-1",children:["| ",x.get(Te.id).length," videi"]})]})]}),mt&&tt==="available"&&i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0 animate-pulse"}),!mt&&tt==="available"&&i.jsx(hr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"})]},Te.id)})})})]}),i.jsxs(Q,{variant:"outline",className:"w-full",onClick:()=>s(`/kurz/${e}`),children:[i.jsx(Wt,{className:"h-4 w-4 mr-2"}),"Prehled kurzu"]})]})]})}),i.jsx(EB,{}),o&&i.jsx(tU,{amount:o.amount,source:o.source,newBadges:o.newBadges,newRank:o.newRank,visible:!!o,onClose:l})]})}function dEe(){const{pathname:e}=ss();return v.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const hEe={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.4,ease:[.4,0,.2,1]}}},fEe={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.07}}},mEe={hidden:{opacity:0,y:16,scale:.97},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:24}}};function Wo({children:e,className:t}){return i.jsx(ee.div,{variants:hEe,initial:"hidden",animate:"show",className:t,children:e})}function Oh({children:e,className:t}){return i.jsx(ee.div,{variants:fEe,initial:"hidden",animate:"show",className:t,children:e})}function li({children:e,className:t}){return i.jsx(ee.div,{variants:mEe,className:t,children:e})}function ca({children:e,className:t}){return i.jsx(ee.div,{whileHover:{scale:1.015,y:-3},whileTap:{scale:.995},transition:{type:"spring",stiffness:400,damping:30},className:se("cursor-pointer",t),children:e})}function jh({children:e,className:t,index:n=0}){return i.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n*.04,duration:.25,ease:"easeOut"},whileHover:{scale:1.008,y:-1},className:t,children:e})}const pEe=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function cD(e){if(e<60)return`${e}s`;const t=Math.floor(e/60),n=e%60;return n>0?`${t}m ${n}s`:`${t}m`}function gEe(e){const t=Date.now()-new Date(e).getTime(),n=Math.floor(t/6e4);if(n<1)return"prave ted";if(n<60)return`pred ${n}m`;const s=Math.floor(n/60);return s<24?`pred ${s}h`:`pred ${Math.floor(s/24)}d`}const xEe=({type:e})=>e==="mobile"?i.jsx(i8,{className:"size-3.5"}):e==="tablet"?i.jsx(o8,{className:"size-3.5"}):i.jsx(YL,{className:"size-3.5"});function vEe(){const[e,t]=v.useState({totalUsers:0,totalCourses:0,totalEnrollments:0,totalPurchases:0,totalRevenue:0,activeSubscriptions:0}),[n,s]=v.useState([]),[r,a]=v.useState({totalPageViews:0,uniqueSessions:0,uniqueUsers:0,avgDuration:0,topPages:[],deviceBreakdown:{desktop:0,mobile:0,tablet:0},recentActivity:[],todayPageViews:0,weekPageViews:0}),[o,l]=v.useState(!0),u=v.useCallback(async()=>{try{const g=new Date,x=new Date(g.getFullYear(),g.getMonth(),g.getDate()).toISOString(),b=new Date(g.getTime()-10080*60*1e3).toISOString(),[{data:w},{count:j},{count:k},{data:S}]=await Promise.all([ae.from("user_activity").select("id, user_id, session_id, event_type, page_path, page_title, device_type, duration_seconds, created_at").eq("event_type","page_view").order("created_at",{ascending:!1}).limit(500),ae.from("user_activity").select("id",{count:"exact",head:!0}).eq("event_type","page_view").gte("created_at",x),ae.from("user_activity").select("id",{count:"exact",head:!0}).eq("event_type","page_view").gte("created_at",b),ae.from("user_activity").select("id, user_id, session_id, event_type, page_path, page_title, device_type, duration_seconds, created_at").order("created_at",{ascending:!1}).limit(20)]),C=w??[],E=new Set(C.map(B=>B.session_id)),T=new Set(C.filter(B=>B.user_id).map(B=>B.user_id)),M=C.reduce((B,$)=>B+($.duration_seconds||0),0),z=new Map;for(const B of C){const $=z.get(B.page_path);$?$.count++:z.set(B.page_path,{title:B.page_title||B.page_path,count:1})}const A=Array.from(z.entries()).map(([B,$])=>({path:B,title:$.title,views:$.count})).sort((B,$)=>$.views-B.views).slice(0,8),D={desktop:0,mobile:0,tablet:0};for(const B of C){const $=B.device_type;$ in D&&D[$]++}a({totalPageViews:C.length,uniqueSessions:E.size,uniqueUsers:T.size,avgDuration:C.length>0?Math.round(M/C.length):0,topPages:A,deviceBreakdown:D,recentActivity:S??[],todayPageViews:j??0,weekPageViews:k??0})}catch{}},[]);v.useEffect(()=>{(async()=>{try{const[{count:x},{count:b},{count:w},{data:j},{count:k},{data:S}]=await Promise.all([ae.from("profiles").select("*",{count:"exact",head:!0}),ae.from("courses").select("*",{count:"exact",head:!0}),ae.from("course_enrollments").select("*",{count:"exact",head:!0}),ae.from("course_purchases").select("amount_paid"),ae.from("subscriptions").select("*",{count:"exact",head:!0}).in("status",["active","trialing"]),ae.from("profiles").select("id, email, full_name, created_at").order("created_at",{ascending:!1}).limit(5)]),C=(j==null?void 0:j.reduce((E,T)=>E+Number(T.amount_paid||0),0))??0;t({totalUsers:x??0,totalCourses:b??0,totalEnrollments:w??0,totalPurchases:(j==null?void 0:j.length)??0,totalRevenue:C,activeSubscriptions:k??0}),s(S??[]),await u()}finally{l(!1)}})()},[u]),v.useEffect(()=>{const g=setInterval(u,3e4);return()=>clearInterval(g)},[u]);const d=[{label:"Uzivatele",value:e.totalUsers,icon:qa,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-100/60 dark:bg-blue-900/30",link:"/admin/users"},{label:"Kurzy",value:e.totalCourses,icon:Wt,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-100/60 dark:bg-emerald-900/30",link:"/admin/courses"},{label:"Zapisy",value:e.totalEnrollments,icon:Pu,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100/60 dark:bg-amber-900/30",link:"/admin/courses"},{label:"Aktivni predplatne",value:e.activeSubscriptions,icon:sr,color:"text-cyan-600 dark:text-cyan-400",bg:"bg-cyan-100/60 dark:bg-cyan-900/30",link:"/admin/subscriptions"},{label:"Nakupy kurzu",value:e.totalPurchases,icon:Eh,color:"text-rose-600 dark:text-rose-400",bg:"bg-rose-100/60 dark:bg-rose-900/30",link:"/admin/invoices"},{label:"Celkove prijmy",value:pEe(e.totalRevenue),icon:sr,color:"text-green-600 dark:text-green-400",bg:"bg-green-100/60 dark:bg-green-900/30",link:"/admin/invoices",isFormatted:!0}],f=r.deviceBreakdown.desktop+r.deviceBreakdown.mobile+r.deviceBreakdown.tablet,m=g=>f>0?Math.round(g/f*100):0;return o?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(Wo,{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Admin Panel"}),i.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Sprava uzivatelu, kurzu a faktur"})]}),i.jsx(Oh,{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:d.map(g=>{const x=g.icon;return i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Be,{to:g.link,children:i.jsxs(Oe,{className:"transition-shadow hover:shadow-md",children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium text-neutral-500",children:g.label}),i.jsx("div",{className:`flex size-8 items-center justify-center rounded-lg ${g.bg}`,children:i.jsx(x,{className:`size-4 ${g.color}`})})]}),i.jsx(De,{children:i.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:g.value})})]})})})},g.label)})}),i.jsxs(Oh,{className:"space-y-8",children:[i.jsx(li,{children:i.jsxs(Oe,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(x2,{className:"size-5 text-green-600"}),i.jsx(Qe,{className:"text-base",children:"Provoz webu (Traffic Monitor)"})]}),i.jsxs(Le,{variant:"outline",className:"text-xs font-normal",children:[i.jsx("span",{className:"mr-1.5 inline-block size-1.5 animate-pulse rounded-full bg-green-500"}),"Zive"]})]}),i.jsx(De,{children:i.jsxs(ja,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Zi,{className:"mb-4 grid w-full grid-cols-3",children:[i.jsx(kn,{value:"overview",children:"Prehled"}),i.jsx(kn,{value:"pages",children:"Stranky"}),i.jsx(kn,{value:"live",children:"Ziva aktivita"})]}),i.jsxs(Ln,{value:"overview",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border p-4 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[i.jsx(Dae,{className:"size-3.5"}),"Zobrazeni dnes"]}),i.jsx("p",{className:"mt-2 text-2xl font-bold",children:r.todayPageViews})]}),i.jsxs("div",{className:"rounded-lg border p-4 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[i.jsx(qa,{className:"size-3.5"}),"Unikatni navstevnici"]}),i.jsx("p",{className:"mt-2 text-2xl font-bold",children:r.uniqueUsers})]}),i.jsxs("div",{className:"rounded-lg border p-4 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[i.jsx(x2,{className:"size-3.5"}),"Celkem sezeni"]}),i.jsx("p",{className:"mt-2 text-2xl font-bold",children:r.uniqueSessions})]}),i.jsxs("div",{className:"rounded-lg border p-4 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[i.jsx(on,{className:"size-3.5"}),"Prumerna doba"]}),i.jsx("p",{className:"mt-2 text-2xl font-bold",children:cD(r.avgDuration)})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"mb-3 text-sm font-medium text-neutral-500",children:"Zarizeni"}),i.jsx("div",{className:"space-y-3",children:[{label:"Desktop",count:r.deviceBreakdown.desktop,icon:YL,color:"bg-blue-500"},{label:"Mobil",count:r.deviceBreakdown.mobile,icon:i8,color:"bg-green-500"},{label:"Tablet",count:r.deviceBreakdown.tablet,icon:o8,color:"bg-amber-500"}].map(g=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(g.icon,{className:"size-4 text-neutral-500"}),i.jsx("span",{className:"w-16 text-sm",children:g.label}),i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"h-2 rounded-full bg-neutral-100 dark:bg-neutral-800",children:i.jsx("div",{className:`h-2 rounded-full ${g.color} transition-all duration-500`,style:{width:`${m(g.count)}%`}})})}),i.jsxs("span",{className:"w-12 text-right text-xs tabular-nums text-neutral-500",children:[m(g.count),"%"]}),i.jsx("span",{className:"w-10 text-right text-xs tabular-nums font-medium",children:g.count})]},g.label))})]})]}),i.jsx(Ln,{value:"pages",children:r.topPages.length===0?i.jsx("p",{className:"py-8 text-center text-sm text-neutral-500",children:"Zatim zadna data o strankach"}):i.jsx("div",{className:"space-y-2",children:r.topPages.map((g,x)=>{var j;const b=((j=r.topPages[0])==null?void 0:j.views)||1,w=Math.round(g.views/b*100);return i.jsx(jh,{index:x,children:i.jsxs("div",{className:"flex items-center gap-3 rounded-lg border p-3 dark:border-neutral-700",children:[i.jsx("span",{className:"flex size-6 items-center justify-center rounded-md bg-neutral-100 text-[10px] font-bold dark:bg-neutral-800",children:x+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate text-sm font-medium",children:g.title}),i.jsx("p",{className:"truncate text-xs text-neutral-500",children:g.path})]}),i.jsx("div",{className:"hidden w-32 sm:block",children:i.jsx("div",{className:"h-1.5 rounded-full bg-neutral-100 dark:bg-neutral-800",children:i.jsx("div",{className:"h-1.5 rounded-full bg-blue-500 transition-all",style:{width:`${w}%`}})})}),i.jsx("span",{className:"text-sm font-semibold tabular-nums",children:g.views})]})},g.path)})})}),i.jsx(Ln,{value:"live",children:r.recentActivity.length===0?i.jsx("p",{className:"py-8 text-center text-sm text-neutral-500",children:"Zatim zadna aktivita"}):i.jsx("div",{className:"space-y-1.5",children:r.recentActivity.map((g,x)=>i.jsx(jh,{index:x,children:i.jsxs("div",{className:"flex items-center gap-3 rounded-lg border p-2.5 text-sm dark:border-neutral-700",children:[i.jsx(xEe,{type:g.device_type}),i.jsx(Le,{variant:"outline",className:"min-w-[80px] justify-center text-[10px] font-normal",children:g.event_type==="page_view"?"Zobrazeni":g.event_type==="session_start"?"Zacatek":g.event_type==="session_end"?"Konec":g.event_type}),i.jsx("span",{className:"flex-1 truncate text-neutral-700 dark:text-neutral-300",children:g.page_title||g.page_path}),g.duration_seconds>0&&i.jsx("span",{className:"text-xs tabular-nums text-neutral-400",children:cD(g.duration_seconds)}),i.jsx("span",{className:"text-xs text-neutral-400 whitespace-nowrap",children:gEe(g.created_at)})]})},g.id))})})]})})]})}),i.jsx(li,{children:i.jsxs(Oe,{children:[i.jsx(Je,{children:i.jsx(Qe,{className:"text-base",children:"Posledni registrovani uzivatele"})}),i.jsx(De,{children:n.length===0?i.jsx("p",{className:"text-sm text-neutral-500",children:"Zadni uzivatele"}):i.jsx("div",{className:"space-y-3",children:n.map((g,x)=>{var b,w,j;return i.jsx(jh,{index:x,children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-neutral-200 p-3 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-8 items-center justify-center rounded-full bg-neutral-200 text-xs font-medium dark:bg-neutral-700",children:((w=(b=g.full_name||g.email)==null?void 0:b[0])==null?void 0:w.toUpperCase())||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:g.full_name||((j=g.email)==null?void 0:j.split("@")[0])}),i.jsx("p",{className:"text-xs text-neutral-500",children:g.email})]})]}),i.jsx("span",{className:"text-xs text-neutral-400",children:new Date(g.created_at).toLocaleDateString("cs-CZ")})]})},g.id)})})})]})})]})]})}function uD(e){var t;return e?Array.isArray(e)?((t=e[0])==null?void 0:t.title)||"Neznamy kurz":e.title:"Neznamy kurz"}function yEe(){const[e,t]=v.useState([]),[n,s]=v.useState([]),[r,a]=v.useState(!0),[o,l]=v.useState(""),[u,d]=v.useState(null),[f,m]=v.useState([]),[g,x]=v.useState([]),[b,w]=v.useState(!1),[j,k]=v.useState("created_at"),[S,C]=v.useState("desc"),E=v.useCallback(async()=>{const[{data:F},{data:J}]=await Promise.all([ae.from("profiles").select("*").order("created_at",{ascending:!1}),ae.from("subscriptions").select("*")]);t(F??[]),s(J??[]),a(!1)},[]);v.useEffect(()=>{E()},[E]);const T=async F=>{d(F),w(!0);const[{data:J},{data:P}]=await Promise.all([ae.from("course_enrollments").select("id, course_id, enrolled_at, completed, courses(title)").eq("user_id",F.id),ae.from("course_purchases").select("id, course_id, amount_paid, purchased_at, courses(title)").eq("user_id",F.id)]);m(J??[]),x(P??[]),w(!1)},M=async F=>{const{error:J}=await ae.from("profiles").update({is_admin:!F.is_admin}).eq("id",F.id);if(J){Se.error("Chyba pri zmene admin statusu");return}Se.success(F.is_admin?"Admin prava odebrany":"Admin prava udeleny"),t(P=>P.map(I=>I.id===F.id?{...I,is_admin:!I.is_admin}:I)),(u==null?void 0:u.id)===F.id&&d({...F,is_admin:!F.is_admin})},z=async F=>{const{error:J}=await ae.from("profiles").update({is_trainer:!F.is_trainer}).eq("id",F.id);if(J){Se.error("Chyba pri zmene trenerskeho statusu");return}Se.success(F.is_trainer?"Trener status odebran":"Nastaven jako trener"),t(P=>P.map(I=>I.id===F.id?{...I,is_trainer:!I.is_trainer}:I)),(u==null?void 0:u.id)===F.id&&d({...F,is_trainer:!F.is_trainer})},A=async(F,J)=>{const{error:P}=await ae.from("profiles").update({trainer_role:J}).eq("id",F.id);if(P){Se.error("Chyba pri zmene role");return}Se.success("Role trenera aktualizovana"),t(I=>I.map(L=>L.id===F.id?{...L,trainer_role:J}:L)),(u==null?void 0:u.id)===F.id&&d({...F,trainer_role:J})},D=F=>n.find(J=>J.user_id===F),B=F=>{if(!F)return i.jsx(Le,{variant:"outline",children:"Bez predplatneho"});const J={active:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",trialing:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-400",cancelled:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-400",expired:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400"},P={free_trial:"Trial",monthly:"Mesicni",lifetime:"Dozivotni"};return i.jsxs(Le,{className:J[F.status]||"",children:[P[F.plan_type]||F.plan_type," - ",F.status]})},$=e.filter(F=>{var P,I;const J=o.toLowerCase();return((P=F.email)==null?void 0:P.toLowerCase().includes(J))||((I=F.full_name)==null?void 0:I.toLowerCase().includes(J))||F.id.toLowerCase().includes(J)}).sort((F,J)=>{const P=j==="email"?F.email||"":F.created_at||"",I=j==="email"?J.email||"":J.created_at||"";return S==="asc"?P.localeCompare(I):I.localeCompare(P)}),q=S==="asc"?wu:dr,Z=F=>{j===F?C(J=>J==="asc"?"desc":"asc"):(k(F),C("asc"))};return r?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(Wo,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Sprava uzivatelu"}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:[e.length," registrovanych uzivatelu"]})]}),i.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative max-w-sm",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Re,{placeholder:"Hledat podle emailu, jmena nebo ID...",value:o,onChange:F=>l(F.target.value),className:"pl-9"})]}),i.jsx(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.15},children:i.jsx(Oe,{children:i.jsx(De,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Uzivatel"}),i.jsx("th",{className:"cursor-pointer px-4 py-3 text-left font-medium text-neutral-500",onClick:()=>Z("email"),children:i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Email",j==="email"&&i.jsx(q,{className:"size-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Predplatne"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Role"}),i.jsx("th",{className:"cursor-pointer px-4 py-3 text-left font-medium text-neutral-500",onClick:()=>Z("created_at"),children:i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Registrace",j==="created_at"&&i.jsx(q,{className:"size-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-right font-medium text-neutral-500",children:"Akce"})]})}),i.jsxs("tbody",{children:[$.map(F=>{var P,I,L;const J=D(F.id);return i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-8 items-center justify-center rounded-full bg-neutral-200 text-xs font-medium dark:bg-neutral-700",children:((I=(P=F.full_name||F.email)==null?void 0:P[0])==null?void 0:I.toUpperCase())||"U"}),i.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:F.full_name||((L=F.email)==null?void 0:L.split("@")[0])})]})}),i.jsx("td",{className:"px-4 py-3 text-neutral-600 dark:text-neutral-400",children:F.email}),i.jsx("td",{className:"px-4 py-3",children:B(J)}),i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-1",children:[F.is_admin&&i.jsx(Le,{className:"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-400",children:"Admin"}),F.is_trainer&&i.jsx(Le,{className:"bg-teal-100 text-teal-700 dark:bg-teal-900/40 dark:text-teal-400",children:"Trener"}),!F.is_admin&&!F.is_trainer&&i.jsx(Le,{variant:"outline",children:"Uzivatel"})]})}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:new Date(F.created_at).toLocaleDateString("cs-CZ")}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>T(F),children:"Detail"}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-8",onClick:()=>M(F),title:F.is_admin?"Odebrat admin":"Udelit admin",children:F.is_admin?i.jsx(Z3,{className:"size-4 text-red-500"}):i.jsx(yp,{className:"size-4 text-neutral-400"})})]})})]},F.id)}),$.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"Zadni uzivatele nenalezeni"})})]})]})})})})}),i.jsx(Ka,{open:!!u,onOpenChange:()=>d(null),children:i.jsxs(pa,{className:"max-h-[85vh] overflow-y-auto sm:max-w-2xl",children:[i.jsx(ga,{children:i.jsxs(xa,{className:"flex items-center gap-2",children:[i.jsx(fce,{className:"size-5"}),"Detail uzivatele"]})}),u&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsx(kl,{label:"Email",value:u.email}),i.jsx(kl,{label:"Jmeno",value:u.full_name||"-"}),i.jsx(kl,{label:"Telefon",value:u.phone||"-"}),i.jsx(kl,{label:"Firma",value:u.company||"-"}),i.jsx(kl,{label:"Lokace",value:u.location||"-"}),i.jsx(kl,{label:"Registrace",value:new Date(u.created_at).toLocaleDateString("cs-CZ")}),i.jsx(kl,{label:"Role",value:u.is_admin?"Admin":"Uzivatel"}),i.jsx(kl,{label:"Predplatne",value:(()=>{const F=D(u.id);return F?`${F.plan_type} (${F.status})`:"Zadne"})()})]}),b?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"mb-3 flex items-center gap-2 text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:[i.jsx(Wt,{className:"size-4"}),"Zapsane kurzy (",f.length,")"]}),f.length===0?i.jsx("p",{className:"text-sm text-neutral-500",children:"Zadne zapisy"}):i.jsx("div",{className:"space-y-2",children:f.map((F,J)=>i.jsx(jh,{index:J,children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 dark:border-neutral-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:uD(F.courses)}),i.jsxs("p",{className:"text-xs text-neutral-500",children:["Zapsano: ",new Date(F.enrolled_at).toLocaleDateString("cs-CZ")]})]}),F.completed?i.jsx(Le,{className:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",children:"Dokonceno"}):i.jsx(Le,{variant:"outline",children:"Probiha"})]})},F.id))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"mb-3 flex items-center gap-2 text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:[i.jsx(sr,{className:"size-4"}),"Nakupy kurzu (",g.length,")"]}),g.length===0?i.jsx("p",{className:"text-sm text-neutral-500",children:"Zadne nakupy"}):i.jsx("div",{className:"space-y-2",children:g.map((F,J)=>i.jsx(jh,{index:J,children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 dark:border-neutral-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:uD(F.courses)}),i.jsx("p",{className:"text-xs text-neutral-500",children:new Date(F.purchased_at).toLocaleDateString("cs-CZ")})]}),i.jsx("span",{className:"text-sm font-medium",children:new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(Number(F.amount_paid))})]})},F.id))})]})]}),i.jsxs("div",{className:"border-t pt-4 dark:border-neutral-700 space-y-3",children:[i.jsxs("h3",{className:"text-sm font-semibold flex items-center gap-2",children:[i.jsx(Cv,{className:"size-4"}),"Trener"]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(Q,{variant:u.is_trainer?"destructive":"outline",size:"sm",onClick:()=>z(u),children:[i.jsx(Cv,{className:"mr-2 size-4"}),u.is_trainer?"Odebrat trenera":"Nastavit jako trenera"]}),u.is_trainer&&i.jsx(Re,{placeholder:"Role trenera (napr. Fyzioterapeut)",defaultValue:u.trainer_role||"",className:"h-8 text-sm max-w-xs",onBlur:F=>{F.target.value!==(u.trainer_role||"")&&A(u,F.target.value)},onKeyDown:F=>{F.key==="Enter"&&F.target.blur()}})]})]}),i.jsxs("div",{className:"flex gap-2 border-t pt-4 dark:border-neutral-700",children:[i.jsx(Q,{variant:u.is_admin?"destructive":"default",size:"sm",onClick:()=>M(u),children:u.is_admin?i.jsxs(i.Fragment,{children:[i.jsx(Z3,{className:"mr-2 size-4"}),"Odebrat admin prava"]}):i.jsxs(i.Fragment,{children:[i.jsx(yp,{className:"mr-2 size-4"}),"Udelit admin prava"]})}),i.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>d(null),children:[i.jsx(Iu,{className:"mr-2 size-4"}),"Zavrit"]})]})]})]})})]})}function kl({label:e,value:t}){return i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-medium text-neutral-500",children:e}),i.jsx("dd",{className:"mt-0.5 text-sm text-neutral-900 dark:text-neutral-100",children:t})]})}const pU=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:se("w-full caption-bottom text-sm",e),...t})}));pU.displayName="Table";const gU=v.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:se("[&_tr]:border-b",e),...t}));gU.displayName="TableHeader";const xU=v.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",e),...t}));xU.displayName="TableBody";const bEe=v.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));bEe.displayName="TableFooter";const uS=v.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));uS.displayName="TableRow";const Kc=v.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Kc.displayName="TableHead";const Gc=v.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Gc.displayName="TableCell";const wEe=v.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",e),...t}));wEe.displayName="TableCaption";const jEe=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[r,a]=v.useState(""),[o,l]=v.useState("all"),[u,d]=v.useState(!1),[f,m]=v.useState(null);v.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0);const{data:j,error:k}=await ae.from("blogs").select("*").order("created_at",{ascending:!1});if(k)throw k;t(j||[])}catch(j){console.error("Error fetching blogs:",j),Se.error("Nepodailo se nast lnky")}finally{s(!1)}},x=async()=>{if(f)try{const{error:j}=await ae.from("blogs").delete().eq("id",f);if(j)throw j;Se.success("lnek byl spn smazn"),g(),d(!1),m(null)}catch(j){console.error("Error deleting blog:",j),Se.error("Nepodailo se smazat lnek")}},b=e.filter(j=>{const k=j.title.toLowerCase().includes(r.toLowerCase())||j.excerpt.toLowerCase().includes(r.toLowerCase()),S=o==="all"||j.status===o;return k&&S}),w=j=>{switch(j){case"published":return i.jsx(Le,{className:"bg-green-500",children:"Publikovno"});case"draft":return i.jsx(Le,{variant:"secondary",children:"Koncept"});case"archived":return i.jsx(Le,{variant:"outline",children:"Archivovno"});default:return i.jsx(Le,{children:j})}};return i.jsxs(Wo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sprva blogu"}),i.jsx("p",{className:"text-muted-foreground",children:"Vytvejte a spravujte blogov lnky"})]}),i.jsx(Q,{asChild:!0,children:i.jsxs(Be,{to:"/admin/blogs/new",children:[i.jsx(fs,{className:"mr-2 size-4"}),"Nov lnek"]})})]}),i.jsx(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"lnky"}),i.jsx(Qt,{children:"Spravujte vechny sv lnky na jednom mst"})]}),i.jsxs(De,{children:[i.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Xa,{className:"absolute top-3 left-3 size-4 text-muted-foreground"}),i.jsx(Re,{placeholder:"Hledat lnky...",value:r,onChange:j=>a(j.target.value),className:"pl-10"})]}),i.jsxs(As,{value:o,onValueChange:l,children:[i.jsxs(ks,{className:"w-full md:w-48",children:[i.jsx(zae,{className:"mr-2 size-4"}),i.jsx(Rs,{placeholder:"Filtrovat podle stavu"})]}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"all",children:"Vechny stavy"}),i.jsx(wt,{value:"published",children:"Publikovno"}),i.jsx(wt,{value:"draft",children:"Koncept"}),i.jsx(wt,{value:"archived",children:"Archivovno"})]})]})]}),n?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Natn lnk..."})}):b.length===0?i.jsxs("div",{className:"flex h-64 flex-col items-center justify-center gap-2",children:[i.jsx("p",{className:"text-muted-foreground",children:"dn lnky nenalezeny"}),i.jsx(Q,{asChild:!0,variant:"outline",size:"sm",children:i.jsxs(Be,{to:"/admin/blogs/new",children:[i.jsx(fs,{className:"mr-2 size-4"}),"Vytvoit prvn lnek"]})})]}):i.jsx("div",{className:"overflow-x-auto rounded-md border",children:i.jsxs(pU,{children:[i.jsx(gU,{children:i.jsxs(uS,{children:[i.jsx(Kc,{children:"Nzev"}),i.jsx(Kc,{children:"Stav"}),i.jsx(Kc,{children:"Zobrazen"}),i.jsx(Kc,{children:"Publikovno"}),i.jsx(Kc,{children:"Aktualizovno"}),i.jsx(Kc,{className:"text-right",children:"Akce"})]})}),i.jsx(xU,{children:b.map(j=>i.jsxs(uS,{children:[i.jsx(Gc,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[j.featured_image&&i.jsx("img",{src:j.featured_image,alt:j.title,className:"size-10 rounded object-cover"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:j.title}),i.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:j.excerpt})]})]})}),i.jsx(Gc,{children:w(j.status)}),i.jsx(Gc,{children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Vi,{className:"size-4 text-muted-foreground"}),i.jsx("span",{children:j.view_count})]})}),i.jsx(Gc,{children:j.published_at?i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[i.jsx(ha,{className:"size-4 text-muted-foreground"}),Yv(new Date(j.published_at),"d. MMM yyyy",{locale:Jv})]}):i.jsx("span",{className:"text-sm text-muted-foreground",children:"Nepublikovno"})}),i.jsx(Gc,{children:i.jsx("span",{className:"text-sm text-muted-foreground",children:Yv(new Date(j.updated_at),"d. MMM yyyy",{locale:Jv})})}),i.jsx(Gc,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(Q,{asChild:!0,variant:"ghost",size:"sm",children:i.jsx(Be,{to:`/admin/blogs/edit/${j.id}`,children:i.jsx(Tle,{className:"size-4"})})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{m(j.id),d(!0)},children:i.jsx(cr,{className:"size-4 text-red-500"})})]})})]},j.id))})]})})]})]})}),i.jsx(Ka,{open:u,onOpenChange:d,children:i.jsxs(pa,{children:[i.jsxs(ga,{children:[i.jsx(xa,{children:"Smazat lnek"}),i.jsx(Cp,{children:"Opravdu chcete smazat tento lnek? Tuto akci nelze vrtit zpt."})]}),i.jsxs(Qv,{children:[i.jsx(Q,{variant:"outline",onClick:()=>d(!1),children:"Zruit"}),i.jsx(Q,{variant:"destructive",onClick:x,children:"Smazat"})]})]})})]})};function sn(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function kEe(e){const t=[];if(e.title&&t.push(`<h2>${sn(e.title)}</h2>`),e.text){const n=e.text.split(`

`).filter(Boolean).map(s=>`<p>${sn(s).replace(/\n/g,"<br>")}</p>`);t.push(n.join(`
`))}return t.join(`
`)}function NEe(e){if(!e.url)return"";const t=sn(e.alt||"");let n=`<figure><img src="${sn(e.url)}" alt="${t}" class="rounded-lg" />`;return e.caption&&(n+=`<figcaption>${sn(e.caption)}</figcaption>`),n+="</figure>",n}function SEe(e){if(!e.url)return"";let t=e.url;const n=e.url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/);n&&(t=`https://www.youtube.com/embed/${n[1]}`);const s=e.url.match(/vimeo\.com\/(\d+)/);s&&(t=`https://player.vimeo.com/video/${s[1]}`);let r=`<div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:0.5rem;margin:1.5rem 0"><iframe src="${sn(t)}" style="position:absolute;top:0;left:0;width:100%;height:100%;border:0" allowfullscreen></iframe></div>`;return e.caption&&(r+=`<p style="text-align:center;font-size:0.8125rem;color:var(--muted-foreground);margin-top:0.5rem">${sn(e.caption)}</p>`),r}function _Ee(e){let t=`<blockquote><p>${sn(e.quote||"")}</p>`;return e.author&&(t+=`<footer> ${sn(e.author)}</footer>`),t+="</blockquote>",t}function CEe(e){const t=e.language||"code";return`<div class="blog-code-block"><div class="blog-code-header">${sn(t)}</div><pre><code>${sn(e.code||"")}</code></pre></div>`}function EEe(e){return`<div style="${e.background?`background-image:url(${sn(e.background)});background-size:cover;background-position:center;`:"background:var(--muted);"}padding:3rem 2rem;border-radius:0.75rem;text-align:center;margin:1.5rem 0;color:white;position:relative"><div style="position:relative;z-index:1"><h2 style="font-size:1.75rem;font-weight:700;margin-bottom:0.5rem">${sn(e.title||"")}</h2><p style="font-size:1rem;opacity:0.9">${sn(e.subtitle||"")}</p></div></div>`}function TEe(e){try{const t=JSON.parse(e.headers||"[]"),n=JSON.parse(e.rows||"[]");let s='<div class="blog-table-wrap"><table><thead><tr>';for(const r of t)s+=`<th>${sn(r)}</th>`;s+="</tr></thead><tbody>";for(const r of n){s+="<tr>";for(const a of r)s+=`<td>${sn(a)}</td>`;s+="</tr>"}return s+="</tbody></table></div>",s}catch{return""}}const dD={tip:"&#x1F4A1;",warning:"&#x26A0;&#xFE0F;",info:"&#x2139;&#xFE0F;",error:"&#x274C;"};function zEe(e){const t=e.type||"info",n=dD[t]||dD.info;return`<div class="blog-callout blog-callout-${sn(t)}"><div class="blog-callout-title">${n} ${sn(e.title||t.charAt(0).toUpperCase()+t.slice(1))}</div><div class="blog-callout-body">${sn(e.content||"").replace(/\n/g,"<br>")}</div></div>`}function MEe(e){try{const t=JSON.parse(e.items||"[]");if(t.length===0)return"";let n='<div class="blog-faq">';for(const s of t)n+=`<details><summary>${sn(s.question)}</summary><div class="blog-faq-answer">${sn(s.answer).replace(/\n/g,"<br>")}</div></details>`;return n+="</div>",n}catch{return""}}function AEe(e){try{const t=JSON.parse(e.options||"[]");if(t.length===0)return"";let n=`<div class="blog-poll"><div class="blog-poll-title">${sn(e.question||"")}</div>`;for(const s of t)n+=`<div class="blog-poll-option"><div class="blog-poll-label"><span>${sn(s.label)}</span><span>${s.percentage}%</span></div><div class="blog-poll-bar"><div class="blog-poll-fill" style="width:${s.percentage}%"></div></div></div>`;return n+="</div>",n}catch{return""}}function REe(e){const t=e.color||"blue";return`<div class="blog-highlight blog-highlight-${sn(t)}">${sn(e.text||"").replace(/\n/g,"<br>")}</div>`}function OEe(e){const t=e.platform||"twitter",n={twitter:"X",facebook:"f",instagram:"IG",linkedin:"in"};return`<a href="${sn(e.url||"#")}" target="_blank" rel="noopener noreferrer" class="blog-social"><div class="blog-social-icon blog-social-${sn(t)}">${n[t]||"?"}</div><div class="blog-social-content"><div class="blog-social-text">${sn(e.text||"")}</div><div class="blog-social-url">${sn(e.url||"")}</div></div></a>`}function DEe(e){const t=e.style||"line";return t==="dots"?'<div class="blog-divider-dots"></div>':t==="gradient"?'<hr class="blog-divider-gradient" />':'<hr class="blog-divider-line" />'}function PEe(e){return`<div class="blog-seo-preview"><div class="seo-title">${sn(e.seoTitle||"")}</div><div class="seo-url">${sn(e.seoUrl||"")}</div><div class="seo-description">${sn(e.seoDescription||"")}</div></div>`}const IEe={text:kEe,image:NEe,video:SEe,quote:_Ee,code:CEe,hero:EEe,table:TEe,callout:zEe,faq:MEe,poll:AEe,highlight:REe,social:OEe,divider:DEe,seo:PEe};function vU(e){return e.map(t=>{const n=IEe[t.type];return n?n(t.content):""}).filter(Boolean).join(`

`)}function Qs(e){this.content=e}Qs.prototype={constructor:Qs,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var s=n&&n!=e?this.remove(n):this,r=s.find(e),a=s.content.slice();return r==-1?a.push(n||e,t):(a[r+1]=t,n&&(a[r]=n)),new Qs(a)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Qs(n)},addToStart:function(e,t){return new Qs([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Qs(n)},addBefore:function(e,t,n){var s=this.remove(t),r=s.content.slice(),a=s.find(e);return r.splice(a==-1?r.length:a,0,t,n),new Qs(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Qs.from(e),e.size?new Qs(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Qs.from(e),e.size?new Qs(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Qs.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Qs.from=function(e){if(e instanceof Qs)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Qs(t)};function yU(e,t,n){for(let s=0;;s++){if(s==e.childCount||s==t.childCount)return e.childCount==t.childCount?null:n;let r=e.child(s),a=t.child(s);if(r==a){n+=r.nodeSize;continue}if(!r.sameMarkup(a))return n;if(r.isText&&r.text!=a.text){for(let o=0;r.text[o]==a.text[o];o++)n++;return n}if(r.content.size||a.content.size){let o=yU(r.content,a.content,n+1);if(o!=null)return o}n+=r.nodeSize}}function bU(e,t,n,s){for(let r=e.childCount,a=t.childCount;;){if(r==0||a==0)return r==a?null:{a:n,b:s};let o=e.child(--r),l=t.child(--a),u=o.nodeSize;if(o==l){n-=u,s-=u;continue}if(!o.sameMarkup(l))return{a:n,b:s};if(o.isText&&o.text!=l.text){let d=0,f=Math.min(o.text.length,l.text.length);for(;d<f&&o.text[o.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,s--;return{a:n,b:s}}if(o.content.size||l.content.size){let d=bU(o.content,l.content,n-1,s-1);if(d)return d}n-=u,s-=u}}class Pe{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let s=0;s<t.length;s++)this.size+=t[s].nodeSize}nodesBetween(t,n,s,r=0,a){for(let o=0,l=0;l<n;o++){let u=this.content[o],d=l+u.nodeSize;if(d>t&&s(u,r+l,a||null,o)!==!1&&u.content.size){let f=l+1;u.nodesBetween(Math.max(0,t-f),Math.min(u.content.size,n-f),s,r+f)}l=d}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,s,r){let a="",o=!0;return this.nodesBetween(t,n,(l,u)=>{let d=l.isText?l.text.slice(Math.max(t,u)-u,n-u):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&s&&(o?o=!1:a+=s),a+=d},0),a}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,s=t.firstChild,r=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(s)&&(r[r.length-1]=n.withText(n.text+s.text),a=1);a<t.content.length;a++)r.push(t.content[a]);return new Pe(r,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let s=[],r=0;if(n>t)for(let a=0,o=0;o<n;a++){let l=this.content[a],u=o+l.nodeSize;u>t&&((o<t||u>n)&&(l.isText?l=l.cut(Math.max(0,t-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,t-o-1),Math.min(l.content.size,n-o-1))),s.push(l),r+=l.nodeSize),o=u}return new Pe(s,r)}cutByIndex(t,n){return t==n?Pe.empty:t==0&&n==this.content.length?this:new Pe(this.content.slice(t,n))}replaceChild(t,n){let s=this.content[t];if(s==n)return this;let r=this.content.slice(),a=this.size+n.nodeSize-s.nodeSize;return r[t]=n,new Pe(r,a)}addToStart(t){return new Pe([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new Pe(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,s=0;n<this.content.length;n++){let r=this.content[n];t(r,s,n),s+=r.nodeSize}}findDiffStart(t,n=0){return yU(this,t,n)}findDiffEnd(t,n=this.size,s=t.size){return bU(this,t,n,s)}findIndex(t){if(t==0)return T0(0,t);if(t==this.size)return T0(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,s=0;;n++){let r=this.child(n),a=s+r.nodeSize;if(a>=t)return a==t?T0(n+1,a):T0(n,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return Pe.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Pe(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return Pe.empty;let n,s=0;for(let r=0;r<t.length;r++){let a=t[r];s+=a.nodeSize,r&&a.isText&&t[r-1].sameMarkup(a)?(n||(n=t.slice(0,r)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new Pe(n||t,s)}static from(t){if(!t)return Pe.empty;if(t instanceof Pe)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new Pe([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Pe.empty=new Pe([],0);const eN={index:0,offset:0};function T0(e,t){return eN.index=e,eN.offset=t,eN}function oy(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++)if(!oy(e[s],t[s]))return!1}else{for(let s in e)if(!(s in t)||!oy(e[s],t[s]))return!1;for(let s in t)if(!(s in e))return!1}return!0}let _n=class dS{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,s=!1;for(let r=0;r<t.length;r++){let a=t[r];if(this.eq(a))return t;if(this.type.excludes(a.type))n||(n=t.slice(0,r));else{if(a.type.excludes(this.type))return t;!s&&a.type.rank>this.type.rank&&(n||(n=t.slice(0,r)),n.push(this),s=!0),n&&n.push(a)}}return n||(n=t.slice()),s||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&oy(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=t.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=s.create(n.attrs);return s.checkAttrs(r.attrs),r}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let s=0;s<t.length;s++)if(!t[s].eq(n[s]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return dS.none;if(t instanceof dS)return[t];let n=t.slice();return n.sort((s,r)=>s.type.rank-r.type.rank),n}};_n.none=[];class ly extends Error{}class Ke{constructor(t,n,s){this.content=t,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let s=jU(this.content,t+this.openStart,n);return s&&new Ke(s,this.openStart,this.openEnd)}removeBetween(t,n){return new Ke(wU(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Ke.empty;let s=n.openStart||0,r=n.openEnd||0;if(typeof s!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ke(Pe.fromJSON(t,n.content),s,r)}static maxOpen(t,n=!0){let s=0,r=0;for(let a=t.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)s++;for(let a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)r++;return new Ke(t,s,r)}}Ke.empty=new Ke(Pe.empty,0,0);function wU(e,t,n){let{index:s,offset:r}=e.findIndex(t),a=e.maybeChild(s),{index:o,offset:l}=e.findIndex(n);if(r==t||a.isText){if(l!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(s!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(s,a.copy(wU(a.content,t-r-1,n-r-1)))}function jU(e,t,n,s){let{index:r,offset:a}=e.findIndex(t),o=e.maybeChild(r);if(a==t||o.isText)return s&&!s.canReplace(r,r,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=jU(o.content,t-a-1,n,o);return l&&e.replaceChild(r,o.copy(l))}function LEe(e,t,n){if(n.openStart>e.depth)throw new ly("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new ly("Inconsistent open depths");return kU(e,t,n,0)}function kU(e,t,n,s){let r=e.index(s),a=e.node(s);if(r==t.index(s)&&s<e.depth-n.openStart){let o=kU(e,t,n,s+1);return a.copy(a.content.replaceChild(r,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==s&&t.depth==s){let o=e.parent,l=o.content;return xu(o,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:o,end:l}=$Ee(n,e);return xu(a,SU(e,o,l,t,s))}else return xu(a,cy(e,t,s))}function NU(e,t){if(!t.type.compatibleContent(e.type))throw new ly("Cannot join "+t.type.name+" onto "+e.type.name)}function hS(e,t,n){let s=e.node(n);return NU(s,t.node(n)),s}function gu(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Zm(e,t,n,s){let r=(t||e).node(n),a=0,o=t?t.index(n):r.childCount;e&&(a=e.index(n),e.depth>n?a++:e.textOffset&&(gu(e.nodeAfter,s),a++));for(let l=a;l<o;l++)gu(r.child(l),s);t&&t.depth==n&&t.textOffset&&gu(t.nodeBefore,s)}function xu(e,t){return e.type.checkContent(t),e.copy(t)}function SU(e,t,n,s,r){let a=e.depth>r&&hS(e,t,r+1),o=s.depth>r&&hS(n,s,r+1),l=[];return Zm(null,e,r,l),a&&o&&t.index(r)==n.index(r)?(NU(a,o),gu(xu(a,SU(e,t,n,s,r+1)),l)):(a&&gu(xu(a,cy(e,t,r+1)),l),Zm(t,n,r,l),o&&gu(xu(o,cy(n,s,r+1)),l)),Zm(s,null,r,l),new Pe(l)}function cy(e,t,n){let s=[];if(Zm(null,e,n,s),e.depth>n){let r=hS(e,t,n+1);gu(xu(r,cy(e,t,n+1)),s)}return Zm(t,null,n,s),new Pe(s)}function $Ee(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let a=n-1;a>=0;a--)r=t.node(a).copy(Pe.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}class Op{constructor(t,n,s){this.pos=t,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let s=this.pos-this.path[this.path.length-1],r=t.child(n);return s?t.child(n).cut(s):r}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let s=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let a=0;a<t;a++)r+=s.child(a).nodeSize;return r}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return _n.none;if(this.textOffset)return t.child(n).marks;let s=t.maybeChild(n-1),r=t.maybeChild(n);if(!s){let l=s;s=r,r=l}let a=s.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!r||!a[o].isInSet(r.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,r=t.parent.maybeChild(t.index());for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!r||!s[a].isInSet(r.marks))&&(s=s[a--].removeFromSet(s));return s}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);s>=0;s--)if(t.pos<=this.end(s)&&(!n||n(this.node(s))))return new uy(this,t,s);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let s=[],r=0,a=n;for(let o=t;;){let{index:l,offset:u}=o.content.findIndex(a),d=a-u;if(s.push(o,l,r+u),!d||(o=o.child(l),o.isText))break;a=d-1,r+=u+1}return new Op(n,s,a)}static resolveCached(t,n){let s=hD.get(t);if(s)for(let a=0;a<s.elts.length;a++){let o=s.elts[a];if(o.pos==n)return o}else hD.set(t,s=new VEe);let r=s.elts[s.i]=Op.resolve(t,n);return s.i=(s.i+1)%BEe,r}}class VEe{constructor(){this.elts=[],this.i=0}}const BEe=12,hD=new WeakMap;class uy{constructor(t,n,s){this.$from=t,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const FEe=Object.create(null);let Kl=class fS{constructor(t,n,s,r=_n.none){this.type=t,this.attrs=n,this.marks=r,this.content=s||Pe.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,s,r=0){this.content.nodesBetween(t,n,s,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,s,r){return this.content.textBetween(t,n,s,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,s){return this.type==t&&oy(this.attrs,n||t.defaultAttrs||FEe)&&_n.sameSet(this.marks,s||_n.none)}copy(t=null){return t==this.content?this:new fS(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new fS(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,s=!1){if(t==n)return Ke.empty;let r=this.resolve(t),a=this.resolve(n),o=s?0:r.sharedDepth(n),l=r.start(o),d=r.node(o).content.cut(r.pos-l,a.pos-l);return new Ke(d,r.depth-o,a.depth-o)}replace(t,n,s){return LEe(this.resolve(t),this.resolve(n),s)}nodeAt(t){for(let n=this;;){let{index:s,offset:r}=n.content.findIndex(t);if(n=n.maybeChild(s),!n)return null;if(r==t||n.isText)return n;t-=r+1}}childAfter(t){let{index:n,offset:s}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(t);if(s<t)return{node:this.content.child(n),index:n,offset:s};let r=this.content.child(n-1);return{node:r,index:n-1,offset:s-r.nodeSize}}resolve(t){return Op.resolveCached(this,t)}resolveNoCache(t){return Op.resolve(this,t)}rangeHasMark(t,n,s){let r=!1;return n>t&&this.nodesBetween(t,n,a=>(s.isInSet(a.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),_U(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,s=Pe.empty,r=0,a=s.childCount){let o=this.contentMatchAt(t).matchFragment(s,r,a),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=r;u<a;u++)if(!this.type.allowsMarks(s.child(u).marks))return!1;return!0}canReplaceWith(t,n,s,r){if(r&&!this.type.allowsMarks(r))return!1;let a=this.contentMatchAt(t).matchType(s),o=a&&a.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=_n.none;for(let n=0;n<this.marks.length;n++){let s=this.marks[n];s.type.checkAttrs(s.attrs),t=s.addToSet(t)}if(!_n.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,s)}let r=Pe.fromJSON(t,n.content),a=t.nodeType(n.type).create(n.attrs,r,s);return a.type.checkAttrs(a.attrs),a}};Kl.prototype.text=void 0;class dy extends Kl{constructor(t,n,s,r){if(super(t,n,null,r),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):_U(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new dy(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new dy(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function _U(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class zu{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let s=new UEe(t,n);if(s.next==null)return zu.empty;let r=CU(s);s.next&&s.err("Unexpected trailing text");let a=YEe(GEe(r));return JEe(a,s),a}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,s=t.childCount){let r=this;for(let a=n;r&&a<s;a++)r=r.matchType(t.child(a).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let s=0;s<t.next.length;s++)if(this.next[n].type==t.next[s].type)return!0;return!1}fillBefore(t,n=!1,s=0){let r=[this];function a(o,l){let u=o.matchFragment(t,s);if(u&&(!n||u.validEnd))return Pe.from(l.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:f,next:m}=o.next[d];if(!(f.isText||f.hasRequiredAttrs())&&r.indexOf(m)==-1){r.push(m);let g=a(m,l.concat(f));if(g)return g}}return null}return a(this,[])}findWrapping(t){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==t)return this.wrapCache[s+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let r=s.shift(),a=r.match;if(a.matchType(t)){let o=[];for(let l=r;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:l,next:u}=a.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||u.validEnd)&&(s.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(s){t.push(s);for(let r=0;r<s.next.length;r++)t.indexOf(s.next[r].next)==-1&&n(s.next[r].next)}return n(this),t.map((s,r)=>{let a=r+(s.validEnd?"*":" ")+" ";for(let o=0;o<s.next.length;o++)a+=(o?", ":"")+s.next[o].type.name+"->"+t.indexOf(s.next[o].next);return a}).join(`
`)}}zu.empty=new zu(!0);class UEe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function CU(e){let t=[];do t.push(HEe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function HEe(e){let t=[];do t.push(qEe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function qEe(e){let t=KEe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=ZEe(e,t);else break;return t}function fD(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function ZEe(e,t){let n=fD(e),s=n;return e.eat(",")&&(e.next!="}"?s=fD(e):s=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:t}}function WEe(e,t){let n=e.nodeTypes,s=n[t];if(s)return[s];let r=[];for(let a in n){let o=n[a];o.isInGroup(t)&&r.push(o)}return r.length==0&&e.err("No node type or group '"+t+"' found"),r}function KEe(e){if(e.eat("(")){let t=CU(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=WEe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function GEe(e){let t=[[]];return r(a(e,0),n()),t;function n(){return t.push([])-1}function s(o,l,u){let d={term:u,to:l};return t[o].push(d),d}function r(o,l){o.forEach(u=>u.to=l)}function a(o,l){if(o.type=="choice")return o.exprs.reduce((u,d)=>u.concat(a(d,l)),[]);if(o.type=="seq")for(let u=0;;u++){let d=a(o.exprs[u],l);if(u==o.exprs.length-1)return d;r(d,l=n())}else if(o.type=="star"){let u=n();return s(l,u),r(a(o.expr,u),u),[s(u)]}else if(o.type=="plus"){let u=n();return r(a(o.expr,l),u),r(a(o.expr,u),u),[s(u)]}else{if(o.type=="opt")return[s(l)].concat(a(o.expr,l));if(o.type=="range"){let u=l;for(let d=0;d<o.min;d++){let f=n();r(a(o.expr,u),f),u=f}if(o.max==-1)r(a(o.expr,u),u);else for(let d=o.min;d<o.max;d++){let f=n();s(u,f),r(a(o.expr,u),f),u=f}return[s(u)]}else{if(o.type=="name")return[s(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function EU(e,t){return t-e}function mD(e,t){let n=[];return s(t),n.sort(EU);function s(r){let a=e[r];if(a.length==1&&!a[0].term)return s(a[0].to);n.push(r);for(let o=0;o<a.length;o++){let{term:l,to:u}=a[o];!l&&n.indexOf(u)==-1&&s(u)}}}function YEe(e){let t=Object.create(null);return n(mD(e,0));function n(s){let r=[];s.forEach(o=>{e[o].forEach(({term:l,to:u})=>{if(!l)return;let d;for(let f=0;f<r.length;f++)r[f][0]==l&&(d=r[f][1]);mD(e,u).forEach(f=>{d||r.push([l,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let a=t[s.join(",")]=new zu(s.indexOf(e.length-1)>-1);for(let o=0;o<r.length;o++){let l=r[o][1].sort(EU);a.next.push({type:r[o][0],next:t[l.join(",")]||n(l)})}return a}}function JEe(e,t){for(let n=0,s=[e];n<s.length;n++){let r=s[n],a=!r.validEnd,o=[];for(let l=0;l<r.next.length;l++){let{type:u,next:d}=r.next[l];o.push(u.name),a&&!(u.isText||u.hasRequiredAttrs())&&(a=!1),s.indexOf(d)==-1&&s.push(d)}a&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function TU(e){let t=Object.create(null);for(let n in e){let s=e[n];if(!s.hasDefault)return null;t[n]=s.default}return t}function zU(e,t){let n=Object.create(null);for(let s in e){let r=t&&t[s];if(r===void 0){let a=e[s];if(a.hasDefault)r=a.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=r}return n}function MU(e,t,n,s){for(let r in t)if(!(r in e))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in e){let a=e[r];a.validate&&a.validate(t[r])}}function AU(e,t){let n=Object.create(null);if(t)for(let s in t)n[s]=new QEe(e,s,t[s]);return n}let pD=class RU{constructor(t,n,s){this.name=t,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=AU(t,s.attrs),this.defaultAttrs=TU(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==zu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:zU(this.attrs,t)}create(t=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Kl(this,this.computeAttrs(t),Pe.from(n),_n.setFrom(s))}createChecked(t=null,n,s){return n=Pe.from(n),this.checkContent(n),new Kl(this,this.computeAttrs(t),n,_n.setFrom(s))}createAndFill(t=null,n,s){if(t=this.computeAttrs(t),n=Pe.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let r=this.contentMatch.matchFragment(n),a=r&&r.fillBefore(Pe.empty,!0);return a?new Kl(this,t,n.append(a),_n.setFrom(s)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let s=0;s<t.childCount;s++)if(!this.allowsMarks(t.child(s).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){MU(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let s=0;s<t.length;s++)this.allowsMarkType(t[s].type)?n&&n.push(t[s]):n||(n=t.slice(0,s));return n?n.length?n:_n.none:t}static compile(t,n){let s=Object.create(null);t.forEach((a,o)=>s[a]=new RU(a,n,o));let r=n.spec.topNode||"doc";if(!s[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let a in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function XEe(e,t,n){let s=n.split("|");return r=>{let a=r===null?"null":typeof r;if(s.indexOf(a)<0)throw new RangeError(`Expected value of type ${s} for attribute ${t} on type ${e}, got ${a}`)}}class QEe{constructor(t,n,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?XEe(t,n,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class a1{constructor(t,n,s,r){this.name=t,this.rank=n,this.schema=s,this.spec=r,this.attrs=AU(t,r.attrs),this.excluded=null;let a=TU(this.attrs);this.instance=a?new _n(this,a):null}create(t=null){return!t&&this.instance?this.instance:new _n(this,zU(this.attrs,t))}static compile(t,n){let s=Object.create(null),r=0;return t.forEach((a,o)=>s[a]=new a1(a,r++,n,o)),s}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){MU(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class OU{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in t)n[r]=t[r];n.nodes=Qs.from(t.nodes),n.marks=Qs.from(t.marks||{}),this.nodes=pD.compile(this.spec.nodes,this),this.marks=a1.compile(this.spec.marks,this);let s=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let a=this.nodes[r],o=a.spec.content||"",l=a.spec.marks;if(a.contentMatch=s[o]||(s[o]=zu.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=l=="_"?null:l?gD(this,l.split(" ")):l==""||!a.inlineContent?[]:null}for(let r in this.marks){let a=this.marks[r],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:gD(this,o.split(" "))}this.nodeFromJSON=r=>Kl.fromJSON(this,r),this.markFromJSON=r=>_n.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,s,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof pD){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,s,r)}text(t,n){let s=this.nodes.text;return new dy(s,s.defaultAttrs,t,_n.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function gD(e,t){let n=[];for(let s=0;s<t.length;s++){let r=t[s],a=e.marks[r],o=a;if(a)n.push(a);else for(let l in e.marks){let u=e.marks[l];(r=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(r)>-1)&&n.push(o=u)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[s]+"'")}return n}function eTe(e){return e.tag!=null}function tTe(e){return e.style!=null}class Gl{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let s=this.matchedStyles=[];n.forEach(r=>{if(eTe(r))this.tags.push(r);else if(tTe(r)){let a=/[^=]*/.exec(r.style)[0];s.indexOf(a)<0&&s.push(a),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let a=t.nodes[r.node];return a.contentMatch.matchType(a)})}parse(t,n={}){let s=new vD(this,n,!1);return s.addAll(t,_n.none,n.from,n.to),s.finish()}parseSlice(t,n={}){let s=new vD(this,n,!0);return s.addAll(t,_n.none,n.from,n.to),Ke.maxOpen(s.finish())}matchTag(t,n,s){for(let r=s?this.tags.indexOf(s)+1:0;r<this.tags.length;r++){let a=this.tags[r];if(rTe(t,a.tag)&&(a.namespace===void 0||t.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(t);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(t,n,s,r){for(let a=r?this.styles.indexOf(r)+1:0;a<this.styles.length;a++){let o=this.styles[a],l=o.style;if(!(l.indexOf(t)!=0||o.context&&!s.matchesContext(o.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(o.getAttrs){let u=o.getAttrs(n);if(u===!1)continue;o.attrs=u||void 0}return o}}}static schemaRules(t){let n=[];function s(r){let a=r.priority==null?50:r.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<a)break}n.splice(o,0,r)}for(let r in t.marks){let a=t.marks[r].spec.parseDOM;a&&a.forEach(o=>{s(o=yD(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in t.nodes){let a=t.nodes[r].spec.parseDOM;a&&a.forEach(o=>{s(o=yD(o)),o.node||o.ignore||o.mark||(o.node=r)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Gl(t,Gl.schemaRules(t)))}}const DU={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nTe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},PU={ol:!0,ul:!0},Dp=1,mS=2,Wm=4;function xD(e,t,n){return t!=null?(t?Dp:0)|(t==="full"?mS:0):e&&e.whitespace=="pre"?Dp|mS:n&~Wm}class z0{constructor(t,n,s,r,a,o){this.type=t,this.attrs=n,this.marks=s,this.solid=r,this.options=o,this.content=[],this.activeMarks=_n.none,this.match=a||(o&Wm?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Pe.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,r;return(r=s.findWrapping(t.type))?(this.match=s,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Dp)){let s=this.content[this.content.length-1],r;if(s&&s.isText&&(r=/[ \t\r\n\u000c]+$/.exec(s.text))){let a=s;s.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-r[0].length))}}let n=Pe.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(Pe.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!DU.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class vD{constructor(t,n,s){this.parser=t,this.options=n,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let r=n.topNode,a,o=xD(null,n.preserveWhitespace,0)|(s?Wm:0);r?a=new z0(r.type,r.attrs,_n.none,!0,n.topMatch||r.type.contentMatch,o):s?a=new z0(null,null,_n.none,!0,null,o):a=new z0(t.schema.topNodeType,null,_n.none,!0,null,o),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let s=t.nodeValue,r=this.top,a=r.options&mS?"full":this.localPreserveWS||(r.options&Dp)>0,{schema:o}=this.parser;if(a==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(s)){if(a)if(a==="full")s=s.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(o.linebreakReplacement.create())){let l=s.split(/\r?\n|\r/);for(let u=0;u<l.length;u++)u&&this.insertNode(o.linebreakReplacement.create(),n,!0),l[u]&&this.insertNode(o.text(l[u]),n,!/\S/.test(l[u]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let l=r.content[r.content.length-1],u=t.previousSibling;(!l||u&&u.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(s=s.slice(1))}s&&this.insertNode(o.text(s),n,!/\S/.test(s)),this.findInText(t)}else this.findInside(t)}addElement(t,n,s){let r=this.localPreserveWS,a=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),l;PU.hasOwnProperty(o)&&this.parser.normalizeLists&&sTe(t);let u=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,s));e:if(u?u.ignore:nTe.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(t=u.skip);let d,f=this.needsBlock;if(DU.hasOwnProperty(o))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),d=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let m=u&&u.skip?n:this.readStyles(t,n);m&&this.addAll(t,m),d&&this.sync(a),this.needsBlock=f}else{let d=this.readStyles(t,n);d&&this.addElementByRule(t,u,d,u.consuming===!1?l:void 0)}this.localPreserveWS=r}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let s=t.style;if(s&&s.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let a=this.parser.matchedStyles[r],o=s.getPropertyValue(a);if(o)for(let l=void 0;;){let u=this.parser.matchStyle(a,o,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(d=>!u.clearMark(d)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(t,n,s,r){let a,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),s,t.nodeName=="BR")||this.leafFallback(t,s);else{let u=this.enter(o,n.attrs||null,s,n.preserveWhitespace);u&&(a=!0,s=u)}else{let u=this.parser.schema.marks[n.mark];s=s.concat(u.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,s,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(u=>this.insertNode(u,s,!1));else{let u=t;typeof n.contentElement=="string"?u=t.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(t):n.contentElement&&(u=n.contentElement),this.findAround(t,u,!0),this.addAll(u,s),this.findAround(t,u,!1)}a&&this.sync(l)&&this.open--}addAll(t,n,s,r){let a=s||0;for(let o=s?t.childNodes[s]:t.firstChild,l=r==null?null:t.childNodes[r];o!=l;o=o.nextSibling,++a)this.findAtPoint(t,a),this.addDOM(o,n);this.findAtPoint(t,a)}findPlace(t,n,s){let r,a;for(let o=this.open,l=0;o>=0;o--){let u=this.nodes[o],d=u.findWrapping(t);if(d&&(!r||r.length>d.length+l)&&(r=d,a=u,!d.length))break;if(u.solid){if(s)break;l+=2}}if(!r)return null;this.sync(a);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(t,n,s){if(t.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let r=this.findPlace(t,n,s);if(r){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(t.type));let o=_n.none;for(let l of r.concat(t.marks))(a.type?a.type.allowsMarkType(l.type):bD(l.type,t.type))&&(o=l.addToSet(o));return a.content.push(t.mark(o)),!0}return!1}enter(t,n,s,r){let a=this.findPlace(t.create(n),s,!1);return a&&(a=this.enterInner(t,n,s,!0,r)),a}enterInner(t,n,s,r=!1,a){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let l=xD(t,a,o.options);o.options&Wm&&o.content.length==0&&(l|=Wm);let u=_n.none;return s=s.filter(d=>(o.type?o.type.allowsMarkType(d.type):bD(d.type,t))?(u=d.addToSet(u),!1):!0),this.nodes.push(new z0(t,n,u,r,null,l)),this.open++,s}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Dp)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let r=s.length-1;r>=0;r--)t+=s[r].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==t&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,s){if(t!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(s?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),s=this.options.context,r=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),a=-(s?s.depth+1:0)+(r?0:1),o=(l,u)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;u>=a;u--)if(o(l-1,u))return!0;return!1}else{let f=u>0||u==0&&r?this.nodes[u].type:s&&u>=a?s.node(u-a).type:null;if(!f||f.name!=d&&!f.isInGroup(d))return!1;u--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}}function sTe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let s=t.nodeType==1?t.nodeName.toLowerCase():null;s&&PU.hasOwnProperty(s)&&n?(n.appendChild(t),t=n):s=="li"?n=t:s&&(n=null)}}function rTe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function yD(e){let t={};for(let n in e)t[n]=e[n];return t}function bD(e,t){let n=t.schema.nodes;for(let s in n){let r=n[s];if(!r.allowsMarkType(e))continue;let a=[],o=l=>{a.push(l);for(let u=0;u<l.edgeCount;u++){let{type:d,next:f}=l.edge(u);if(d==t||a.indexOf(f)<0&&o(f))return!0}};if(o(r.contentMatch))return!0}}class Fu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},s){s||(s=tN(n).createDocumentFragment());let r=s,a=[];return t.forEach(o=>{if(a.length||o.marks.length){let l=0,u=0;for(;l<a.length&&u<o.marks.length;){let d=o.marks[u];if(!this.marks[d.type.name]){u++;continue}if(!d.eq(a[l][0])||d.type.spec.spanning===!1)break;l++,u++}for(;l<a.length;)r=a.pop()[1];for(;u<o.marks.length;){let d=o.marks[u++],f=this.serializeMark(d,o.isInline,n);f&&(a.push([d,r]),r.appendChild(f.dom),r=f.contentDOM||f.dom)}}r.appendChild(this.serializeNodeInner(o,n))}),s}serializeNodeInner(t,n){let{dom:s,contentDOM:r}=ov(tN(n),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,r)}return s}serializeNode(t,n={}){let s=this.serializeNodeInner(t,n);for(let r=t.marks.length-1;r>=0;r--){let a=this.serializeMark(t.marks[r],t.isInline,n);a&&((a.contentDOM||a.dom).appendChild(s),s=a.dom)}return s}serializeMark(t,n,s={}){let r=this.marks[t.type.name];return r&&ov(tN(s),r(t,n),null,t.attrs)}static renderSpec(t,n,s=null,r){return ov(t,n,s,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Fu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=wD(t.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(t){return wD(t.marks)}}function wD(e){let t={};for(let n in e){let s=e[n].spec.toDOM;s&&(t[n]=s)}return t}function tN(e){return e.document||window.document}const jD=new WeakMap;function iTe(e){let t=jD.get(e);return t===void 0&&jD.set(e,t=aTe(e)),t}function aTe(e){let t=null;function n(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")t||(t=[]),t.push(s);else for(let r=0;r<s.length;r++)n(s[r]);else for(let r in s)n(s[r])}return n(e),t}function ov(e,t,n,s){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],a;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(a=iTe(s))&&a.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));let l,u=n?e.createElementNS(n,r):e.createElement(r),d=t[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let m in d)if(d[m]!=null){let g=m.indexOf(" ");g>0?u.setAttributeNS(m.slice(0,g),m.slice(g+1),d[m]):m=="style"&&u.style?u.style.cssText=d[m]:u.setAttribute(m,d[m])}}for(let m=f;m<t.length;m++){let g=t[m];if(g===0){if(m<t.length-1||m>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:x,contentDOM:b}=ov(e,g,n,s);if(u.appendChild(x),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:u,contentDOM:l}}const IU=65535,LU=Math.pow(2,16);function oTe(e,t){return e+t*LU}function kD(e){return e&IU}function lTe(e){return(e-(e&IU))/LU}const $U=1,VU=2,lv=4,BU=8;class pS{constructor(t,n,s){this.pos=t,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&BU)>0}get deletedBefore(){return(this.delInfo&($U|lv))>0}get deletedAfter(){return(this.delInfo&(VU|lv))>0}get deletedAcross(){return(this.delInfo&lv)>0}}class ii{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ii.empty)return ii.empty}recover(t){let n=0,s=kD(t);if(!this.inverted)for(let r=0;r<s;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[s*3]+n+lTe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,s){let r=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>t)break;let d=this.ranges[l+a],f=this.ranges[l+o],m=u+d;if(t<=m){let g=d?t==u?-1:t==m?1:n:n,x=u+r+(g<0?0:f);if(s)return x;let b=t==(n<0?u:m)?null:oTe(l/3,t-u),w=t==u?VU:t==m?$U:lv;return(n<0?t!=u:t!=m)&&(w|=BU),new pS(x,w,b)}r+=f-d}return s?t+r:new pS(t+r,0,null)}touches(t,n){let s=0,r=kD(n),a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?s:0);if(u>t)break;let d=this.ranges[l+a],f=u+d;if(t<=f&&l==r*3)return!0;s+=this.ranges[l+o]-d}return!1}forEach(t){let n=this.inverted?2:1,s=this.inverted?1:2;for(let r=0,a=0;r<this.ranges.length;r+=3){let o=this.ranges[r],l=o-(this.inverted?a:0),u=o+(this.inverted?0:a),d=this.ranges[r+n],f=this.ranges[r+s];t(l,l+d,u,u+f),a+=f-d}}invert(){return new ii(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ii.empty:new ii(t<0?[0,-t,0]:[0,0,t])}}ii.empty=new ii([]);class Pp{constructor(t,n,s=0,r=t?t.length:0){this.mirror=n,this.from=s,this.to=r,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Pp(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,s=this._maps.length;n<t._maps.length;n++){let r=t.getMirror(n);this.appendMap(t._maps[n],r!=null&&r<n?s+r:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,s=this._maps.length+t._maps.length;n>=0;n--){let r=t.getMirror(n);this.appendMap(t._maps[n].invert(),r!=null&&r>n?s-r-1:void 0)}}invert(){let t=new Pp;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let s=this.from;s<this.to;s++)t=this._maps[s].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,s){let r=0;for(let a=this.from;a<this.to;a++){let o=this._maps[a],l=o.mapResult(t,n);if(l.recover!=null){let u=this.getMirror(a);if(u!=null&&u>a&&u<this.to){a=u,t=this._maps[u].recover(l.recover);continue}}r|=l.delInfo,t=l.pos}return s?t:new pS(t,r,null)}}const nN=Object.create(null);class gr{getMap(){return ii.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=nN[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(t,n)}static jsonID(t,n){if(t in nN)throw new RangeError("Duplicate use of step JSON ID "+t);return nN[t]=n,n.prototype.jsonID=t,n}}class ws{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new ws(t,null)}static fail(t){return new ws(null,t)}static fromReplace(t,n,s,r){try{return ws.ok(t.replace(n,s,r))}catch(a){if(a instanceof ly)return ws.fail(a.message);throw a}}}function VE(e,t,n){let s=[];for(let r=0;r<e.childCount;r++){let a=e.child(r);a.content.size&&(a=a.copy(VE(a.content,t,a))),a.isInline&&(a=t(a,n,r)),s.push(a)}return Pe.fromArray(s)}class Vl extends gr{constructor(t,n,s){super(),this.from=t,this.to=n,this.mark=s}apply(t){let n=t.slice(this.from,this.to),s=t.resolve(this.from),r=s.node(s.sharedDepth(this.to)),a=new Ke(VE(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),n.openStart,n.openEnd);return ws.fromReplace(t,this.from,this.to,a)}invert(){return new oa(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),s=t.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new Vl(n.pos,s.pos,this.mark)}merge(t){return t instanceof Vl&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Vl(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vl(n.from,n.to,t.markFromJSON(n.mark))}}gr.jsonID("addMark",Vl);class oa extends gr{constructor(t,n,s){super(),this.from=t,this.to=n,this.mark=s}apply(t){let n=t.slice(this.from,this.to),s=new Ke(VE(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),n.openStart,n.openEnd);return ws.fromReplace(t,this.from,this.to,s)}invert(){return new Vl(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),s=t.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new oa(n.pos,s.pos,this.mark)}merge(t){return t instanceof oa&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new oa(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new oa(n.from,n.to,t.markFromJSON(n.mark))}}gr.jsonID("removeMark",oa);class Bl extends gr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ws.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ws.fromReplace(t,this.pos,this.pos+1,new Ke(Pe.from(s),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(s))return new Bl(this.pos,n.marks[r]);return new Bl(this.pos,this.mark)}}return new Mu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Bl(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Bl(n.pos,t.markFromJSON(n.mark))}}gr.jsonID("addNodeMark",Bl);class Mu extends gr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ws.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ws.fromReplace(t,this.pos,this.pos+1,new Ke(Pe.from(s),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Bl(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new Mu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Mu(n.pos,t.markFromJSON(n.mark))}}gr.jsonID("removeNodeMark",Mu);class Vs extends gr{constructor(t,n,s,r=!1){super(),this.from=t,this.to=n,this.slice=s,this.structure=r}apply(t){return this.structure&&gS(t,this.from,this.to)?ws.fail("Structure replace would overwrite content"):ws.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ii([this.from,this.to-this.from,this.slice.size])}invert(t){return new Vs(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),s=t.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new Vs(n.pos,Math.max(n.pos,s.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Vs)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Ke.empty:new Ke(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Vs(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Ke.empty:new Ke(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Vs(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Vs(n.from,n.to,Ke.fromJSON(t,n.slice),!!n.structure)}}gr.jsonID("replace",Vs);class Us extends gr{constructor(t,n,s,r,a,o,l=!1){super(),this.from=t,this.to=n,this.gapFrom=s,this.gapTo=r,this.slice=a,this.insert=o,this.structure=l}apply(t){if(this.structure&&(gS(t,this.from,this.gapFrom)||gS(t,this.gapTo,this.to)))return ws.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ws.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?ws.fromReplace(t,this.from,this.to,s):ws.fail("Content does not fit in gap")}getMap(){return new ii([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Us(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),s=t.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),a=this.to==this.gapTo?s.pos:t.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||r<n.pos||a>s.pos?null:new Us(n.pos,s.pos,r,a,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Us(n.from,n.to,n.gapFrom,n.gapTo,Ke.fromJSON(t,n.slice),n.insert,!!n.structure)}}gr.jsonID("replaceAround",Us);function gS(e,t,n){let s=e.resolve(t),r=n-t,a=s.depth;for(;r>0&&a>0&&s.indexAfter(a)==s.node(a).childCount;)a--,r--;if(r>0){let o=s.node(a).maybeChild(s.indexAfter(a));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function cTe(e,t,n,s){let r=[],a=[],o,l;e.doc.nodesBetween(t,n,(u,d,f)=>{if(!u.isInline)return;let m=u.marks;if(!s.isInSet(m)&&f.type.allowsMarkType(s.type)){let g=Math.max(d,t),x=Math.min(d+u.nodeSize,n),b=s.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(b)||(o&&o.to==g&&o.mark.eq(m[w])?o.to=x:r.push(o=new oa(g,x,m[w])));l&&l.to==g?l.to=x:a.push(l=new Vl(g,x,s))}}),r.forEach(u=>e.step(u)),a.forEach(u=>e.step(u))}function uTe(e,t,n,s){let r=[],a=0;e.doc.nodesBetween(t,n,(o,l)=>{if(!o.isInline)return;a++;let u=null;if(s instanceof a1){let d=o.marks,f;for(;f=s.isInSet(d);)(u||(u=[])).push(f),d=f.removeFromSet(d)}else s?s.isInSet(o.marks)&&(u=[s]):u=o.marks;if(u&&u.length){let d=Math.min(l+o.nodeSize,n);for(let f=0;f<u.length;f++){let m=u[f],g;for(let x=0;x<r.length;x++){let b=r[x];b.step==a-1&&m.eq(r[x].style)&&(g=b)}g?(g.to=d,g.step=a):r.push({style:m,from:Math.max(l,t),to:d,step:a})}}}),r.forEach(o=>e.step(new oa(o.from,o.to,o.style)))}function BE(e,t,n,s=n.contentMatch,r=!0){let a=e.doc.nodeAt(t),o=[],l=t+1;for(let u=0;u<a.childCount;u++){let d=a.child(u),f=l+d.nodeSize,m=s.matchType(d.type);if(!m)o.push(new Vs(l,f,Ke.empty));else{s=m;for(let g=0;g<d.marks.length;g++)n.allowsMarkType(d.marks[g].type)||e.step(new oa(l,f,d.marks[g]));if(r&&d.isText&&n.whitespace!="pre"){let g,x=/\r?\n|\r/g,b;for(;g=x.exec(d.text);)b||(b=new Ke(Pe.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),o.push(new Vs(l+g.index,l+g.index+g[0].length,b))}}l=f}if(!s.validEnd){let u=s.fillBefore(Pe.empty,!0);e.replace(l,l,new Ke(u,0,0))}for(let u=o.length-1;u>=0;u--)e.step(o[u])}function dTe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function cf(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let s=e.depth,r=0,a=0;;--s){let o=e.$from.node(s),l=e.$from.index(s)+r,u=e.$to.indexAfter(s)-a;if(s<e.depth&&o.canReplace(l,u,n))return s;if(s==0||o.type.spec.isolating||!dTe(o,l,u))break;l&&(r=1),u<o.childCount&&(a=1)}return null}function hTe(e,t,n){let{$from:s,$to:r,depth:a}=t,o=s.before(a+1),l=r.after(a+1),u=o,d=l,f=Pe.empty,m=0;for(let b=a,w=!1;b>n;b--)w||s.index(b)>0?(w=!0,f=Pe.from(s.node(b).copy(f)),m++):u--;let g=Pe.empty,x=0;for(let b=a,w=!1;b>n;b--)w||r.after(b+1)<r.end(b)?(w=!0,g=Pe.from(r.node(b).copy(g)),x++):d++;e.step(new Us(u,d,o,l,new Ke(f.append(g),m,x),f.size-m,!0))}function FE(e,t,n=null,s=e){let r=fTe(e,t),a=r&&mTe(s,t);return a?r.map(ND).concat({type:t,attrs:n}).concat(a.map(ND)):null}function ND(e){return{type:e,attrs:null}}function fTe(e,t){let{parent:n,startIndex:s,endIndex:r}=e,a=n.contentMatchAt(s).findWrapping(t);if(!a)return null;let o=a.length?a[0]:t;return n.canReplaceWith(s,r,o)?a:null}function mTe(e,t){let{parent:n,startIndex:s,endIndex:r}=e,a=n.child(s),o=t.contentMatch.findWrapping(a.type);if(!o)return null;let u=(o.length?o[o.length-1]:t).contentMatch;for(let d=s;u&&d<r;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:o}function pTe(e,t,n){let s=Pe.empty;for(let o=n.length-1;o>=0;o--){if(s.size){let l=n[o].type.contentMatch.matchFragment(s);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=Pe.from(n[o].type.create(n[o].attrs,s))}let r=t.start,a=t.end;e.step(new Us(r,a,r,a,new Ke(s,0,0),n.length,!0))}function gTe(e,t,n,s,r){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,n,(o,l)=>{let u=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(s,u)&&xTe(e.doc,e.mapping.slice(a).map(l),s)){let d=null;if(s.schema.linebreakReplacement){let x=s.whitespace=="pre",b=!!s.contentMatch.matchType(s.schema.linebreakReplacement);x&&!b?d=!1:!x&&b&&(d=!0)}d===!1&&UU(e,o,l,a),BE(e,e.mapping.slice(a).map(l,1),s,void 0,d===null);let f=e.mapping.slice(a),m=f.map(l,1),g=f.map(l+o.nodeSize,1);return e.step(new Us(m,g,m+1,g-1,new Ke(Pe.from(s.create(u,null,o.marks)),0,0),1,!0)),d===!0&&FU(e,o,l,a),!1}})}function FU(e,t,n,s){t.forEach((r,a)=>{if(r.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(r.text);){let u=e.mapping.slice(s).map(n+1+a+o.index);e.replaceWith(u,u+1,t.type.schema.linebreakReplacement.create())}}})}function UU(e,t,n,s){t.forEach((r,a)=>{if(r.type==r.type.schema.linebreakReplacement){let o=e.mapping.slice(s).map(n+1+a);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function xTe(e,t,n){let s=e.resolve(t),r=s.index();return s.parent.canReplaceWith(r,r+1,n)}function vTe(e,t,n,s,r){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let o=n.create(s,null,r||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,o);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Us(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new Ke(Pe.from(o),0,0),1,!0))}function Io(e,t,n=1,s){let r=e.resolve(t),a=r.depth-n,o=s&&s[s.length-1]||r.parent;if(a<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let d=r.depth-1,f=n-2;d>a;d--,f--){let m=r.node(d),g=r.index(d);if(m.type.spec.isolating)return!1;let x=m.content.cutByIndex(g,m.childCount),b=s&&s[f+1];b&&(x=x.replaceChild(0,b.type.create(b.attrs)));let w=s&&s[f]||m;if(!m.canReplace(g+1,m.childCount)||!w.type.validContent(x))return!1}let l=r.indexAfter(a),u=s&&s[0];return r.node(a).canReplaceWith(l,l,u?u.type:r.node(a+1).type)}function yTe(e,t,n=1,s){let r=e.doc.resolve(t),a=Pe.empty,o=Pe.empty;for(let l=r.depth,u=r.depth-n,d=n-1;l>u;l--,d--){a=Pe.from(r.node(l).copy(a));let f=s&&s[d];o=Pe.from(f?f.type.create(f.attrs,o):r.node(l).copy(o))}e.step(new Vs(t,t,new Ke(a.append(o),n,n),!0))}function pc(e,t){let n=e.resolve(t),s=n.index();return HU(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function bTe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:s}=e.type.schema;for(let r=0;r<t.childCount;r++){let a=t.child(r),o=a.type==s?e.type.schema.nodes.text:a.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(a.marks))return!1}return n.validEnd}function HU(e,t){return!!(e&&t&&!e.isLeaf&&bTe(e,t))}function o1(e,t,n=-1){let s=e.resolve(t);for(let r=s.depth;;r--){let a,o,l=s.index(r);if(r==s.depth?(a=s.nodeBefore,o=s.nodeAfter):n>0?(a=s.node(r+1),l++,o=s.node(r).maybeChild(l)):(a=s.node(r).maybeChild(l-1),o=s.node(r+1)),a&&!a.isTextblock&&HU(a,o)&&s.node(r).canReplace(l,l+1))return t;if(r==0)break;t=n<0?s.before(r):s.after(r)}}function wTe(e,t,n){let s=null,{linebreakReplacement:r}=e.doc.type.schema,a=e.doc.resolve(t-n),o=a.node().type;if(r&&o.inlineContent){let f=o.whitespace=="pre",m=!!o.contentMatch.matchType(r);f&&!m?s=!1:!f&&m&&(s=!0)}let l=e.steps.length;if(s===!1){let f=e.doc.resolve(t+n);UU(e,f.node(),f.before(),l)}o.inlineContent&&BE(e,t+n-1,o,a.node().contentMatchAt(a.index()),s==null);let u=e.mapping.slice(l),d=u.map(t-n);if(e.step(new Vs(d,u.map(t+n,-1),Ke.empty,!0)),s===!0){let f=e.doc.resolve(d);FU(e,f.node(),f.before(),e.steps.length)}return e}function jTe(e,t,n){let s=e.resolve(t);if(s.parent.canReplaceWith(s.index(),s.index(),n))return t;if(s.parentOffset==0)for(let r=s.depth-1;r>=0;r--){let a=s.index(r);if(s.node(r).canReplaceWith(a,a,n))return s.before(r+1);if(a>0)return null}if(s.parentOffset==s.parent.content.size)for(let r=s.depth-1;r>=0;r--){let a=s.indexAfter(r);if(s.node(r).canReplaceWith(a,a,n))return s.after(r+1);if(a<s.node(r).childCount)return null}return null}function qU(e,t,n){let s=e.resolve(t);if(!n.content.size)return t;let r=n.content;for(let a=0;a<n.openStart;a++)r=r.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let o=s.depth;o>=0;o--){let l=o==s.depth?0:s.pos<=(s.start(o+1)+s.end(o+1))/2?-1:1,u=s.index(o)+(l>0?1:0),d=s.node(o),f=!1;if(a==1)f=d.canReplace(u,u,r);else{let m=d.contentMatchAt(u).findWrapping(r.firstChild.type);f=m&&d.canReplaceWith(u,u,m[0])}if(f)return l==0?s.pos:l<0?s.before(o+1):s.after(o+1)}return null}function l1(e,t,n=t,s=Ke.empty){if(t==n&&!s.size)return null;let r=e.resolve(t),a=e.resolve(n);return ZU(r,a,s)?new Vs(t,n,s):new kTe(r,a,s).fit()}function ZU(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class kTe{constructor(t,n,s){this.$from=t,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=Pe.empty;for(let r=0;r<=t.depth;r++){let a=t.node(r);this.frontier.push({type:a.type,match:a.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=Pe.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,r=this.close(t<0?this.$to:s.doc.resolve(t));if(!r)return null;let a=this.placed,o=s.depth,l=r.depth;for(;o&&l&&a.childCount==1;)a=a.firstChild.content,o--,l--;let u=new Ke(a,o,l);return t>-1?new Us(s.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||s.pos!=this.$to.pos?new Vs(s.pos,r.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,r=this.unplaced.openEnd;s<t;s++){let a=n.firstChild;if(n.childCount>1&&(r=0),a.type.spec.isolating&&r<=s){t=s;break}n=a.content}for(let n=1;n<=2;n++)for(let s=n==1?t:this.unplaced.openStart;s>=0;s--){let r,a=null;s?(a=sN(this.unplaced.content,s-1).firstChild,r=a.content):r=this.unplaced.content;let o=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:d}=this.frontier[l],f,m=null;if(n==1&&(o?d.matchType(o.type)||(m=d.fillBefore(Pe.from(o),!1)):a&&u.compatibleContent(a.type)))return{sliceDepth:s,frontierDepth:l,parent:a,inject:m};if(n==2&&o&&(f=d.findWrapping(o.type)))return{sliceDepth:s,frontierDepth:l,parent:a,wrap:f};if(a&&d.matchType(a.type))break}}}openMore(){let{content:t,openStart:n,openEnd:s}=this.unplaced,r=sN(t,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new Ke(t,n+1,Math.max(s,r.size+n>=t.size-s?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:s}=this.unplaced,r=sN(t,n);if(r.childCount<=1&&n>0){let a=t.size-n<=n+r.size;this.unplaced=new Ke(Am(t,n-1,1),n-1,a?n-1:s)}else this.unplaced=new Ke(Am(t,n,1),n,s)}placeNodes({sliceDepth:t,frontierDepth:n,parent:s,inject:r,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let w=0;w<a.length;w++)this.openFrontierNode(a[w]);let o=this.unplaced,l=s?s.content:o.content,u=o.openStart-t,d=0,f=[],{match:m,type:g}=this.frontier[n];if(r){for(let w=0;w<r.childCount;w++)f.push(r.child(w));m=m.matchFragment(r)}let x=l.size+t-(o.content.size-o.openEnd);for(;d<l.childCount;){let w=l.child(d),j=m.matchType(w.type);if(!j)break;d++,(d>1||u==0||w.content.size)&&(m=j,f.push(WU(w.mark(g.allowedMarks(w.marks)),d==1?u:0,d==l.childCount?x:-1)))}let b=d==l.childCount;b||(x=-1),this.placed=Rm(this.placed,n,Pe.from(f)),this.frontier[n].match=m,b&&x<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,j=l;w<x;w++){let k=j.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),j=k.content}this.unplaced=b?t==0?Ke.empty:new Ke(Am(o.content,t-1,1),t-1,x<0?o.openEnd:t-1):new Ke(Am(o.content,t,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!rN(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,r=this.$to.after(s);for(;s>1&&r==this.$to.end(--s);)++r;return r}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:s,type:r}=this.frontier[n],a=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=rN(t,n,r,s,a);if(o){for(let l=n-1;l>=0;l--){let{match:u,type:d}=this.frontier[l],f=rN(t,l,d,u,!0);if(!f||f.childCount)continue e}return{depth:n,fit:o,move:a?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Rm(this.placed,n.depth,n.fit)),t=n.move;for(let s=n.depth+1;s<=t.depth;s++){let r=t.node(s),a=r.type.contentMatch.fillBefore(r.content,!0,t.index(s));this.openFrontierNode(r.type,r.attrs,a)}return t}openFrontierNode(t,n=null,s){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=Rm(this.placed,this.depth,Pe.from(t.create(n,s))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Pe.empty,!0);n.childCount&&(this.placed=Rm(this.placed,this.frontier.length,n))}}function Am(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Am(e.firstChild.content,t-1,n)))}function Rm(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Rm(e.lastChild.content,t-1,n)))}function sN(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function WU(e,t,n){if(t<=0)return e;let s=e.content;return t>1&&(s=s.replaceChild(0,WU(s.firstChild,t-1,s.childCount==1?n-1:0))),t>0&&(s=e.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(e.type.contentMatch.matchFragment(s).fillBefore(Pe.empty,!0)))),e.copy(s)}function rN(e,t,n,s,r){let a=e.node(t),o=r?e.indexAfter(t):e.index(t);if(o==a.childCount&&!n.compatibleContent(a.type))return null;let l=s.fillBefore(a.content,!0,o);return l&&!NTe(n,a.content,o)?l:null}function NTe(e,t,n){for(let s=n;s<t.childCount;s++)if(!e.allowsMarks(t.child(s).marks))return!0;return!1}function STe(e){return e.spec.defining||e.spec.definingForContent}function _Te(e,t,n,s){if(!s.size)return e.deleteRange(t,n);let r=e.doc.resolve(t),a=e.doc.resolve(n);if(ZU(r,a,s))return e.step(new Vs(t,n,s));let o=GU(r,a);o[o.length-1]==0&&o.pop();let l=-(r.depth+1);o.unshift(l);for(let g=r.depth,x=r.pos-1;g>0;g--,x--){let b=r.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;o.indexOf(g)>-1?l=g:r.before(g)==x&&o.splice(1,0,-g)}let u=o.indexOf(l),d=[],f=s.openStart;for(let g=s.content,x=0;;x++){let b=g.firstChild;if(d.push(b),x==s.openStart)break;g=b.content}for(let g=f-1;g>=0;g--){let x=d[g],b=STe(x.type);if(b&&!x.sameMarkup(r.node(Math.abs(l)-1)))f=g;else if(b||!x.type.isTextblock)break}for(let g=s.openStart;g>=0;g--){let x=(g+f+1)%(s.openStart+1),b=d[x];if(b)for(let w=0;w<o.length;w++){let j=o[(w+u)%o.length],k=!0;j<0&&(k=!1,j=-j);let S=r.node(j-1),C=r.index(j-1);if(S.canReplaceWith(C,C,b.type,b.marks))return e.replace(r.before(j),k?a.after(j):n,new Ke(KU(s.content,0,s.openStart,x),x,s.openEnd))}}let m=e.steps.length;for(let g=o.length-1;g>=0&&(e.replace(t,n,s),!(e.steps.length>m));g--){let x=o[g];x<0||(t=r.before(x),n=a.after(x))}}function KU(e,t,n,s,r){if(t<n){let a=e.firstChild;e=e.replaceChild(0,a.copy(KU(a.content,t+1,n,s,a)))}if(t>s){let a=r.contentMatchAt(0),o=a.fillBefore(e).append(e);e=o.append(a.matchFragment(o).fillBefore(Pe.empty,!0))}return e}function CTe(e,t,n,s){if(!s.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=jTe(e.doc,t,s.type);r!=null&&(t=n=r)}e.replaceRange(t,n,new Ke(Pe.from(s),0,0))}function ETe(e,t,n){let s=e.doc.resolve(t),r=e.doc.resolve(n),a=GU(s,r);for(let o=0;o<a.length;o++){let l=a[o],u=o==a.length-1;if(u&&l==0||s.node(l).type.contentMatch.validEnd)return e.delete(s.start(l),r.end(l));if(l>0&&(u||s.node(l-1).canReplace(s.index(l-1),r.indexAfter(l-1))))return e.delete(s.before(l),r.after(l))}for(let o=1;o<=s.depth&&o<=r.depth;o++)if(t-s.start(o)==s.depth-o&&n>s.end(o)&&r.end(o)-n!=r.depth-o&&s.start(o-1)==r.start(o-1)&&s.node(o-1).canReplace(s.index(o-1),r.index(o-1)))return e.delete(s.before(o),n);e.delete(t,n)}function GU(e,t){let n=[],s=Math.min(e.depth,t.depth);for(let r=s;r>=0;r--){let a=e.start(r);if(a<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(a==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==a-1)&&n.push(r)}return n}class kh extends gr{constructor(t,n,s){super(),this.pos=t,this.attr=n,this.value=s}apply(t){let n=t.nodeAt(this.pos);if(!n)return ws.fail("No node at attribute step's position");let s=Object.create(null);for(let a in n.attrs)s[a]=n.attrs[a];s[this.attr]=this.value;let r=n.type.create(s,null,n.marks);return ws.fromReplace(t,this.pos,this.pos+1,new Ke(Pe.from(r),0,n.isLeaf?0:1))}getMap(){return ii.empty}invert(t){return new kh(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new kh(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new kh(n.pos,n.attr,n.value)}}gr.jsonID("attr",kh);class Ip extends gr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;let s=t.type.create(n,t.content,t.marks);return ws.ok(s)}getMap(){return ii.empty}invert(t){return new Ip(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ip(n.attr,n.value)}}gr.jsonID("docAttr",Ip);let Dh=class extends Error{};Dh=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Dh.prototype=Object.create(Error.prototype);Dh.prototype.constructor=Dh;Dh.prototype.name="TransformError";class YU{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Pp}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Dh(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let t=1e9,n=-1e9;for(let s=0;s<this.mapping.maps.length;s++){let r=this.mapping.maps[s];s&&(t=r.map(t,1),n=r.map(n,-1)),r.forEach((a,o,l,u)=>{t=Math.min(t,l),n=Math.max(n,u)})}return t==1e9?null:{from:t,to:n}}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,s=Ke.empty){let r=l1(this.doc,t,n,s);return r&&this.step(r),this}replaceWith(t,n,s){return this.replace(t,n,new Ke(Pe.from(s),0,0))}delete(t,n){return this.replace(t,n,Ke.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,s){return _Te(this,t,n,s),this}replaceRangeWith(t,n,s){return CTe(this,t,n,s),this}deleteRange(t,n){return ETe(this,t,n),this}lift(t,n){return hTe(this,t,n),this}join(t,n=1){return wTe(this,t,n),this}wrap(t,n){return pTe(this,t,n),this}setBlockType(t,n=t,s,r=null){return gTe(this,t,n,s,r),this}setNodeMarkup(t,n,s=null,r){return vTe(this,t,n,s,r),this}setNodeAttribute(t,n,s){return this.step(new kh(t,n,s)),this}setDocAttribute(t,n){return this.step(new Ip(t,n)),this}addNodeMark(t,n){return this.step(new Bl(t,n)),this}removeNodeMark(t,n){let s=this.doc.nodeAt(t);if(!s)throw new RangeError("No node at position "+t);if(n instanceof _n)n.isInSet(s.marks)&&this.step(new Mu(t,n));else{let r=s.marks,a,o=[];for(;a=n.isInSet(r);)o.push(new Mu(t,a)),r=a.removeFromSet(r);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(t,n=1,s){return yTe(this,t,n,s),this}addMark(t,n,s){return cTe(this,t,n,s),this}removeMark(t,n,s){return uTe(this,t,n,s),this}clearIncompatible(t,n,s){return BE(this,t,n,s),this}}const iN=Object.create(null);class $t{constructor(t,n,s){this.$anchor=t,this.$head=n,this.ranges=s||[new TTe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Ke.empty){let s=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=s,s=s.lastChild;let a=t.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:u,$to:d}=o[l],f=t.mapping.slice(a);t.replaceRange(f.map(u.pos),f.map(d.pos),l?Ke.empty:n),l==0&&CD(t,a,(s?s.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,n){let s=t.steps.length,r=this.ranges;for(let a=0;a<r.length;a++){let{$from:o,$to:l}=r[a],u=t.mapping.slice(s),d=u.map(o.pos),f=u.map(l.pos);a?t.deleteRange(d,f):(t.replaceRangeWith(d,f,n),CD(t,s,n.isInline?-1:1))}}static findFrom(t,n,s=!1){let r=t.parent.inlineContent?new _t(t):Xd(t.node(0),t.parent,t.pos,t.index(),n,s);if(r)return r;for(let a=t.depth-1;a>=0;a--){let o=n<0?Xd(t.node(0),t.node(a),t.before(a+1),t.index(a),n,s):Xd(t.node(0),t.node(a),t.after(a+1),t.index(a)+1,n,s);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new ci(t.node(0))}static atStart(t){return Xd(t,t,0,0,1)||new ci(t)}static atEnd(t){return Xd(t,t,t.content.size,t.childCount,-1)||new ci(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=iN[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(t,n)}static jsonID(t,n){if(t in iN)throw new RangeError("Duplicate use of selection JSON ID "+t);return iN[t]=n,n.prototype.jsonID=t,n}getBookmark(){return _t.between(this.$anchor,this.$head).getBookmark()}}$t.prototype.visible=!0;class TTe{constructor(t,n){this.$from=t,this.$to=n}}let SD=!1;function _D(e){!SD&&!e.parent.inlineContent&&(SD=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class _t extends $t{constructor(t,n=t){_D(t),_D(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let s=t.resolve(n.map(this.head));if(!s.parent.inlineContent)return $t.near(s);let r=t.resolve(n.map(this.anchor));return new _t(r.parent.inlineContent?r:s,s)}replace(t,n=Ke.empty){if(super.replace(t,n),n==Ke.empty){let s=this.$from.marksAcross(this.$to);s&&t.ensureMarks(s)}}eq(t){return t instanceof _t&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new c1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new _t(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,s=n){let r=t.resolve(n);return new this(r,s==n?r:t.resolve(s))}static between(t,n,s){let r=t.pos-n.pos;if((!s||r)&&(s=r>=0?1:-1),!n.parent.inlineContent){let a=$t.findFrom(n,s,!0)||$t.findFrom(n,-s,!0);if(a)n=a.$head;else return $t.near(n,s)}return t.parent.inlineContent||(r==0?t=n:(t=($t.findFrom(t,-s,!0)||$t.findFrom(t,s,!0)).$anchor,t.pos<n.pos!=r<0&&(t=n))),new _t(t,n)}}$t.jsonID("text",_t);class c1{constructor(t,n){this.anchor=t,this.head=n}map(t){return new c1(t.map(this.anchor),t.map(this.head))}resolve(t){return _t.between(t.resolve(this.anchor),t.resolve(this.head))}}class pt extends $t{constructor(t){let n=t.nodeAfter,s=t.node(0).resolve(t.pos+n.nodeSize);super(t,s),this.node=n}map(t,n){let{deleted:s,pos:r}=n.mapResult(this.anchor),a=t.resolve(r);return s?$t.near(a):new pt(a)}content(){return new Ke(Pe.from(this.node),0,0)}eq(t){return t instanceof pt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new UE(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pt(t.resolve(n.anchor))}static create(t,n){return new pt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}pt.prototype.visible=!1;$t.jsonID("node",pt);class UE{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:s}=t.mapResult(this.anchor);return n?new c1(s,s):new UE(s)}resolve(t){let n=t.resolve(this.anchor),s=n.nodeAfter;return s&&pt.isSelectable(s)?new pt(n):$t.near(n)}}class ci extends $t{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Ke.empty){if(n==Ke.empty){t.delete(0,t.doc.content.size);let s=$t.atStart(t.doc);s.eq(t.selection)||t.setSelection(s)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new ci(t)}map(t){return new ci(t)}eq(t){return t instanceof ci}getBookmark(){return zTe}}$t.jsonID("all",ci);const zTe={map(){return this},resolve(e){return new ci(e)}};function Xd(e,t,n,s,r,a=!1){if(t.inlineContent)return _t.create(e,n);for(let o=s-(r>0?0:1);r>0?o<t.childCount:o>=0;o+=r){let l=t.child(o);if(l.isAtom){if(!a&&pt.isSelectable(l))return pt.create(e,n-(r<0?l.nodeSize:0))}else{let u=Xd(e,l,n+r,r<0?l.childCount:0,r,a);if(u)return u}n+=l.nodeSize*r}return null}function CD(e,t,n){let s=e.steps.length-1;if(s<t)return;let r=e.steps[s];if(!(r instanceof Vs||r instanceof Us))return;let a=e.mapping.maps[s],o;a.forEach((l,u,d,f)=>{o==null&&(o=f)}),e.setSelection($t.near(e.doc.resolve(o),n))}const ED=1,M0=2,TD=4;class MTe extends YU{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|ED)&~M0,this.storedMarks=null,this}get selectionSet(){return(this.updated&ED)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=M0,this}ensureMarks(t){return _n.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&M0)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~M0,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let s=this.selection;return n&&(t=t.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||_n.none))),s.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,s){let r=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(s==null&&(s=n),!t)return this.deleteRange(n,s);let a=this.storedMarks;if(!a){let o=this.doc.resolve(n);a=s==n?o.marks():o.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,r.text(t,a)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection($t.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=TD,this}get scrolledIntoView(){return(this.updated&TD)>0}}function zD(e,t){return!t||!e?e:e.bind(t)}class Om{constructor(t,n,s){this.name=t,this.init=zD(n.init,s),this.apply=zD(n.apply,s)}}const ATe=[new Om("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Om("selection",{init(e,t){return e.selection||$t.atStart(t.doc)},apply(e){return e.selection}}),new Om("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,s){return s.selection.$cursor?e.storedMarks:null}}),new Om("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class aN{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=ATe.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new Om(s.key,s.spec.state,s))})}}class fh{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let r=this.config.plugins[s];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],s=this.applyInner(t),r=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let u=r?r[o].n:0,d=r?r[o].state:this,f=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,d,s);if(f&&s.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",t),!r){r=[];for(let m=0;m<this.config.plugins.length;m++)r.push(m<o?{state:s,n:n.length}:{state:this,n:0})}n.push(f),s=s.applyInner(f),a=!0}r&&(r[o]={state:s,n:n.length})}}if(!a)return{state:s,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new fh(this.config),s=this.config.fields;for(let r=0;r<s.length;r++){let a=s[r];n[a.name]=a.apply(t,this[a.name],this,n)}return n}get tr(){return new MTe(this)}static create(t){let n=new aN(t.doc?t.doc.type.schema:t.schema,t.plugins),s=new fh(n);for(let r=0;r<n.fields.length;r++)s[n.fields[r].name]=n.fields[r].init(t,s);return s}reconfigure(t){let n=new aN(this.schema,t.plugins),s=n.fields,r=new fh(n);for(let a=0;a<s.length;a++){let o=s[a].name;r[o]=this.hasOwnProperty(o)?this[o]:s[a].init(t,r)}return r}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),t&&typeof t=="object")for(let s in t){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[s],a=r.spec.state;a&&a.toJSON&&(n[s]=a.toJSON.call(r,this[r.key]))}return n}static fromJSON(t,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new aN(t.schema,t.plugins),a=new fh(r);return r.fields.forEach(o=>{if(o.name=="doc")a.doc=Kl.fromJSON(t.schema,n.doc);else if(o.name=="selection")a.selection=$t.fromJSON(a.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(s)for(let l in s){let u=s[l],d=u.spec.state;if(u.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){a[o.name]=d.fromJSON.call(u,t,n[l],a);return}}a[o.name]=o.init(t,a)}}),a}}function JU(e,t,n){for(let s in e){let r=e[s];r instanceof Function?r=r.bind(t):s=="handleDOMEvents"&&(r=JU(r,t,{})),n[s]=r}return n}class Wn{constructor(t){this.spec=t,this.props={},t.props&&JU(t.props,this,this.props),this.key=t.key?t.key.key:XU("plugin")}getState(t){return t[this.key]}}const oN=Object.create(null);function XU(e){return e in oN?e+"$"+ ++oN[e]:(oN[e]=0,e+"$")}class Os{constructor(t="key"){this.key=XU(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const HE=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function QU(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const eH=(e,t,n)=>{let s=QU(e,n);if(!s)return!1;let r=qE(s);if(!r){let o=s.blockRange(),l=o&&cf(o);return l==null?!1:(t&&t(e.tr.lift(o,l).scrollIntoView()),!0)}let a=r.nodeBefore;if(cH(e,r,t,-1))return!0;if(s.parent.content.size==0&&(Ph(a,"end")||pt.isSelectable(a)))for(let o=s.depth;;o--){let l=l1(e.doc,s.before(o),s.after(o),Ke.empty);if(l&&l.slice.size<l.to-l.from){if(t){let u=e.tr.step(l);u.setSelection(Ph(a,"end")?$t.findFrom(u.doc.resolve(u.mapping.map(r.pos,-1)),-1):pt.create(u.doc,r.pos-a.nodeSize)),t(u.scrollIntoView())}return!0}if(o==1||s.node(o-1).childCount>1)break}return a.isAtom&&r.depth==s.depth-1?(t&&t(e.tr.delete(r.pos-a.nodeSize,r.pos).scrollIntoView()),!0):!1},RTe=(e,t,n)=>{let s=QU(e,n);if(!s)return!1;let r=qE(s);return r?tH(e,r,t):!1},OTe=(e,t,n)=>{let s=sH(e,n);if(!s)return!1;let r=ZE(s);return r?tH(e,r,t):!1};function tH(e,t,n){let s=t.nodeBefore,r=s,a=t.pos-1;for(;!r.isTextblock;a--){if(r.type.spec.isolating)return!1;let f=r.lastChild;if(!f)return!1;r=f}let o=t.nodeAfter,l=o,u=t.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let d=l1(e.doc,a,u,Ke.empty);if(!d||d.from!=a||d instanceof Vs&&d.slice.size>=u-a)return!1;if(n){let f=e.tr.step(d);f.setSelection(_t.create(f.doc,a)),n(f.scrollIntoView())}return!0}function Ph(e,t,n=!1){for(let s=e;s;s=t=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const nH=(e,t,n)=>{let{$head:s,empty:r}=e.selection,a=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):s.parentOffset>0)return!1;a=qE(s)}let o=a&&a.nodeBefore;return!o||!pt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(pt.create(e.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function qE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function sH(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const rH=(e,t,n)=>{let s=sH(e,n);if(!s)return!1;let r=ZE(s);if(!r)return!1;let a=r.nodeAfter;if(cH(e,r,t,1))return!0;if(s.parent.content.size==0&&(Ph(a,"start")||pt.isSelectable(a))){let o=l1(e.doc,s.before(),s.after(),Ke.empty);if(o&&o.slice.size<o.to-o.from){if(t){let l=e.tr.step(o);l.setSelection(Ph(a,"start")?$t.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):pt.create(l.doc,l.mapping.map(r.pos))),t(l.scrollIntoView())}return!0}}return a.isAtom&&r.depth==s.depth-1?(t&&t(e.tr.delete(r.pos,r.pos+a.nodeSize).scrollIntoView()),!0):!1},iH=(e,t,n)=>{let{$head:s,empty:r}=e.selection,a=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):s.parentOffset<s.parent.content.size)return!1;a=ZE(s)}let o=a&&a.nodeAfter;return!o||!pt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(pt.create(e.doc,a.pos)).scrollIntoView()),!0)};function ZE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const DTe=(e,t)=>{let n=e.selection,s=n instanceof pt,r;if(s){if(n.node.isTextblock||!pc(e.doc,n.from))return!1;r=n.from}else if(r=o1(e.doc,n.from,-1),r==null)return!1;if(t){let a=e.tr.join(r);s&&a.setSelection(pt.create(a.doc,r-e.doc.resolve(r).nodeBefore.nodeSize)),t(a.scrollIntoView())}return!0},PTe=(e,t)=>{let n=e.selection,s;if(n instanceof pt){if(n.node.isTextblock||!pc(e.doc,n.to))return!1;s=n.to}else if(s=o1(e.doc,n.to,1),s==null)return!1;return t&&t(e.tr.join(s).scrollIntoView()),!0},ITe=(e,t)=>{let{$from:n,$to:s}=e.selection,r=n.blockRange(s),a=r&&cf(r);return a==null?!1:(t&&t(e.tr.lift(r,a).scrollIntoView()),!0)},aH=(e,t)=>{let{$head:n,$anchor:s}=e.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function WE(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const LTe=(e,t)=>{let{$head:n,$anchor:s}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let r=n.node(-1),a=n.indexAfter(-1),o=WE(r.contentMatchAt(a));if(!o||!r.canReplaceWith(a,a,o))return!1;if(t){let l=n.after(),u=e.tr.replaceWith(l,l,o.createAndFill());u.setSelection($t.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0},oH=(e,t)=>{let n=e.selection,{$from:s,$to:r}=n;if(n instanceof ci||s.parent.inlineContent||r.parent.inlineContent)return!1;let a=WE(r.parent.contentMatchAt(r.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){let o=(!s.parentOffset&&r.index()<r.parent.childCount?s:r).pos,l=e.tr.insert(o,a.createAndFill());l.setSelection(_t.create(l.doc,o+1)),t(l.scrollIntoView())}return!0},lH=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Io(e.doc,a))return t&&t(e.tr.split(a).scrollIntoView()),!0}let s=n.blockRange(),r=s&&cf(s);return r==null?!1:(t&&t(e.tr.lift(s,r).scrollIntoView()),!0)};function $Te(e){return(t,n)=>{let{$from:s,$to:r}=t.selection;if(t.selection instanceof pt&&t.selection.node.isBlock)return!s.parentOffset||!Io(t.doc,s.pos)?!1:(n&&n(t.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let a=[],o,l,u=!1,d=!1;for(let x=s.depth;;x--)if(s.node(x).isBlock){u=s.end(x)==s.pos+(s.depth-x),d=s.start(x)==s.pos-(s.depth-x),l=WE(s.node(x-1).contentMatchAt(s.indexAfter(x-1))),a.unshift(u&&l?{type:l}:null),o=x;break}else{if(x==1)return!1;a.unshift(null)}let f=t.tr;(t.selection instanceof _t||t.selection instanceof ci)&&f.deleteSelection();let m=f.mapping.map(s.pos),g=Io(f.doc,m,a.length,a);if(g||(a[0]=l?{type:l}:null,g=Io(f.doc,m,a.length,a)),!g)return!1;if(f.split(m,a.length,a),!u&&d&&s.node(o).type!=l){let x=f.mapping.map(s.before(o)),b=f.doc.resolve(x);l&&s.node(o-1).canReplaceWith(b.index(),b.index()+1,l)&&f.setNodeMarkup(f.mapping.map(s.before(o)),l)}return n&&n(f.scrollIntoView()),!0}}const VTe=$Te(),BTe=(e,t)=>{let{$from:n,to:s}=e.selection,r,a=n.sharedDepth(s);return a==0?!1:(r=n.before(a),t&&t(e.tr.setSelection(pt.create(e.doc,r))),!0)};function FTe(e,t,n){let s=t.nodeBefore,r=t.nodeAfter,a=t.index();return!s||!r||!s.type.compatibleContent(r.type)?!1:!s.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-s.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(a,a+1)||!(r.isTextblock||pc(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function cH(e,t,n,s){let r=t.nodeBefore,a=t.nodeAfter,o,l,u=r.type.spec.isolating||a.type.spec.isolating;if(!u&&FTe(e,t,n))return!0;let d=!u&&t.parent.canReplace(t.index(),t.index()+1);if(d&&(o=(l=r.contentMatchAt(r.childCount)).findWrapping(a.type))&&l.matchType(o[0]||a.type).validEnd){if(n){let x=t.pos+a.nodeSize,b=Pe.empty;for(let k=o.length-1;k>=0;k--)b=Pe.from(o[k].create(null,b));b=Pe.from(r.copy(b));let w=e.tr.step(new Us(t.pos-1,x,t.pos,x,new Ke(b,1,0),o.length,!0)),j=w.doc.resolve(x+2*o.length);j.nodeAfter&&j.nodeAfter.type==r.type&&pc(w.doc,j.pos)&&w.join(j.pos),n(w.scrollIntoView())}return!0}let f=a.type.spec.isolating||s>0&&u?null:$t.findFrom(t,1),m=f&&f.$from.blockRange(f.$to),g=m&&cf(m);if(g!=null&&g>=t.depth)return n&&n(e.tr.lift(m,g).scrollIntoView()),!0;if(d&&Ph(a,"start",!0)&&Ph(r,"end")){let x=r,b=[];for(;b.push(x),!x.isTextblock;)x=x.lastChild;let w=a,j=1;for(;!w.isTextblock;w=w.firstChild)j++;if(x.canReplace(x.childCount,x.childCount,w.content)){if(n){let k=Pe.empty;for(let C=b.length-1;C>=0;C--)k=Pe.from(b[C].copy(k));let S=e.tr.step(new Us(t.pos-b.length,t.pos+a.nodeSize,t.pos+j,t.pos+a.nodeSize-j,new Ke(k,b.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function uH(e){return function(t,n){let s=t.selection,r=e<0?s.$from:s.$to,a=r.depth;for(;r.node(a).isInline;){if(!a)return!1;a--}return r.node(a).isTextblock?(n&&n(t.tr.setSelection(_t.create(t.doc,e<0?r.start(a):r.end(a)))),!0):!1}}const UTe=uH(-1),HTe=uH(1);function qTe(e,t=null){return function(n,s){let{$from:r,$to:a}=n.selection,o=r.blockRange(a),l=o&&FE(o,e,t);return l?(s&&s(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function MD(e,t=null){return function(n,s){let r=!1;for(let a=0;a<n.selection.ranges.length&&!r;a++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[a];n.doc.nodesBetween(o,l,(u,d)=>{if(r)return!1;if(!(!u.isTextblock||u.hasMarkup(e,t)))if(u.type==e)r=!0;else{let f=n.doc.resolve(d),m=f.index();r=f.parent.canReplaceWith(m,m+1,e)}})}if(!r)return!1;if(s){let a=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[o];a.setBlockType(l,u,e,t)}s(a.scrollIntoView())}return!0}}function KE(...e){return function(t,n,s){for(let r=0;r<e.length;r++)if(e[r](t,n,s))return!0;return!1}}KE(HE,eH,nH);KE(HE,rH,iH);KE(aH,oH,lH,VTe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function ZTe(e,t=null){return function(n,s){let{$from:r,$to:a}=n.selection,o=r.blockRange(a);if(!o)return!1;let l=s?n.tr:null;return WTe(l,o,e,t)?(s&&s(l.scrollIntoView()),!0):!1}}function WTe(e,t,n,s=null){let r=!1,a=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let u=o.resolve(t.start-2);a=new uy(u,u,t.depth),t.endIndex<t.parent.childCount&&(t=new uy(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let l=FE(a,n,s,t);return l?(e&&KTe(e,t,l,r,n),!0):!1}function KTe(e,t,n,s,r){let a=Pe.empty;for(let f=n.length-1;f>=0;f--)a=Pe.from(n[f].type.create(n[f].attrs,a));e.step(new Us(t.start-(s?2:0),t.end,t.start,t.end,new Ke(a,0,0),n.length,!0));let o=0;for(let f=0;f<n.length;f++)n[f].type==r&&(o=f+1);let l=n.length-o,u=t.start+n.length-(s?2:0),d=t.parent;for(let f=t.startIndex,m=t.endIndex,g=!0;f<m;f++,g=!1)!g&&Io(e.doc,u,l)&&(e.split(u,l),u+=2*l),u+=d.child(f).nodeSize;return e}function GTe(e){return function(t,n){let{$from:s,$to:r}=t.selection,a=s.blockRange(r,o=>o.childCount>0&&o.firstChild.type==e);return a?n?s.node(a.depth-1).type==e?YTe(t,n,e,a):JTe(t,n,a):!0:!1}}function YTe(e,t,n,s){let r=e.tr,a=s.end,o=s.$to.end(s.depth);a<o&&(r.step(new Us(a-1,o,a,o,new Ke(Pe.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new uy(r.doc.resolve(s.$from.pos),r.doc.resolve(o),s.depth));const l=cf(s);if(l==null)return!1;r.lift(s,l);let u=r.doc.resolve(r.mapping.map(a,-1)-1);return pc(r.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&r.join(u.pos),t(r.scrollIntoView()),!0}function JTe(e,t,n){let s=e.tr,r=n.parent;for(let x=n.end,b=n.endIndex-1,w=n.startIndex;b>w;b--)x-=r.child(b).nodeSize,s.delete(x-1,x+1);let a=s.doc.resolve(n.start),o=a.nodeAfter;if(s.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==r.childCount,d=a.node(-1),f=a.index(-1);if(!d.canReplace(f+(l?0:1),f+1,o.content.append(u?Pe.empty:Pe.from(r))))return!1;let m=a.pos,g=m+o.nodeSize;return s.step(new Us(m-(l?1:0),g+(u?1:0),m+1,g-1,new Ke((l?Pe.empty:Pe.from(r.copy(Pe.empty))).append(u?Pe.empty:Pe.from(r.copy(Pe.empty))),l?0:1,u?0:1),l?0:1)),t(s.scrollIntoView()),!0}function XTe(e){return function(t,n){let{$from:s,$to:r}=t.selection,a=s.blockRange(r,d=>d.childCount>0&&d.firstChild.type==e);if(!a)return!1;let o=a.startIndex;if(o==0)return!1;let l=a.parent,u=l.child(o-1);if(u.type!=e)return!1;if(n){let d=u.lastChild&&u.lastChild.type==l.type,f=Pe.from(d?e.create():null),m=new Ke(Pe.from(e.create(null,Pe.from(l.type.create(null,f)))),d?3:1,0),g=a.start,x=a.end;n(t.tr.step(new Us(g-(d?3:1),x,g,x,m,1,!0)).scrollIntoView())}return!0}}const er=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Ih=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let xS=null;const To=function(e,t,n){let s=xS||(xS=document.createRange());return s.setEnd(e,n??e.nodeValue.length),s.setStart(e,t||0),s},QTe=function(){xS=null},Au=function(e,t,n,s){return n&&(AD(e,t,n,s,-1)||AD(e,t,n,s,1))},e5e=/^(img|br|input|textarea|hr)$/i;function AD(e,t,n,s,r){for(var a;;){if(e==n&&t==s)return!0;if(t==(r<0?0:Mi(e))){let o=e.parentNode;if(!o||o.nodeType!=1||zg(e)||e5e.test(e.nodeName)||e.contentEditable=="false")return!1;t=er(e)+(r<0?0:1),e=o}else if(e.nodeType==1){let o=e.childNodes[t+(r<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((a=o.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)t+=r;else return!1;else e=o,t=r<0?Mi(e):0}else return!1}}function Mi(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function t5e(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=Mi(e)}else if(e.parentNode&&!zg(e))t=er(e),e=e.parentNode;else return null}}function n5e(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!zg(e))t=er(e)+1,e=e.parentNode;else return null}}function s5e(e,t,n){for(let s=t==0,r=t==Mi(e);s||r;){if(e==n)return!0;let a=er(e);if(e=e.parentNode,!e)return!1;s=s&&a==0,r=r&&a==Mi(e)}}function zg(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const u1=function(e){return e.focusNode&&Au(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Qc(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function r5e(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function i5e(e,t,n){if(e.caretPositionFromPoint)try{let s=e.caretPositionFromPoint(t,n);if(s)return{node:s.offsetNode,offset:Math.min(Mi(s.offsetNode),s.offset)}}catch{}if(e.caretRangeFromPoint){let s=e.caretRangeFromPoint(t,n);if(s)return{node:s.startContainer,offset:Math.min(Mi(s.startContainer),s.startOffset)}}}const Ga=typeof navigator<"u"?navigator:null,RD=typeof document<"u"?document:null,gc=Ga&&Ga.userAgent||"",vS=/Edge\/(\d+)/.exec(gc),dH=/MSIE \d/.exec(gc),yS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(gc),Fr=!!(dH||yS||vS),Yl=dH?document.documentMode:yS?+yS[1]:vS?+vS[1]:0,Pi=!Fr&&/gecko\/(\d+)/i.test(gc);Pi&&+(/Firefox\/(\d+)/.exec(gc)||[0,0])[1];const bS=!Fr&&/Chrome\/(\d+)/.exec(gc),nr=!!bS,hH=bS?+bS[1]:0,mr=!Fr&&!!Ga&&/Apple Computer/.test(Ga.vendor),Lh=mr&&(/Mobile\/\w+/.test(gc)||!!Ga&&Ga.maxTouchPoints>2),Ei=Lh||(Ga?/Mac/.test(Ga.platform):!1),fH=Ga?/Win/.test(Ga.platform):!1,Mo=/Android \d/.test(gc),Mg=!!RD&&"webkitFontSmoothing"in RD.documentElement.style,a5e=Mg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function o5e(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function ko(e,t){return typeof e=="number"?e:e[t]}function l5e(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,s=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*s}}function OD(e,t,n){let s=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let o=n||e.dom;o;){if(o.nodeType!=1){o=Ih(o);continue}let l=o,u=l==a.body,d=u?o5e(a):l5e(l),f=0,m=0;if(t.top<d.top+ko(s,"top")?m=-(d.top-t.top+ko(r,"top")):t.bottom>d.bottom-ko(s,"bottom")&&(m=t.bottom-t.top>d.bottom-d.top?t.top+ko(r,"top")-d.top:t.bottom-d.bottom+ko(r,"bottom")),t.left<d.left+ko(s,"left")?f=-(d.left-t.left+ko(r,"left")):t.right>d.right-ko(s,"right")&&(f=t.right-d.right+ko(r,"right")),f||m)if(u)a.defaultView.scrollBy(f,m);else{let x=l.scrollLeft,b=l.scrollTop;m&&(l.scrollTop+=m),f&&(l.scrollLeft+=f);let w=l.scrollLeft-x,j=l.scrollTop-b;t={left:t.left-w,top:t.top-j,right:t.right-w,bottom:t.bottom-j}}let g=u?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:Ih(o)}}function c5e(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),s,r;for(let a=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let l=e.root.elementFromPoint(a,o);if(!l||l==e.dom||!e.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){s=l,r=u.top;break}}return{refDOM:s,refTop:r,stack:mH(e.dom)}}function mH(e){let t=[],n=e.ownerDocument;for(let s=e;s&&(t.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),e!=n);s=Ih(s));return t}function u5e({refDOM:e,refTop:t,stack:n}){let s=e?e.getBoundingClientRect().top:0;pH(n,s==0?0:s-t)}function pH(e,t){for(let n=0;n<e.length;n++){let{dom:s,top:r,left:a}=e[n];s.scrollTop!=r+t&&(s.scrollTop=r+t),s.scrollLeft!=a&&(s.scrollLeft=a)}}let qd=null;function d5e(e){if(e.setActive)return e.setActive();if(qd)return e.focus(qd);let t=mH(e);e.focus(qd==null?{get preventScroll(){return qd={preventScroll:!0},!0}}:void 0),qd||(qd=!1,pH(t,0))}function gH(e,t){let n,s=2e8,r,a=0,o=t.top,l=t.top,u,d;for(let f=e.firstChild,m=0;f;f=f.nextSibling,m++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=To(f).getClientRects();else continue;for(let x=0;x<g.length;x++){let b=g[x];if(b.top<=o&&b.bottom>=l){o=Math.max(b.bottom,o),l=Math.min(b.top,l);let w=b.left>t.left?b.left-t.left:b.right<t.left?t.left-b.right:0;if(w<s){n=f,s=w,r=w&&n.nodeType==3?{left:b.right<t.left?b.right:b.left,top:t.top}:t,f.nodeType==1&&w&&(a=m+(t.left>=(b.left+b.right)/2?1:0));continue}}else b.top>t.top&&!u&&b.left<=t.left&&b.right>=t.left&&(u=f,d={left:Math.max(b.left,Math.min(b.right,t.left)),top:b.top});!n&&(t.left>=b.right&&t.top>=b.top||t.left>=b.left&&t.top>=b.bottom)&&(a=m+1)}}return!n&&u&&(n=u,r=d,s=0),n&&n.nodeType==3?h5e(n,r):!n||s&&n.nodeType==1?{node:e,offset:a}:gH(n,r)}function h5e(e,t){let n=e.nodeValue.length,s=document.createRange(),r;for(let a=0;a<n;a++){s.setEnd(e,a+1),s.setStart(e,a);let o=Tl(s,1);if(o.top!=o.bottom&&GE(t,o)){r={node:e,offset:a+(t.left>=(o.left+o.right)/2?1:0)};break}}return s.detach(),r||{node:e,offset:0}}function GE(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function f5e(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function m5e(e,t,n){let{node:s,offset:r}=gH(t,n),a=-1;if(s.nodeType==1&&!s.firstChild){let o=s.getBoundingClientRect();a=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(s,r,a)}function p5e(e,t,n,s){let r=-1;for(let a=t,o=!1;a!=e.dom;){let l=e.docView.nearestDesc(a,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&u.left>s.left||u.top>s.top?r=l.posBefore:(!o&&u.right<s.left||u.bottom<s.top)&&(r=l.posAfter),o=!0),!l.contentDOM&&r<0&&!l.node.isText))return(l.node.isBlock?s.top<(u.top+u.bottom)/2:s.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;a=l.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n,-1)}function xH(e,t,n){let s=e.childNodes.length;if(s&&n.top<n.bottom)for(let r=Math.max(0,Math.min(s-1,Math.floor(s*(t.top-n.top)/(n.bottom-n.top))-2)),a=r;;){let o=e.childNodes[a];if(o.nodeType==1){let l=o.getClientRects();for(let u=0;u<l.length;u++){let d=l[u];if(GE(t,d))return xH(o,t,d)}}if((a=(a+1)%s)==r)break}return e}function g5e(e,t){let n=e.dom.ownerDocument,s,r=0,a=i5e(n,t.left,t.top);a&&({node:s,offset:r}=a);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=e.dom.getBoundingClientRect();if(!GE(t,d)||(o=xH(e.dom,t,d),!o))return null}if(mr)for(let d=o;s&&d;d=Ih(d))d.draggable&&(s=void 0);if(o=f5e(o,t),s){if(Pi&&s.nodeType==1&&(r=Math.min(r,s.childNodes.length),r<s.childNodes.length)){let f=s.childNodes[r],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&r++}let d;Mg&&r&&s.nodeType==1&&(d=s.childNodes[r-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=t.top&&r--,s==e.dom&&r==s.childNodes.length-1&&s.lastChild.nodeType==1&&t.top>s.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(r==0||s.nodeType!=1||s.childNodes[r-1].nodeName!="BR")&&(l=p5e(e,s,r,t))}l==null&&(l=m5e(e,o,t));let u=e.docView.nearestDesc(o,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function DD(e){return e.top<e.bottom||e.left<e.right}function Tl(e,t){let n=e.getClientRects();if(n.length){let s=n[t<0?0:n.length-1];if(DD(s))return s}return Array.prototype.find.call(n,DD)||e.getBoundingClientRect()}const x5e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function vH(e,t,n){let{node:s,offset:r,atom:a}=e.docView.domFromPos(t,n<0?-1:1),o=Mg||Pi;if(s.nodeType==3)if(o&&(x5e.test(s.nodeValue)||(n<0?!r:r==s.nodeValue.length))){let u=Tl(To(s,r,r),n);if(Pi&&r&&/\s/.test(s.nodeValue[r-1])&&r<s.nodeValue.length){let d=Tl(To(s,r-1,r-1),-1);if(d.top==u.top){let f=Tl(To(s,r,r+1),-1);if(f.top!=u.top)return xm(f,f.left<d.left)}}return u}else{let u=r,d=r,f=n<0?1:-1;return n<0&&!r?(d++,f=-1):n>=0&&r==s.nodeValue.length?(u--,f=1):n<0?u--:d++,xm(Tl(To(s,u,d),f),f<0)}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(a==null&&r&&(n<0||r==Mi(s))){let u=s.childNodes[r-1];if(u.nodeType==1)return lN(u.getBoundingClientRect(),!1)}if(a==null&&r<Mi(s)){let u=s.childNodes[r];if(u.nodeType==1)return lN(u.getBoundingClientRect(),!0)}return lN(s.getBoundingClientRect(),n>=0)}if(a==null&&r&&(n<0||r==Mi(s))){let u=s.childNodes[r-1],d=u.nodeType==3?To(u,Mi(u)-(o?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return xm(Tl(d,1),!1)}if(a==null&&r<Mi(s)){let u=s.childNodes[r];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?To(u,0,o?0:1):u.nodeType==1?u:null:null;if(d)return xm(Tl(d,-1),!0)}return xm(Tl(s.nodeType==3?To(s):s,-n),n>=0)}function xm(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function lN(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function yH(e,t,n){let s=e.state,r=e.root.activeElement;s!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{s!=t&&e.updateState(s),r!=e.dom&&r&&r.focus()}}function v5e(e,t,n){let s=t.selection,r=n=="up"?s.$from:s.$to;return yH(e,t,()=>{let{node:a}=e.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.contentDOM||l.dom;break}a=l.dom.parentNode}let o=vH(e,r.pos,1);for(let l=a.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=To(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<u.length;d++){let f=u[d];if(f.bottom>f.top+1&&(n=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const y5e=/[\u0590-\u08ac]/;function b5e(e,t,n){let{$head:s}=t.selection;if(!s.parent.isTextblock)return!1;let r=s.parentOffset,a=!r,o=r==s.parent.content.size,l=e.domSelection();return l?!y5e.test(s.parent.textContent)||!l.modify?n=="left"||n=="backward"?a:o:yH(e,t,()=>{let{focusNode:u,focusOffset:d,anchorNode:f,anchorOffset:m}=e.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",n,"character");let x=s.depth?e.docView.domAfterPos(s.before()):e.dom,{focusNode:b,focusOffset:w}=e.domSelectionRange(),j=b&&!x.contains(b.nodeType==1?b:b.parentNode)||u==b&&d==w;try{l.collapse(f,m),u&&(u!=f||d!=m)&&l.extend&&l.extend(u,d)}catch{}return g!=null&&(l.caretBidiLevel=g),j}):s.pos==s.start()||s.pos==s.end()}let PD=null,ID=null,LD=!1;function w5e(e,t,n){return PD==t&&ID==n?LD:(PD=t,ID=n,LD=n=="up"||n=="down"?v5e(e,t,n):b5e(e,t,n))}const Ii=0,$D=1,au=2,Ya=3;class Ag{constructor(t,n,s,r){this.parent=t,this.children=n,this.dom=s,this.contentDOM=r,this.dirty=Ii,s.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,s){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,s=this.posAtStart;;n++){let r=this.children[n];if(r==t)return s;s+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,s){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(s<0){let a,o;if(t==this.contentDOM)a=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(t==this.contentDOM)a=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=n>er(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=t;;a=a.parentNode){if(a==this.dom){r=!1;break}if(a.previousSibling)break}if(r==null&&n==t.childNodes.length)for(let a=t;;a=a.parentNode){if(a==this.dom){r=!0;break}if(a.nextSibling)break}}return r??s>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let s=!0,r=t;r;r=r.parentNode){let a=this.getDesc(r),o;if(a&&(!n||a.node))if(s&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))s=!1;else return a}}getDesc(t){let n=t.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(t,n,s){for(let r=t;r;r=r.parentNode){let a=this.getDesc(r);if(a)return a.localPosFromDOM(t,n,s)}return-1}descAt(t){for(let n=0,s=0;n<this.children.length;n++){let r=this.children[n],a=s+r.size;if(s==t&&a!=s){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let l=r.children[o];if(l.size){r=l;break}}return r}if(t<a)return r.descAt(t-s-r.border);s=a}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let s=0,r=0;for(let a=0;s<this.children.length;s++){let o=this.children[s],l=a+o.size;if(l>t||o instanceof wH){r=t-a;break}a=l}if(r)return this.children[s].domFromPos(r-this.children[s].border,n);for(let a;s&&!(a=this.children[s-1]).size&&a instanceof bH&&a.side>=0;s--);if(n<=0){let a,o=!0;for(;a=s?this.children[s-1]:null,!(!a||a.dom.parentNode==this.contentDOM);s--,o=!1);return a&&n&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?er(a.dom)+1:0}}else{let a,o=!0;for(;a=s<this.children.length?this.children[s]:null,!(!a||a.dom.parentNode==this.contentDOM);s++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?er(a.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,a=-1;for(let o=s,l=0;;l++){let u=this.children[l],d=o+u.size;if(r==-1&&t<=d){let f=o+u.border;if(t>=f&&n<=d-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,n,f);t=o;for(let m=l;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){r=er(g.dom)+1;break}t-=g.size}r==-1&&(r=0)}if(r>-1&&(d>n||l==this.children.length-1)){n=d;for(let f=l+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){a=er(m.dom);break}n+=m.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:t,to:n,fromOffset:r,toOffset:a}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:s}=this.domFromPos(t,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[s]}setSelection(t,n,s,r=!1){let a=Math.min(t,n),o=Math.max(t,n);for(let x=0,b=0;x<this.children.length;x++){let w=this.children[x],j=b+w.size;if(a>b&&o<j)return w.setSelection(t-b-w.border,n-b-w.border,s,r);b=j}let l=this.domFromPos(t,t?-1:1),u=n==t?l:this.domFromPos(n,n?-1:1),d=s.root.getSelection(),f=s.domSelectionRange(),m=!1;if((Pi||mr)&&t==n){let{node:x,offset:b}=l;if(x.nodeType==3){if(m=!!(b&&x.nodeValue[b-1]==`
`),m&&b==x.nodeValue.length)for(let w=x,j;w;w=w.parentNode){if(j=w.nextSibling){j.nodeName=="BR"&&(l=u={node:j.parentNode,offset:er(j)+1});break}let k=w.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let w=x.childNodes[b-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Pi&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let x=f.focusNode.childNodes[f.focusOffset];x&&x.contentEditable=="false"&&(r=!0)}if(!(r||m&&mr)&&Au(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Au(u.node,u.offset,f.focusNode,f.focusOffset))return;let g=!1;if((d.extend||t==n)&&!(m&&Pi)){d.collapse(l.node,l.offset);try{t!=n&&d.extend(u.node,u.offset),g=!0}catch{}}if(!g){if(t>n){let b=l;l=u,u=b}let x=document.createRange();x.setEnd(u.node,u.offset),x.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(x)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let s=0,r=0;r<this.children.length;r++){let a=this.children[r],o=s+a.size;if(s==o?t<=o&&n>=s:t<o&&n>s){let l=s+a.border,u=o-a.border;if(t>=l&&n<=u){this.dirty=t==s||n==o?au:$D,t==l&&n==u&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Ya:a.markDirty(t-l,n-l);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?au:Ya}s=o}this.dirty=au}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let s=t==1?au:$D;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class bH extends Ag{constructor(t,n,s,r){let a,o=n.type.toDOM;if(typeof o=="function"&&(o=o(s,()=>{if(!a)return r;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,a=this}matchesWidget(t){return this.dirty==Ii&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class j5e extends Ag{constructor(t,n,s,r){super(t,[],n,null),this.textDOM=s,this.text=r}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Ru extends Ag{constructor(t,n,s,r,a){super(t,[],s,r),this.mark=n,this.spec=a}static create(t,n,s,r){let a=r.nodeViews[n.type.name],o=a&&a(n,r,s);return(!o||!o.dom)&&(o=Fu.renderSpec(document,n.type.spec.toDOM(n,s),null,n.attrs)),new Ru(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ya||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ya&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Ii){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Ii}}slice(t,n,s){let r=Ru.create(this.parent,this.mark,!0,s),a=this.children,o=this.size;n<o&&(a=jS(a,n,o,s)),t>0&&(a=jS(a,0,t,s));for(let l=0;l<a.length;l++)a[l].parent=r;return r.children=a,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Jl extends Ag{constructor(t,n,s,r,a,o,l,u,d){super(t,[],a,o),this.node=n,this.outerDeco=s,this.innerDeco=r,this.nodeDOM=l}static create(t,n,s,r,a,o){let l=a.nodeViews[n.type.name],u,d=l&&l(n,a,()=>{if(!u)return o;if(u.parent)return u.parent.posBeforeChild(u)},s,r),f=d&&d.dom,m=d&&d.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=Fu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let g=f;return f=NH(f,s,n),d?u=new k5e(t,n,s,r,f,m||null,g,d,a,o+1):n.isText?new d1(t,n,s,r,f,g,a):new Jl(t,n,s,r,f,m||null,g,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){t.contentElement=s.dom.parentNode;break}}t.contentElement||(t.getContent=()=>Pe.empty)}return t}matchesNode(t,n,s){return this.dirty==Ii&&t.eq(this.node)&&hy(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let s=this.node.inlineContent,r=n,a=t.composing?this.localCompositionInfo(t,n):null,o=a&&a.pos>-1?a:null,l=a&&a.pos<0,u=new S5e(this,o&&o.node,t);E5e(this.node,this.innerDeco,(d,f,m)=>{d.spec.marks?u.syncToMarks(d.spec.marks,s,t,f):d.type.side>=0&&!m&&u.syncToMarks(f==this.node.childCount?_n.none:this.node.child(f).marks,s,t,f),u.placeWidget(d,t,r)},(d,f,m,g)=>{u.syncToMarks(d.marks,s,t,g);let x;u.findNodeMatch(d,f,m,g)||l&&t.state.selection.from>r&&t.state.selection.to<r+d.nodeSize&&(x=u.findIndexWithChild(a.node))>-1&&u.updateNodeAt(d,f,m,x,t)||u.updateNextNode(d,f,m,t,g,r)||u.addNode(d,f,m,t,r),r+=d.nodeSize}),u.syncToMarks([],s,t,0),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==au)&&(o&&this.protectLocalComposition(t,o),jH(this.contentDOM,this.children,t),Lh&&T5e(this.dom))}localCompositionInfo(t,n){let{from:s,to:r}=t.state.selection;if(!(t.state.selection instanceof _t)||s<n||r>n+this.node.content.size)return null;let a=t.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let o=a.nodeValue,l=z5e(this.node.content,o,s-n,r-n);return l<0?null:{node:a,pos:l,text:o}}else return{node:a,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:s,text:r}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new j5e(this,a,n,r);t.input.compositionNodes.push(o),this.children=jS(this.children,s,s+r.length,t,o)}update(t,n,s,r){return this.dirty==Ya||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,s,r),!0)}updateInner(t,n,s,r){this.updateOuterDeco(n),this.node=t,this.innerDeco=s,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Ii}updateOuterDeco(t){if(hy(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=kH(this.dom,this.nodeDOM,wS(this.outerDeco,this.node,n),wS(t,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function VD(e,t,n,s,r){NH(s,t,e);let a=new Jl(void 0,e,t,n,s,s,s,r,0);return a.contentDOM&&a.updateChildren(r,0),a}class d1 extends Jl{constructor(t,n,s,r,a,o,l){super(t,n,s,r,a,null,o,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,s,r){return this.dirty==Ya||this.dirty!=Ii&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Ii||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=Ii,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,s){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,s)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,s){let r=this.node.cut(t,n),a=document.createTextNode(r.text);return new d1(this.parent,r,this.outerDeco,this.innerDeco,a,a,s)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ya)}get domAtom(){return!1}isText(t){return this.node.text==t}}class wH extends Ag{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Ii&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class k5e extends Jl{constructor(t,n,s,r,a,o,l,u,d,f){super(t,n,s,r,a,o,l,d,f),this.spec=u}update(t,n,s,r){if(this.dirty==Ya)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let a=this.spec.update(t,n,s);return a&&this.updateInner(t,n,s,r),a}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,s,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,s,r){this.spec.setSelection?this.spec.setSelection(t,n,s.root):super.setSelection(t,n,s,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function jH(e,t,n){let s=e.firstChild,r=!1;for(let a=0;a<t.length;a++){let o=t[a],l=o.dom;if(l.parentNode==e){for(;l!=s;)s=BD(s),r=!0;s=s.nextSibling}else r=!0,e.insertBefore(l,s);if(o instanceof Ru){let u=s?s.previousSibling:e.lastChild;jH(o.contentDOM,o.children,n),s=u?u.nextSibling:e.firstChild}}for(;s;)s=BD(s),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}const Km=function(e){e&&(this.nodeName=e)};Km.prototype=Object.create(null);const ou=[new Km];function wS(e,t,n){if(e.length==0)return ou;let s=n?ou[0]:new Km,r=[s];for(let a=0;a<e.length;a++){let o=e[a].type.attrs;if(o){o.nodeName&&r.push(s=new Km(o.nodeName));for(let l in o){let u=o[l];u!=null&&(n&&r.length==1&&r.push(s=new Km(t.isInline?"span":"div")),l=="class"?s.class=(s.class?s.class+" ":"")+u:l=="style"?s.style=(s.style?s.style+";":"")+u:l!="nodeName"&&(s[l]=u))}}}return r}function kH(e,t,n,s){if(n==ou&&s==ou)return t;let r=t;for(let a=0;a<s.length;a++){let o=s[a],l=n[a];if(a){let u;l&&l.nodeName==o.nodeName&&r!=e&&(u=r.parentNode)&&u.nodeName.toLowerCase()==o.nodeName||(u=document.createElement(o.nodeName),u.pmIsDeco=!0,u.appendChild(r),l=ou[0]),r=u}N5e(r,l||ou[0],o)}return r}function N5e(e,t,n){for(let s in t)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&e.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=t[s]&&e.setAttribute(s,n[s]);if(t.class!=n.class){let s=t.class?t.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<s.length;a++)r.indexOf(s[a])==-1&&e.classList.remove(s[a]);for(let a=0;a<r.length;a++)s.indexOf(r[a])==-1&&e.classList.add(r[a]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=s.exec(t.style);)e.style.removeProperty(r[1])}n.style&&(e.style.cssText+=n.style)}}function NH(e,t,n){return kH(e,e,ou,wS(t,n,e.nodeType!=1))}function hy(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function BD(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class S5e{constructor(t,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=_5e(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let s=t;s<n;s++)this.top.children[s].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,s,r){let a=0,o=this.stack.length>>1,l=Math.min(o,t.length);for(;a<l&&(a==o-1?this.top:this.stack[a+1<<1]).matchesMark(t[a])&&t[a].type.spec.spanning!==!1;)a++;for(;a<o;)this.destroyRest(),this.top.dirty=Ii,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let u=-1,d=this.top.children.length;r<this.preMatch.index&&(d=Math.min(this.index+3,d));for(let f=this.index;f<d;f++){let m=this.top.children[f];if(m.matchesMark(t[o])&&!this.isLocked(m.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=Ru.create(this.top,t[o],n,s);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,s,r){let a=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,s))a=this.top.children.indexOf(o,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let d=this.top.children[l];if(d.matchesNode(t,n,s)&&!this.preMatch.matched.has(d)){a=l;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(t,n,s,r,a){let o=this.top.children[r];return o.dirty==Ya&&o.dom==o.contentDOM&&(o.dirty=au),o.update(t,n,s,a)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=t.pmViewDesc;if(s){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==s)return r}return-1}t=n}}updateNextNode(t,n,s,r,a,o){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof Jl){let d=this.preMatch.matched.get(u);if(d!=null&&d!=a)return!1;let f=u.dom,m,g=this.isLocked(f)&&!(t.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==t.text&&u.dirty!=Ya&&hy(n,u.outerDeco));if(!g&&u.update(t,n,s,r))return this.destroyBetween(this.index,l),u.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(m=this.recreateWrapper(u,t,n,s,r,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=au,m.updateChildren(r,o+1),m.dirty=Ii),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,s,r,a,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!hy(s,t.outerDeco)||!r.eq(t.innerDeco))return null;let l=Jl.create(this.top,n,s,r,a,o);if(l.contentDOM){l.children=t.children,t.children=[];for(let u of l.children)u.parent=l}return t.destroy(),l}addNode(t,n,s,r,a){let o=Jl.create(this.top,t,n,s,r,a);o.contentDOM&&o.updateChildren(r,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,s){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let a=new bH(this.top,t,n,s);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Ru;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof d1)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((mr||nr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let s=document.createElement(t);t=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),t=="BR"&&(s.className="ProseMirror-trailingBreak");let r=new wH(this.top,[],s,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function _5e(e,t){let n=t,s=n.children.length,r=e.childCount,a=new Map,o=[];e:for(;r>0;){let l;for(;;)if(s){let d=n.children[s-1];if(d instanceof Ru)n=d,s=d.children.length;else{l=d,s--;break}}else{if(n==t)break e;s=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=e.child(r-1))break;--r,a.set(l,r),o.push(l)}}return{index:r,matched:a,matches:o.reverse()}}function C5e(e,t){return e.type.side-t.type.side}function E5e(e,t,n,s){let r=t.locals(e),a=0;if(r.length==0){for(let d=0;d<e.childCount;d++){let f=e.child(d);s(f,r,t.forChild(a,f),d),a+=f.nodeSize}return}let o=0,l=[],u=null;for(let d=0;;){let f,m;for(;o<r.length&&r[o].to==a;){let j=r[o++];j.widget&&(f?(m||(m=[f])).push(j):f=j)}if(f)if(m){m.sort(C5e);for(let j=0;j<m.length;j++)n(m[j],d,!!u)}else n(f,d,!!u);let g,x;if(u)x=-1,g=u,u=null;else if(d<e.childCount)x=d,g=e.child(d++);else break;for(let j=0;j<l.length;j++)l[j].to<=a&&l.splice(j--,1);for(;o<r.length&&r[o].from<=a&&r[o].to>a;)l.push(r[o++]);let b=a+g.nodeSize;if(g.isText){let j=b;o<r.length&&r[o].from<j&&(j=r[o].from);for(let k=0;k<l.length;k++)l[k].to<j&&(j=l[k].to);j<b&&(u=g.cut(j-a),g=g.cut(0,j-a),b=j,x=-1)}else for(;o<r.length&&r[o].to<b;)o++;let w=g.isInline&&!g.isLeaf?l.filter(j=>!j.inline):l.slice();s(g,w,t.forChild(a,g),x),a=b}}function T5e(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function z5e(e,t,n,s){for(let r=0,a=0;r<e.childCount&&a<=s;){let o=e.child(r++),l=a;if(a+=o.nodeSize,!o.isText)continue;let u=o.text;for(;r<e.childCount;){let d=e.child(r++);if(a+=d.nodeSize,!d.isText)break;u+=d.text}if(a>=n){if(a>=s&&u.slice(s-t.length-l,s-l)==t)return s-t.length;let d=l<s?u.lastIndexOf(t,s-l-1):-1;if(d>=0&&d+t.length+l>=n)return l+d;if(n==s&&u.length>=s+t.length-l&&u.slice(s-l,s-l+t.length)==t)return s}}return-1}function jS(e,t,n,s,r){let a=[];for(let o=0,l=0;o<e.length;o++){let u=e[o],d=l,f=l+=u.size;d>=n||f<=t?a.push(u):(d<t&&a.push(u.slice(0,t-d,s)),r&&(a.push(r),r=void 0),f>n&&a.push(u.slice(n-d,u.size,s)))}return a}function YE(e,t=null){let n=e.domSelectionRange(),s=e.state.doc;if(!n.focusNode)return null;let r=e.docView.nearestDesc(n.focusNode),a=r&&r.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=s.resolve(o),u,d;if(u1(n)){for(u=o;r&&!r.node;)r=r.parent;let m=r.node;if(r&&m.isAtom&&pt.isSelectable(m)&&r.parent&&!(m.isInline&&s5e(n.focusNode,n.focusOffset,r.dom))){let g=r.posBefore;d=new pt(o==g?l:s.resolve(g))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=o,g=o;for(let x=0;x<n.rangeCount;x++){let b=n.getRangeAt(x);m=Math.min(m,e.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,e.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[u,o]=g==e.state.selection.anchor?[g,m]:[m,g],l=s.resolve(o)}else u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let f=s.resolve(u);if(!d){let m=t=="pointer"||e.state.selection.head<l.pos&&!a?1:-1;d=JE(e,f,l,m)}return d}function SH(e){return e.editable?e.hasFocus():CH(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Lo(e,t=!1){let n=e.state.selection;if(_H(e,n),!!SH(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&nr){let s=e.domSelectionRange(),r=e.domObserver.currentSelection;if(s.anchorNode&&r.anchorNode&&Au(s.anchorNode,s.anchorOffset,r.anchorNode,r.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)A5e(e);else{let{anchor:s,head:r}=n,a,o;FD&&!(n instanceof _t)&&(n.$from.parent.inlineContent||(a=UD(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=UD(e,n.to))),e.docView.setSelection(s,r,e,t),FD&&(a&&HD(a),o&&HD(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&M5e(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const FD=mr||nr&&hH<63;function UD(e,t){let{node:n,offset:s}=e.docView.domFromPos(t,0),r=s<n.childNodes.length?n.childNodes[s]:null,a=s?n.childNodes[s-1]:null;if(mr&&r&&r.contentEditable=="false")return cN(r);if((!r||r.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(r)return cN(r);if(a)return cN(a)}}function cN(e){return e.contentEditable="true",mr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function HD(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function M5e(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),s=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=r)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!SH(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function A5e(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,s=n.nodeName=="IMG";s?t.collapse(n.parentNode,er(n)+1):t.collapse(n,0),!s&&!e.state.selection.visible&&Fr&&Yl<=11&&(n.disabled=!0,n.disabled=!1)}function _H(e,t){if(t instanceof pt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(qD(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else qD(e)}function qD(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function JE(e,t,n,s){return e.someProp("createSelectionBetween",r=>r(e,t,n))||_t.between(t,n,s)}function ZD(e){return e.editable&&!e.hasFocus()?!1:CH(e)}function CH(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function R5e(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Au(t.node,t.offset,n.anchorNode,n.anchorOffset)}function kS(e,t){let{$anchor:n,$head:s}=e.selection,r=t>0?n.max(s):n.min(s),a=r.parent.inlineContent?r.depth?e.doc.resolve(t>0?r.after():r.before()):null:r;return a&&$t.findFrom(a,t)}function Ml(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function WD(e,t,n){let s=e.state.selection;if(s instanceof _t)if(n.indexOf("s")>-1){let{$head:r}=s,a=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let o=e.state.doc.resolve(r.pos+a.nodeSize*(t<0?-1:1));return Ml(e,new _t(s.$anchor,o))}else if(s.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let r=kS(e.state,t);return r&&r instanceof pt?Ml(e,r):!1}else if(!(Ei&&n.indexOf("m")>-1)){let r=s.$head,a=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,o;if(!a||a.isText)return!1;let l=t<0?r.pos-a.nodeSize:r.pos;return a.isAtom||(o=e.docView.descAt(l))&&!o.contentDOM?pt.isSelectable(a)?Ml(e,new pt(t<0?e.state.doc.resolve(r.pos-a.nodeSize):r)):Mg?Ml(e,new _t(e.state.doc.resolve(t<0?l:l+a.nodeSize))):!1:!1}}else return!1;else{if(s instanceof pt&&s.node.isInline)return Ml(e,new _t(t>0?s.$to:s.$from));{let r=kS(e.state,t);return r?Ml(e,r):!1}}}function fy(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Gm(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Zd(e,t){return t<0?O5e(e):D5e(e)}function O5e(e){let t=e.domSelectionRange(),n=t.focusNode,s=t.focusOffset;if(!n)return;let r,a,o=!1;for(Pi&&n.nodeType==1&&s<fy(n)&&Gm(n.childNodes[s],-1)&&(o=!0);;)if(s>0){if(n.nodeType!=1)break;{let l=n.childNodes[s-1];if(Gm(l,-1))r=n,a=--s;else if(l.nodeType==3)n=l,s=n.nodeValue.length;else break}}else{if(EH(n))break;{let l=n.previousSibling;for(;l&&Gm(l,-1);)r=n.parentNode,a=er(l),l=l.previousSibling;if(l)n=l,s=fy(n);else{if(n=n.parentNode,n==e.dom)break;s=0}}}o?NS(e,n,s):r&&NS(e,r,a)}function D5e(e){let t=e.domSelectionRange(),n=t.focusNode,s=t.focusOffset;if(!n)return;let r=fy(n),a,o;for(;;)if(s<r){if(n.nodeType!=1)break;let l=n.childNodes[s];if(Gm(l,1))a=n,o=++s;else break}else{if(EH(n))break;{let l=n.nextSibling;for(;l&&Gm(l,1);)a=l.parentNode,o=er(l)+1,l=l.nextSibling;if(l)n=l,s=0,r=fy(n);else{if(n=n.parentNode,n==e.dom)break;s=r=0}}}a&&NS(e,a,o)}function EH(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function P5e(e,t){for(;e&&t==e.childNodes.length&&!zg(e);)t=er(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function I5e(e,t){for(;e&&!t&&!zg(e);)t=er(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function NS(e,t,n){if(t.nodeType!=3){let a,o;(o=P5e(t,n))?(t=o,n=0):(a=I5e(t,n))&&(t=a,n=a.nodeValue.length)}let s=e.domSelection();if(!s)return;if(u1(s)){let a=document.createRange();a.setEnd(t,n),a.setStart(t,n),s.removeAllRanges(),s.addRange(a)}else s.extend&&s.extend(t,n);e.domObserver.setCurSelection();let{state:r}=e;setTimeout(()=>{e.state==r&&Lo(e)},50)}function KD(e,t){let n=e.state.doc.resolve(t);if(!(nr||fH)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let a=e.coordsAtPos(t-1),o=(a.top+a.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(a.left-r.left)>1)return a.left<r.left?"ltr":"rtl"}if(t<n.end()){let a=e.coordsAtPos(t+1),o=(a.top+a.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(a.left-r.left)>1)return a.left>r.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function GD(e,t,n){let s=e.state.selection;if(s instanceof _t&&!s.empty||n.indexOf("s")>-1||Ei&&n.indexOf("m")>-1)return!1;let{$from:r,$to:a}=s;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=kS(e.state,t);if(o&&o instanceof pt)return Ml(e,o)}if(!r.parent.inlineContent){let o=t<0?r:a,l=s instanceof ci?$t.near(o,t):$t.findFrom(o,t);return l?Ml(e,l):!1}return!1}function YD(e,t){if(!(e.state.selection instanceof _t))return!0;let{$head:n,$anchor:s,empty:r}=e.state.selection;if(!n.sameParent(s))return!0;if(!r)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let o=e.state.tr;return t<0?o.delete(n.pos-a.nodeSize,n.pos):o.delete(n.pos,n.pos+a.nodeSize),e.dispatch(o),!0}return!1}function JD(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function L5e(e){if(!mr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let s=t.firstChild;JD(e,s,"true"),setTimeout(()=>JD(e,s,"false"),20)}return!1}function $5e(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function V5e(e,t){let n=t.keyCode,s=$5e(t);if(n==8||Ei&&n==72&&s=="c")return YD(e,-1)||Zd(e,-1);if(n==46&&!t.shiftKey||Ei&&n==68&&s=="c")return YD(e,1)||Zd(e,1);if(n==13||n==27)return!0;if(n==37||Ei&&n==66&&s=="c"){let r=n==37?KD(e,e.state.selection.from)=="ltr"?-1:1:-1;return WD(e,r,s)||Zd(e,r)}else if(n==39||Ei&&n==70&&s=="c"){let r=n==39?KD(e,e.state.selection.from)=="ltr"?1:-1:1;return WD(e,r,s)||Zd(e,r)}else{if(n==38||Ei&&n==80&&s=="c")return GD(e,-1,s)||Zd(e,-1);if(n==40||Ei&&n==78&&s=="c")return L5e(e)||GD(e,1,s)||Zd(e,1);if(s==(Ei?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function XE(e,t){e.someProp("transformCopied",x=>{t=x(t,e)});let n=[],{content:s,openStart:r,openEnd:a}=t;for(;r>1&&a>1&&s.childCount==1&&s.firstChild.childCount==1;){r--,a--;let x=s.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),s=x.content}let o=e.someProp("clipboardSerializer")||Fu.fromSchema(e.state.schema),l=OH(),u=l.createElement("div");u.appendChild(o.serializeFragment(s,{document:l}));let d=u.firstChild,f,m=0;for(;d&&d.nodeType==1&&(f=RH[d.nodeName.toLowerCase()]);){for(let x=f.length-1;x>=0;x--){let b=l.createElement(f[x]);for(;u.firstChild;)b.appendChild(u.firstChild);u.appendChild(b),m++}d=u.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${r} ${a}${m?` -${m}`:""} ${JSON.stringify(n)}`);let g=e.someProp("clipboardTextSerializer",x=>x(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:g,slice:t}}function TH(e,t,n,s,r){let a=r.parent.type.spec.code,o,l;if(!n&&!t)return null;let u=!!t&&(s||a||!n);if(u){if(e.someProp("transformPastedText",g=>{t=g(t,a||s,e)}),a)return l=new Ke(Pe.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",g=>{l=g(l,e,!0)}),l;let m=e.someProp("clipboardTextParser",g=>g(t,r,s,e));if(m)l=m;else{let g=r.marks(),{schema:x}=e.state,b=Fu.fromSchema(x);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(w=>{let j=o.appendChild(document.createElement("p"));w&&j.appendChild(b.serializeNode(x.text(w,g)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n,e)}),o=H5e(n),Mg&&q5e(o);let d=o&&o.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||Gl.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(u||f),context:r,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!B5e.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)l=Z5e(XD(l,+f[1],+f[2]),f[4]);else if(l=Ke.maxOpen(F5e(l.content,r),!0),l.openStart||l.openEnd){let m=0,g=0;for(let x=l.content.firstChild;m<l.openStart&&!x.type.spec.isolating;m++,x=x.firstChild);for(let x=l.content.lastChild;g<l.openEnd&&!x.type.spec.isolating;g++,x=x.lastChild);l=XD(l,m,g)}return e.someProp("transformPasted",m=>{l=m(l,e,u)}),l}const B5e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function F5e(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),a,o=[];if(e.forEach(l=>{if(!o)return;let u=r.findWrapping(l.type),d;if(!u)return o=null;if(d=o.length&&a.length&&MH(u,a,l,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=AH(o[o.length-1],a.length));let f=zH(l,u);o.push(f),r=r.matchType(f.type),a=u}}),o)return Pe.from(o)}return e}function zH(e,t,n=0){for(let s=t.length-1;s>=n;s--)e=t[s].create(null,Pe.from(e));return e}function MH(e,t,n,s,r){if(r<e.length&&r<t.length&&e[r]==t[r]){let a=MH(e,t,n,s.lastChild,r+1);if(a)return s.copy(s.content.replaceChild(s.childCount-1,a));if(s.contentMatchAt(s.childCount).matchType(r==e.length-1?n.type:e[r+1]))return s.copy(s.content.append(Pe.from(zH(n,e,r+1))))}}function AH(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,AH(e.lastChild,t-1)),s=e.contentMatchAt(e.childCount).fillBefore(Pe.empty,!0);return e.copy(n.append(s))}function SS(e,t,n,s,r,a){let o=t<0?e.firstChild:e.lastChild,l=o.content;return e.childCount>1&&(a=0),r<s-1&&(l=SS(l,t,n,s,r+1,a)),r>=n&&(l=t<0?o.contentMatchAt(0).fillBefore(l,a<=r).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(Pe.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(l))}function XD(e,t,n){return t<e.openStart&&(e=new Ke(SS(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ke(SS(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const RH={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let QD=null;function OH(){return QD||(QD=document.implementation.createHTMLDocument("title"))}let uN=null;function U5e(e){let t=window.trustedTypes;return t?(uN||(uN=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),uN.createHTML(e)):e}function H5e(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=OH().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(e),r;if((r=s&&RH[s[1].toLowerCase()])&&(e=r.map(a=>"<"+a+">").join("")+e+r.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=U5e(e),r)for(let a=0;a<r.length;a++)n=n.querySelector(r[a])||n;return n}function q5e(e){let t=e.querySelectorAll(nr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let s=t[n];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),s)}}function Z5e(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,s;try{s=JSON.parse(t)}catch{return e}let{content:r,openStart:a,openEnd:o}=e;for(let l=s.length-2;l>=0;l-=2){let u=n.nodes[s[l]];if(!u||u.hasRequiredAttrs())break;r=Pe.from(u.create(s[l+1],r)),a++,o++}return new Ke(r,a,o)}const _r={},Cr={},W5e={touchstart:!0,touchmove:!0};class K5e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function G5e(e){for(let t in _r){let n=_r[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=s=>{J5e(e,s)&&!QE(e,s)&&(e.editable||!(s.type in Cr))&&n(e,s)},W5e[t]?{passive:!0}:void 0)}mr&&e.dom.addEventListener("input",()=>null),_S(e)}function Fl(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function Y5e(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function _S(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=s=>QE(e,s))})}function QE(e,t){return e.someProp("handleDOMEvents",n=>{let s=n[t.type];return s?s(e,t)||t.defaultPrevented:!1})}function J5e(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function X5e(e,t){!QE(e,t)&&_r[t.type]&&(e.editable||!(t.type in Cr))&&_r[t.type](e,t)}Cr.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!PH(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Mo&&nr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Lh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();e.input.lastIOSEnter=s,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==s&&(e.someProp("handleKeyDown",r=>r(e,Qc(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",s=>s(e,n))||V5e(e,n)?n.preventDefault():Fl(e,"key")};Cr.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};Cr.keypress=(e,t)=>{let n=t;if(PH(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ei&&n.metaKey)return;if(e.someProp("handleKeyPress",r=>r(e,n))){n.preventDefault();return}let s=e.state.selection;if(!(s instanceof _t)||!s.$from.sameParent(s.$to)){let r=String.fromCharCode(n.charCode),a=()=>e.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!e.someProp("handleTextInput",o=>o(e,s.$from.pos,s.$to.pos,r,a))&&e.dispatch(a()),n.preventDefault()}};function h1(e){return{left:e.clientX,top:e.clientY}}function Q5e(e,t){let n=t.x-e.clientX,s=t.y-e.clientY;return n*n+s*s<100}function eT(e,t,n,s,r){if(s==-1)return!1;let a=e.state.doc.resolve(s);for(let o=a.depth+1;o>0;o--)if(e.someProp(t,l=>o>a.depth?l(e,n,a.nodeAfter,a.before(o),r,!0):l(e,n,a.node(o),a.before(o),r,!1)))return!0;return!1}function Nh(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let s=e.state.tr.setSelection(t);s.setMeta("pointer",!0),e.dispatch(s)}function e4e(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),s=n.nodeAfter;return s&&s.isAtom&&pt.isSelectable(s)?(Nh(e,new pt(n)),!0):!1}function t4e(e,t){if(t==-1)return!1;let n=e.state.selection,s,r;n instanceof pt&&(s=n.node);let a=e.state.doc.resolve(t);for(let o=a.depth+1;o>0;o--){let l=o>a.depth?a.nodeAfter:a.node(o);if(pt.isSelectable(l)){s&&n.$from.depth>0&&o>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?r=a.before(n.$from.depth):r=a.before(o);break}}return r!=null?(Nh(e,pt.create(e.state.doc,r)),!0):!1}function n4e(e,t,n,s,r){return eT(e,"handleClickOn",t,n,s)||e.someProp("handleClick",a=>a(e,t,s))||(r?t4e(e,n):e4e(e,n))}function s4e(e,t,n,s){return eT(e,"handleDoubleClickOn",t,n,s)||e.someProp("handleDoubleClick",r=>r(e,t,s))}function r4e(e,t,n,s){return eT(e,"handleTripleClickOn",t,n,s)||e.someProp("handleTripleClick",r=>r(e,t,s))||i4e(e,n,s)}function i4e(e,t,n){if(n.button!=0)return!1;let s=e.state.doc;if(t==-1)return s.inlineContent?(Nh(e,_t.create(s,0,s.content.size)),!0):!1;let r=s.resolve(t);for(let a=r.depth+1;a>0;a--){let o=a>r.depth?r.nodeAfter:r.node(a),l=r.before(a);if(o.inlineContent)Nh(e,_t.create(s,l+1,l+1+o.content.size));else if(pt.isSelectable(o))Nh(e,pt.create(s,l));else continue;return!0}}function tT(e){return my(e)}const DH=Ei?"metaKey":"ctrlKey";_r.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let s=tT(e),r=Date.now(),a="singleClick";r-e.input.lastClick.time<500&&Q5e(n,e.input.lastClick)&&!n[DH]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?a="doubleClick":e.input.lastClick.type=="doubleClick"&&(a="tripleClick")),e.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:a,button:n.button};let o=e.posAtCoords(h1(n));o&&(a=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new a4e(e,o,n,!!s)):(a=="doubleClick"?s4e:r4e)(e,o.pos,o.inside,n)?n.preventDefault():Fl(e,"pointer"))};class a4e{constructor(t,n,s,r){this.view=t,this.pos=n,this.event=s,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!s[DH],this.allowDefault=s.shiftKey;let a,o;if(n.inside>-1)a=t.state.doc.nodeAt(n.inside),o=n.inside;else{let f=t.state.doc.resolve(n.pos);a=f.parent,o=f.depth?f.before():0}const l=r?null:s.target,u=l?t.docView.nearestDesc(l,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:d}=t.state;(s.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||d instanceof pt&&d.from<=o&&d.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Pi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Fl(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Lo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(h1(t))),this.updateAllowDefault(t),this.allowDefault||!n?Fl(this.view,"pointer"):n4e(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||mr&&this.mightDrag&&!this.mightDrag.node.isAtom||nr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Nh(this.view,$t.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Fl(this.view,"pointer")}move(t){this.updateAllowDefault(t),Fl(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}_r.touchstart=e=>{e.input.lastTouch=Date.now(),tT(e),Fl(e,"pointer")};_r.touchmove=e=>{e.input.lastTouch=Date.now(),Fl(e,"pointer")};_r.contextmenu=e=>tT(e);function PH(e,t){return e.composing?!0:mr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const o4e=Mo?5e3:-1;Cr.compositionstart=Cr.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof _t&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)||nr&&fH&&l4e(e)))e.markCursor=e.state.storedMarks||n.marks(),my(e,!0),e.markCursor=null;else if(my(e,!t.selection.empty),Pi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=e.domSelectionRange();for(let r=s.focusNode,a=s.focusOffset;r&&r.nodeType==1&&a!=0;){let o=a<0?r.lastChild:r.childNodes[a-1];if(!o)break;if(o.nodeType==3){let l=e.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else r=o,a=-1}}e.input.composing=!0}IH(e,o4e)};function l4e(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let s=t.childNodes[n];return s.nodeType==1&&s.contentEditable=="false"}Cr.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.badSafariComposition?e.domObserver.forceFlush():e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,IH(e,20))};function IH(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>my(e),t))}function LH(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=u4e());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function c4e(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=t5e(t.focusNode,t.focusOffset),s=n5e(t.focusNode,t.focusOffset);if(n&&s&&n!=s){let r=s.pmViewDesc,a=e.domObserver.lastChangedTextNode;if(n==a||s==a)return a;if(!r||!r.isText(s.nodeValue))return s;if(e.input.compositionNode==s){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return s}}return n||s}function u4e(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function my(e,t=!1){if(!(Mo&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),LH(e),t||e.docView&&e.docView.dirty){let n=YE(e),s=e.state.selection;return n&&!n.eq(s)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function d4e(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),s.removeAllRanges(),s.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Lp=Fr&&Yl<15||Lh&&a5e<604;_r.copy=Cr.cut=(e,t)=>{let n=t,s=e.state.selection,r=n.type=="cut";if(s.empty)return;let a=Lp?null:n.clipboardData,o=s.content(),{dom:l,text:u}=XE(e,o);a?(n.preventDefault(),a.clearData(),a.setData("text/html",l.innerHTML),a.setData("text/plain",u)):d4e(e,l),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function h4e(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function f4e(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,s=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let r=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),s.parentNode&&s.parentNode.removeChild(s),n?$p(e,s.value,null,r,t):$p(e,s.textContent,s.innerHTML,r,t)},50)}function $p(e,t,n,s,r){let a=TH(e,t,n,s,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,r,a||Ke.empty)))return!0;if(!a)return!1;let o=h4e(a),l=o?e.state.tr.replaceSelectionWith(o,s):e.state.tr.replaceSelection(a);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function $H(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Cr.paste=(e,t)=>{let n=t;if(e.composing&&!Mo)return;let s=Lp?null:n.clipboardData,r=e.input.shiftKey&&e.input.lastKeyCode!=45;s&&$p(e,$H(s),s.getData("text/html"),r,n)?n.preventDefault():f4e(e,n)};class VH{constructor(t,n,s){this.slice=t,this.move=n,this.node=s}}const m4e=Ei?"altKey":"ctrlKey";function BH(e,t){let n=e.someProp("dragCopies",s=>!s(t));return n??!t[m4e]}_r.dragstart=(e,t)=>{let n=t,s=e.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let r=e.state.selection,a=r.empty?null:e.posAtCoords(h1(n)),o;if(!(a&&a.pos>=r.from&&a.pos<=(r instanceof pt?r.to-1:r.to))){if(s&&s.mightDrag)o=pt.create(e.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=e.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(o=pt.create(e.state.doc,m.posBefore))}}let l=(o||e.state.selection).content(),{dom:u,text:d,slice:f}=XE(e,l);(!n.dataTransfer.files.length||!nr||hH>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Lp?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Lp||n.dataTransfer.setData("text/plain",d),e.dragging=new VH(f,BH(e,n),o)};_r.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};Cr.dragover=Cr.dragenter=(e,t)=>t.preventDefault();Cr.drop=(e,t)=>{try{p4e(e,t,e.dragging)}finally{e.dragging=null}};function p4e(e,t,n){if(!t.dataTransfer)return;let s=e.posAtCoords(h1(t));if(!s)return;let r=e.state.doc.resolve(s.pos),a=n&&n.slice;a?e.someProp("transformPasted",x=>{a=x(a,e,!1)}):a=TH(e,$H(t.dataTransfer),Lp?null:t.dataTransfer.getData("text/html"),!1,r);let o=!!(n&&BH(e,t));if(e.someProp("handleDrop",x=>x(e,t,a||Ke.empty,o))){t.preventDefault();return}if(!a)return;t.preventDefault();let l=a?qU(e.state.doc,r.pos,a):r.pos;l==null&&(l=r.pos);let u=e.state.tr;if(o){let{node:x}=n;x?x.replace(u):u.deleteSelection()}let d=u.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,m=u.doc;if(f?u.replaceRangeWith(d,d,a.content.firstChild):u.replaceRange(d,d,a),u.doc.eq(m))return;let g=u.doc.resolve(d);if(f&&pt.isSelectable(a.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new pt(g));else{let x=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((b,w,j,k)=>x=k),u.setSelection(JE(e,g,u.doc.resolve(x)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))}_r.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Lo(e)},20))};_r.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};_r.beforeinput=(e,t)=>{if(nr&&Mo&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:s}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=s||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",a=>a(e,Qc(8,"Backspace")))))return;let{$cursor:r}=e.state.selection;r&&r.pos>0&&e.dispatch(e.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let e in Cr)_r[e]=Cr[e];function Vp(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class py{constructor(t,n){this.toDOM=t,this.spec=n||vu,this.side=this.spec.side||0}map(t,n,s,r){let{pos:a,deleted:o}=t.mapResult(n.from+r,this.side<0?-1:1);return o?null:new kr(a-s,a-s,this)}valid(){return!0}eq(t){return this==t||t instanceof py&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Vp(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Xl{constructor(t,n){this.attrs=t,this.spec=n||vu}map(t,n,s,r){let a=t.map(n.from+r,this.spec.inclusiveStart?-1:1)-s,o=t.map(n.to+r,this.spec.inclusiveEnd?1:-1)-s;return a>=o?null:new kr(a,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Xl&&Vp(this.attrs,t.attrs)&&Vp(this.spec,t.spec)}static is(t){return t.type instanceof Xl}destroy(){}}class nT{constructor(t,n){this.attrs=t,this.spec=n||vu}map(t,n,s,r){let a=t.mapResult(n.from+r,1);if(a.deleted)return null;let o=t.mapResult(n.to+r,-1);return o.deleted||o.pos<=a.pos?null:new kr(a.pos-s,o.pos-s,this)}valid(t,n){let{index:s,offset:r}=t.content.findIndex(n.from),a;return r==n.from&&!(a=t.child(s)).isText&&r+a.nodeSize==n.to}eq(t){return this==t||t instanceof nT&&Vp(this.attrs,t.attrs)&&Vp(this.spec,t.spec)}destroy(){}}class kr{constructor(t,n,s){this.from=t,this.to=n,this.type=s}copy(t,n){return new kr(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,s){return this.type.map(t,this,n,s)}static widget(t,n,s){return new kr(t,t,new py(n,s))}static inline(t,n,s,r){return new kr(t,n,new Xl(s,r))}static node(t,n,s,r){return new kr(t,n,new nT(s,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xl}get widget(){return this.type instanceof py}}const Qd=[],vu={};class Un{constructor(t,n){this.local=t.length?t:Qd,this.children=n.length?n:Qd}static create(t,n){return n.length?gy(n,t,0,vu):or}find(t,n,s){let r=[];return this.findInner(t??0,n??1e9,r,0,s),r}findInner(t,n,s,r,a){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=t&&(!a||a(l.spec))&&s.push(l.copy(l.from+r,l.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let l=this.children[o]+1;this.children[o+2].findInner(t-l,n-l,s,r+l,a)}}map(t,n,s){return this==or||t.maps.length==0?this:this.mapInner(t,n,0,0,s||vu)}mapInner(t,n,s,r,a){let o;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(t,s,r);u&&u.type.valid(n,u)?(o||(o=[])).push(u):a.onRemove&&a.onRemove(this.local[l].spec)}return this.children.length?g4e(this.children,o||[],t,n,s,r,a):o?new Un(o.sort(yu),Qd):or}add(t,n){return n.length?this==or?Un.create(t,n):this.addInner(t,n,0):this}addInner(t,n,s){let r,a=0;t.forEach((l,u)=>{let d=u+s,f;if(f=UH(n,l,d)){for(r||(r=this.children.slice());a<r.length&&r[a]<u;)a+=3;r[a]==u?r[a+2]=r[a+2].addInner(l,f,d+1):r.splice(a,0,u,u+l.nodeSize,gy(f,l,d+1,vu)),a+=3}});let o=FH(a?HH(n):n,-s);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||o.splice(l--,1);return new Un(o.length?this.local.concat(o).sort(yu):this.local,r||this.children)}remove(t){return t.length==0||this==or?this:this.removeInner(t,0)}removeInner(t,n){let s=this.children,r=this.local;for(let a=0;a<s.length;a+=3){let o,l=s[a]+n,u=s[a+1]+n;for(let f=0,m;f<t.length;f++)(m=t[f])&&m.from>l&&m.to<u&&(t[f]=null,(o||(o=[])).push(m));if(!o)continue;s==this.children&&(s=this.children.slice());let d=s[a+2].removeInner(o,l+1);d!=or?s[a+2]=d:(s.splice(a,3),a-=3)}if(r.length){for(let a=0,o;a<t.length;a++)if(o=t[a])for(let l=0;l<r.length;l++)r[l].eq(o,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return s==this.children&&r==this.local?this:r.length||s.length?new Un(r,s):or}forChild(t,n){if(this==or)return this;if(n.isLeaf)return Un.empty;let s,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(s=this.children[l+2]);break}let a=t+1,o=a+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<o&&u.to>a&&u.type instanceof Xl){let d=Math.max(a,u.from)-a,f=Math.min(o,u.to)-a;d<f&&(r||(r=[])).push(u.copy(d,f))}}if(r){let l=new Un(r.sort(yu),Qd);return s?new Pl([l,s]):l}return s||or}eq(t){if(this==t)return!0;if(!(t instanceof Un)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return sT(this.localsInner(t))}localsInner(t){if(this==or)return Qd;if(t.inlineContent||!this.local.some(Xl.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Xl||n.push(this.local[s]);return n}forEachSet(t){t(this)}}Un.empty=new Un([],[]);Un.removeOverlap=sT;const or=Un.empty;class Pl{constructor(t){this.members=t}map(t,n){const s=this.members.map(r=>r.map(t,n,vu));return Pl.from(s)}forChild(t,n){if(n.isLeaf)return Un.empty;let s=[];for(let r=0;r<this.members.length;r++){let a=this.members[r].forChild(t,n);a!=or&&(a instanceof Pl?s=s.concat(a.members):s.push(a))}return Pl.from(s)}eq(t){if(!(t instanceof Pl)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,s=!0;for(let r=0;r<this.members.length;r++){let a=this.members[r].localsInner(t);if(a.length)if(!n)n=a;else{s&&(n=n.slice(),s=!1);for(let o=0;o<a.length;o++)n.push(a[o])}}return n?sT(s?n:n.sort(yu)):Qd}static from(t){switch(t.length){case 0:return or;case 1:return t[0];default:return new Pl(t.every(n=>n instanceof Un)?t:t.reduce((n,s)=>n.concat(s instanceof Un?s:s.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function g4e(e,t,n,s,r,a,o){let l=e.slice();for(let d=0,f=a;d<n.maps.length;d++){let m=0;n.maps[d].forEach((g,x,b,w)=>{let j=w-b-(x-g);for(let k=0;k<l.length;k+=3){let S=l[k+1];if(S<0||g>S+f-m)continue;let C=l[k]+f-m;x>=C?l[k+1]=g<=C?-2:-1:g>=f&&j&&(l[k]+=j,l[k+1]+=j)}m+=j}),f=n.maps[d].map(f,-1)}let u=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){u=!0,l[d+1]=-1;continue}let f=n.map(e[d]+a),m=f-r;if(m<0||m>=s.content.size){u=!0;continue}let g=n.map(e[d+1]+a,-1),x=g-r,{index:b,offset:w}=s.content.findIndex(m),j=s.maybeChild(b);if(j&&w==m&&w+j.nodeSize==x){let k=l[d+2].mapInner(n,j,f+1,e[d]+a+1,o);k!=or?(l[d]=m,l[d+1]=x,l[d+2]=k):(l[d+1]=-2,u=!0)}else u=!0}if(u){let d=x4e(l,e,t,n,r,a,o),f=gy(d,s,0,o);t=f.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,g=0;m<f.children.length;m+=3){let x=f.children[m];for(;g<l.length&&l[g]<x;)g+=3;l.splice(g,0,f.children[m],f.children[m+1],f.children[m+2])}}return new Un(t.sort(yu),l)}function FH(e,t){if(!t||!e.length)return e;let n=[];for(let s=0;s<e.length;s++){let r=e[s];n.push(new kr(r.from+t,r.to+t,r.type))}return n}function x4e(e,t,n,s,r,a,o){function l(u,d){for(let f=0;f<u.local.length;f++){let m=u.local[f].map(s,r,d);m?n.push(m):o.onRemove&&o.onRemove(u.local[f].spec)}for(let f=0;f<u.children.length;f+=3)l(u.children[f+2],u.children[f]+d+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&l(e[u+2],t[u]+a+1);return n}function UH(e,t,n){if(t.isLeaf)return null;let s=n+t.nodeSize,r=null;for(let a=0,o;a<e.length;a++)(o=e[a])&&o.from>n&&o.to<s&&((r||(r=[])).push(o),e[a]=null);return r}function HH(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function gy(e,t,n,s){let r=[],a=!1;t.forEach((l,u)=>{let d=UH(e,l,u+n);if(d){a=!0;let f=gy(d,l,n+u+1,s);f!=or&&r.push(u,u+l.nodeSize,f)}});let o=FH(a?HH(e):e,-n).sort(yu);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||(s.onRemove&&s.onRemove(o[l].spec),o.splice(l--,1));return o.length||r.length?new Un(o,r):or}function yu(e,t){return e.from-t.from||e.to-t.to}function sT(e){let t=e;for(let n=0;n<t.length-1;n++){let s=t[n];if(s.from!=s.to)for(let r=n+1;r<t.length;r++){let a=t[r];if(a.from==s.from){a.to!=s.to&&(t==e&&(t=e.slice()),t[r]=a.copy(a.from,s.to),eP(t,r+1,a.copy(s.to,a.to)));continue}else{a.from<s.to&&(t==e&&(t=e.slice()),t[n]=s.copy(s.from,a.from),eP(t,r,s.copy(a.from,s.to)));break}}}return t}function eP(e,t,n){for(;t<e.length&&yu(n,e[t])>0;)t++;e.splice(t,0,n)}function dN(e){let t=[];return e.someProp("decorations",n=>{let s=n(e.state);s&&s!=or&&t.push(s)}),e.cursorWrapper&&t.push(Un.create(e.state.doc,[e.cursorWrapper.deco])),Pl.from(t)}const v4e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},y4e=Fr&&Yl<=11;class b4e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class w4e{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new b4e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let r=0;r<s.length;r++)this.queue.push(s[r]);Fr&&Yl<=11&&s.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():mr&&t.composing&&s.some(r=>r.type=="childList"&&r.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),y4e&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,v4e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ZD(this.view)){if(this.suppressingSelectionUpdates)return Lo(this.view);if(Fr&&Yl<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Au(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,s;for(let a=t.focusNode;a;a=Ih(a))n.add(a);for(let a=t.anchorNode;a;a=Ih(a))if(n.has(a)){s=a;break}let r=s&&this.view.docView.nearestDesc(s);if(r&&r.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&ZD(t)&&!this.ignoreSelectionChange(s),a=-1,o=-1,l=!1,u=[];if(t.editable)for(let f=0;f<n.length;f++){let m=this.registerMutation(n[f],u);m&&(a=a<0?m.from:Math.min(m.from,a),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(u.some(f=>f.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let f of u)if(f.nodeName=="BR"&&f.parentNode){let m=f.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&f.parentNode.removeChild(f)}}else if(Pi&&u.length){let f=u.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,g]=f;m.parentNode&&m.parentNode.parentNode==g.parentNode?g.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let g of f){let x=g.parentNode;x&&x.nodeName=="LI"&&(!m||N4e(t,m)!=x)&&g.remove()}}}let d=null;a<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&u1(s)&&(d=YE(t))&&d.eq($t.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Lo(t),this.currentSelection.set(s),t.scrollToSelection()):(a>-1||r)&&(a>-1&&(t.docView.markDirty(a,o),j4e(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,S4e(t,u)),this.handleDOMChange(a,o,l,u),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(s)||Lo(t),this.currentSelection.set(s))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let s=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(s==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!s||s.ignoreMutation(t))return null;if(t.type=="childList"){for(let f=0;f<t.addedNodes.length;f++){let m=t.addedNodes[f];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(t.target))return{from:s.posBefore,to:s.posAfter};let r=t.previousSibling,a=t.nextSibling;if(Fr&&Yl<=11&&t.addedNodes.length)for(let f=0;f<t.addedNodes.length;f++){let{previousSibling:m,nextSibling:g}=t.addedNodes[f];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(r=m),(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(a=g)}let o=r&&r.parentNode==t.target?er(r)+1:0,l=s.localPosFromDOM(t.target,o,-1),u=a&&a.parentNode==t.target?er(a):t.target.childNodes.length,d=s.localPosFromDOM(t.target,u,1);return{from:l,to:d}}else return t.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=t.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let tP=new WeakMap,nP=!1;function j4e(e){if(!tP.has(e)&&(tP.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Pi,nP)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),nP=!0}}function sP(e,t){let n=t.startContainer,s=t.startOffset,r=t.endContainer,a=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return Au(o.node,o.offset,r,a)&&([n,s,r,a]=[r,a,n,s]),{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a}}function k4e(e,t){if(t.getComposedRanges){let r=t.getComposedRanges(e.root)[0];if(r)return sP(e,r)}let n;function s(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",s,!0),n?sP(e,n):null}function N4e(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let s=e.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function S4e(e,t){var n;let{focusNode:s,focusOffset:r}=e.domSelectionRange();for(let a of t)if(((n=a.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let o=a.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let l=o;for(;;){let u=l.firstChild;if(!u||u.nodeType!=1||u.contentEditable=="false"||/^(BR|IMG)$/.test(u.nodeName))break;l=u}l.insertBefore(a,l.firstChild),s==a&&e.domSelection().collapse(a,r)}else a.parentNode.removeChild(a)}}function _4e(e,t,n){let{node:s,fromOffset:r,toOffset:a,from:o,to:l}=e.docView.parseRange(t,n),u=e.domSelectionRange(),d,f=u.anchorNode;if(f&&e.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:u.anchorOffset}],u1(u)||d.push({node:u.focusNode,offset:u.focusOffset})),nr&&e.input.lastKeyCode===8)for(let j=a;j>r;j--){let k=s.childNodes[j-1],S=k.pmViewDesc;if(k.nodeName=="BR"&&!S){a=j;break}if(!S||S.size)break}let m=e.state.doc,g=e.someProp("domParser")||Gl.fromSchema(e.state.schema),x=m.resolve(o),b=null,w=g.parse(s,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:r,to:a,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:C4e,context:x});if(d&&d[0].pos!=null){let j=d[0].pos,k=d[1]&&d[1].pos;k==null&&(k=j),b={anchor:j+o,head:k+o}}return{doc:w,sel:b,from:o,to:l}}function C4e(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(mr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||mr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const E4e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function T4e(e,t,n,s,r){let a=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let z=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,A=YE(e,z);if(A&&!e.state.selection.eq(A)){if(nr&&Mo&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",B=>B(e,Qc(13,"Enter"))))return;let D=e.state.tr.setSelection(A);z=="pointer"?D.setMeta("pointer",!0):z=="key"&&D.scrollIntoView(),a&&D.setMeta("composition",a),e.dispatch(D)}return}let o=e.state.doc.resolve(t),l=o.sharedDepth(n);t=o.before(l+1),n=e.state.doc.resolve(n).after(l+1);let u=e.state.selection,d=_4e(e,t,n),f=e.state.doc,m=f.slice(d.from,d.to),g,x;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(g=e.state.selection.to,x="end"):(g=e.state.selection.from,x="start"),e.input.lastKeyCode=null;let b=A4e(m.content,d.doc.content,d.from,g,x);if(b&&e.input.domChangeCount++,(Lh&&e.input.lastIOSEnter>Date.now()-225||Mo)&&r.some(z=>z.nodeType==1&&!E4e.test(z.nodeName))&&(!b||b.endA>=b.endB)&&e.someProp("handleKeyDown",z=>z(e,Qc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!b)if(s&&u instanceof _t&&!u.empty&&u.$head.sameParent(u.$anchor)&&!e.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:u.from,endA:u.to,endB:u.to};else{if(d.sel){let z=rP(e,e.state.doc,d.sel);if(z&&!z.eq(e.state.selection)){let A=e.state.tr.setSelection(z);a&&A.setMeta("composition",a),e.dispatch(A)}}return}e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof _t&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),Fr&&Yl<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)==" "&&(b.start--,b.endA--,b.endB--);let w=d.doc.resolveNoCache(b.start-d.from),j=d.doc.resolveNoCache(b.endB-d.from),k=f.resolve(b.start),S=w.sameParent(j)&&w.parent.inlineContent&&k.end()>=b.endA;if((Lh&&e.input.lastIOSEnter>Date.now()-225&&(!S||r.some(z=>z.nodeName=="DIV"||z.nodeName=="P"))||!S&&w.pos<d.doc.content.size&&(!w.sameParent(j)||!w.parent.inlineContent)&&w.pos<j.pos&&!/\S/.test(d.doc.textBetween(w.pos,j.pos,"","")))&&e.someProp("handleKeyDown",z=>z(e,Qc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>b.start&&M4e(f,b.start,b.endA,w,j)&&e.someProp("handleKeyDown",z=>z(e,Qc(8,"Backspace")))){Mo&&nr&&e.domObserver.suppressSelectionUpdates();return}nr&&b.endB==b.start&&(e.input.lastChromeDelete=Date.now()),Mo&&!S&&w.start()!=j.start()&&j.parentOffset==0&&w.depth==j.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,j=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",function(z){return z(e,Qc(13,"Enter"))})},20));let C=b.start,E=b.endA,T=z=>{let A=z||e.state.tr.replace(C,E,d.doc.slice(b.start-d.from,b.endB-d.from));if(d.sel){let D=rP(e,A.doc,d.sel);D&&!(nr&&e.composing&&D.empty&&(b.start!=b.endB||e.input.lastChromeDelete<Date.now()-100)&&(D.head==C||D.head==A.mapping.map(E)-1)||Fr&&D.empty&&D.head==C)&&A.setSelection(D)}return a&&A.setMeta("composition",a),A.scrollIntoView()},M;if(S)if(w.pos==j.pos){Fr&&Yl<=11&&w.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Lo(e),20));let z=T(e.state.tr.delete(C,E)),A=f.resolve(b.start).marksAcross(f.resolve(b.endA));A&&z.ensureMarks(A),e.dispatch(z)}else if(b.endA==b.endB&&(M=z4e(w.parent.content.cut(w.parentOffset,j.parentOffset),k.parent.content.cut(k.parentOffset,b.endA-k.start())))){let z=T(e.state.tr);M.type=="add"?z.addMark(C,E,M.mark):z.removeMark(C,E,M.mark),e.dispatch(z)}else if(w.parent.child(w.index()).isText&&w.index()==j.index()-(j.textOffset?0:1)){let z=w.parent.textBetween(w.parentOffset,j.parentOffset),A=()=>T(e.state.tr.insertText(z,C,E));e.someProp("handleTextInput",D=>D(e,C,E,z,A))||e.dispatch(A())}else e.dispatch(T());else e.dispatch(T())}function rP(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:JE(e,t.resolve(n.anchor),t.resolve(n.head))}function z4e(e,t){let n=e.firstChild.marks,s=t.firstChild.marks,r=n,a=s,o,l,u;for(let f=0;f<s.length;f++)r=s[f].removeFromSet(r);for(let f=0;f<n.length;f++)a=n[f].removeFromSet(a);if(r.length==1&&a.length==0)l=r[0],o="add",u=f=>f.mark(l.addToSet(f.marks));else if(r.length==0&&a.length==1)l=a[0],o="remove",u=f=>f.mark(l.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<t.childCount;f++)d.push(u(t.child(f)));if(Pe.from(d).eq(e))return{mark:l,type:o}}function M4e(e,t,n,s,r){if(n-t<=r.pos-s.pos||hN(s,!0,!1)<r.pos)return!1;let a=e.resolve(t);if(!s.parent.isTextblock){let l=a.nodeAfter;return l!=null&&n==t+l.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=e.resolve(hN(a,!0,!0));return!o.parent.isTextblock||o.pos>n||hN(o,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(o.parent.content)}function hN(e,t,n){let s=e.depth,r=t?e.end():e.pos;for(;s>0&&(t||e.indexAfter(s)==e.node(s).childCount);)s--,r++,t=!1;if(n){let a=e.node(s).maybeChild(e.indexAfter(s));for(;a&&!a.isLeaf;)a=a.firstChild,r++}return r}function A4e(e,t,n,s,r){let a=e.findDiffStart(t,n);if(a==null)return null;let{a:o,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(r=="end"){let u=Math.max(0,a-Math.min(o,l));s-=o+u-a}if(o<a&&e.size<t.size){let u=s<=a&&s>=o?a-s:0;a-=u,a&&a<t.size&&iP(t.textBetween(a-1,a+1))&&(a+=u?1:-1),l=a+(l-o),o=a}else if(l<a){let u=s<=a&&s>=l?a-s:0;a-=u,a&&a<e.size&&iP(e.textBetween(a-1,a+1))&&(a+=u?1:-1),o=a+(o-l),l=a}return{start:a,endA:o,endB:l}}function iP(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class qH{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new K5e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(uP),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=lP(this),oP(this),this.nodeViews=cP(this),this.docView=VD(this.state.doc,aP(this),dN(this),this.dom,this),this.domObserver=new w4e(this,(s,r,a,o)=>T4e(this,s,r,a,o)),this.domObserver.start(),G5e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&_S(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(uP),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in t)n[s]=t[s];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var s;let r=this.state,a=!1,o=!1;t.storedMarks&&this.composing&&(LH(this),o=!0),this.state=t;let l=r.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=cP(this);O4e(x,this.nodeViews)&&(this.nodeViews=x,a=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&_S(this),this.editable=lP(this),oP(this);let u=dN(this),d=aP(this),f=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",m=a||!this.docView.matchesNode(t.doc,d,u);(m||!t.selection.eq(r.selection))&&(o=!0);let g=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&c5e(this);if(o){this.domObserver.stop();let x=m&&(Fr||nr)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&R4e(r.selection,t.selection);if(m){let b=nr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=c4e(this)),(a||!this.docView.update(t.doc,d,u,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=VD(t.doc,d,u,this.dom,this)),b&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&R5e(this))?Lo(this,x):(_H(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((s=this.dragging)===null||s===void 0)&&s.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&u5e(g)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&OD(this,n.getBoundingClientRect(),t)}else OD(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,t)}}updateDraggedNode(t,n){let s=t.node,r=-1;if(this.state.doc.nodeAt(s.from)==s.node)r=s.from;else{let a=s.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==s.node&&(r=a)}this.dragging=new VH(t.slice,t.move,r<0?void 0:pt.create(this.state.doc,r))}someProp(t,n){let s=this._props&&this._props[t],r;if(s!=null&&(r=n?n(s):s))return r;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[t];if(l!=null&&(r=n?n(l):l))return r}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let l=a[o].props[t];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(Fr){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&d5e(this.dom),Lo(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return g5e(this,t)}coordsAtPos(t,n=1){return vH(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,s=-1){let r=this.docView.posFromDOM(t,n,s);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,n){return w5e(this,n||this.state,t)}pasteHTML(t,n){return $p(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return $p(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return XE(this,t)}destroy(){this.docView&&(Y5e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],dN(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,QTe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return X5e(this,t)}domSelectionRange(){let t=this.domSelection();return t?mr&&this.root.nodeType===11&&r5e(this.dom.ownerDocument)==this.dom&&k4e(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}qH.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function aP(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let s in n)s=="class"?t.class+=" "+n[s]:s=="style"?t.style=(t.style?t.style+";":"")+n[s]:!t[s]&&s!="contenteditable"&&s!="nodeName"&&(t[s]=String(n[s]))}),t.translate||(t.translate="no"),[kr.node(0,e.state.doc.content.size,t)]}function oP(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:kr.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function lP(e){return!e.someProp("editable",t=>t(e.state)===!1)}function R4e(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function cP(e){let t=Object.create(null);function n(s){for(let r in s)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=s[r])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function O4e(e,t){let n=0,s=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let r in t)s++;return n!=s}function uP(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ic={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},xy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},D4e=typeof navigator<"u"&&/Mac/.test(navigator.platform),P4e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var tr=0;tr<10;tr++)ic[48+tr]=ic[96+tr]=String(tr);for(var tr=1;tr<=24;tr++)ic[tr+111]="F"+tr;for(var tr=65;tr<=90;tr++)ic[tr]=String.fromCharCode(tr+32),xy[tr]=String.fromCharCode(tr);for(var fN in ic)xy.hasOwnProperty(fN)||(xy[fN]=ic[fN]);function I4e(e){var t=D4e&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||P4e&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?xy:ic)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const L4e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),$4e=typeof navigator<"u"&&/Win/.test(navigator.platform);function V4e(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let s,r,a,o;for(let l=0;l<t.length-1;l++){let u=t[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))s=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))L4e?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+u)}return s&&(n="Alt-"+n),r&&(n="Ctrl-"+n),o&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function B4e(e){let t=Object.create(null);for(let n in e)t[V4e(n)]=e[n];return t}function mN(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function F4e(e){return new Wn({props:{handleKeyDown:ZH(e)}})}function ZH(e){let t=B4e(e);return function(n,s){let r=I4e(s),a,o=t[mN(r,s)];if(o&&o(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(s.shiftKey){let l=t[mN(r,s,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!($4e&&s.ctrlKey&&s.altKey)&&(a=ic[s.keyCode])&&a!=r){let l=t[mN(a,s)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var U4e=Object.defineProperty,rT=(e,t)=>{for(var n in t)U4e(e,n,{get:t[n],enumerable:!0})};function f1(e){const{state:t,transaction:n}=e;let{selection:s}=n,{doc:r}=n,{storedMarks:a}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return a},get selection(){return s},get doc(){return r},get tr(){return s=n.selection,r=n.doc,a=n.storedMarks,n}}}var m1=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:s}=t,{tr:r}=n,a=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...d)=>{const f=l(...d)(a);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(r),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:s,state:r}=this,{view:a}=s,o=[],l=!!e,u=e||r.tr,d=()=>(!l&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(u),o.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(n).map(([m,g])=>[m,(...b)=>{const w=this.buildProps(u,t),j=g(...b)(w);return o.push(j),f}])),run:d};return f}createCan(e){const{rawCommands:t,state:n}=this,s=!1,r=e||n.tr,a=this.buildProps(r,s);return{...Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...d)=>u(...d)({...a,dispatch:void 0})])),chain:()=>this.createChain(r,s)}}buildProps(e,t=!0){const{rawCommands:n,editor:s,state:r}=this,{view:a}=s,o={tr:e,editor:s,view:a,state:f1({state:r,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...d)=>u(...d)(o)]))}};return o}},WH={};rT(WH,{blur:()=>H4e,clearContent:()=>q4e,clearNodes:()=>Z4e,command:()=>W4e,createParagraphNear:()=>K4e,cut:()=>G4e,deleteCurrentNode:()=>Y4e,deleteNode:()=>J4e,deleteRange:()=>X4e,deleteSelection:()=>Q4e,enter:()=>eze,exitCode:()=>tze,extendMarkRange:()=>nze,first:()=>sze,focus:()=>ize,forEach:()=>aze,insertContent:()=>oze,insertContentAt:()=>uze,joinBackward:()=>fze,joinDown:()=>hze,joinForward:()=>mze,joinItemBackward:()=>pze,joinItemForward:()=>gze,joinTextblockBackward:()=>xze,joinTextblockForward:()=>vze,joinUp:()=>dze,keyboardShortcut:()=>bze,lift:()=>wze,liftEmptyBlock:()=>jze,liftListItem:()=>kze,newlineInCode:()=>Nze,resetAttributes:()=>Sze,scrollIntoView:()=>_ze,selectAll:()=>Cze,selectNodeBackward:()=>Eze,selectNodeForward:()=>Tze,selectParentNode:()=>zze,selectTextblockEnd:()=>Mze,selectTextblockStart:()=>Aze,setContent:()=>Rze,setMark:()=>Qze,setMeta:()=>eMe,setNode:()=>tMe,setNodeSelection:()=>nMe,setTextDirection:()=>sMe,setTextSelection:()=>rMe,sinkListItem:()=>iMe,splitBlock:()=>aMe,splitListItem:()=>oMe,toggleList:()=>lMe,toggleMark:()=>cMe,toggleNode:()=>uMe,toggleWrap:()=>dMe,undoInputRule:()=>hMe,unsetAllMarks:()=>fMe,unsetMark:()=>mMe,unsetTextDirection:()=>pMe,updateAttributes:()=>gMe,wrapIn:()=>xMe,wrapInList:()=>vMe});var H4e=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),q4e=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),Z4e=()=>({state:e,tr:t,dispatch:n})=>{const{selection:s}=t,{ranges:r}=s;return n&&r.forEach(({$from:a,$to:o})=>{e.doc.nodesBetween(a.pos,o.pos,(l,u)=>{if(l.type.isText)return;const{doc:d,mapping:f}=t,m=d.resolve(f.map(u)),g=d.resolve(f.map(u+l.nodeSize)),x=m.blockRange(g);if(!x)return;const b=cf(x);if(l.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(x.start,w)}(b||b===0)&&t.lift(x,b)})}),!0},W4e=e=>t=>e(t),K4e=()=>({state:e,dispatch:t})=>oH(e,t),G4e=(e,t)=>({editor:n,tr:s})=>{const{state:r}=n,a=r.doc.slice(e.from,e.to);s.deleteRange(e.from,e.to);const o=s.mapping.map(t);return s.insert(o,a.content),s.setSelection(new _t(s.doc.resolve(Math.max(o-1,0)))),!0},Y4e=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,s=n.$anchor.node();if(s.content.size>0)return!1;const r=e.selection.$anchor;for(let a=r.depth;a>0;a-=1)if(r.node(a).type===s.type){if(t){const l=r.before(a),u=r.after(a);e.delete(l,u).scrollIntoView()}return!0}return!1};function Ss(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var J4e=e=>({tr:t,state:n,dispatch:s})=>{const r=Ss(e,n.schema),a=t.selection.$anchor;for(let o=a.depth;o>0;o-=1)if(a.node(o).type===r){if(s){const u=a.before(o),d=a.after(o);t.delete(u,d).scrollIntoView()}return!0}return!1},X4e=e=>({tr:t,dispatch:n})=>{const{from:s,to:r}=e;return n&&t.delete(s,r),!0},Q4e=()=>({state:e,dispatch:t})=>HE(e,t),eze=()=>({commands:e})=>e.keyboardShortcut("Enter"),tze=()=>({state:e,dispatch:t})=>LTe(e,t);function iT(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function vy(e,t,n={strict:!0}){const s=Object.keys(t);return s.length?s.every(r=>n.strict?t[r]===e[r]:iT(t[r])?t[r].test(e[r]):t[r]===e[r]):!0}function KH(e,t,n={}){return e.find(s=>s.type===t&&vy(Object.fromEntries(Object.keys(n).map(r=>[r,s.attrs[r]])),n))}function dP(e,t,n={}){return!!KH(e,t,n)}function aT(e,t,n){var s;if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if((!r.node||!r.node.marks.some(f=>f.type===t))&&(r=e.parent.childBefore(e.parentOffset)),!r.node||!r.node.marks.some(f=>f.type===t)||(n=n||((s=r.node.marks[0])==null?void 0:s.attrs),!KH([...r.node.marks],t,n)))return;let o=r.index,l=e.start()+r.offset,u=o+1,d=l+r.node.nodeSize;for(;o>0&&dP([...e.parent.child(o-1).marks],t,n);)o-=1,l-=e.parent.child(o).nodeSize;for(;u<e.parent.childCount&&dP([...e.parent.child(u).marks],t,n);)d+=e.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function Ko(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var nze=(e,t={})=>({tr:n,state:s,dispatch:r})=>{const a=Ko(e,s.schema),{doc:o,selection:l}=n,{$from:u,from:d,to:f}=l;if(r){const m=aT(u,a,t);if(m&&m.from<=d&&m.to>=f){const g=_t.create(o,m.from,m.to);n.setSelection(g)}}return!0},sze=e=>t=>{const n=typeof e=="function"?e(t):e;for(let s=0;s<n.length;s+=1)if(n[s](t))return!0;return!1};function GH(e){return e instanceof _t}function lu(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function YH(e,t=null){if(!t)return null;const n=$t.atStart(e),s=$t.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return s;const r=n.from,a=s.to;return t==="all"?_t.create(e,lu(0,r,a),lu(e.content.size,r,a)):_t.create(e,lu(t,r,a),lu(t,r,a))}function hP(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function yy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function rze(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var ize=(e=null,t={})=>({editor:n,view:s,tr:r,dispatch:a})=>{t={scrollIntoView:!0,...t};const o=()=>{(yy()||hP())&&s.dom.focus(),rze()&&!yy()&&!hP()&&s.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};try{if(s.hasFocus()&&e===null||e===!1)return!0}catch{return!1}if(a&&e===null&&!GH(n.state.selection))return o(),!0;const l=YH(r.doc,e)||n.state.selection,u=n.state.selection.eq(l);return a&&(u||r.setSelection(l),u&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},aze=(e,t)=>n=>e.every((s,r)=>t(s,{...n,index:r})),oze=(e,t)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),JH=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const s=t[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?e.removeChild(s):s.nodeType===1&&JH(s)}return e};function A0(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return JH(n)}function Bp(e,t,n){if(e instanceof Kl||e instanceof Pe)return e;n={slice:!0,parseOptions:{},...n};const s=typeof e=="object"&&e!==null,r=typeof e=="string";if(s)try{if(Array.isArray(e)&&e.length>0)return Pe.fromArray(e.map(l=>t.nodeFromJSON(l)));const o=t.nodeFromJSON(e);return n.errorOnInvalidContent&&o.check(),o}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",a),Bp("",t,n)}if(r){if(n.errorOnInvalidContent){let o=!1,l="";const u=new OU({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?Gl.fromSchema(u).parseSlice(A0(e),n.parseOptions):Gl.fromSchema(u).parse(A0(e),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const a=Gl.fromSchema(t);return n.slice?a.parseSlice(A0(e),n.parseOptions).content:a.parse(A0(e),n.parseOptions)}return Bp("",t,n)}function lze(e,t,n){const s=e.steps.length-1;if(s<t)return;const r=e.steps[s];if(!(r instanceof Vs||r instanceof Us))return;const a=e.mapping.maps[s];let o=0;a.forEach((l,u,d,f)=>{o===0&&(o=f)}),e.setSelection($t.near(e.doc.resolve(o),n))}var cze=e=>!("type"in e),uze=(e,t,n)=>({tr:s,dispatch:r,editor:a})=>{var o;if(r){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const u=j=>{a.emit("contentError",{editor:a,error:j,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{Bp(t,a.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(j){u(j)}try{l=Bp(t,a.schema,{parseOptions:d,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:a.options.enableContentCheck})}catch(j){return u(j),!1}let{from:f,to:m}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},g=!0,x=!0;if((cze(l)?l:[l]).forEach(j=>{j.check(),g=g?j.isText&&j.marks.length===0:!1,x=x?j.isBlock:!1}),f===m&&x){const{parent:j}=s.doc.resolve(f);j.isTextblock&&!j.type.spec.code&&!j.childCount&&(f-=1,m+=1)}let w;if(g){if(Array.isArray(t))w=t.map(j=>j.text||"").join("");else if(t instanceof Pe){let j="";t.forEach(k=>{k.text&&(j+=k.text)}),w=j}else typeof t=="object"&&t&&t.text?w=t.text:w=t;s.insertText(w,f,m)}else{w=l;const j=s.doc.resolve(f),k=j.node(),S=j.parentOffset===0,C=k.isText||k.isTextblock,E=k.content.size>0;S&&C&&E&&(f=Math.max(0,f-1)),s.replaceWith(f,m,w)}n.updateSelection&&lze(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:f,text:w}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:f,text:w})}return!0},dze=()=>({state:e,dispatch:t})=>DTe(e,t),hze=()=>({state:e,dispatch:t})=>PTe(e,t),fze=()=>({state:e,dispatch:t})=>eH(e,t),mze=()=>({state:e,dispatch:t})=>rH(e,t),pze=()=>({state:e,dispatch:t,tr:n})=>{try{const s=o1(e.doc,e.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),t&&t(n),!0)}catch{return!1}},gze=()=>({state:e,dispatch:t,tr:n})=>{try{const s=o1(e.doc,e.selection.$from.pos,1);return s==null?!1:(n.join(s,2),t&&t(n),!0)}catch{return!1}},xze=()=>({state:e,dispatch:t})=>RTe(e,t),vze=()=>({state:e,dispatch:t})=>OTe(e,t);function XH(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function yze(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let s,r,a,o;for(let l=0;l<t.length-1;l+=1){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))s=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))yy()||XH()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return s&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var bze=e=>({editor:t,view:n,tr:s,dispatch:r})=>{const a=yze(e).split(/-(?!$)/),o=a.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return u==null||u.steps.forEach(d=>{const f=d.map(s.mapping);f&&r&&s.maybeStep(f)}),!0};function ac(e,t,n={}){const{from:s,to:r,empty:a}=e.selection,o=t?Ss(t,e.schema):null,l=[];e.doc.nodesBetween(s,r,(m,g)=>{if(m.isText)return;const x=Math.max(s,g),b=Math.min(r,g+m.nodeSize);l.push({node:m,from:x,to:b})});const u=r-s,d=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>vy(m.node.attrs,n,{strict:!1}));return a?!!d.length:d.reduce((m,g)=>m+g.to-g.from,0)>=u}var wze=(e,t={})=>({state:n,dispatch:s})=>{const r=Ss(e,n.schema);return ac(n,r,t)?ITe(n,s):!1},jze=()=>({state:e,dispatch:t})=>lH(e,t),kze=e=>({state:t,dispatch:n})=>{const s=Ss(e,t.schema);return GTe(s)(t,n)},Nze=()=>({state:e,dispatch:t})=>aH(e,t);function p1(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function fP(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((s,r)=>(n.includes(r)||(s[r]=e[r]),s),{})}var Sze=(e,t)=>({tr:n,state:s,dispatch:r})=>{let a=null,o=null;const l=p1(typeof e=="string"?e:e.name,s.schema);if(!l)return!1;l==="node"&&(a=Ss(e,s.schema)),l==="mark"&&(o=Ko(e,s.schema));let u=!1;return n.selection.ranges.forEach(d=>{s.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,m)=>{a&&a===f.type&&(u=!0,r&&n.setNodeMarkup(m,void 0,fP(f.attrs,t))),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&(u=!0,r&&n.addMark(m,m+f.nodeSize,o.create(fP(g.attrs,t))))})})}),u},_ze=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),Cze=()=>({tr:e,dispatch:t})=>{if(t){const n=new ci(e.doc);e.setSelection(n)}return!0},Eze=()=>({state:e,dispatch:t})=>nH(e,t),Tze=()=>({state:e,dispatch:t})=>iH(e,t),zze=()=>({state:e,dispatch:t})=>BTe(e,t),Mze=()=>({state:e,dispatch:t})=>HTe(e,t),Aze=()=>({state:e,dispatch:t})=>UTe(e,t);function CS(e,t,n={},s={}){return Bp(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}var Rze=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:s={}}={})=>({editor:r,tr:a,dispatch:o,commands:l})=>{const{doc:u}=a;if(s.preserveWhitespace!=="full"){const d=CS(e,r.schema,s,{errorOnInvalidContent:t??r.options.enableContentCheck});return o&&a.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!n),!0}return o&&a.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:u.content.size},e,{parseOptions:s,errorOnInvalidContent:t??r.options.enableContentCheck})};function QH(e,t){const n=Ko(t,e.schema),{from:s,to:r,empty:a}=e.selection,o=[];a?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(s,r,u=>{o.push(...u.marks)});const l=o.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function eq(e,t){const n=new YU(e);return t.forEach(s=>{s.steps.forEach(r=>{n.step(r)})}),n}function Oze(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Dze(e,t,n){const s=[];return e.nodesBetween(t.from,t.to,(r,a)=>{n(r)&&s.push({node:r,pos:a})}),s}function Pze(e,t){for(let n=e.depth;n>0;n-=1){const s=e.node(n);if(t(s))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:s}}}function g1(e){return t=>Pze(t.$from,e)}function dt(e,t,n){return e.config[t]===void 0&&e.parent?dt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?dt(e.parent,t,n):null}):e.config[t]}function oT(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},s=dt(t,"addExtensions",n);return s?[t,...oT(s())]:t}).flat(10)}function lT(e,t){const n=Fu.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function tq(e){return typeof e=="function"}function hn(e,t=void 0,...n){return tq(e)?t?e.bind(t)(...n):e(...n):e}function Ize(e={}){return Object.keys(e).length===0&&e.constructor===Object}function $h(e){const t=e.filter(r=>r.type==="extension"),n=e.filter(r=>r.type==="node"),s=e.filter(r=>r.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:s}}function nq(e){const t=[],{nodeExtensions:n,markExtensions:s}=$h(e),r=[...n,...s],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:r},u=dt(o,"addGlobalAttributes",l);if(!u)return;u().forEach(f=>{f.types.forEach(m=>{Object.entries(f.attributes).forEach(([g,x])=>{t.push({type:m,name:g,attribute:{...a,...x}})})})})}),r.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},u=dt(o,"addAttributes",l);if(!u)return;const d=u();Object.entries(d).forEach(([f,m])=>{const g={...a,...m};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,t.push({type:o.name,name:f,attribute:g})})}),t}function ns(...e){return e.filter(t=>!!t).reduce((t,n)=>{const s={...t};return Object.entries(n).forEach(([r,a])=>{if(!s[r]){s[r]=a;return}if(r==="class"){const l=a?String(a).split(" "):[],u=s[r]?s[r].split(" "):[],d=l.filter(f=>!u.includes(f));s[r]=[...u,...d].join(" ")}else if(r==="style"){const l=a?a.split(";").map(f=>f.trim()).filter(Boolean):[],u=s[r]?s[r].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;u.forEach(f=>{const[m,g]=f.split(":").map(x=>x.trim());d.set(m,g)}),l.forEach(f=>{const[m,g]=f.split(":").map(x=>x.trim());d.set(m,g)}),s[r]=Array.from(d.entries()).map(([f,m])=>`${f}: ${m}`).join("; ")}else s[r]=a}),s},{})}function Fp(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,s)=>ns(n,s),{})}function Lze(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function mP(e,t){return"style"in e?e:{...e,getAttrs:n=>{const s=e.getAttrs?e.getAttrs(n):e.attrs;if(s===!1)return!1;const r=t.reduce((a,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):Lze(n.getAttribute(o.name));return l==null?a:{...a,[o.name]:l}},{});return{...s,...r}}}}function pP(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&Ize(n)?!1:n!=null))}function gP(e){var t,n;const s={};return!((t=e==null?void 0:e.attribute)!=null&&t.isRequired)&&"default"in((e==null?void 0:e.attribute)||{})&&(s.default=e.attribute.default),((n=e==null?void 0:e.attribute)==null?void 0:n.validate)!==void 0&&(s.validate=e.attribute.validate),[e.name,s]}function $ze(e,t){var n;const s=nq(e),{nodeExtensions:r,markExtensions:a}=$h(e),o=(n=r.find(d=>dt(d,"topNode")))==null?void 0:n.name,l=Object.fromEntries(r.map(d=>{const f=s.filter(k=>k.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:t},g=e.reduce((k,S)=>{const C=dt(S,"extendNodeSchema",m);return{...k,...C?C(d):{}}},{}),x=pP({...g,content:hn(dt(d,"content",m)),marks:hn(dt(d,"marks",m)),group:hn(dt(d,"group",m)),inline:hn(dt(d,"inline",m)),atom:hn(dt(d,"atom",m)),selectable:hn(dt(d,"selectable",m)),draggable:hn(dt(d,"draggable",m)),code:hn(dt(d,"code",m)),whitespace:hn(dt(d,"whitespace",m)),linebreakReplacement:hn(dt(d,"linebreakReplacement",m)),defining:hn(dt(d,"defining",m)),isolating:hn(dt(d,"isolating",m)),attrs:Object.fromEntries(f.map(gP))}),b=hn(dt(d,"parseHTML",m));b&&(x.parseDOM=b.map(k=>mP(k,f)));const w=dt(d,"renderHTML",m);w&&(x.toDOM=k=>w({node:k,HTMLAttributes:Fp(k,f)}));const j=dt(d,"renderText",m);return j&&(x.toText=j),[d.name,x]})),u=Object.fromEntries(a.map(d=>{const f=s.filter(j=>j.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:t},g=e.reduce((j,k)=>{const S=dt(k,"extendMarkSchema",m);return{...j,...S?S(d):{}}},{}),x=pP({...g,inclusive:hn(dt(d,"inclusive",m)),excludes:hn(dt(d,"excludes",m)),group:hn(dt(d,"group",m)),spanning:hn(dt(d,"spanning",m)),code:hn(dt(d,"code",m)),attrs:Object.fromEntries(f.map(gP))}),b=hn(dt(d,"parseHTML",m));b&&(x.parseDOM=b.map(j=>mP(j,f)));const w=dt(d,"renderHTML",m);return w&&(x.toDOM=j=>w({mark:j,HTMLAttributes:Fp(j,f)})),[d.name,x]}));return new OU({topNode:o,nodes:l,marks:u})}function Vze(e){const t=e.filter((n,s)=>e.indexOf(n)!==s);return Array.from(new Set(t))}function by(e){return e.sort((n,s)=>{const r=dt(n,"priority")||100,a=dt(s,"priority")||100;return r>a?-1:r<a?1:0})}function sq(e){const t=by(oT(e)),n=Vze(t.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}function rq(e,t,n){const{from:s,to:r}=t,{blockSeparator:a=`

`,textSerializers:o={}}=n||{};let l="";return e.nodesBetween(s,r,(u,d,f,m)=>{var g;u.isBlock&&d>s&&(l+=a);const x=o==null?void 0:o[u.type.name];if(x)return f&&(l+=x({node:u,pos:d,parent:f,index:m,range:t})),!1;u.isText&&(l+=(g=u==null?void 0:u.text)==null?void 0:g.slice(Math.max(s,d)-d,r-d))}),l}function Bze(e,t){const n={from:0,to:e.content.size};return rq(e,n,t)}function iq(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function Fze(e,t){const n=Ss(t,e.schema),{from:s,to:r}=e.selection,a=[];e.doc.nodesBetween(s,r,l=>{a.push(l)});const o=a.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function aq(e,t){const n=p1(typeof t=="string"?t:t.name,e.schema);return n==="node"?Fze(e,t):n==="mark"?QH(e,t):{}}function Uze(e,t=JSON.stringify){const n={};return e.filter(s=>{const r=t(s);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function Hze(e){const t=Uze(e);return t.length===1?t:t.filter((n,s)=>!t.filter((a,o)=>o!==s).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function oq(e){const{mapping:t,steps:n}=e,s=[];return t.maps.forEach((r,a)=>{const o=[];if(r.ranges.length)r.forEach((l,u)=>{o.push({from:l,to:u})});else{const{from:l,to:u}=n[a];if(l===void 0||u===void 0)return;o.push({from:l,to:u})}o.forEach(({from:l,to:u})=>{const d=t.slice(a).map(l,-1),f=t.slice(a).map(u),m=t.invert().map(d,-1),g=t.invert().map(f);s.push({oldRange:{from:m,to:g},newRange:{from:d,to:f}})})}),Hze(s)}function cT(e,t,n){const s=[];return e===t?n.resolve(e).marks().forEach(r=>{const a=n.resolve(e),o=aT(a,r.type);o&&s.push({mark:r,...o})}):n.nodesBetween(e,t,(r,a)=>{!r||(r==null?void 0:r.nodeSize)===void 0||s.push(...r.marks.map(o=>({from:a,to:a+r.nodeSize,mark:o})))}),s}var qze=(e,t,n,s=20)=>{const r=e.doc.resolve(n);let a=s,o=null;for(;a>0&&o===null;){const l=r.node(a);(l==null?void 0:l.type.name)===t?o=l:a-=1}return[o,a]};function R0(e,t){return t.nodes[e]||t.marks[e]||null}function cv(e,t,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const r=e.find(a=>a.type===t&&a.name===s);return r?r.attribute.keepOnSplit:!1}))}var Zze=(e,t=500)=>{let n="";const s=e.parentOffset;return e.parent.nodesBetween(Math.max(0,s-t),s,(r,a,o,l)=>{var u,d;const f=((d=(u=r.type.spec).toText)==null?void 0:d.call(u,{node:r,pos:a,parent:o,index:l}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?f:f.slice(0,Math.max(0,s-a))}),n};function ES(e,t,n={}){const{empty:s,ranges:r}=e.selection,a=t?Ko(t,e.schema):null;if(s)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>a?a.name===m.type.name:!0).find(m=>vy(m.attrs,n,{strict:!1}));let o=0;const l=[];if(r.forEach(({$from:m,$to:g})=>{const x=m.pos,b=g.pos;e.doc.nodesBetween(x,b,(w,j)=>{if(!w.isText&&!w.marks.length)return;const k=Math.max(x,j),S=Math.min(b,j+w.nodeSize),C=S-k;o+=C,l.push(...w.marks.map(E=>({mark:E,from:k,to:S})))})}),o===0)return!1;const u=l.filter(m=>a?a.name===m.mark.type.name:!0).filter(m=>vy(m.mark.attrs,n,{strict:!1})).reduce((m,g)=>m+g.to-g.from,0),d=l.filter(m=>a?m.mark.type!==a&&m.mark.type.excludes(a):!0).reduce((m,g)=>m+g.to-g.from,0);return(u>0?u+d:u)>=o}function Wze(e,t,n={}){if(!t)return ac(e,null,n)||ES(e,null,n);const s=p1(t,e.schema);return s==="node"?ac(e,t,n):s==="mark"?ES(e,t,n):!1}var Kze=(e,t)=>{const{$from:n,$to:s,$anchor:r}=e.selection;if(t){const a=g1(l=>l.type.name===t)(e.selection);if(!a)return!1;const o=e.doc.resolve(a.pos+1);return r.pos+1===o.end()}return!(s.parentOffset<s.parent.nodeSize-2||n.pos!==s.pos)},Gze=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function xP(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function vP(e,t){const{nodeExtensions:n}=$h(t),s=n.find(o=>o.name===e);if(!s)return!1;const r={name:s.name,options:s.options,storage:s.storage},a=hn(dt(s,"group",r));return typeof a!="string"?!1:a.split(" ").includes("list")}function x1(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((s=e.text)!=null?s:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let r=!0;return e.content.forEach(a=>{r!==!1&&(x1(a,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function lq(e){return e instanceof pt}var cq=class uq{constructor(t){this.position=t}static fromJSON(t){return new uq(t.position)}toJSON(){return{position:this.position}}};function Yze(e,t){const n=t.mapping.mapResult(e.position);return{position:new cq(n.pos),mapResult:n}}function Jze(e){return new cq(e)}function Xze(e,t,n){var s;const{selection:r}=t;let a=null;if(GH(r)&&(a=r.$cursor),a){const l=(s=e.storedMarks)!=null?s:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(d=>d.type.excludes(n)))}const{ranges:o}=r;return o.some(({$from:l,$to:u})=>{let d=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,u.pos,(f,m,g)=>{if(d)return!1;if(f.isInline){const x=!g||g.type.allowsMarkType(n),b=!!n.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(n));d=x&&b}return!d}),d})}var Qze=(e,t={})=>({tr:n,state:s,dispatch:r})=>{const{selection:a}=n,{empty:o,ranges:l}=a,u=Ko(e,s.schema);if(r)if(o){const d=QH(s,u);n.addStoredMark(u.create({...d,...t}))}else l.forEach(d=>{const f=d.$from.pos,m=d.$to.pos;s.doc.nodesBetween(f,m,(g,x)=>{const b=Math.max(x,f),w=Math.min(x+g.nodeSize,m);g.marks.find(k=>k.type===u)?g.marks.forEach(k=>{u===k.type&&n.addMark(b,w,u.create({...k.attrs,...t}))}):n.addMark(b,w,u.create(t))})});return Xze(s,n,u)},eMe=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),tMe=(e,t={})=>({state:n,dispatch:s,chain:r})=>{const a=Ss(e,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),a.isTextblock?r().command(({commands:l})=>MD(a,{...o,...t})(n)?!0:l.clearNodes()).command(({state:l})=>MD(a,{...o,...t})(l,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},nMe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:s}=t,r=lu(e,0,s.content.size),a=pt.create(s,r);t.setSelection(a)}return!0},sMe=(e,t)=>({tr:n,state:s,dispatch:r})=>{const{selection:a}=s;let o,l;return typeof t=="number"?(o=t,l=t):t&&"from"in t&&"to"in t?(o=t.from,l=t.to):(o=a.from,l=a.to),r&&n.doc.nodesBetween(o,l,(u,d)=>{u.isText||n.setNodeMarkup(d,void 0,{...u.attrs,dir:e})}),!0},rMe=e=>({tr:t,dispatch:n})=>{if(n){const{doc:s}=t,{from:r,to:a}=typeof e=="number"?{from:e,to:e}:e,o=_t.atStart(s).from,l=_t.atEnd(s).to,u=lu(r,o,l),d=lu(a,o,l),f=_t.create(s,u,d);t.setSelection(f)}return!0},iMe=e=>({state:t,dispatch:n})=>{const s=Ss(e,t.schema);return XTe(s)(t,n)};function yP(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const s=n.filter(r=>t==null?void 0:t.includes(r.type.name));e.tr.ensureMarks(s)}}var aMe=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:s,editor:r})=>{const{selection:a,doc:o}=t,{$from:l,$to:u}=a,d=r.extensionManager.attributes,f=cv(d,l.node().type.name,l.node().attrs);if(a instanceof pt&&a.node.isBlock)return!l.parentOffset||!Io(o,l.pos)?!1:(s&&(e&&yP(n,r.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=u.parentOffset===u.parent.content.size,g=l.depth===0?void 0:Oze(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=m&&g?[{type:g,attrs:f}]:void 0,b=Io(t.doc,t.mapping.map(l.pos),1,x);if(!x&&!b&&Io(t.doc,t.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(b=!0,x=g?[{type:g,attrs:f}]:void 0),s){if(b&&(a instanceof _t&&t.deleteSelection(),t.split(t.mapping.map(l.pos),1,x),g&&!m&&!l.parentOffset&&l.parent.type!==g)){const w=t.mapping.map(l.before()),j=t.doc.resolve(w);l.node(-1).canReplaceWith(j.index(),j.index()+1,g)&&t.setNodeMarkup(t.mapping.map(l.before()),g)}e&&yP(n,r.extensionManager.splittableMarks),t.scrollIntoView()}return b},oMe=(e,t={})=>({tr:n,state:s,dispatch:r,editor:a})=>{var o;const l=Ss(e,s.schema),{$from:u,$to:d}=s.selection,f=s.selection.node;if(f&&f.isBlock||u.depth<2||!u.sameParent(d))return!1;const m=u.node(-1);if(m.type!==l)return!1;const g=a.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(r){let k=Pe.empty;const S=u.index(-1)?1:u.index(-2)?2:3;for(let A=u.depth-S;A>=u.depth-3;A-=1)k=Pe.from(u.node(A).copy(k));const C=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,E={...cv(g,u.node().type.name,u.node().attrs),...t},T=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(E))||void 0;k=k.append(Pe.from(l.createAndFill(null,T)||void 0));const M=u.before(u.depth-(S-1));n.replace(M,u.after(-C),new Ke(k,4-S,0));let z=-1;n.doc.nodesBetween(M,n.doc.content.size,(A,D)=>{if(z>-1)return!1;A.isTextblock&&A.content.size===0&&(z=D+1)}),z>-1&&n.setSelection(_t.near(n.doc.resolve(z))),n.scrollIntoView()}return!0}const x=d.pos===u.end()?m.contentMatchAt(0).defaultType:null,b={...cv(g,m.type.name,m.attrs),...t},w={...cv(g,u.node().type.name,u.node().attrs),...t};n.delete(u.pos,d.pos);const j=x?[{type:l,attrs:b},{type:x,attrs:w}]:[{type:l,attrs:b}];if(!Io(n.doc,u.pos,2))return!1;if(r){const{selection:k,storedMarks:S}=s,{splittableMarks:C}=a.extensionManager,E=S||k.$to.parentOffset&&k.$from.marks();if(n.split(u.pos,2,j).scrollIntoView(),!E||!r)return!0;const T=E.filter(M=>C.includes(M.type.name));n.ensureMarks(T)}return!0},pN=(e,t)=>{const n=g1(o=>o.type===t)(e.selection);if(!n)return!0;const s=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const r=e.doc.nodeAt(s);return n.node.type===(r==null?void 0:r.type)&&pc(e.doc,n.pos)&&e.join(n.pos),!0},gN=(e,t)=>{const n=g1(o=>o.type===t)(e.selection);if(!n)return!0;const s=e.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const r=e.doc.nodeAt(s);return n.node.type===(r==null?void 0:r.type)&&pc(e.doc,s)&&e.join(s),!0},lMe=(e,t,n,s={})=>({editor:r,tr:a,state:o,dispatch:l,chain:u,commands:d,can:f})=>{const{extensions:m,splittableMarks:g}=r.extensionManager,x=Ss(e,o.schema),b=Ss(t,o.schema),{selection:w,storedMarks:j}=o,{$from:k,$to:S}=w,C=k.blockRange(S),E=j||w.$to.parentOffset&&w.$from.marks();if(!C)return!1;const T=g1(M=>vP(M.type.name,m))(w);if(C.depth>=1&&T&&C.depth-T.depth<=1){if(T.node.type===x)return d.liftListItem(b);if(vP(T.node.type.name,m)&&x.validContent(T.node.content)&&l)return u().command(()=>(a.setNodeMarkup(T.pos,x),!0)).command(()=>pN(a,x)).command(()=>gN(a,x)).run()}return!n||!E||!l?u().command(()=>f().wrapInList(x,s)?!0:d.clearNodes()).wrapInList(x,s).command(()=>pN(a,x)).command(()=>gN(a,x)).run():u().command(()=>{const M=f().wrapInList(x,s),z=E.filter(A=>g.includes(A.type.name));return a.ensureMarks(z),M?!0:d.clearNodes()}).wrapInList(x,s).command(()=>pN(a,x)).command(()=>gN(a,x)).run()},cMe=(e,t={},n={})=>({state:s,commands:r})=>{const{extendEmptyMarkRange:a=!1}=n,o=Ko(e,s.schema);return ES(s,o,t)?r.unsetMark(o,{extendEmptyMarkRange:a}):r.setMark(o,t)},uMe=(e,t,n={})=>({state:s,commands:r})=>{const a=Ss(e,s.schema),o=Ss(t,s.schema),l=ac(s,a,n);let u;return s.selection.$anchor.sameParent(s.selection.$head)&&(u=s.selection.$anchor.parent.attrs),l?r.setNode(o,u):r.setNode(a,{...u,...n})},dMe=(e,t={})=>({state:n,commands:s})=>{const r=Ss(e,n.schema);return ac(n,r,t)?s.lift(r):s.wrapIn(r,t)},hMe=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let s=0;s<n.length;s+=1){const r=n[s];let a;if(r.spec.isInputRules&&(a=r.getState(e))){if(t){const o=e.tr,l=a.transform;for(let u=l.steps.length-1;u>=0;u-=1)o.step(l.steps[u].invert(l.docs[u]));if(a.text){const u=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,e.schema.text(a.text,u))}else o.delete(a.from,a.to)}return!0}}return!1},fMe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:s,ranges:r}=n;return s||t&&r.forEach(a=>{e.removeMark(a.$from.pos,a.$to.pos)}),!0},mMe=(e,t={})=>({tr:n,state:s,dispatch:r})=>{var a;const{extendEmptyMarkRange:o=!1}=t,{selection:l}=n,u=Ko(e,s.schema),{$from:d,empty:f,ranges:m}=l;if(!r)return!0;if(f&&o){let{from:g,to:x}=l;const b=(a=d.marks().find(j=>j.type===u))==null?void 0:a.attrs,w=aT(d,u,b);w&&(g=w.from,x=w.to),n.removeMark(g,x,u)}else m.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,u)});return n.removeStoredMark(u),!0},pMe=e=>({tr:t,state:n,dispatch:s})=>{const{selection:r}=n;let a,o;return typeof e=="number"?(a=e,o=e):e&&"from"in e&&"to"in e?(a=e.from,o=e.to):(a=r.from,o=r.to),s&&t.doc.nodesBetween(a,o,(l,u)=>{if(l.isText)return;const d={...l.attrs};delete d.dir,t.setNodeMarkup(u,void 0,d)}),!0},gMe=(e,t={})=>({tr:n,state:s,dispatch:r})=>{let a=null,o=null;const l=p1(typeof e=="string"?e:e.name,s.schema);if(!l)return!1;l==="node"&&(a=Ss(e,s.schema)),l==="mark"&&(o=Ko(e,s.schema));let u=!1;return n.selection.ranges.forEach(d=>{const f=d.$from.pos,m=d.$to.pos;let g,x,b,w;n.selection.empty?s.doc.nodesBetween(f,m,(j,k)=>{a&&a===j.type&&(u=!0,b=Math.max(k,f),w=Math.min(k+j.nodeSize,m),g=k,x=j)}):s.doc.nodesBetween(f,m,(j,k)=>{k<f&&a&&a===j.type&&(u=!0,b=Math.max(k,f),w=Math.min(k+j.nodeSize,m),g=k,x=j),k>=f&&k<=m&&(a&&a===j.type&&(u=!0,r&&n.setNodeMarkup(k,void 0,{...j.attrs,...t})),o&&j.marks.length&&j.marks.forEach(S=>{if(o===S.type&&(u=!0,r)){const C=Math.max(k,f),E=Math.min(k+j.nodeSize,m);n.addMark(C,E,o.create({...S.attrs,...t}))}}))}),x&&(g!==void 0&&r&&n.setNodeMarkup(g,void 0,{...x.attrs,...t}),o&&x.marks.length&&x.marks.forEach(j=>{o===j.type&&r&&n.addMark(b,w,o.create({...j.attrs,...t}))}))}),u},xMe=(e,t={})=>({state:n,dispatch:s})=>{const r=Ss(e,n.schema);return qTe(r,t)(n,s)},vMe=(e,t={})=>({state:n,dispatch:s})=>{const r=Ss(e,n.schema);return ZTe(r,t)(n,s)},yMe=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const n=(...s)=>{this.off(e,n),t.apply(this,s)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},v1=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},bMe=(e,t)=>{if(iT(t))return t.exec(e);const n=t(e);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=e,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function O0(e){var t;const{editor:n,from:s,to:r,text:a,rules:o,plugin:l}=e,{view:u}=n;if(u.composing)return!1;const d=u.state.doc.resolve(s);if(d.parent.type.spec.code||(t=d.nodeBefore||d.nodeAfter)!=null&&t.marks.find(g=>g.type.spec.code))return!1;let f=!1;const m=Zze(d)+a;return o.forEach(g=>{if(f)return;const x=bMe(m,g.find);if(!x)return;const b=u.state.tr,w=f1({state:u.state,transaction:b}),j={from:s-(x[0].length-a.length),to:r},{commands:k,chain:S,can:C}=new m1({editor:n,state:w});g.handler({state:w,range:j,match:x,commands:k,chain:S,can:C})===null||!b.steps.length||(g.undoable&&b.setMeta(l,{transform:b,from:s,to:r,text:a}),u.dispatch(b),f=!0)}),f}function wMe(e){const{editor:t,rules:n}=e,s=new Wn({state:{init(){return null},apply(r,a,o){const l=r.getMeta(s);if(l)return l;const u=r.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:f}=u;typeof f=="string"?f=f:f=lT(Pe.from(f),o.schema);const{from:m}=u,g=m+f.length;O0({editor:t,from:m,to:g,text:f,rules:n,plugin:s})}),r.selectionSet||r.docChanged?null:a}},props:{handleTextInput(r,a,o,l){return O0({editor:t,from:a,to:o,text:l,rules:n,plugin:s})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:a}=r.state.selection;a&&O0({editor:t,from:a.pos,to:a.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(r,a){if(a.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?O0({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function jMe(e){return Object.prototype.toString.call(e).slice(8,-1)}function D0(e){return jMe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function dq(e,t){const n={...e};return D0(e)&&D0(t)&&Object.keys(t).forEach(s=>{D0(t[s])&&D0(e[s])?n[s]=dq(e[s],t[s]):n[s]=t[s]}),n}var uT=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...hn(dt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...hn(dt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>dq(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},xc=class hq extends uT{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new hq(n)}static handleExit({editor:t,mark:n}){const{tr:s}=t.state,r=t.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const u=o.find(d=>(d==null?void 0:d.type.name)===n.name);return u&&s.removeStoredMark(u),s.insertText(" ",r.pos),t.view.dispatch(s),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function kMe(e){return typeof e=="number"}var NMe=class{constructor(e){this.find=e.find,this.handler=e.handler}},SMe=(e,t,n)=>{if(iT(t))return[...e.matchAll(t)];const s=t(e,n);return s?s.map(r=>{const a=[r.text];return a.index=r.index,a.input=e,a.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(r.replaceWith)),a}):[]};function _Me(e){const{editor:t,state:n,from:s,to:r,rule:a,pasteEvent:o,dropEvent:l}=e,{commands:u,chain:d,can:f}=new m1({editor:t,state:n}),m=[];return n.doc.nodesBetween(s,r,(x,b)=>{var w,j,k,S,C;if((j=(w=x.type)==null?void 0:w.spec)!=null&&j.code||!(x.isText||x.isTextblock||x.isInline))return;const E=(C=(S=(k=x.content)==null?void 0:k.size)!=null?S:x.nodeSize)!=null?C:0,T=Math.max(s,b),M=Math.min(r,b+E);if(T>=M)return;const z=x.isText?x.text||"":x.textBetween(T-b,M-b,void 0,"");SMe(z,a.find,o).forEach(D=>{if(D.index===void 0)return;const B=T+D.index+1,$=B+D[0].length,q={from:n.tr.mapping.map(B),to:n.tr.mapping.map($)},Z=a.handler({state:n,range:q,match:D,commands:u,chain:d,can:f,pasteEvent:o,dropEvent:l});m.push(Z)})}),m.every(x=>x!==null)}var P0=null,CMe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function EMe(e){const{editor:t,rules:n}=e;let s=null,r=!1,a=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:f,from:m,to:g,rule:x,pasteEvt:b})=>{const w=f.tr,j=f1({state:f,transaction:w});if(!(!_Me({editor:t,state:j,from:Math.max(m-1,0),to:g.b-1,rule:x,pasteEvent:b,dropEvent:l})||!w.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(f=>new Wn({view(m){const g=b=>{var w;s=(w=m.dom.parentElement)!=null&&w.contains(b.target)?m.dom.parentElement:null,s&&(P0=t)},x=()=>{P0&&(P0=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(m,g)=>{if(a=s===m.dom.parentElement,l=g,!a){const x=P0;x!=null&&x.isEditable&&setTimeout(()=>{const b=x.state.selection;b&&x.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,g)=>{var x;const b=(x=g.clipboardData)==null?void 0:x.getData("text/html");return o=g,r=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(m,g,x)=>{const b=m[0],w=b.getMeta("uiEvent")==="paste"&&!r,j=b.getMeta("uiEvent")==="drop"&&!a,k=b.getMeta("applyPasteRules"),S=!!k;if(!w&&!j&&!S)return;if(S){let{text:T}=k;typeof T=="string"?T=T:T=lT(Pe.from(T),x.schema);const{from:M}=k,z=M+T.length,A=CMe(T);return u({rule:f,state:x,from:M,to:{b:z},pasteEvt:A})}const C=g.doc.content.findDiffStart(x.doc.content),E=g.doc.content.findDiffEnd(x.doc.content);if(!(!kMe(C)||!E||C===E.b))return u({rule:f,state:x,from:C,to:E,pasteEvt:o})}}))}var y1=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=sq(e),this.schema=$ze(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:R0(t.name,this.schema)},s=dt(t,"addCommands",n);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this;return by([...this.extensions].reverse()).flatMap(s=>{const r={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:R0(s.name,this.schema)},a=[],o=dt(s,"addKeyboardShortcuts",r);let l={};if(s.type==="mark"&&dt(s,"exitable",r)&&(l.ArrowRight=()=>xc.handleExit({editor:e,mark:s})),o){const g=Object.fromEntries(Object.entries(o()).map(([x,b])=>[x,()=>b({editor:e})]));l={...l,...g}}const u=F4e(l);a.push(u);const d=dt(s,"addInputRules",r);if(xP(s,e.options.enableInputRules)&&d){const g=d();if(g&&g.length){const x=wMe({editor:e,rules:g}),b=Array.isArray(x)?x:[x];a.push(...b)}}const f=dt(s,"addPasteRules",r);if(xP(s,e.options.enablePasteRules)&&f){const g=f();if(g&&g.length){const x=EMe({editor:e,rules:g});a.push(...x)}}const m=dt(s,"addProseMirrorPlugins",r);if(m){const g=m();a.push(...g)}return a})}get attributes(){return nq(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=$h(this.extensions);return Object.fromEntries(t.filter(n=>!!dt(n,"addNodeView")).map(n=>{const s=this.attributes.filter(u=>u.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Ss(n.name,this.schema)},a=dt(n,"addNodeView",r);if(!a)return[];const o=a();if(!o)return[];const l=(u,d,f,m,g)=>{const x=Fp(u,s);return o({node:u,view:d,getPos:f,decorations:m,innerDecorations:g,editor:e,extension:n,HTMLAttributes:x})};return[n.name,l]}))}dispatchTransaction(e){const{editor:t}=this;return by([...this.extensions].reverse()).reduceRight((s,r)=>{const a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:R0(r.name,this.schema)},o=dt(r,"dispatchTransaction",a);return o?l=>{o.call(a,{transaction:l,next:s})}:s},e)}get markViews(){const{editor:e}=this,{markExtensions:t}=$h(this.extensions);return Object.fromEntries(t.filter(n=>!!dt(n,"addMarkView")).map(n=>{const s=this.attributes.filter(l=>l.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Ko(n.name,this.schema)},a=dt(n,"addMarkView",r);if(!a)return[];const o=(l,u,d)=>{const f=Fp(l,s);return a()({mark:l,view:u,inline:d,editor:e,extension:n,HTMLAttributes:f,updateAttributes:m=>{UMe(l,e,m)}})};return[n.name,o]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:R0(t.name,this.schema)};t.type==="mark"&&((n=hn(dt(t,"keepOnSplit",s)))==null||n)&&this.splittableMarks.push(t.name);const r=dt(t,"onBeforeCreate",s),a=dt(t,"onCreate",s),o=dt(t,"onUpdate",s),l=dt(t,"onSelectionUpdate",s),u=dt(t,"onTransaction",s),d=dt(t,"onFocus",s),f=dt(t,"onBlur",s),m=dt(t,"onDestroy",s);r&&this.editor.on("beforeCreate",r),a&&this.editor.on("create",a),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),d&&this.editor.on("focus",d),f&&this.editor.on("blur",f),m&&this.editor.on("destroy",m)})}};y1.resolve=sq;y1.sort=by;y1.flatten=oT;var TMe={};rT(TMe,{ClipboardTextSerializer:()=>mq,Commands:()=>pq,Delete:()=>gq,Drop:()=>xq,Editable:()=>vq,FocusEvents:()=>bq,Keymap:()=>wq,Paste:()=>jq,Tabindex:()=>kq,TextDirection:()=>Nq,focusEventsPluginKey:()=>yq});var En=class fq extends uT{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new fq(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},mq=En.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Wn({key:new Os("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:s,selection:r}=t,{ranges:a}=r,o=Math.min(...a.map(f=>f.$from.pos)),l=Math.max(...a.map(f=>f.$to.pos)),u=iq(n);return rq(s,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),pq=En.create({name:"commands",addCommands(){return{...WH}}}),gq=En.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,s,r;const a=()=>{var o,l,u,d;if((d=(u=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:u.call(l,e))!=null?d:e.getMeta("y-sync$"))return;const f=eq(e.before,[e,...t]);oq(f).forEach(x=>{f.mapping.mapResult(x.oldRange.from).deletedAfter&&f.mapping.mapResult(x.oldRange.to).deletedBefore&&f.before.nodesBetween(x.oldRange.from,x.oldRange.to,(b,w)=>{const j=w+b.nodeSize-2,k=x.oldRange.from<=w&&j<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:w,to:j,newFrom:f.mapping.map(w),newTo:f.mapping.map(j),deletedRange:x.oldRange,newRange:x.newRange,partial:!k,editor:this.editor,transaction:e,combinedTransform:f})})});const g=f.mapping;f.steps.forEach((x,b)=>{var w,j;if(x instanceof oa){const k=g.slice(b).map(x.from,-1),S=g.slice(b).map(x.to),C=g.invert().map(k,-1),E=g.invert().map(S),T=(w=f.doc.nodeAt(k-1))==null?void 0:w.marks.some(z=>z.eq(x.mark)),M=(j=f.doc.nodeAt(S))==null?void 0:j.marks.some(z=>z.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:C,to:E},newRange:{from:k,to:S},partial:!!(M||T),editor:this.editor,transaction:e,combinedTransform:f})}})};(r=(s=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:s.async)==null||r?setTimeout(a,0):a()}}),xq=En.create({name:"drop",addProseMirrorPlugins(){return[new Wn({key:new Os("tiptapDrop"),props:{handleDrop:(e,t,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:s})}}})]}}),vq=En.create({name:"editable",addProseMirrorPlugins(){return[new Wn({key:new Os("editable"),props:{editable:()=>this.editor.options.editable}})]}}),yq=new Os("focusEvents"),bq=En.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Wn({key:yq,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const s=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(s),!1},blur:(t,n)=>{e.isFocused=!1;const s=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(s),!1}}}})]}}),wq=En.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:u,doc:d}=l,{empty:f,$anchor:m}=u,{pos:g,parent:x}=m,b=m.parent.isTextblock&&g>0?l.doc.resolve(g-1):m,w=b.parent.type.spec.isolating,j=m.pos-m.parentOffset,k=w&&b.parent.childCount===1?j===m.pos:$t.atStart(d).from===g;return!f||!x.type.isTextblock||x.textContent.length||!k||k&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...s},a={...s,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return yy()||XH()?a:r},addProseMirrorPlugins(){return[new Wn({key:new Os("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(w=>w.getMeta("composition")))return;const s=e.some(w=>w.docChanged)&&!t.doc.eq(n.doc),r=e.some(w=>w.getMeta("preventClearDocument"));if(!s||r)return;const{empty:a,from:o,to:l}=t.selection,u=$t.atStart(t.doc).from,d=$t.atEnd(t.doc).to;if(a||!(o===u&&l===d)||!x1(n.doc))return;const g=n.tr,x=f1({state:n,transaction:g}),{commands:b}=new m1({editor:this.editor,state:x});if(b.clearNodes(),!!g.steps.length)return g}})]}}),jq=En.create({name:"paste",addProseMirrorPlugins(){return[new Wn({key:new Os("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),kq=En.create({name:"tabindex",addProseMirrorPlugins(){return[new Wn({key:new Os("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),Nq=En.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=$h(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Wn({key:new Os("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),zMe=class Dm{constructor(t,n,s=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=t,this.editor=n,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Dm(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Dm(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Dm(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,s)=>{const r=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,o=n.isInline,l=this.pos+s+(a?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(l);if(!r&&!o&&u.depth<=this.depth)return;const d=new Dm(u,this.editor,r,r||o?n:null);r&&(d.actualDepth=this.depth+1),t.push(d)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let s=null,r=this.parent;for(;r&&!s;){if(r.node.type.name===t)if(Object.keys(n).length>0){const a=r.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const u=o[l];if(a[u]!==n[u])break}}else s=r;r=r.parent}return s}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},s=!1){let r=[];if(!this.children||this.children.length===0)return r;const a=Object.keys(n);return this.children.forEach(o=>{s&&r.length>0||(o.node.type.name===t&&a.every(u=>n[u]===o.node.attrs[u])&&r.push(o),!(s&&r.length>0)&&(r=r.concat(o.querySelectorAll(t,n,s))))}),r}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},MMe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function AMe(e,t,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}var RMe=class extends yMe{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:Yze,createMappablePosition:Jze},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:r,moved:a})=>this.options.onDrop(s,r,a)),this.on("paste",({event:s,slice:r})=>this.options.onPaste(s,r)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=YH(t,this.options.autofocus);this.editorState=fh.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=AMe(MMe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=tq(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(r=>{const a=typeof r=="string"?`${r}$`:r.key;n=n.filter(o=>!o.key.startsWith(a))}),t.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[vq,mq.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),pq,bq,wq,kq,xq,jq,gq,Nq.configure({direction:this.options.textDirection})].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new y1(s,this)}createCommandManager(){this.commandManager=new m1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=CS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=CS(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:n}=this.options,s=t.dispatchTransaction||this.dispatchTransaction.bind(this),r=n?this.extensionManager.dispatchTransaction(s):s;this.editorView=new qH(e,{...t,attributes:{role:"textbox",...t==null?void 0:t.attributes},dispatchTransaction:r,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(d=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(d)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),s=!this.state.selection.eq(t.selection),r=n.includes(e),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!r)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),u=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),u&&this.emit("blur",{editor:this,event:u.event,transaction:o}),!(e.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||a.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return aq(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return Wze(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return lT(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return Bze(this.state.doc,{blockSeparator:t,textSerializers:{...iq(this.schema),...n}})}get isEmpty(){return x1(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new zMe(t,this)}get $doc(){return this.$pos(0)}};function Vh(e){return new v1({find:e.find,handler:({state:t,range:n,match:s})=>{const r=hn(e.getAttributes,void 0,s);if(r===!1||r===null)return null;const{tr:a}=t,o=s[s.length-1],l=s[0];if(o){const u=l.search(/\S/),d=n.from+l.indexOf(o),f=d+o.length;if(cT(n.from,n.to,t.doc).filter(x=>x.mark.type.excluded.find(w=>w===e.type&&w!==x.mark.type)).filter(x=>x.to>d).length)return null;f<n.to&&a.delete(f,n.to),d>n.from&&a.delete(n.from+u,d);const g=n.from+u+o.length;a.addMark(n.from+u,g,e.type.create(r||{})),a.removeStoredMark(e.type)}},undoable:e.undoable})}function Sq(e){return new v1({find:e.find,handler:({state:t,range:n,match:s})=>{const r=hn(e.getAttributes,void 0,s)||{},{tr:a}=t,o=n.from;let l=n.to;const u=e.type.create(r);if(s[1]){const d=s[0].lastIndexOf(s[1]);let f=o+d;f>l?f=l:l=f+s[1].length;const m=s[0][s[0].length-1];a.insertText(m,o+s[0].length-1),a.replaceWith(f,l,u)}else if(s[0]){const d=e.type.isInline?o:o-1;a.insert(d,e.type.create(r)).delete(a.mapping.map(o),a.mapping.map(l))}a.scrollIntoView()},undoable:e.undoable})}function TS(e){return new v1({find:e.find,handler:({state:t,range:n,match:s})=>{const r=t.doc.resolve(n.from),a=hn(e.getAttributes,void 0,s)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,a)},undoable:e.undoable})}function Bh(e){return new v1({find:e.find,handler:({state:t,range:n,match:s,chain:r})=>{const a=hn(e.getAttributes,void 0,s)||{},o=t.tr.delete(n.from,n.to),u=o.doc.resolve(n.from).blockRange(),d=u&&FE(u,e.type,a);if(!d)return null;if(o.wrap(u,d),e.keepMarks&&e.editor){const{selection:m,storedMarks:g}=t,{splittableMarks:x}=e.editor.extensionManager,b=g||m.$to.parentOffset&&m.$from.marks();if(b){const w=b.filter(j=>x.includes(j.type.name));o.ensureMarks(w)}}if(e.keepAttributes){const m=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(m,a).run()}const f=o.doc.resolve(n.from-1).nodeBefore;f&&f.type===e.type&&pc(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(s,f))&&o.join(n.from-1)},undoable:e.undoable})}var OMe=e=>"touches"in e,DMe=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=l=>{if(!this.isResizing||!this.activeHandle)return;const u=l.clientX-this.startX,d=l.clientY-this.startY;this.handleResize(u,d)},this.handleTouchMove=l=>{if(!this.isResizing||!this.activeHandle)return;const u=l.touches[0];if(!u)return;const d=u.clientX-this.startX,f=u.clientY-this.startY;this.handleResize(d,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const l=this.element.offsetWidth,u=this.element.offsetHeight;this.onCommit(l,u),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,s,r,a,o;this.node=e.node,this.editor=e.editor,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(s=e==null?void 0:e.options)!=null&&s.directions&&(this.directions=e.options.directions),(r=e.options)!=null&&r.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(a=e.options)!=null&&a.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),(o=e.options)!=null&&o.createCustomHandle&&(this.createCustomHandle=e.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var e;return(e=this.contentElement)!=null?e:null}handleEditorUpdate(){const e=this.editor.isEditable;e!==this.lastEditableState&&(this.lastEditableState=e,e?e&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),s=t.includes("bottom"),r=t.includes("left"),a=t.includes("right");n&&(e.style.top="0"),s&&(e.style.bottom="0"),r&&(e.style.left="0"),a&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{let t;this.createCustomHandle?t=this.createCustomHandle(e):t=this.createHandle(e),t instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${e}") did not return an HTMLElement. Falling back to default handle.`),t=this.createHandle(e)),this.createCustomHandle||this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.handleMap.set(e,t),this.wrapper.appendChild(t)})}removeHandles(){this.handleMap.forEach(e=>e.remove()),this.handleMap.clear()}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,OMe(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:s,height:r}=this.calculateNewDimensions(this.activeHandle,e,t),a=this.applyConstraints(s,r,n);this.element.style.width=`${a.width}px`,this.element.style.height=`${a.height}px`,this.onResize&&this.onResize(a.width,a.height)}calculateNewDimensions(e,t,n){let s=this.startWidth,r=this.startHeight;const a=e.includes("right"),o=e.includes("left"),l=e.includes("bottom"),u=e.includes("top");return a?s=this.startWidth+t:o&&(s=this.startWidth-t),l?r=this.startHeight+n:u&&(r=this.startHeight-n),(e==="right"||e==="left")&&(s=this.startWidth+(a?t:-t)),(e==="top"||e==="bottom")&&(r=this.startHeight+(l?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(s,r,e):{width:s,height:r}}applyConstraints(e,t,n){var s,r,a,o;if(!n){let d=Math.max(this.minSize.width,e),f=Math.max(this.minSize.height,t);return(s=this.maxSize)!=null&&s.width&&(d=Math.min(this.maxSize.width,d)),(r=this.maxSize)!=null&&r.height&&(f=Math.min(this.maxSize.height,f)),{width:d,height:f}}let l=e,u=t;return l<this.minSize.width&&(l=this.minSize.width,u=l/this.aspectRatio),u<this.minSize.height&&(u=this.minSize.height,l=u*this.aspectRatio),(a=this.maxSize)!=null&&a.width&&l>this.maxSize.width&&(l=this.maxSize.width,u=l/this.aspectRatio),(o=this.maxSize)!=null&&o.height&&u>this.maxSize.height&&(u=this.maxSize.height,l=u*this.aspectRatio),{width:l,height:u}}applyAspectRatio(e,t,n){const s=n==="left"||n==="right",r=n==="top"||n==="bottom";return s?{width:e,height:e/this.aspectRatio}:r?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function PMe(e,t){const{selection:n}=e,{$from:s}=n;if(n instanceof pt){const a=s.index();return s.parent.canReplaceWith(a,a+1,t)}let r=s.depth;for(;r>=0;){const a=s.index(r);if(s.node(r).contentMatchAt(a).matchType(t))return!0;r-=1}return!1}var IMe={};rT(IMe,{createAtomBlockMarkdownSpec:()=>LMe,createBlockMarkdownSpec:()=>$Me,createInlineMarkdownSpec:()=>FMe,parseAttributes:()=>dT,parseIndentedBlocks:()=>zS,renderNestedMarkdownContent:()=>fT,serializeAttributes:()=>hT});function dT(e){if(!(e!=null&&e.trim()))return{};const t={},n=[],s=e.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),r=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(r){const d=r.map(f=>f.trim().slice(1));t.class=d.join(" ")}const a=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(t.id=a[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(o)).forEach(([,d,f])=>{var m;const g=parseInt(((m=f.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),x=n[g];x&&(t[d]=x.slice(1,-1))});const u=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(t[f]=!0)}),t}function hT(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(s=>t.push(`.${s}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,s])=>{n==="class"||n==="id"||(s===!0?t.push(n):s!==!1&&s!=null&&t.push(`${n}="${String(s)}"`))}),t.join(" ")}function LMe(e){const{nodeName:t,name:n,parseAttributes:s=dT,serializeAttributes:r=hT,defaultAttributes:a={},requiredAttributes:o=[],allowedAttributes:l}=e,u=n||t,d=f=>{if(!l)return f;const m={};return l.forEach(g=>{g in f&&(m[g]=f[g])}),m};return{parseMarkdown:(f,m)=>{const g={...a,...f.attributes};return m.createNode(t,g,[])},markdownTokenizer:{name:t,level:"block",start(f){var m;const g=new RegExp(`^:::${u}(?:\\s|$)`,"m"),x=(m=f.match(g))==null?void 0:m.index;return x!==void 0?x:-1},tokenize(f,m,g){const x=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=f.match(x);if(!b)return;const w=b[1]||"",j=s(w);if(!o.find(S=>!(S in j)))return{type:t,raw:b[0],attributes:j}}},renderMarkdown:f=>{const m=d(f.attrs||{}),g=r(m),x=g?` {${g}}`:"";return`:::${u}${x} :::`}}}function $Me(e){const{nodeName:t,name:n,getContent:s,parseAttributes:r=dT,serializeAttributes:a=hT,defaultAttributes:o={},content:l="block",allowedAttributes:u}=e,d=n||t,f=m=>{if(!u)return m;const g={};return u.forEach(x=>{x in m&&(g[x]=m[x])}),g};return{parseMarkdown:(m,g)=>{let x;if(s){const w=s(m);x=typeof w=="string"?[{type:"text",text:w}]:w}else l==="block"?x=g.parseChildren(m.tokens||[]):x=g.parseInline(m.tokens||[]);const b={...o,...m.attributes};return g.createNode(t,b,x)},markdownTokenizer:{name:t,level:"block",start(m){var g;const x=new RegExp(`^:::${d}`,"m"),b=(g=m.match(x))==null?void 0:g.index;return b!==void 0?b:-1},tokenize(m,g,x){var b;const w=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),j=m.match(w);if(!j)return;const[k,S=""]=j,C=r(S);let E=1;const T=k.length;let M="";const z=/^:::([\w-]*)(\s.*)?/gm,A=m.slice(T);for(z.lastIndex=0;;){const D=z.exec(A);if(D===null)break;const B=D.index,$=D[1];if(!((b=D[2])!=null&&b.endsWith(":::"))){if($)E+=1;else if(E-=1,E===0){const q=A.slice(0,B);M=q.trim();const Z=m.slice(0,T+B+D[0].length);let F=[];if(M)if(l==="block")for(F=x.blockTokens(q),F.forEach(J=>{J.text&&(!J.tokens||J.tokens.length===0)&&(J.tokens=x.inlineTokens(J.text))});F.length>0;){const J=F[F.length-1];if(J.type==="paragraph"&&(!J.text||J.text.trim()===""))F.pop();else break}else F=x.inlineTokens(M);return{type:t,raw:Z,attributes:C,content:M,tokens:F}}}}}},renderMarkdown:(m,g)=>{const x=f(m.attrs||{}),b=a(x),w=b?` {${b}}`:"",j=g.renderChildren(m.content||[],`

`);return`:::${d}${w}

${j}

:::`}}}function VMe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=n.exec(e);for(;s!==null;){const[,r,a,o]=s;t[r]=a||o,s=n.exec(e)}return t}function BMe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function FMe(e){const{nodeName:t,name:n,getContent:s,parseAttributes:r=VMe,serializeAttributes:a=BMe,defaultAttributes:o={},selfClosing:l=!1,allowedAttributes:u}=e,d=n||t,f=g=>{if(!u)return g;const x={};return u.forEach(b=>{const w=typeof b=="string"?b:b.name,j=typeof b=="string"?void 0:b.skipIfDefault;if(w in g){const k=g[w];if(j!==void 0&&k===j)return;x[w]=k}}),x},m=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(g,x)=>{const b={...o,...g.attributes};if(l)return x.createNode(t,b);const w=s?s(g):g.content||"";return w?x.createNode(t,b,[x.createTextNode(w)]):x.createNode(t,b,[])},markdownTokenizer:{name:t,level:"inline",start(g){const x=l?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),b=g.match(x),w=b==null?void 0:b.index;return w!==void 0?w:-1},tokenize(g,x,b){const w=l?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),j=g.match(w);if(!j)return;let k="",S="";if(l){const[,E]=j;S=E}else{const[,E,T]=j;S=E,k=T||""}const C=r(S.trim());return{type:t,raw:j[0],content:k.trim(),attributes:C}}},renderMarkdown:g=>{let x="";s?x=s(g):g.content&&g.content.length>0&&(x=g.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const b=f(g.attrs||{}),w=a(b),j=w?` ${w}`:"";return l?`[${d}${j}]`:`[${d}${j}]${x}[/${d}]`}}}function zS(e,t,n){var s,r,a,o;const l=e.split(`
`),u=[];let d="",f=0;const m=t.baseIndentSize||2;for(;f<l.length;){const g=l[f],x=g.match(t.itemPattern);if(!x){if(u.length>0)break;if(g.trim()===""){f+=1,d=`${d}${g}
`;continue}else return}const b=t.extractItemData(x),{indentLevel:w,mainContent:j}=b;d=`${d}${g}
`;const k=[j];for(f+=1;f<l.length;){const T=l[f];if(T.trim()===""){const z=l.slice(f+1).findIndex(B=>B.trim()!=="");if(z===-1)break;if((((r=(s=l[f+1+z].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:r.length)||0)>w){k.push(T),d=`${d}${T}
`,f+=1;continue}else break}if((((o=(a=T.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:o.length)||0)>w)k.push(T),d=`${d}${T}
`,f+=1;else break}let S;const C=k.slice(1);if(C.length>0){const T=C.map(M=>M.slice(w+m)).join(`
`);T.trim()&&(t.customNestedParser?S=t.customNestedParser(T):S=n.blockTokens(T))}const E=t.createToken(b,S);u.push(E)}if(u.length!==0)return{items:u,raw:d}}function fT(e,t,n,s){if(!e||!Array.isArray(e.content))return"";const r=typeof n=="function"?n(s):n,[a,...o]=e.content,l=t.renderChildren([a]),u=[`${r}${l}`];return o&&o.length>0&&o.forEach(d=>{const f=t.renderChildren([d]);if(f){const m=f.split(`
`).map(g=>g?t.indent(g):"").join(`
`);u.push(m)}}),u.join(`
`)}function UMe(e,t,n={}){const{state:s}=t,{doc:r,tr:a}=s,o=e;r.descendants((l,u)=>{const d=a.mapping.map(u),f=a.mapping.map(u)+l.nodeSize;let m=null;if(l.marks.forEach(x=>{if(x!==o)return!1;m=x}),!m)return;let g=!1;if(Object.keys(n).forEach(x=>{n[x]!==m.attrs[x]&&(g=!0)}),g){const x=e.type.create({...e.attrs,...n});a.removeMark(d,f,e.type),a.addMark(d,f,x)}}),a.docChanged&&t.view.dispatch(a)}var qr=class _q extends uT{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new _q(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Ou(e){return new NMe({find:e.find,handler:({state:t,range:n,match:s,pasteEvent:r})=>{const a=hn(e.getAttributes,void 0,s,r);if(a===!1||a===null)return null;const{tr:o}=t,l=s[s.length-1],u=s[0];let d=n.to;if(l){const f=u.search(/\S/),m=n.from+u.indexOf(l),g=m+l.length;if(cT(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(j=>j===e.type&&j!==b.mark.type)).filter(b=>b.to>m).length)return null;g<n.to&&o.delete(g,n.to),m>n.from&&o.delete(n.from+f,m),d=n.from+f+l.length,o.addMark(n.from+f,d,e.type.create(a||{})),o.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:HMe,getOwnPropertySymbols:qMe}=Object,{hasOwnProperty:ZMe}=Object.prototype;function xN(e,t){return function(s,r,a){return e(s,r,a)&&t(s,r,a)}}function I0(e){return function(n,s,r){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,r);const{cache:a}=r,o=a.get(n),l=a.get(s);if(o&&l)return o===s&&l===n;a.set(n,s),a.set(s,n);const u=e(n,s,r);return a.delete(n),a.delete(s),u}}function WMe(e){return e!=null?e[Symbol.toStringTag]:void 0}function bP(e){return HMe(e).concat(qMe(e))}const KMe=Object.hasOwn||((e,t)=>ZMe.call(e,t));function Uu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const GMe="__v",YMe="__o",JMe="_owner",{getOwnPropertyDescriptor:wP,keys:jP}=Object;function XMe(e,t){return e.byteLength===t.byteLength&&wy(new Uint8Array(e),new Uint8Array(t))}function QMe(e,t,n){let s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function eAe(e,t){return e.byteLength===t.byteLength&&wy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function tAe(e,t){return Uu(e.getTime(),t.getTime())}function nAe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function sAe(e,t){return e===t}function kP(e,t,n){const s=e.size;if(s!==t.size)return!1;if(!s)return!0;const r=new Array(s),a=e.entries();let o,l,u=0;for(;(o=a.next())&&!o.done;){const d=t.entries();let f=!1,m=0;for(;(l=d.next())&&!l.done;){if(r[m]){m++;continue}const g=o.value,x=l.value;if(n.equals(g[0],x[0],u,m,e,t,n)&&n.equals(g[1],x[1],g[0],x[0],e,t,n)){f=r[m]=!0;break}m++}if(!f)return!1;u++}return!0}const rAe=Uu;function iAe(e,t,n){const s=jP(e);let r=s.length;if(jP(t).length!==r)return!1;for(;r-- >0;)if(!Cq(e,t,n,s[r]))return!1;return!0}function vm(e,t,n){const s=bP(e);let r=s.length;if(bP(t).length!==r)return!1;let a,o,l;for(;r-- >0;)if(a=s[r],!Cq(e,t,n,a)||(o=wP(e,a),l=wP(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function aAe(e,t){return Uu(e.valueOf(),t.valueOf())}function oAe(e,t){return e.source===t.source&&e.flags===t.flags}function NP(e,t,n){const s=e.size;if(s!==t.size)return!1;if(!s)return!0;const r=new Array(s),a=e.values();let o,l;for(;(o=a.next())&&!o.done;){const u=t.values();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(!r[f]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=r[f]=!0;break}f++}if(!d)return!1}return!0}function wy(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function lAe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Cq(e,t,n,s){return(s===JMe||s===YMe||s===GMe)&&(e.$$typeof||t.$$typeof)?!0:KMe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}const cAe="[object ArrayBuffer]",uAe="[object Arguments]",dAe="[object Boolean]",hAe="[object DataView]",fAe="[object Date]",mAe="[object Error]",pAe="[object Map]",gAe="[object Number]",xAe="[object Object]",vAe="[object RegExp]",yAe="[object Set]",bAe="[object String]",wAe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},jAe="[object URL]",kAe=Object.prototype.toString;function NAe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:s,areErrorsEqual:r,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:u,arePrimitiveWrappersEqual:d,areRegExpsEqual:f,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:x,unknownTagComparators:b}){return function(j,k,S){if(j===k)return!0;if(j==null||k==null)return!1;const C=typeof j;if(C!==typeof k)return!1;if(C!=="object")return C==="number"?l(j,k,S):C==="function"?a(j,k,S):!1;const E=j.constructor;if(E!==k.constructor)return!1;if(E===Object)return u(j,k,S);if(Array.isArray(j))return t(j,k,S);if(E===Date)return s(j,k,S);if(E===RegExp)return f(j,k,S);if(E===Map)return o(j,k,S);if(E===Set)return m(j,k,S);const T=kAe.call(j);if(T===fAe)return s(j,k,S);if(T===vAe)return f(j,k,S);if(T===pAe)return o(j,k,S);if(T===yAe)return m(j,k,S);if(T===xAe)return typeof j.then!="function"&&typeof k.then!="function"&&u(j,k,S);if(T===jAe)return x(j,k,S);if(T===mAe)return r(j,k,S);if(T===uAe)return u(j,k,S);if(wAe[T])return g(j,k,S);if(T===cAe)return e(j,k,S);if(T===hAe)return n(j,k,S);if(T===dAe||T===gAe||T===bAe)return d(j,k,S);if(b){let M=b[T];if(!M){const z=WMe(j);z&&(M=b[z])}if(M)return M(j,k,S)}return!1}}function SAe({circular:e,createCustomConfig:t,strict:n}){let s={areArrayBuffersEqual:XMe,areArraysEqual:n?vm:QMe,areDataViewsEqual:eAe,areDatesEqual:tAe,areErrorsEqual:nAe,areFunctionsEqual:sAe,areMapsEqual:n?xN(kP,vm):kP,areNumbersEqual:rAe,areObjectsEqual:n?vm:iAe,arePrimitiveWrappersEqual:aAe,areRegExpsEqual:oAe,areSetsEqual:n?xN(NP,vm):NP,areTypedArraysEqual:n?xN(wy,vm):wy,areUrlsEqual:lAe,unknownTagComparators:void 0};if(t&&(s=Object.assign({},s,t(s))),e){const r=I0(s.areArraysEqual),a=I0(s.areMapsEqual),o=I0(s.areObjectsEqual),l=I0(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:r,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return s}function _Ae(e){return function(t,n,s,r,a,o,l){return e(t,n,l)}}function CAe({circular:e,comparator:t,createState:n,equals:s,strict:r}){if(n)return function(l,u){const{cache:d=e?new WeakMap:void 0,meta:f}=n();return t(l,u,{cache:d,equals:s,meta:f,strict:r})};if(e)return function(l,u){return t(l,u,{cache:new WeakMap,equals:s,meta:void 0,strict:r})};const a={cache:void 0,equals:s,meta:void 0,strict:r};return function(l,u){return t(l,u,a)}}const EAe=vc();vc({strict:!0});vc({circular:!0});vc({circular:!0,strict:!0});vc({createInternalComparator:()=>Uu});vc({strict:!0,createInternalComparator:()=>Uu});vc({circular:!0,createInternalComparator:()=>Uu});vc({circular:!0,createInternalComparator:()=>Uu,strict:!0});function vc(e={}){const{circular:t=!1,createInternalComparator:n,createState:s,strict:r=!1}=e,a=SAe(e),o=NAe(a),l=n?n(o):_Ae(o);return CAe({circular:t,comparator:o,createState:s,equals:l,strict:r})}var vN={exports:{}},yN={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP;function TAe(){if(SP)return yN;SP=1;var e=Gp(),t=C$();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var s=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return yN.useSyncExternalStoreWithSelector=function(d,f,m,g,x){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function k(M){if(!S){if(S=!0,C=M,M=g(M),x!==void 0&&w.hasValue){var z=w.value;if(x(z,M))return E=z}return E=M}if(z=E,s(C,M))return z;var A=g(M);return x!==void 0&&x(z,A)?(C=M,z):(C=M,E=A)}var S=!1,C,E,T=m===void 0?null:m;return[function(){return k(f())},T===null?void 0:function(){return k(T())}]},[f,m,g,x]);var j=r(d,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=j},[j]),u(j),j},yN}var _P;function zAe(){return _P||(_P=1,vN.exports=TAe()),vN.exports}var MAe=zAe(),AAe=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},RAe=({contentComponent:e})=>{const t=bC.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return i.jsx(i.Fragment,{children:Object.values(t)})};function OAe(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,s){t={...t,[n]:sb.createPortal(s.reactElement,s.element,n)},e.forEach(r=>r())},removeRenderer(n){const s={...t};delete s[n],t=s,e.forEach(r=>r())}}}var DAe=class extends W.Component{constructor(e){var t;super(e),this.editorContentRef=W.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&((e=t.view.dom)!=null&&e.parentNode)){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n}),t.contentComponent=OAe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(s=>s.hasContentComponentInitialized?s:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.parentNode))return;const n=document.createElement("div");n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:AAe(t,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&i.jsx(RAe,{contentComponent:e.contentComponent})]})}},PAe=v.forwardRef((e,t)=>{const n=W.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return W.createElement(DAe,{key:n,innerRef:t,...e})}),Eq=W.memo(PAe),IAe=typeof window<"u"?v.useLayoutEffect:v.useEffect,LAe=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function $Ae(e){var t;const[n]=v.useState(()=>new LAe(e.editor)),s=MAe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:EAe);return IAe(()=>n.watch(e.editor),[e.editor,n]),v.useDebugValue(s),s}var VAe=!1,MS=typeof window>"u",BAe=MS||!!(typeof window<"u"&&window.next),FAe=class Tq{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?MS||BAe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...s)=>{var r,a;return(a=(r=this.options.current).onBeforeCreate)==null?void 0:a.call(r,...s)},onBlur:(...s)=>{var r,a;return(a=(r=this.options.current).onBlur)==null?void 0:a.call(r,...s)},onCreate:(...s)=>{var r,a;return(a=(r=this.options.current).onCreate)==null?void 0:a.call(r,...s)},onDestroy:(...s)=>{var r,a;return(a=(r=this.options.current).onDestroy)==null?void 0:a.call(r,...s)},onFocus:(...s)=>{var r,a;return(a=(r=this.options.current).onFocus)==null?void 0:a.call(r,...s)},onSelectionUpdate:(...s)=>{var r,a;return(a=(r=this.options.current).onSelectionUpdate)==null?void 0:a.call(r,...s)},onTransaction:(...s)=>{var r,a;return(a=(r=this.options.current).onTransaction)==null?void 0:a.call(r,...s)},onUpdate:(...s)=>{var r,a;return(a=(r=this.options.current).onUpdate)==null?void 0:a.call(r,...s)},onContentError:(...s)=>{var r,a;return(a=(r=this.options.current).onContentError)==null?void 0:a.call(r,...s)},onDrop:(...s)=>{var r,a;return(a=(r=this.options.current).onDrop)==null?void 0:a.call(r,...s)},onPaste:(...s)=>{var r,a;return(a=(r=this.options.current).onPaste)==null?void 0:a.call(r,...s)},onDelete:(...s)=>{var r,a;return(a=(r=this.options.current).onDelete)==null?void 0:a.call(r,...s)}};return new RMe(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((r,a)=>{var o;return r===((o=n.extensions)==null?void 0:o[a])}):t[s]===n[s])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?Tq.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((s,r)=>s===t[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function UAe(e={},t=[]){const n=v.useRef(e);n.current=e;const[s]=v.useState(()=>new FAe(n)),r=bC.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return v.useDebugValue(r),v.useEffect(s.onRender(t)),$Ae({editor:r,selector:({transactionNumber:a})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&a===0?0:a+1}),r}var zq=v.createContext({editor:null});zq.Consumer;var HAe=v.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),qAe=()=>v.useContext(HAe);W.forwardRef((e,t)=>{const{onDragStart:n}=qAe(),s=e.as||"div";return i.jsx(s,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});W.createContext({markViewContentRef:()=>{}});var mT=v.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});mT.displayName="TiptapContext";var ZAe=()=>v.useContext(mT);function Mq({editor:e,instance:t,children:n}){const s=e??t;if(!s)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const r=v.useMemo(()=>({editor:s}),[s]),a=v.useMemo(()=>({editor:s}),[s]);return i.jsx(zq.Provider,{value:a,children:i.jsx(mT.Provider,{value:r,children:n})})}Mq.displayName="Tiptap";function Aq({...e}){const{editor:t}=ZAe();return i.jsx(Eq,{editor:t,...e})}Aq.displayName="Tiptap.Content";Object.assign(Mq,{Content:Aq});var jy=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...s}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,s,n]},WAe=/^\s*>\s$/,KAe=qr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return jy("blockquote",{...ns(this.options.HTMLAttributes,e),children:jy("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",s=[];return e.content.forEach(r=>{const l=t.renderChildren([r]).split(`
`).map(u=>u.trim()===""?n:`${n} ${u}`);s.push(l.join(`
`))}),s.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Bh({find:WAe,type:this.type})]}}),GAe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,YAe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,JAe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,XAe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,QAe=xc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return jy("strong",{...ns(this.options.HTMLAttributes,e),children:jy("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Vh({find:GAe,type:this.type}),Vh({find:JAe,type:this.type})]},addPasteRules(){return[Ou({find:YAe,type:this.type}),Ou({find:XAe,type:this.type})]}}),e3e=/(^|[^`])`([^`]+)`(?!`)$/,t3e=/(^|[^`])`([^`]+)`(?!`)/g,n3e=xc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",ns(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Vh({find:e3e,type:this.type})]},addPasteRules(){return[Ou({find:t3e,type:this.type})]}}),bN=4,s3e=/^```([a-z]+)?[\s\n]$/,r3e=/^~~~([a-z]+)?[\s\n]$/,i3e=qr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:bN,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const a=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",ns(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let s="";const r=((n=e.attrs)==null?void 0:n.language)||"";return e.content?s=[`\`\`\`${r}`,t.renderChildren(e.content),"```"].join(`
`):s=`\`\`\`${r}

\`\`\``,s},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:bN,{state:s}=e,{selection:r}=s,{$from:a,empty:o}=r;if(a.parent.type!==this.type)return!1;const l=" ".repeat(n);return o?e.commands.insertContent(l):e.commands.command(({tr:u})=>{const{from:d,to:f}=r,x=s.doc.textBetween(d,f,`
`,`
`).split(`
`).map(b=>l+b).join(`
`);return u.replaceWith(d,f,s.schema.text(x)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:bN,{state:s}=e,{selection:r}=s,{$from:a,empty:o}=r;return a.parent.type!==this.type?!1:o?e.commands.command(({tr:l})=>{var u;const{pos:d}=a,f=a.start(),m=a.end(),x=s.doc.textBetween(f,m,`
`,`
`).split(`
`);let b=0,w=0;const j=d-f;for(let M=0;M<x.length;M+=1){if(w+x[M].length>=j){b=M;break}w+=x[M].length+1}const S=((u=x[b].match(/^ */))==null?void 0:u[0])||"",C=Math.min(S.length,n);if(C===0)return!0;let E=f;for(let M=0;M<b;M+=1)E+=x[M].length+1;return l.delete(E,E+C),d-E<=C&&l.setSelection(_t.create(l.doc,E)),!0}):e.commands.command(({tr:l})=>{const{from:u,to:d}=r,g=s.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>{var b;const w=((b=x.match(/^ */))==null?void 0:b[0])||"",j=Math.min(w.length,n);return x.slice(j)}).join(`
`);return l.replaceWith(u,d,s.schema.text(g)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:s,empty:r}=n;if(!r||s.parent.type!==this.type)return!1;const a=s.parentOffset===s.parent.nodeSize-2,o=s.parent.textContent.endsWith(`

`);return!a||!o?!1:e.chain().command(({tr:l})=>(l.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:s}=t,{$from:r,empty:a}=n;if(!a||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const l=r.after();return l===void 0?!1:s.nodeAt(l)?e.commands.command(({tr:d})=>(d.setSelection($t.near(s.resolve(l))),!0)):e.commands.exitCode()}}},addInputRules(){return[TS({find:s3e,type:this.type,getAttributes:e=>({language:e[1]})}),TS({find:r3e,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Wn({key:new Os("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),s=t.clipboardData.getData("vscode-editor-data"),r=s?JSON.parse(s):void 0,a=r==null?void 0:r.mode;if(!n||!a)return!1;const{tr:o,schema:l}=e.state,u=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:a},u)),o.selection.$from.parent.type!==this.type&&o.setSelection(_t.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),a3e=qr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),o3e=qr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",ns(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:s})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:r,storedMarks:a}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=s.extensionManager,u=a||r.$to.parentOffset&&r.$from.marks();return t().insertContent({type:this.name}).command(({tr:d,dispatch:f})=>{if(f&&u&&o){const m=u.filter(g=>l.includes(g.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),l3e=qr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,ns(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const s=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,r="#".repeat(s);return e.content?`${r} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>TS({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),c3e=qr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",ns(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!PMe(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:s}=n,r=e();return lq(n)?r.insertContentAt(s.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:a,tr:o,dispatch:l})=>{if(l){const{$to:u}=o.selection,d=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?o.setSelection(_t.create(o.doc,u.pos+1)):u.nodeAfter.isBlock?o.setSelection(pt.create(o.doc,u.pos)):o.setSelection(_t.create(o.doc,u.pos));else{const f=a.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,m=f==null?void 0:f.create();m&&(o.insert(d,m),o.setSelection(_t.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[Sq({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),u3e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,d3e=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,h3e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,f3e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,m3e=xc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",ns(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Vh({find:u3e,type:this.type}),Vh({find:h3e,type:this.type})]},addPasteRules(){return[Ou({find:d3e,type:this.type}),Ou({find:f3e,type:this.type})]}});const p3e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",g3e="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",AS="numeric",RS="ascii",OS="alpha",Ym="asciinumeric",Pm="alphanumeric",DS="domain",Rq="emoji",x3e="scheme",v3e="slashscheme",wN="whitespace";function y3e(e,t){return e in t||(t[e]=[]),t[e]}function cu(e,t,n){t[AS]&&(t[Ym]=!0,t[Pm]=!0),t[RS]&&(t[Ym]=!0,t[OS]=!0),t[Ym]&&(t[Pm]=!0),t[OS]&&(t[Pm]=!0),t[Pm]&&(t[DS]=!0),t[Rq]&&(t[DS]=!0);for(const s in t){const r=y3e(s,n);r.indexOf(e)<0&&r.push(e)}}function b3e(e,t){const n={};for(const s in t)t[s].indexOf(e)>=0&&(n[s]=!0);return n}function Lr(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Lr.groups={};Lr.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let s=0;s<t.jr.length;s++){const r=t.jr[s][0],a=t.jr[s][1];if(a&&r.test(e))return a}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,s){for(let r=0;r<e.length;r++)this.tt(e[r],t,n,s)},tr(e,t,n,s){s=s||Lr.groups;let r;return t&&t.j?r=t:(r=new Lr(t),n&&s&&cu(t,n,s)),this.jr.push([e,r]),r},ts(e,t,n,s){let r=this;const a=e.length;if(!a)return r;for(let o=0;o<a-1;o++)r=r.tt(e[o]);return r.tt(e[a-1],t,n,s)},tt(e,t,n,s){s=s||Lr.groups;const r=this;if(t&&t.j)return r.j[e]=t,t;const a=t;let o,l=r.go(e);if(l?(o=new Lr,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Lr,a){if(s)if(o.t&&typeof o.t=="string"){const u=Object.assign(b3e(o.t,s),n);cu(a,u,s)}else n&&cu(a,n,s);o.t=a}return r.j[e]=o,o}};const Lt=(e,t,n,s,r)=>e.ta(t,n,s,r),Jn=(e,t,n,s,r)=>e.tr(t,n,s,r),CP=(e,t,n,s,r)=>e.ts(t,n,s,r),Ve=(e,t,n,s,r)=>e.tt(t,n,s,r),Co="WORD",PS="UWORD",Oq="ASCIINUMERICAL",Dq="ALPHANUMERICAL",Up="LOCALHOST",IS="TLD",LS="UTLD",uv="SCHEME",eh="SLASH_SCHEME",pT="NUM",$S="WS",gT="NL",Jm="OPENBRACE",Xm="CLOSEBRACE",ky="OPENBRACKET",Ny="CLOSEBRACKET",Sy="OPENPAREN",_y="CLOSEPAREN",Cy="OPENANGLEBRACKET",Ey="CLOSEANGLEBRACKET",Ty="FULLWIDTHLEFTPAREN",zy="FULLWIDTHRIGHTPAREN",My="LEFTCORNERBRACKET",Ay="RIGHTCORNERBRACKET",Ry="LEFTWHITECORNERBRACKET",Oy="RIGHTWHITECORNERBRACKET",Dy="FULLWIDTHLESSTHAN",Py="FULLWIDTHGREATERTHAN",Iy="AMPERSAND",Ly="APOSTROPHE",$y="ASTERISK",Al="AT",Vy="BACKSLASH",By="BACKTICK",Fy="CARET",Il="COLON",xT="COMMA",Uy="DOLLAR",Ea="DOT",Hy="EQUALS",vT="EXCLAMATION",Ci="HYPHEN",Qm="PERCENT",qy="PIPE",Zy="PLUS",Wy="POUND",ep="QUERY",yT="QUOTE",Pq="FULLWIDTHMIDDLEDOT",bT="SEMI",Ta="SLASH",tp="TILDE",Ky="UNDERSCORE",Iq="EMOJI",Gy="SYM";var Lq=Object.freeze({__proto__:null,ALPHANUMERICAL:Dq,AMPERSAND:Iy,APOSTROPHE:Ly,ASCIINUMERICAL:Oq,ASTERISK:$y,AT:Al,BACKSLASH:Vy,BACKTICK:By,CARET:Fy,CLOSEANGLEBRACKET:Ey,CLOSEBRACE:Xm,CLOSEBRACKET:Ny,CLOSEPAREN:_y,COLON:Il,COMMA:xT,DOLLAR:Uy,DOT:Ea,EMOJI:Iq,EQUALS:Hy,EXCLAMATION:vT,FULLWIDTHGREATERTHAN:Py,FULLWIDTHLEFTPAREN:Ty,FULLWIDTHLESSTHAN:Dy,FULLWIDTHMIDDLEDOT:Pq,FULLWIDTHRIGHTPAREN:zy,HYPHEN:Ci,LEFTCORNERBRACKET:My,LEFTWHITECORNERBRACKET:Ry,LOCALHOST:Up,NL:gT,NUM:pT,OPENANGLEBRACKET:Cy,OPENBRACE:Jm,OPENBRACKET:ky,OPENPAREN:Sy,PERCENT:Qm,PIPE:qy,PLUS:Zy,POUND:Wy,QUERY:ep,QUOTE:yT,RIGHTCORNERBRACKET:Ay,RIGHTWHITECORNERBRACKET:Oy,SCHEME:uv,SEMI:bT,SLASH:Ta,SLASH_SCHEME:eh,SYM:Gy,TILDE:tp,TLD:IS,UNDERSCORE:Ky,UTLD:LS,UWORD:PS,WORD:Co,WS:$S});const No=/[a-z]/,ym=new RegExp("\\p{L}","u"),jN=new RegExp("\\p{Emoji}","u"),So=/\d/,kN=/\s/,EP="\r",NN=`
`,w3e="",j3e="",SN="";let L0=null,$0=null;function k3e(e=[]){const t={};Lr.groups=t;const n=new Lr;L0==null&&(L0=TP(p3e)),$0==null&&($0=TP(g3e)),Ve(n,"'",Ly),Ve(n,"{",Jm),Ve(n,"}",Xm),Ve(n,"[",ky),Ve(n,"]",Ny),Ve(n,"(",Sy),Ve(n,")",_y),Ve(n,"<",Cy),Ve(n,">",Ey),Ve(n,"",Ty),Ve(n,"",zy),Ve(n,"",My),Ve(n,"",Ay),Ve(n,"",Ry),Ve(n,"",Oy),Ve(n,"",Dy),Ve(n,"",Py),Ve(n,"&",Iy),Ve(n,"*",$y),Ve(n,"@",Al),Ve(n,"`",By),Ve(n,"^",Fy),Ve(n,":",Il),Ve(n,",",xT),Ve(n,"$",Uy),Ve(n,".",Ea),Ve(n,"=",Hy),Ve(n,"!",vT),Ve(n,"-",Ci),Ve(n,"%",Qm),Ve(n,"|",qy),Ve(n,"+",Zy),Ve(n,"#",Wy),Ve(n,"?",ep),Ve(n,'"',yT),Ve(n,"/",Ta),Ve(n,";",bT),Ve(n,"~",tp),Ve(n,"_",Ky),Ve(n,"\\",Vy),Ve(n,"",Pq);const s=Jn(n,So,pT,{[AS]:!0});Jn(s,So,s);const r=Jn(s,No,Oq,{[Ym]:!0}),a=Jn(s,ym,Dq,{[Pm]:!0}),o=Jn(n,No,Co,{[RS]:!0});Jn(o,So,r),Jn(o,No,o),Jn(r,So,r),Jn(r,No,r);const l=Jn(n,ym,PS,{[OS]:!0});Jn(l,No),Jn(l,So,a),Jn(l,ym,l),Jn(a,So,a),Jn(a,No),Jn(a,ym,a);const u=Ve(n,NN,gT,{[wN]:!0}),d=Ve(n,EP,$S,{[wN]:!0}),f=Jn(n,kN,$S,{[wN]:!0});Ve(n,SN,f),Ve(d,NN,u),Ve(d,SN,f),Jn(d,kN,f),Ve(f,EP),Ve(f,NN),Jn(f,kN,f),Ve(f,SN,f);const m=Jn(n,jN,Iq,{[Rq]:!0});Ve(m,"#"),Jn(m,jN,m),Ve(m,w3e,m);const g=Ve(m,j3e);Ve(g,"#"),Jn(g,jN,m);const x=[[No,o],[So,r]],b=[[No,null],[ym,l],[So,a]];for(let w=0;w<L0.length;w++)Nl(n,L0[w],IS,Co,x);for(let w=0;w<$0.length;w++)Nl(n,$0[w],LS,PS,b);cu(IS,{tld:!0,ascii:!0},t),cu(LS,{utld:!0,alpha:!0},t),Nl(n,"file",uv,Co,x),Nl(n,"mailto",uv,Co,x),Nl(n,"http",eh,Co,x),Nl(n,"https",eh,Co,x),Nl(n,"ftp",eh,Co,x),Nl(n,"ftps",eh,Co,x),cu(uv,{scheme:!0,ascii:!0},t),cu(eh,{slashscheme:!0,ascii:!0},t),e=e.sort((w,j)=>w[0]>j[0]?1:-1);for(let w=0;w<e.length;w++){const j=e[w][0],S=e[w][1]?{[x3e]:!0}:{[v3e]:!0};j.indexOf("-")>=0?S[DS]=!0:No.test(j)?So.test(j)?S[Ym]=!0:S[RS]=!0:S[AS]=!0,CP(n,j,j,S)}return CP(n,"localhost",Up,{ascii:!0}),n.jd=new Lr(Gy),{start:n,tokens:Object.assign({groups:t},Lq)}}function $q(e,t){const n=N3e(t.replace(/[A-Z]/g,l=>l.toLowerCase())),s=n.length,r=[];let a=0,o=0;for(;o<s;){let l=e,u=null,d=0,f=null,m=-1,g=-1;for(;o<s&&(u=l.go(n[o]));)l=u,l.accepts()?(m=0,g=0,f=l):m>=0&&(m+=n[o].length,g++),d+=n[o].length,a+=n[o].length,o++;a-=m,o-=g,d-=m,r.push({t:f.t,v:t.slice(a-d,a),s:a-d,e:a})}return r}function N3e(e){const t=[],n=e.length;let s=0;for(;s<n;){let r=e.charCodeAt(s),a,o=r<55296||r>56319||s+1===n||(a=e.charCodeAt(s+1))<56320||a>57343?e[s]:e.slice(s,s+2);t.push(o),s+=o.length}return t}function Nl(e,t,n,s,r){let a;const o=t.length;for(let l=0;l<o-1;l++){const u=t[l];e.j[u]?a=e.j[u]:(a=new Lr(s),a.jr=r.slice(),e.j[u]=a),e=a}return a=new Lr(n),a.jr=r.slice(),e.j[t[o-1]]=a,a}function TP(e){const t=[],n=[];let s=0,r="0123456789";for(;s<e.length;){let a=0;for(;r.indexOf(e[s+a])>=0;)a++;if(a>0){t.push(n.join(""));for(let o=parseInt(e.substring(s,s+a),10);o>0;o--)n.pop();s+=a}else n.push(e[s]),s++}return t}const Hp={defaultProtocol:"http",events:null,format:zP,formatHref:zP,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function wT(e,t=null){let n=Object.assign({},Hp);e&&(n=Object.assign(n,e instanceof wT?e.o:e));const s=n.ignoreTags,r=[];for(let a=0;a<s.length;a++)r.push(s[a].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=r}wT.prototype={o:Hp,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const s=t!=null;let r=this.o[e];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Hp[e],typeof r=="function"&&s&&(r=r(t,n))):typeof r=="function"&&s&&(r=r(t,n.t,n)),r)},getObj(e,t,n){let s=this.o[e];return typeof s=="function"&&t!=null&&(s=s(t,n.t,n)),s},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function zP(e){return e}function Vq(e,t){this.t="token",this.v=e,this.tk=t}Vq.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),s=e.get("format",t,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Hp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),s=e.get("formatHref",n,this),r=e.get("tagName",n,t),a=this.toFormattedString(e),o={},l=e.get("className",n,t),u=e.get("target",n,t),d=e.get("rel",n,t),f=e.getObj("attributes",n,t),m=e.getObj("events",n,t);return o.href=s,l&&(o.class=l),u&&(o.target=u),d&&(o.rel=d),f&&Object.assign(o,f),{tagName:r,attributes:o,content:a,eventListeners:m}}};function b1(e,t){class n extends Vq{constructor(r,a){super(r,a),this.t=e}}for(const s in t)n.prototype[s]=t[s];return n.t=e,n}const MP=b1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),AP=b1("text"),S3e=b1("nl"),V0=b1("url",{isLink:!0,toHref(e=Hp.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Up&&e[1].t===Il}}),Si=e=>new Lr(e);function _3e({groups:e}){const t=e.domain.concat([Iy,$y,Al,Vy,By,Fy,Uy,Hy,Ci,pT,Qm,qy,Zy,Wy,Ta,Gy,tp,Ky]),n=[Ly,Il,xT,Ea,vT,Qm,ep,yT,bT,Cy,Ey,Jm,Xm,Ny,ky,Sy,_y,Ty,zy,My,Ay,Ry,Oy,Dy,Py],s=[Iy,Ly,$y,Vy,By,Fy,Uy,Hy,Ci,Jm,Xm,Qm,qy,Zy,Wy,ep,Ta,Gy,tp,Ky],r=Si(),a=Ve(r,tp);Lt(a,s,a),Lt(a,e.domain,a);const o=Si(),l=Si(),u=Si();Lt(r,e.domain,o),Lt(r,e.scheme,l),Lt(r,e.slashscheme,u),Lt(o,s,a),Lt(o,e.domain,o);const d=Ve(o,Al);Ve(a,Al,d),Ve(l,Al,d),Ve(u,Al,d);const f=Ve(a,Ea);Lt(f,s,a),Lt(f,e.domain,a);const m=Si();Lt(d,e.domain,m),Lt(m,e.domain,m);const g=Ve(m,Ea);Lt(g,e.domain,m);const x=Si(MP);Lt(g,e.tld,x),Lt(g,e.utld,x),Ve(d,Up,x);const b=Ve(m,Ci);Ve(b,Ci,b),Lt(b,e.domain,m),Lt(x,e.domain,m),Ve(x,Ea,g),Ve(x,Ci,b);const w=Ve(x,Il);Lt(w,e.numeric,MP);const j=Ve(o,Ci),k=Ve(o,Ea);Ve(j,Ci,j),Lt(j,e.domain,o),Lt(k,s,a),Lt(k,e.domain,o);const S=Si(V0);Lt(k,e.tld,S),Lt(k,e.utld,S),Lt(S,e.domain,o),Lt(S,s,a),Ve(S,Ea,k),Ve(S,Ci,j),Ve(S,Al,d);const C=Ve(S,Il),E=Si(V0);Lt(C,e.numeric,E);const T=Si(V0),M=Si();Lt(T,t,T),Lt(T,n,M),Lt(M,t,T),Lt(M,n,M),Ve(S,Ta,T),Ve(E,Ta,T);const z=Ve(l,Il),A=Ve(u,Il),D=Ve(A,Ta),B=Ve(D,Ta);Lt(l,e.domain,o),Ve(l,Ea,k),Ve(l,Ci,j),Lt(u,e.domain,o),Ve(u,Ea,k),Ve(u,Ci,j),Lt(z,e.domain,T),Ve(z,Ta,T),Ve(z,ep,T),Lt(B,e.domain,T),Lt(B,t,T),Ve(B,Ta,T);const $=[[Jm,Xm],[ky,Ny],[Sy,_y],[Cy,Ey],[Ty,zy],[My,Ay],[Ry,Oy],[Dy,Py]];for(let q=0;q<$.length;q++){const[Z,F]=$[q],J=Ve(T,Z);Ve(M,Z,J),Ve(J,F,T);const P=Si(V0);Lt(J,t,P);const I=Si();Lt(J,n),Lt(P,t,P),Lt(P,n,I),Lt(I,t,P),Lt(I,n,I),Ve(P,F,T),Ve(I,F,T)}return Ve(r,Up,S),Ve(r,gT,S3e),{start:r,tokens:Lq}}function C3e(e,t,n){let s=n.length,r=0,a=[],o=[];for(;r<s;){let l=e,u=null,d=null,f=0,m=null,g=-1;for(;r<s&&!(u=l.go(n[r].t));)o.push(n[r++]);for(;r<s&&(d=u||l.go(n[r].t));)u=null,l=d,l.accepts()?(g=0,m=l):g>=0&&g++,r++,f++;if(g<0)r-=f,r<s&&(o.push(n[r]),r++);else{o.length>0&&(a.push(_N(AP,t,o)),o=[]),r-=g,f-=g;const x=m.t,b=n.slice(r-f,r);a.push(_N(x,t,b))}}return o.length>0&&a.push(_N(AP,t,o)),a}function _N(e,t,n){const s=n[0].s,r=n[n.length-1].e,a=t.slice(s,r);return new e(a,n)}const E3e=typeof console<"u"&&console&&console.warn||(()=>{}),T3e="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Rn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function z3e(){return Lr.groups={},Rn.scanner=null,Rn.parser=null,Rn.tokenQueue=[],Rn.pluginQueue=[],Rn.customSchemes=[],Rn.initialized=!1,Rn}function RP(e,t=!1){if(Rn.initialized&&E3e(`linkifyjs: already initialized - will not register custom scheme "${e}" ${T3e}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Rn.customSchemes.push([e,t])}function M3e(){Rn.scanner=k3e(Rn.customSchemes);for(let e=0;e<Rn.tokenQueue.length;e++)Rn.tokenQueue[e][1]({scanner:Rn.scanner});Rn.parser=_3e(Rn.scanner.tokens);for(let e=0;e<Rn.pluginQueue.length;e++)Rn.pluginQueue[e][1]({scanner:Rn.scanner,parser:Rn.parser});return Rn.initialized=!0,Rn}function jT(e){return Rn.initialized||M3e(),C3e(Rn.parser.start,e,$q(Rn.scanner.start,e))}jT.scan=$q;function Bq(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const s=new wT(n),r=jT(e),a=[];for(let o=0;o<r.length;o++){const l=r[o];l.isLink&&(!t||l.t===t)&&s.check(l)&&a.push(l.toFormattedObject(s))}return a}var kT="[\0- -\u2029]",A3e=new RegExp(kT),R3e=new RegExp(`${kT}$`),O3e=new RegExp(kT,"g");function D3e(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function P3e(e){return new Wn({key:new Os("autolink"),appendTransaction:(t,n,s)=>{const r=t.some(d=>d.docChanged)&&!n.doc.eq(s.doc),a=t.some(d=>d.getMeta("preventAutolink"));if(!r||a)return;const{tr:o}=s,l=eq(n.doc,[...t]);if(oq(l).forEach(({newRange:d})=>{const f=Dze(s.doc,d,x=>x.isTextblock);let m,g;if(f.length>1)m=f[0],g=s.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(f.length){const x=s.doc.textBetween(d.from,d.to," "," ");if(!R3e.test(x))return;m=f[0],g=s.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&g){const x=g.split(A3e).filter(Boolean);if(x.length<=0)return!1;const b=x[x.length-1],w=m.pos+g.lastIndexOf(b);if(!b)return!1;const j=jT(b).map(k=>k.toObject(e.defaultProtocol));if(!D3e(j))return!1;j.filter(k=>k.isLink).map(k=>({...k,from:w+k.start+1,to:w+k.end+1})).filter(k=>s.schema.marks.code?!s.doc.rangeHasMark(k.from,k.to,s.schema.marks.code):!0).filter(k=>e.validate(k.value)).filter(k=>e.shouldAutoLink(k.value)).forEach(k=>{cT(k.from,k.to,s.doc).some(S=>S.mark.type===e.type)||o.addMark(k.from,k.to,e.type.create({href:k.href}))})}}),!!o.steps.length)return o}})}function I3e(e){return new Wn({key:new Os("handleClickLink"),props:{handleClick:(t,n,s)=>{var r,a;if(s.button!==0||!t.editable)return!1;let o=null;if(s.target instanceof HTMLAnchorElement)o=s.target;else{const u=s.target;if(!u)return!1;const d=e.editor.view.dom;o=u.closest("a"),o&&!d.contains(o)&&(o=null)}if(!o)return!1;let l=!1;if(e.enableClickSelection&&(l=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){const u=aq(t.state,e.type.name),d=(r=o.href)!=null?r:u.href,f=(a=o.target)!=null?a:u.target;d&&(window.open(d,f),l=!0)}return l}}})}function L3e(e){return new Wn({key:new Os("handlePasteLink"),props:{handlePaste:(t,n,s)=>{const{shouldAutoLink:r}=e,{state:a}=t,{selection:o}=a,{empty:l}=o;if(l)return!1;let u="";s.content.forEach(f=>{u+=f.textContent});const d=Bq(u,{defaultProtocol:e.defaultProtocol}).find(f=>f.isLink&&f.value===u);return!u||!d||r!==void 0&&!r(d.value)?!1:e.editor.commands.setMark(e.type,{href:d.href})}}})}function Fc(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(s=>{const r=typeof s=="string"?s:s.scheme;r&&n.push(r)}),!e||e.replace(O3e,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var Fq=xc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){RP(e);return}RP(e.scheme,e.optionalSlashes)})},onDestroy(){z3e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Fc(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),n=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||n&&!e.includes("@"))return!0;const r=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(r)||!/\./.test(r))}}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Fc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Fc(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ns(this.options.HTMLAttributes,e),0]:["a",ns(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n,s,r,a;const o=(s=(n=e.attrs)==null?void 0:n.href)!=null?s:"",l=(a=(r=e.attrs)==null?void 0:r.title)!=null?a:"",u=t.renderChildren(e);return l?`[${u}](${o} "${l}")`:`[${u}](${o})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:s=>!!Fc(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:s=>!!Fc(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ou({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:s}=this.options,r=Bq(e).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:o=>!!Fc(o,n),protocols:n,defaultProtocol:s}));r.length&&r.forEach(a=>{this.options.shouldAutoLink(a.value)&&t.push({text:a.value,data:{href:a.href},index:a.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(P3e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:r=>!!Fc(r,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),e.push(I3e({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(L3e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),$3e=Fq,V3e=Object.defineProperty,B3e=(e,t)=>{for(var n in t)V3e(e,n,{get:t[n],enumerable:!0})},F3e="listItem",OP="textStyle",DP=/^\s*([-+*])\s$/,Uq=qr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",ns(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(F3e,this.editor.getAttributes(OP)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Bh({find:DP,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Bh({find:DP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(OP),editor:this.editor})),[e]}}),Hq=qr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",ns(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(r=>r.type==="paragraph"))n=t.parseChildren(e.tokens);else{const r=e.tokens[0];if(r&&r.type==="text"&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(r.tokens)}],e.tokens.length>1){const o=e.tokens.slice(1),l=t.parseChildren(o);n.push(...l)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>fT(e,t,s=>{var r,a;return s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${(((a=(r=s.meta)==null?void 0:r.parentAttrs)==null?void 0:a.start)||1)+s.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),U3e={};B3e(U3e,{findListItemPos:()=>Rg,getNextListDepth:()=>NT,handleBackspace:()=>VS,handleDelete:()=>BS,hasListBefore:()=>qq,hasListItemAfter:()=>H3e,hasListItemBefore:()=>Zq,listItemHasSubList:()=>Wq,nextListIsDeeper:()=>Kq,nextListIsHigher:()=>Gq});var Rg=(e,t)=>{const{$from:n}=t.selection,s=Ss(e,t.schema);let r=null,a=n.depth,o=n.pos,l=null;for(;a>0&&l===null;)r=n.node(a),r.type===s?l=a:(a-=1,o-=1);return l===null?null:{$pos:t.doc.resolve(o),depth:l}},NT=(e,t)=>{const n=Rg(e,t);if(!n)return!1;const[,s]=qze(t,e,n.$pos.pos+4);return s},qq=(e,t,n)=>{const{$anchor:s}=e.selection,r=Math.max(0,s.pos-2),a=e.doc.resolve(r).node();return!(!a||!n.includes(a.type.name))},Zq=(e,t)=>{var n;const{$anchor:s}=t.selection,r=t.doc.resolve(s.pos-2);return!(r.index()===0||((n=r.nodeBefore)==null?void 0:n.type.name)!==e)},Wq=(e,t,n)=>{if(!n)return!1;const s=Ss(e,t.schema);let r=!1;return n.descendants(a=>{a.type===s&&(r=!0)}),r},VS=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!ac(e.state,t)&&qq(e.state,t,n)){const{$anchor:l}=e.state.selection,u=e.state.doc.resolve(l.before()-1),d=[];u.node().descendants((g,x)=>{g.type.name===t&&d.push({node:g,pos:x})});const f=d.at(-1);if(!f)return!1;const m=e.state.doc.resolve(u.start()+f.pos+1);return e.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!ac(e.state,t)||!Gze(e.state))return!1;const s=Rg(t,e.state);if(!s)return!1;const a=e.state.doc.resolve(s.$pos.pos-2).node(s.depth),o=Wq(t,e.state,a);return Zq(t,e.state)&&!o?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},Kq=(e,t)=>{const n=NT(e,t),s=Rg(e,t);return!s||!n?!1:n>s.depth},Gq=(e,t)=>{const n=NT(e,t),s=Rg(e,t);return!s||!n?!1:n<s.depth},BS=(e,t)=>{if(!ac(e.state,t)||!Kze(e.state,t))return!1;const{selection:n}=e.state,{$from:s,$to:r}=n;return!n.empty&&s.sameParent(r)?!1:Kq(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():Gq(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},H3e=(e,t)=>{var n;const{$anchor:s}=t.selection,r=t.doc.resolve(s.pos-s.parentOffset-2);return!(r.index()===r.parent.childCount-1||((n=r.nodeAfter)==null?void 0:n.type.name)!==e)},Yq=En.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&BS(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&BS(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{e.state.schema.nodes[n]!==void 0&&VS(e,n,s)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{e.state.schema.nodes[n]!==void 0&&VS(e,n,s)&&(t=!0)}),t}}}}),PP=/^(\s*)(\d+)\.\s+(.*)$/,q3e=/^\s/;function Z3e(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n],a=r.match(PP);if(!a)break;const[,o,l,u]=a,d=o.length;let f=u,m=n+1;const g=[r];for(;m<e.length;){const x=e[m];if(x.match(PP))break;if(x.trim()==="")g.push(x),f+=`
`,m+=1;else if(x.match(q3e))g.push(x),f+=`
${x.slice(d+2)}`,m+=1;else break}t.push({indent:d,number:parseInt(l,10),content:f.trim(),raw:g.join(`
`)}),s=m,n=m}return[t,s]}function Jq(e,t,n){var s;const r=[];let a=0;for(;a<e.length;){const o=e[a];if(o.indent===t){const l=o.content.split(`
`),u=((s=l[0])==null?void 0:s.trim())||"",d=[];u&&d.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const f=l.slice(1).join(`
`).trim();if(f){const x=n.blockTokens(f);d.push(...x)}let m=a+1;const g=[];for(;m<e.length&&e[m].indent>t;)g.push(e[m]),m+=1;if(g.length>0){const x=Math.min(...g.map(w=>w.indent)),b=Jq(g,x,n);d.push({type:"list",ordered:!0,start:g[0].number,items:b,raw:g.map(w=>w.raw).join(`
`)})}r.push({type:"list_item",raw:o.raw,tokens:d}),a=m}else a+=1}return r}function W3e(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const s=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(r=>{if(r.type==="paragraph"||r.type==="list"||r.type==="blockquote"||r.type==="code")s.push(...t.parseChildren([r]));else if(r.type==="text"&&r.tokens){const a=t.parseChildren([r]);s.push({type:"paragraph",content:a})}else{const a=t.parseChildren([r]);a.length>0&&s.push(...a)}}),{type:"listItem",content:s}})}var K3e="listItem",IP="textStyle",LP=/^(\d+)\.\s$/,Xq=qr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",ns(this.options.HTMLAttributes,n),0]:["ol",ns(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,s=e.items?W3e(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:s}:{type:"orderedList",content:s}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t==null?void 0:t.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var s;const r=e.split(`
`),[a,o]=Z3e(r);if(a.length===0)return;const l=Jq(a,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((s=a[0])==null?void 0:s.number)||1,items:l,raw:r.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(K3e,this.editor.getAttributes(IP)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Bh({find:LP,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Bh({find:LP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(IP)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),G3e=/^\s*(\[([( |x])?\])\s$/,Y3e=qr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",ns(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const s=t.parseChildren(e.nestedTokens);n.push(...s)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const r=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return fT(e,t,r)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:s})=>{const r=document.createElement("li"),a=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),d=m=>{var g,x;l.ariaLabel=((x=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:x.call(g,m,l.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};d(e),a.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",m=>m.preventDefault()),l.addEventListener("change",m=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:g}=m.target;s.isEditable&&typeof n=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const b=n();if(typeof b!="number")return!1;const w=x.doc.nodeAt(b);return x.setNodeMarkup(b,void 0,{...w==null?void 0:w.attrs,checked:g}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,g)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{r.setAttribute(m,g)}),r.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,a.append(l,o),r.append(a,u),Object.entries(t).forEach(([m,g])=>{r.setAttribute(m,g)});let f=new Set(Object.keys(t));return{dom:r,contentDOM:u,update:m=>{if(m.type!==this.type)return!1;r.dataset.checked=m.attrs.checked,l.checked=m.attrs.checked,d(m);const g=s.extensionManager.attributes,x=Fp(m,g),b=new Set(Object.keys(x)),w=this.options.HTMLAttributes;return f.forEach(j=>{b.has(j)||(j in w?r.setAttribute(j,w[j]):r.removeAttribute(j))}),Object.entries(x).forEach(([j,k])=>{k==null?j in w?r.setAttribute(j,w[j]):r.removeAttribute(j):r.setAttribute(j,k)}),f=b,!0}}}},addInputRules(){return[Bh({find:G3e,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),J3e=qr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",ns(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const s=a=>{const o=zS(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,u)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:u}),customNestedParser:s},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(a)},r=zS(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,o)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:o}),customNestedParser:s},n);if(r)return{type:"taskList",raw:r.raw,items:r.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});En.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(Uq.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(Hq.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(Yq.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(Xq.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(Y3e.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(J3e.configure(this.options.taskList)),e}});var $P="&nbsp;",X3e="",Q3e=qr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",ns(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];if(n.length===1&&n[0].type==="image")return t.parseChildren([n[0]]);const s=t.parseInline(n);return s.length===1&&s[0].type==="text"&&(s[0].text===$P||s[0].text===X3e)?t.createNode("paragraph",void 0,[]):t.createNode("paragraph",void 0,s)},renderMarkdown:(e,t)=>{if(!e)return"";const n=Array.isArray(e.content)?e.content:[];return n.length===0?$P:t.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eRe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,tRe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,nRe=xc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",ns(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Vh({find:eRe,type:this.type})]},addPasteRules(){return[Ou({find:tRe,type:this.type})]}}),sRe=qr.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),Qq=xc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",ns(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!r)return;const a=r[2].trim();return{type:"underline",raw:r[0],text:a,tokens:n.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),rRe=Qq;function iRe(e={}){return new Wn({view(t){return new aRe(t,e)}})}class aRe{constructor(t,n){var s;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let a=o=>{this[r](o)};return t.dom.addEventListener(r,a),{name:r,handler:a}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,s,r=this.editorView.dom,a=r.getBoundingClientRect(),o=a.width/r.offsetWidth,l=a.height/r.offsetHeight;if(n){let m=t.nodeBefore,g=t.nodeAfter;if(m||g){let x=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(x){let b=x.getBoundingClientRect(),w=m?b.bottom:b.top;m&&g&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let j=this.width/2*l;s={left:b.left,right:b.right,top:w-j,bottom:w+j}}}}if(!s){let m=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*o;s={left:m.left-g,right:m.left+g,top:m.top,bottom:m.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,f;if(!u||u==document.body&&getComputedStyle(u).position=="static")d=-pageXOffset,f=-pageYOffset;else{let m=u.getBoundingClientRect(),g=m.width/u.offsetWidth,x=m.height/u.offsetHeight;d=m.left-u.scrollLeft*g,f=m.top-u.scrollTop*x}this.element.style.left=(s.left-d)/o+"px",this.element.style.top=(s.top-f)/l+"px",this.element.style.width=(s.right-s.left)/o+"px",this.element.style.height=(s.bottom-s.top)/l+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=s&&s.type.spec.disableDropCursor,a=typeof r=="function"?r(this.editorView,n,t):r;if(n&&!a){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=qU(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class ts extends $t{constructor(t){super(t,t)}map(t,n){let s=t.resolve(n.map(this.head));return ts.valid(s)?new ts(s):$t.near(s)}content(){return Ke.empty}eq(t){return t instanceof ts&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new ts(t.resolve(n.pos))}getBookmark(){return new ST(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!oRe(t)||!lRe(t))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let r=n.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,n,s=!1){e:for(;;){if(!s&&ts.valid(t))return t;let r=t.pos,a=null;for(let o=t.depth;;o--){let l=t.node(o);if(n>0?t.indexAfter(o)<l.childCount:t.index(o)>0){a=l.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;r+=n;let u=t.doc.resolve(r);if(ts.valid(u))return u}for(;;){let o=n>0?a.firstChild:a.lastChild;if(!o){if(a.isAtom&&!a.isText&&!pt.isSelectable(a)){t=t.doc.resolve(r+a.nodeSize*n),s=!1;continue e}break}a=o,r+=n;let l=t.doc.resolve(r);if(ts.valid(l))return l}return null}}}ts.prototype.visible=!1;ts.findFrom=ts.findGapCursorFrom;$t.jsonID("gapcursor",ts);class ST{constructor(t){this.pos=t}map(t){return new ST(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return ts.valid(n)?new ts(n):$t.near(n)}}function eZ(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function oRe(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),s=e.node(t);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||eZ(r.type))return!0;if(r.inlineContent)return!1}}return!0}function lRe(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),s=e.node(t);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||eZ(r.type))return!0;if(r.inlineContent)return!1}}return!0}function cRe(){return new Wn({props:{decorations:fRe,createSelectionBetween(e,t,n){return t.pos==n.pos&&ts.valid(n)?new ts(n):null},handleClick:dRe,handleKeyDown:uRe,handleDOMEvents:{beforeinput:hRe}}})}const uRe=ZH({ArrowLeft:B0("horiz",-1),ArrowRight:B0("horiz",1),ArrowUp:B0("vert",-1),ArrowDown:B0("vert",1)});function B0(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(s,r,a){let o=s.selection,l=t>0?o.$to:o.$from,u=o.empty;if(o instanceof _t){if(!a.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=s.doc.resolve(t>0?l.after():l.before())}let d=ts.findGapCursorFrom(l,t,u);return d?(r&&r(s.tr.setSelection(new ts(d))),!0):!1}}function dRe(e,t,n){if(!e||!e.editable)return!1;let s=e.state.doc.resolve(t);if(!ts.valid(s))return!1;let r=e.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&pt.isSelectable(e.state.doc.nodeAt(r.inside))?!1:(e.dispatch(e.state.tr.setSelection(new ts(s))),!0)}function hRe(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof ts))return!1;let{$from:n}=e.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!s)return!1;let r=Pe.empty;for(let o=s.length-1;o>=0;o--)r=Pe.from(s[o].createAndFill(null,r));let a=e.state.tr.replace(n.pos,n.pos,new Ke(r,0,0));return a.setSelection(_t.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function fRe(e){if(!(e.selection instanceof ts))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Un.create(e.doc,[kr.widget(e.selection.head,t,{key:"gapcursor"})])}var Yy=200,Hs=function(){};Hs.prototype.append=function(t){return t.length?(t=Hs.from(t),!this.length&&t||t.length<Yy&&this.leafAppend(t)||this.length<Yy&&t.leafPrepend(this)||this.appendInner(t)):this};Hs.prototype.prepend=function(t){return t.length?Hs.from(t).append(this):this};Hs.prototype.appendInner=function(t){return new mRe(this,t)};Hs.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Hs.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Hs.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Hs.prototype.forEach=function(t,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(t,n,s,0):this.forEachInvertedInner(t,n,s,0)};Hs.prototype.map=function(t,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var r=[];return this.forEach(function(a,o){return r.push(t(a,o))},n,s),r};Hs.from=function(t){return t instanceof Hs?t:t&&t.length?new tZ(t):Hs.empty};var tZ=(function(e){function t(s){e.call(this),this.values=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,a){return r==0&&a==this.length?this:new t(this.values.slice(r,a))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,a,o,l){for(var u=a;u<o;u++)if(r(this.values[u],l+u)===!1)return!1},t.prototype.forEachInvertedInner=function(r,a,o,l){for(var u=a-1;u>=o;u--)if(r(this.values[u],l+u)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Yy)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Yy)return new t(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(Hs);Hs.empty=new tZ([]);var mRe=(function(e){function t(n,s){e.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},t.prototype.forEachInner=function(s,r,a,o){var l=this.left.length;if(r<l&&this.left.forEachInner(s,r,Math.min(a,l),o)===!1||a>l&&this.right.forEachInner(s,Math.max(r-l,0),Math.min(this.length,a)-l,o+l)===!1)return!1},t.prototype.forEachInvertedInner=function(s,r,a,o){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(s,r-l,Math.max(a,l)-l,o+l)===!1||a<l&&this.left.forEachInvertedInner(s,Math.min(r,l),a,o)===!1)return!1},t.prototype.sliceInner=function(s,r){if(s==0&&r==this.length)return this;var a=this.left.length;return r<=a?this.left.slice(s,r):s>=a?this.right.slice(s-a,r-a):this.left.slice(s,a).append(this.right.slice(0,r-a))},t.prototype.leafAppend=function(s){var r=this.right.leafAppend(s);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(s){var r=this.left.leafPrepend(s);if(r)return new t(r,this.right)},t.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new t(this.left,new t(this.right,s)):new t(this,s)},t})(Hs);const pRe=500;class ra{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let r,a;n&&(r=this.remapping(s,this.items.length),a=r.maps.length);let o=t.tr,l,u,d=[],f=[];return this.items.forEach((m,g)=>{if(!m.step){r||(r=this.remapping(s,g+1),a=r.maps.length),a--,f.push(m);return}if(r){f.push(new za(m.map));let x=m.step.map(r.slice(a)),b;x&&o.maybeStep(x).doc&&(b=o.mapping.maps[o.mapping.maps.length-1],d.push(new za(b,void 0,void 0,d.length+f.length))),a--,b&&r.appendMap(b,a)}else o.maybeStep(m.step);if(m.selection)return l=r?m.selection.map(r.slice(a)):m.selection,u=new ra(this.items.slice(0,s).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:o,selection:l}}addTransform(t,n,s,r){let a=[],o=this.eventCount,l=this.items,u=!r&&l.length?l.get(l.length-1):null;for(let f=0;f<t.steps.length;f++){let m=t.steps[f].invert(t.docs[f]),g=new za(t.mapping.maps[f],m,n),x;(x=u&&u.merge(g))&&(g=x,f?a.pop():l=l.slice(0,l.length-1)),a.push(g),n&&(o++,n=void 0),r||(u=g)}let d=o-s.depth;return d>xRe&&(l=gRe(l,d),o-=d),new ra(l.append(a),o)}remapping(t,n){let s=new Pp;return this.items.forEach((r,a)=>{let o=r.mirrorOffset!=null&&a-r.mirrorOffset>=t?s.maps.length-r.mirrorOffset:void 0;s.appendMap(r.map,o)},t,n),s}addMaps(t){return this.eventCount==0?this:new ra(this.items.append(t.map(n=>new za(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let s=[],r=Math.max(0,this.items.length-n),a=t.mapping,o=t.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},r);let u=n;this.items.forEach(g=>{let x=a.getMirror(--u);if(x==null)return;o=Math.min(o,x);let b=a.maps[x];if(g.step){let w=t.steps[x].invert(t.docs[x]),j=g.selection&&g.selection.map(a.slice(u+1,x));j&&l++,s.push(new za(b,w,j))}else s.push(new za(b))},r);let d=[];for(let g=n;g<o;g++)d.push(new za(a.maps[g]));let f=this.items.slice(0,r).append(d).append(s),m=new ra(f,l);return m.emptyItemCount()>pRe&&(m=m.compress(this.items.length-s.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),s=n.maps.length,r=[],a=0;return this.items.forEach((o,l)=>{if(l>=t)r.push(o),o.selection&&a++;else if(o.step){let u=o.step.map(n.slice(s)),d=u&&u.getMap();if(s--,d&&n.appendMap(d,s),u){let f=o.selection&&o.selection.map(n.slice(s));f&&a++;let m=new za(d.invert(),u,f),g,x=r.length-1;(g=r.length&&r[x].merge(m))?r[x]=g:r.push(m)}}else o.map&&s--},this.items.length,0),new ra(Hs.from(r.reverse()),a)}}ra.empty=new ra(Hs.empty,0);function gRe(e,t){let n;return e.forEach((s,r)=>{if(s.selection&&t--==0)return n=r,!1}),e.slice(n)}class za{constructor(t,n,s,r){this.map=t,this.step=n,this.selection=s,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new za(n.getMap().invert(),n,this.selection)}}}class Rl{constructor(t,n,s,r,a){this.done=t,this.undone=n,this.prevRanges=s,this.prevTime=r,this.prevComposition=a}}const xRe=20;function vRe(e,t,n,s){let r=n.getMeta(bu),a;if(r)return r.historyState;n.getMeta(wRe)&&(e=new Rl(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(bu))return o.getMeta(bu).redo?new Rl(e.done.addTransform(n,void 0,s,dv(t)),e.undone,VP(n.mapping.maps),e.prevTime,e.prevComposition):new Rl(e.done,e.undone.addTransform(n,void 0,s,dv(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=e.prevTime==0||!o&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-s.newGroupDelay||!yRe(n,e.prevRanges)),d=o?CN(e.prevRanges,n.mapping):VP(n.mapping.maps);return new Rl(e.done.addTransform(n,u?t.selection.getBookmark():void 0,s,dv(t)),ra.empty,d,n.time,l??e.prevComposition)}else return(a=n.getMeta("rebased"))?new Rl(e.done.rebased(n,a),e.undone.rebased(n,a),CN(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Rl(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),CN(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function yRe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((s,r)=>{for(let a=0;a<t.length;a+=2)s<=t[a+1]&&r>=t[a]&&(n=!0)}),n}function VP(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((s,r,a,o)=>t.push(a,o));return t}function CN(e,t){if(!e)return null;let n=[];for(let s=0;s<e.length;s+=2){let r=t.map(e[s],1),a=t.map(e[s+1],-1);r<=a&&n.push(r,a)}return n}function bRe(e,t,n){let s=dv(t),r=bu.get(t).spec.config,a=(n?e.undone:e.done).popEvent(t,s);if(!a)return null;let o=a.selection.resolve(a.transform.doc),l=(n?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),r,s),u=new Rl(n?l:a.remaining,n?a.remaining:l,null,0,-1);return a.transform.setSelection(o).setMeta(bu,{redo:n,historyState:u})}let EN=!1,BP=null;function dv(e){let t=e.plugins;if(BP!=t){EN=!1,BP=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){EN=!0;break}}return EN}const bu=new Os("history"),wRe=new Os("closeHistory");function jRe(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Wn({key:bu,state:{init(){return new Rl(ra.empty,ra.empty,null,0,-1)},apply(t,n,s){return vRe(n,s,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let s=n.inputType,r=s=="historyUndo"?sZ:s=="historyRedo"?rZ:null;return!r||!t.editable?!1:(n.preventDefault(),r(t.state,t.dispatch))}}}})}function nZ(e,t){return(n,s)=>{let r=bu.getState(n);if(!r||(e?r.undone:r.done).eventCount==0)return!1;if(s){let a=bRe(r,n,e);a&&s(t?a.scrollIntoView():a)}return!0}}const sZ=nZ(!1,!0),rZ=nZ(!0,!0);En.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const s=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(s)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Wn({key:new Os("characterCount"),appendTransaction:(t,n,s)=>{if(e)return;const r=this.options.limit;if(r==null||r===0){e=!0;return}const a=this.storage.characters({node:s.doc});if(a>r){const o=a-r,l=0,u=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const d=s.tr.deleteRange(l,u);return e=!0,d}e=!0},filterTransaction:(t,n)=>{const s=this.options.limit;if(!t.docChanged||s===0||s===null||s===void 0)return!0;const r=this.storage.characters({node:n.doc}),a=this.storage.characters({node:t.doc});if(a<=s||r>s&&a>s&&a<=r)return!0;if(r>s&&a>s&&a>r||!t.getMeta("paste"))return!1;const l=t.selection.$head.pos,u=a-s,d=l-u,f=l;return t.deleteRange(d,f),!(this.storage.characters({node:t.doc})>s)}})]}});var kRe=En.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[iRe(this.options)]}});En.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Wn({key:new Os("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:s}=this.editor,{anchor:r}=t,a=[];if(!n||!s)return Un.create(e,[]);let o=0;this.options.mode==="deepest"&&e.descendants((u,d)=>{if(u.isText)return;if(!(r>=d&&r<=d+u.nodeSize-1))return!1;o+=1});let l=0;return e.descendants((u,d)=>{if(u.isText||!(r>=d&&r<=d+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";a.push(kr.node(d,d+u.nodeSize,{class:this.options.className}))}),Un.create(e,a)}}})]}});var NRe=En.create({name:"gapCursor",addProseMirrorPlugins(){return[cRe()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=hn(dt(e,"allowGapCursor",n)))!=null?t:null}}}),FP="placeholder";function SRe(e){return e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}En.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:FP,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const e=this.options.dataAttribute?`data-${SRe(this.options.dataAttribute)}`:`data-${FP}`;return[new Wn({key:new Os("placeholder"),props:{decorations:({doc:t,selection:n})=>{const s=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=n,a=[];if(!s)return null;const o=this.editor.isEmpty;return t.descendants((l,u)=>{const d=r>=u&&r<=u+l.nodeSize,f=!l.isLeaf&&x1(l);if((d||!this.options.showOnlyCurrent)&&f){const m=[this.options.emptyNodeClass];o&&m.push(this.options.emptyEditorClass);const g=kr.node(u,u+l.nodeSize,{class:m.join(" "),[e]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:u,hasAnchor:d}):this.options.placeholder});a.push(g)}return this.options.includeChildren}),Un.create(t,a)}}})]}});En.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Wn({key:new Os("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||lq(n.selection)||e.view.dragging?null:Un.create(n.doc,[kr.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function UP({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var _Re=En.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Os(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(n).includes(r.name));return[new Wn({key:t,appendTransaction:(r,a,o)=>{const{doc:l,tr:u,schema:d}=o,f=t.getState(o),m=l.content.size,g=d.nodes[n];if(f)return u.insert(m,g.create())},state:{init:(r,a)=>{const o=a.tr.doc.lastChild;return!UP({node:o,types:s})},apply:(r,a)=>{if(!r.docChanged||r.getMeta("__uniqueIDTransaction"))return a;const o=r.doc.lastChild;return!UP({node:o,types:s})}}})]}}),CRe=En.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>sZ(e,t),redo:()=>({state:e,dispatch:t})=>rZ(e,t)}},addProseMirrorPlugins(){return[jRe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),ERe=En.create({name:"starterKit",addExtensions(){var e,t,n,s;const r=[];return this.options.bold!==!1&&r.push(QAe.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(KAe.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(Uq.configure(this.options.bulletList)),this.options.code!==!1&&r.push(n3e.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(i3e.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(a3e.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(kRe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(NRe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(o3e.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(l3e.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(CRe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(c3e.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(m3e.configure(this.options.italic)),this.options.listItem!==!1&&r.push(Hq.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(Yq.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&r.push(Fq.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&r.push(Xq.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(Q3e.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(nRe.configure(this.options.strike)),this.options.text!==!1&&r.push(sRe.configure(this.options.text)),this.options.underline!==!1&&r.push(Qq.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(_Re.configure((s=this.options)==null?void 0:s.trailingNode)),r}}),TRe=ERe,zRe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,MRe=qr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",ns(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,s,r,a,o;const l=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",u=(r=(s=e.attrs)==null?void 0:s.alt)!=null?r:"",d=(o=(a=e.attrs)==null?void 0:a.title)!=null?o:"";return d?`![${u}](${l} "${d}")`:`![${u}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:s}=this.options.resize;return({node:r,getPos:a,HTMLAttributes:o,editor:l})=>{const u=document.createElement("img");Object.entries(o).forEach(([m,g])=>{if(g!=null)switch(m){case"width":case"height":break;default:u.setAttribute(m,g);break}}),u.src=o.src;const d=new DMe({element:u,editor:l,node:r,getPos:a,onResize:(m,g)=>{u.style.width=`${m}px`,u.style.height=`${g}px`},onCommit:(m,g)=>{const x=a();x!==void 0&&this.editor.chain().setNodeSelection(x).updateAttributes(this.name,{width:m,height:g}).run()},onUpdate:(m,g,x)=>m.type===r.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:s===!0}}),f=d.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",u.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},d}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[Sq({find:zRe,type:this.type,getAttributes:e=>{const[,,t,n,s]=e;return{src:n,alt:t,title:s}}})]}}),ARe=MRe,RRe=20,iZ=(e,t=0)=>{const n=[];return!e.children.length||t>RRe||Array.from(e.children).forEach(s=>{s.tagName==="SPAN"?n.push(s):s.children.length&&n.push(...iZ(s,t+1))}),n},ORe=e=>{if(!e.children.length)return;const t=iZ(e);t&&t.forEach(n=>{var s,r;const a=n.getAttribute("style"),o=(r=(s=n.parentElement)==null?void 0:s.closest("span"))==null?void 0:r.getAttribute("style");n.setAttribute("style",`${o};${a}`)})},aZ=xc.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&ORe(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",ns(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,s)=>{if(n.isTextblock)return!0;n.marks.filter(r=>r.type===this.type).some(r=>Object.values(r.attrs).some(a=>!!a))||e.removeMark(s,s+n.nodeSize,this.type)}),!0}}}}),DRe=En.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const s=n.split(";").map(r=>r.trim()).filter(Boolean);for(let r=s.length-1;r>=0;r-=1){const a=s[r].split(":");if(a.length>=2){const o=a[0].trim().toLowerCase(),l=a.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),oZ=En.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const s=n.split(";").map(r=>r.trim()).filter(Boolean);for(let r=s.length-1;r>=0;r-=1){const a=s[r].split(":");if(a.length>=2){const o=a[0].trim().toLowerCase(),l=a.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),PRe=En.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),IRe=En.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),LRe=En.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});En.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(DRe.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(oZ.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(PRe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(IRe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(LRe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(aZ.configure(this.options.textStyle)),e}});const lZ=({content:e,onChange:t,className:n})=>{const[s,r]=v.useState(!1),[a,o]=v.useState(""),[l,u]=v.useState(!1),[d,f]=v.useState(""),[m,g]=v.useState(!1),x=UAe({extensions:[TRe,rRe,ARe.configure({HTMLAttributes:{class:"rounded-lg max-w-full h-auto"}}),$3e.configure({openOnClick:!1,HTMLAttributes:{class:"text-primary underline hover:text-primary/80"}}),aZ,oZ],content:e,onUpdate:({editor:k})=>{t(k.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-xl max-w-none focus:outline-none min-h-[400px] p-6"}}});if(!x)return null;const b=()=>{a&&(x.chain().focus().extendMarkRange("link").setLink({href:a}).run(),o(""),r(!1))},w=()=>{d&&(x.chain().focus().setImage({src:d}).run(),f(""),u(!1))},j=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000"];return i.jsxs("div",{className:se("space-y-4",n),children:[i.jsxs("div",{className:"rounded-lg border bg-background",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-1 border-b p-2",children:[i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleBold().run(),className:se(x.isActive("bold")&&"bg-muted"),children:i.jsx(Rie,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleItalic().run(),className:se(x.isActive("italic")&&"bg-muted"),children:i.jsx(roe,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleUnderline().run(),className:se(x.isActive("underline")&&"bg-muted"),children:i.jsx(oce,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleStrike().run(),className:se(x.isActive("strike")&&"bg-muted"),children:i.jsx(Dle,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleCode().run(),className:se(x.isActive("code")&&"bg-muted"),children:i.jsx(UL,{className:"size-4"})}),i.jsx(It,{orientation:"vertical",className:"mx-1 h-6"}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleHeading({level:1}).run(),className:se(x.isActive("heading",{level:1})&&"bg-muted"),children:i.jsx(Hae,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleHeading({level:2}).run(),className:se(x.isActive("heading",{level:2})&&"bg-muted"),children:i.jsx(Zae,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleHeading({level:3}).run(),className:se(x.isActive("heading",{level:3})&&"bg-muted"),children:i.jsx(Kae,{className:"size-4"})}),i.jsx(It,{orientation:"vertical",className:"mx-1 h-6"}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleBulletList().run(),className:se(x.isActive("bulletList")&&"bg-muted"),children:i.jsx(yoe,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleOrderedList().run(),className:se(x.isActive("orderedList")&&"bg-muted"),children:i.jsx(xoe,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleBlockquote().run(),className:se(x.isActive("blockquote")&&"bg-muted"),children:i.jsx(e8,{className:"size-4"})}),i.jsx(It,{orientation:"vertical",className:"mx-1 h-6"}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>r(!0),children:i.jsx(moe,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>u(!0),children:i.jsx(ZL,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>g(!m),children:i.jsx(Foe,{className:"size-4"})}),i.jsx(It,{orientation:"vertical",className:"mx-1 h-6"}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().undo().run(),disabled:!x.can().undo(),children:i.jsx(cce,{className:"size-4"})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().redo().run(),disabled:!x.can().redo(),children:i.jsx(rle,{className:"size-4"})})]}),m&&i.jsxs("div",{className:"flex flex-wrap gap-2 border-b p-2",children:[j.map(k=>i.jsx("button",{type:"button",className:"size-6 rounded border-2 border-border transition-transform hover:scale-110",style:{backgroundColor:k},onClick:()=>{x.chain().focus().setColor(k).run(),g(!1)}},k)),i.jsx(Q,{variant:"outline",size:"sm",onClick:()=>{x.chain().focus().unsetColor().run(),g(!1)},children:"Clear"})]}),i.jsx(Eq,{editor:x})]}),i.jsx(Ka,{open:s,onOpenChange:r,children:i.jsxs(pa,{children:[i.jsxs(ga,{children:[i.jsx(xa,{children:"Add Link"}),i.jsx(Cp,{children:"Enter the URL for the link"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"link-url",children:"URL"}),i.jsx(Re,{id:"link-url",placeholder:"https://example.com",value:a,onChange:k=>o(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),b())}})]}),i.jsxs(Qv,{children:[i.jsx(Q,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),i.jsx(Q,{onClick:b,children:"Add Link"})]})]})}),i.jsx(Ka,{open:l,onOpenChange:u,children:i.jsxs(pa,{children:[i.jsxs(ga,{children:[i.jsx(xa,{children:"Add Image"}),i.jsx(Cp,{children:"Enter the image URL"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"image-url",children:"Image URL"}),i.jsx(Re,{id:"image-url",placeholder:"https://example.com/image.jpg",value:d,onChange:k=>f(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),w())}})]}),i.jsxs(Qv,{children:[i.jsx(Q,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),i.jsx(Q,{onClick:w,children:"Add Image"})]})]})})]})};function $Re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>s=>{t.forEach(r=>r(s))},t)}const w1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uf(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function _T(e){return"nodeType"in e}function Zr(e){var t,n;return e?uf(e)?e:_T(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function CT(e){const{Document:t}=Zr(e);return e instanceof t}function Og(e){return uf(e)?!1:e instanceof Zr(e).HTMLElement}function cZ(e){return e instanceof Zr(e).SVGElement}function df(e){return e?uf(e)?e.document:_T(e)?CT(e)?e:Og(e)||cZ(e)?e.ownerDocument:document:document:document}const Ja=w1?v.useLayoutEffect:v.useEffect;function ET(e){const t=v.useRef(e);return Ja(()=>{t.current=e}),v.useCallback(function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t.current==null?void 0:t.current(...s)},[])}function VRe(){const e=v.useRef(null),t=v.useCallback((s,r)=>{e.current=setInterval(s,r)},[]),n=v.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function qp(e,t){t===void 0&&(t=[e]);const n=v.useRef(e);return Ja(()=>{n.current!==e&&(n.current=e)},t),n}function Dg(e,t){const n=v.useRef();return v.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Jy(e){const t=ET(e),n=v.useRef(null),s=v.useCallback(r=>{r!==n.current&&(t==null||t(r,n.current)),n.current=r},[]);return[n,s]}function FS(e){const t=v.useRef();return v.useEffect(()=>{t.current=e},[e]),t.current}let TN={};function Pg(e,t){return v.useMemo(()=>{if(t)return t;const n=TN[e]==null?0:TN[e]+1;return TN[e]=n,e+"-"+n},[e,t])}function uZ(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.reduce((a,o)=>{const l=Object.entries(o);for(const[u,d]of l){const f=a[u];f!=null&&(a[u]=f+e*d)}return a},{...t})}}const Sh=uZ(1),Zp=uZ(-1);function BRe(e){return"clientX"in e&&"clientY"in e}function TT(e){if(!e)return!1;const{KeyboardEvent:t}=Zr(e.target);return t&&e instanceof t}function FRe(e){if(!e)return!1;const{TouchEvent:t}=Zr(e.target);return t&&e instanceof t}function US(e){if(FRe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return BRe(e)?{x:e.clientX,y:e.clientY}:null}const Wp=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Wp.Translate.toString(e),Wp.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),HP="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function URe(e){return e.matches(HP)?e:e.querySelector(HP)}const HRe={display:"none"};function qRe(e){let{id:t,value:n}=e;return W.createElement("div",{id:t,style:HRe},n)}function ZRe(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return W.createElement("div",{id:t,style:r,role:"status","aria-live":s,"aria-atomic":!0},n)}function WRe(){const[e,t]=v.useState("");return{announce:v.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const dZ=v.createContext(null);function KRe(e){const t=v.useContext(dZ);v.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function GRe(){const[e]=v.useState(()=>new Set),t=v.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[v.useCallback(s=>{let{type:r,event:a}=s;e.forEach(o=>{var l;return(l=o[r])==null?void 0:l.call(o,a)})},[e]),t]}const YRe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},JRe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function XRe(e){let{announcements:t=JRe,container:n,hiddenTextDescribedById:s,screenReaderInstructions:r=YRe}=e;const{announce:a,announcement:o}=WRe(),l=Pg("DndLiveRegion"),[u,d]=v.useState(!1);if(v.useEffect(()=>{d(!0)},[]),KRe(v.useMemo(()=>({onDragStart(m){let{active:g}=m;a(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:x}=m;t.onDragMove&&a(t.onDragMove({active:g,over:x}))},onDragOver(m){let{active:g,over:x}=m;a(t.onDragOver({active:g,over:x}))},onDragEnd(m){let{active:g,over:x}=m;a(t.onDragEnd({active:g,over:x}))},onDragCancel(m){let{active:g,over:x}=m;a(t.onDragCancel({active:g,over:x}))}}),[a,t])),!u)return null;const f=W.createElement(W.Fragment,null,W.createElement(qRe,{id:s,value:r.draggable}),W.createElement(ZRe,{id:l,announcement:o}));return n?ia.createPortal(f,n):f}var Ms;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ms||(Ms={}));function Xy(){}function qP(e,t){return v.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function QRe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const va=Object.freeze({x:0,y:0});function hZ(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function fZ(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function eOe(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function ZP(e){let{left:t,top:n,height:s,width:r}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t,y:n+s},{x:t+r,y:n+s}]}function mZ(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function WP(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const tOe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const r=WP(t,t.left,t.top),a=[];for(const o of s){const{id:l}=o,u=n.get(l);if(u){const d=hZ(WP(u),r);a.push({id:l,data:{droppableContainer:o,value:d}})}}return a.sort(fZ)},nOe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const r=ZP(t),a=[];for(const o of s){const{id:l}=o,u=n.get(l);if(u){const d=ZP(u),f=r.reduce((g,x,b)=>g+hZ(d[b],x),0),m=Number((f/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:m}})}}return a.sort(fZ)};function sOe(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=r-s,l=a-n;if(s<r&&n<a){const u=t.width*t.height,d=e.width*e.height,f=o*l,m=f/(u+d-f);return Number(m.toFixed(4))}return 0}const rOe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const r=[];for(const a of s){const{id:o}=a,l=n.get(o);if(l){const u=sOe(l,t);u>0&&r.push({id:o,data:{droppableContainer:a,value:u}})}}return r.sort(eOe)};function iOe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function pZ(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:va}function aOe(e){return function(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];return r.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const oOe=aOe(1);function lOe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function cOe(e,t,n){const s=lOe(t);if(!s)return e;const{scaleX:r,scaleY:a,x:o,y:l}=s,u=e.left-o-(1-r)*parseFloat(n),d=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),f=r?e.width/r:e.width,m=a?e.height/a:e.height;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u}}const uOe={ignoreTransform:!1};function hf(e,t){t===void 0&&(t=uOe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:f}=Zr(e).getComputedStyle(e);d&&(n=cOe(n,d,f))}const{top:s,left:r,width:a,height:o,bottom:l,right:u}=n;return{top:s,left:r,width:a,height:o,bottom:l,right:u}}function KP(e){return hf(e,{ignoreTransform:!0})}function dOe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function hOe(e,t){return t===void 0&&(t=Zr(e).getComputedStyle(e)),t.position==="fixed"}function fOe(e,t){t===void 0&&(t=Zr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const a=t[r];return typeof a=="string"?n.test(a):!1})}function j1(e,t){const n=[];function s(r){if(t!=null&&n.length>=t||!r)return n;if(CT(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!Og(r)||cZ(r)||n.includes(r))return n;const a=Zr(e).getComputedStyle(r);return r!==e&&fOe(r,a)&&n.push(r),hOe(r,a)?n:s(r.parentNode)}return e?s(e):n}function gZ(e){const[t]=j1(e,1);return t??null}function zN(e){return!w1||!e?null:uf(e)?e:_T(e)?CT(e)||e===df(e).scrollingElement?window:Og(e)?e:null:null}function xZ(e){return uf(e)?e.scrollX:e.scrollLeft}function vZ(e){return uf(e)?e.scrollY:e.scrollTop}function HS(e){return{x:xZ(e),y:vZ(e)}}var Ls;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Ls||(Ls={}));function yZ(e){return!w1||!e?!1:e===document.scrollingElement}function bZ(e){const t={x:0,y:0},n=yZ(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},r=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:r,isLeft:a,isBottom:o,isRight:l,maxScroll:s,minScroll:t}}const mOe={x:.2,y:.2};function pOe(e,t,n,s,r){let{top:a,left:o,right:l,bottom:u}=n;s===void 0&&(s=10),r===void 0&&(r=mOe);const{isTop:d,isBottom:f,isLeft:m,isRight:g}=bZ(e),x={x:0,y:0},b={x:0,y:0},w={height:t.height*r.y,width:t.width*r.x};return!d&&a<=t.top+w.height?(x.y=Ls.Backward,b.y=s*Math.abs((t.top+w.height-a)/w.height)):!f&&u>=t.bottom-w.height&&(x.y=Ls.Forward,b.y=s*Math.abs((t.bottom-w.height-u)/w.height)),!g&&l>=t.right-w.width?(x.x=Ls.Forward,b.x=s*Math.abs((t.right-w.width-l)/w.width)):!m&&o<=t.left+w.width&&(x.x=Ls.Backward,b.x=s*Math.abs((t.left+w.width-o)/w.width)),{direction:x,speed:b}}function gOe(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:s,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:r,width:e.clientWidth,height:e.clientHeight}}function wZ(e){return e.reduce((t,n)=>Sh(t,HS(n)),va)}function xOe(e){return e.reduce((t,n)=>t+xZ(n),0)}function vOe(e){return e.reduce((t,n)=>t+vZ(n),0)}function yOe(e,t){if(t===void 0&&(t=hf),!e)return;const{top:n,left:s,bottom:r,right:a}=t(e);gZ(e)&&(r<=0||a<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const bOe=[["x",["left","right"],xOe],["y",["top","bottom"],vOe]];class zT{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=j1(n),r=wZ(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,l]of bOe)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=l(s),f=r[a]-d;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class np{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var r;(r=this.target)==null||r.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function wOe(e){const{EventTarget:t}=Zr(e);return e instanceof t?e:df(e)}function MN(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var Ti;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ti||(Ti={}));function GP(e){e.preventDefault()}function jOe(e){e.stopPropagation()}var Yt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Yt||(Yt={}));const jZ={start:[Yt.Space,Yt.Enter],cancel:[Yt.Esc],end:[Yt.Space,Yt.Enter,Yt.Tab]},kOe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Yt.Right:return{...n,x:n.x+25};case Yt.Left:return{...n,x:n.x-25};case Yt.Down:return{...n,y:n.y+25};case Yt.Up:return{...n,y:n.y-25}}};class MT{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new np(df(n)),this.windowListeners=new np(Zr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ti.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&yOe(s),n(va)}handleKeyDown(t){if(TT(t)){const{active:n,context:s,options:r}=this.props,{keyboardCodes:a=jZ,coordinateGetter:o=kOe,scrollBehavior:l="smooth"}=r,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:d}=s.current,f=d?{x:d.left,y:d.top}:va;this.referenceCoordinates||(this.referenceCoordinates=f);const m=o(t,{active:n,context:s.current,currentCoordinates:f});if(m){const g=Zp(m,f),x={x:0,y:0},{scrollableAncestors:b}=s.current;for(const w of b){const j=t.code,{isTop:k,isRight:S,isLeft:C,isBottom:E,maxScroll:T,minScroll:M}=bZ(w),z=gOe(w),A={x:Math.min(j===Yt.Right?z.right-z.width/2:z.right,Math.max(j===Yt.Right?z.left:z.left+z.width/2,m.x)),y:Math.min(j===Yt.Down?z.bottom-z.height/2:z.bottom,Math.max(j===Yt.Down?z.top:z.top+z.height/2,m.y))},D=j===Yt.Right&&!S||j===Yt.Left&&!C,B=j===Yt.Down&&!E||j===Yt.Up&&!k;if(D&&A.x!==m.x){const $=w.scrollLeft+g.x,q=j===Yt.Right&&$<=T.x||j===Yt.Left&&$>=M.x;if(q&&!g.y){w.scrollTo({left:$,behavior:l});return}q?x.x=w.scrollLeft-$:x.x=j===Yt.Right?w.scrollLeft-T.x:w.scrollLeft-M.x,x.x&&w.scrollBy({left:-x.x,behavior:l});break}else if(B&&A.y!==m.y){const $=w.scrollTop+g.y,q=j===Yt.Down&&$<=T.y||j===Yt.Up&&$>=M.y;if(q&&!g.x){w.scrollTo({top:$,behavior:l});return}q?x.y=w.scrollTop-$:x.y=j===Yt.Down?w.scrollTop-T.y:w.scrollTop-M.y,x.y&&w.scrollBy({top:-x.y,behavior:l});break}}this.handleMove(t,Sh(Zp(m,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}MT.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=jZ,onActivation:r}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),r==null||r({event:e.nativeEvent}),!0)}return!1}}];function YP(e){return!!(e&&"distance"in e)}function JP(e){return!!(e&&"delay"in e)}class AT{constructor(t,n,s){var r;s===void 0&&(s=wOe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=df(o),this.documentListeners=new np(this.document),this.listeners=new np(s),this.windowListeners=new np(Zr(o)),this.initialCoordinates=(r=US(a))!=null?r:va,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ti.Resize,this.handleCancel),this.windowListeners.add(Ti.DragStart,GP),this.windowListeners.add(Ti.VisibilityChange,this.handleCancel),this.windowListeners.add(Ti.ContextMenu,GP),this.documentListeners.add(Ti.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(JP(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(YP(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:r}=this.props;r(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ti.Click,jOe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ti.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:r,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!r)return;const u=(n=US(t))!=null?n:va,d=Zp(r,u);if(!s&&l){if(YP(l)){if(l.tolerance!=null&&MN(d,l.tolerance))return this.handleCancel();if(MN(d,l.distance))return this.handleStart()}if(JP(l)&&MN(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Yt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const NOe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class RT extends AT{constructor(t){const{event:n}=t,s=df(n.target);super(t,NOe,s)}}RT.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const SOe={move:{name:"mousemove"},end:{name:"mouseup"}};var qS;(function(e){e[e.RightClick=2]="RightClick"})(qS||(qS={}));class _Oe extends AT{constructor(t){super(t,SOe,df(t.event.target))}}_Oe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===qS.RightClick?!1:(s==null||s({event:n}),!0)}}];const AN={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class COe extends AT{constructor(t){super(t,AN)}static setup(){return window.addEventListener(AN.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(AN.move.name,t)};function t(){}}}COe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:r}=n;return r.length>1?!1:(s==null||s({event:n}),!0)}}];var sp;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(sp||(sp={}));var Qy;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qy||(Qy={}));function EOe(e){let{acceleration:t,activator:n=sp.Pointer,canScroll:s,draggingRect:r,enabled:a,interval:o=5,order:l=Qy.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:f,delta:m,threshold:g}=e;const x=zOe({delta:m,disabled:!a}),[b,w]=VRe(),j=v.useRef({x:0,y:0}),k=v.useRef({x:0,y:0}),S=v.useMemo(()=>{switch(n){case sp.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case sp.DraggableRect:return r}},[n,r,u]),C=v.useRef(null),E=v.useCallback(()=>{const M=C.current;if(!M)return;const z=j.current.x*k.current.x,A=j.current.y*k.current.y;M.scrollBy(z,A)},[]),T=v.useMemo(()=>l===Qy.TreeOrder?[...d].reverse():d,[l,d]);v.useEffect(()=>{if(!a||!d.length||!S){w();return}for(const M of T){if((s==null?void 0:s(M))===!1)continue;const z=d.indexOf(M),A=f[z];if(!A)continue;const{direction:D,speed:B}=pOe(M,A,S,t,g);for(const $ of["x","y"])x[$][D[$]]||(B[$]=0,D[$]=0);if(B.x>0||B.y>0){w(),C.current=M,b(E,o),j.current=B,k.current=D;return}}j.current={x:0,y:0},k.current={x:0,y:0},w()},[t,E,s,w,a,o,JSON.stringify(S),JSON.stringify(x),b,d,T,f,JSON.stringify(g)])}const TOe={x:{[Ls.Backward]:!1,[Ls.Forward]:!1},y:{[Ls.Backward]:!1,[Ls.Forward]:!1}};function zOe(e){let{delta:t,disabled:n}=e;const s=FS(t);return Dg(r=>{if(n||!s||!r)return TOe;const a={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Ls.Backward]:r.x[Ls.Backward]||a.x===-1,[Ls.Forward]:r.x[Ls.Forward]||a.x===1},y:{[Ls.Backward]:r.y[Ls.Backward]||a.y===-1,[Ls.Forward]:r.y[Ls.Forward]||a.y===1}}},[n,t,s])}function MOe(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Dg(r=>{var a;return t==null?null:(a=s??r)!=null?a:null},[s,t])}function AOe(e,t){return v.useMemo(()=>e.reduce((n,s)=>{const{sensor:r}=s,a=r.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...a]},[]),[e,t])}var Kp;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Kp||(Kp={}));var ZS;(function(e){e.Optimized="optimized"})(ZS||(ZS={}));const XP=new Map;function ROe(e,t){let{dragging:n,dependencies:s,config:r}=t;const[a,o]=v.useState(null),{frequency:l,measure:u,strategy:d}=r,f=v.useRef(e),m=j(),g=qp(m),x=v.useCallback(function(k){k===void 0&&(k=[]),!g.current&&o(S=>S===null?k:S.concat(k.filter(C=>!S.includes(C))))},[g]),b=v.useRef(null),w=Dg(k=>{if(m&&!n)return XP;if(!k||k===XP||f.current!==e||a!=null){const S=new Map;for(let C of e){if(!C)continue;if(a&&a.length>0&&!a.includes(C.id)&&C.rect.current){S.set(C.id,C.rect.current);continue}const E=C.node.current,T=E?new zT(u(E),E):null;C.rect.current=T,T&&S.set(C.id,T)}return S}return k},[e,a,n,m,u]);return v.useEffect(()=>{f.current=e},[e]),v.useEffect(()=>{m||x()},[n,m]),v.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),v.useEffect(()=>{m||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{x(),b.current=null},l))},[l,m,x,...s]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:a!=null};function j(){switch(d){case Kp.Always:return!1;case Kp.BeforeDragging:return n;default:return!n}}}function kZ(e,t){return Dg(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function OOe(e,t){return kZ(e,t)}function DOe(e){let{callback:t,disabled:n}=e;const s=ET(t),r=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(s)},[s,n]);return v.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function k1(e){let{callback:t,disabled:n}=e;const s=ET(t),r=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(s)},[n]);return v.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function POe(e){return new zT(hf(e),e)}function QP(e,t,n){t===void 0&&(t=POe);const[s,r]=v.useState(null);function a(){r(u=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=u??n)!=null?d:null}const f=t(e);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const o=DOe({callback(u){if(e)for(const d of u){const{type:f,target:m}=d;if(f==="childList"&&m instanceof HTMLElement&&m.contains(e)){a();break}}}}),l=k1({callback:a});return Ja(()=>{a(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),s}function IOe(e){const t=kZ(e);return pZ(e,t)}const eI=[];function LOe(e){const t=v.useRef(e),n=Dg(s=>e?s&&s!==eI&&e&&t.current&&e.parentNode===t.current.parentNode?s:j1(e):eI,[e]);return v.useEffect(()=>{t.current=e},[e]),n}function $Oe(e){const[t,n]=v.useState(null),s=v.useRef(e),r=v.useCallback(a=>{const o=zN(a.target);o&&n(l=>l?(l.set(o,HS(o)),new Map(l)):null)},[]);return v.useEffect(()=>{const a=s.current;if(e!==a){o(a);const l=e.map(u=>{const d=zN(u);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,HS(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),s.current=e}return()=>{o(e),o(a)};function o(l){l.forEach(u=>{const d=zN(u);d==null||d.removeEventListener("scroll",r)})}},[r,e]),v.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>Sh(a,o),va):wZ(e):va,[e,t])}function tI(e,t){t===void 0&&(t=[]);const n=v.useRef(null);return v.useEffect(()=>{n.current=null},t),v.useEffect(()=>{const s=e!==va;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Zp(e,n.current):va}function VOe(e){v.useEffect(()=>{if(!w1)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function BOe(e,t){return v.useMemo(()=>e.reduce((n,s)=>{let{eventName:r,handler:a}=s;return n[r]=o=>{a(o,t)},n},{}),[e,t])}function NZ(e){return v.useMemo(()=>e?dOe(e):null,[e])}const nI=[];function FOe(e,t){t===void 0&&(t=hf);const[n]=e,s=NZ(n?Zr(n):null),[r,a]=v.useState(nI);function o(){a(()=>e.length?e.map(u=>yZ(u)?s:new zT(t(u),u)):nI)}const l=k1({callback:o});return Ja(()=>{l==null||l.disconnect(),o(),e.forEach(u=>l==null?void 0:l.observe(u))},[e]),r}function UOe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Og(t)?t:e}function HOe(e){let{measure:t}=e;const[n,s]=v.useState(null),r=v.useCallback(d=>{for(const{target:f}of d)if(Og(f)){s(m=>{const g=t(f);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),a=k1({callback:r}),o=v.useCallback(d=>{const f=UOe(d);a==null||a.disconnect(),f&&(a==null||a.observe(f)),s(f?t(f):null)},[t,a]),[l,u]=Jy(o);return v.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const qOe=[{sensor:RT,options:{}},{sensor:MT,options:{}}],ZOe={current:{}},hv={draggable:{measure:KP},droppable:{measure:KP,strategy:Kp.WhileDragging,frequency:ZS.Optimized},dragOverlay:{measure:hf}};class rp extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const WOe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rp,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:hv,measureDroppableContainers:Xy,windowRect:null,measuringScheduled:!1},KOe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xy,draggableNodes:new Map,over:null,measureDroppableContainers:Xy},N1=v.createContext(KOe),SZ=v.createContext(WOe);function GOe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rp}}}function YOe(e,t){switch(t.type){case Ms.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ms.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ms.DragEnd:case Ms.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ms.RegisterDroppable:{const{element:n}=t,{id:s}=n,r=new rp(e.droppable.containers);return r.set(s,n),{...e,droppable:{...e.droppable,containers:r}}}case Ms.SetDroppableDisabled:{const{id:n,key:s,disabled:r}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const o=new rp(e.droppable.containers);return o.set(n,{...a,disabled:r}),{...e,droppable:{...e.droppable,containers:o}}}case Ms.UnregisterDroppable:{const{id:n,key:s}=t,r=e.droppable.containers.get(n);if(!r||s!==r.key)return e;const a=new rp(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function JOe(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:r}=v.useContext(N1),a=FS(s),o=FS(n==null?void 0:n.id);return v.useEffect(()=>{if(!t&&!s&&a&&o!=null){if(!TT(a)||document.activeElement===a.target)return;const l=r.get(o);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[u.current,d.current]){if(!f)continue;const m=URe(f);if(m){m.focus();break}}})}},[s,t,r,o,a]),null}function XOe(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((r,a)=>a({transform:r,...s}),n):n}function QOe(e){return v.useMemo(()=>({draggable:{...hv.draggable,...e==null?void 0:e.draggable},droppable:{...hv.droppable,...e==null?void 0:e.droppable},dragOverlay:{...hv.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function eDe(e){let{activeNode:t,measure:n,initialRect:s,config:r=!0}=e;const a=v.useRef(!1),{x:o,y:l}=typeof r=="boolean"?{x:r,y:r}:r;Ja(()=>{if(!o&&!l||!t){a.current=!1;return}if(a.current||!s)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const f=n(d),m=pZ(f,s);if(o||(m.x=0),l||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=gZ(d);g&&g.scrollBy({top:m.y,left:m.x})}},[t,o,l,s,n])}const _Z=v.createContext({...va,scaleX:1,scaleY:1});var Ol;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ol||(Ol={}));const tDe=v.memo(function(t){var n,s,r,a;let{id:o,accessibility:l,autoScroll:u=!0,children:d,sensors:f=qOe,collisionDetection:m=rOe,measuring:g,modifiers:x,...b}=t;const w=v.useReducer(YOe,void 0,GOe),[j,k]=w,[S,C]=GRe(),[E,T]=v.useState(Ol.Uninitialized),M=E===Ol.Initialized,{draggable:{active:z,nodes:A,translate:D},droppable:{containers:B}}=j,$=z!=null?A.get(z):null,q=v.useRef({initial:null,translated:null}),Z=v.useMemo(()=>{var at;return z!=null?{id:z,data:(at=$==null?void 0:$.data)!=null?at:ZOe,rect:q}:null},[z,$]),F=v.useRef(null),[J,P]=v.useState(null),[I,L]=v.useState(null),G=qp(b,Object.values(b)),U=Pg("DndDescribedBy",o),R=v.useMemo(()=>B.getEnabled(),[B]),H=QOe(g),{droppableRects:K,measureDroppableContainers:ne,measuringScheduled:ce}=ROe(R,{dragging:M,dependencies:[D.x,D.y],config:H.droppable}),ue=MOe(A,z),Y=v.useMemo(()=>I?US(I):null,[I]),le=Dt(),he=OOe(ue,H.draggable.measure);eDe({activeNode:z!=null?A.get(z):null,config:le.layoutShiftCompensation,initialRect:he,measure:H.draggable.measure});const be=QP(ue,H.draggable.measure,he),we=QP(ue?ue.parentElement:null),xe=v.useRef({activatorEvent:null,active:null,activeNode:ue,collisionRect:null,collisions:null,droppableRects:K,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Me=B.getNodeFor((n=xe.current.over)==null?void 0:n.id),re=HOe({measure:H.dragOverlay.measure}),Ee=(s=re.nodeRef.current)!=null?s:ue,Ze=M?(r=re.rect)!=null?r:be:null,it=!!(re.nodeRef.current&&re.rect),kt=IOe(it?null:be),We=NZ(Ee?Zr(Ee):null),ct=LOe(M?Me??ue:null),X=FOe(ct),oe=XOe(x,{transform:{x:D.x-kt.x,y:D.y-kt.y,scaleX:1,scaleY:1},activatorEvent:I,active:Z,activeNodeRect:be,containerNodeRect:we,draggingNodeRect:Ze,over:xe.current.over,overlayNodeRect:re.rect,scrollableAncestors:ct,scrollableAncestorRects:X,windowRect:We}),me=Y?Sh(Y,D):null,ze=$Oe(ct),Ae=tI(ze),Ce=tI(ze,[be]),Fe=Sh(oe,Ae),ot=Ze?oOe(Ze,oe):null,Te=Z&&ot?m({active:Z,collisionRect:ot,droppableRects:K,droppableContainers:R,pointerCoordinates:me}):null,Ue=mZ(Te,"id"),[tt,Ge]=v.useState(null),mt=it?oe:Sh(oe,Ce),Nt=iOe(mt,(a=tt==null?void 0:tt.rect)!=null?a:null,be),Rt=v.useRef(null),ln=v.useCallback((at,gt)=>{let{sensor:qe,options:xt}=gt;if(F.current==null)return;const Mt=A.get(F.current);if(!Mt)return;const Tt=at.nativeEvent,Nn=new qe({active:F.current,activeNode:Mt,event:Tt,options:xt,context:xe,onAbort(At){if(!A.get(At))return;const{onDragAbort:xn}=G.current,Dn={id:At};xn==null||xn(Dn),S({type:"onDragAbort",event:Dn})},onPending(At,ls,xn,Dn){if(!A.get(At))return;const{onDragPending:qs}=G.current,hi={id:At,constraint:ls,initialCoordinates:xn,offset:Dn};qs==null||qs(hi),S({type:"onDragPending",event:hi})},onStart(At){const ls=F.current;if(ls==null)return;const xn=A.get(ls);if(!xn)return;const{onDragStart:Dn}=G.current,di={activatorEvent:Tt,active:{id:ls,data:xn.data,rect:q}};ia.unstable_batchedUpdates(()=>{Dn==null||Dn(di),T(Ol.Initializing),k({type:Ms.DragStart,initialCoordinates:At,active:ls}),S({type:"onDragStart",event:di}),P(Rt.current),L(Tt)})},onMove(At){k({type:Ms.DragMove,coordinates:At})},onEnd:Vt(Ms.DragEnd),onCancel:Vt(Ms.DragCancel)});Rt.current=Nn;function Vt(At){return async function(){const{active:xn,collisions:Dn,over:di,scrollAdjustedTranslate:qs}=xe.current;let hi=null;if(xn&&qs){const{cancelDrop:Go}=G.current;hi={activatorEvent:Tt,active:xn,collisions:Dn,delta:qs,over:di},At===Ms.DragEnd&&typeof Go=="function"&&await Promise.resolve(Go(hi))&&(At=Ms.DragCancel)}F.current=null,ia.unstable_batchedUpdates(()=>{k({type:At}),T(Ol.Uninitialized),Ge(null),P(null),L(null),Rt.current=null;const Go=At===Ms.DragEnd?"onDragEnd":"onDragCancel";if(hi){const fi=G.current[Go];fi==null||fi(hi),S({type:Go,event:hi})}})}}},[A]),xr=v.useCallback((at,gt)=>(qe,xt)=>{const Mt=qe.nativeEvent,Tt=A.get(xt);if(F.current!==null||!Tt||Mt.dndKit||Mt.defaultPrevented)return;const Nn={active:Tt};at(qe,gt.options,Nn)===!0&&(Mt.dndKit={capturedBy:gt.sensor},F.current=xt,ln(qe,gt))},[A,ln]),Kn=AOe(f,xr);VOe(f),Ja(()=>{be&&E===Ol.Initializing&&T(Ol.Initialized)},[be,E]),v.useEffect(()=>{const{onDragMove:at}=G.current,{active:gt,activatorEvent:qe,collisions:xt,over:Mt}=xe.current;if(!gt||!qe)return;const Tt={active:gt,activatorEvent:qe,collisions:xt,delta:{x:Fe.x,y:Fe.y},over:Mt};ia.unstable_batchedUpdates(()=>{at==null||at(Tt),S({type:"onDragMove",event:Tt})})},[Fe.x,Fe.y]),v.useEffect(()=>{const{active:at,activatorEvent:gt,collisions:qe,droppableContainers:xt,scrollAdjustedTranslate:Mt}=xe.current;if(!at||F.current==null||!gt||!Mt)return;const{onDragOver:Tt}=G.current,Nn=xt.get(Ue),Vt=Nn&&Nn.rect.current?{id:Nn.id,rect:Nn.rect.current,data:Nn.data,disabled:Nn.disabled}:null,At={active:at,activatorEvent:gt,collisions:qe,delta:{x:Mt.x,y:Mt.y},over:Vt};ia.unstable_batchedUpdates(()=>{Ge(Vt),Tt==null||Tt(At),S({type:"onDragOver",event:At})})},[Ue]),Ja(()=>{xe.current={activatorEvent:I,active:Z,activeNode:ue,collisionRect:ot,collisions:Te,droppableRects:K,draggableNodes:A,draggingNode:Ee,draggingNodeRect:Ze,droppableContainers:B,over:tt,scrollableAncestors:ct,scrollAdjustedTranslate:Fe},q.current={initial:Ze,translated:ot}},[Z,ue,Te,ot,A,Ee,Ze,K,B,tt,ct,Fe]),EOe({...le,delta:D,draggingRect:ot,pointerCoordinates:me,scrollableAncestors:ct,scrollableAncestorRects:X});const Ye=v.useMemo(()=>({active:Z,activeNode:ue,activeNodeRect:be,activatorEvent:I,collisions:Te,containerNodeRect:we,dragOverlay:re,draggableNodes:A,droppableContainers:B,droppableRects:K,over:tt,measureDroppableContainers:ne,scrollableAncestors:ct,scrollableAncestorRects:X,measuringConfiguration:H,measuringScheduled:ce,windowRect:We}),[Z,ue,be,I,Te,we,re,A,B,K,tt,ne,ct,X,H,ce,We]),Et=v.useMemo(()=>({activatorEvent:I,activators:Kn,active:Z,activeNodeRect:be,ariaDescribedById:{draggable:U},dispatch:k,draggableNodes:A,over:tt,measureDroppableContainers:ne}),[I,Kn,Z,be,k,U,A,tt,ne]);return W.createElement(dZ.Provider,{value:C},W.createElement(N1.Provider,{value:Et},W.createElement(SZ.Provider,{value:Ye},W.createElement(_Z.Provider,{value:Nt},d)),W.createElement(JOe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),W.createElement(XRe,{...l,hiddenTextDescribedById:U}));function Dt(){const at=(J==null?void 0:J.autoScrollEnabled)===!1,gt=typeof u=="object"?u.enabled===!1:u===!1,qe=M&&!at&&!gt;return typeof u=="object"?{...u,enabled:qe}:{enabled:qe}}}),nDe=v.createContext(null),sI="button",sDe="Draggable";function rDe(e){let{id:t,data:n,disabled:s=!1,attributes:r}=e;const a=Pg(sDe),{activators:o,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:f,draggableNodes:m,over:g}=v.useContext(N1),{role:x=sI,roleDescription:b="draggable",tabIndex:w=0}=r??{},j=(u==null?void 0:u.id)===t,k=v.useContext(j?_Z:nDe),[S,C]=Jy(),[E,T]=Jy(),M=BOe(o,t),z=qp(n);Ja(()=>(m.set(t,{id:t,key:a,node:S,activatorNode:E,data:z}),()=>{const D=m.get(t);D&&D.key===a&&m.delete(t)}),[m,t]);const A=v.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":s,"aria-pressed":j&&x===sI?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[s,x,w,j,b,f.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:A,isDragging:j,listeners:s?void 0:M,node:S,over:g,setNodeRef:C,setActivatorNodeRef:T,transform:k}}function iDe(){return v.useContext(SZ)}const aDe="Droppable",oDe={timeout:25};function lDe(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:r}=e;const a=Pg(aDe),{active:o,dispatch:l,over:u,measureDroppableContainers:d}=v.useContext(N1),f=v.useRef({disabled:n}),m=v.useRef(!1),g=v.useRef(null),x=v.useRef(null),{disabled:b,updateMeasurementsFor:w,timeout:j}={...oDe,...r},k=qp(w??s),S=v.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(k.current)?k.current:[k.current]),x.current=null},j)},[j]),C=k1({callback:S,disabled:b||!o}),E=v.useCallback((A,D)=>{C&&(D&&(C.unobserve(D),m.current=!1),A&&C.observe(A))},[C]),[T,M]=Jy(E),z=qp(t);return v.useEffect(()=>{!C||!T.current||(C.disconnect(),m.current=!1,C.observe(T.current))},[T,C]),v.useEffect(()=>(l({type:Ms.RegisterDroppable,element:{id:s,key:a,disabled:n,node:T,rect:g,data:z}}),()=>l({type:Ms.UnregisterDroppable,key:a,id:s})),[s]),v.useEffect(()=>{n!==f.current.disabled&&(l({type:Ms.SetDroppableDisabled,id:s,key:a,disabled:n}),f.current.disabled=n)},[s,a,n,l]),{active:o,rect:g,isOver:(u==null?void 0:u.id)===s,node:T,over:u,setNodeRef:M}}function OT(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function cDe(e,t){return e.reduce((n,s,r)=>{const a=t.get(s);return a&&(n[r]=a),n},Array(e.length))}function F0(e){return e!==null&&e>=0}function uDe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function dDe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const CZ=e=>{let{rects:t,activeIndex:n,overIndex:s,index:r}=e;const a=OT(t,s,n),o=t[r],l=a[r];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},U0={scaleX:1,scaleY:1},hDe=e=>{var t;let{activeIndex:n,activeNodeRect:s,index:r,rects:a,overIndex:o}=e;const l=(t=a[n])!=null?t:s;if(!l)return null;if(r===n){const d=a[o];return d?{x:0,y:n<o?d.top+d.height-(l.top+l.height):d.top-l.top,...U0}:null}const u=fDe(a,r,n);return r>n&&r<=o?{x:0,y:-l.height-u,...U0}:r<n&&r>=o?{x:0,y:l.height+u,...U0}:{x:0,y:0,...U0}};function fDe(e,t,n){const s=e[t],r=e[t-1],a=e[t+1];return s?n<t?r?s.top-(r.top+r.height):a?a.top-(s.top+s.height):0:a?a.top-(s.top+s.height):r?s.top-(r.top+r.height):0:0}const EZ="Sortable",TZ=W.createContext({activeIndex:-1,containerId:EZ,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:CZ,disabled:{draggable:!1,droppable:!1}});function mDe(e){let{children:t,id:n,items:s,strategy:r=CZ,disabled:a=!1}=e;const{active:o,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:f}=iDe(),m=Pg(EZ,n),g=l.rect!==null,x=v.useMemo(()=>s.map(M=>typeof M=="object"&&"id"in M?M.id:M),[s]),b=o!=null,w=o?x.indexOf(o.id):-1,j=d?x.indexOf(d.id):-1,k=v.useRef(x),S=!uDe(x,k.current),C=j!==-1&&w===-1||S,E=dDe(a);Ja(()=>{S&&b&&f(x)},[S,x,b,f]),v.useEffect(()=>{k.current=x},[x]);const T=v.useMemo(()=>({activeIndex:w,containerId:m,disabled:E,disableTransforms:C,items:x,overIndex:j,useDragOverlay:g,sortedRects:cDe(x,u),strategy:r}),[w,m,E.draggable,E.droppable,C,x,j,u,g,r]);return W.createElement(TZ.Provider,{value:T},t)}const pDe=e=>{let{id:t,items:n,activeIndex:s,overIndex:r}=e;return OT(n,s,r).indexOf(t)},gDe=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:r,items:a,newIndex:o,previousItems:l,previousContainerId:u,transition:d}=e;return!d||!s||l!==a&&r===o?!1:n?!0:o!==r&&t===u},xDe={duration:200,easing:"ease"},zZ="transform",vDe=Wp.Transition.toString({property:zZ,duration:0,easing:"linear"}),yDe={roleDescription:"sortable"};function bDe(e){let{disabled:t,index:n,node:s,rect:r}=e;const[a,o]=v.useState(null),l=v.useRef(n);return Ja(()=>{if(!t&&n!==l.current&&s.current){const u=r.current;if(u){const d=hf(s.current,{ignoreTransform:!0}),f={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(f.x||f.y)&&o(f)}}n!==l.current&&(l.current=n)},[t,n,s,r]),v.useEffect(()=>{a&&o(null)},[a]),a}function wDe(e){let{animateLayoutChanges:t=gDe,attributes:n,disabled:s,data:r,getNewIndex:a=pDe,id:o,strategy:l,resizeObserverConfig:u,transition:d=xDe}=e;const{items:f,containerId:m,activeIndex:g,disabled:x,disableTransforms:b,sortedRects:w,overIndex:j,useDragOverlay:k,strategy:S}=v.useContext(TZ),C=jDe(s,x),E=f.indexOf(o),T=v.useMemo(()=>({sortable:{containerId:m,index:E,items:f},...r}),[m,r,E,f]),M=v.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:z,node:A,isOver:D,setNodeRef:B}=lDe({id:o,data:T,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:M,...u}}),{active:$,activatorEvent:q,activeNodeRect:Z,attributes:F,setNodeRef:J,listeners:P,isDragging:I,over:L,setActivatorNodeRef:G,transform:U}=rDe({id:o,data:T,attributes:{...yDe,...n},disabled:C.draggable}),R=$Re(B,J),H=!!$,K=H&&!b&&F0(g)&&F0(j),ne=!k&&I,ce=ne&&K?U:null,Y=K?ce??(l??S)({rects:w,activeNodeRect:Z,activeIndex:g,overIndex:j,index:E}):null,le=F0(g)&&F0(j)?a({id:o,items:f,activeIndex:g,overIndex:j}):E,he=$==null?void 0:$.id,be=v.useRef({activeId:he,items:f,newIndex:le,containerId:m}),we=f!==be.current.items,xe=t({active:$,containerId:m,isDragging:I,isSorting:H,id:o,index:E,items:f,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:d,wasDragging:be.current.activeId!=null}),Me=bDe({disabled:!xe,index:E,node:A,rect:z});return v.useEffect(()=>{H&&be.current.newIndex!==le&&(be.current.newIndex=le),m!==be.current.containerId&&(be.current.containerId=m),f!==be.current.items&&(be.current.items=f)},[H,le,m,f]),v.useEffect(()=>{if(he===be.current.activeId)return;if(he!=null&&be.current.activeId==null){be.current.activeId=he;return}const Ee=setTimeout(()=>{be.current.activeId=he},50);return()=>clearTimeout(Ee)},[he]),{active:$,activeIndex:g,attributes:F,data:T,rect:z,index:E,newIndex:le,items:f,isOver:D,isSorting:H,isDragging:I,listeners:P,node:A,overIndex:j,over:L,setNodeRef:R,setActivatorNodeRef:G,setDroppableNodeRef:B,setDraggableNodeRef:J,transform:Me??Y,transition:re()};function re(){if(Me||we&&be.current.newIndex===E)return vDe;if(!(ne&&!TT(q)||!d)&&(H||xe))return Wp.Transition.toString({...d,property:zZ})}}function jDe(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function eb(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const kDe=[Yt.Down,Yt.Right,Yt.Up,Yt.Left],NDe=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:r,droppableContainers:a,over:o,scrollableAncestors:l}}=t;if(kDe.includes(e.code)){if(e.preventDefault(),!n||!s)return;const u=[];a.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const g=r.get(m.id);if(g)switch(e.code){case Yt.Down:s.top<g.top&&u.push(m);break;case Yt.Up:s.top>g.top&&u.push(m);break;case Yt.Left:s.left>g.left&&u.push(m);break;case Yt.Right:s.left<g.left&&u.push(m);break}});const d=nOe({collisionRect:s,droppableRects:r,droppableContainers:u});let f=mZ(d,"id");if(f===(o==null?void 0:o.id)&&d.length>1&&(f=d[1].id),f!=null){const m=a.get(n.id),g=a.get(f),x=g?r.get(g.id):null,b=g==null?void 0:g.node.current;if(b&&x&&m&&g){const j=j1(b).some((M,z)=>l[z]!==M),k=MZ(m,g),S=SDe(m,g),C=j||!k?{x:0,y:0}:{x:S?s.width-x.width:0,y:S?s.height-x.height:0},E={x:x.left,y:x.top};return C.x&&C.y?E:Zp(E,C)}}}};function MZ(e,t){return!eb(e)||!eb(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function SDe(e,t){return!eb(e)||!eb(t)||!MZ(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Cn(e,t,n,s){t(e.id,{...e.content,[n]:s})}function _De({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Nadpis (voliteln)"}),i.jsx(Re,{value:e.content.title||"",onChange:n=>Cn(e,t,"title",n.target.value),placeholder:"Zadejte nadpis"})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Obsah"}),i.jsx(fr,{value:e.content.text||"",onChange:n=>Cn(e,t,"text",n.target.value),placeholder:"Zadejte obsah textu",rows:5})]})]})}function CDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"URL obrzku"}),i.jsx(Re,{value:e.content.url||"",onChange:n=>Cn(e,t,"url",n.target.value),placeholder:"https://example.com/obrazek.jpg"})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Alternativn text"}),i.jsx(Re,{value:e.content.alt||"",onChange:n=>Cn(e,t,"alt",n.target.value),placeholder:"Popis obrzku"})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Popisek (voliteln)"}),i.jsx(Re,{value:e.content.caption||"",onChange:n=>Cn(e,t,"caption",n.target.value),placeholder:"Popisek obrzku"})]}),e.content.url&&i.jsx("img",{src:e.content.url,alt:e.content.alt||"Nhled",className:"max-h-48 rounded-lg border object-cover"})]})}function EDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"URL videa (YouTube/Vimeo)"}),i.jsx(Re,{value:e.content.url||"",onChange:n=>Cn(e,t,"url",n.target.value),placeholder:"https://youtube.com/watch?v=..."})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Popisek (voliteln)"}),i.jsx(Re,{value:e.content.caption||"",onChange:n=>Cn(e,t,"caption",n.target.value),placeholder:"Popisek videa"})]})]})}function TDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Citace"}),i.jsx(fr,{value:e.content.quote||"",onChange:n=>Cn(e,t,"quote",n.target.value),placeholder:"Zadejte citaci",rows:4})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Autor (voliteln)"}),i.jsx(Re,{value:e.content.author||"",onChange:n=>Cn(e,t,"author",n.target.value),placeholder:"Autor citace"})]})]})}function zDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Jazyk"}),i.jsx(Re,{value:e.content.language||"",onChange:n=>Cn(e,t,"language",n.target.value),placeholder:"javascript, python, atd."})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Kd"}),i.jsx(fr,{value:e.content.code||"",onChange:n=>Cn(e,t,"code",n.target.value),placeholder:"Zadejte kd",rows:8,className:"font-mono text-sm"})]})]})}function MDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Nadpis"}),i.jsx(Re,{value:e.content.title||"",onChange:n=>Cn(e,t,"title",n.target.value),placeholder:"Hlavn nadpis"})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Podnadpis"}),i.jsx(Re,{value:e.content.subtitle||"",onChange:n=>Cn(e,t,"subtitle",n.target.value),placeholder:"Podnadpis sekce"})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"URL obrzku pozad"}),i.jsx(Re,{value:e.content.background||"",onChange:n=>Cn(e,t,"background",n.target.value),placeholder:"https://example.com/pozadi.jpg"})]})]})}function ADe({block:e,onUpdate:t}){const n=(()=>{try{return JSON.parse(e.content.headers||"[]")}catch{return[]}})(),s=(()=>{try{return JSON.parse(e.content.rows||"[]")}catch{return[]}})(),r=g=>t(e.id,{...e.content,headers:JSON.stringify(g)}),a=g=>t(e.id,{...e.content,rows:JSON.stringify(g)}),o=()=>{r([...n,`Sloupec ${n.length+1}`]),a(s.map(g=>[...g,""]))},l=g=>{r(n.filter((x,b)=>b!==g)),a(s.map(x=>x.filter((b,w)=>w!==g)))},u=()=>{a([...s,new Array(Math.max(n.length,1)).fill("")])},d=g=>{a(s.filter((x,b)=>b!==g))},f=(g,x)=>{const b=[...n];b[g]=x,r(b)},m=(g,x,b)=>{const w=s.map(j=>[...j]);w[g][x]=b,a(w)};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Q,{type:"button",variant:"outline",size:"sm",onClick:o,children:[i.jsx(fs,{className:"mr-1 size-3"})," Sloupec"]}),i.jsxs(Q,{type:"button",variant:"outline",size:"sm",onClick:u,children:[i.jsx(fs,{className:"mr-1 size-3"})," dek"]})]}),n.length>0&&i.jsx("div",{className:"overflow-x-auto rounded border",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsx("tr",{children:n.map((g,x)=>i.jsx("th",{className:"border-b bg-muted p-1",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Re,{value:g,onChange:b=>f(x,b.target.value),className:"h-7 text-xs"}),i.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"size-6 p-0",onClick:()=>l(x),children:i.jsx(cr,{className:"size-3 text-red-500"})})]})},x))})}),i.jsx("tbody",{children:s.map((g,x)=>i.jsxs("tr",{children:[g.map((b,w)=>i.jsx("td",{className:"border-b p-1",children:i.jsx(Re,{value:b,onChange:j=>m(x,w,j.target.value),className:"h-7 text-xs"})},w)),i.jsx("td",{className:"border-b p-1",children:i.jsx(Q,{type:"button",variant:"ghost",size:"sm",className:"size-6 p-0",onClick:()=>d(x),children:i.jsx(cr,{className:"size-3 text-red-500"})})})]},x))})]})})]})}function RDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Typ"}),i.jsxs(As,{value:e.content.type||"info",onValueChange:n=>Cn(e,t,"type",n),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"tip",children:"Tip"}),i.jsx(wt,{value:"warning",children:"Varovn"}),i.jsx(wt,{value:"info",children:"Informace"}),i.jsx(wt,{value:"error",children:"Chyba"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Nadpis"}),i.jsx(Re,{value:e.content.title||"",onChange:n=>Cn(e,t,"title",n.target.value),placeholder:"Nadpis upozornn"})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Obsah"}),i.jsx(fr,{value:e.content.content||"",onChange:n=>Cn(e,t,"content",n.target.value),placeholder:"Text upozornn",rows:3})]})]})}function ODe({block:e,onUpdate:t}){const n=(()=>{try{return JSON.parse(e.content.items||"[]")}catch{return[]}})(),s=l=>t(e.id,{...e.content,items:JSON.stringify(l)}),r=()=>s([...n,{question:"",answer:""}]),a=l=>s(n.filter((u,d)=>d!==l)),o=(l,u,d)=>{const f=n.map((m,g)=>g===l?{...m,[u]:d}:m);s(f)};return i.jsxs("div",{className:"space-y-3",children:[n.map((l,u)=>i.jsxs("div",{className:"space-y-2 rounded border p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ie,{children:["Otzka ",u+1]}),i.jsx(Q,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(u),children:i.jsx(cr,{className:"size-3 text-red-500"})})]}),i.jsx(Re,{value:l.question,onChange:d=>o(u,"question",d.target.value),placeholder:"Zadejte otzku"}),i.jsx(Ie,{children:"Odpov"}),i.jsx(fr,{value:l.answer,onChange:d=>o(u,"answer",d.target.value),placeholder:"Zadejte odpov",rows:2})]},u)),i.jsxs(Q,{type:"button",variant:"outline",size:"sm",onClick:r,children:[i.jsx(fs,{className:"mr-1 size-3"})," Pidat otzku"]})]})}function DDe({block:e,onUpdate:t}){const n=(()=>{try{return JSON.parse(e.content.options||"[]")}catch{return[]}})(),s=l=>t(e.id,{...e.content,options:JSON.stringify(l)}),r=()=>s([...n,{label:"",percentage:0}]),a=l=>s(n.filter((u,d)=>d!==l)),o=(l,u,d)=>{const f=n.map((m,g)=>g===l?{...m,[u]:u==="percentage"?Number(d)||0:d}:m);s(f)};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Otzka"}),i.jsx(Re,{value:e.content.question||"",onChange:l=>Cn(e,t,"question",l.target.value),placeholder:"Otzka ankety"})]}),n.map((l,u)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Re,{value:l.label,onChange:d=>o(u,"label",d.target.value),placeholder:"Nzev monosti",className:"flex-1"}),i.jsx(Re,{type:"number",value:l.percentage,onChange:d=>o(u,"percentage",d.target.value),placeholder:"%",className:"w-20",min:0,max:100}),i.jsx(Q,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(u),children:i.jsx(cr,{className:"size-3 text-red-500"})})]},u)),i.jsxs(Q,{type:"button",variant:"outline",size:"sm",onClick:r,children:[i.jsx(fs,{className:"mr-1 size-3"})," Pidat monost"]})]})}function PDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Barva"}),i.jsxs(As,{value:e.content.color||"blue",onValueChange:n=>Cn(e,t,"color",n),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"blue",children:"Modr"}),i.jsx(wt,{value:"green",children:"Zelen"}),i.jsx(wt,{value:"yellow",children:"lut"}),i.jsx(wt,{value:"red",children:"erven"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Text"}),i.jsx(fr,{value:e.content.text||"",onChange:n=>Cn(e,t,"text",n.target.value),placeholder:"Zvraznn text",rows:3})]})]})}function IDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Platforma"}),i.jsxs(As,{value:e.content.platform||"twitter",onValueChange:n=>Cn(e,t,"platform",n),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"twitter",children:"Twitter / X"}),i.jsx(wt,{value:"facebook",children:"Facebook"}),i.jsx(wt,{value:"instagram",children:"Instagram"}),i.jsx(wt,{value:"linkedin",children:"LinkedIn"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"URL"}),i.jsx(Re,{value:e.content.url||"",onChange:n=>Cn(e,t,"url",n.target.value),placeholder:"https://twitter.com/..."})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Popis"}),i.jsx(Re,{value:e.content.text||"",onChange:n=>Cn(e,t,"text",n.target.value),placeholder:"Popis pspvku"})]})]})}function LDe({block:e,onUpdate:t}){return i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{children:[i.jsx(Ie,{children:"Styl"}),i.jsxs(As,{value:e.content.style||"line",onValueChange:n=>Cn(e,t,"style",n),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"line",children:"Jednoduch ra"}),i.jsx(wt,{value:"dots",children:"Teky"}),i.jsx(wt,{value:"gradient",children:"Pechod"})]})]})]})})}function $De({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"SEO titulek"}),i.jsx(Re,{value:e.content.seoTitle||"",onChange:n=>Cn(e,t,"seoTitle",n.target.value),placeholder:"Titulek strnky pro vyhledvae"}),i.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[(e.content.seoTitle||"").length,"/60 znak"]})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"SEO URL"}),i.jsx(Re,{value:e.content.seoUrl||"",onChange:n=>Cn(e,t,"seoUrl",n.target.value),placeholder:"https://example.com/blog/vas-clanek"})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Meta popis"}),i.jsx(fr,{value:e.content.seoDescription||"",onChange:n=>Cn(e,t,"seoDescription",n.target.value),placeholder:"Popis pro vyhledvae",rows:2}),i.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[(e.content.seoDescription||"").length,"/160 znak"]})]}),i.jsxs("div",{className:"rounded border p-3",children:[i.jsx("p",{className:"mb-1 text-xs font-medium text-muted-foreground",children:"Nhled ve vyhledvai"}),i.jsx("div",{className:"text-base font-medium text-blue-700 dark:text-blue-400",children:e.content.seoTitle||"Titulek strnky"}),i.jsx("div",{className:"text-xs text-green-700 dark:text-green-400",children:e.content.seoUrl||"https://example.com/blog/..."}),i.jsx("div",{className:"text-xs text-muted-foreground",children:e.content.seoDescription||"Meta popis..."})]})]})}const VDe={text:_De,image:CDe,video:EDe,quote:TDe,code:zDe,hero:MDe,table:ADe,callout:RDe,faq:ODe,poll:DDe,highlight:PDe,social:IDe,divider:LDe,seo:$De},BDe=[{value:"text",label:"Textov blok",icon:ice},{value:"image",label:"Obrzek",icon:ZL},{value:"video",label:"Video",icon:bce},{value:"quote",label:"Citace",icon:e8},{value:"code",label:"Blok kdu",icon:UL},{value:"hero",label:"Hero sekce",icon:XL},{value:"table",label:"Tabulka",icon:Lle},{value:"callout",label:"Upozornn",icon:X_},{value:"faq",label:"ast dotazy",icon:H_},{value:"poll",label:"Anketa",icon:Oa},{value:"highlight",label:"Zvraznn",icon:Jae},{value:"social",label:"Sociln st",icon:xle},{value:"divider",label:"Oddlova",icon:mb},{value:"seo",label:"SEO nhled",icon:Xa}],FDe={text:{title:"",text:""},image:{url:"",alt:"",caption:""},video:{url:"",caption:""},quote:{quote:"",author:""},code:{language:"javascript",code:""},hero:{title:"",subtitle:"",background:""},table:{headers:'["Sloupec 1","Sloupec 2"]',rows:`[["",""]]
`},callout:{type:"info",title:"",content:""},faq:{items:"[]"},poll:{question:"",options:"[]"},highlight:{text:"",color:"blue"},social:{platform:"twitter",url:"",text:""},divider:{style:"line"},seo:{seoTitle:"",seoUrl:"",seoDescription:""}},AZ=({blocks:e,onChange:t})=>{const n=QRe(qP(RT),qP(MT,{coordinateGetter:NDe})),s=l=>{const{active:u,over:d}=l;if(d&&u.id!==d.id){const f=e.findIndex(g=>g.id===u.id),m=e.findIndex(g=>g.id===d.id);t(OT(e,f,m))}},r=l=>{const u={id:`block-${Date.now()}`,type:l,content:{...FDe[l]||{}}};t([...e,u])},a=(l,u)=>{t(e.map(d=>d.id===l?{...d,content:u}:d))},o=l=>{t(e.filter(u=>u.id!==l))};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(As,{onValueChange:l=>r(l),children:[i.jsxs(ks,{className:"w-64",children:[i.jsx(fs,{className:"mr-2 size-4"}),i.jsx(Rs,{placeholder:"Pidat blok obsahu"})]}),i.jsx(Ns,{children:BDe.map(l=>i.jsx(wt,{value:l.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(l.icon,{className:"size-4"}),l.label]})},l.value))})]})}),i.jsx(tDe,{sensors:n,collisionDetection:tOe,onDragEnd:s,children:i.jsx(mDe,{items:e.map(l=>l.id),strategy:hDe,children:i.jsx("div",{className:"space-y-4",children:e.map(l=>i.jsx(HDe,{block:l,onUpdate:a,onRemove:o},l.id))})})}),e.length===0&&i.jsx(Oe,{children:i.jsxs(De,{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(XL,{className:"mb-4 size-12 text-muted-foreground"}),i.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Zatm dn bloky obsahu"}),i.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Pidejte prvn blok obsahu a zante vytvet lnek"})]})})]})},UDe={text:"Text",image:"Obrzek",video:"Video",quote:"Citace",code:"Kd",hero:"Hero",table:"Tabulka",callout:"Upozornn",faq:"FAQ",poll:"Anketa",highlight:"Zvraznn",social:"Sociln",divider:"Oddlova",seo:"SEO"},HDe=({block:e,onUpdate:t,onRemove:n})=>{const{attributes:s,listeners:r,setNodeRef:a,transform:o,transition:l,isDragging:u}=wDe({id:e.id}),d={transform:Wp.Transform.toString(o),transition:l},f=VDe[e.type];return i.jsxs("div",{ref:a,style:d,className:se("rounded-lg border bg-card",u&&"opacity-50 shadow-lg"),children:[i.jsxs("div",{className:"flex items-center gap-2 border-b p-3",children:[i.jsx("button",{type:"button",className:"cursor-grab touch-none rounded p-1 hover:bg-muted",...s,...r,children:i.jsx(W_,{className:"size-5 text-muted-foreground"})}),i.jsx("div",{className:"flex-1",children:i.jsxs("span",{className:"text-sm font-medium",children:["Blok: ",UDe[e.type]||e.type]})}),i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>n(e.id),children:i.jsx(cr,{className:"size-4 text-red-500"})})]}),i.jsx("div",{className:"p-4",children:f?i.jsx(f,{block:e,onUpdate:t}):null})]})},qDe=()=>{const{id:e}=Ho(),t=Jt(),{user:n}=Ht(),s=e&&e!=="new",[r,a]=v.useState(!1),[o,l]=v.useState({title:"",slug:"",excerpt:"",content:"",featured_image:"",status:"draft",tags:"",contentBlocks:[]});v.useEffect(()=>{s&&u()},[e]);const u=async()=>{var g,x,b;try{a(!0);const{data:w,error:j}=await ae.from("blogs").select("*").eq("id",e).maybeSingle();if(j)throw j;if(!w){Se.error("lnek nenalezen"),t("/admin/blogs");return}l({title:w.title,slug:w.slug,excerpt:w.excerpt||"",content:((g=w.content)==null?void 0:g.html)||"",featured_image:w.featured_image||"",status:w.status,tags:((x=w.tags)==null?void 0:x.join(", "))||"",contentBlocks:((b=w.content)==null?void 0:b.blocks)||[]})}catch(w){console.error("Error fetching blog:",w),Se.error("Nepodailo se nast lnek")}finally{a(!1)}},d=g=>g.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),f=g=>{l({...o,title:g,slug:o.slug||d(g)})},m=async g=>{if(!o.title.trim()){Se.error("Zadejte prosm nzev lnku");return}if(!o.slug.trim()){Se.error("Zadejte prosm URL adresu (slug)");return}try{a(!0);const x=o.tags.split(",").map(j=>j.trim()).filter(j=>j.length>0),b=o.contentBlocks.length>0?vU(o.contentBlocks):o.content,w={title:o.title,slug:o.slug,excerpt:o.excerpt,content:{html:b,blocks:o.contentBlocks},featured_image:o.featured_image,status:g||o.status,tags:x,author_id:n==null?void 0:n.id,published_at:g==="published"&&o.status!=="published"?new Date().toISOString():void 0};if(s){const{error:j}=await ae.from("blogs").update(w).eq("id",e);if(j)throw j;Se.success("lnek byl spn aktualizovn")}else{const{data:j,error:k}=await ae.from("blogs").insert([w]).select().single();if(k)throw k;Se.success("lnek byl spn vytvoen"),t(`/admin/blogs/edit/${j.id}`)}}catch(x){console.error("Error saving blog:",x),x.code==="23505"?Se.error("lnek s touto URL adresou ji existuje"):Se.error("Nepodailo se uloit lnek")}finally{a(!1)}};return r&&s?i.jsx("div",{className:"flex h-96 items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Natn lnku..."})}):i.jsxs(Wo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>t("/admin/blogs"),children:i.jsx(da,{className:"size-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s?"Upravit lnek":"Nov lnek"}),i.jsx("p",{className:"text-muted-foreground",children:s?"Aktualizujte svj lnek":"Vytvote nov lnek s bohatm obsahem"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(Q,{variant:"outline",onClick:()=>m("draft"),disabled:r,children:[i.jsx(s8,{className:"mr-2 size-4"}),"Uloit koncept"]}),i.jsxs(Q,{onClick:()=>m("published"),disabled:r,children:[i.jsx(Vi,{className:"mr-2 size-4"}),"Publikovat"]})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Obsah lnku"}),i.jsx(Qt,{children:"Napite obsah lnku pomoc editoru ne"})]}),i.jsxs(De,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"title",children:"Nzev"}),i.jsx(Re,{id:"title",value:o.title,onChange:g=>f(g.target.value),placeholder:"Zadejte nzev lnku",className:"text-lg font-semibold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"slug",children:"URL adresa (slug)"}),i.jsx(Re,{id:"slug",value:o.slug,onChange:g=>l({...o,slug:g.target.value}),placeholder:"url-adresa-clanku"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"excerpt",children:"Krtk popis"}),i.jsx(fr,{id:"excerpt",value:o.excerpt,onChange:g=>l({...o,excerpt:g.target.value}),placeholder:"Strun popis lnku pro nhled",rows:3})]}),i.jsxs(ja,{defaultValue:"wysiwyg",className:"w-full",children:[i.jsxs(Zi,{className:"grid w-full grid-cols-2",children:[i.jsx(kn,{value:"wysiwyg",children:"Vizuln editor"}),i.jsx(kn,{value:"blocks",children:"Bloky obsahu"})]}),i.jsx(Ln,{value:"wysiwyg",className:"mt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Hlavn obsah"}),i.jsx(lZ,{content:o.content,onChange:g=>l({...o,content:g})})]})}),i.jsx(Ln,{value:"blocks",className:"mt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Pethnte bloky obsahu"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Pidvejte a uspodvejte bloky pro vytvoen rozvren lnku"}),i.jsx(AZ,{blocks:o.contentBlocks,onChange:g=>l({...o,contentBlocks:g})})]})})]})]})]})}),i.jsx("div",{className:"space-y-6",children:i.jsx(ee.div,{initial:{opacity:0,x:12},animate:{opacity:1,x:0},transition:{delay:.15},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Nastaven"}),i.jsx(Qt,{children:"Konfigurace lnku"})]}),i.jsxs(De,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"status",children:"Stav"}),i.jsxs(As,{value:o.status,onValueChange:g=>l({...o,status:g}),children:[i.jsx(ks,{id:"status",children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"draft",children:"Koncept"}),i.jsx(wt,{value:"published",children:"Publikovno"}),i.jsx(wt,{value:"archived",children:"Archivovno"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"featured_image",children:"URL nhledovho obrzku"}),i.jsx(Re,{id:"featured_image",value:o.featured_image,onChange:g=>l({...o,featured_image:g.target.value}),placeholder:"https://example.com/obrazek.jpg"}),o.featured_image&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:o.featured_image,alt:"Nhled",className:"w-full rounded-lg border object-cover"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{htmlFor:"tags",children:"ttky"}),i.jsx(Re,{id:"tags",value:o.tags,onChange:g=>l({...o,tags:g.target.value}),placeholder:"ttek1, ttek2, ttek3"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"ttky oddlujte rkou"})]})]})]})})})]})]})},ZDe={beginner:"Zacatecnik",intermediate:"Pokrocily",advanced:"Expert"},H0=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function WDe(){const e=Jt(),[t,n]=v.useState([]),[s,r]=v.useState([]),[a,o]=v.useState(!0),[l,u]=v.useState(""),[d,f]=v.useState(new Set),[m,g]=v.useState(null),[x,b]=v.useState([]),[w,j]=v.useState([]),[k,S]=v.useState(!1),[C,E]=v.useState(""),[T,M]=v.useState(!1),z=v.useCallback(async()=>{const[{data:R},{data:H}]=await Promise.all([ae.from("course_packages").select("id, title, description, order_index").order("order_index"),ae.from("courses").select("id, title, instructor, category, level, price, published, students_count, lessons_count, package_id, order_index").order("order_index")]);n(R??[]),r(H??[]),R&&f(new Set(R.map(K=>K.id))),o(!1)},[]);v.useEffect(()=>{z()},[z]);const A=async R=>{g(R),M(!0);const[{data:H},{data:K}]=await Promise.all([ae.from("course_enrollments").select("id, user_id, course_id, enrolled_at, completed").eq("course_id",R.id).order("enrolled_at",{ascending:!1}),ae.from("profiles").select("id, email, full_name")]);b(H??[]),j(K??[]),M(!1)},D=new Map;for(const R of w)D.set(R.id,R);const B=R=>D.get(R)??null,$=async()=>{if(!m||!C)return;if(x.find(K=>K.user_id===C)){Se.error("Uzivatel je jiz zapsan do tohoto kurzu");return}const{error:H}=await ae.from("course_enrollments").insert({user_id:C,course_id:m.id});if(H){Se.error("Chyba pri zapisu uzivatele");return}Se.success("Uzivatel uspesne zapsan do kurzu"),S(!1),E(""),A(m)},q=async R=>{const{error:H}=await ae.from("course_enrollments").delete().eq("id",R);if(H){Se.error("Chyba pri odebrani zapisu");return}Se.success("Zapis odebran"),b(K=>K.filter(ne=>ne.id!==R))},Z=async R=>{const{error:H}=await ae.from("course_enrollments").update({completed:!R.completed,completion_date:R.completed?null:new Date().toISOString()}).eq("id",R.id);if(H){Se.error("Chyba pri aktualizaci");return}b(K=>K.map(ne=>ne.id===R.id?{...ne,completed:!ne.completed}:ne)),Se.success(R.completed?"Oznaceno jako nedokoncene":"Oznaceno jako dokoncene")},F=async(R,H)=>{H.stopPropagation();const{error:K}=await ae.from("courses").update({published:!R.published,updated_at:new Date().toISOString()}).eq("id",R.id);if(K){Se.error("Chyba pri aktualizaci kurzu");return}Se.success(R.published?"Kurz skryt":"Kurz publikovan"),r(ne=>ne.map(ce=>ce.id===R.id?{...ce,published:!ce.published}:ce))},J=async(R,H)=>{if(H.stopPropagation(),!confirm(`Opravdu chcete smazat kurz "${R.title}"?`))return;const{error:K}=await ae.from("courses").delete().eq("id",R.id);if(K){Se.error("Nepodarilo se smazat kurz");return}Se.success("Kurz smazan"),r(ne=>ne.filter(ce=>ce.id!==R.id))},P=R=>{f(H=>{const K=new Set(H);return K.has(R)?K.delete(R):K.add(R),K})},I=s.filter(R=>{var H,K;return R.title.toLowerCase().includes(l.toLowerCase())||((H=R.instructor)==null?void 0:H.toLowerCase().includes(l.toLowerCase()))||((K=R.category)==null?void 0:K.toLowerCase().includes(l.toLowerCase()))}),L=w.filter(R=>!x.some(H=>H.user_id===R.id)),G=s.reduce((R,H)=>R+H.students_count,0),U=s.filter(R=>R.published).length;return a?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(Wo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Sprava kurzu"}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:[t.length," balicku, ",s.length," kurzu celkem"]})]}),i.jsxs(Q,{onClick:()=>e("/admin/courses/new"),children:[i.jsx(fs,{className:"mr-2 size-4"}),"Novy kurz"]})]}),i.jsxs(Oh,{className:"grid gap-4 sm:grid-cols-3",children:[i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{children:i.jsx(De,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/40",children:i.jsx(Hl,{className:"size-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:t.length}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Balicku"})]})]})})})})}),i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{children:i.jsx(De,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-green-100 dark:bg-green-900/40",children:i.jsx(Wt,{className:"size-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:[U,"/",s.length]}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Publikovanych kurzu"})]})]})})})})}),i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{children:i.jsx(De,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-amber-100 dark:bg-amber-900/40",children:i.jsx(qa,{className:"size-5 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:G}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Studentu celkem"})]})]})})})})})]}),i.jsxs("div",{className:"relative max-w-sm",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Re,{placeholder:"Hledat kurzy...",value:l,onChange:R=>u(R.target.value),className:"pl-9"})]}),i.jsxs("div",{className:"space-y-4",children:[t.map(R=>{const H=I.filter(ue=>ue.package_id===R.id);if(l&&H.length===0)return null;const K=d.has(R.id),ne=H.reduce((ue,Y)=>ue+Number(Y.price),0),ce=H.reduce((ue,Y)=>ue+Y.lessons_count,0);return i.jsxs(Oe,{children:[i.jsx(Je,{className:"cursor-pointer pb-3",onClick:()=>P(R.id),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[K?i.jsx(dr,{className:"size-5 text-neutral-400"}):i.jsx(hr,{className:"size-5 text-neutral-400"}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-base",children:R.title}),i.jsxs("p",{className:"mt-0.5 text-xs text-neutral-500",children:[H.length," kurzu | ",ce," lekci | ",H0(ne)," celkem"]})]})]}),i.jsxs(Le,{variant:"outline",className:"text-xs",children:[H.filter(ue=>ue.published).length,"/",H.length," aktivnich"]})]})}),i.jsx(gn,{children:K&&i.jsx(ee.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:[.4,0,.2,1]},className:"overflow-hidden",children:i.jsx(De,{className:"pt-0",children:i.jsxs("div",{className:"space-y-2",children:[H.map((ue,Y)=>i.jsx(jh,{index:Y,children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-neutral-50 dark:border-neutral-700 dark:hover:bg-neutral-800/50",children:[i.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>A(ue),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:ue.title}),ue.level&&i.jsx(Le,{variant:"outline",className:"text-[10px]",children:ZDe[ue.level]||ue.level})]}),i.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-neutral-500",children:[ue.instructor&&i.jsx("span",{children:ue.instructor}),i.jsxs("span",{children:[ue.lessons_count," lekci"]}),i.jsxs("span",{children:[ue.students_count," studentu"]}),i.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:H0(Number(ue.price))})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Q,{variant:"ghost",size:"icon",className:"size-7",onClick:le=>{le.stopPropagation(),e(`/admin/courses/${ue.id}`)},children:i.jsx(gk,{className:"size-3.5 text-muted-foreground"})}),i.jsx(Q,{variant:"ghost",size:"sm",className:"h-7 gap-1 px-2",onClick:le=>F(ue,le),children:ue.published?i.jsxs(i.Fragment,{children:[i.jsx(Vi,{className:"size-3 text-green-600"}),i.jsx("span",{className:"text-[10px] text-green-600",children:"Aktivni"})]}):i.jsxs(i.Fragment,{children:[i.jsx(wae,{className:"size-3 text-neutral-400"}),i.jsx("span",{className:"text-[10px] text-neutral-400",children:"Skryty"})]})}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-7 text-red-500 hover:text-red-600",onClick:le=>J(ue,le),children:i.jsx(cr,{className:"size-3.5"})})]})]})},ue.id)),H.length===0&&i.jsx("p",{className:"py-4 text-center text-sm text-neutral-500",children:"Zadne kurzy v tomto balicku"})]})})})})]},R.id)}),(()=>{const R=I.filter(H=>!H.package_id);return R.length===0?null:i.jsxs(Oe,{children:[i.jsx(Je,{className:"pb-3",children:i.jsx(Qe,{className:"text-base text-neutral-500",children:"Kurzy bez balicku"})}),i.jsx(De,{className:"pt-0",children:i.jsx("div",{className:"space-y-2",children:R.map(H=>i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-neutral-50 dark:border-neutral-700 dark:hover:bg-neutral-800/50",children:[i.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>A(H),children:[i.jsx("p",{className:"text-sm font-medium",children:H.title}),i.jsxs("p",{className:"mt-1 text-xs text-neutral-500",children:[H0(Number(H.price))," | ",H.lessons_count," lekci"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Q,{variant:"ghost",size:"icon",className:"size-7",onClick:K=>{K.stopPropagation(),e(`/admin/courses/${H.id}`)},children:i.jsx(gk,{className:"size-3.5 text-muted-foreground"})}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-7 text-red-500 hover:text-red-600",onClick:K=>J(H,K),children:i.jsx(cr,{className:"size-3.5"})})]})]},H.id))})})]})})()]}),I.length===0&&i.jsx("div",{className:"py-12 text-center text-neutral-500",children:"Zadne kurzy nenalezeny"}),i.jsx(Ka,{open:!!m,onOpenChange:()=>g(null),children:i.jsxs(pa,{className:"max-h-[85vh] overflow-y-auto sm:max-w-2xl",children:[i.jsx(ga,{children:i.jsxs(xa,{className:"flex items-center gap-2",children:[i.jsx(Wt,{className:"size-5"}),m==null?void 0:m.title]})}),m&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex gap-2",children:i.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>e(`/admin/courses/${m.id}`),children:[i.jsx(gk,{className:"mr-1 size-4"}),"Upravit kurz"]})}),i.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[i.jsxs("div",{className:"rounded-lg border p-3 dark:border-neutral-700",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Studenti"}),i.jsx("p",{className:"text-lg font-bold",children:m.students_count})]}),i.jsxs("div",{className:"rounded-lg border p-3 dark:border-neutral-700",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Lekce"}),i.jsx("p",{className:"text-lg font-bold",children:m.lessons_count})]}),i.jsxs("div",{className:"rounded-lg border p-3 dark:border-neutral-700",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Cena"}),i.jsx("p",{className:"text-lg font-bold",children:H0(Number(m.price))})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[i.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(u8,{className:"size-4"}),"Zapsani uzivatele (",x.length,")"]}),i.jsxs(Q,{size:"sm",onClick:()=>S(!0),children:[i.jsx(fs,{className:"mr-1 size-4"}),"Zapsat uzivatele"]})]}),T?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):x.length===0?i.jsx("p",{className:"text-sm text-neutral-500",children:"Zadni zapsani uzivatele"}):i.jsx("div",{className:"space-y-2",children:x.map(R=>{const H=B(R.user_id);return i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 dark:border-neutral-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:(H==null?void 0:H.full_name)||(H==null?void 0:H.email)||"Neznamy"}),i.jsxs("p",{className:"text-xs text-neutral-500",children:[H==null?void 0:H.email," | Zapsano: ",new Date(R.enrolled_at).toLocaleDateString("cs-CZ")]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>Z(R),children:R.completed?"Zrusit dokonceni":"Oznacit dokonceno"}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-8 text-red-500 hover:text-red-600",onClick:()=>q(R.id),children:i.jsx(cr,{className:"size-4"})})]})]},R.id)})})]})]})]})}),i.jsx(Ka,{open:k,onOpenChange:S,children:i.jsxs(pa,{className:"sm:max-w-md",children:[i.jsx(ga,{children:i.jsx(xa,{children:"Zapsat uzivatele do kurzu"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-neutral-500",children:['Vyberte uzivatele pro zapis do kurzu "',m==null?void 0:m.title,'"']}),i.jsxs(As,{value:C,onValueChange:E,children:[i.jsx(ks,{children:i.jsx(Rs,{placeholder:"Vyberte uzivatele..."})}),i.jsx(Ns,{children:L.map(R=>{var H;return i.jsxs(wt,{value:R.id,children:[R.full_name||((H=R.email)==null?void 0:H.split("@")[0])," (",R.email,")"]},R.id)})})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Q,{variant:"outline",onClick:()=>S(!1),children:"Zrusit"}),i.jsx(Q,{onClick:$,disabled:!C,children:"Zapsat"})]})]})]})})]})}const KDe=[{value:"storage",label:"Nahrat soubor"},{value:"youtube",label:"YouTube"},{value:"vimeo",label:"Vimeo"},{value:"custom",label:"Vlastni URL"}],GDe=["2160p","1440p","1080p","720p","480p","360p"];function rI(e,t){if(t==="youtube"){const n=e.match(/(?:embed\/|watch\?v=|youtu\.be\/|\/v\/)([a-zA-Z0-9_-]{11})/);return(n==null?void 0:n[1])??""}if(t==="vimeo"){const n=e.match(/vimeo\.com\/(\d+)/);return(n==null?void 0:n[1])??""}return""}function YDe(e,t){return t==="youtube"&&e?`https://www.youtube.com/embed/${e}`:t==="vimeo"&&e?`https://player.vimeo.com/video/${e}`:""}function iI(e,t){return t==="youtube"&&e?`https://img.youtube.com/vi/${e}/hqdefault.jpg`:""}function q0(e){if(e===0)return"0 B";const t=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(1)} ${t[n]}`}function RN(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),s=e%60;return t>0?`${t}h ${n}m`:`${n}m ${s}s`}const aI={title:"",description:"",video_provider:"storage",video_external_id:"",video_url:"",thumbnail_url:"",duration_seconds:0,file_size_bytes:0,resolution:"1080p",order_index:0,is_preview:!1,storage_path:""};function JDe({lessonId:e,courseId:t}){const[n,s]=v.useState([]),[r,a]=v.useState(!0),[o,l]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(null),[g,x]=v.useState(aI),[b,w]=v.useState(null),[j,k]=v.useState(0),[S,C]=v.useState(!1),E=v.useRef(null),T=v.useCallback(async()=>{if(e.startsWith("temp-")){a(!1);return}const{data:L}=await ae.from("course_videos").select("*").eq("lesson_id",e).order("order_index");s(L??[]),a(!1)},[e]);v.useEffect(()=>{T()},[T]);const M=()=>{m(null),x({...aI,order_index:n.length}),w(null),k(0),l(!0)},z=L=>{m(L.id),x({title:L.title,description:L.description,video_provider:L.video_provider,video_external_id:L.video_external_id,video_url:L.video_url,thumbnail_url:L.thumbnail_url,duration_seconds:L.duration_seconds,file_size_bytes:L.file_size_bytes,resolution:L.resolution,order_index:L.order_index,is_preview:L.is_preview,storage_path:L.storage_path||""}),w(null),k(0),l(!0)},A=L=>{var R;const G=(R=L.target.files)==null?void 0:R[0];if(!G)return;w(G),x(H=>({...H,title:H.title||G.name.replace(/\.[^/.]+$/,""),file_size_bytes:G.size}));const U=document.createElement("video");U.preload="metadata",U.onloadedmetadata=()=>{URL.revokeObjectURL(U.src),x(H=>({...H,duration_seconds:Math.round(U.duration)}))},U.src=URL.createObjectURL(G)},D=async L=>{var ue;const G=((ue=L.name.split(".").pop())==null?void 0:ue.toLowerCase())||"mp4",U=Date.now(),R=L.name.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9-_]/g,"_").slice(0,50),H=`${t}/${e}/${U}-${R}.${G}`;C(!0),k(0);const K=5*1024*1024,ne=Math.ceil(L.size/K);if(L.size<=K){const{error:Y}=await ae.storage.from("course-videos").upload(H,L,{cacheControl:"3600",upsert:!1});if(Y)return console.error("Upload error:",Y),Se.error(`Chyba nahravani: ${Y.message}`),C(!1),null;k(100)}else for(let Y=0;Y<ne;Y++){const le=Y*K,he=Math.min(le+K,L.size),be=L.slice(le,he);if(Y===0){const{error:we}=await ae.storage.from("course-videos").upload(H,be,{cacheControl:"3600",upsert:!1});if(we)return console.error("Upload error:",we),Se.error(`Chyba nahravani: ${we.message}`),C(!1),null}else{const{error:we}=await ae.storage.from("course-videos").update(H,L.slice(0,he),{cacheControl:"3600",upsert:!0});if(we)return console.error("Chunk upload error:",we),Se.error(`Chyba nahravani casti ${Y+1}: ${we.message}`),C(!1),null}k(Math.round((Y+1)/ne*100))}const{data:ce}=await ae.storage.from("course-videos").createSignedUrl(H,365*24*60*60);return C(!1),{path:H,url:(ce==null?void 0:ce.signedUrl)||""}},B=L=>{const G=rI(L,g.video_provider),U=iI(G,g.video_provider);x({...g,video_url:L,video_external_id:G,thumbnail_url:U||g.thumbnail_url})},$=L=>{const G=rI(g.video_url,L),U=iI(G,L);x({...g,video_provider:L,video_external_id:G,thumbnail_url:U||g.thumbnail_url}),w(null),k(0)},q=async()=>{if(!g.title.trim()){Se.error("Zadejte nazev videa");return}d(!0);let L=g.video_url,G=g.storage_path,U="completed";if(g.video_provider==="storage"&&b){const H=await D(b);if(!H){d(!1);return}L=H.url,G=H.path,U="completed"}else if(g.video_provider==="storage"&&!b&&!g.storage_path){Se.error("Vyberte soubor k nahrani"),d(!1);return}const R={lesson_id:e,title:g.title,description:g.description,video_provider:g.video_provider,video_external_id:g.video_external_id,video_url:L,thumbnail_url:g.thumbnail_url,duration_seconds:g.duration_seconds,file_size_bytes:g.file_size_bytes,resolution:g.resolution,order_index:g.order_index,is_preview:g.is_preview,storage_path:G,upload_status:U,updated_at:new Date().toISOString()};if(f){const{error:H}=await ae.from("course_videos").update(R).eq("id",f);if(H){Se.error("Chyba pri aktualizaci videa"),d(!1);return}Se.success("Video aktualizovano")}else{const{error:H}=await ae.from("course_videos").insert(R);if(H){Se.error("Chyba pri pridani videa"),d(!1);return}Se.success("Video nahrano a ulozeno")}d(!1),l(!1),w(null),k(0),T()},Z=async L=>{if(!confirm("Opravdu smazat toto video?"))return;L.storage_path&&await ae.storage.from("course-videos").remove([L.storage_path]);const{error:G}=await ae.from("course_videos").delete().eq("id",L.id);if(G){Se.error("Chyba pri mazani videa");return}Se.success("Video smazano"),s(U=>U.filter(R=>R.id!==L.id))},J=g.video_provider!=="storage"&&g.video_external_id?YDe(g.video_external_id,g.video_provider):"";if(e.startsWith("temp-"))return i.jsx("div",{className:"rounded-lg border border-dashed p-4 text-center text-sm text-muted-foreground",children:"Ulozte lekci pro spravu videi"});const P=n.reduce((L,G)=>L+G.file_size_bytes,0),I=n.reduce((L,G)=>L+G.duration_seconds,0);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Du,{className:"size-4 text-muted-foreground"}),i.jsxs("h4",{className:"text-sm font-semibold",children:["Videa (",n.length,")"]}),n.length>0&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:[RN(I)," | ~",q0(P)]})]}),i.jsxs(Q,{variant:"outline",size:"sm",onClick:M,children:[i.jsx(fs,{className:"mr-1 size-3.5"}),"Pridat video"]})]}),r?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(Ul,{className:"size-5 animate-spin text-muted-foreground"})}):n.length===0?i.jsx("div",{className:"rounded-lg border border-dashed p-4 text-center text-sm text-muted-foreground",children:"Zatim zadna videa. Pridejte prvni video pro tuto lekci."}):i.jsx("div",{className:"space-y-2",children:n.map(L=>i.jsx(Oe,{className:"cursor-pointer transition-colors hover:bg-muted/30",onClick:()=>z(L),children:i.jsxs(De,{className:"flex items-center gap-3 p-3",children:[L.thumbnail_url?i.jsx("img",{src:L.thumbnail_url,alt:L.title,className:"size-12 rounded object-cover"}):i.jsx("div",{className:"flex size-12 items-center justify-center rounded bg-muted",children:i.jsx(Poe,{className:"size-5 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:L.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(Le,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:L.video_provider==="storage"?"Nahrano":L.video_provider}),L.duration_seconds>0&&i.jsx("span",{children:RN(L.duration_seconds)}),i.jsx("span",{children:L.resolution}),L.file_size_bytes>0&&i.jsxs("span",{className:"flex items-center gap-0.5",children:[i.jsx(F3,{className:"size-2.5"}),q0(L.file_size_bytes)]}),L.upload_status==="completed"&&L.video_provider==="storage"&&i.jsx(Fs,{className:"size-3 text-green-500"}),L.upload_status==="failed"&&i.jsx(tae,{className:"size-3 text-red-500"}),L.is_preview&&i.jsx(Le,{className:"bg-green-100 text-green-700 text-[10px] px-1.5 py-0 dark:bg-green-900/40 dark:text-green-400",children:"Nahled"})]})]}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-7 text-red-500 hover:text-red-600",onClick:G=>{G.stopPropagation(),Z(L)},children:i.jsx(cr,{className:"size-3.5"})})]})},L.id))}),i.jsx(Ka,{open:o,onOpenChange:L=>{S||l(L)},children:i.jsxs(pa,{className:"max-h-[90vh] overflow-y-auto sm:max-w-xl",children:[i.jsx(ga,{children:i.jsx(xa,{children:f?"Upravit video":"Pridat video"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Zdroj videa"}),i.jsxs(As,{value:g.video_provider,onValueChange:$,children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsx(Ns,{children:KDe.map(L=>i.jsx(wt,{value:L.value,children:L.label},L.value))})]})]}),g.video_provider==="storage"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-2 rounded-lg border-2 border-dashed p-6 transition-colors hover:border-primary/40 hover:bg-muted/30 cursor-pointer",onClick:()=>{var L;return(L=E.current)==null?void 0:L.click()},children:[i.jsx(dce,{className:"size-8 text-muted-foreground"}),b?i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-medium",children:b.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:q0(b.size)})]}):g.storage_path?i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"Video nahrano"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[300px]",children:g.storage_path.split("/").pop()})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-medium",children:"Kliknte pro vyber souboru"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"MP4, WebM, MOV, AVI (max 5 GB)"})]}),i.jsx("input",{ref:E,type:"file",accept:"video/mp4,video/webm,video/quicktime,video/x-msvideo,video/x-matroska",className:"hidden",onChange:A})]}),S&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"Nahravani..."}),i.jsxs("span",{className:"tabular-nums",children:[j,"%"]})]}),i.jsx(Hi,{value:j,className:"h-2"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ie,{className:"flex items-center gap-1.5",children:[i.jsx(hoe,{className:"size-3.5"}),"URL videa"]}),i.jsx(Re,{value:g.video_url,onChange:L=>B(L.target.value),placeholder:g.video_provider==="youtube"?"https://youtube.com/watch?v=...":g.video_provider==="vimeo"?"https://vimeo.com/...":"https://..."}),g.video_external_id&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",g.video_external_id]})]}),J&&i.jsx("div",{className:"aspect-video overflow-hidden rounded-lg border",children:i.jsx("iframe",{src:J,title:g.title,className:"h-full w-full",allowFullScreen:!0})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Nazev videa"}),i.jsx(Re,{value:g.title,onChange:L=>x({...g,title:L.target.value}),placeholder:"Nazev videa"})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Delka (sekundy)"}),i.jsx(Re,{type:"number",value:g.duration_seconds,onChange:L=>x({...g,duration_seconds:Number(L.target.value)||0}),min:0}),g.duration_seconds>0&&i.jsx("p",{className:"text-xs text-muted-foreground",children:RN(g.duration_seconds)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Rozliseni"}),i.jsxs(As,{value:g.resolution,onValueChange:L=>x({...g,resolution:L}),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsx(Ns,{children:GDe.map(L=>i.jsx(wt,{value:L,children:L},L))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Poradi"}),i.jsx(Re,{type:"number",value:g.order_index,onChange:L=>x({...g,order_index:Number(L.target.value)||0}),min:0})]})]}),g.file_size_bytes>0&&i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(F3,{className:"size-3"}),"Velikost: ",q0(g.file_size_bytes)]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:g.is_preview,onChange:L=>x({...g,is_preview:L.target.checked}),className:"rounded"}),"Dostupne jako nahled zdarma"]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[i.jsx(Q,{variant:"outline",onClick:()=>l(!1),disabled:S,children:"Zrusit"}),i.jsxs(Q,{onClick:q,disabled:u||S,children:[(u||S)&&i.jsx(Ul,{className:"mr-2 size-4 animate-spin"}),S?"Nahravani...":f?"Ulozit":"Nahrat a ulozit"]})]})]})]})})]})}function XDe(){return`temp-${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function QDe({lessons:e,onChange:t,courseId:n}){const[s,r]=v.useState(null),a=()=>{const d={id:XDe(),title:"",description:"",video_url:"",duration:0,order_index:e.length,content:{html:"",blocks:[]}};t([...e,d]),r(d.id)},o=(d,f)=>{t(e.map(m=>m.id===d?{...m,...f}:m))},l=d=>{t(e.filter(f=>f.id!==d)),s===d&&r(null)},u=(d,f)=>{const m=f==="up"?d-1:d+1;if(m<0||m>=e.length)return;const g=[...e],x=g[d];g[d]=g[m],g[m]=x,g.forEach((b,w)=>{b.order_index=w}),t(g)};return i.jsxs("div",{className:"space-y-3",children:[e.map((d,f)=>{const m=s===d.id;return i.jsxs(Oe,{children:[i.jsxs("div",{className:"flex cursor-pointer items-center gap-3 p-4",onClick:()=>r(m?null:d.id),children:[i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx(Q,{variant:"ghost",size:"icon",className:"size-5",disabled:f===0,onClick:g=>{g.stopPropagation(),u(f,"up")},children:i.jsx(wu,{className:"size-3"})}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-5",disabled:f===e.length-1,onClick:g=>{g.stopPropagation(),u(f,"down")},children:i.jsx(dr,{className:"size-3"})})]}),i.jsx(W_,{className:"size-4 text-muted-foreground"}),i.jsx("span",{className:"flex size-7 items-center justify-center rounded-full bg-primary/10 text-xs font-semibold",children:f+1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:d.title||"Nova lekce"}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[d.duration>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(on,{className:"size-3"}),d.duration," min"]}),d.video_url&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Du,{className:"size-3"}),"Video"]})]})]}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-8 text-red-500 hover:text-red-600",onClick:g=>{g.stopPropagation(),l(d.id)},children:i.jsx(cr,{className:"size-4"})}),m?i.jsx(wu,{className:"size-4"}):i.jsx(dr,{className:"size-4"})]}),m&&i.jsxs(De,{className:"space-y-4 border-t pt-4",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[i.jsx(Ie,{children:"Nazev lekce"}),i.jsx(Re,{value:d.title,onChange:g=>o(d.id,{title:g.target.value}),placeholder:"Nazev lekce"})]}),i.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[i.jsx(Ie,{children:"Popis"}),i.jsx(fr,{value:d.description,onChange:g=>o(d.id,{description:g.target.value}),placeholder:"Kratky popis lekce",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"URL videa"}),i.jsx(Re,{value:d.video_url,onChange:g=>o(d.id,{video_url:g.target.value}),placeholder:"https://youtube.com/watch?v=..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Delka (minuty)"}),i.jsx(Re,{type:"number",value:d.duration,onChange:g=>o(d.id,{duration:Number(g.target.value)||0}),min:0})]})]}),i.jsx(JDe,{lessonId:d.id,courseId:n||""}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{className:"text-sm font-semibold",children:"Obsah lekce"}),i.jsxs(ja,{defaultValue:"wysiwyg",className:"w-full",children:[i.jsxs(Zi,{className:"grid w-full grid-cols-2",children:[i.jsx(kn,{value:"wysiwyg",children:"Vizualni editor"}),i.jsx(kn,{value:"blocks",children:"Bloky obsahu"})]}),i.jsx(Ln,{value:"wysiwyg",className:"mt-4",children:i.jsx(lZ,{content:d.content.html,onChange:g=>o(d.id,{content:{...d.content,html:g}})})}),i.jsx(Ln,{value:"blocks",className:"mt-4",children:i.jsx(AZ,{blocks:d.content.blocks,onChange:g=>o(d.id,{content:{...d.content,blocks:g}})})})]})]})]})]},d.id)}),i.jsxs(Q,{variant:"outline",className:"w-full",onClick:a,children:[i.jsx(fs,{className:"mr-2 size-4"}),"Pridat lekci"]}),e.length===0&&i.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"Zatim zadne lekce. Pridejte prvni lekci pro tento kurz."})]})}const ePe={single_choice:"Jedna spravna",multiple_choice:"Vice spravnych",true_false:"Pravda / Nepravda"},tPe={single_choice:aae,multiple_choice:Cle,true_false:l8};function Uc(){return`temp-${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function nPe({quizzes:e,onChange:t,lessons:n}){const[s,r]=v.useState(null),[a,o]=v.useState(null),l=()=>{const k={id:Uc(),title:"",description:"",lesson_id:null,order_index:e.length,questions:[]};t([...e,k]),r(k.id)},u=(k,S)=>{t(e.map(C=>C.id===k?{...C,...S}:C))},d=k=>{t(e.filter(S=>S.id!==k)),s===k&&r(null)},f=k=>{const S=e.find(E=>E.id===k);if(!S)return;const C={id:Uc(),question_text:"",question_type:"single_choice",explanation:"",order_index:S.questions.length,options:[{id:Uc(),option_text:"",is_correct:!0,order_index:0},{id:Uc(),option_text:"",is_correct:!1,order_index:1}]};u(k,{questions:[...S.questions,C]}),o(C.id)},m=(k,S,C)=>{const E=e.find(T=>T.id===k);E&&u(k,{questions:E.questions.map(T=>T.id===S?{...T,...C}:T)})},g=(k,S)=>{const C=e.find(E=>E.id===k);C&&u(k,{questions:C.questions.filter(E=>E.id!==S)})},x=(k,S)=>{const C=e.find(M=>M.id===k);if(!C)return;const E=C.questions.find(M=>M.id===S);if(!E)return;const T={id:Uc(),option_text:"",is_correct:!1,order_index:E.options.length};m(k,S,{options:[...E.options,T]})},b=(k,S,C,E)=>{const T=e.find(A=>A.id===k);if(!T)return;const M=T.questions.find(A=>A.id===S);if(!M)return;let z=M.options.map(A=>A.id===C?{...A,...E}:A);E.is_correct&&M.question_type==="single_choice"&&(z=z.map(A=>A.id===C?A:{...A,is_correct:!1})),m(k,S,{options:z})},w=(k,S,C)=>{const E=e.find(M=>M.id===k);if(!E)return;const T=E.questions.find(M=>M.id===S);T&&m(k,S,{options:T.options.filter(M=>M.id!==C)})},j=(k,S,C)=>{const E=e.find(z=>z.id===k);if(!E)return;const T=E.questions.find(z=>z.id===S);if(!T)return;let M=T.options;C==="true_false"&&(M=[{id:Uc(),option_text:"Pravda",is_correct:!0,order_index:0},{id:Uc(),option_text:"Nepravda",is_correct:!1,order_index:1}]),m(k,S,{question_type:C,options:M})};return i.jsxs("div",{className:"space-y-4",children:[e.map(k=>{var C;const S=s===k.id;return i.jsxs(Oe,{children:[i.jsxs("div",{className:"flex cursor-pointer items-center gap-3 p-4",onClick:()=>r(S?null:k.id),children:[i.jsx(W_,{className:"size-4 text-muted-foreground"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:k.title||"Novy kviz"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.questions.length," otazek",k.lesson_id&&n.find(E=>E.id===k.lesson_id)?` | Lekce: ${(C=n.find(E=>E.id===k.lesson_id))==null?void 0:C.title}`:" | Kviz kurzu"]})]}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-8 text-red-500 hover:text-red-600",onClick:E=>{E.stopPropagation(),d(k.id)},children:i.jsx(cr,{className:"size-4"})}),S?i.jsx(wu,{className:"size-4"}):i.jsx(dr,{className:"size-4"})]}),S&&i.jsxs(De,{className:"space-y-4 border-t pt-4",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Nazev kvizu"}),i.jsx(Re,{value:k.title,onChange:E=>u(k.id,{title:E.target.value}),placeholder:"Nazev kvizu"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Prirazena lekce"}),i.jsxs(As,{value:k.lesson_id||"course",onValueChange:E=>u(k.id,{lesson_id:E==="course"?null:E}),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"course",children:"Kviz kurzu (zadna lekce)"}),n.map(E=>i.jsx(wt,{value:E.id,children:E.title},E.id))]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Popis"}),i.jsx(fr,{value:k.description,onChange:E=>u(k.id,{description:E.target.value}),placeholder:"Popis kvizu",rows:2})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ie,{className:"text-sm font-semibold",children:"Otazky"}),i.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>f(k.id),children:[i.jsx(fs,{className:"mr-1 size-3"}),"Pridat otazku"]})]}),k.questions.map((E,T)=>{const M=a===E.id,z=tPe[E.question_type];return i.jsxs("div",{className:"rounded-lg border bg-muted/30",children:[i.jsxs("div",{className:"flex cursor-pointer items-center gap-2 p-3",onClick:()=>o(M?null:E.id),children:[i.jsx("span",{className:"flex size-6 items-center justify-center rounded-full bg-primary/10 text-xs font-medium",children:T+1}),i.jsx(z,{className:"size-3.5 text-muted-foreground"}),i.jsx("span",{className:"flex-1 truncate text-sm",children:E.question_text||"Nova otazka"}),i.jsx(Le,{variant:"outline",className:"text-[10px]",children:ePe[E.question_type]}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-6 text-red-500",onClick:A=>{A.stopPropagation(),g(k.id,E.id)},children:i.jsx(cr,{className:"size-3"})}),M?i.jsx(wu,{className:"size-3.5"}):i.jsx(dr,{className:"size-3.5"})]}),M&&i.jsxs("div",{className:"space-y-3 border-t p-3",children:[i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[i.jsx(Ie,{children:"Text otazky"}),i.jsx(fr,{value:E.question_text,onChange:A=>m(k.id,E.id,{question_text:A.target.value}),placeholder:"Zadejte otazku",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Typ otazky"}),i.jsxs(As,{value:E.question_type,onValueChange:A=>j(k.id,E.id,A),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"single_choice",children:"Jedna spravna odpoved"}),i.jsx(wt,{value:"multiple_choice",children:"Vice spravnych odpovedi"}),i.jsx(wt,{value:"true_false",children:"Pravda / Nepravda"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Vysvetleni (po odpovedi)"}),i.jsx(Re,{value:E.explanation,onChange:A=>m(k.id,E.id,{explanation:A.target.value}),placeholder:"Vysvetleni spravne odpovedi"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{className:"text-xs",children:"Moznosti odpovedi"}),E.options.map(A=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Eg,{checked:A.is_correct,onCheckedChange:D=>b(k.id,E.id,A.id,{is_correct:!!D})}),i.jsx(Re,{value:A.option_text,onChange:D=>b(k.id,E.id,A.id,{option_text:D.target.value}),placeholder:"Text moznosti",className:"flex-1",disabled:E.question_type==="true_false"}),A.is_correct&&i.jsx(Le,{variant:"outline",className:"shrink-0 border-emerald-300 bg-emerald-50 text-[10px] text-emerald-700 dark:border-emerald-700 dark:bg-emerald-950 dark:text-emerald-300",children:"Spravna"}),E.question_type!=="true_false"&&i.jsx(Q,{variant:"ghost",size:"icon",className:"size-7 text-red-500",onClick:()=>w(k.id,E.id,A.id),children:i.jsx(cr,{className:"size-3"})})]},A.id)),E.question_type!=="true_false"&&i.jsxs(Q,{variant:"ghost",size:"sm",className:"mt-1",onClick:()=>x(k.id,E.id),children:[i.jsx(fs,{className:"mr-1 size-3"}),"Pridat moznost"]})]})]})]},E.id)}),k.questions.length===0&&i.jsx("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"Zatim zadne otazky. Pridejte prvni otazku."})]})]})]},k.id)}),i.jsxs(Q,{variant:"outline",className:"w-full",onClick:l,children:[i.jsx(fs,{className:"mr-2 size-4"}),"Pridat kviz"]}),e.length===0&&i.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"Zatim zadne kvizy. Pridejte prvni kviz pro tento kurz."})]})}const sPe={title:"",description:"",instructor:"",thumbnail_url:"",category:"general",level:"beginner",duration:0,price:0,published:!1,package_id:null,order_index:0};function rPe(){const{id:e}=Ho(),t=Jt(),n=e&&e!=="new",[s,r]=v.useState(!1),[a,o]=v.useState(!1),[l,u]=v.useState(sPe),[d,f]=v.useState([]),[m,g]=v.useState([]),[x,b]=v.useState([]),w=v.useCallback(async()=>{const{data:z}=await ae.from("course_packages").select("id, title").order("order_index");b(z??[])},[]),j=v.useCallback(async()=>{if(n){r(!0);try{const{data:z,error:A}=await ae.from("courses").select("*").eq("id",e).maybeSingle();if(A)throw A;if(!z){Se.error("Kurz nenalezen"),t("/admin/courses");return}u({title:z.title,description:z.description||"",instructor:z.instructor||"",thumbnail_url:z.thumbnail_url||"",category:z.category||"general",level:z.level||"beginner",duration:z.duration||0,price:Number(z.price)||0,published:z.published??!1,package_id:z.package_id||null,order_index:z.order_index||0});const{data:D}=await ae.from("course_lessons").select("*").eq("course_id",e).order("order_index");D&&f(D.map($=>({id:$.id,title:$.title,description:$.description||"",video_url:$.video_url||"",duration:$.duration||0,order_index:$.order_index||0,content:$.content&&typeof $.content=="object"?{html:$.content.html||"",blocks:$.content.blocks||[]}:{html:"",blocks:[]}})));const{data:B}=await ae.from("course_quizzes").select("*").eq("course_id",e).order("order_index");if(B&&B.length>0){const $=B.map(P=>P.id),{data:q}=await ae.from("course_quiz_questions").select("*").in("quiz_id",$).order("order_index"),Z=(q||[]).map(P=>P.id);let F=[];if(Z.length>0){const{data:P}=await ae.from("course_quiz_options").select("*").in("question_id",Z).order("order_index");F=P||[]}const J=B.map(P=>{const I=(q||[]).filter(L=>L.quiz_id===P.id).map(L=>({id:L.id,question_text:L.question_text,question_type:L.question_type,explanation:L.explanation||"",order_index:L.order_index,options:F.filter(G=>G.question_id===L.id).map(G=>({id:G.id,option_text:G.option_text,is_correct:G.is_correct,order_index:G.order_index}))}));return{id:P.id,title:P.title,description:P.description||"",lesson_id:P.lesson_id||null,order_index:P.order_index,questions:I}});g(J)}}catch(z){console.error("Error fetching course:",z),Se.error("Nepodarilo se nacist kurz")}finally{r(!1)}}},[e,n,t]);v.useEffect(()=>{w(),j()},[w,j]);const k=async z=>{if(!l.title.trim()){Se.error("Zadejte nazev kurzu");return}o(!0);try{const A=d.reduce(($,q)=>$+q.duration,0),D={title:l.title,description:l.description,instructor:l.instructor,thumbnail_url:l.thumbnail_url,category:l.category,level:l.level,duration:A,price:l.price,published:z!==void 0?z:l.published,package_id:l.package_id,order_index:l.order_index,lessons_count:d.length,updated_at:new Date().toISOString()};let B=e;if(n){const{error:$}=await ae.from("courses").update(D).eq("id",e);if($)throw $}else{const{data:$,error:q}=await ae.from("courses").insert([D]).select().single();if(q)throw q;B=$.id}await S(B),await C(B),Se.success(n?"Kurz uspesne aktualizovan":"Kurz uspesne vytvoren"),!n&&B&&t(`/admin/courses/${B}`,{replace:!0})}catch(A){console.error("Error saving course:",A),Se.error("Nepodarilo se ulozit kurz")}finally{o(!1)}},S=async z=>{if(n){const{data:A}=await ae.from("course_lessons").select("id").eq("course_id",z),D=(A||[]).map(q=>q.id),B=d.filter(q=>!q.id.startsWith("temp-")).map(q=>q.id),$=D.filter(q=>!B.includes(q));$.length>0&&await ae.from("course_lessons").delete().in("id",$)}for(const A of d){const D=A.content.blocks.length>0?{html:vU(A.content.blocks),blocks:A.content.blocks}:{html:A.content.html,blocks:[]},B={course_id:z,title:A.title,description:A.description,video_url:A.video_url,duration:A.duration,order_index:A.order_index,content:D,updated_at:new Date().toISOString()};if(A.id.startsWith("temp-")){const{data:$}=await ae.from("course_lessons").insert([B]).select().single();$&&(A.id=$.id)}else await ae.from("course_lessons").update(B).eq("id",A.id)}},C=async z=>{if(n){const{data:A}=await ae.from("course_quizzes").select("id").eq("course_id",z),D=(A||[]).map(q=>q.id),B=m.filter(q=>!q.id.startsWith("temp-")).map(q=>q.id),$=D.filter(q=>!B.includes(q));$.length>0&&await ae.from("course_quizzes").delete().in("id",$)}for(const A of m){const D=A.lesson_id&&d.some(q=>q.id===A.lesson_id),B={course_id:z,title:A.title,description:A.description,lesson_id:D?A.lesson_id:null,order_index:A.order_index,updated_at:new Date().toISOString()};let $=A.id;if(A.id.startsWith("temp-")){const{data:q}=await ae.from("course_quizzes").insert([B]).select().single();q&&($=q.id)}else await ae.from("course_quizzes").update(B).eq("id",A.id);await E($,A.questions)}},E=async(z,A)=>{const{data:D}=await ae.from("course_quiz_questions").select("id").eq("quiz_id",z),B=(D||[]).map(Z=>Z.id),$=A.filter(Z=>!Z.id.startsWith("temp-")).map(Z=>Z.id),q=B.filter(Z=>!$.includes(Z));q.length>0&&await ae.from("course_quiz_questions").delete().in("id",q);for(const Z of A){const F={quiz_id:z,question_text:Z.question_text,question_type:Z.question_type,explanation:Z.explanation,order_index:Z.order_index};let J=Z.id;if(Z.id.startsWith("temp-")){const{data:P}=await ae.from("course_quiz_questions").insert([F]).select().single();P&&(J=P.id)}else await ae.from("course_quiz_questions").update(F).eq("id",Z.id);await T(J,Z.options)}},T=async(z,A)=>{const{data:D}=await ae.from("course_quiz_options").select("id").eq("question_id",z),B=(D||[]).map(Z=>Z.id),$=A.filter(Z=>!Z.id.startsWith("temp-")).map(Z=>Z.id),q=B.filter(Z=>!$.includes(Z));q.length>0&&await ae.from("course_quiz_options").delete().in("id",q);for(const Z of A){const F={question_id:z,option_text:Z.option_text,is_correct:Z.is_correct,order_index:Z.order_index};Z.id.startsWith("temp-")?await ae.from("course_quiz_options").insert([F]):await ae.from("course_quiz_options").update(F).eq("id",Z.id)}},M=async()=>{if(n&&confirm("Opravdu chcete smazat tento kurz? Tato akce je nevratna.")){o(!0);try{const{error:z}=await ae.from("courses").delete().eq("id",e);if(z)throw z;Se.success("Kurz smazan"),t("/admin/courses")}catch{Se.error("Nepodarilo se smazat kurz")}finally{o(!1)}}};return s?i.jsx("div",{className:"flex h-96 items-center justify-center",children:i.jsx(Ul,{className:"size-8 animate-spin text-muted-foreground"})}):i.jsxs(Wo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>t("/admin/courses"),children:i.jsx(da,{className:"size-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n?"Upravit kurz":"Novy kurz"}),i.jsx("p",{className:"text-muted-foreground",children:n?"Aktualizujte obsah a nastaveni kurzu":"Vytvorte novy kurz s lekcemi a kvizy"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[n&&i.jsx(Q,{variant:"outline",className:"text-red-500 hover:text-red-600",onClick:M,disabled:a,children:"Smazat kurz"}),i.jsxs(Q,{variant:"outline",onClick:()=>k(!1),disabled:a,children:[a&&i.jsx(Ul,{className:"mr-2 size-4 animate-spin"}),i.jsx(s8,{className:"mr-2 size-4"}),"Ulozit koncept"]}),i.jsxs(Q,{onClick:()=>k(!0),disabled:a,children:[a&&i.jsx(Ul,{className:"mr-2 size-4 animate-spin"}),i.jsx(Vi,{className:"mr-2 size-4"}),"Publikovat"]})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Zakladni informace"}),i.jsx(Qt,{children:"Nazev a popis kurzu"})]}),i.jsxs(De,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Nazev kurzu"}),i.jsx(Re,{value:l.title,onChange:z=>u({...l,title:z.target.value}),placeholder:"Zadejte nazev kurzu",className:"text-lg font-semibold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Popis"}),i.jsx(fr,{value:l.description,onChange:z=>u({...l,description:z.target.value}),placeholder:"Popis kurzu",rows:4})]})]})]}),i.jsxs(ja,{defaultValue:"lessons",className:"w-full",children:[i.jsxs(Zi,{className:"grid w-full grid-cols-2",children:[i.jsxs(kn,{value:"lessons",children:["Lekce (",d.length,")"]}),i.jsxs(kn,{value:"quizzes",children:["Kvizy (",m.length,")"]})]}),i.jsx(Ln,{value:"lessons",className:"mt-6",children:i.jsx(QDe,{lessons:d,onChange:f,courseId:e})}),i.jsx(Ln,{value:"quizzes",className:"mt-6",children:i.jsx(nPe,{quizzes:m,onChange:g,lessons:d.map(z=>({id:z.id,title:z.title||"Bez nazvu"}))})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(ee.div,{initial:{opacity:0,x:12},animate:{opacity:1,x:0},transition:{delay:.15},children:i.jsxs(Oe,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Nastaveni"}),i.jsx(Qt,{children:"Konfigurace kurzu"})]}),i.jsxs(De,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Stav"}),i.jsxs(As,{value:l.published?"published":"draft",onValueChange:z=>u({...l,published:z==="published"}),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"draft",children:"Koncept"}),i.jsx(wt,{value:"published",children:"Publikovano"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Balicek"}),i.jsxs(As,{value:l.package_id||"none",onValueChange:z=>u({...l,package_id:z==="none"?null:z}),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"none",children:"Bez balicku"}),x.map(z=>i.jsx(wt,{value:z.id,children:z.title},z.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Lektor"}),i.jsx(Re,{value:l.instructor,onChange:z=>u({...l,instructor:z.target.value}),placeholder:"Jmeno lektora"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Kategorie"}),i.jsx(Re,{value:l.category,onChange:z=>u({...l,category:z.target.value}),placeholder:"Kategorie kurzu"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Uroven"}),i.jsxs(As,{value:l.level,onValueChange:z=>u({...l,level:z}),children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"beginner",children:"Zacatecnik"}),i.jsx(wt,{value:"intermediate",children:"Pokrocily"}),i.jsx(wt,{value:"advanced",children:"Expert"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Cena (CZK)"}),i.jsx(Re,{type:"number",value:l.price,onChange:z=>u({...l,price:Number(z.target.value)||0}),min:0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ie,{children:"Poradi"}),i.jsx(Re,{type:"number",value:l.order_index,onChange:z=>u({...l,order_index:Number(z.target.value)||0}),min:0})]})]})]})}),i.jsx(ee.div,{initial:{opacity:0,x:12},animate:{opacity:1,x:0},transition:{delay:.25},children:i.jsxs(Oe,{children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Nahledovy obrazek"})}),i.jsxs(De,{className:"space-y-3",children:[i.jsx(Re,{value:l.thumbnail_url,onChange:z=>u({...l,thumbnail_url:z.target.value}),placeholder:"https://example.com/obrazek.jpg"}),l.thumbnail_url&&i.jsx("img",{src:l.thumbnail_url,alt:"Nahled",className:"w-full rounded-lg border object-cover"})]})]})})]})]})]})}const bm=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function iPe(){const[e,t]=v.useState([]),[n,s]=v.useState([]),[r,a]=v.useState([]),[o,l]=v.useState([]),[u,d]=v.useState(!0),[f,m]=v.useState(""),[g,x]=v.useState("purchases");v.useEffect(()=>{(async()=>{const[{data:A},{data:D},{data:B},{data:$}]=await Promise.all([ae.from("course_purchases").select("id, user_id, course_id, amount_paid, purchased_at, stripe_payment_intent_id").order("purchased_at",{ascending:!1}),ae.from("orders").select("id, user_id, status, total, stripe_payment_intent_id, created_at").order("created_at",{ascending:!1}),ae.from("profiles").select("id, email, full_name"),ae.from("courses").select("id, title")]);t(A??[]),s(D??[]),a(B??[]),l($??[]),d(!1)})()},[]);const b=new Map;for(const z of r)b.set(z.id,z);const w=new Map;for(const z of o)w.set(z.id,z.title);const j=z=>b.get(z)??null,k=z=>w.get(z)??"-",S=e.filter(z=>{var B,$,q;const A=f.toLowerCase(),D=j(z.user_id);return((B=D==null?void 0:D.email)==null?void 0:B.toLowerCase().includes(A))||(($=D==null?void 0:D.full_name)==null?void 0:$.toLowerCase().includes(A))||k(z.course_id).toLowerCase().includes(A)||((q=z.stripe_payment_intent_id)==null?void 0:q.toLowerCase().includes(A))}),C=n.filter(z=>{var B,$,q;const A=f.toLowerCase(),D=j(z.user_id);return((B=D==null?void 0:D.email)==null?void 0:B.toLowerCase().includes(A))||(($=D==null?void 0:D.full_name)==null?void 0:$.toLowerCase().includes(A))||z.id.toLowerCase().includes(A)||((q=z.stripe_payment_intent_id)==null?void 0:q.toLowerCase().includes(A))}),E=e.reduce((z,A)=>z+Number(A.amount_paid||0),0),T=n.reduce((z,A)=>z+Number(A.total||0),0),M=z=>{const A={pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-400",paid:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",completed:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",cancelled:"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-400",refunded:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400"};return i.jsx(Le,{className:A[z]||"",children:z})};return u?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(Wo,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Faktury a platby"}),i.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Prehled vsech plateb a objednavek"})]}),i.jsxs(Oh,{className:"grid gap-4 sm:grid-cols-3",children:[i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{children:i.jsxs(De,{className:"pt-6",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Prijmy z kurzu"}),i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:bm(E)}),i.jsxs("p",{className:"mt-1 text-xs text-neutral-400",children:[e.length," transakci"]})]})})})}),i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{children:i.jsxs(De,{className:"pt-6",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Prijmy z objednavek"}),i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:bm(T)}),i.jsxs("p",{className:"mt-1 text-xs text-neutral-400",children:[n.length," objednavek"]})]})})})}),i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{children:i.jsxs(De,{className:"pt-6",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Celkove prijmy"}),i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:bm(E+T)}),i.jsxs("p",{className:"mt-1 text-xs text-neutral-400",children:[e.length+n.length," celkem"]})]})})})})]}),i.jsx(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs("div",{className:"relative max-w-sm",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Re,{placeholder:"Hledat podle emailu, kurzu nebo ID platby...",value:f,onChange:z=>m(z.target.value),className:"pl-9"})]})}),i.jsx(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(ja,{value:g,onValueChange:x,children:[i.jsxs(Zi,{children:[i.jsxs(kn,{value:"purchases",children:["Nakupy kurzu (",e.length,")"]}),i.jsxs(kn,{value:"orders",children:["Objednavky (",n.length,")"]})]}),i.jsx(Ln,{value:"purchases",className:"mt-4",children:i.jsx(Oe,{children:i.jsx(De,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Uzivatel"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Kurz"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Castka"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Datum"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Stripe ID"})]})}),i.jsxs("tbody",{children:[S.map(z=>{var A,D,B,$;return i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:((A=j(z.user_id))==null?void 0:A.full_name)||((B=(D=j(z.user_id))==null?void 0:D.email)==null?void 0:B.split("@")[0])||"-"}),i.jsx("p",{className:"text-xs text-neutral-500",children:($=j(z.user_id))==null?void 0:$.email})]})}),i.jsx("td",{className:"px-4 py-3 text-neutral-700 dark:text-neutral-300",children:k(z.course_id)}),i.jsx("td",{className:"px-4 py-3 font-medium",children:bm(Number(z.amount_paid))}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:new Date(z.purchased_at).toLocaleDateString("cs-CZ")}),i.jsx("td",{className:"px-4 py-3",children:z.stripe_payment_intent_id?i.jsxs("code",{className:"rounded bg-neutral-100 px-1.5 py-0.5 text-xs dark:bg-neutral-800",children:[z.stripe_payment_intent_id.slice(0,20),"..."]}):i.jsx("span",{className:"text-neutral-400",children:"-"})})]},z.id)}),S.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-neutral-500",children:"Zadne nakupy nenalezeny"})})]})]})})})})}),i.jsx(Ln,{value:"orders",className:"mt-4",children:i.jsx(Oe,{children:i.jsx(De,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Uzivatel"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Celkem"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Datum"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Stripe ID"})]})}),i.jsxs("tbody",{children:[C.map(z=>{var A,D,B,$;return i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:((A=j(z.user_id))==null?void 0:A.full_name)||((B=(D=j(z.user_id))==null?void 0:D.email)==null?void 0:B.split("@")[0])||"-"}),i.jsx("p",{className:"text-xs text-neutral-500",children:($=j(z.user_id))==null?void 0:$.email})]})}),i.jsx("td",{className:"px-4 py-3",children:M(z.status)}),i.jsx("td",{className:"px-4 py-3 font-medium",children:bm(Number(z.total))}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:new Date(z.created_at).toLocaleDateString("cs-CZ")}),i.jsx("td",{className:"px-4 py-3",children:z.stripe_payment_intent_id?i.jsxs("code",{className:"rounded bg-neutral-100 px-1.5 py-0.5 text-xs dark:bg-neutral-800",children:[z.stripe_payment_intent_id.slice(0,20),"..."]}):i.jsx("span",{className:"text-neutral-400",children:"-"})})]},z.id)}),C.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-neutral-500",children:"Zadne objednavky nenalezeny"})})]})]})})})})})]})})]})}const ON={active:{label:"Aktivni",color:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",icon:Fs},trialing:{label:"Zkusebni",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-400",icon:on},cancelled:{label:"Zruseno",color:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-400",icon:X_},expired:{label:"Vyprselo",color:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",icon:uae}},aPe={free_trial:"Zkusebni",monthly:"Mesicni",lifetime:"Dozivotni"};function oPe(){const[e,t]=v.useState([]),[n,s]=v.useState([]),[r,a]=v.useState(!0),[o,l]=v.useState(""),[u,d]=v.useState("all"),[f,m]=v.useState("created_at"),[g,x]=v.useState("desc"),[b,w]=v.useState(!1),[j,k]=v.useState(""),[S,C]=v.useState("monthly"),[E,T]=v.useState(!1),M=new Map;for(const P of n)M.set(P.id,P);const z=P=>M.get(P)??null,A=v.useCallback(async()=>{const[{data:P},{data:I}]=await Promise.all([ae.from("subscriptions").select("*").order("created_at",{ascending:!1}),ae.from("profiles").select("id, email, full_name")]);t(P??[]),s(I??[]),a(!1)},[]);v.useEffect(()=>{A()},[A]);const D=async(P,I)=>{var U;const L={status:I,updated_at:new Date().toISOString()};I==="cancelled"&&(L.cancel_at_period_end=!0),I==="active"&&(L.cancel_at_period_end=!1);const{error:G}=await ae.from("subscriptions").update(L).eq("id",P.id);if(G){Se.error("Chyba pri aktualizaci predplatneho");return}Se.success(`Status zmenen na: ${((U=ON[I])==null?void 0:U.label)||I}`),t(R=>R.map(H=>H.id===P.id?{...H,status:I,...L}:H))},B=async()=>{if(!j||!S)return;T(!0);const P=e.find(I=>I.user_id===j);if(P){const{error:I}=await ae.from("subscriptions").update({plan_type:S,status:"active",cancel_at_period_end:!1,current_period_start:new Date().toISOString(),current_period_end:S==="lifetime"?null:new Date(Date.now()+2592e6).toISOString(),updated_at:new Date().toISOString()}).eq("id",P.id);if(I){Se.error("Chyba pri aktualizaci predplatneho"),T(!1);return}}else{const{error:I}=await ae.from("subscriptions").insert({user_id:j,plan_type:S,status:"active",current_period_start:new Date().toISOString(),current_period_end:S==="lifetime"?null:new Date(Date.now()+2592e6).toISOString()});if(I){Se.error("Chyba pri udeleni predplatneho"),T(!1);return}}Se.success("Predplatne udeleno"),w(!1),k(""),C("monthly"),T(!1),A()},$=e.filter(P=>{var R,H;const I=o.toLowerCase(),L=z(P.user_id),G=((R=L==null?void 0:L.email)==null?void 0:R.toLowerCase().includes(I))||((H=L==null?void 0:L.full_name)==null?void 0:H.toLowerCase().includes(I))||P.plan_type.toLowerCase().includes(I),U=u==="all"||P.status===u;return G&&U}).sort((P,I)=>{const L=f==="status"?P.status:P.created_at,G=f==="status"?I.status:I.created_at;return g==="asc"?L.localeCompare(G):G.localeCompare(L)}),q={active:e.filter(P=>P.status==="active").length,trialing:e.filter(P=>P.status==="trialing").length,cancelled:e.filter(P=>P.status==="cancelled").length,expired:e.filter(P=>P.status==="expired").length},Z=g==="asc"?wu:dr,F=P=>{f===P?x(I=>I==="asc"?"desc":"asc"):(m(P),x("asc"))},J=n.filter(P=>!e.some(I=>I.user_id===P.id));return r?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(Wo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Sprava predplatneho"}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:[e.length," predplatnych celkem"]})]}),i.jsxs(Q,{onClick:()=>w(!0),children:[i.jsx(u8,{className:"mr-2 size-4"}),"Udelit predplatne"]})]}),i.jsx(Oh,{className:"grid gap-4 sm:grid-cols-4",children:Object.entries(q).map(([P,I])=>{const L=ON[P],G=(L==null?void 0:L.icon)||sr;return i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{className:`cursor-pointer transition-shadow hover:shadow-md ${u===P?"ring-2 ring-primary":""}`,onClick:()=>d(u===P?"all":P),children:i.jsxs(De,{className:"flex items-center gap-3 pt-6",children:[i.jsx("div",{className:`flex size-10 items-center justify-center rounded-lg ${L==null?void 0:L.color.split(" ").slice(0,2).join(" ")}`,children:i.jsx(G,{className:`size-5 ${L==null?void 0:L.color.split(" ").slice(2).join(" ")}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:I}),i.jsx("p",{className:"text-xs text-neutral-500",children:(L==null?void 0:L.label)||P})]})]})})})},P)})}),i.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative max-w-sm",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Re,{placeholder:"Hledat podle emailu nebo jmena...",value:o,onChange:P=>l(P.target.value),className:"pl-9"})]}),i.jsx(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsx(Oe,{children:i.jsx(De,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Uzivatel"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Plan"}),i.jsx("th",{className:"cursor-pointer px-4 py-3 text-left font-medium text-neutral-500",onClick:()=>F("status"),children:i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Status",f==="status"&&i.jsx(Z,{className:"size-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Obdobi"}),i.jsx("th",{className:"cursor-pointer px-4 py-3 text-left font-medium text-neutral-500",onClick:()=>F("created_at"),children:i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Vytvoreno",f==="created_at"&&i.jsx(Z,{className:"size-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-right font-medium text-neutral-500",children:"Akce"})]})}),i.jsxs("tbody",{children:[$.map(P=>{var G;const I=z(P.user_id),L=ON[P.status];return i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:(I==null?void 0:I.full_name)||((G=I==null?void 0:I.email)==null?void 0:G.split("@")[0])||"-"}),i.jsx("p",{className:"text-xs text-neutral-500",children:I==null?void 0:I.email})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx(Le,{variant:"outline",children:aPe[P.plan_type]||P.plan_type})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx(Le,{className:(L==null?void 0:L.color)||"",children:(L==null?void 0:L.label)||P.status})}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:P.current_period_end?`do ${new Date(P.current_period_end).toLocaleDateString("cs-CZ")}`:P.plan_type==="lifetime"?"Dozivotni":"-"}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:new Date(P.created_at).toLocaleDateString("cs-CZ")}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[P.status!=="active"&&i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>D(P,"active"),className:"text-green-600 hover:text-green-700",children:"Aktivovat"}),P.status==="active"&&i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>D(P,"cancelled"),className:"text-amber-600 hover:text-amber-700",children:"Zrusit"}),P.status!=="expired"&&P.status!=="active"&&i.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>D(P,"expired"),className:"text-neutral-500 hover:text-neutral-600",children:"Vyprsit"})]})})]},P.id)}),$.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"Zadna predplatna nenalezena"})})]})]})})})})}),i.jsx(Ka,{open:b,onOpenChange:w,children:i.jsxs(pa,{className:"sm:max-w-md",children:[i.jsx(ga,{children:i.jsx(xa,{children:"Udelit predplatne"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"mb-1.5 block text-sm font-medium",children:"Uzivatel"}),i.jsxs(As,{value:j,onValueChange:k,children:[i.jsx(ks,{children:i.jsx(Rs,{placeholder:"Vyberte uzivatele..."})}),i.jsxs(Ns,{children:[J.map(P=>{var I;return i.jsxs(wt,{value:P.id,children:[P.full_name||((I=P.email)==null?void 0:I.split("@")[0])," (",P.email,")"]},P.id)}),J.length===0&&i.jsx("div",{className:"px-2 py-3 text-center text-sm text-neutral-500",children:"Vsichni uzivatele maji predplatne"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1.5 block text-sm font-medium",children:"Typ planu"}),i.jsxs(As,{value:S,onValueChange:C,children:[i.jsx(ks,{children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"free_trial",children:"Zkusebni"}),i.jsx(wt,{value:"monthly",children:"Mesicni"}),i.jsx(wt,{value:"lifetime",children:"Dozivotni"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(Q,{variant:"outline",onClick:()=>w(!1),children:"Zrusit"}),i.jsx(Q,{onClick:B,disabled:!j||E,children:E?"Udeluji...":"Udelit"})]})]})]})})]})}function lPe(){const[e,t]=v.useState([]),[n,s]=v.useState(!0),[r,a]=v.useState(""),[o,l]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(""),[g,x]=v.useState("percentage"),[b,w]=v.useState(""),[j,k]=v.useState(""),[S,C]=v.useState(""),[E,T]=v.useState(["monthly","lifetime"]),M=v.useCallback(async()=>{const{data:I}=await ae.from("promo_codes").select("*").order("created_at",{ascending:!1});t(I??[]),s(!1)},[]);v.useEffect(()=>{M()},[M]);const z=async I=>{const{error:L}=await ae.from("promo_codes").update({is_active:!I.is_active,updated_at:new Date().toISOString()}).eq("id",I.id);if(L){Se.error("Chyba pri aktualizaci promo kodu");return}Se.success(I.is_active?"Promo kod deaktivovan":"Promo kod aktivovan"),t(G=>G.map(U=>U.id===I.id?{...U,is_active:!U.is_active}:U))},A=async I=>{if(I.current_uses>0){Se.error("Nelze smazat promo kod s existujicimi pouzitimi");return}const{error:L}=await ae.from("promo_codes").delete().eq("id",I.id);if(L){Se.error("Chyba pri mazani promo kodu");return}Se.success("Promo kod smazan"),t(G=>G.filter(U=>U.id!==I.id))},D=()=>{const I="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let L="";for(let G=0;G<8;G++)L+=I.charAt(Math.floor(Math.random()*I.length));m(L)},B=async()=>{if(!f||!b){Se.error("Vyplnte vsechna povinne pole");return}d(!0);const{error:I}=await ae.from("promo_codes").insert({code:f.toUpperCase(),discount_type:g,discount_value:Number(b),applicable_plans:E,max_uses:j?Number(j):null,valid_until:S||null});if(I){Se.error(I.message.includes("unique")?"Kod jiz existuje":"Chyba pri vytvareni promo kodu"),d(!1);return}Se.success("Promo kod vytvoren"),l(!1),$(),d(!1),M()},$=()=>{m(""),x("percentage"),w(""),k(""),C(""),T(["monthly","lifetime"])},q=I=>{navigator.clipboard.writeText(I),Se.success("Kod zkopirovan do schranky")},Z=I=>{T(L=>L.includes(I)?L.filter(G=>G!==I):[...L,I])},F=e.filter(I=>I.code.toLowerCase().includes(r.toLowerCase())),J=e.filter(I=>I.is_active).length,P=e.reduce((I,L)=>I+L.current_uses,0);return n?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(Wo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Promo kody"}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:[e.length," kodu celkem, ",J," aktivnich"]})]}),i.jsxs(Q,{onClick:()=>{$(),l(!0)},children:[i.jsx(fs,{className:"mr-2 size-4"}),"Novy promo kod"]})]}),i.jsxs(Oh,{className:"grid gap-4 sm:grid-cols-3",children:[i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{children:i.jsxs(De,{className:"flex items-center gap-3 pt-6",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-blue-100/60 dark:bg-blue-900/30",children:i.jsx(Y_,{className:"size-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:e.length}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Celkem kodu"})]})]})})})}),i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{children:i.jsxs(De,{className:"flex items-center gap-3 pt-6",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-green-100/60 dark:bg-green-900/30",children:i.jsx(K3,{className:"size-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:J}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Aktivnich"})]})]})})})}),i.jsx(li,{children:i.jsx(ca,{children:i.jsx(Oe,{children:i.jsxs(De,{className:"flex items-center gap-3 pt-6",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-amber-100/60 dark:bg-amber-900/30",children:i.jsx(v2,{className:"size-5 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:P}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Celkem pouziti"})]})]})})})})]}),i.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative max-w-sm",children:[i.jsx(Xa,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Re,{placeholder:"Hledat promo kody...",value:r,onChange:I=>a(I.target.value),className:"pl-9"})]}),i.jsx(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsx(Oe,{children:i.jsx(De,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Kod"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Sleva"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Plany"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Pouziti"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Platnost"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-right font-medium text-neutral-500",children:"Akce"})]})}),i.jsxs("tbody",{children:[F.map(I=>i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"rounded bg-neutral-100 px-2 py-0.5 text-sm font-mono font-medium dark:bg-neutral-800",children:I.code}),i.jsx("button",{type:"button",onClick:()=>q(I.code),className:"text-neutral-400 transition-colors hover:text-neutral-600 dark:hover:text-neutral-300",children:i.jsx(v2,{className:"size-3.5"})})]})}),i.jsx("td",{className:"px-4 py-3 font-medium",children:I.discount_type==="percentage"?`${I.discount_value}%`:`${I.discount_value} CZK`}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:I.applicable_plans.map(L=>i.jsx(Le,{variant:"outline",className:"text-[10px]",children:L==="monthly"?"Mesicni":L==="lifetime"?"Dozivotni":L},L))})}),i.jsxs("td",{className:"px-4 py-3 text-neutral-600 dark:text-neutral-400",children:[I.current_uses,I.max_uses?` / ${I.max_uses}`:""]}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:I.valid_until?`do ${new Date(I.valid_until).toLocaleDateString("cs-CZ")}`:"Bez limitu"}),i.jsx("td",{className:"px-4 py-3",children:i.jsx(Le,{className:I.is_active?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400":"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",children:I.is_active?"Aktivni":"Neaktivni"})}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(Q,{variant:"ghost",size:"icon",className:"size-8",onClick:()=>z(I),title:I.is_active?"Deaktivovat":"Aktivovat",children:I.is_active?i.jsx(K3,{className:"size-4 text-green-600"}):i.jsx(l8,{className:"size-4 text-neutral-400"})}),i.jsx(Q,{variant:"ghost",size:"icon",className:"size-8 text-red-500 hover:text-red-600",onClick:()=>A(I),title:"Smazat",disabled:I.current_uses>0,children:i.jsx(cr,{className:"size-4"})})]})})]},I.id)),F.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:"Zadne promo kody nenalezeny"})})]})]})})})})}),i.jsx(Ka,{open:o,onOpenChange:l,children:i.jsxs(pa,{className:"sm:max-w-md",children:[i.jsx(ga,{children:i.jsx(xa,{children:"Novy promo kod"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Kod"}),i.jsxs("div",{className:"mt-1.5 flex gap-2",children:[i.jsx(Re,{value:f,onChange:I=>m(I.target.value.toUpperCase()),placeholder:"SLEVA20",className:"font-mono"}),i.jsx(Q,{variant:"outline",size:"sm",onClick:D,children:"Generovat"})]})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Typ slevy"}),i.jsxs(As,{value:g,onValueChange:x,children:[i.jsx(ks,{className:"mt-1.5",children:i.jsx(Rs,{})}),i.jsxs(Ns,{children:[i.jsx(wt,{value:"percentage",children:"Procenta (%)"}),i.jsx(wt,{value:"fixed",children:"Pevna castka (CZK)"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Hodnota slevy"}),i.jsx(Re,{type:"number",value:b,onChange:I=>w(I.target.value),placeholder:g==="percentage"?"20":"100",className:"mt-1.5"})]})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx(Ie,{children:"Max pouziti"}),i.jsx(Re,{type:"number",value:j,onChange:I=>k(I.target.value),placeholder:"Neomezeno",className:"mt-1.5"})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Platnost do"}),i.jsx(Re,{type:"date",value:S,onChange:I=>C(I.target.value),className:"mt-1.5"})]})]}),i.jsxs("div",{children:[i.jsx(Ie,{children:"Platne pro plany"}),i.jsx("div",{className:"mt-1.5 flex gap-2",children:["monthly","lifetime"].map(I=>i.jsx(Q,{type:"button",variant:E.includes(I)?"default":"outline",size:"sm",onClick:()=>Z(I),children:I==="monthly"?"Mesicni":"Dozivotni"},I))})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[i.jsx(Q,{variant:"outline",onClick:()=>l(!1),children:"Zrusit"}),i.jsx(Q,{onClick:B,disabled:!f||!b||u,children:u?"Vytvarim...":"Vytvorit"})]})]})]})})]})}const cPe=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function uPe({member:e,idx:t}){return i.jsx(ee.div,{initial:{opacity:0,y:28},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1,ease:[.33,1,.68,1]},children:i.jsxs(Be,{to:`/tym/${e.slug}`,className:"group relative flex h-full flex-col overflow-hidden rounded-2xl border border-neutral-200/50 bg-white transition-all duration-500 hover:border-neutral-300/80 hover:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.12)] dark:border-neutral-800/60 dark:bg-neutral-900 dark:hover:border-neutral-700 dark:hover:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.5)]",children:[i.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[i.jsx("img",{src:e.avatar_url,alt:e.name,className:"h-full w-full object-cover transition-all duration-700 ease-out group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent transition-opacity duration-500 group-hover:from-black/80 group-hover:via-black/30"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 transition-all duration-500 group-hover:opacity-100",children:i.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-white/15 backdrop-blur-md transition-transform duration-500 group-hover:scale-100 scale-75",children:i.jsx(vp,{className:"size-5 text-white"})})}),i.jsx("div",{className:"absolute top-4 left-4 flex gap-2",children:i.jsx("span",{className:"rounded-full bg-white/15 px-2.5 py-1 text-[11px] font-medium text-white backdrop-blur-md transition-all duration-300 group-hover:bg-white/25",children:e.role})}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5",children:[i.jsx("h3",{className:"text-xl font-bold tracking-tight text-white transition-transform duration-500 group-hover:-translate-y-1",children:e.name}),i.jsxs("div",{className:"mt-1.5 flex items-center gap-3 text-xs text-white/60",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ri,{className:"size-3"}),e.experience_years," let"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ha,{className:"size-3"}),e.location]})]})]})]}),i.jsxs("div",{className:"flex flex-1 flex-col p-5",children:[i.jsx("p",{className:"line-clamp-2 text-sm leading-relaxed text-neutral-500 dark:text-neutral-400",children:e.description}),i.jsxs("div",{className:"mt-3.5 flex flex-wrap gap-1.5",children:[e.specializations.slice(0,2).map(n=>i.jsx(Le,{variant:"outline",className:"rounded-full border-neutral-200 bg-neutral-50 text-[10px] font-normal text-neutral-600 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400",children:n},n)),e.specializations.length>2&&i.jsxs(Le,{variant:"outline",className:"rounded-full border-neutral-200 bg-neutral-50 text-[10px] font-normal text-neutral-600 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400",children:["+",e.specializations.length-2]})]}),i.jsx("div",{className:"mt-auto pt-4",children:i.jsxs("div",{className:"flex items-center justify-between border-t border-neutral-100 pt-4 dark:border-neutral-800",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:cPe(e.hourly_rate)}),i.jsx("span",{className:"text-[11px] text-neutral-400",children:"/ hod"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-medium text-neutral-900 dark:text-neutral-100",children:[i.jsxs("span",{className:"relative",children:["Zobrazit",i.jsx("span",{className:"absolute -bottom-0.5 left-0 h-px w-0 bg-neutral-900 transition-all duration-300 group-hover:w-full dark:bg-neutral-100"})]}),i.jsx(vp,{className:"size-3.5 transition-transform duration-300 group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})]})})]})]})})}function dPe(){const[e,t]=v.useState([]),[n,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{const{data:a}=await ae.from("team_members").select("id, name, role, slug, description, specializations, experience_years, avatar_url, hourly_rate, location").eq("is_active",!0).order("order_index");t(a??[]),s(!1)})()},[]),n?i.jsx("div",{className:"flex min-h-[600px] items-center justify-center",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsx("div",{className:"py-20",children:i.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-muted/40 px-6 py-16 sm:px-10 lg:px-16",children:[i.jsx("div",{className:"pointer-events-none absolute -right-24 -top-24 h-80 w-80 rounded-full bg-primary/10 blur-[90px]"}),i.jsx("div",{className:"pointer-events-none absolute -bottom-24 -left-20 h-72 w-72 rounded-full bg-primary/8 blur-[80px]"}),i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative text-center",children:[i.jsx(Le,{variant:"outline",className:"mb-4",children:"Nas tym"}),i.jsx("h1",{className:"text-3xl font-bold tracking-tight text-neutral-900 dark:text-neutral-100 sm:text-4xl lg:text-5xl",children:"Nasi odbornici"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-base text-neutral-600 dark:text-neutral-400 sm:text-lg",children:"Tym certifikovanych fyzioterapeutu s letitymi zkusenostmi. Vyberte si sveho specialistu a objednejte se na konzultaci."})]})]}),i.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map((r,a)=>i.jsx(uPe,{member:r,idx:a},r.id))}),e.length===0&&i.jsx("div",{className:"py-20 text-center text-neutral-500",children:"Zatim nejsou zadni clenove tymu."})]})})}const hPe=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function fPe({member:e}){const t=v.useRef(null),{scrollYProgress:n}=$_({target:t,offset:["start start","end start"]}),s=zo(n,[0,1],["0%","25%"]),r=zo(n,[0,1],[1,1.08]),a=zo(n,[0,1],["0%","40%"]),o=zo(n,[0,.6],[1,0]);return i.jsxs("div",{ref:t,className:"relative h-[520px] overflow-hidden sm:h-[600px] lg:h-[680px]",children:[i.jsx(ee.div,{className:"absolute inset-0",style:{y:s,scale:r},children:i.jsx("img",{src:e.avatar_url,alt:e.name,className:"h-full w-full object-cover"})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-black/5"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/30 to-transparent"}),i.jsx("div",{className:"absolute inset-x-0 top-0 z-10",children:i.jsx("div",{className:"mx-auto max-w-6xl px-4 pt-6 sm:px-6 lg:px-8",children:i.jsx(ee.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:i.jsx(s1,{children:i.jsxs(r1,{className:"text-xs sm:text-sm",children:[i.jsx(ai,{children:i.jsx(Do,{asChild:!0,children:i.jsxs(Be,{to:"/",className:"flex items-center gap-1.5 text-white/50 transition-colors hover:text-white/90",children:[i.jsx(Oi,{className:"size-3.5"}),i.jsx("span",{className:"hidden sm:inline",children:"Domov"})]})})}),i.jsx(Po,{children:i.jsx(hr,{className:"size-3.5 text-white/30"})}),i.jsx(ai,{children:i.jsx(Do,{asChild:!0,children:i.jsx(Be,{to:"/tym",className:"text-white/50 transition-colors hover:text-white/90",children:"Tym"})})}),i.jsx(Po,{children:i.jsx(hr,{className:"size-3.5 text-white/30"})}),i.jsx(ai,{children:i.jsx(i1,{className:"font-medium text-white/90",children:e.name})})]})})})})}),i.jsx(ee.div,{className:"absolute inset-x-0 bottom-0 z-10",style:{y:a,opacity:o},children:i.jsx("div",{className:"mx-auto max-w-6xl px-4 pb-12 sm:px-6 lg:px-8",children:i.jsxs(ee.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.15,ease:[.25,.46,.45,.94]},children:[i.jsx(ee.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},className:"mb-3 text-sm font-medium uppercase tracking-widest text-white/50",children:e.role}),i.jsx("h1",{className:"text-5xl font-bold tracking-tight text-white sm:text-6xl lg:text-7xl",children:e.name}),i.jsx(ee.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"mt-4 max-w-2xl text-base leading-relaxed text-white/55 sm:text-lg",children:e.description}),i.jsxs(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5,delay:.55},className:"mt-6 flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-white/45",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Ri,{className:"size-3.5 text-white/35"}),e.experience_years," let zkusenosti"]}),i.jsx("span",{className:"hidden text-white/20 sm:inline",children:"|"}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Ha,{className:"size-3.5 text-white/35"}),e.location]}),i.jsx("span",{className:"hidden text-white/20 sm:inline",children:"|"}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx($r,{className:"size-3.5 text-amber-400/70"}),"4.9 hodnoceni"]}),i.jsx("span",{className:"hidden text-white/20 sm:inline",children:"|"}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(on,{className:"size-3.5 text-white/35"}),hPe(e.hourly_rate)," / hod"]})]})]})})})]})}const ip={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},mPe={hidden:{opacity:0,scale:.92},visible:{opacity:1,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}};function pPe({images:e}){const[t,n]=v.useState(null);if(e.length===0)return null;const s=()=>{t!==null&&n((t+1)%e.length)},r=()=>{t!==null&&n((t-1+e.length)%e.length)};return i.jsxs(i.Fragment,{children:[i.jsxs(ee.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-5 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Galerie"}),i.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:e.map((a,o)=>i.jsxs(ee.button,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:o*.06},whileHover:{scale:1.03},onClick:()=>n(o),className:"group relative aspect-[4/3] overflow-hidden rounded-xl",children:[i.jsx("img",{src:a,alt:`Galerie ${o+1}`,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0 bg-black/0 transition-colors duration-300 group-hover:bg-black/20"})]},a))})]}),i.jsx(gn,{children:t!==null&&i.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:()=>n(null),children:[i.jsx(ee.img,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},src:e[t],alt:`Galerie ${t+1}`,className:"max-h-[85vh] max-w-[90vw] rounded-lg object-contain",onClick:a=>a.stopPropagation()},t),i.jsx("button",{onClick:()=>n(null),className:"absolute right-4 top-4 flex size-10 items-center justify-center rounded-full bg-white/10 text-white transition-colors hover:bg-white/20",children:i.jsx(Iu,{className:"size-5"})}),e.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:a=>{a.stopPropagation(),r()},className:"absolute left-4 top-1/2 flex size-10 -translate-y-1/2 items-center justify-center rounded-full bg-white/10 text-white transition-colors hover:bg-white/20",children:i.jsx(ag,{className:"size-5"})}),i.jsx("button",{onClick:a=>{a.stopPropagation(),s()},className:"absolute right-4 top-1/2 flex size-10 -translate-y-1/2 items-center justify-center rounded-full bg-white/10 text-white transition-colors hover:bg-white/20",children:i.jsx(hr,{className:"size-5"})})]}),i.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-sm text-white/60",children:[t+1," / ",e.length]})]})})]})}function gPe({location:e}){return i.jsxs(ee.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-5 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Lokace"}),i.jsx("div",{className:"overflow-hidden rounded-xl",children:i.jsx("iframe",{title:`Mapa - ${e}`,width:"100%",height:"280",src:"https://www.openstreetmap.org/export/embed.html?bbox=14.2,49.95,14.6,50.15&layer=mapnik&marker=50.05,14.4",className:"border-0"})}),i.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400",children:[i.jsx(Ha,{className:"size-3.5"}),e]})]})}function xPe({member:e}){return i.jsxs("div",{className:"space-y-12",children:[i.jsxs(ee.section,{variants:mPe,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-4 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"O mne"}),i.jsx("p",{className:"text-base leading-[1.9] text-neutral-600 dark:text-neutral-400",children:e.bio})]}),i.jsxs(ee.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-4 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Specializace"}),i.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:e.specializations.map((t,n)=>i.jsxs(ee.span,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.35,delay:n*.05},className:"text-base text-neutral-700 dark:text-neutral-300",children:[t,n<e.specializations.length-1&&i.jsx("span",{className:"ml-2 text-neutral-300 dark:text-neutral-600",children:"/"})]},t))})]}),e.certifications.length>0&&i.jsxs(ee.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-4 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Certifikace"}),i.jsx("ul",{className:"space-y-3",children:e.certifications.map((t,n)=>i.jsxs(ee.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.35,delay:n*.06},className:"flex items-start gap-3 text-sm leading-relaxed text-neutral-600 dark:text-neutral-400",children:[i.jsx(Fs,{className:"mt-0.5 size-4 shrink-0 text-emerald-500 dark:text-emerald-400"}),t]},t))})]}),e.education.length>0&&i.jsxs(ee.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-4 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Vzdelani"}),i.jsx("ul",{className:"space-y-3",children:e.education.map((t,n)=>i.jsxs(ee.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.35,delay:n*.06},className:"flex items-start gap-3 text-sm leading-relaxed text-neutral-600 dark:text-neutral-400",children:[i.jsx("span",{className:"mt-1.5 size-1.5 shrink-0 rounded-full bg-neutral-400 dark:bg-neutral-500"}),t]},t))})]}),e.gallery_images&&e.gallery_images.length>0&&i.jsx(pPe,{images:e.gallery_images}),i.jsx(gPe,{location:e.location})]})}const vPe=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function yPe({member:e}){const[t,n]=v.useState(!1),[s,r]=v.useState(""),[a,o]=v.useState(""),[l,u]=v.useState(""),d=async()=>{if(!s||!a||!l){Se.error("Vyplnte prosim vsechna pole");return}n(!0);const f=`mailto:${e.email}?subject=Dotaz od ${encodeURIComponent(s)}&body=${encodeURIComponent(l)}%0A%0AOdpovedet na: ${encodeURIComponent(a)}`;window.location.href=f,setTimeout(()=>{Se.success("Email klient byl otevren"),n(!1)},500)};return i.jsxs("div",{className:"space-y-8 lg:sticky lg:top-28 lg:self-start",children:[i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[i.jsx("h3",{className:"mb-1 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Cena konzultace"}),i.jsxs("div",{className:"mt-3 flex items-baseline gap-2",children:[i.jsx("span",{className:"text-3xl font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:vPe(e.hourly_rate)}),i.jsx("span",{className:"text-sm text-neutral-400",children:"/ hodina"})]}),i.jsx("div",{className:"mt-4 space-y-2",children:["Individualni pristup","Diagnostika zahrnuta","Cvicebni plan na miru"].map((f,m)=>i.jsxs(ee.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.45+m*.06,duration:.3},className:"flex items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400",children:[i.jsx(Fs,{className:"size-3.5 text-emerald-500 dark:text-emerald-400"}),f]},f))})]}),i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[i.jsx("h3",{className:"mb-3 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Kontakt"}),i.jsxs("div",{className:"space-y-2.5",children:[i.jsxs("a",{href:`mailto:${e.email}`,className:"flex items-center gap-2.5 text-sm text-neutral-600 transition-colors hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-200",children:[i.jsx(K_,{className:"size-3.5 text-neutral-400"}),e.email]}),i.jsxs("a",{href:`tel:${e.phone}`,className:"flex items-center gap-2.5 text-sm text-neutral-600 transition-colors hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-200",children:[i.jsx(QL,{className:"size-3.5 text-neutral-400"}),e.phone]}),i.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-neutral-600 dark:text-neutral-400",children:[i.jsx(Ha,{className:"size-3.5 text-neutral-400"}),e.location]})]})]}),i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"rounded-2xl border border-neutral-200/60 bg-white p-6 dark:border-neutral-800 dark:bg-neutral-900",children:[i.jsx("h3",{className:"mb-4 text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:"Napiste mi"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ie,{className:"text-xs font-medium text-neutral-500",children:"Vase jmeno"}),i.jsx(Re,{value:s,onChange:f=>r(f.target.value),placeholder:"Jan Novak",className:"mt-1.5 rounded-xl border-neutral-200 bg-neutral-50/50 dark:border-neutral-700 dark:bg-neutral-800/50"})]}),i.jsxs("div",{children:[i.jsx(Ie,{className:"text-xs font-medium text-neutral-500",children:"Vas email"}),i.jsx(Re,{type:"email",value:a,onChange:f=>o(f.target.value),placeholder:"jan@email.cz",className:"mt-1.5 rounded-xl border-neutral-200 bg-neutral-50/50 dark:border-neutral-700 dark:bg-neutral-800/50"})]}),i.jsxs("div",{children:[i.jsx(Ie,{className:"text-xs font-medium text-neutral-500",children:"Zprava"}),i.jsx(fr,{value:l,onChange:f=>u(f.target.value),placeholder:"Rad bych se objednal na konzultaci...",rows:4,className:"mt-1.5 resize-none rounded-xl border-neutral-200 bg-neutral-50/50 dark:border-neutral-700 dark:bg-neutral-800/50"})]}),i.jsxs(Q,{className:"mt-1 w-full rounded-xl",onClick:d,disabled:t||!s||!a||!l,children:[i.jsx(r8,{className:"mr-2 size-4"}),t?"Oteviram...":"Odeslat zpravu"]}),i.jsxs("p",{className:"text-center text-[11px] text-neutral-400",children:["Zprava bude odeslana na ",e.email]})]})]})]})}function bPe(){const{slug:e}=Ho(),[t,n]=v.useState(null),[s,r]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(!e)return;const{data:o}=await ae.from("team_members").select("*").eq("slug",e).eq("is_active",!0).maybeSingle();n(o),r(!1)})()},[e]),s?i.jsx("div",{className:"flex min-h-[600px] items-center justify-center",children:i.jsx(ee.div,{initial:{opacity:0},animate:{opacity:1},className:"h-10 w-10 animate-spin rounded-full border-2 border-neutral-300 border-t-neutral-900 dark:border-neutral-700 dark:border-t-neutral-100"})}):t?i.jsxs("div",{className:"pb-24",children:[i.jsx(fPe,{member:t}),i.jsx("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"mt-12 grid gap-10 lg:grid-cols-[1fr_380px] lg:gap-14",children:[i.jsx(xPe,{member:t}),i.jsx(yPe,{member:t})]})})]}):i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex min-h-[500px] flex-col items-center justify-center gap-4",children:[i.jsx("div",{className:"flex size-16 items-center justify-center rounded-2xl bg-neutral-100 dark:bg-neutral-800",children:i.jsx(qa,{className:"size-7 text-neutral-400"})}),i.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:"Clen tymu nenalezen"}),i.jsx("p",{className:"text-sm text-neutral-500",children:"Tento profil neexistuje nebo byl odstranen."}),i.jsx(Q,{asChild:!0,variant:"outline",className:"mt-2 rounded-xl",children:i.jsxs(Be,{to:"/tym",children:[i.jsx(da,{className:"mr-2 size-4"}),"Zpet na tym"]})})]})}const oI={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.1}}},lI={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.45,ease:"easeOut"}}};function wPe(e){return e?new Date(e).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"}):""}function jPe(e){return Math.max(2,Math.ceil(e.split(/\s+/).length/40))}function kPe(){const[e,t]=v.useState([]),[n,s]=v.useState(!0),[r,a]=v.useState(""),[o,l]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:g}=await ae.from("blogs").select("id, title, slug, excerpt, featured_image, tags, view_count, published_at, created_at").eq("status","published").order("published_at",{ascending:!1});t(g??[]),s(!1)})()},[]);const u=v.useMemo(()=>{var x;const g=new Set;for(const b of e)(x=b.tags)==null||x.forEach(w=>g.add(w));return Array.from(g).sort()},[e]),d=v.useMemo(()=>e.filter(g=>{var j;const x=r.toLowerCase(),b=!x||g.title.toLowerCase().includes(x)||g.excerpt.toLowerCase().includes(x),w=!o||((j=g.tags)==null?void 0:j.includes(o));return b&&w}),[e,r,o]),f=d[0],m=d.slice(1);return i.jsxs("section",{className:"pb-24",children:[i.jsx("div",{className:"border-b border-border/50 bg-muted/30",children:i.jsxs("div",{className:"container mx-auto max-w-7xl px-4 pt-32 pb-14 sm:px-6",children:[i.jsxs(ee.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[i.jsx(Le,{variant:"outline",className:"mb-4 text-xs font-medium tracking-wide",children:"Blog"}),i.jsx("h1",{className:"max-w-2xl text-3xl font-bold tracking-tight sm:text-4xl lg:text-5xl",children:"Novinky ze sveta fyzioterapie"}),i.jsx("p",{className:"mt-4 max-w-lg text-base leading-relaxed text-muted-foreground",children:"Odborne clanky, rady a tipy od nasich certifikovanych fyzioterapeutu. Vzdelavejte se a pecujte o sve zdravi."})]}),i.jsxs(ee.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2,ease:"easeOut"},className:"mt-8 flex flex-col gap-4 sm:flex-row sm:items-center",children:[i.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[i.jsx(Xa,{className:"absolute top-1/2 left-3 size-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(Re,{placeholder:"Hledat clanky...",value:r,onChange:g=>a(g.target.value),className:"pl-9 h-9 text-sm"})]}),i.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[i.jsx("button",{onClick:()=>l(null),className:se("rounded-full px-3 py-1 text-xs font-medium transition-all duration-200",o?"bg-muted text-muted-foreground hover:bg-accent hover:text-accent-foreground":"bg-foreground text-background shadow-sm"),children:"Vse"}),u.map(g=>i.jsx("button",{onClick:()=>l(o===g?null:g),className:se("rounded-full px-3 py-1 text-xs font-medium transition-all duration-200",o===g?"bg-foreground text-background shadow-sm":"bg-muted text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:g},g))]})]})]})}),i.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6",children:n?i.jsx(_Pe,{}):d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center",children:[i.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Zadne clanky nebyly nalezeny"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground/70",children:"Zkuste zmenit vyhledavani nebo filtr."})]}):i.jsxs(ee.div,{variants:oI,initial:"hidden",animate:"visible",children:[f&&i.jsx(ee.div,{variants:lI,className:"mt-12",children:i.jsx(NPe,{blog:f})}),m.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(It,{className:"my-12"}),i.jsx(ee.div,{variants:oI,className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3",children:m.map(g=>i.jsx(ee.div,{variants:lI,children:i.jsx(SPe,{blog:g})},g.id))})]})]})})]})}function NPe({blog:e}){var t;return i.jsx(Be,{to:`/blog/${e.slug}`,children:i.jsxs(ee.article,{className:"group grid overflow-hidden rounded-2xl border bg-card lg:grid-cols-5",whileHover:{y:-3},transition:{type:"spring",stiffness:300,damping:25},children:[i.jsx("div",{className:"aspect-[16/10] overflow-hidden lg:col-span-3 lg:aspect-auto lg:h-full",children:e.featured_image?i.jsx("img",{src:e.featured_image,alt:e.title,className:"size-full object-cover transition-transform duration-700 group-hover:scale-[1.03]"}):i.jsx("div",{className:"size-full bg-muted"})}),i.jsxs("div",{className:"flex flex-col justify-center p-6 lg:col-span-2 lg:p-10",children:[i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:(t=e.tags)==null?void 0:t.slice(0,3).map(n=>i.jsx(Le,{variant:"secondary",className:"text-[10px] font-medium",children:n},n))}),i.jsx("h2",{className:"mt-4 text-xl font-bold tracking-tight transition-colors group-hover:text-muted-foreground sm:text-2xl lg:text-3xl",children:e.title}),i.jsx("p",{className:"mt-3 line-clamp-3 text-sm leading-relaxed text-muted-foreground",children:e.excerpt}),i.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[i.jsx(In,{className:"size-7 border",children:i.jsx(hs,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=80"})}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Fyzioterapie tym"}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ha,{className:"size-3"}),wPe(e.published_at||e.created_at)]})]})]}),i.jsxs("span",{className:"mt-5 inline-flex items-center gap-1.5 text-sm font-medium",children:["Cist clanek",i.jsx(ur,{className:"size-3.5 transition-transform duration-300 group-hover:translate-x-1"})]})]})]})})}function SPe({blog:e}){var t;return i.jsx(Be,{to:`/blog/${e.slug}`,children:i.jsxs(ee.article,{className:"group flex h-full flex-col overflow-hidden rounded-xl border bg-card transition-shadow duration-300 hover:shadow-lg hover:shadow-black/5 dark:hover:shadow-white/5",whileHover:{y:-5},transition:{type:"spring",stiffness:400,damping:25},children:[i.jsx("div",{className:"aspect-[16/10] overflow-hidden",children:e.featured_image?i.jsx("img",{src:e.featured_image,alt:e.title,className:"size-full object-cover transition-transform duration-700 group-hover:scale-[1.04]"}):i.jsx("div",{className:"size-full bg-muted"})}),i.jsxs("div",{className:"flex flex-1 flex-col p-5",children:[i.jsx("div",{className:"flex flex-wrap items-center gap-1.5",children:(t=e.tags)==null?void 0:t.slice(0,2).map(n=>i.jsxs("span",{className:"inline-flex items-center gap-0.5 rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:[i.jsx(bp,{className:"size-2.5"}),n]},n))}),i.jsx("h3",{className:"mt-3 line-clamp-2 text-base font-semibold tracking-tight transition-colors group-hover:text-muted-foreground",children:e.title}),i.jsx("p",{className:"mt-2 line-clamp-2 text-xs leading-relaxed text-muted-foreground",children:e.excerpt}),i.jsxs("div",{className:"mt-auto flex items-center justify-between pt-5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(In,{className:"size-6 border",children:i.jsx(hs,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=80"})}),i.jsx("span",{className:"text-[11px] font-medium",children:"Fyzioterapie tym"})]}),i.jsxs("div",{className:"flex items-center gap-2.5 text-[11px] text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-0.5",children:[i.jsx(on,{className:"size-3"}),jPe(e.excerpt)," min"]}),i.jsxs("span",{className:"flex items-center gap-0.5",children:[i.jsx(Vi,{className:"size-3"}),e.view_count]})]})]})]})]})})}function _Pe(){return i.jsxs("div",{className:"mt-12 space-y-12",children:[i.jsxs("div",{className:"grid overflow-hidden rounded-2xl border lg:grid-cols-5",children:[i.jsx(Gt,{className:"aspect-[16/10] lg:col-span-3 lg:aspect-auto lg:min-h-[360px]"}),i.jsxs("div",{className:"space-y-4 p-10 lg:col-span-2",children:[i.jsx(Gt,{className:"h-5 w-24"}),i.jsx(Gt,{className:"h-9 w-full"}),i.jsx(Gt,{className:"h-9 w-3/4"}),i.jsx(Gt,{className:"h-4 w-full"}),i.jsx(Gt,{className:"h-4 w-2/3"}),i.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[i.jsx(Gt,{className:"size-7 rounded-full"}),i.jsx(Gt,{className:"h-3 w-32"})]})]})]}),i.jsx(It,{}),i.jsx("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,t)=>i.jsxs("div",{className:"space-y-3 rounded-xl border p-0 overflow-hidden",children:[i.jsx(Gt,{className:"aspect-[16/10] rounded-none"}),i.jsxs("div",{className:"space-y-2 p-5 pt-2",children:[i.jsx(Gt,{className:"h-3 w-16"}),i.jsx(Gt,{className:"h-5 w-full"}),i.jsx(Gt,{className:"h-3 w-full"}),i.jsx(Gt,{className:"h-3 w-1/2"}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsx(Gt,{className:"h-3 w-20"}),i.jsx(Gt,{className:"h-3 w-16"})]})]})]},t))})]})}function cI(e){return e?new Date(e).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"}):""}function CPe(e){const t=e.replace(/<[^>]*>/g," ");return Math.max(2,Math.ceil(t.split(/\s+/).filter(Boolean).length/200))}function EPe(e){return e.toLowerCase().replace(/[^a-z0-9\u00C0-\u024F]+/gi,"-").replace(/^-+|-+$/g,"")}function TPe(e){const t=[],n=e.replace(/<h2([^>]*)>(.*?)<\/h2>/gi,(s,r,a)=>{const o=a.replace(/<[^>]*>/g,"").trim(),l=EPe(o);return t.push({id:l,text:o}),`<h2${r} id="${l}">${a}</h2>`});return{headings:t,processedHtml:n}}function zPe(){var k;const{slug:e}=Ho(),[t,n]=v.useState(null),[s,r]=v.useState([]),[a,o]=v.useState(!0),[l,u]=v.useState(!1),[d,f]=v.useState(null),m=v.useRef({});v.useEffect(()=>{e&&(async()=>{o(!0);const{data:S,error:C}=await ae.from("blogs").select("*").eq("slug",e).eq("status","published").maybeSingle();if(C||!S){u(!0),o(!1);return}n(S),u(!1),await ae.from("blogs").update({view_count:(S.view_count??0)+1}).eq("id",S.id);const{data:E}=await ae.from("blogs").select("id, title, slug, excerpt, featured_image, published_at, created_at").eq("status","published").neq("id",S.id).order("published_at",{ascending:!1}).limit(3);r(E??[]),o(!1)})()},[e]);const{headings:g,processedHtml:x}=v.useMemo(()=>{var C;const S=((C=t==null?void 0:t.content)==null?void 0:C.html)??"";return TPe(S)},[t]),b=v.useCallback(()=>{if(Object.keys(m.current).length===0)return;const C=new IntersectionObserver(E=>{for(const T of E)T.isIntersecting&&f(T.target.id)},{rootMargin:"-80px 0px -60% 0px",threshold:0});for(const E of Object.values(m.current))C.observe(E);return()=>C.disconnect()},[]);if(v.useEffect(()=>{if(!x||g.length===0)return;const S=setTimeout(()=>{m.current={};for(const C of g){const E=document.getElementById(C.id);E&&(m.current[C.id]=E)}b()},100);return()=>clearTimeout(S)},[x,g,b]),a)return i.jsx(MPe,{});if(l||!t)return i.jsxs("div",{className:"flex min-h-[60vh] flex-col items-center justify-center px-4 pt-32 text-center",children:[i.jsx("h1",{className:"text-2xl font-semibold text-neutral-900 dark:text-white",children:"Clanek nenalezen"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Tento clanek neexistuje nebo byl odstranen."}),i.jsx(Q,{asChild:!0,variant:"outline",className:"mt-6",children:i.jsxs(Be,{to:"/blog",children:[i.jsx(da,{className:"mr-2 size-4"}),"Zpet na blog"]})})]});const w=CPe(x),j=typeof window<"u"?window.location.href:"";return i.jsx("section",{className:"pt-28 pb-20",children:i.jsxs("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6",children:[i.jsxs(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsx(s1,{children:i.jsxs(r1,{children:[i.jsx(ai,{children:i.jsx(Do,{asChild:!0,children:i.jsx(Be,{to:"/",children:i.jsx(Oi,{className:"size-4"})})})}),i.jsx(Po,{}),i.jsx(ai,{children:i.jsx(Do,{asChild:!0,children:i.jsx(Be,{to:"/blog",children:"Blog"})})}),i.jsx(Po,{}),i.jsx(ai,{children:i.jsx(i1,{className:"line-clamp-1 max-w-[200px]",children:t.title})})]})}),i.jsx("h1",{className:"mt-9 mb-7 max-w-3xl text-3xl font-bold tracking-tight md:mb-10 md:text-5xl lg:text-6xl",children:t.title}),i.jsxs("div",{className:"flex items-center gap-3 text-sm md:text-base",children:[i.jsx(In,{className:"size-8 border",children:i.jsx(hs,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=80"})}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Fyzioterapie tym"}),i.jsx("span",{className:"ml-1 text-muted-foreground",children:cI(t.published_at||t.created_at)})]})]})]}),i.jsxs("div",{className:"relative mt-12 grid max-w-7xl gap-14 lg:mt-14 lg:grid-cols-12 lg:gap-6",children:[i.jsxs(ee.div,{className:"order-2 lg:order-none lg:col-span-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[t.featured_image&&i.jsx("img",{src:t.featured_image,alt:t.title,className:"mt-0 mb-8 aspect-video w-full rounded-lg border object-cover"}),t.excerpt&&i.jsx("p",{className:"mb-8 text-sm leading-relaxed text-muted-foreground",children:t.excerpt}),i.jsxs("div",{className:"flex items-center gap-4 mb-8 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(on,{className:"size-3.5"}),w," min cteni"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Vi,{className:"size-3.5"}),t.view_count," zobrazeni"]}),((k=t.tags)==null?void 0:k.length)>0&&i.jsx("div",{className:"flex items-center gap-1.5",children:t.tags.map(S=>i.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium",children:S},S))})]}),i.jsx("article",{className:"blog-content prose prose-neutral dark:prose-invert max-w-none prose-headings:font-semibold prose-headings:tracking-tight prose-p:leading-relaxed prose-img:rounded-xl prose-a:underline-offset-2 prose-blockquote:border-l-primary/50 prose-blockquote:text-muted-foreground",dangerouslySetInnerHTML:{__html:x}}),s.length>0&&i.jsxs(i.Fragment,{children:[i.jsx(It,{className:"my-12"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Dalsi clanky"}),i.jsx("div",{className:"mt-5 grid gap-5 sm:grid-cols-3",children:s.map(S=>i.jsx(Be,{to:`/blog/${S.slug}`,children:i.jsxs(ee.div,{className:"group overflow-hidden rounded-lg border bg-card",whileHover:{y:-3},transition:{type:"spring",stiffness:400,damping:25},children:[S.featured_image&&i.jsx("div",{className:"aspect-[16/9] overflow-hidden",children:i.jsx("img",{src:S.featured_image,alt:S.title,className:"size-full object-cover transition-transform duration-500 group-hover:scale-105"})}),i.jsxs("div",{className:"p-3",children:[i.jsx("h3",{className:"line-clamp-2 text-sm font-medium transition-colors group-hover:text-muted-foreground",children:S.title}),i.jsx("p",{className:"mt-1 text-[11px] text-muted-foreground",children:cI(S.published_at||S.created_at)})]})]})},S.id))})]})]})]}),i.jsxs(ee.div,{className:"order-1 flex h-fit flex-col text-sm lg:sticky lg:top-24 lg:order-none lg:col-span-3 lg:col-start-10 lg:text-xs",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[g.length>0&&i.jsxs("div",{className:"order-3 lg:order-none",children:[i.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Na teto strance"}),i.jsx("nav",{className:"mt-2 lg:mt-4",children:i.jsx("ul",{className:"space-y-1",children:g.map(S=>i.jsx("li",{children:i.jsx("a",{href:`#${S.id}`,className:se("block py-1 transition-colors duration-200",d===S.id?"text-foreground font-medium":"text-muted-foreground hover:text-foreground"),children:S.text})},S.id))})})]}),i.jsx(It,{className:"order-2 mt-8 mb-11 lg:hidden"}),i.jsxs("div",{className:"order-1 flex flex-col gap-2 lg:order-none lg:mt-9",children:[i.jsx("p",{className:"font-medium text-muted-foreground text-xs",children:"Sdilet clanek:"}),i.jsxs("ul",{className:"flex gap-2",children:[i.jsx("li",{children:i.jsx(Q,{variant:"secondary",size:"icon",className:"group rounded-full size-8",asChild:!0,children:i.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(j)}`,target:"_blank",rel:"noopener noreferrer",children:i.jsx(Nae,{className:"size-3.5 fill-muted-foreground text-muted-foreground transition-colors group-hover:fill-foreground group-hover:text-foreground"})})})}),i.jsx("li",{children:i.jsx(Q,{variant:"secondary",size:"icon",className:"group rounded-full size-8",asChild:!0,children:i.jsx("a",{href:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(j)}`,target:"_blank",rel:"noopener noreferrer",children:i.jsx(KL,{className:"size-3.5 fill-muted-foreground text-muted-foreground transition-colors group-hover:fill-foreground group-hover:text-foreground"})})})}),i.jsx("li",{children:i.jsx(Q,{variant:"secondary",size:"icon",className:"group rounded-full size-8",asChild:!0,children:i.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(j)}&text=${encodeURIComponent(t.title)}`,target:"_blank",rel:"noopener noreferrer",children:i.jsx(c8,{className:"size-3.5 fill-muted-foreground text-muted-foreground transition-colors group-hover:fill-foreground group-hover:text-foreground"})})})})]})]}),i.jsx(It,{className:"my-6 hidden lg:block"}),i.jsx("div",{className:"hidden lg:block",children:i.jsxs(Be,{to:"/blog",className:"inline-flex items-center gap-1.5 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx(da,{className:"size-3"}),"Zpet na blog"]})})]})]})]})})}function MPe(){return i.jsx("div",{className:"pt-28 pb-20",children:i.jsxs("div",{className:"container mx-auto max-w-7xl space-y-4 px-4 sm:px-6",children:[i.jsx(Gt,{className:"h-4 w-48"}),i.jsx(Gt,{className:"mt-6 h-12 w-3/4"}),i.jsx(Gt,{className:"h-12 w-1/2"}),i.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[i.jsx(Gt,{className:"size-8 rounded-full"}),i.jsx(Gt,{className:"h-4 w-40"})]}),i.jsxs("div",{className:"grid gap-14 pt-10 lg:grid-cols-12 lg:gap-6",children:[i.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[i.jsx(Gt,{className:"aspect-video w-full rounded-lg"}),i.jsx(Gt,{className:"h-4 w-full"}),i.jsx(Gt,{className:"h-4 w-5/6"}),i.jsx(Gt,{className:"h-6 w-1/2 mt-4"}),i.jsx(Gt,{className:"h-4 w-full"}),i.jsx(Gt,{className:"h-4 w-full"}),i.jsx(Gt,{className:"h-4 w-3/4"})]}),i.jsxs("div",{className:"lg:col-span-3 lg:col-start-10 space-y-3",children:[i.jsx(Gt,{className:"h-3 w-24"}),i.jsx(Gt,{className:"h-3 w-full"}),i.jsx(Gt,{className:"h-3 w-4/5"}),i.jsx(Gt,{className:"h-3 w-3/5"})]})]})]})})}function APe(e,t){var n;return e?e.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2):((n=t[0])==null?void 0:n.toUpperCase())||"T"}function RPe(){const{user:e}=Ht(),{isUserOnline:t}=Sg(),[n,s]=v.useState([]),[r,a]=v.useState(!0);v.useEffect(()=>{o()},[]);const o=async()=>{const{data:d}=await ae.from("profiles").select("id, email, full_name, avatar_url, bio, trainer_role, trainer_specializations, location, last_seen_at").eq("is_trainer",!0).order("full_name");s(d??[]),a(!1)},l=n.filter(d=>t(d.id)),u=n.filter(d=>!t(d.id));return r?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"mx-auto max-w-3xl space-y-6",children:[i.jsxs("div",{className:"hidden md:block",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Treneri"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Nasi profesionalni treneri pro vasi cestu"})]}),n.length===0?i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[i.jsx(Ri,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Zatim zadni treneri"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Treneri budou brzy k dispozici"})]}):i.jsxs(i.Fragment,{children:[l.length>0&&i.jsx(uI,{label:"Online",trainers:l,startDelay:0,currentUserId:e==null?void 0:e.id}),i.jsx(uI,{label:l.length>0?"Offline":"Vsichni treneri",trainers:u.length>0?u:l.length>0?[]:n,startDelay:l.length*.05,currentUserId:e==null?void 0:e.id})]})]})}function uI({label:e,trainers:t,startDelay:n,currentUserId:s}){return t.length===0?null:i.jsxs("div",{children:[i.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground",children:e}),i.jsxs("span",{className:"text-[11px] text-muted-foreground/60",children:["(",t.length,")"]})]}),i.jsx("div",{className:"space-y-2",children:t.map((r,a)=>i.jsx(OPe,{trainer:r,index:a,delay:n+a*.05,currentUserId:s},r.id))})]})}function OPe({trainer:e,delay:t,currentUserId:n}){var o;const{isUserOnline:s}=Sg(),r=s(e.id),a=n===e.id;return i.jsx(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,delay:t},children:i.jsxs(Be,{to:`/prehled/treneri/${e.id}`,className:"flex items-center gap-3.5 p-3.5 rounded-2xl bg-muted/25 border border-border/25 hover:bg-muted/50 active:bg-muted/60 transition-colors",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsxs(In,{className:"h-12 w-12",children:[i.jsx(hs,{src:e.avatar_url||void 0,alt:e.full_name||""}),i.jsx(Sr,{className:"text-sm font-medium bg-neutral-200 dark:bg-neutral-700",children:APe(e.full_name,e.email)})]}),i.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 h-3.5 w-3.5 rounded-full border-2 border-background ${r?"bg-green-500":"bg-neutral-400"}`})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:e.full_name||e.email.split("@")[0]}),r&&i.jsx("span",{className:"text-[10px] font-medium text-green-600 bg-green-500/10 px-1.5 py-0.5 rounded-md flex-shrink-0",children:"Online"})]}),e.trainer_role&&i.jsx("p",{className:"text-xs text-muted-foreground mt-0.5 truncate",children:e.trainer_role}),i.jsxs("div",{className:"flex items-center gap-2 mt-1.5 flex-wrap",children:[e.location&&i.jsxs("span",{className:"flex items-center gap-0.5 text-[10px] text-muted-foreground/70",children:[i.jsx(Ha,{className:"h-3 w-3"}),e.location]}),(o=e.trainer_specializations)==null?void 0:o.slice(0,2).map(l=>i.jsx(Le,{variant:"outline",className:"text-[10px] px-1.5 py-0 h-4",children:l},l))]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[!a&&i.jsx(Q,{asChild:!0,variant:"ghost",size:"icon",className:"h-8 w-8",onClick:l=>l.stopPropagation(),children:i.jsx(Be,{to:`/prehled/zpravy?trainer=${e.id}`,children:i.jsx(G_,{className:"h-4 w-4 text-muted-foreground"})})}),i.jsx(hr,{className:"h-4 w-4 text-muted-foreground/40"})]})]})})}function DPe(){var m,g;const{trainerId:e}=Ho(),{user:t}=Ht(),{isUserOnline:n}=Sg(),[s,r]=v.useState(null),[a,o]=v.useState(!0);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{const{data:x}=await ae.from("profiles").select("id, email, full_name, avatar_url, bio, trainer_role, trainer_specializations, location, phone, last_seen_at, created_at").eq("id",e).eq("is_trainer",!0).maybeSingle();r(x),o(!1)};if(a)return i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})});if(!s)return i.jsxs("div",{className:"text-center py-16",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Trener nenalezen"}),i.jsx(Q,{asChild:!0,variant:"outline",children:i.jsx(Be,{to:"/prehled/treneri",children:"Zpet na trenery"})})]});const u=n(s.id),d=(t==null?void 0:t.id)===s.id,f=s.full_name?s.full_name.split(" ").map(x=>x[0]).join("").toUpperCase().slice(0,2):((m=s.email[0])==null?void 0:m.toUpperCase())||"T";return i.jsxs("div",{className:"mx-auto max-w-2xl space-y-6",children:[i.jsxs(Be,{to:"/prehled/treneri",className:"inline-flex items-center gap-1.5 text-sm text-muted-foreground hover:text-foreground transition-colors",children:[i.jsx(da,{className:"h-4 w-4"}),"Zpet na trenery"]}),i.jsxs(ee.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border border-border/40 bg-muted/15 p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-center sm:items-start gap-5",children:[i.jsxs("div",{className:"relative",children:[i.jsxs(In,{className:"h-20 w-20",children:[i.jsx(hs,{src:s.avatar_url||void 0}),i.jsx(Sr,{className:"text-lg font-semibold bg-neutral-200 dark:bg-neutral-700",children:f})]}),i.jsx("span",{className:`absolute bottom-0 right-0 h-5 w-5 rounded-full border-[3px] border-background ${u?"bg-green-500":"bg-neutral-400"}`})]}),i.jsxs("div",{className:"flex-1 text-center sm:text-left",children:[i.jsxs("div",{className:"flex items-center gap-2 justify-center sm:justify-start",children:[i.jsx("h1",{className:"text-xl font-bold",children:s.full_name||s.email.split("@")[0]}),u&&i.jsx("span",{className:"text-[11px] font-medium text-green-600 bg-green-500/10 px-2 py-0.5 rounded-full",children:"Online"})]}),s.trainer_role&&i.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.trainer_role}),i.jsxs("div",{className:"flex items-center gap-3 mt-3 justify-center sm:justify-start flex-wrap",children:[s.location&&i.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(Ha,{className:"h-3.5 w-3.5"}),s.location]}),s.created_at&&i.jsxs("span",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[i.jsx(on,{className:"h-3.5 w-3.5"}),"Clen od ",new Date(s.created_at).toLocaleDateString("cs-CZ",{month:"long",year:"numeric"})]})]})]})]}),!d&&i.jsxs("div",{className:"flex gap-2 mt-5",children:[i.jsx(Q,{asChild:!0,className:"flex-1 rounded-xl",children:i.jsxs(Be,{to:`/prehled/zpravy?trainer=${s.id}`,children:[i.jsx(G_,{className:"mr-2 h-4 w-4"}),"Napsat zpravu"]})}),s.email&&i.jsx(Q,{variant:"outline",className:"rounded-xl",asChild:!0,children:i.jsx("a",{href:`mailto:${s.email}`,children:i.jsx(K_,{className:"h-4 w-4"})})})]})]}),s.bio&&i.jsxs(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,delay:.1},className:"rounded-2xl border border-border/40 bg-muted/15 p-5",children:[i.jsx("h2",{className:"text-sm font-semibold mb-2",children:"O trenerovi"}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.bio})]}),((g=s.trainer_specializations)==null?void 0:g.length)>0&&i.jsxs(ee.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.35,delay:.15},className:"rounded-2xl border border-border/40 bg-muted/15 p-5",children:[i.jsxs("h2",{className:"text-sm font-semibold mb-3 flex items-center gap-2",children:[i.jsx(Ri,{className:"h-4 w-4"}),"Specializace"]}),i.jsx("div",{className:"flex flex-wrap gap-2",children:s.trainer_specializations.map(x=>i.jsx(Le,{variant:"outline",className:"rounded-lg px-3 py-1 text-xs",children:x},x))})]})]})}function WS(e,t){var n;return e?e.split(" ").map(s=>s[0]).join("").toUpperCase().slice(0,2):((n=t[0])==null?void 0:n.toUpperCase())||"U"}function PPe(e,t){"Notification"in window&&Notification.permission==="granted"&&document.hidden&&new Notification(e,{body:t,icon:"/logo.png"})}function IPe(){const{user:e}=Ht(),[t,n]=r_(),[s,r]=v.useState([]),[a,o]=v.useState(null),[l,u]=v.useState([]),[d,f]=v.useState(""),[m,g]=v.useState(!0),[x,b]=v.useState(!1),w=v.useRef(null),j=v.useRef(null),k=v.useRef(null);k.current=a;const S=t.get("trainer");v.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const C=v.useCallback(async()=>{if(!e)return;const{data:D}=await ae.from("chat_conversations").select("*").or(`user_id.eq.${e.id},trainer_id.eq.${e.id}`).order("last_message_at",{ascending:!1});if(!(D!=null&&D.length)){r([]),g(!1);return}const B=[...new Set(D.map(P=>P.user_id===P.trainer_id?P.user_id:P.user_id===e.id?P.trainer_id:P.user_id))],{data:$}=await ae.from("profiles").select("id, full_name, avatar_url, email, trainer_role, is_trainer, last_seen_at").in("id",B),q=new Map(($??[]).map(P=>[P.id,P])),{data:Z}=await ae.from("chat_messages").select("conversation_id, content, read, sender_id").in("conversation_id",D.map(P=>P.id)).order("created_at",{ascending:!1}),F=new Map;for(const P of Z??[])if(F.has(P.conversation_id)||F.set(P.conversation_id,{content:P.content,unread:0}),!P.read&&P.sender_id!==e.id){const I=F.get(P.conversation_id);I.unread++}const J=D.map(P=>{const I=P.user_id===P.trainer_id?P.user_id:P.user_id===e.id?P.trainer_id:P.user_id,L=q.get(I)||{id:I,full_name:null,avatar_url:null,email:"",trainer_role:null,is_trainer:null,last_seen_at:null},G=F.get(P.id);return{...P,partner:L,lastMessage:G==null?void 0:G.content,unreadCount:(G==null?void 0:G.unread)??0}});r(J),g(!1)},[e]);v.useEffect(()=>{C()},[C]),v.useEffect(()=>{S&&e&&!m&&E(S)},[S,e,m]),v.useEffect(()=>{if(!e)return;const D=ae.channel("chat-realtime").on("postgres_changes",{event:"INSERT",schema:"public",table:"chat_messages"},B=>{const $=B.new;if($.sender_id===e.id)return;const q=k.current;q&&$.conversation_id===q.id&&(u(Z=>Z.some(F=>F.id===$.id)?Z:[...Z,$]),ae.from("chat_messages").update({read:!0}).eq("id",$.id),setTimeout(()=>{var Z;return(Z=w.current)==null?void 0:Z.scrollIntoView({behavior:"smooth"})},50)),C(),document.hidden?PPe("Nova zprava",$.content):(!q||$.conversation_id!==q.id)&&Se("Nova zprava",{description:$.content})}).subscribe();return()=>{ae.removeChannel(D)}},[e,C]);const E=async D=>{if(D===e.id){Se.error("Nemuzete poslat zpravu sami sobe"),n({});return}const B=s.find(Z=>Z.user_id===e.id&&Z.trainer_id===D||Z.trainer_id===e.id&&Z.user_id===D||Z.user_id===D&&Z.trainer_id===D);if(B){o(B),T(B.id);return}const{data:$}=await ae.from("profiles").select("id, full_name, avatar_url, email, trainer_role, is_trainer, last_seen_at").eq("id",D).maybeSingle();if(!$)return;const{data:q}=await ae.from("chat_conversations").insert({user_id:e.id,trainer_id:D}).select().maybeSingle();if(q){const Z={...q,partner:$,unreadCount:0};r(F=>[Z,...F]),o(Z),u([])}},T=async D=>{const{data:B}=await ae.from("chat_messages").select("*").eq("conversation_id",D).order("created_at",{ascending:!0});u(B??[]),e&&await ae.from("chat_messages").update({read:!0}).eq("conversation_id",D).neq("sender_id",e.id).eq("read",!1),setTimeout(()=>{var $;return($=w.current)==null?void 0:$.scrollIntoView({behavior:"smooth"})},100)},M=async()=>{var q;if(!d.trim()||!a||!e||x)return;b(!0);const D=d.trim();f("");const B={id:crypto.randomUUID(),conversation_id:a.id,sender_id:e.id,content:D,read:!1,created_at:new Date().toISOString()};u(Z=>[...Z,B]),setTimeout(()=>{var Z;return(Z=w.current)==null?void 0:Z.scrollIntoView({behavior:"smooth"})},50);const{error:$}=await ae.from("chat_messages").insert({conversation_id:a.id,sender_id:e.id,content:D});$||await ae.from("chat_conversations").update({last_message_at:new Date().toISOString()}).eq("id",a.id),b(!1),(q=j.current)==null||q.focus()},z=D=>{D.key==="Enter"&&!D.shiftKey&&(D.preventDefault(),M())},A=()=>{o(null),u([]),n({}),C()};return a?i.jsx($Pe,{conversation:a,messages:l,newMessage:d,sending:x,userId:(e==null?void 0:e.id)??"",inputRef:j,messagesEndRef:w,onBack:A,onChangeMessage:f,onSend:M,onKeyDown:z}):i.jsxs("div",{className:"mx-auto max-w-2xl space-y-4",children:[i.jsxs("div",{className:"hidden md:block",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Zpravy"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Vase konverzace s trenery"})]}),m?i.jsx("div",{className:"flex items-center justify-center py-16",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):s.length===0?i.jsxs(ee.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[i.jsx(Cv,{className:"h-16 w-16 text-muted-foreground/30 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg font-semibold mb-1",children:"Zatim zadne zpravy"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Zacnete konverzaci s trenerem"}),i.jsx(Q,{asChild:!0,variant:"outline",className:"rounded-xl",children:i.jsx(Be,{to:"/prehled/treneri",children:"Najit trenera"})})]}):i.jsx("div",{className:"space-y-1",children:s.map((D,B)=>i.jsx(LPe,{conversation:D,index:B,onClick:()=>{o(D),T(D.id)}},D.id))})]})}function RZ({className:e}){return i.jsxs("span",{className:se("inline-flex items-center gap-0.5 rounded-full bg-emerald-100 dark:bg-emerald-900/30 px-1.5 py-0.5 text-[10px] font-medium text-emerald-700 dark:text-emerald-300",e),children:[i.jsx(tc,{className:"h-2.5 w-2.5"}),"Trener"]})}function LPe({conversation:e,index:t,onClick:n}){const{isUserOnline:s}=Sg(),{partner:r}=e,a=s(r.id);return i.jsxs(ee.button,{type:"button",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:t*.04},onClick:n,className:"flex items-center gap-3 w-full p-3 rounded-2xl hover:bg-muted/40 active:bg-muted/60 transition-colors text-left",children:[i.jsxs("div",{className:"relative flex-shrink-0",children:[i.jsxs(In,{className:"h-12 w-12",children:[i.jsx(hs,{src:r.avatar_url||void 0}),i.jsx(Sr,{className:"text-sm bg-neutral-200 dark:bg-neutral-700",children:WS(r.full_name,r.email)})]}),i.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 h-3 w-3 rounded-full border-2 border-background ${a?"bg-green-500":"bg-neutral-400"}`})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-1.5 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:r.full_name||r.email.split("@")[0]}),r.is_trainer&&i.jsx(RZ,{})]}),i.jsx("span",{className:"text-[10px] text-muted-foreground flex-shrink-0 ml-2",children:VPe(e.last_message_at)})]}),e.lastMessage&&i.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:e.lastMessage})]}),e.unreadCount>0&&i.jsx("span",{className:"flex-shrink-0 h-5 min-w-5 flex items-center justify-center rounded-full bg-primary text-primary-foreground text-[10px] font-bold px-1.5",children:e.unreadCount})]})}function $Pe({conversation:e,messages:t,newMessage:n,sending:s,userId:r,inputRef:a,messagesEndRef:o,onBack:l,onChangeMessage:u,onSend:d,onKeyDown:f}){const{isUserOnline:m}=Sg(),{partner:g}=e,x=m(g.id);return i.jsxs("div",{className:"fixed inset-x-0 top-0 z-30 flex flex-col bg-background md:static md:z-auto md:-mb-6 md:rounded-2xl md:border md:border-border/40 md:bg-muted/10 md:h-[calc(100vh-10rem)]",style:{bottom:"calc(3.25rem + env(safe-area-inset-bottom, 0px))"},children:[i.jsxs("div",{className:"z-20 flex items-center gap-3 px-4 pb-3 border-b border-border/40 bg-background",style:{paddingTop:"calc(env(safe-area-inset-top, 0px) + 0.75rem)"},children:[i.jsx("button",{type:"button",onClick:l,className:"p-1 -ml-1 rounded-lg hover:bg-muted/60 transition-colors",children:i.jsx(da,{className:"h-5 w-5"})}),i.jsxs("div",{className:"relative",children:[i.jsxs(In,{className:"h-9 w-9",children:[i.jsx(hs,{src:g.avatar_url||void 0}),i.jsx(Sr,{className:"text-xs bg-neutral-200 dark:bg-neutral-700",children:WS(g.full_name,g.email)})]}),i.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 h-2.5 w-2.5 rounded-full border-2 border-background ${x?"bg-green-500":"bg-neutral-400"}`})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:g.full_name||g.email.split("@")[0]}),g.is_trainer&&i.jsx(RZ,{})]}),i.jsx("p",{className:"text-[11px] text-muted-foreground",children:x?"Online":"Offline"})]}),i.jsx(Q,{variant:"ghost",size:"sm",asChild:!0,className:"text-xs",children:i.jsx(Be,{to:`/prehled/treneri/${g.id}`,children:"Profil"})})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 space-y-1",style:{WebkitOverflowScrolling:"touch"},children:[t.length===0&&i.jsx("div",{className:"text-center py-12 text-sm text-muted-foreground",children:"Zacnete konverzaci"}),i.jsx(gn,{initial:!1,children:t.map((b,w)=>{var C,E;const j=b.sender_id===r,k=!j&&(w===0||((C=t[w-1])==null?void 0:C.sender_id)!==b.sender_id),S=w===t.length-1||((E=t[w+1])==null?void 0:E.sender_id)!==b.sender_id;return i.jsxs(ee.div,{initial:{opacity:0,y:8,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.2},className:se("flex items-end gap-2",j?"justify-end":"justify-start"),children:[!j&&i.jsx("div",{className:"w-7 flex-shrink-0",children:k&&i.jsxs(In,{className:"h-7 w-7",children:[i.jsx(hs,{src:g.avatar_url||void 0}),i.jsx(Sr,{className:"text-[10px] bg-neutral-200 dark:bg-neutral-700",children:WS(g.full_name,g.email)})]})}),i.jsxs("div",{className:se("max-w-[75%] px-3.5 py-2 text-sm leading-relaxed",j?"bg-primary text-primary-foreground rounded-2xl rounded-br-md":"bg-muted/60 rounded-2xl rounded-bl-md",S?"mb-1.5":"mb-0.5"),children:[b.content,i.jsx("span",{className:se("block text-[10px] mt-0.5",j?"text-primary-foreground/60":"text-muted-foreground/60"),children:new Date(b.created_at).toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit"})})]})]},b.id)})}),i.jsx("div",{ref:o})]}),i.jsx("div",{className:"border-t border-border/40 px-3 py-2 pb-1 bg-background",children:i.jsxs("div",{className:"flex items-end gap-2",children:[i.jsx("textarea",{ref:a,value:n,onChange:b=>u(b.target.value),onKeyDown:f,placeholder:"Napiste zpravu...",rows:1,className:"flex-1 resize-none rounded-xl border border-border/40 bg-muted/30 px-3.5 py-2.5 text-sm placeholder:text-muted-foreground/60 focus:outline-none focus:ring-2 focus:ring-primary/30 max-h-24",style:{fontSize:"16px"}}),i.jsx(Q,{onClick:d,disabled:!n.trim()||s,size:"icon",className:"h-10 w-10 rounded-xl flex-shrink-0",children:i.jsx(r8,{className:"h-4 w-4"})})]})})]})}function VPe(e){const t=new Date(e),s=new Date().getTime()-t.getTime(),r=Math.floor(s/(1e3*60*60*24));return r===0?t.toLocaleTimeString("cs-CZ",{hour:"2-digit",minute:"2-digit"}):r===1?"Vcera":r<7?t.toLocaleDateString("cs-CZ",{weekday:"short"}):t.toLocaleDateString("cs-CZ",{day:"numeric",month:"short"})}function BPe(){return hie(),null}function FPe(){return i.jsx(IY,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(iie,{children:i.jsx(cie,{children:i.jsxs(lie,{children:[i.jsx(dEe,{}),i.jsx(BPe,{}),i.jsx(gn,{mode:"wait",children:i.jsxs(QG,{children:[i.jsx(yt,{path:"/",element:i.jsx(Ua,{to:"/prihlaseni",replace:!0})}),i.jsx(yt,{path:"/prihlaseni",element:i.jsx(Ct,{children:i.jsx(BCe,{})})}),i.jsx(yt,{path:"/registrace",element:i.jsx(Ct,{children:i.jsx(FCe,{})})}),i.jsx(yt,{path:"/overeni-emailu",element:i.jsx(Ct,{children:i.jsx(rEe,{})})}),i.jsx(yt,{path:"/zapomenute-heslo",element:i.jsx(Ct,{children:i.jsx(iEe,{})})}),i.jsx(yt,{path:"/obnoveni-hesla",element:i.jsx(Ct,{children:i.jsx(oEe,{})})}),i.jsx(yt,{path:"/onboarding",element:i.jsx(om,{children:i.jsx(Ct,{children:i.jsx(s1e,{})})})}),i.jsxs(yt,{path:"/home",element:i.jsx(Pge,{}),children:[i.jsx(yt,{index:!0,element:i.jsx(Ct,{children:i.jsx(n1e,{})})}),i.jsx(yt,{path:"kurzy",element:i.jsx(Ct,{children:i.jsx(_1e,{})})}),i.jsx(yt,{path:"obchod",element:i.jsx(Ct,{children:i.jsx(F1e,{})})}),i.jsx(yt,{path:"produkt/:productId",element:i.jsx(Ct,{children:i.jsx(U_e,{})})}),i.jsx(yt,{path:"kosik",element:i.jsx(Ct,{children:i.jsx(X2e,{})})}),i.jsx(yt,{path:"reference",element:i.jsx(Ct,{children:i.jsx(sCe,{})})}),i.jsx(yt,{path:"tym",element:i.jsx(Ct,{children:i.jsx(dPe,{})})}),i.jsx(yt,{path:"tym/:slug",element:i.jsx(Ct,{children:i.jsx(bPe,{})})}),i.jsx(yt,{path:"blog",element:i.jsx(Ct,{children:i.jsx(kPe,{})})}),i.jsx(yt,{path:"blog/:slug",element:i.jsx(Ct,{children:i.jsx(zPe,{})})})]}),i.jsx(yt,{path:"/potvrzeni-objednavky",element:i.jsx(Ct,{children:i.jsx(nD,{})})}),i.jsx(yt,{path:"/order-confirmation",element:i.jsx(Ct,{children:i.jsx(nD,{})})}),i.jsx(yt,{path:"/kurz/:courseId",element:i.jsx(om,{children:i.jsx(Ct,{children:i.jsx(lEe,{})})})}),i.jsx(yt,{path:"/kurz/:courseId/cast/:partNumber",element:i.jsx(om,{children:i.jsx(Ct,{children:i.jsx(uEe,{})})})}),i.jsxs(yt,{path:"/prehled",element:i.jsx(om,{children:i.jsx(x0e,{})}),children:[i.jsx(yt,{index:!0,element:i.jsx(Ct,{children:i.jsx(vCe,{})})}),i.jsx(yt,{path:"analytika",element:i.jsx(Ct,{children:i.jsx(bCe,{})})}),i.jsx(yt,{path:"api",element:i.jsx(Ct,{children:i.jsx(wCe,{})})}),i.jsx(yt,{path:"fakturace",element:i.jsx(Ct,{children:i.jsx(NCe,{})})}),i.jsx(yt,{path:"integrace",element:i.jsx(Ct,{children:i.jsx(_Ce,{})})}),i.jsx(yt,{path:"moje-kurzy",element:i.jsx(Ct,{children:i.jsx(CCe,{})})}),i.jsx(yt,{path:"moje-kurzy/:courseId",element:i.jsx(Ct,{children:i.jsx(TCe,{})})}),i.jsx(yt,{path:"predplatne",element:i.jsx(Ct,{children:i.jsx(PCe,{})})}),i.jsx(yt,{path:"faktury",element:i.jsx(Ct,{children:i.jsx(ICe,{})})}),i.jsx(yt,{path:"pokrok",element:i.jsx(Ct,{children:i.jsx(LCe,{})})}),i.jsx(yt,{path:"vysledky-testu",element:i.jsx(Ct,{children:i.jsx($Ce,{})})}),i.jsx(yt,{path:"certifikaty",element:i.jsx(Ct,{children:i.jsx(VCe,{})})}),i.jsx(yt,{path:"nastaveni",element:i.jsx(Ct,{children:i.jsx(OCe,{})})}),i.jsx(yt,{path:"treneri",element:i.jsx(Ct,{children:i.jsx(RPe,{})})}),i.jsx(yt,{path:"treneri/:trainerId",element:i.jsx(Ct,{children:i.jsx(DPe,{})})}),i.jsx(yt,{path:"zpravy",element:i.jsx(Ct,{children:i.jsx(IPe,{})})})]}),i.jsxs(yt,{path:"/admin",element:i.jsx(om,{children:i.jsx(w0e,{})}),children:[i.jsx(yt,{index:!0,element:i.jsx(Ct,{children:i.jsx(vEe,{})})}),i.jsx(yt,{path:"users",element:i.jsx(Ct,{children:i.jsx(yEe,{})})}),i.jsx(yt,{path:"blogs",element:i.jsx(Ct,{children:i.jsx(jEe,{})})}),i.jsx(yt,{path:"blogs/:id",element:i.jsx(Ct,{children:i.jsx(qDe,{})})}),i.jsx(yt,{path:"courses",element:i.jsx(Ct,{children:i.jsx(WDe,{})})}),i.jsx(yt,{path:"courses/:id",element:i.jsx(Ct,{children:i.jsx(rPe,{})})}),i.jsx(yt,{path:"subscriptions",element:i.jsx(Ct,{children:i.jsx(oPe,{})})}),i.jsx(yt,{path:"promo-codes",element:i.jsx(Ct,{children:i.jsx(lPe,{})})}),i.jsx(yt,{path:"invoices",element:i.jsx(Ct,{children:i.jsx(iPe,{})})})]})]})}),i.jsx(pJ,{})]})})})})}eG.createRoot(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(NY,{children:i.jsx(FPe,{})})}));
