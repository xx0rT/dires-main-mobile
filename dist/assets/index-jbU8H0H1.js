function MK(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const r in s)if(r!=="default"&&!(r in e)){const a=Object.getOwnPropertyDescriptor(s,r);a&&Object.defineProperty(e,r,a.get?a:{enumerable:!0,get:()=>s[r]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();function ZS(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dj={exports:{}},nm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vA;function RK(){if(vA)return nm;vA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,r,a){var o=null;if(a!==void 0&&(o=""+a),r.key!==void 0&&(o=""+r.key),"key"in r){a={};for(var l in r)l!=="key"&&(a[l]=r[l])}else a=r;return r=a.ref,{$$typeof:e,type:s,key:o,ref:r!==void 0?r:null,props:a}}return nm.Fragment=t,nm.jsx=n,nm.jsxs=n,nm}var yA;function OK(){return yA||(yA=1,Dj.exports=RK()),Dj.exports}var i=OK(),Pj={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA;function DK(){if(bA)return Tt;bA=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function k(M,H,W){this.props=M,this.context=H,this.refs=j,this.updater=W||b}k.prototype.isReactComponent={},k.prototype.setState=function(M,H){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,H,"setState")},k.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function S(){}S.prototype=k.prototype;function C(M,H,W){this.props=M,this.context=H,this.refs=j,this.updater=W||b}var E=C.prototype=new S;E.constructor=C,w(E,k.prototype),E.isPureReactComponent=!0;var z=Array.isArray;function R(){}var T={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function D(M,H,W){var te=W.ref;return{$$typeof:e,type:M,key:H,ref:te!==void 0?te:null,props:W}}function F(M,H){return D(M.type,H,M.props)}function V(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function $(M){var H={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(W){return H[W]})}var q=/\/+/g;function K(M,H){return typeof M=="object"&&M!==null&&M.key!=null?$(""+M.key):H.toString(36)}function ee(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(R,R):(M.status="pending",M.then(function(H){M.status==="pending"&&(M.status="fulfilled",M.value=H)},function(H){M.status==="pending"&&(M.status="rejected",M.reason=H)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function L(M,H,W,te,le){var ce=typeof M;(ce==="undefined"||ce==="boolean")&&(M=null);var Y=!1;if(M===null)Y=!0;else switch(ce){case"bigint":case"string":case"number":Y=!0;break;case"object":switch(M.$$typeof){case e:case t:Y=!0;break;case f:return Y=M._init,L(Y(M._payload),H,W,te,le)}}if(Y)return le=le(M),Y=te===""?"."+K(M,0):te,z(le)?(W="",Y!=null&&(W=Y.replace(q,"$&/")+"/"),L(le,H,W,"",function(be){return be})):le!=null&&(V(le)&&(le=F(le,W+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(q,"$&/")+"/")+Y)),H.push(le)),1;Y=0;var oe=te===""?".":te+":";if(z(M))for(var he=0;he<M.length;he++)te=M[he],ce=oe+K(te,he),Y+=L(te,H,W,ce,le);else if(he=x(M),typeof he=="function")for(M=he.call(M),he=0;!(te=M.next()).done;)te=te.value,ce=oe+K(te,he++),Y+=L(te,H,W,ce,le);else if(ce==="object"){if(typeof M.then=="function")return L(ee(M),H,W,te,le);throw H=String(M),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Y}function P(M,H,W){if(M==null)return M;var te=[],le=0;return L(M,te,"","",function(ce){return H.call(W,ce,le++)}),te}function I(M){if(M._status===-1){var H=M._result;H=H(),H.then(function(W){(M._status===0||M._status===-1)&&(M._status=1,M._result=W)},function(W){(M._status===0||M._status===-1)&&(M._status=2,M._result=W)}),M._status===-1&&(M._status=0,M._result=H)}if(M._status===1)return M._result.default;throw M._result}var G=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},U={map:P,forEach:function(M,H,W){P(M,function(){H.apply(this,arguments)},W)},count:function(M){var H=0;return P(M,function(){H++}),H},toArray:function(M){return P(M,function(H){return H})||[]},only:function(M){if(!V(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Tt.Activity=m,Tt.Children=U,Tt.Component=k,Tt.Fragment=n,Tt.Profiler=r,Tt.PureComponent=C,Tt.StrictMode=s,Tt.Suspense=u,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return T.H.useMemoCache(M)}},Tt.cache=function(M){return function(){return M.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(M,H,W){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var te=w({},M.props),le=M.key;if(H!=null)for(ce in H.key!==void 0&&(le=""+H.key),H)!A.call(H,ce)||ce==="key"||ce==="__self"||ce==="__source"||ce==="ref"&&H.ref===void 0||(te[ce]=H[ce]);var ce=arguments.length-2;if(ce===1)te.children=W;else if(1<ce){for(var Y=Array(ce),oe=0;oe<ce;oe++)Y[oe]=arguments[oe+2];te.children=Y}return D(M.type,le,te)},Tt.createContext=function(M){return M={$$typeof:o,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:a,_context:M},M},Tt.createElement=function(M,H,W){var te,le={},ce=null;if(H!=null)for(te in H.key!==void 0&&(ce=""+H.key),H)A.call(H,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=H[te]);var Y=arguments.length-2;if(Y===1)le.children=W;else if(1<Y){for(var oe=Array(Y),he=0;he<Y;he++)oe[he]=arguments[he+2];le.children=oe}if(M&&M.defaultProps)for(te in Y=M.defaultProps,Y)le[te]===void 0&&(le[te]=Y[te]);return D(M,ce,le)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(M){return{$$typeof:l,render:M}},Tt.isValidElement=V,Tt.lazy=function(M){return{$$typeof:f,_payload:{_status:-1,_result:M},_init:I}},Tt.memo=function(M,H){return{$$typeof:d,type:M,compare:H===void 0?null:H}},Tt.startTransition=function(M){var H=T.T,W={};T.T=W;try{var te=M(),le=T.S;le!==null&&le(W,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(R,G)}catch(ce){G(ce)}finally{H!==null&&W.types!==null&&(H.types=W.types),T.T=H}},Tt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Tt.use=function(M){return T.H.use(M)},Tt.useActionState=function(M,H,W){return T.H.useActionState(M,H,W)},Tt.useCallback=function(M,H){return T.H.useCallback(M,H)},Tt.useContext=function(M){return T.H.useContext(M)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(M,H){return T.H.useDeferredValue(M,H)},Tt.useEffect=function(M,H){return T.H.useEffect(M,H)},Tt.useEffectEvent=function(M){return T.H.useEffectEvent(M)},Tt.useId=function(){return T.H.useId()},Tt.useImperativeHandle=function(M,H,W){return T.H.useImperativeHandle(M,H,W)},Tt.useInsertionEffect=function(M,H){return T.H.useInsertionEffect(M,H)},Tt.useLayoutEffect=function(M,H){return T.H.useLayoutEffect(M,H)},Tt.useMemo=function(M,H){return T.H.useMemo(M,H)},Tt.useOptimistic=function(M,H){return T.H.useOptimistic(M,H)},Tt.useReducer=function(M,H,W){return T.H.useReducer(M,H,W)},Tt.useRef=function(M){return T.H.useRef(M)},Tt.useState=function(M){return T.H.useState(M)},Tt.useSyncExternalStore=function(M,H,W){return T.H.useSyncExternalStore(M,H,W)},Tt.useTransition=function(){return T.H.useTransition()},Tt.version="19.2.4",Tt}var wA;function Gp(){return wA||(wA=1,Pj.exports=DK()),Pj.exports}var v=Gp();const Z=ZS(v),WS=MK({__proto__:null,default:Z},[v]);var Ij={exports:{}},sm={},Lj={exports:{}},$j={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jA;function PK(){return jA||(jA=1,(function(e){function t(L,P){var I=L.length;L.push(P);e:for(;0<I;){var G=I-1>>>1,U=L[G];if(0<r(U,P))L[G]=P,L[I]=U,I=G;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var P=L[0],I=L.pop();if(I!==P){L[0]=I;e:for(var G=0,U=L.length,M=U>>>1;G<M;){var H=2*(G+1)-1,W=L[H],te=H+1,le=L[te];if(0>r(W,I))te<U&&0>r(le,W)?(L[G]=le,L[te]=I,G=te):(L[G]=W,L[H]=I,G=H);else if(te<U&&0>r(le,I))L[G]=le,L[te]=I,G=te;else break e}}return P}function r(L,P){var I=L.sortIndex-P.sortIndex;return I!==0?I:L.id-P.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var u=[],d=[],f=1,m=null,g=3,x=!1,b=!1,w=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function E(L){for(var P=n(d);P!==null;){if(P.callback===null)s(d);else if(P.startTime<=L)s(d),P.sortIndex=P.expirationTime,t(u,P);else break;P=n(d)}}function z(L){if(w=!1,E(L),!b)if(n(u)!==null)b=!0,R||(R=!0,$());else{var P=n(d);P!==null&&ee(z,P.startTime-L)}}var R=!1,T=-1,A=5,D=-1;function F(){return j?!0:!(e.unstable_now()-D<A)}function V(){if(j=!1,R){var L=e.unstable_now();D=L;var P=!0;try{e:{b=!1,w&&(w=!1,S(T),T=-1),x=!0;var I=g;try{t:{for(E(L),m=n(u);m!==null&&!(m.expirationTime>L&&F());){var G=m.callback;if(typeof G=="function"){m.callback=null,g=m.priorityLevel;var U=G(m.expirationTime<=L);if(L=e.unstable_now(),typeof U=="function"){m.callback=U,E(L),P=!0;break t}m===n(u)&&s(u),E(L)}else s(u);m=n(u)}if(m!==null)P=!0;else{var M=n(d);M!==null&&ee(z,M.startTime-L),P=!1}}break e}finally{m=null,g=I,x=!1}P=void 0}}finally{P?$():R=!1}}}var $;if(typeof C=="function")$=function(){C(V)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,K=q.port2;q.port1.onmessage=V,$=function(){K.postMessage(null)}}else $=function(){k(V,0)};function ee(L,P){T=k(function(){L(e.unstable_now())},P)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(L){switch(g){case 1:case 2:case 3:var P=3;break;default:P=g}var I=g;g=P;try{return L()}finally{g=I}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(L,P){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var I=g;g=L;try{return P()}finally{g=I}},e.unstable_scheduleCallback=function(L,P,I){var G=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?G+I:G):I=G,L){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=I+U,L={id:f++,callback:P,priorityLevel:L,startTime:I,expirationTime:U,sortIndex:-1},I>G?(L.sortIndex=I,t(d,L),n(u)===null&&L===n(d)&&(w?(S(T),T=-1):w=!0,ee(z,I-G))):(L.sortIndex=U,t(u,L),b||x||(b=!0,R||(R=!0,$()))),L},e.unstable_shouldYield=F,e.unstable_wrapCallback=function(L){var P=g;return function(){var I=g;g=P;try{return L.apply(this,arguments)}finally{g=I}}}})($j)),$j}var kA;function IK(){return kA||(kA=1,Lj.exports=PK()),Lj.exports}var Vj={exports:{}},rr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NA;function LK(){if(NA)return rr;NA=1;var e=Gp();function t(u){var d="https://react.dev/errors/"+u;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+u+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},r=Symbol.for("react.portal");function a(u,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:m==null?null:""+m,children:u,containerInfo:d,implementation:f}}var o=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(u,d){if(u==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return rr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rr.createPortal=function(u,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return a(u,d,null,f)},rr.flushSync=function(u){var d=o.T,f=s.p;try{if(o.T=null,s.p=2,u)return u()}finally{o.T=d,s.p=f,s.d.f()}},rr.preconnect=function(u,d){typeof u=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,s.d.C(u,d))},rr.prefetchDNS=function(u){typeof u=="string"&&s.d.D(u)},rr.preinit=function(u,d){if(typeof u=="string"&&d&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,x=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?s.d.S(u,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:x}):f==="script"&&s.d.X(u,{crossOrigin:m,integrity:g,fetchPriority:x,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},rr.preinitModule=function(u,d){if(typeof u=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);s.d.M(u,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&s.d.M(u)},rr.preload=function(u,d){if(typeof u=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin);s.d.L(u,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},rr.preloadModule=function(u,d){if(typeof u=="string")if(d){var f=l(d.as,d.crossOrigin);s.d.m(u,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else s.d.m(u)},rr.requestFormReset=function(u){s.d.r(u)},rr.unstable_batchedUpdates=function(u,d){return u(d)},rr.useFormState=function(u,d,f){return o.H.useFormState(u,d,f)},rr.useFormStatus=function(){return o.H.useHostTransitionStatus()},rr.version="19.2.4",rr}var SA;function sI(){if(SA)return Vj.exports;SA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Vj.exports=LK(),Vj.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _A;function $K(){if(_A)return sm;_A=1;var e=IK(),t=Gp(),n=sI();function s(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function a(c){var h=c,p=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(p=h.return),c=h.return;while(c)}return h.tag===3?p:null}function o(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function l(c){if(c.tag===31){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function u(c){if(a(c)!==c)throw Error(s(188))}function d(c){var h=c.alternate;if(!h){if(h=a(c),h===null)throw Error(s(188));return h!==c?null:c}for(var p=c,y=h;;){var N=p.return;if(N===null)break;var _=N.alternate;if(_===null){if(y=N.return,y!==null){p=y;continue}break}if(N.child===_.child){for(_=N.child;_;){if(_===p)return u(N),c;if(_===y)return u(N),h;_=_.sibling}throw Error(s(188))}if(p.return!==y.return)p=N,y=_;else{for(var O=!1,B=N.child;B;){if(B===p){O=!0,p=N,y=_;break}if(B===y){O=!0,y=N,p=_;break}B=B.sibling}if(!O){for(B=_.child;B;){if(B===p){O=!0,p=_,y=N;break}if(B===y){O=!0,y=_,p=N;break}B=B.sibling}if(!O)throw Error(s(189))}}if(p.alternate!==y)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?c:h}function f(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=f(c),h!==null)return h;c=c.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.consumer"),C=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function $(c){return c===null||typeof c!="object"?null:(c=V&&c[V]||c["@@iterator"],typeof c=="function"?c:null)}var q=Symbol.for("react.client.reference");function K(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===q?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case w:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case z:return"Suspense";case R:return"SuspenseList";case D:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case b:return"Portal";case C:return c.displayName||"Context";case S:return(c._context.displayName||"Context")+".Consumer";case E:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case T:return h=c.displayName||null,h!==null?h:K(c.type)||"Memo";case A:h=c._payload,c=c._init;try{return K(c(h))}catch{}}return null}var ee=Array.isArray,L=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},G=[],U=-1;function M(c){return{current:c}}function H(c){0>U||(c.current=G[U],G[U]=null,U--)}function W(c,h){U++,G[U]=c.current,c.current=h}var te=M(null),le=M(null),ce=M(null),Y=M(null);function oe(c,h){switch(W(ce,h),W(le,c),W(te,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?B4(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=B4(h),c=F4(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}H(te),W(te,c)}function he(){H(te),H(le),H(ce)}function be(c){c.memoizedState!==null&&W(Y,c);var h=te.current,p=F4(h,c.type);h!==p&&(W(le,c),W(te,p))}function we(c){le.current===c&&(H(te),H(le)),Y.current===c&&(H(Y),Xf._currentValue=I)}var xe,Ae;function re(c){if(xe===void 0)try{throw Error()}catch(p){var h=p.stack.trim().match(/\n( *(at )?)/);xe=h&&h[1]||"",Ae=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xe+c+Ae}var Ce=!1;function Ze(c,h){if(!c||Ce)return"";Ce=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(h){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ye){var ve=ye}Reflect.construct(c,[],Se)}else{try{Se.call()}catch(ye){ve=ye}c.call(Se.prototype)}}else{try{throw Error()}catch(ye){ve=ye}(Se=c())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ye){if(ye&&ve&&typeof ye.stack=="string")return[ye.stack,ve.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var N=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");N&&N.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=y.DetermineComponentFrameRoot(),O=_[0],B=_[1];if(O&&B){var Q=O.split(`
`),pe=B.split(`
`);for(N=y=0;y<Q.length&&!Q[y].includes("DetermineComponentFrameRoot");)y++;for(;N<pe.length&&!pe[N].includes("DetermineComponentFrameRoot");)N++;if(y===Q.length||N===pe.length)for(y=Q.length-1,N=pe.length-1;1<=y&&0<=N&&Q[y]!==pe[N];)N--;for(;1<=y&&0<=N;y--,N--)if(Q[y]!==pe[N]){if(y!==1||N!==1)do if(y--,N--,0>N||Q[y]!==pe[N]){var je=`
`+Q[y].replace(" at new "," at ");return c.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",c.displayName)),je}while(1<=y&&0<=N);break}}}finally{Ce=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?re(p):""}function it(c,h){switch(c.tag){case 26:case 27:case 5:return re(c.type);case 16:return re("Lazy");case 13:return c.child!==h&&h!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return Ze(c.type,!1);case 11:return Ze(c.type.render,!1);case 1:return Ze(c.type,!0);case 31:return re("Activity");default:return""}}function jt(c){try{var h="",p=null;do h+=it(c,p),p=c,c=c.return;while(c);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var We=Object.prototype.hasOwnProperty,ct=e.unstable_scheduleCallback,J=e.unstable_cancelCallback,ae=e.unstable_shouldYield,fe=e.unstable_requestPaint,ze=e.unstable_now,Me=e.unstable_getCurrentPriorityLevel,_e=e.unstable_ImmediatePriority,Be=e.unstable_UserBlockingPriority,ot=e.unstable_NormalPriority,Ee=e.unstable_LowPriority,Fe=e.unstable_IdlePriority,tt=e.log,Ge=e.unstable_setDisableYieldValue,mt=null,kt=null;function Mt(c){if(typeof tt=="function"&&Ge(c),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(mt,c)}catch{}}var on=Math.clz32?Math.clz32:Ye,pr=Math.log,Wn=Math.LN2;function Ye(c){return c>>>=0,c===0?32:31-(pr(c)/Wn|0)|0}var Ct=256,Dt=262144,at=4194304;function gt(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function qe(c,h,p){var y=c.pendingLanes;if(y===0)return 0;var N=0,_=c.suspendedLanes,O=c.pingedLanes;c=c.warmLanes;var B=y&134217727;return B!==0?(y=B&~_,y!==0?N=gt(y):(O&=B,O!==0?N=gt(O):p||(p=B&~c,p!==0&&(N=gt(p))))):(B=y&~_,B!==0?N=gt(B):O!==0?N=gt(O):p||(p=y&~c,p!==0&&(N=gt(p)))),N===0?0:h!==0&&h!==N&&(h&_)===0&&(_=N&-N,p=h&-h,_>=p||_===32&&(p&4194048)!==0)?h:N}function xt(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function zt(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Et(){var c=at;return at<<=1,(at&62914560)===0&&(at=4194304),c}function Nn(c){for(var h=[],p=0;31>p;p++)h.push(c);return h}function Vt(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function At(c,h,p,y,N,_){var O=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var B=c.entanglements,Q=c.expirationTimes,pe=c.hiddenUpdates;for(p=O&~p;0<p;){var je=31-on(p),Se=1<<je;B[je]=0,Q[je]=-1;var ve=pe[je];if(ve!==null)for(pe[je]=null,je=0;je<ve.length;je++){var ye=ve[je];ye!==null&&(ye.lane&=-536870913)}p&=~Se}y!==0&&as(c,y,0),_!==0&&N===0&&c.tag!==0&&(c.suspendedLanes|=_&~(O&~h))}function as(c,h,p){c.pendingLanes|=h,c.suspendedLanes&=~h;var y=31-on(h);c.entangledLanes|=h,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function gn(c,h){var p=c.entangledLanes|=h;for(c=c.entanglements;p;){var y=31-on(p),N=1<<y;N&h|c[y]&h&&(c[y]|=h),p&=~N}}function Dn(c,h){var p=h&-h;return p=(p&42)!==0?1:ui(p),(p&(c.suspendedLanes|h))!==0?0:p}function ui(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function Hs(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function di(){var c=P.p;return c!==0?c:(c=window.event,c===void 0?32:dA(c.type))}function Wo(c,h){var p=P.p;try{return P.p=c,h()}finally{P.p=p}}var hi=Math.random().toString(36).slice(2),qs="__reactFiber$"+hi,Er="__reactProps$"+hi,Uu="__reactContainer$"+hi,_1="__reactEvents$"+hi,wZ="__reactListeners$"+hi,jZ="__reactHandles$"+hi,ET="__reactResources$"+hi,ff="__reactMarker$"+hi;function C1(c){delete c[qs],delete c[Er],delete c[_1],delete c[wZ],delete c[jZ]}function Hu(c){var h=c[qs];if(h)return h;for(var p=c.parentNode;p;){if(h=p[Uu]||p[qs]){if(p=h.alternate,h.child!==null||p!==null&&p.child!==null)for(c=G4(c);c!==null;){if(p=c[qs])return p;c=G4(c)}return h}c=p,p=c.parentNode}return null}function qu(c){if(c=c[qs]||c[Uu]){var h=c.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return c}return null}function mf(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(s(33))}function Zu(c){var h=c[ET];return h||(h=c[ET]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function Os(c){c[ff]=!0}var TT=new Set,zT={};function vc(c,h){Wu(c,h),Wu(c+"Capture",h)}function Wu(c,h){for(zT[c]=h,c=0;c<h.length;c++)TT.add(h[c])}var kZ=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),AT={},MT={};function NZ(c){return We.call(MT,c)?!0:We.call(AT,c)?!1:kZ.test(c)?MT[c]=!0:(AT[c]=!0,!1)}function Pg(c,h,p){if(NZ(h))if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var y=h.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+p)}}function Ig(c,h,p){if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+p)}}function eo(c,h,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(h,p,""+y)}}function fi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function RT(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function SZ(c,h,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,h);if(!c.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var N=y.get,_=y.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return N.call(this)},set:function(O){p=""+O,_.call(this,O)}}),Object.defineProperty(c,h,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(O){p=""+O},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function E1(c){if(!c._valueTracker){var h=RT(c)?"checked":"value";c._valueTracker=SZ(c,h,""+c[h])}}function OT(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var p=h.getValue(),y="";return c&&(y=RT(c)?c.checked?"true":"false":c.value),c=y,c!==p?(h.setValue(c),!0):!1}function Lg(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var _Z=/[\n"\\]/g;function mi(c){return c.replace(_Z,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function T1(c,h,p,y,N,_,O,B){c.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?c.type=O:c.removeAttribute("type"),h!=null?O==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+fi(h)):c.value!==""+fi(h)&&(c.value=""+fi(h)):O!=="submit"&&O!=="reset"||c.removeAttribute("value"),h!=null?z1(c,O,fi(h)):p!=null?z1(c,O,fi(p)):y!=null&&c.removeAttribute("value"),N==null&&_!=null&&(c.defaultChecked=!!_),N!=null&&(c.checked=N&&typeof N!="function"&&typeof N!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?c.name=""+fi(B):c.removeAttribute("name")}function DT(c,h,p,y,N,_,O,B){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(c.type=_),h!=null||p!=null){if(!(_!=="submit"&&_!=="reset"||h!=null)){E1(c);return}p=p!=null?""+fi(p):"",h=h!=null?""+fi(h):p,B||h===c.value||(c.value=h),c.defaultValue=h}y=y??N,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=B?c.checked:!!y,c.defaultChecked=!!y,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(c.name=O),E1(c)}function z1(c,h,p){h==="number"&&Lg(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Ku(c,h,p,y){if(c=c.options,h){h={};for(var N=0;N<p.length;N++)h["$"+p[N]]=!0;for(p=0;p<c.length;p++)N=h.hasOwnProperty("$"+c[p].value),c[p].selected!==N&&(c[p].selected=N),N&&y&&(c[p].defaultSelected=!0)}else{for(p=""+fi(p),h=null,N=0;N<c.length;N++){if(c[N].value===p){c[N].selected=!0,y&&(c[N].defaultSelected=!0);return}h!==null||c[N].disabled||(h=c[N])}h!==null&&(h.selected=!0)}}function PT(c,h,p){if(h!=null&&(h=""+fi(h),h!==c.value&&(c.value=h),p==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=p!=null?""+fi(p):""}function IT(c,h,p,y){if(h==null){if(y!=null){if(p!=null)throw Error(s(92));if(ee(y)){if(1<y.length)throw Error(s(93));y=y[0]}p=y}p==null&&(p=""),h=p}p=fi(h),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),E1(c)}function Gu(c,h){if(h){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=h;return}}c.textContent=h}var CZ=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function LT(c,h,p){var y=h.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":y?c.setProperty(h,p):typeof p!="number"||p===0||CZ.has(h)?h==="float"?c.cssFloat=p:c[h]=(""+p).trim():c[h]=p+"px"}function $T(c,h,p){if(h!=null&&typeof h!="object")throw Error(s(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||h!=null&&h.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var N in h)y=h[N],h.hasOwnProperty(N)&&p[N]!==y&&LT(c,N,y)}else for(var _ in h)h.hasOwnProperty(_)&&LT(c,_,h[_])}function A1(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EZ=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),TZ=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $g(c){return TZ.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function to(){}var M1=null;function R1(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Yu=null,Ju=null;function VT(c){var h=qu(c);if(h&&(c=h.stateNode)){var p=c[Er]||null;e:switch(c=h.stateNode,h.type){case"input":if(T1(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),h=p.name,p.type==="radio"&&h!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+mi(""+h)+'"][type="radio"]'),h=0;h<p.length;h++){var y=p[h];if(y!==c&&y.form===c.form){var N=y[Er]||null;if(!N)throw Error(s(90));T1(y,N.value,N.defaultValue,N.defaultValue,N.checked,N.defaultChecked,N.type,N.name)}}for(h=0;h<p.length;h++)y=p[h],y.form===c.form&&OT(y)}break e;case"textarea":PT(c,p.value,p.defaultValue);break e;case"select":h=p.value,h!=null&&Ku(c,!!p.multiple,h,!1)}}}var O1=!1;function BT(c,h,p){if(O1)return c(h,p);O1=!0;try{var y=c(h);return y}finally{if(O1=!1,(Yu!==null||Ju!==null)&&(_x(),Yu&&(h=Yu,c=Ju,Ju=Yu=null,VT(h),c)))for(h=0;h<c.length;h++)VT(c[h])}}function pf(c,h){var p=c.stateNode;if(p===null)return null;var y=p[Er]||null;if(y===null)return null;p=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(s(231,h,typeof p));return p}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),D1=!1;if(no)try{var gf={};Object.defineProperty(gf,"passive",{get:function(){D1=!0}}),window.addEventListener("test",gf,gf),window.removeEventListener("test",gf,gf)}catch{D1=!1}var Ko=null,P1=null,Vg=null;function FT(){if(Vg)return Vg;var c,h=P1,p=h.length,y,N="value"in Ko?Ko.value:Ko.textContent,_=N.length;for(c=0;c<p&&h[c]===N[c];c++);var O=p-c;for(y=1;y<=O&&h[p-y]===N[_-y];y++);return Vg=N.slice(c,1<y?1-y:void 0)}function Bg(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function Fg(){return!0}function UT(){return!1}function Tr(c){function h(p,y,N,_,O){this._reactName=p,this._targetInst=N,this.type=y,this.nativeEvent=_,this.target=O,this.currentTarget=null;for(var B in c)c.hasOwnProperty(B)&&(p=c[B],this[B]=p?p(_):_[B]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Fg:UT,this.isPropagationStopped=UT,this}return m(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Fg)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Fg)},persist:function(){},isPersistent:Fg}),h}var yc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ug=Tr(yc),xf=m({},yc,{view:0,detail:0}),zZ=Tr(xf),I1,L1,vf,Hg=m({},xf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:V1,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==vf&&(vf&&c.type==="mousemove"?(I1=c.screenX-vf.screenX,L1=c.screenY-vf.screenY):L1=I1=0,vf=c),I1)},movementY:function(c){return"movementY"in c?c.movementY:L1}}),HT=Tr(Hg),AZ=m({},Hg,{dataTransfer:0}),MZ=Tr(AZ),RZ=m({},xf,{relatedTarget:0}),$1=Tr(RZ),OZ=m({},yc,{animationName:0,elapsedTime:0,pseudoElement:0}),DZ=Tr(OZ),PZ=m({},yc,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),IZ=Tr(PZ),LZ=m({},yc,{data:0}),qT=Tr(LZ),$Z={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},BZ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FZ(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=BZ[c])?!!h[c]:!1}function V1(){return FZ}var UZ=m({},xf,{key:function(c){if(c.key){var h=$Z[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Bg(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?VZ[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:V1,charCode:function(c){return c.type==="keypress"?Bg(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Bg(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),HZ=Tr(UZ),qZ=m({},Hg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZT=Tr(qZ),ZZ=m({},xf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:V1}),WZ=Tr(ZZ),KZ=m({},yc,{propertyName:0,elapsedTime:0,pseudoElement:0}),GZ=Tr(KZ),YZ=m({},Hg,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),JZ=Tr(YZ),XZ=m({},yc,{newState:0,oldState:0}),QZ=Tr(XZ),eW=[9,13,27,32],B1=no&&"CompositionEvent"in window,yf=null;no&&"documentMode"in document&&(yf=document.documentMode);var tW=no&&"TextEvent"in window&&!yf,WT=no&&(!B1||yf&&8<yf&&11>=yf),KT=" ",GT=!1;function YT(c,h){switch(c){case"keyup":return eW.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JT(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Xu=!1;function nW(c,h){switch(c){case"compositionend":return JT(h);case"keypress":return h.which!==32?null:(GT=!0,KT);case"textInput":return c=h.data,c===KT&&GT?null:c;default:return null}}function sW(c,h){if(Xu)return c==="compositionend"||!B1&&YT(c,h)?(c=FT(),Vg=P1=Ko=null,Xu=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return WT&&h.locale!=="ko"?null:h.data;default:return null}}var rW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XT(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!rW[c.type]:h==="textarea"}function QT(c,h,p,y){Yu?Ju?Ju.push(y):Ju=[y]:Yu=y,h=Rx(h,"onChange"),0<h.length&&(p=new Ug("onChange","change",null,p,y),c.push({event:p,listeners:h}))}var bf=null,wf=null;function iW(c){D4(c,0)}function qg(c){var h=mf(c);if(OT(h))return c}function e5(c,h){if(c==="change")return h}var t5=!1;if(no){var F1;if(no){var U1="oninput"in document;if(!U1){var n5=document.createElement("div");n5.setAttribute("oninput","return;"),U1=typeof n5.oninput=="function"}F1=U1}else F1=!1;t5=F1&&(!document.documentMode||9<document.documentMode)}function s5(){bf&&(bf.detachEvent("onpropertychange",r5),wf=bf=null)}function r5(c){if(c.propertyName==="value"&&qg(wf)){var h=[];QT(h,wf,c,R1(c)),BT(iW,h)}}function aW(c,h,p){c==="focusin"?(s5(),bf=h,wf=p,bf.attachEvent("onpropertychange",r5)):c==="focusout"&&s5()}function oW(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return qg(wf)}function lW(c,h){if(c==="click")return qg(h)}function cW(c,h){if(c==="input"||c==="change")return qg(h)}function uW(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var Zr=typeof Object.is=="function"?Object.is:uW;function jf(c,h){if(Zr(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var p=Object.keys(c),y=Object.keys(h);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var N=p[y];if(!We.call(h,N)||!Zr(c[N],h[N]))return!1}return!0}function i5(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function a5(c,h){var p=i5(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=h&&y>=h)return{node:p,offset:h-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=i5(p)}}function o5(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?o5(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function l5(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=Lg(c.document);h instanceof c.HTMLIFrameElement;){try{var p=typeof h.contentWindow.location.href=="string"}catch{p=!1}if(p)c=h.contentWindow;else break;h=Lg(c.document)}return h}function H1(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var dW=no&&"documentMode"in document&&11>=document.documentMode,Qu=null,q1=null,kf=null,Z1=!1;function c5(c,h,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Z1||Qu==null||Qu!==Lg(y)||(y=Qu,"selectionStart"in y&&H1(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),kf&&jf(kf,y)||(kf=y,y=Rx(q1,"onSelect"),0<y.length&&(h=new Ug("onSelect","select",null,h,p),c.push({event:h,listeners:y}),h.target=Qu)))}function bc(c,h){var p={};return p[c.toLowerCase()]=h.toLowerCase(),p["Webkit"+c]="webkit"+h,p["Moz"+c]="moz"+h,p}var ed={animationend:bc("Animation","AnimationEnd"),animationiteration:bc("Animation","AnimationIteration"),animationstart:bc("Animation","AnimationStart"),transitionrun:bc("Transition","TransitionRun"),transitionstart:bc("Transition","TransitionStart"),transitioncancel:bc("Transition","TransitionCancel"),transitionend:bc("Transition","TransitionEnd")},W1={},u5={};no&&(u5=document.createElement("div").style,"AnimationEvent"in window||(delete ed.animationend.animation,delete ed.animationiteration.animation,delete ed.animationstart.animation),"TransitionEvent"in window||delete ed.transitionend.transition);function wc(c){if(W1[c])return W1[c];if(!ed[c])return c;var h=ed[c],p;for(p in h)if(h.hasOwnProperty(p)&&p in u5)return W1[c]=h[p];return c}var d5=wc("animationend"),h5=wc("animationiteration"),f5=wc("animationstart"),hW=wc("transitionrun"),fW=wc("transitionstart"),mW=wc("transitioncancel"),m5=wc("transitionend"),p5=new Map,K1="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");K1.push("scrollEnd");function qi(c,h){p5.set(c,h),vc(h,[c])}var Zg=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},pi=[],td=0,G1=0;function Wg(){for(var c=td,h=G1=td=0;h<c;){var p=pi[h];pi[h++]=null;var y=pi[h];pi[h++]=null;var N=pi[h];pi[h++]=null;var _=pi[h];if(pi[h++]=null,y!==null&&N!==null){var O=y.pending;O===null?N.next=N:(N.next=O.next,O.next=N),y.pending=N}_!==0&&g5(p,N,_)}}function Kg(c,h,p,y){pi[td++]=c,pi[td++]=h,pi[td++]=p,pi[td++]=y,G1|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function Y1(c,h,p,y){return Kg(c,h,p,y),Gg(c)}function jc(c,h){return Kg(c,null,null,h),Gg(c)}function g5(c,h,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var N=!1,_=c.return;_!==null;)_.childLanes|=p,y=_.alternate,y!==null&&(y.childLanes|=p),_.tag===22&&(c=_.stateNode,c===null||c._visibility&1||(N=!0)),c=_,_=_.return;return c.tag===3?(_=c.stateNode,N&&h!==null&&(N=31-on(p),c=_.hiddenUpdates,y=c[N],y===null?c[N]=[h]:y.push(h),h.lane=p|536870912),_):null}function Gg(c){if(50<qf)throw qf=0,ij=null,Error(s(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var nd={};function pW(c,h,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wr(c,h,p,y){return new pW(c,h,p,y)}function J1(c){return c=c.prototype,!(!c||!c.isReactComponent)}function so(c,h){var p=c.alternate;return p===null?(p=Wr(c.tag,h,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=h,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,h=c.dependencies,p.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function x5(c,h){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,h=p.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function Yg(c,h,p,y,N,_){var O=0;if(y=c,typeof c=="function")J1(c)&&(O=1);else if(typeof c=="string")O=bK(c,p,te.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case D:return c=Wr(31,p,h,N),c.elementType=D,c.lanes=_,c;case w:return kc(p.children,N,_,h);case j:O=8,N|=24;break;case k:return c=Wr(12,p,h,N|2),c.elementType=k,c.lanes=_,c;case z:return c=Wr(13,p,h,N),c.elementType=z,c.lanes=_,c;case R:return c=Wr(19,p,h,N),c.elementType=R,c.lanes=_,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case C:O=10;break e;case S:O=9;break e;case E:O=11;break e;case T:O=14;break e;case A:O=16,y=null;break e}O=29,p=Error(s(130,c===null?"null":typeof c,"")),y=null}return h=Wr(O,p,h,N),h.elementType=c,h.type=y,h.lanes=_,h}function kc(c,h,p,y){return c=Wr(7,c,y,h),c.lanes=p,c}function X1(c,h,p){return c=Wr(6,c,null,h),c.lanes=p,c}function v5(c){var h=Wr(18,null,null,0);return h.stateNode=c,h}function Q1(c,h,p){return h=Wr(4,c.children!==null?c.children:[],c.key,h),h.lanes=p,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var y5=new WeakMap;function gi(c,h){if(typeof c=="object"&&c!==null){var p=y5.get(c);return p!==void 0?p:(h={value:c,source:h,stack:jt(h)},y5.set(c,h),h)}return{value:c,source:h,stack:jt(h)}}var sd=[],rd=0,Jg=null,Nf=0,xi=[],vi=0,Go=null,ba=1,wa="";function ro(c,h){sd[rd++]=Nf,sd[rd++]=Jg,Jg=c,Nf=h}function b5(c,h,p){xi[vi++]=ba,xi[vi++]=wa,xi[vi++]=Go,Go=c;var y=ba;c=wa;var N=32-on(y)-1;y&=~(1<<N),p+=1;var _=32-on(h)+N;if(30<_){var O=N-N%5;_=(y&(1<<O)-1).toString(32),y>>=O,N-=O,ba=1<<32-on(h)+N|p<<N|y,wa=_+c}else ba=1<<_|p<<N|y,wa=c}function ew(c){c.return!==null&&(ro(c,1),b5(c,1,0))}function tw(c){for(;c===Jg;)Jg=sd[--rd],sd[rd]=null,Nf=sd[--rd],sd[rd]=null;for(;c===Go;)Go=xi[--vi],xi[vi]=null,wa=xi[--vi],xi[vi]=null,ba=xi[--vi],xi[vi]=null}function w5(c,h){xi[vi++]=ba,xi[vi++]=wa,xi[vi++]=Go,ba=h.id,wa=h.overflow,Go=c}var Zs=null,An=null,Zt=!1,Yo=null,yi=!1,nw=Error(s(519));function Jo(c){var h=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Sf(gi(h,c)),nw}function j5(c){var h=c.stateNode,p=c.type,y=c.memoizedProps;switch(h[qs]=c,h[Er]=y,p){case"dialog":Ut("cancel",h),Ut("close",h);break;case"iframe":case"object":case"embed":Ut("load",h);break;case"video":case"audio":for(p=0;p<Wf.length;p++)Ut(Wf[p],h);break;case"source":Ut("error",h);break;case"img":case"image":case"link":Ut("error",h),Ut("load",h);break;case"details":Ut("toggle",h);break;case"input":Ut("invalid",h),DT(h,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":Ut("invalid",h);break;case"textarea":Ut("invalid",h),IT(h,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||h.textContent===""+p||y.suppressHydrationWarning===!0||$4(h.textContent,p)?(y.popover!=null&&(Ut("beforetoggle",h),Ut("toggle",h)),y.onScroll!=null&&Ut("scroll",h),y.onScrollEnd!=null&&Ut("scrollend",h),y.onClick!=null&&(h.onclick=to),h=!0):h=!1,h||Jo(c,!0)}function k5(c){for(Zs=c.return;Zs;)switch(Zs.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:Zs=Zs.return}}function id(c){if(c!==Zs)return!1;if(!Zt)return k5(c),Zt=!0,!1;var h=c.tag,p;if((p=h!==3&&h!==27)&&((p=h===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||bj(c.type,c.memoizedProps)),p=!p),p&&An&&Jo(c),k5(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));An=K4(c)}else if(h===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));An=K4(c)}else h===27?(h=An,dl(c.type)?(c=Sj,Sj=null,An=c):An=h):An=Zs?wi(c.stateNode.nextSibling):null;return!0}function Nc(){An=Zs=null,Zt=!1}function sw(){var c=Yo;return c!==null&&(Rr===null?Rr=c:Rr.push.apply(Rr,c),Yo=null),c}function Sf(c){Yo===null?Yo=[c]:Yo.push(c)}var rw=M(null),Sc=null,io=null;function Xo(c,h,p){W(rw,h._currentValue),h._currentValue=p}function ao(c){c._currentValue=rw.current,H(rw)}function iw(c,h,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),c===p)break;c=c.return}}function aw(c,h,p,y){var N=c.child;for(N!==null&&(N.return=c);N!==null;){var _=N.dependencies;if(_!==null){var O=N.child;_=_.firstContext;e:for(;_!==null;){var B=_;_=N;for(var Q=0;Q<h.length;Q++)if(B.context===h[Q]){_.lanes|=p,B=_.alternate,B!==null&&(B.lanes|=p),iw(_.return,p,c),y||(O=null);break e}_=B.next}}else if(N.tag===18){if(O=N.return,O===null)throw Error(s(341));O.lanes|=p,_=O.alternate,_!==null&&(_.lanes|=p),iw(O,p,c),O=null}else O=N.child;if(O!==null)O.return=N;else for(O=N;O!==null;){if(O===c){O=null;break}if(N=O.sibling,N!==null){N.return=O.return,O=N;break}O=O.return}N=O}}function ad(c,h,p,y){c=null;for(var N=h,_=!1;N!==null;){if(!_){if((N.flags&524288)!==0)_=!0;else if((N.flags&262144)!==0)break}if(N.tag===10){var O=N.alternate;if(O===null)throw Error(s(387));if(O=O.memoizedProps,O!==null){var B=N.type;Zr(N.pendingProps.value,O.value)||(c!==null?c.push(B):c=[B])}}else if(N===Y.current){if(O=N.alternate,O===null)throw Error(s(387));O.memoizedState.memoizedState!==N.memoizedState.memoizedState&&(c!==null?c.push(Xf):c=[Xf])}N=N.return}c!==null&&aw(h,c,p,y),h.flags|=262144}function Xg(c){for(c=c.firstContext;c!==null;){if(!Zr(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function _c(c){Sc=c,io=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ws(c){return N5(Sc,c)}function Qg(c,h){return Sc===null&&_c(c),N5(c,h)}function N5(c,h){var p=h._currentValue;if(h={context:h,memoizedValue:p,next:null},io===null){if(c===null)throw Error(s(308));io=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else io=io.next=h;return p}var gW=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){h.aborted=!0,c.forEach(function(p){return p()})}},xW=e.unstable_scheduleCallback,vW=e.unstable_NormalPriority,hs={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ow(){return{controller:new gW,data:new Map,refCount:0}}function _f(c){c.refCount--,c.refCount===0&&xW(vW,function(){c.controller.abort()})}var Cf=null,lw=0,od=0,ld=null;function yW(c,h){if(Cf===null){var p=Cf=[];lw=0,od=dj(),ld={status:"pending",value:void 0,then:function(y){p.push(y)}}}return lw++,h.then(S5,S5),h}function S5(){if(--lw===0&&Cf!==null){ld!==null&&(ld.status="fulfilled");var c=Cf;Cf=null,od=0,ld=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function bW(c,h){var p=[],y={status:"pending",value:null,reason:null,then:function(N){p.push(N)}};return c.then(function(){y.status="fulfilled",y.value=h;for(var N=0;N<p.length;N++)(0,p[N])(h)},function(N){for(y.status="rejected",y.reason=N,N=0;N<p.length;N++)(0,p[N])(void 0)}),y}var _5=L.S;L.S=function(c,h){c4=ze(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&yW(c,h),_5!==null&&_5(c,h)};var Cc=M(null);function cw(){var c=Cc.current;return c!==null?c:Sn.pooledCache}function ex(c,h){h===null?W(Cc,Cc.current):W(Cc,h.pool)}function C5(){var c=cw();return c===null?null:{parent:hs._currentValue,pool:c}}var cd=Error(s(460)),uw=Error(s(474)),tx=Error(s(542)),nx={then:function(){}};function E5(c){return c=c.status,c==="fulfilled"||c==="rejected"}function T5(c,h,p){switch(p=c[p],p===void 0?c.push(h):p!==h&&(h.then(to,to),h=p),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,A5(c),c;default:if(typeof h.status=="string")h.then(to,to);else{if(c=Sn,c!==null&&100<c.shellSuspendCounter)throw Error(s(482));c=h,c.status="pending",c.then(function(y){if(h.status==="pending"){var N=h;N.status="fulfilled",N.value=y}},function(y){if(h.status==="pending"){var N=h;N.status="rejected",N.reason=y}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,A5(c),c}throw Tc=h,cd}}function Ec(c){try{var h=c._init;return h(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Tc=p,cd):p}}var Tc=null;function z5(){if(Tc===null)throw Error(s(459));var c=Tc;return Tc=null,c}function A5(c){if(c===cd||c===tx)throw Error(s(483))}var ud=null,Ef=0;function sx(c){var h=Ef;return Ef+=1,ud===null&&(ud=[]),T5(ud,c,h)}function Tf(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function rx(c,h){throw h.$$typeof===g?Error(s(525)):(c=Object.prototype.toString.call(h),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function M5(c){function h(ue,ie){if(c){var me=ue.deletions;me===null?(ue.deletions=[ie],ue.flags|=16):me.push(ie)}}function p(ue,ie){if(!c)return null;for(;ie!==null;)h(ue,ie),ie=ie.sibling;return null}function y(ue){for(var ie=new Map;ue!==null;)ue.key!==null?ie.set(ue.key,ue):ie.set(ue.index,ue),ue=ue.sibling;return ie}function N(ue,ie){return ue=so(ue,ie),ue.index=0,ue.sibling=null,ue}function _(ue,ie,me){return ue.index=me,c?(me=ue.alternate,me!==null?(me=me.index,me<ie?(ue.flags|=67108866,ie):me):(ue.flags|=67108866,ie)):(ue.flags|=1048576,ie)}function O(ue){return c&&ue.alternate===null&&(ue.flags|=67108866),ue}function B(ue,ie,me,ke){return ie===null||ie.tag!==6?(ie=X1(me,ue.mode,ke),ie.return=ue,ie):(ie=N(ie,me),ie.return=ue,ie)}function Q(ue,ie,me,ke){var ft=me.type;return ft===w?je(ue,ie,me.props.children,ke,me.key):ie!==null&&(ie.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Ec(ft)===ie.type)?(ie=N(ie,me.props),Tf(ie,me),ie.return=ue,ie):(ie=Yg(me.type,me.key,me.props,null,ue.mode,ke),Tf(ie,me),ie.return=ue,ie)}function pe(ue,ie,me,ke){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==me.containerInfo||ie.stateNode.implementation!==me.implementation?(ie=Q1(me,ue.mode,ke),ie.return=ue,ie):(ie=N(ie,me.children||[]),ie.return=ue,ie)}function je(ue,ie,me,ke,ft){return ie===null||ie.tag!==7?(ie=kc(me,ue.mode,ke,ft),ie.return=ue,ie):(ie=N(ie,me),ie.return=ue,ie)}function Se(ue,ie,me){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=X1(""+ie,ue.mode,me),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case x:return me=Yg(ie.type,ie.key,ie.props,null,ue.mode,me),Tf(me,ie),me.return=ue,me;case b:return ie=Q1(ie,ue.mode,me),ie.return=ue,ie;case A:return ie=Ec(ie),Se(ue,ie,me)}if(ee(ie)||$(ie))return ie=kc(ie,ue.mode,me,null),ie.return=ue,ie;if(typeof ie.then=="function")return Se(ue,sx(ie),me);if(ie.$$typeof===C)return Se(ue,Qg(ue,ie),me);rx(ue,ie)}return null}function ve(ue,ie,me,ke){var ft=ie!==null?ie.key:null;if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return ft!==null?null:B(ue,ie,""+me,ke);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case x:return me.key===ft?Q(ue,ie,me,ke):null;case b:return me.key===ft?pe(ue,ie,me,ke):null;case A:return me=Ec(me),ve(ue,ie,me,ke)}if(ee(me)||$(me))return ft!==null?null:je(ue,ie,me,ke,null);if(typeof me.then=="function")return ve(ue,ie,sx(me),ke);if(me.$$typeof===C)return ve(ue,ie,Qg(ue,me),ke);rx(ue,me)}return null}function ye(ue,ie,me,ke,ft){if(typeof ke=="string"&&ke!==""||typeof ke=="number"||typeof ke=="bigint")return ue=ue.get(me)||null,B(ie,ue,""+ke,ft);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case x:return ue=ue.get(ke.key===null?me:ke.key)||null,Q(ie,ue,ke,ft);case b:return ue=ue.get(ke.key===null?me:ke.key)||null,pe(ie,ue,ke,ft);case A:return ke=Ec(ke),ye(ue,ie,me,ke,ft)}if(ee(ke)||$(ke))return ue=ue.get(me)||null,je(ie,ue,ke,ft,null);if(typeof ke.then=="function")return ye(ue,ie,me,sx(ke),ft);if(ke.$$typeof===C)return ye(ue,ie,me,Qg(ie,ke),ft);rx(ie,ke)}return null}function et(ue,ie,me,ke){for(var ft=null,en=null,lt=ie,Pt=ie=0,qt=null;lt!==null&&Pt<me.length;Pt++){lt.index>Pt?(qt=lt,lt=null):qt=lt.sibling;var tn=ve(ue,lt,me[Pt],ke);if(tn===null){lt===null&&(lt=qt);break}c&&lt&&tn.alternate===null&&h(ue,lt),ie=_(tn,ie,Pt),en===null?ft=tn:en.sibling=tn,en=tn,lt=qt}if(Pt===me.length)return p(ue,lt),Zt&&ro(ue,Pt),ft;if(lt===null){for(;Pt<me.length;Pt++)lt=Se(ue,me[Pt],ke),lt!==null&&(ie=_(lt,ie,Pt),en===null?ft=lt:en.sibling=lt,en=lt);return Zt&&ro(ue,Pt),ft}for(lt=y(lt);Pt<me.length;Pt++)qt=ye(lt,ue,Pt,me[Pt],ke),qt!==null&&(c&&qt.alternate!==null&&lt.delete(qt.key===null?Pt:qt.key),ie=_(qt,ie,Pt),en===null?ft=qt:en.sibling=qt,en=qt);return c&&lt.forEach(function(gl){return h(ue,gl)}),Zt&&ro(ue,Pt),ft}function vt(ue,ie,me,ke){if(me==null)throw Error(s(151));for(var ft=null,en=null,lt=ie,Pt=ie=0,qt=null,tn=me.next();lt!==null&&!tn.done;Pt++,tn=me.next()){lt.index>Pt?(qt=lt,lt=null):qt=lt.sibling;var gl=ve(ue,lt,tn.value,ke);if(gl===null){lt===null&&(lt=qt);break}c&&lt&&gl.alternate===null&&h(ue,lt),ie=_(gl,ie,Pt),en===null?ft=gl:en.sibling=gl,en=gl,lt=qt}if(tn.done)return p(ue,lt),Zt&&ro(ue,Pt),ft;if(lt===null){for(;!tn.done;Pt++,tn=me.next())tn=Se(ue,tn.value,ke),tn!==null&&(ie=_(tn,ie,Pt),en===null?ft=tn:en.sibling=tn,en=tn);return Zt&&ro(ue,Pt),ft}for(lt=y(lt);!tn.done;Pt++,tn=me.next())tn=ye(lt,ue,Pt,tn.value,ke),tn!==null&&(c&&tn.alternate!==null&&lt.delete(tn.key===null?Pt:tn.key),ie=_(tn,ie,Pt),en===null?ft=tn:en.sibling=tn,en=tn);return c&&lt.forEach(function(AK){return h(ue,AK)}),Zt&&ro(ue,Pt),ft}function yn(ue,ie,me,ke){if(typeof me=="object"&&me!==null&&me.type===w&&me.key===null&&(me=me.props.children),typeof me=="object"&&me!==null){switch(me.$$typeof){case x:e:{for(var ft=me.key;ie!==null;){if(ie.key===ft){if(ft=me.type,ft===w){if(ie.tag===7){p(ue,ie.sibling),ke=N(ie,me.props.children),ke.return=ue,ue=ke;break e}}else if(ie.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===A&&Ec(ft)===ie.type){p(ue,ie.sibling),ke=N(ie,me.props),Tf(ke,me),ke.return=ue,ue=ke;break e}p(ue,ie);break}else h(ue,ie);ie=ie.sibling}me.type===w?(ke=kc(me.props.children,ue.mode,ke,me.key),ke.return=ue,ue=ke):(ke=Yg(me.type,me.key,me.props,null,ue.mode,ke),Tf(ke,me),ke.return=ue,ue=ke)}return O(ue);case b:e:{for(ft=me.key;ie!==null;){if(ie.key===ft)if(ie.tag===4&&ie.stateNode.containerInfo===me.containerInfo&&ie.stateNode.implementation===me.implementation){p(ue,ie.sibling),ke=N(ie,me.children||[]),ke.return=ue,ue=ke;break e}else{p(ue,ie);break}else h(ue,ie);ie=ie.sibling}ke=Q1(me,ue.mode,ke),ke.return=ue,ue=ke}return O(ue);case A:return me=Ec(me),yn(ue,ie,me,ke)}if(ee(me))return et(ue,ie,me,ke);if($(me)){if(ft=$(me),typeof ft!="function")throw Error(s(150));return me=ft.call(me),vt(ue,ie,me,ke)}if(typeof me.then=="function")return yn(ue,ie,sx(me),ke);if(me.$$typeof===C)return yn(ue,ie,Qg(ue,me),ke);rx(ue,me)}return typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint"?(me=""+me,ie!==null&&ie.tag===6?(p(ue,ie.sibling),ke=N(ie,me),ke.return=ue,ue=ke):(p(ue,ie),ke=X1(me,ue.mode,ke),ke.return=ue,ue=ke),O(ue)):p(ue,ie)}return function(ue,ie,me,ke){try{Ef=0;var ft=yn(ue,ie,me,ke);return ud=null,ft}catch(lt){if(lt===cd||lt===tx)throw lt;var en=Wr(29,lt,null,ue.mode);return en.lanes=ke,en.return=ue,en}finally{}}}var zc=M5(!0),R5=M5(!1),Qo=!1;function dw(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hw(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function el(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function tl(c,h,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(rn&2)!==0){var N=y.pending;return N===null?h.next=h:(h.next=N.next,N.next=h),y.pending=h,h=Gg(c),g5(c,null,p),h}return Kg(c,y,h,p),Gg(c)}function zf(c,h,p){if(h=h.updateQueue,h!==null&&(h=h.shared,(p&4194048)!==0)){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,gn(c,p)}}function fw(c,h){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var N=null,_=null;if(p=p.firstBaseUpdate,p!==null){do{var O={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};_===null?N=_=O:_=_.next=O,p=p.next}while(p!==null);_===null?N=_=h:_=_.next=h}else N=_=h;p={baseState:y.baseState,firstBaseUpdate:N,lastBaseUpdate:_,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=h}var mw=!1;function Af(){if(mw){var c=ld;if(c!==null)throw c}}function Mf(c,h,p,y){mw=!1;var N=c.updateQueue;Qo=!1;var _=N.firstBaseUpdate,O=N.lastBaseUpdate,B=N.shared.pending;if(B!==null){N.shared.pending=null;var Q=B,pe=Q.next;Q.next=null,O===null?_=pe:O.next=pe,O=Q;var je=c.alternate;je!==null&&(je=je.updateQueue,B=je.lastBaseUpdate,B!==O&&(B===null?je.firstBaseUpdate=pe:B.next=pe,je.lastBaseUpdate=Q))}if(_!==null){var Se=N.baseState;O=0,je=pe=Q=null,B=_;do{var ve=B.lane&-536870913,ye=ve!==B.lane;if(ye?(Ht&ve)===ve:(y&ve)===ve){ve!==0&&ve===od&&(mw=!0),je!==null&&(je=je.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var et=c,vt=B;ve=h;var yn=p;switch(vt.tag){case 1:if(et=vt.payload,typeof et=="function"){Se=et.call(yn,Se,ve);break e}Se=et;break e;case 3:et.flags=et.flags&-65537|128;case 0:if(et=vt.payload,ve=typeof et=="function"?et.call(yn,Se,ve):et,ve==null)break e;Se=m({},Se,ve);break e;case 2:Qo=!0}}ve=B.callback,ve!==null&&(c.flags|=64,ye&&(c.flags|=8192),ye=N.callbacks,ye===null?N.callbacks=[ve]:ye.push(ve))}else ye={lane:ve,tag:B.tag,payload:B.payload,callback:B.callback,next:null},je===null?(pe=je=ye,Q=Se):je=je.next=ye,O|=ve;if(B=B.next,B===null){if(B=N.shared.pending,B===null)break;ye=B,B=ye.next,ye.next=null,N.lastBaseUpdate=ye,N.shared.pending=null}}while(!0);je===null&&(Q=Se),N.baseState=Q,N.firstBaseUpdate=pe,N.lastBaseUpdate=je,_===null&&(N.shared.lanes=0),al|=O,c.lanes=O,c.memoizedState=Se}}function O5(c,h){if(typeof c!="function")throw Error(s(191,c));c.call(h)}function D5(c,h){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)O5(p[c],h)}var dd=M(null),ix=M(0);function P5(c,h){c=go,W(ix,c),W(dd,h),go=c|h.baseLanes}function pw(){W(ix,go),W(dd,dd.current)}function gw(){go=ix.current,H(dd),H(ix)}var Kr=M(null),bi=null;function nl(c){var h=c.alternate;W(ls,ls.current&1),W(Kr,c),bi===null&&(h===null||dd.current!==null||h.memoizedState!==null)&&(bi=c)}function xw(c){W(ls,ls.current),W(Kr,c),bi===null&&(bi=c)}function I5(c){c.tag===22?(W(ls,ls.current),W(Kr,c),bi===null&&(bi=c)):sl()}function sl(){W(ls,ls.current),W(Kr,Kr.current)}function Gr(c){H(Kr),bi===c&&(bi=null),H(ls)}var ls=M(0);function ax(c){for(var h=c;h!==null;){if(h.tag===13){var p=h.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||kj(p)||Nj(p)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var oo=0,Rt=null,xn=null,fs=null,ox=!1,hd=!1,Ac=!1,lx=0,Rf=0,fd=null,wW=0;function Kn(){throw Error(s(321))}function vw(c,h){if(h===null)return!1;for(var p=0;p<h.length&&p<c.length;p++)if(!Zr(c[p],h[p]))return!1;return!0}function yw(c,h,p,y,N,_){return oo=_,Rt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,L.H=c===null||c.memoizedState===null?bz:Ow,Ac=!1,_=p(y,N),Ac=!1,hd&&(_=$5(h,p,y,N)),L5(c),_}function L5(c){L.H=Pf;var h=xn!==null&&xn.next!==null;if(oo=0,fs=xn=Rt=null,ox=!1,Rf=0,fd=null,h)throw Error(s(300));c===null||ms||(c=c.dependencies,c!==null&&Xg(c)&&(ms=!0))}function $5(c,h,p,y){Rt=c;var N=0;do{if(hd&&(fd=null),Rf=0,hd=!1,25<=N)throw Error(s(301));if(N+=1,fs=xn=null,c.updateQueue!=null){var _=c.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}L.H=wz,_=h(p,y)}while(hd);return _}function jW(){var c=L.H,h=c.useState()[0];return h=typeof h.then=="function"?Of(h):h,c=c.useState()[0],(xn!==null?xn.memoizedState:null)!==c&&(Rt.flags|=1024),h}function bw(){var c=lx!==0;return lx=0,c}function ww(c,h,p){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~p}function jw(c){if(ox){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}ox=!1}oo=0,fs=xn=Rt=null,hd=!1,Rf=lx=0,fd=null}function gr(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?Rt.memoizedState=fs=c:fs=fs.next=c,fs}function cs(){if(xn===null){var c=Rt.alternate;c=c!==null?c.memoizedState:null}else c=xn.next;var h=fs===null?Rt.memoizedState:fs.next;if(h!==null)fs=h,xn=c;else{if(c===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));xn=c,c={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},fs===null?Rt.memoizedState=fs=c:fs=fs.next=c}return fs}function cx(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Of(c){var h=Rf;return Rf+=1,fd===null&&(fd=[]),c=T5(fd,c,h),h=Rt,(fs===null?h.memoizedState:fs.next)===null&&(h=h.alternate,L.H=h===null||h.memoizedState===null?bz:Ow),c}function ux(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Of(c);if(c.$$typeof===C)return Ws(c)}throw Error(s(438,String(c)))}function kw(c){var h=null,p=Rt.updateQueue;if(p!==null&&(h=p.memoCache),h==null){var y=Rt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(h={data:y.data.map(function(N){return N.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),p===null&&(p=cx(),Rt.updateQueue=p),p.memoCache=h,p=h.data[h.index],p===void 0)for(p=h.data[h.index]=Array(c),y=0;y<c;y++)p[y]=F;return h.index++,p}function lo(c,h){return typeof h=="function"?h(c):h}function dx(c){var h=cs();return Nw(h,xn,c)}function Nw(c,h,p){var y=c.queue;if(y===null)throw Error(s(311));y.lastRenderedReducer=p;var N=c.baseQueue,_=y.pending;if(_!==null){if(N!==null){var O=N.next;N.next=_.next,_.next=O}h.baseQueue=N=_,y.pending=null}if(_=c.baseState,N===null)c.memoizedState=_;else{h=N.next;var B=O=null,Q=null,pe=h,je=!1;do{var Se=pe.lane&-536870913;if(Se!==pe.lane?(Ht&Se)===Se:(oo&Se)===Se){var ve=pe.revertLane;if(ve===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),Se===od&&(je=!0);else if((oo&ve)===ve){pe=pe.next,ve===od&&(je=!0);continue}else Se={lane:0,revertLane:pe.revertLane,gesture:null,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},Q===null?(B=Q=Se,O=_):Q=Q.next=Se,Rt.lanes|=ve,al|=ve;Se=pe.action,Ac&&p(_,Se),_=pe.hasEagerState?pe.eagerState:p(_,Se)}else ve={lane:Se,revertLane:pe.revertLane,gesture:pe.gesture,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null},Q===null?(B=Q=ve,O=_):Q=Q.next=ve,Rt.lanes|=Se,al|=Se;pe=pe.next}while(pe!==null&&pe!==h);if(Q===null?O=_:Q.next=B,!Zr(_,c.memoizedState)&&(ms=!0,je&&(p=ld,p!==null)))throw p;c.memoizedState=_,c.baseState=O,c.baseQueue=Q,y.lastRenderedState=_}return N===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function Sw(c){var h=cs(),p=h.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=c;var y=p.dispatch,N=p.pending,_=h.memoizedState;if(N!==null){p.pending=null;var O=N=N.next;do _=c(_,O.action),O=O.next;while(O!==N);Zr(_,h.memoizedState)||(ms=!0),h.memoizedState=_,h.baseQueue===null&&(h.baseState=_),p.lastRenderedState=_}return[_,y]}function V5(c,h,p){var y=Rt,N=cs(),_=Zt;if(_){if(p===void 0)throw Error(s(407));p=p()}else p=h();var O=!Zr((xn||N).memoizedState,p);if(O&&(N.memoizedState=p,ms=!0),N=N.queue,Ew(U5.bind(null,y,N,c),[c]),N.getSnapshot!==h||O||fs!==null&&fs.memoizedState.tag&1){if(y.flags|=2048,md(9,{destroy:void 0},F5.bind(null,y,N,p,h),null),Sn===null)throw Error(s(349));_||(oo&127)!==0||B5(y,h,p)}return p}function B5(c,h,p){c.flags|=16384,c={getSnapshot:h,value:p},h=Rt.updateQueue,h===null?(h=cx(),Rt.updateQueue=h,h.stores=[c]):(p=h.stores,p===null?h.stores=[c]:p.push(c))}function F5(c,h,p,y){h.value=p,h.getSnapshot=y,H5(h)&&q5(c)}function U5(c,h,p){return p(function(){H5(h)&&q5(c)})}function H5(c){var h=c.getSnapshot;c=c.value;try{var p=h();return!Zr(c,p)}catch{return!0}}function q5(c){var h=jc(c,2);h!==null&&Or(h,c,2)}function _w(c){var h=gr();if(typeof c=="function"){var p=c;if(c=p(),Ac){Mt(!0);try{p()}finally{Mt(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:c},h}function Z5(c,h,p,y){return c.baseState=p,Nw(c,xn,typeof y=="function"?y:lo)}function kW(c,h,p,y,N){if(mx(c))throw Error(s(485));if(c=h.action,c!==null){var _={payload:N,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){_.listeners.push(O)}};L.T!==null?p(!0):_.isTransition=!1,y(_),p=h.pending,p===null?(_.next=h.pending=_,W5(h,_)):(_.next=p.next,h.pending=p.next=_)}}function W5(c,h){var p=h.action,y=h.payload,N=c.state;if(h.isTransition){var _=L.T,O={};L.T=O;try{var B=p(N,y),Q=L.S;Q!==null&&Q(O,B),K5(c,h,B)}catch(pe){Cw(c,h,pe)}finally{_!==null&&O.types!==null&&(_.types=O.types),L.T=_}}else try{_=p(N,y),K5(c,h,_)}catch(pe){Cw(c,h,pe)}}function K5(c,h,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){G5(c,h,y)},function(y){return Cw(c,h,y)}):G5(c,h,p)}function G5(c,h,p){h.status="fulfilled",h.value=p,Y5(h),c.state=p,h=c.pending,h!==null&&(p=h.next,p===h?c.pending=null:(p=p.next,h.next=p,W5(c,p)))}function Cw(c,h,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do h.status="rejected",h.reason=p,Y5(h),h=h.next;while(h!==y)}c.action=null}function Y5(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function J5(c,h){return h}function X5(c,h){if(Zt){var p=Sn.formState;if(p!==null){e:{var y=Rt;if(Zt){if(An){t:{for(var N=An,_=yi;N.nodeType!==8;){if(!_){N=null;break t}if(N=wi(N.nextSibling),N===null){N=null;break t}}_=N.data,N=_==="F!"||_==="F"?N:null}if(N){An=wi(N.nextSibling),y=N.data==="F!";break e}}Jo(y)}y=!1}y&&(h=p[0])}}return p=gr(),p.memoizedState=p.baseState=h,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:J5,lastRenderedState:h},p.queue=y,p=xz.bind(null,Rt,y),y.dispatch=p,y=_w(!1),_=Rw.bind(null,Rt,!1,y.queue),y=gr(),N={state:h,dispatch:null,action:c,pending:null},y.queue=N,p=kW.bind(null,Rt,N,_,p),N.dispatch=p,y.memoizedState=c,[h,p,!1]}function Q5(c){var h=cs();return ez(h,xn,c)}function ez(c,h,p){if(h=Nw(c,h,J5)[0],c=dx(lo)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var y=Of(h)}catch(O){throw O===cd?tx:O}else y=h;h=cs();var N=h.queue,_=N.dispatch;return p!==h.memoizedState&&(Rt.flags|=2048,md(9,{destroy:void 0},NW.bind(null,N,p),null)),[y,_,c]}function NW(c,h){c.action=h}function tz(c){var h=cs(),p=xn;if(p!==null)return ez(h,p,c);cs(),h=h.memoizedState,p=cs();var y=p.queue.dispatch;return p.memoizedState=c,[h,y,!1]}function md(c,h,p,y){return c={tag:c,create:p,deps:y,inst:h,next:null},h=Rt.updateQueue,h===null&&(h=cx(),Rt.updateQueue=h),p=h.lastEffect,p===null?h.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,h.lastEffect=c),c}function nz(){return cs().memoizedState}function hx(c,h,p,y){var N=gr();Rt.flags|=c,N.memoizedState=md(1|h,{destroy:void 0},p,y===void 0?null:y)}function fx(c,h,p,y){var N=cs();y=y===void 0?null:y;var _=N.memoizedState.inst;xn!==null&&y!==null&&vw(y,xn.memoizedState.deps)?N.memoizedState=md(h,_,p,y):(Rt.flags|=c,N.memoizedState=md(1|h,_,p,y))}function sz(c,h){hx(8390656,8,c,h)}function Ew(c,h){fx(2048,8,c,h)}function SW(c){Rt.flags|=4;var h=Rt.updateQueue;if(h===null)h=cx(),Rt.updateQueue=h,h.events=[c];else{var p=h.events;p===null?h.events=[c]:p.push(c)}}function rz(c){var h=cs().memoizedState;return SW({ref:h,nextImpl:c}),function(){if((rn&2)!==0)throw Error(s(440));return h.impl.apply(void 0,arguments)}}function iz(c,h){return fx(4,2,c,h)}function az(c,h){return fx(4,4,c,h)}function oz(c,h){if(typeof h=="function"){c=c();var p=h(c);return function(){typeof p=="function"?p():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function lz(c,h,p){p=p!=null?p.concat([c]):null,fx(4,4,oz.bind(null,h,c),p)}function Tw(){}function cz(c,h){var p=cs();h=h===void 0?null:h;var y=p.memoizedState;return h!==null&&vw(h,y[1])?y[0]:(p.memoizedState=[c,h],c)}function uz(c,h){var p=cs();h=h===void 0?null:h;var y=p.memoizedState;if(h!==null&&vw(h,y[1]))return y[0];if(y=c(),Ac){Mt(!0);try{c()}finally{Mt(!1)}}return p.memoizedState=[y,h],y}function zw(c,h,p){return p===void 0||(oo&1073741824)!==0&&(Ht&261930)===0?c.memoizedState=h:(c.memoizedState=p,c=d4(),Rt.lanes|=c,al|=c,p)}function dz(c,h,p,y){return Zr(p,h)?p:dd.current!==null?(c=zw(c,p,y),Zr(c,h)||(ms=!0),c):(oo&42)===0||(oo&1073741824)!==0&&(Ht&261930)===0?(ms=!0,c.memoizedState=p):(c=d4(),Rt.lanes|=c,al|=c,h)}function hz(c,h,p,y,N){var _=P.p;P.p=_!==0&&8>_?_:8;var O=L.T,B={};L.T=B,Rw(c,!1,h,p);try{var Q=N(),pe=L.S;if(pe!==null&&pe(B,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var je=bW(Q,y);Df(c,h,je,Xr(c))}else Df(c,h,y,Xr(c))}catch(Se){Df(c,h,{then:function(){},status:"rejected",reason:Se},Xr())}finally{P.p=_,O!==null&&B.types!==null&&(O.types=B.types),L.T=O}}function _W(){}function Aw(c,h,p,y){if(c.tag!==5)throw Error(s(476));var N=fz(c).queue;hz(c,N,h,I,p===null?_W:function(){return mz(c),p(y)})}function fz(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:I},next:null};var p={};return h.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:p},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function mz(c){var h=fz(c);h.next===null&&(h=c.alternate.memoizedState),Df(c,h.next.queue,{},Xr())}function Mw(){return Ws(Xf)}function pz(){return cs().memoizedState}function gz(){return cs().memoizedState}function CW(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var p=Xr();c=el(p);var y=tl(h,c,p);y!==null&&(Or(y,h,p),zf(y,h,p)),h={cache:ow()},c.payload=h;return}h=h.return}}function EW(c,h,p){var y=Xr();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},mx(c)?vz(h,p):(p=Y1(c,h,p,y),p!==null&&(Or(p,c,y),yz(p,h,y)))}function xz(c,h,p){var y=Xr();Df(c,h,p,y)}function Df(c,h,p,y){var N={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(mx(c))vz(h,N);else{var _=c.alternate;if(c.lanes===0&&(_===null||_.lanes===0)&&(_=h.lastRenderedReducer,_!==null))try{var O=h.lastRenderedState,B=_(O,p);if(N.hasEagerState=!0,N.eagerState=B,Zr(B,O))return Kg(c,h,N,0),Sn===null&&Wg(),!1}catch{}finally{}if(p=Y1(c,h,N,y),p!==null)return Or(p,c,y),yz(p,h,y),!0}return!1}function Rw(c,h,p,y){if(y={lane:2,revertLane:dj(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},mx(c)){if(h)throw Error(s(479))}else h=Y1(c,p,y,2),h!==null&&Or(h,c,2)}function mx(c){var h=c.alternate;return c===Rt||h!==null&&h===Rt}function vz(c,h){hd=ox=!0;var p=c.pending;p===null?h.next=h:(h.next=p.next,p.next=h),c.pending=h}function yz(c,h,p){if((p&4194048)!==0){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,gn(c,p)}}var Pf={readContext:Ws,use:ux,useCallback:Kn,useContext:Kn,useEffect:Kn,useImperativeHandle:Kn,useLayoutEffect:Kn,useInsertionEffect:Kn,useMemo:Kn,useReducer:Kn,useRef:Kn,useState:Kn,useDebugValue:Kn,useDeferredValue:Kn,useTransition:Kn,useSyncExternalStore:Kn,useId:Kn,useHostTransitionStatus:Kn,useFormState:Kn,useActionState:Kn,useOptimistic:Kn,useMemoCache:Kn,useCacheRefresh:Kn};Pf.useEffectEvent=Kn;var bz={readContext:Ws,use:ux,useCallback:function(c,h){return gr().memoizedState=[c,h===void 0?null:h],c},useContext:Ws,useEffect:sz,useImperativeHandle:function(c,h,p){p=p!=null?p.concat([c]):null,hx(4194308,4,oz.bind(null,h,c),p)},useLayoutEffect:function(c,h){return hx(4194308,4,c,h)},useInsertionEffect:function(c,h){hx(4,2,c,h)},useMemo:function(c,h){var p=gr();h=h===void 0?null:h;var y=c();if(Ac){Mt(!0);try{c()}finally{Mt(!1)}}return p.memoizedState=[y,h],y},useReducer:function(c,h,p){var y=gr();if(p!==void 0){var N=p(h);if(Ac){Mt(!0);try{p(h)}finally{Mt(!1)}}}else N=h;return y.memoizedState=y.baseState=N,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:N},y.queue=c,c=c.dispatch=EW.bind(null,Rt,c),[y.memoizedState,c]},useRef:function(c){var h=gr();return c={current:c},h.memoizedState=c},useState:function(c){c=_w(c);var h=c.queue,p=xz.bind(null,Rt,h);return h.dispatch=p,[c.memoizedState,p]},useDebugValue:Tw,useDeferredValue:function(c,h){var p=gr();return zw(p,c,h)},useTransition:function(){var c=_w(!1);return c=hz.bind(null,Rt,c.queue,!0,!1),gr().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,p){var y=Rt,N=gr();if(Zt){if(p===void 0)throw Error(s(407));p=p()}else{if(p=h(),Sn===null)throw Error(s(349));(Ht&127)!==0||B5(y,h,p)}N.memoizedState=p;var _={value:p,getSnapshot:h};return N.queue=_,sz(U5.bind(null,y,_,c),[c]),y.flags|=2048,md(9,{destroy:void 0},F5.bind(null,y,_,p,h),null),p},useId:function(){var c=gr(),h=Sn.identifierPrefix;if(Zt){var p=wa,y=ba;p=(y&~(1<<32-on(y)-1)).toString(32)+p,h="_"+h+"R_"+p,p=lx++,0<p&&(h+="H"+p.toString(32)),h+="_"}else p=wW++,h="_"+h+"r_"+p.toString(32)+"_";return c.memoizedState=h},useHostTransitionStatus:Mw,useFormState:X5,useActionState:X5,useOptimistic:function(c){var h=gr();h.memoizedState=h.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=p,h=Rw.bind(null,Rt,!0,p),p.dispatch=h,[c,h]},useMemoCache:kw,useCacheRefresh:function(){return gr().memoizedState=CW.bind(null,Rt)},useEffectEvent:function(c){var h=gr(),p={impl:c};return h.memoizedState=p,function(){if((rn&2)!==0)throw Error(s(440));return p.impl.apply(void 0,arguments)}}},Ow={readContext:Ws,use:ux,useCallback:cz,useContext:Ws,useEffect:Ew,useImperativeHandle:lz,useInsertionEffect:iz,useLayoutEffect:az,useMemo:uz,useReducer:dx,useRef:nz,useState:function(){return dx(lo)},useDebugValue:Tw,useDeferredValue:function(c,h){var p=cs();return dz(p,xn.memoizedState,c,h)},useTransition:function(){var c=dx(lo)[0],h=cs().memoizedState;return[typeof c=="boolean"?c:Of(c),h]},useSyncExternalStore:V5,useId:pz,useHostTransitionStatus:Mw,useFormState:Q5,useActionState:Q5,useOptimistic:function(c,h){var p=cs();return Z5(p,xn,c,h)},useMemoCache:kw,useCacheRefresh:gz};Ow.useEffectEvent=rz;var wz={readContext:Ws,use:ux,useCallback:cz,useContext:Ws,useEffect:Ew,useImperativeHandle:lz,useInsertionEffect:iz,useLayoutEffect:az,useMemo:uz,useReducer:Sw,useRef:nz,useState:function(){return Sw(lo)},useDebugValue:Tw,useDeferredValue:function(c,h){var p=cs();return xn===null?zw(p,c,h):dz(p,xn.memoizedState,c,h)},useTransition:function(){var c=Sw(lo)[0],h=cs().memoizedState;return[typeof c=="boolean"?c:Of(c),h]},useSyncExternalStore:V5,useId:pz,useHostTransitionStatus:Mw,useFormState:tz,useActionState:tz,useOptimistic:function(c,h){var p=cs();return xn!==null?Z5(p,xn,c,h):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:kw,useCacheRefresh:gz};wz.useEffectEvent=rz;function Dw(c,h,p,y){h=c.memoizedState,p=p(y,h),p=p==null?h:m({},h,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var Pw={enqueueSetState:function(c,h,p){c=c._reactInternals;var y=Xr(),N=el(y);N.payload=h,p!=null&&(N.callback=p),h=tl(c,N,y),h!==null&&(Or(h,c,y),zf(h,c,y))},enqueueReplaceState:function(c,h,p){c=c._reactInternals;var y=Xr(),N=el(y);N.tag=1,N.payload=h,p!=null&&(N.callback=p),h=tl(c,N,y),h!==null&&(Or(h,c,y),zf(h,c,y))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var p=Xr(),y=el(p);y.tag=2,h!=null&&(y.callback=h),h=tl(c,y,p),h!==null&&(Or(h,c,p),zf(h,c,p))}};function jz(c,h,p,y,N,_,O){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,_,O):h.prototype&&h.prototype.isPureReactComponent?!jf(p,y)||!jf(N,_):!0}function kz(c,h,p,y){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(p,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(p,y),h.state!==c&&Pw.enqueueReplaceState(h,h.state,null)}function Mc(c,h){var p=h;if("ref"in h){p={};for(var y in h)y!=="ref"&&(p[y]=h[y])}if(c=c.defaultProps){p===h&&(p=m({},p));for(var N in c)p[N]===void 0&&(p[N]=c[N])}return p}function Nz(c){Zg(c)}function Sz(c){console.error(c)}function _z(c){Zg(c)}function px(c,h){try{var p=c.onUncaughtError;p(h.value,{componentStack:h.stack})}catch(y){setTimeout(function(){throw y})}}function Cz(c,h,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(N){setTimeout(function(){throw N})}}function Iw(c,h,p){return p=el(p),p.tag=3,p.payload={element:null},p.callback=function(){px(c,h)},p}function Ez(c){return c=el(c),c.tag=3,c}function Tz(c,h,p,y){var N=p.type.getDerivedStateFromError;if(typeof N=="function"){var _=y.value;c.payload=function(){return N(_)},c.callback=function(){Cz(h,p,y)}}var O=p.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(c.callback=function(){Cz(h,p,y),typeof N!="function"&&(ol===null?ol=new Set([this]):ol.add(this));var B=y.stack;this.componentDidCatch(y.value,{componentStack:B!==null?B:""})})}function TW(c,h,p,y,N){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(h=p.alternate,h!==null&&ad(h,p,N,!0),p=Kr.current,p!==null){switch(p.tag){case 31:case 13:return bi===null?Cx():p.alternate===null&&Gn===0&&(Gn=3),p.flags&=-257,p.flags|=65536,p.lanes=N,y===nx?p.flags|=16384:(h=p.updateQueue,h===null?p.updateQueue=new Set([y]):h.add(y),lj(c,y,N)),!1;case 22:return p.flags|=65536,y===nx?p.flags|=16384:(h=p.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=h):(p=h.retryQueue,p===null?h.retryQueue=new Set([y]):p.add(y)),lj(c,y,N)),!1}throw Error(s(435,p.tag))}return lj(c,y,N),Cx(),!1}if(Zt)return h=Kr.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=N,y!==nw&&(c=Error(s(422),{cause:y}),Sf(gi(c,p)))):(y!==nw&&(h=Error(s(423),{cause:y}),Sf(gi(h,p))),c=c.current.alternate,c.flags|=65536,N&=-N,c.lanes|=N,y=gi(y,p),N=Iw(c.stateNode,y,N),fw(c,N),Gn!==4&&(Gn=2)),!1;var _=Error(s(520),{cause:y});if(_=gi(_,p),Hf===null?Hf=[_]:Hf.push(_),Gn!==4&&(Gn=2),h===null)return!0;y=gi(y,p),p=h;do{switch(p.tag){case 3:return p.flags|=65536,c=N&-N,p.lanes|=c,c=Iw(p.stateNode,y,c),fw(p,c),!1;case 1:if(h=p.type,_=p.stateNode,(p.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ol===null||!ol.has(_))))return p.flags|=65536,N&=-N,p.lanes|=N,N=Ez(N),Tz(N,c,p,y),fw(p,N),!1}p=p.return}while(p!==null);return!1}var Lw=Error(s(461)),ms=!1;function Ks(c,h,p,y){h.child=c===null?R5(h,null,p,y):zc(h,c.child,p,y)}function zz(c,h,p,y,N){p=p.render;var _=h.ref;if("ref"in y){var O={};for(var B in y)B!=="ref"&&(O[B]=y[B])}else O=y;return _c(h),y=yw(c,h,p,O,_,N),B=bw(),c!==null&&!ms?(ww(c,h,N),co(c,h,N)):(Zt&&B&&ew(h),h.flags|=1,Ks(c,h,y,N),h.child)}function Az(c,h,p,y,N){if(c===null){var _=p.type;return typeof _=="function"&&!J1(_)&&_.defaultProps===void 0&&p.compare===null?(h.tag=15,h.type=_,Mz(c,h,_,y,N)):(c=Yg(p.type,null,y,h,h.mode,N),c.ref=h.ref,c.return=h,h.child=c)}if(_=c.child,!Zw(c,N)){var O=_.memoizedProps;if(p=p.compare,p=p!==null?p:jf,p(O,y)&&c.ref===h.ref)return co(c,h,N)}return h.flags|=1,c=so(_,y),c.ref=h.ref,c.return=h,h.child=c}function Mz(c,h,p,y,N){if(c!==null){var _=c.memoizedProps;if(jf(_,y)&&c.ref===h.ref)if(ms=!1,h.pendingProps=y=_,Zw(c,N))(c.flags&131072)!==0&&(ms=!0);else return h.lanes=c.lanes,co(c,h,N)}return $w(c,h,p,y,N)}function Rz(c,h,p,y){var N=y.children,_=c!==null?c.memoizedState:null;if(c===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((h.flags&128)!==0){if(_=_!==null?_.baseLanes|p:p,c!==null){for(y=h.child=c.child,N=0;y!==null;)N=N|y.lanes|y.childLanes,y=y.sibling;y=N&~_}else y=0,h.child=null;return Oz(c,h,_,p,y)}if((p&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&ex(h,_!==null?_.cachePool:null),_!==null?P5(h,_):pw(),I5(h);else return y=h.lanes=536870912,Oz(c,h,_!==null?_.baseLanes|p:p,p,y)}else _!==null?(ex(h,_.cachePool),P5(h,_),sl(),h.memoizedState=null):(c!==null&&ex(h,null),pw(),sl());return Ks(c,h,N,p),h.child}function If(c,h){return c!==null&&c.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function Oz(c,h,p,y,N){var _=cw();return _=_===null?null:{parent:hs._currentValue,pool:_},h.memoizedState={baseLanes:p,cachePool:_},c!==null&&ex(h,null),pw(),I5(h),c!==null&&ad(c,h,y,!0),h.childLanes=N,null}function gx(c,h){return h=vx({mode:h.mode,children:h.children},c.mode),h.ref=c.ref,c.child=h,h.return=c,h}function Dz(c,h,p){return zc(h,c.child,null,p),c=gx(h,h.pendingProps),c.flags|=2,Gr(h),h.memoizedState=null,c}function zW(c,h,p){var y=h.pendingProps,N=(h.flags&128)!==0;if(h.flags&=-129,c===null){if(Zt){if(y.mode==="hidden")return c=gx(h,y),h.lanes=536870912,If(null,c);if(xw(h),(c=An)?(c=W4(c,yi),c=c!==null&&c.data==="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Go!==null?{id:ba,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},p=v5(c),p.return=h,h.child=p,Zs=h,An=null)):c=null,c===null)throw Jo(h);return h.lanes=536870912,null}return gx(h,y)}var _=c.memoizedState;if(_!==null){var O=_.dehydrated;if(xw(h),N)if(h.flags&256)h.flags&=-257,h=Dz(c,h,p);else if(h.memoizedState!==null)h.child=c.child,h.flags|=128,h=null;else throw Error(s(558));else if(ms||ad(c,h,p,!1),N=(p&c.childLanes)!==0,ms||N){if(y=Sn,y!==null&&(O=Dn(y,p),O!==0&&O!==_.retryLane))throw _.retryLane=O,jc(c,O),Or(y,c,O),Lw;Cx(),h=Dz(c,h,p)}else c=_.treeContext,An=wi(O.nextSibling),Zs=h,Zt=!0,Yo=null,yi=!1,c!==null&&w5(h,c),h=gx(h,y),h.flags|=4096;return h}return c=so(c.child,{mode:y.mode,children:y.children}),c.ref=h.ref,h.child=c,c.return=h,c}function xx(c,h){var p=h.ref;if(p===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(s(284));(c===null||c.ref!==p)&&(h.flags|=4194816)}}function $w(c,h,p,y,N){return _c(h),p=yw(c,h,p,y,void 0,N),y=bw(),c!==null&&!ms?(ww(c,h,N),co(c,h,N)):(Zt&&y&&ew(h),h.flags|=1,Ks(c,h,p,N),h.child)}function Pz(c,h,p,y,N,_){return _c(h),h.updateQueue=null,p=$5(h,y,p,N),L5(c),y=bw(),c!==null&&!ms?(ww(c,h,_),co(c,h,_)):(Zt&&y&&ew(h),h.flags|=1,Ks(c,h,p,_),h.child)}function Iz(c,h,p,y,N){if(_c(h),h.stateNode===null){var _=nd,O=p.contextType;typeof O=="object"&&O!==null&&(_=Ws(O)),_=new p(y,_),h.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Pw,h.stateNode=_,_._reactInternals=h,_=h.stateNode,_.props=y,_.state=h.memoizedState,_.refs={},dw(h),O=p.contextType,_.context=typeof O=="object"&&O!==null?Ws(O):nd,_.state=h.memoizedState,O=p.getDerivedStateFromProps,typeof O=="function"&&(Dw(h,p,O,y),_.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(O=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),O!==_.state&&Pw.enqueueReplaceState(_,_.state,null),Mf(h,y,_,N),Af(),_.state=h.memoizedState),typeof _.componentDidMount=="function"&&(h.flags|=4194308),y=!0}else if(c===null){_=h.stateNode;var B=h.memoizedProps,Q=Mc(p,B);_.props=Q;var pe=_.context,je=p.contextType;O=nd,typeof je=="object"&&je!==null&&(O=Ws(je));var Se=p.getDerivedStateFromProps;je=typeof Se=="function"||typeof _.getSnapshotBeforeUpdate=="function",B=h.pendingProps!==B,je||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(B||pe!==O)&&kz(h,_,y,O),Qo=!1;var ve=h.memoizedState;_.state=ve,Mf(h,y,_,N),Af(),pe=h.memoizedState,B||ve!==pe||Qo?(typeof Se=="function"&&(Dw(h,p,Se,y),pe=h.memoizedState),(Q=Qo||jz(h,p,Q,y,ve,pe,O))?(je||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(h.flags|=4194308)):(typeof _.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=pe),_.props=y,_.state=pe,_.context=O,y=Q):(typeof _.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{_=h.stateNode,hw(c,h),O=h.memoizedProps,je=Mc(p,O),_.props=je,Se=h.pendingProps,ve=_.context,pe=p.contextType,Q=nd,typeof pe=="object"&&pe!==null&&(Q=Ws(pe)),B=p.getDerivedStateFromProps,(pe=typeof B=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(O!==Se||ve!==Q)&&kz(h,_,y,Q),Qo=!1,ve=h.memoizedState,_.state=ve,Mf(h,y,_,N),Af();var ye=h.memoizedState;O!==Se||ve!==ye||Qo||c!==null&&c.dependencies!==null&&Xg(c.dependencies)?(typeof B=="function"&&(Dw(h,p,B,y),ye=h.memoizedState),(je=Qo||jz(h,p,je,y,ve,ye,Q)||c!==null&&c.dependencies!==null&&Xg(c.dependencies))?(pe||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(y,ye,Q),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(y,ye,Q)),typeof _.componentDidUpdate=="function"&&(h.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof _.componentDidUpdate!="function"||O===c.memoizedProps&&ve===c.memoizedState||(h.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===c.memoizedProps&&ve===c.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=ye),_.props=y,_.state=ye,_.context=Q,y=je):(typeof _.componentDidUpdate!="function"||O===c.memoizedProps&&ve===c.memoizedState||(h.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||O===c.memoizedProps&&ve===c.memoizedState||(h.flags|=1024),y=!1)}return _=y,xx(c,h),y=(h.flags&128)!==0,_||y?(_=h.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:_.render(),h.flags|=1,c!==null&&y?(h.child=zc(h,c.child,null,N),h.child=zc(h,null,p,N)):Ks(c,h,p,N),h.memoizedState=_.state,c=h.child):c=co(c,h,N),c}function Lz(c,h,p,y){return Nc(),h.flags|=256,Ks(c,h,p,y),h.child}var Vw={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bw(c){return{baseLanes:c,cachePool:C5()}}function Fw(c,h,p){return c=c!==null?c.childLanes&~p:0,h&&(c|=Jr),c}function $z(c,h,p){var y=h.pendingProps,N=!1,_=(h.flags&128)!==0,O;if((O=_)||(O=c!==null&&c.memoizedState===null?!1:(ls.current&2)!==0),O&&(N=!0,h.flags&=-129),O=(h.flags&32)!==0,h.flags&=-33,c===null){if(Zt){if(N?nl(h):sl(),(c=An)?(c=W4(c,yi),c=c!==null&&c.data!=="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Go!==null?{id:ba,overflow:wa}:null,retryLane:536870912,hydrationErrors:null},p=v5(c),p.return=h,h.child=p,Zs=h,An=null)):c=null,c===null)throw Jo(h);return Nj(c)?h.lanes=32:h.lanes=536870912,null}var B=y.children;return y=y.fallback,N?(sl(),N=h.mode,B=vx({mode:"hidden",children:B},N),y=kc(y,N,p,null),B.return=h,y.return=h,B.sibling=y,h.child=B,y=h.child,y.memoizedState=Bw(p),y.childLanes=Fw(c,O,p),h.memoizedState=Vw,If(null,y)):(nl(h),Uw(h,B))}var Q=c.memoizedState;if(Q!==null&&(B=Q.dehydrated,B!==null)){if(_)h.flags&256?(nl(h),h.flags&=-257,h=Hw(c,h,p)):h.memoizedState!==null?(sl(),h.child=c.child,h.flags|=128,h=null):(sl(),B=y.fallback,N=h.mode,y=vx({mode:"visible",children:y.children},N),B=kc(B,N,p,null),B.flags|=2,y.return=h,B.return=h,y.sibling=B,h.child=y,zc(h,c.child,null,p),y=h.child,y.memoizedState=Bw(p),y.childLanes=Fw(c,O,p),h.memoizedState=Vw,h=If(null,y));else if(nl(h),Nj(B)){if(O=B.nextSibling&&B.nextSibling.dataset,O)var pe=O.dgst;O=pe,y=Error(s(419)),y.stack="",y.digest=O,Sf({value:y,source:null,stack:null}),h=Hw(c,h,p)}else if(ms||ad(c,h,p,!1),O=(p&c.childLanes)!==0,ms||O){if(O=Sn,O!==null&&(y=Dn(O,p),y!==0&&y!==Q.retryLane))throw Q.retryLane=y,jc(c,y),Or(O,c,y),Lw;kj(B)||Cx(),h=Hw(c,h,p)}else kj(B)?(h.flags|=192,h.child=c.child,h=null):(c=Q.treeContext,An=wi(B.nextSibling),Zs=h,Zt=!0,Yo=null,yi=!1,c!==null&&w5(h,c),h=Uw(h,y.children),h.flags|=4096);return h}return N?(sl(),B=y.fallback,N=h.mode,Q=c.child,pe=Q.sibling,y=so(Q,{mode:"hidden",children:y.children}),y.subtreeFlags=Q.subtreeFlags&65011712,pe!==null?B=so(pe,B):(B=kc(B,N,p,null),B.flags|=2),B.return=h,y.return=h,y.sibling=B,h.child=y,If(null,y),y=h.child,B=c.child.memoizedState,B===null?B=Bw(p):(N=B.cachePool,N!==null?(Q=hs._currentValue,N=N.parent!==Q?{parent:Q,pool:Q}:N):N=C5(),B={baseLanes:B.baseLanes|p,cachePool:N}),y.memoizedState=B,y.childLanes=Fw(c,O,p),h.memoizedState=Vw,If(c.child,y)):(nl(h),p=c.child,c=p.sibling,p=so(p,{mode:"visible",children:y.children}),p.return=h,p.sibling=null,c!==null&&(O=h.deletions,O===null?(h.deletions=[c],h.flags|=16):O.push(c)),h.child=p,h.memoizedState=null,p)}function Uw(c,h){return h=vx({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function vx(c,h){return c=Wr(22,c,null,h),c.lanes=0,c}function Hw(c,h,p){return zc(h,c.child,null,p),c=Uw(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function Vz(c,h,p){c.lanes|=h;var y=c.alternate;y!==null&&(y.lanes|=h),iw(c.return,h,p)}function qw(c,h,p,y,N,_){var O=c.memoizedState;O===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:N,treeForkCount:_}:(O.isBackwards=h,O.rendering=null,O.renderingStartTime=0,O.last=y,O.tail=p,O.tailMode=N,O.treeForkCount=_)}function Bz(c,h,p){var y=h.pendingProps,N=y.revealOrder,_=y.tail;y=y.children;var O=ls.current,B=(O&2)!==0;if(B?(O=O&1|2,h.flags|=128):O&=1,W(ls,O),Ks(c,h,y,p),y=Zt?Nf:0,!B&&c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Vz(c,p,h);else if(c.tag===19)Vz(c,p,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(N){case"forwards":for(p=h.child,N=null;p!==null;)c=p.alternate,c!==null&&ax(c)===null&&(N=p),p=p.sibling;p=N,p===null?(N=h.child,h.child=null):(N=p.sibling,p.sibling=null),qw(h,!1,N,p,_,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,N=h.child,h.child=null;N!==null;){if(c=N.alternate,c!==null&&ax(c)===null){h.child=N;break}c=N.sibling,N.sibling=p,p=N,N=c}qw(h,!0,p,null,_,y);break;case"together":qw(h,!1,null,null,void 0,y);break;default:h.memoizedState=null}return h.child}function co(c,h,p){if(c!==null&&(h.dependencies=c.dependencies),al|=h.lanes,(p&h.childLanes)===0)if(c!==null){if(ad(c,h,p,!1),(p&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(s(153));if(h.child!==null){for(c=h.child,p=so(c,c.pendingProps),h.child=p,p.return=h;c.sibling!==null;)c=c.sibling,p=p.sibling=so(c,c.pendingProps),p.return=h;p.sibling=null}return h.child}function Zw(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&Xg(c)))}function AW(c,h,p){switch(h.tag){case 3:oe(h,h.stateNode.containerInfo),Xo(h,hs,c.memoizedState.cache),Nc();break;case 27:case 5:be(h);break;case 4:oe(h,h.stateNode.containerInfo);break;case 10:Xo(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,xw(h),null;break;case 13:var y=h.memoizedState;if(y!==null)return y.dehydrated!==null?(nl(h),h.flags|=128,null):(p&h.child.childLanes)!==0?$z(c,h,p):(nl(h),c=co(c,h,p),c!==null?c.sibling:null);nl(h);break;case 19:var N=(c.flags&128)!==0;if(y=(p&h.childLanes)!==0,y||(ad(c,h,p,!1),y=(p&h.childLanes)!==0),N){if(y)return Bz(c,h,p);h.flags|=128}if(N=h.memoizedState,N!==null&&(N.rendering=null,N.tail=null,N.lastEffect=null),W(ls,ls.current),y)break;return null;case 22:return h.lanes=0,Rz(c,h,p,h.pendingProps);case 24:Xo(h,hs,c.memoizedState.cache)}return co(c,h,p)}function Fz(c,h,p){if(c!==null)if(c.memoizedProps!==h.pendingProps)ms=!0;else{if(!Zw(c,p)&&(h.flags&128)===0)return ms=!1,AW(c,h,p);ms=(c.flags&131072)!==0}else ms=!1,Zt&&(h.flags&1048576)!==0&&b5(h,Nf,h.index);switch(h.lanes=0,h.tag){case 16:e:{var y=h.pendingProps;if(c=Ec(h.elementType),h.type=c,typeof c=="function")J1(c)?(y=Mc(c,y),h.tag=1,h=Iz(null,h,c,y,p)):(h.tag=0,h=$w(null,h,c,y,p));else{if(c!=null){var N=c.$$typeof;if(N===E){h.tag=11,h=zz(null,h,c,y,p);break e}else if(N===T){h.tag=14,h=Az(null,h,c,y,p);break e}}throw h=K(c)||c,Error(s(306,h,""))}}return h;case 0:return $w(c,h,h.type,h.pendingProps,p);case 1:return y=h.type,N=Mc(y,h.pendingProps),Iz(c,h,y,N,p);case 3:e:{if(oe(h,h.stateNode.containerInfo),c===null)throw Error(s(387));y=h.pendingProps;var _=h.memoizedState;N=_.element,hw(c,h),Mf(h,y,null,p);var O=h.memoizedState;if(y=O.cache,Xo(h,hs,y),y!==_.cache&&aw(h,[hs],p,!0),Af(),y=O.element,_.isDehydrated)if(_={element:y,isDehydrated:!1,cache:O.cache},h.updateQueue.baseState=_,h.memoizedState=_,h.flags&256){h=Lz(c,h,y,p);break e}else if(y!==N){N=gi(Error(s(424)),h),Sf(N),h=Lz(c,h,y,p);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(An=wi(c.firstChild),Zs=h,Zt=!0,Yo=null,yi=!0,p=R5(h,null,y,p),h.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Nc(),y===N){h=co(c,h,p);break e}Ks(c,h,y,p)}h=h.child}return h;case 26:return xx(c,h),c===null?(p=Q4(h.type,null,h.pendingProps,null))?h.memoizedState=p:Zt||(p=h.type,c=h.pendingProps,y=Ox(ce.current).createElement(p),y[qs]=h,y[Er]=c,Gs(y,p,c),Os(y),h.stateNode=y):h.memoizedState=Q4(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return be(h),c===null&&Zt&&(y=h.stateNode=Y4(h.type,h.pendingProps,ce.current),Zs=h,yi=!0,N=An,dl(h.type)?(Sj=N,An=wi(y.firstChild)):An=N),Ks(c,h,h.pendingProps.children,p),xx(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&Zt&&((N=y=An)&&(y=oK(y,h.type,h.pendingProps,yi),y!==null?(h.stateNode=y,Zs=h,An=wi(y.firstChild),yi=!1,N=!0):N=!1),N||Jo(h)),be(h),N=h.type,_=h.pendingProps,O=c!==null?c.memoizedProps:null,y=_.children,bj(N,_)?y=null:O!==null&&bj(N,O)&&(h.flags|=32),h.memoizedState!==null&&(N=yw(c,h,jW,null,null,p),Xf._currentValue=N),xx(c,h),Ks(c,h,y,p),h.child;case 6:return c===null&&Zt&&((c=p=An)&&(p=lK(p,h.pendingProps,yi),p!==null?(h.stateNode=p,Zs=h,An=null,c=!0):c=!1),c||Jo(h)),null;case 13:return $z(c,h,p);case 4:return oe(h,h.stateNode.containerInfo),y=h.pendingProps,c===null?h.child=zc(h,null,y,p):Ks(c,h,y,p),h.child;case 11:return zz(c,h,h.type,h.pendingProps,p);case 7:return Ks(c,h,h.pendingProps,p),h.child;case 8:return Ks(c,h,h.pendingProps.children,p),h.child;case 12:return Ks(c,h,h.pendingProps.children,p),h.child;case 10:return y=h.pendingProps,Xo(h,h.type,y.value),Ks(c,h,y.children,p),h.child;case 9:return N=h.type._context,y=h.pendingProps.children,_c(h),N=Ws(N),y=y(N),h.flags|=1,Ks(c,h,y,p),h.child;case 14:return Az(c,h,h.type,h.pendingProps,p);case 15:return Mz(c,h,h.type,h.pendingProps,p);case 19:return Bz(c,h,p);case 31:return zW(c,h,p);case 22:return Rz(c,h,p,h.pendingProps);case 24:return _c(h),y=Ws(hs),c===null?(N=cw(),N===null&&(N=Sn,_=ow(),N.pooledCache=_,_.refCount++,_!==null&&(N.pooledCacheLanes|=p),N=_),h.memoizedState={parent:y,cache:N},dw(h),Xo(h,hs,N)):((c.lanes&p)!==0&&(hw(c,h),Mf(h,null,null,p),Af()),N=c.memoizedState,_=h.memoizedState,N.parent!==y?(N={parent:y,cache:y},h.memoizedState=N,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=N),Xo(h,hs,y)):(y=_.cache,Xo(h,hs,y),y!==N.cache&&aw(h,[hs],p,!0))),Ks(c,h,h.pendingProps.children,p),h.child;case 29:throw h.pendingProps}throw Error(s(156,h.tag))}function uo(c){c.flags|=4}function Ww(c,h,p,y,N){if((h=(c.mode&32)!==0)&&(h=!1),h){if(c.flags|=16777216,(N&335544128)===N)if(c.stateNode.complete)c.flags|=8192;else if(p4())c.flags|=8192;else throw Tc=nx,uw}else c.flags&=-16777217}function Uz(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!rA(h))if(p4())c.flags|=8192;else throw Tc=nx,uw}function yx(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?Et():536870912,c.lanes|=h,vd|=h)}function Lf(c,h){if(!Zt)switch(c.tailMode){case"hidden":h=c.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Mn(c){var h=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(h)for(var N=c.child;N!==null;)p|=N.lanes|N.childLanes,y|=N.subtreeFlags&65011712,y|=N.flags&65011712,N.return=c,N=N.sibling;else for(N=c.child;N!==null;)p|=N.lanes|N.childLanes,y|=N.subtreeFlags,y|=N.flags,N.return=c,N=N.sibling;return c.subtreeFlags|=y,c.childLanes=p,h}function MW(c,h,p){var y=h.pendingProps;switch(tw(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mn(h),null;case 1:return Mn(h),null;case 3:return p=h.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),ao(hs),he(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(id(h)?uo(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,sw())),Mn(h),null;case 26:var N=h.type,_=h.memoizedState;return c===null?(uo(h),_!==null?(Mn(h),Uz(h,_)):(Mn(h),Ww(h,N,null,y,p))):_?_!==c.memoizedState?(uo(h),Mn(h),Uz(h,_)):(Mn(h),h.flags&=-16777217):(c=c.memoizedProps,c!==y&&uo(h),Mn(h),Ww(h,N,c,y,p)),null;case 27:if(we(h),p=ce.current,N=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&uo(h);else{if(!y){if(h.stateNode===null)throw Error(s(166));return Mn(h),null}c=te.current,id(h)?j5(h):(c=Y4(N,y,p),h.stateNode=c,uo(h))}return Mn(h),null;case 5:if(we(h),N=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&uo(h);else{if(!y){if(h.stateNode===null)throw Error(s(166));return Mn(h),null}if(_=te.current,id(h))j5(h);else{var O=Ox(ce.current);switch(_){case 1:_=O.createElementNS("http://www.w3.org/2000/svg",N);break;case 2:_=O.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;default:switch(N){case"svg":_=O.createElementNS("http://www.w3.org/2000/svg",N);break;case"math":_=O.createElementNS("http://www.w3.org/1998/Math/MathML",N);break;case"script":_=O.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof y.is=="string"?O.createElement("select",{is:y.is}):O.createElement("select"),y.multiple?_.multiple=!0:y.size&&(_.size=y.size);break;default:_=typeof y.is=="string"?O.createElement(N,{is:y.is}):O.createElement(N)}}_[qs]=h,_[Er]=y;e:for(O=h.child;O!==null;){if(O.tag===5||O.tag===6)_.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===h)break e;for(;O.sibling===null;){if(O.return===null||O.return===h)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}h.stateNode=_;e:switch(Gs(_,N,y),N){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&uo(h)}}return Mn(h),Ww(h,h.type,c===null?null:c.memoizedProps,h.pendingProps,p),null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==y&&uo(h);else{if(typeof y!="string"&&h.stateNode===null)throw Error(s(166));if(c=ce.current,id(h)){if(c=h.stateNode,p=h.memoizedProps,y=null,N=Zs,N!==null)switch(N.tag){case 27:case 5:y=N.memoizedProps}c[qs]=h,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||$4(c.nodeValue,p)),c||Jo(h,!0)}else c=Ox(c).createTextNode(y),c[qs]=h,h.stateNode=c}return Mn(h),null;case 31:if(p=h.memoizedState,c===null||c.memoizedState!==null){if(y=id(h),p!==null){if(c===null){if(!y)throw Error(s(318));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(557));c[qs]=h}else Nc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Mn(h),c=!1}else p=sw(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return h.flags&256?(Gr(h),h):(Gr(h),null);if((h.flags&128)!==0)throw Error(s(558))}return Mn(h),null;case 13:if(y=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(N=id(h),y!==null&&y.dehydrated!==null){if(c===null){if(!N)throw Error(s(318));if(N=h.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(s(317));N[qs]=h}else Nc(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Mn(h),N=!1}else N=sw(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=N),N=!0;if(!N)return h.flags&256?(Gr(h),h):(Gr(h),null)}return Gr(h),(h.flags&128)!==0?(h.lanes=p,h):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=h.child,N=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(N=y.alternate.memoizedState.cachePool.pool),_=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(_=y.memoizedState.cachePool.pool),_!==N&&(y.flags|=2048)),p!==c&&p&&(h.child.flags|=8192),yx(h,h.updateQueue),Mn(h),null);case 4:return he(),c===null&&pj(h.stateNode.containerInfo),Mn(h),null;case 10:return ao(h.type),Mn(h),null;case 19:if(H(ls),y=h.memoizedState,y===null)return Mn(h),null;if(N=(h.flags&128)!==0,_=y.rendering,_===null)if(N)Lf(y,!1);else{if(Gn!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(_=ax(c),_!==null){for(h.flags|=128,Lf(y,!1),c=_.updateQueue,h.updateQueue=c,yx(h,c),h.subtreeFlags=0,c=p,p=h.child;p!==null;)x5(p,c),p=p.sibling;return W(ls,ls.current&1|2),Zt&&ro(h,y.treeForkCount),h.child}c=c.sibling}y.tail!==null&&ze()>Nx&&(h.flags|=128,N=!0,Lf(y,!1),h.lanes=4194304)}else{if(!N)if(c=ax(_),c!==null){if(h.flags|=128,N=!0,c=c.updateQueue,h.updateQueue=c,yx(h,c),Lf(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!Zt)return Mn(h),null}else 2*ze()-y.renderingStartTime>Nx&&p!==536870912&&(h.flags|=128,N=!0,Lf(y,!1),h.lanes=4194304);y.isBackwards?(_.sibling=h.child,h.child=_):(c=y.last,c!==null?c.sibling=_:h.child=_,y.last=_)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=ze(),c.sibling=null,p=ls.current,W(ls,N?p&1|2:p&1),Zt&&ro(h,y.treeForkCount),c):(Mn(h),null);case 22:case 23:return Gr(h),gw(),y=h.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(h.flags|=8192):y&&(h.flags|=8192),y?(p&536870912)!==0&&(h.flags&128)===0&&(Mn(h),h.subtreeFlags&6&&(h.flags|=8192)):Mn(h),p=h.updateQueue,p!==null&&yx(h,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048),c!==null&&H(Cc),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),h.memoizedState.cache!==p&&(h.flags|=2048),ao(hs),Mn(h),null;case 25:return null;case 30:return null}throw Error(s(156,h.tag))}function RW(c,h){switch(tw(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return ao(hs),he(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return we(h),null;case 31:if(h.memoizedState!==null){if(Gr(h),h.alternate===null)throw Error(s(340));Nc()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 13:if(Gr(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(s(340));Nc()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return H(ls),null;case 4:return he(),null;case 10:return ao(h.type),null;case 22:case 23:return Gr(h),gw(),c!==null&&H(Cc),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return ao(hs),null;case 25:return null;default:return null}}function Hz(c,h){switch(tw(h),h.tag){case 3:ao(hs),he();break;case 26:case 27:case 5:we(h);break;case 4:he();break;case 31:h.memoizedState!==null&&Gr(h);break;case 13:Gr(h);break;case 19:H(ls);break;case 10:ao(h.type);break;case 22:case 23:Gr(h),gw(),c!==null&&H(Cc);break;case 24:ao(hs)}}function $f(c,h){try{var p=h.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var N=y.next;p=N;do{if((p.tag&c)===c){y=void 0;var _=p.create,O=p.inst;y=_(),O.destroy=y}p=p.next}while(p!==N)}}catch(B){dn(h,h.return,B)}}function rl(c,h,p){try{var y=h.updateQueue,N=y!==null?y.lastEffect:null;if(N!==null){var _=N.next;y=_;do{if((y.tag&c)===c){var O=y.inst,B=O.destroy;if(B!==void 0){O.destroy=void 0,N=h;var Q=p,pe=B;try{pe()}catch(je){dn(N,Q,je)}}}y=y.next}while(y!==_)}}catch(je){dn(h,h.return,je)}}function qz(c){var h=c.updateQueue;if(h!==null){var p=c.stateNode;try{D5(h,p)}catch(y){dn(c,c.return,y)}}}function Zz(c,h,p){p.props=Mc(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){dn(c,h,y)}}function Vf(c,h){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(N){dn(c,h,N)}}function ja(c,h){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(N){dn(c,h,N)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(N){dn(c,h,N)}else p.current=null}function Wz(c){var h=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(N){dn(c,c.return,N)}}function Kw(c,h,p){try{var y=c.stateNode;tK(y,c.type,p,h),y[Er]=h}catch(N){dn(c,c.return,N)}}function Kz(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&dl(c.type)||c.tag===4}function Gw(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Kz(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&dl(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Yw(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,h):(h=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,h.appendChild(c),p=p._reactRootContainer,p!=null||h.onclick!==null||(h.onclick=to));else if(y!==4&&(y===27&&dl(c.type)&&(p=c.stateNode,h=null),c=c.child,c!==null))for(Yw(c,h,p),c=c.sibling;c!==null;)Yw(c,h,p),c=c.sibling}function bx(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?p.insertBefore(c,h):p.appendChild(c);else if(y!==4&&(y===27&&dl(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(bx(c,h,p),c=c.sibling;c!==null;)bx(c,h,p),c=c.sibling}function Gz(c){var h=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,N=h.attributes;N.length;)h.removeAttributeNode(N[0]);Gs(h,y,p),h[qs]=c,h[Er]=p}catch(_){dn(c,c.return,_)}}var ho=!1,ps=!1,Jw=!1,Yz=typeof WeakSet=="function"?WeakSet:Set,Ds=null;function OW(c,h){if(c=c.containerInfo,vj=Bx,c=l5(c),H1(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var N=y.anchorOffset,_=y.focusNode;y=y.focusOffset;try{p.nodeType,_.nodeType}catch{p=null;break e}var O=0,B=-1,Q=-1,pe=0,je=0,Se=c,ve=null;t:for(;;){for(var ye;Se!==p||N!==0&&Se.nodeType!==3||(B=O+N),Se!==_||y!==0&&Se.nodeType!==3||(Q=O+y),Se.nodeType===3&&(O+=Se.nodeValue.length),(ye=Se.firstChild)!==null;)ve=Se,Se=ye;for(;;){if(Se===c)break t;if(ve===p&&++pe===N&&(B=O),ve===_&&++je===y&&(Q=O),(ye=Se.nextSibling)!==null)break;Se=ve,ve=Se.parentNode}Se=ye}p=B===-1||Q===-1?null:{start:B,end:Q}}else p=null}p=p||{start:0,end:0}}else p=null;for(yj={focusedElem:c,selectionRange:p},Bx=!1,Ds=h;Ds!==null;)if(h=Ds,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,Ds=c;else for(;Ds!==null;){switch(h=Ds,_=h.alternate,c=h.flags,h.tag){case 0:if((c&4)!==0&&(c=h.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)N=c[p],N.ref.impl=N.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&_!==null){c=void 0,p=h,N=_.memoizedProps,_=_.memoizedState,y=p.stateNode;try{var et=Mc(p.type,N);c=y.getSnapshotBeforeUpdate(et,_),y.__reactInternalSnapshotBeforeUpdate=c}catch(vt){dn(p,p.return,vt)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,p=c.nodeType,p===9)jj(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":jj(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(s(163))}if(c=h.sibling,c!==null){c.return=h.return,Ds=c;break}Ds=h.return}}function Jz(c,h,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:mo(c,p),y&4&&$f(5,p);break;case 1:if(mo(c,p),y&4)if(c=p.stateNode,h===null)try{c.componentDidMount()}catch(O){dn(p,p.return,O)}else{var N=Mc(p.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(N,h,c.__reactInternalSnapshotBeforeUpdate)}catch(O){dn(p,p.return,O)}}y&64&&qz(p),y&512&&Vf(p,p.return);break;case 3:if(mo(c,p),y&64&&(c=p.updateQueue,c!==null)){if(h=null,p.child!==null)switch(p.child.tag){case 27:case 5:h=p.child.stateNode;break;case 1:h=p.child.stateNode}try{D5(c,h)}catch(O){dn(p,p.return,O)}}break;case 27:h===null&&y&4&&Gz(p);case 26:case 5:mo(c,p),h===null&&y&4&&Wz(p),y&512&&Vf(p,p.return);break;case 12:mo(c,p);break;case 31:mo(c,p),y&4&&e4(c,p);break;case 13:mo(c,p),y&4&&t4(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=UW.bind(null,p),cK(c,p))));break;case 22:if(y=p.memoizedState!==null||ho,!y){h=h!==null&&h.memoizedState!==null||ps,N=ho;var _=ps;ho=y,(ps=h)&&!_?po(c,p,(p.subtreeFlags&8772)!==0):mo(c,p),ho=N,ps=_}break;case 30:break;default:mo(c,p)}}function Xz(c){var h=c.alternate;h!==null&&(c.alternate=null,Xz(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&C1(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Pn=null,zr=!1;function fo(c,h,p){for(p=p.child;p!==null;)Qz(c,h,p),p=p.sibling}function Qz(c,h,p){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(mt,p)}catch{}switch(p.tag){case 26:ps||ja(p,h),fo(c,h,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:ps||ja(p,h);var y=Pn,N=zr;dl(p.type)&&(Pn=p.stateNode,zr=!1),fo(c,h,p),Gf(p.stateNode),Pn=y,zr=N;break;case 5:ps||ja(p,h);case 6:if(y=Pn,N=zr,Pn=null,fo(c,h,p),Pn=y,zr=N,Pn!==null)if(zr)try{(Pn.nodeType===9?Pn.body:Pn.nodeName==="HTML"?Pn.ownerDocument.body:Pn).removeChild(p.stateNode)}catch(_){dn(p,h,_)}else try{Pn.removeChild(p.stateNode)}catch(_){dn(p,h,_)}break;case 18:Pn!==null&&(zr?(c=Pn,q4(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),_d(c)):q4(Pn,p.stateNode));break;case 4:y=Pn,N=zr,Pn=p.stateNode.containerInfo,zr=!0,fo(c,h,p),Pn=y,zr=N;break;case 0:case 11:case 14:case 15:rl(2,p,h),ps||rl(4,p,h),fo(c,h,p);break;case 1:ps||(ja(p,h),y=p.stateNode,typeof y.componentWillUnmount=="function"&&Zz(p,h,y)),fo(c,h,p);break;case 21:fo(c,h,p);break;case 22:ps=(y=ps)||p.memoizedState!==null,fo(c,h,p),ps=y;break;default:fo(c,h,p)}}function e4(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{_d(c)}catch(p){dn(h,h.return,p)}}}function t4(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{_d(c)}catch(p){dn(h,h.return,p)}}function DW(c){switch(c.tag){case 31:case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new Yz),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new Yz),h;default:throw Error(s(435,c.tag))}}function wx(c,h){var p=DW(c);h.forEach(function(y){if(!p.has(y)){p.add(y);var N=HW.bind(null,c,y);y.then(N,N)}})}function Ar(c,h){var p=h.deletions;if(p!==null)for(var y=0;y<p.length;y++){var N=p[y],_=c,O=h,B=O;e:for(;B!==null;){switch(B.tag){case 27:if(dl(B.type)){Pn=B.stateNode,zr=!1;break e}break;case 5:Pn=B.stateNode,zr=!1;break e;case 3:case 4:Pn=B.stateNode.containerInfo,zr=!0;break e}B=B.return}if(Pn===null)throw Error(s(160));Qz(_,O,N),Pn=null,zr=!1,_=N.alternate,_!==null&&(_.return=null),N.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)n4(h,c),h=h.sibling}var Zi=null;function n4(c,h){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ar(h,c),Mr(c),y&4&&(rl(3,c,c.return),$f(3,c),rl(5,c,c.return));break;case 1:Ar(h,c),Mr(c),y&512&&(ps||p===null||ja(p,p.return)),y&64&&ho&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var N=Zi;if(Ar(h,c),Mr(c),y&512&&(ps||p===null||ja(p,p.return)),y&4){var _=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,N=N.ownerDocument||N;t:switch(y){case"title":_=N.getElementsByTagName("title")[0],(!_||_[ff]||_[qs]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=N.createElement(y),N.head.insertBefore(_,N.querySelector("head > title"))),Gs(_,y,p),_[qs]=c,Os(_),y=_;break e;case"link":var O=nA("link","href",N).get(y+(p.href||""));if(O){for(var B=0;B<O.length;B++)if(_=O[B],_.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&_.getAttribute("rel")===(p.rel==null?null:p.rel)&&_.getAttribute("title")===(p.title==null?null:p.title)&&_.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){O.splice(B,1);break t}}_=N.createElement(y),Gs(_,y,p),N.head.appendChild(_);break;case"meta":if(O=nA("meta","content",N).get(y+(p.content||""))){for(B=0;B<O.length;B++)if(_=O[B],_.getAttribute("content")===(p.content==null?null:""+p.content)&&_.getAttribute("name")===(p.name==null?null:p.name)&&_.getAttribute("property")===(p.property==null?null:p.property)&&_.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&_.getAttribute("charset")===(p.charSet==null?null:p.charSet)){O.splice(B,1);break t}}_=N.createElement(y),Gs(_,y,p),N.head.appendChild(_);break;default:throw Error(s(468,y))}_[qs]=c,Os(_),y=_}c.stateNode=y}else sA(N,c.type,c.stateNode);else c.stateNode=tA(N,y,c.memoizedProps);else _!==y?(_===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):_.count--,y===null?sA(N,c.type,c.stateNode):tA(N,y,c.memoizedProps)):y===null&&c.stateNode!==null&&Kw(c,c.memoizedProps,p.memoizedProps)}break;case 27:Ar(h,c),Mr(c),y&512&&(ps||p===null||ja(p,p.return)),p!==null&&y&4&&Kw(c,c.memoizedProps,p.memoizedProps);break;case 5:if(Ar(h,c),Mr(c),y&512&&(ps||p===null||ja(p,p.return)),c.flags&32){N=c.stateNode;try{Gu(N,"")}catch(et){dn(c,c.return,et)}}y&4&&c.stateNode!=null&&(N=c.memoizedProps,Kw(c,N,p!==null?p.memoizedProps:N)),y&1024&&(Jw=!0);break;case 6:if(Ar(h,c),Mr(c),y&4){if(c.stateNode===null)throw Error(s(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(et){dn(c,c.return,et)}}break;case 3:if(Ix=null,N=Zi,Zi=Dx(h.containerInfo),Ar(h,c),Zi=N,Mr(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{_d(h.containerInfo)}catch(et){dn(c,c.return,et)}Jw&&(Jw=!1,s4(c));break;case 4:y=Zi,Zi=Dx(c.stateNode.containerInfo),Ar(h,c),Mr(c),Zi=y;break;case 12:Ar(h,c),Mr(c);break;case 31:Ar(h,c),Mr(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,wx(c,y)));break;case 13:Ar(h,c),Mr(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(kx=ze()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,wx(c,y)));break;case 22:N=c.memoizedState!==null;var Q=p!==null&&p.memoizedState!==null,pe=ho,je=ps;if(ho=pe||N,ps=je||Q,Ar(h,c),ps=je,ho=pe,Mr(c),y&8192)e:for(h=c.stateNode,h._visibility=N?h._visibility&-2:h._visibility|1,N&&(p===null||Q||ho||ps||Rc(c)),p=null,h=c;;){if(h.tag===5||h.tag===26){if(p===null){Q=p=h;try{if(_=Q.stateNode,N)O=_.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{B=Q.stateNode;var Se=Q.memoizedProps.style,ve=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;B.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch(et){dn(Q,Q.return,et)}}}else if(h.tag===6){if(p===null){Q=h;try{Q.stateNode.nodeValue=N?"":Q.memoizedProps}catch(et){dn(Q,Q.return,et)}}}else if(h.tag===18){if(p===null){Q=h;try{var ye=Q.stateNode;N?Z4(ye,!0):Z4(Q.stateNode,!1)}catch(et){dn(Q,Q.return,et)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,wx(c,p))));break;case 19:Ar(h,c),Mr(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,wx(c,y)));break;case 30:break;case 21:break;default:Ar(h,c),Mr(c)}}function Mr(c){var h=c.flags;if(h&2){try{for(var p,y=c.return;y!==null;){if(Kz(y)){p=y;break}y=y.return}if(p==null)throw Error(s(160));switch(p.tag){case 27:var N=p.stateNode,_=Gw(c);bx(c,_,N);break;case 5:var O=p.stateNode;p.flags&32&&(Gu(O,""),p.flags&=-33);var B=Gw(c);bx(c,B,O);break;case 3:case 4:var Q=p.stateNode.containerInfo,pe=Gw(c);Yw(c,pe,Q);break;default:throw Error(s(161))}}catch(je){dn(c,c.return,je)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function s4(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;s4(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function mo(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)Jz(c,h.alternate,h),h=h.sibling}function Rc(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:rl(4,h,h.return),Rc(h);break;case 1:ja(h,h.return);var p=h.stateNode;typeof p.componentWillUnmount=="function"&&Zz(h,h.return,p),Rc(h);break;case 27:Gf(h.stateNode);case 26:case 5:ja(h,h.return),Rc(h);break;case 22:h.memoizedState===null&&Rc(h);break;case 30:Rc(h);break;default:Rc(h)}c=c.sibling}}function po(c,h,p){for(p=p&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var y=h.alternate,N=c,_=h,O=_.flags;switch(_.tag){case 0:case 11:case 15:po(N,_,p),$f(4,_);break;case 1:if(po(N,_,p),y=_,N=y.stateNode,typeof N.componentDidMount=="function")try{N.componentDidMount()}catch(pe){dn(y,y.return,pe)}if(y=_,N=y.updateQueue,N!==null){var B=y.stateNode;try{var Q=N.shared.hiddenCallbacks;if(Q!==null)for(N.shared.hiddenCallbacks=null,N=0;N<Q.length;N++)O5(Q[N],B)}catch(pe){dn(y,y.return,pe)}}p&&O&64&&qz(_),Vf(_,_.return);break;case 27:Gz(_);case 26:case 5:po(N,_,p),p&&y===null&&O&4&&Wz(_),Vf(_,_.return);break;case 12:po(N,_,p);break;case 31:po(N,_,p),p&&O&4&&e4(N,_);break;case 13:po(N,_,p),p&&O&4&&t4(N,_);break;case 22:_.memoizedState===null&&po(N,_,p),Vf(_,_.return);break;case 30:break;default:po(N,_,p)}h=h.sibling}}function Xw(c,h){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&_f(p))}function Qw(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&_f(c))}function Wi(c,h,p,y){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)r4(c,h,p,y),h=h.sibling}function r4(c,h,p,y){var N=h.flags;switch(h.tag){case 0:case 11:case 15:Wi(c,h,p,y),N&2048&&$f(9,h);break;case 1:Wi(c,h,p,y);break;case 3:Wi(c,h,p,y),N&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&_f(c)));break;case 12:if(N&2048){Wi(c,h,p,y),c=h.stateNode;try{var _=h.memoizedProps,O=_.id,B=_.onPostCommit;typeof B=="function"&&B(O,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Q){dn(h,h.return,Q)}}else Wi(c,h,p,y);break;case 31:Wi(c,h,p,y);break;case 13:Wi(c,h,p,y);break;case 23:break;case 22:_=h.stateNode,O=h.alternate,h.memoizedState!==null?_._visibility&2?Wi(c,h,p,y):Bf(c,h):_._visibility&2?Wi(c,h,p,y):(_._visibility|=2,pd(c,h,p,y,(h.subtreeFlags&10256)!==0||!1)),N&2048&&Xw(O,h);break;case 24:Wi(c,h,p,y),N&2048&&Qw(h.alternate,h);break;default:Wi(c,h,p,y)}}function pd(c,h,p,y,N){for(N=N&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var _=c,O=h,B=p,Q=y,pe=O.flags;switch(O.tag){case 0:case 11:case 15:pd(_,O,B,Q,N),$f(8,O);break;case 23:break;case 22:var je=O.stateNode;O.memoizedState!==null?je._visibility&2?pd(_,O,B,Q,N):Bf(_,O):(je._visibility|=2,pd(_,O,B,Q,N)),N&&pe&2048&&Xw(O.alternate,O);break;case 24:pd(_,O,B,Q,N),N&&pe&2048&&Qw(O.alternate,O);break;default:pd(_,O,B,Q,N)}h=h.sibling}}function Bf(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var p=c,y=h,N=y.flags;switch(y.tag){case 22:Bf(p,y),N&2048&&Xw(y.alternate,y);break;case 24:Bf(p,y),N&2048&&Qw(y.alternate,y);break;default:Bf(p,y)}h=h.sibling}}var Ff=8192;function gd(c,h,p){if(c.subtreeFlags&Ff)for(c=c.child;c!==null;)i4(c,h,p),c=c.sibling}function i4(c,h,p){switch(c.tag){case 26:gd(c,h,p),c.flags&Ff&&c.memoizedState!==null&&wK(p,Zi,c.memoizedState,c.memoizedProps);break;case 5:gd(c,h,p);break;case 3:case 4:var y=Zi;Zi=Dx(c.stateNode.containerInfo),gd(c,h,p),Zi=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=Ff,Ff=16777216,gd(c,h,p),Ff=y):gd(c,h,p));break;default:gd(c,h,p)}}function a4(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function Uf(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];Ds=y,l4(y,c)}a4(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)o4(c),c=c.sibling}function o4(c){switch(c.tag){case 0:case 11:case 15:Uf(c),c.flags&2048&&rl(9,c,c.return);break;case 3:Uf(c);break;case 12:Uf(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,jx(c)):Uf(c);break;default:Uf(c)}}function jx(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];Ds=y,l4(y,c)}a4(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:rl(8,h,h.return),jx(h);break;case 22:p=h.stateNode,p._visibility&2&&(p._visibility&=-3,jx(h));break;default:jx(h)}c=c.sibling}}function l4(c,h){for(;Ds!==null;){var p=Ds;switch(p.tag){case 0:case 11:case 15:rl(8,p,h);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:_f(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Ds=y;else e:for(p=c;Ds!==null;){y=Ds;var N=y.sibling,_=y.return;if(Xz(y),y===p){Ds=null;break e}if(N!==null){N.return=_,Ds=N;break e}Ds=_}}}var PW={getCacheForType:function(c){var h=Ws(hs),p=h.data.get(c);return p===void 0&&(p=c(),h.data.set(c,p)),p},cacheSignal:function(){return Ws(hs).controller.signal}},IW=typeof WeakMap=="function"?WeakMap:Map,rn=0,Sn=null,Ft=null,Ht=0,un=0,Yr=null,il=!1,xd=!1,ej=!1,go=0,Gn=0,al=0,Oc=0,tj=0,Jr=0,vd=0,Hf=null,Rr=null,nj=!1,kx=0,c4=0,Nx=1/0,Sx=null,ol=null,Ns=0,ll=null,yd=null,xo=0,sj=0,rj=null,u4=null,qf=0,ij=null;function Xr(){return(rn&2)!==0&&Ht!==0?Ht&-Ht:L.T!==null?dj():di()}function d4(){if(Jr===0)if((Ht&536870912)===0||Zt){var c=Dt;Dt<<=1,(Dt&3932160)===0&&(Dt=262144),Jr=c}else Jr=536870912;return c=Kr.current,c!==null&&(c.flags|=32),Jr}function Or(c,h,p){(c===Sn&&(un===2||un===9)||c.cancelPendingCommit!==null)&&(bd(c,0),cl(c,Ht,Jr,!1)),Vt(c,p),((rn&2)===0||c!==Sn)&&(c===Sn&&((rn&2)===0&&(Oc|=p),Gn===4&&cl(c,Ht,Jr,!1)),ka(c))}function h4(c,h,p){if((rn&6)!==0)throw Error(s(327));var y=!p&&(h&127)===0&&(h&c.expiredLanes)===0||xt(c,h),N=y?VW(c,h):oj(c,h,!0),_=y;do{if(N===0){xd&&!y&&cl(c,h,0,!1);break}else{if(p=c.current.alternate,_&&!LW(p)){N=oj(c,h,!1),_=!1;continue}if(N===2){if(_=h,c.errorRecoveryDisabledLanes&_)var O=0;else O=c.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){h=O;e:{var B=c;N=Hf;var Q=B.current.memoizedState.isDehydrated;if(Q&&(bd(B,O).flags|=256),O=oj(B,O,!1),O!==2){if(ej&&!Q){B.errorRecoveryDisabledLanes|=_,Oc|=_,N=4;break e}_=Rr,Rr=N,_!==null&&(Rr===null?Rr=_:Rr.push.apply(Rr,_))}N=O}if(_=!1,N!==2)continue}}if(N===1){bd(c,0),cl(c,h,0,!0);break}e:{switch(y=c,_=N,_){case 0:case 1:throw Error(s(345));case 4:if((h&4194048)!==h)break;case 6:cl(y,h,Jr,!il);break e;case 2:Rr=null;break;case 3:case 5:break;default:throw Error(s(329))}if((h&62914560)===h&&(N=kx+300-ze(),10<N)){if(cl(y,h,Jr,!il),qe(y,0,!0)!==0)break e;xo=h,y.timeoutHandle=U4(f4.bind(null,y,p,Rr,Sx,nj,h,Jr,Oc,vd,il,_,"Throttled",-0,0),N);break e}f4(y,p,Rr,Sx,nj,h,Jr,Oc,vd,il,_,null,-0,0)}}break}while(!0);ka(c)}function f4(c,h,p,y,N,_,O,B,Q,pe,je,Se,ve,ye){if(c.timeoutHandle=-1,Se=h.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:to},i4(h,_,Se);var et=(_&62914560)===_?kx-ze():(_&4194048)===_?c4-ze():0;if(et=jK(Se,et),et!==null){xo=_,c.cancelPendingCommit=et(w4.bind(null,c,h,_,p,y,N,O,B,Q,je,Se,null,ve,ye)),cl(c,_,O,!pe);return}}w4(c,h,_,p,y,N,O,B,Q)}function LW(c){for(var h=c;;){var p=h.tag;if((p===0||p===11||p===15)&&h.flags&16384&&(p=h.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var N=p[y],_=N.getSnapshot;N=N.value;try{if(!Zr(_(),N))return!1}catch{return!1}}if(p=h.child,h.subtreeFlags&16384&&p!==null)p.return=h,h=p;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function cl(c,h,p,y){h&=~tj,h&=~Oc,c.suspendedLanes|=h,c.pingedLanes&=~h,y&&(c.warmLanes|=h),y=c.expirationTimes;for(var N=h;0<N;){var _=31-on(N),O=1<<_;y[_]=-1,N&=~O}p!==0&&as(c,p,h)}function _x(){return(rn&6)===0?(Zf(0),!1):!0}function aj(){if(Ft!==null){if(un===0)var c=Ft.return;else c=Ft,io=Sc=null,jw(c),ud=null,Ef=0,c=Ft;for(;c!==null;)Hz(c.alternate,c),c=c.return;Ft=null}}function bd(c,h){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,rK(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),xo=0,aj(),Sn=c,Ft=p=so(c.current,null),Ht=h,un=0,Yr=null,il=!1,xd=xt(c,h),ej=!1,vd=Jr=tj=Oc=al=Gn=0,Rr=Hf=null,nj=!1,(h&8)!==0&&(h|=h&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=h;0<y;){var N=31-on(y),_=1<<N;h|=c[N],y&=~_}return go=h,Wg(),p}function m4(c,h){Rt=null,L.H=Pf,h===cd||h===tx?(h=z5(),un=3):h===uw?(h=z5(),un=4):un=h===Lw?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Yr=h,Ft===null&&(Gn=1,px(c,gi(h,c.current)))}function p4(){var c=Kr.current;return c===null?!0:(Ht&4194048)===Ht?bi===null:(Ht&62914560)===Ht||(Ht&536870912)!==0?c===bi:!1}function g4(){var c=L.H;return L.H=Pf,c===null?Pf:c}function x4(){var c=L.A;return L.A=PW,c}function Cx(){Gn=4,il||(Ht&4194048)!==Ht&&Kr.current!==null||(xd=!0),(al&134217727)===0&&(Oc&134217727)===0||Sn===null||cl(Sn,Ht,Jr,!1)}function oj(c,h,p){var y=rn;rn|=2;var N=g4(),_=x4();(Sn!==c||Ht!==h)&&(Sx=null,bd(c,h)),h=!1;var O=Gn;e:do try{if(un!==0&&Ft!==null){var B=Ft,Q=Yr;switch(un){case 8:aj(),O=6;break e;case 3:case 2:case 9:case 6:Kr.current===null&&(h=!0);var pe=un;if(un=0,Yr=null,wd(c,B,Q,pe),p&&xd){O=0;break e}break;default:pe=un,un=0,Yr=null,wd(c,B,Q,pe)}}$W(),O=Gn;break}catch(je){m4(c,je)}while(!0);return h&&c.shellSuspendCounter++,io=Sc=null,rn=y,L.H=N,L.A=_,Ft===null&&(Sn=null,Ht=0,Wg()),O}function $W(){for(;Ft!==null;)v4(Ft)}function VW(c,h){var p=rn;rn|=2;var y=g4(),N=x4();Sn!==c||Ht!==h?(Sx=null,Nx=ze()+500,bd(c,h)):xd=xt(c,h);e:do try{if(un!==0&&Ft!==null){h=Ft;var _=Yr;t:switch(un){case 1:un=0,Yr=null,wd(c,h,_,1);break;case 2:case 9:if(E5(_)){un=0,Yr=null,y4(h);break}h=function(){un!==2&&un!==9||Sn!==c||(un=7),ka(c)},_.then(h,h);break e;case 3:un=7;break e;case 4:un=5;break e;case 7:E5(_)?(un=0,Yr=null,y4(h)):(un=0,Yr=null,wd(c,h,_,7));break;case 5:var O=null;switch(Ft.tag){case 26:O=Ft.memoizedState;case 5:case 27:var B=Ft;if(O?rA(O):B.stateNode.complete){un=0,Yr=null;var Q=B.sibling;if(Q!==null)Ft=Q;else{var pe=B.return;pe!==null?(Ft=pe,Ex(pe)):Ft=null}break t}}un=0,Yr=null,wd(c,h,_,5);break;case 6:un=0,Yr=null,wd(c,h,_,6);break;case 8:aj(),Gn=6;break e;default:throw Error(s(462))}}BW();break}catch(je){m4(c,je)}while(!0);return io=Sc=null,L.H=y,L.A=N,rn=p,Ft!==null?0:(Sn=null,Ht=0,Wg(),Gn)}function BW(){for(;Ft!==null&&!ae();)v4(Ft)}function v4(c){var h=Fz(c.alternate,c,go);c.memoizedProps=c.pendingProps,h===null?Ex(c):Ft=h}function y4(c){var h=c,p=h.alternate;switch(h.tag){case 15:case 0:h=Pz(p,h,h.pendingProps,h.type,void 0,Ht);break;case 11:h=Pz(p,h,h.pendingProps,h.type.render,h.ref,Ht);break;case 5:jw(h);default:Hz(p,h),h=Ft=x5(h,go),h=Fz(p,h,go)}c.memoizedProps=c.pendingProps,h===null?Ex(c):Ft=h}function wd(c,h,p,y){io=Sc=null,jw(h),ud=null,Ef=0;var N=h.return;try{if(TW(c,N,h,p,Ht)){Gn=1,px(c,gi(p,c.current)),Ft=null;return}}catch(_){if(N!==null)throw Ft=N,_;Gn=1,px(c,gi(p,c.current)),Ft=null;return}h.flags&32768?(Zt||y===1?c=!0:xd||(Ht&536870912)!==0?c=!1:(il=c=!0,(y===2||y===9||y===3||y===6)&&(y=Kr.current,y!==null&&y.tag===13&&(y.flags|=16384))),b4(h,c)):Ex(h)}function Ex(c){var h=c;do{if((h.flags&32768)!==0){b4(h,il);return}c=h.return;var p=MW(h.alternate,h,go);if(p!==null){Ft=p;return}if(h=h.sibling,h!==null){Ft=h;return}Ft=h=c}while(h!==null);Gn===0&&(Gn=5)}function b4(c,h){do{var p=RW(c.alternate,c);if(p!==null){p.flags&=32767,Ft=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!h&&(c=c.sibling,c!==null)){Ft=c;return}Ft=c=p}while(c!==null);Gn=6,Ft=null}function w4(c,h,p,y,N,_,O,B,Q){c.cancelPendingCommit=null;do Tx();while(Ns!==0);if((rn&6)!==0)throw Error(s(327));if(h!==null){if(h===c.current)throw Error(s(177));if(_=h.lanes|h.childLanes,_|=G1,At(c,p,_,O,B,Q),c===Sn&&(Ft=Sn=null,Ht=0),yd=h,ll=c,xo=p,sj=_,rj=N,u4=y,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,qW(ot,function(){return _4(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||y){y=L.T,L.T=null,N=P.p,P.p=2,O=rn,rn|=4;try{OW(c,h,p)}finally{rn=O,P.p=N,L.T=y}}Ns=1,j4(),k4(),N4()}}function j4(){if(Ns===1){Ns=0;var c=ll,h=yd,p=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||p){p=L.T,L.T=null;var y=P.p;P.p=2;var N=rn;rn|=4;try{n4(h,c);var _=yj,O=l5(c.containerInfo),B=_.focusedElem,Q=_.selectionRange;if(O!==B&&B&&B.ownerDocument&&o5(B.ownerDocument.documentElement,B)){if(Q!==null&&H1(B)){var pe=Q.start,je=Q.end;if(je===void 0&&(je=pe),"selectionStart"in B)B.selectionStart=pe,B.selectionEnd=Math.min(je,B.value.length);else{var Se=B.ownerDocument||document,ve=Se&&Se.defaultView||window;if(ve.getSelection){var ye=ve.getSelection(),et=B.textContent.length,vt=Math.min(Q.start,et),yn=Q.end===void 0?vt:Math.min(Q.end,et);!ye.extend&&vt>yn&&(O=yn,yn=vt,vt=O);var ue=a5(B,vt),ie=a5(B,yn);if(ue&&ie&&(ye.rangeCount!==1||ye.anchorNode!==ue.node||ye.anchorOffset!==ue.offset||ye.focusNode!==ie.node||ye.focusOffset!==ie.offset)){var me=Se.createRange();me.setStart(ue.node,ue.offset),ye.removeAllRanges(),vt>yn?(ye.addRange(me),ye.extend(ie.node,ie.offset)):(me.setEnd(ie.node,ie.offset),ye.addRange(me))}}}}for(Se=[],ye=B;ye=ye.parentNode;)ye.nodeType===1&&Se.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Se.length;B++){var ke=Se[B];ke.element.scrollLeft=ke.left,ke.element.scrollTop=ke.top}}Bx=!!vj,yj=vj=null}finally{rn=N,P.p=y,L.T=p}}c.current=h,Ns=2}}function k4(){if(Ns===2){Ns=0;var c=ll,h=yd,p=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||p){p=L.T,L.T=null;var y=P.p;P.p=2;var N=rn;rn|=4;try{Jz(c,h.alternate,h)}finally{rn=N,P.p=y,L.T=p}}Ns=3}}function N4(){if(Ns===4||Ns===3){Ns=0,fe();var c=ll,h=yd,p=xo,y=u4;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?Ns=5:(Ns=0,yd=ll=null,S4(c,c.pendingLanes));var N=c.pendingLanes;if(N===0&&(ol=null),Hs(p),h=h.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(mt,h,void 0,(h.current.flags&128)===128)}catch{}if(y!==null){h=L.T,N=P.p,P.p=2,L.T=null;try{for(var _=c.onRecoverableError,O=0;O<y.length;O++){var B=y[O];_(B.value,{componentStack:B.stack})}}finally{L.T=h,P.p=N}}(xo&3)!==0&&Tx(),ka(c),N=c.pendingLanes,(p&261930)!==0&&(N&42)!==0?c===ij?qf++:(qf=0,ij=c):qf=0,Zf(0)}}function S4(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,_f(h)))}function Tx(){return j4(),k4(),N4(),_4()}function _4(){if(Ns!==5)return!1;var c=ll,h=sj;sj=0;var p=Hs(xo),y=L.T,N=P.p;try{P.p=32>p?32:p,L.T=null,p=rj,rj=null;var _=ll,O=xo;if(Ns=0,yd=ll=null,xo=0,(rn&6)!==0)throw Error(s(331));var B=rn;if(rn|=4,o4(_.current),r4(_,_.current,O,p),rn=B,Zf(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(mt,_)}catch{}return!0}finally{P.p=N,L.T=y,S4(c,h)}}function C4(c,h,p){h=gi(p,h),h=Iw(c.stateNode,h,2),c=tl(c,h,2),c!==null&&(Vt(c,2),ka(c))}function dn(c,h,p){if(c.tag===3)C4(c,c,p);else for(;h!==null;){if(h.tag===3){C4(h,c,p);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ol===null||!ol.has(y))){c=gi(p,c),p=Ez(2),y=tl(h,p,2),y!==null&&(Tz(p,y,h,c),Vt(y,2),ka(y));break}}h=h.return}}function lj(c,h,p){var y=c.pingCache;if(y===null){y=c.pingCache=new IW;var N=new Set;y.set(h,N)}else N=y.get(h),N===void 0&&(N=new Set,y.set(h,N));N.has(p)||(ej=!0,N.add(p),c=FW.bind(null,c,h,p),h.then(c,c))}function FW(c,h,p){var y=c.pingCache;y!==null&&y.delete(h),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Sn===c&&(Ht&p)===p&&(Gn===4||Gn===3&&(Ht&62914560)===Ht&&300>ze()-kx?(rn&2)===0&&bd(c,0):tj|=p,vd===Ht&&(vd=0)),ka(c)}function E4(c,h){h===0&&(h=Et()),c=jc(c,h),c!==null&&(Vt(c,h),ka(c))}function UW(c){var h=c.memoizedState,p=0;h!==null&&(p=h.retryLane),E4(c,p)}function HW(c,h){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,N=c.memoizedState;N!==null&&(p=N.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(s(314))}y!==null&&y.delete(h),E4(c,p)}function qW(c,h){return ct(c,h)}var zx=null,jd=null,cj=!1,Ax=!1,uj=!1,ul=0;function ka(c){c!==jd&&c.next===null&&(jd===null?zx=jd=c:jd=jd.next=c),Ax=!0,cj||(cj=!0,WW())}function Zf(c,h){if(!uj&&Ax){uj=!0;do for(var p=!1,y=zx;y!==null;){if(c!==0){var N=y.pendingLanes;if(N===0)var _=0;else{var O=y.suspendedLanes,B=y.pingedLanes;_=(1<<31-on(42|c)+1)-1,_&=N&~(O&~B),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(p=!0,M4(y,_))}else _=Ht,_=qe(y,y===Sn?_:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(_&3)===0||xt(y,_)||(p=!0,M4(y,_));y=y.next}while(p);uj=!1}}function ZW(){T4()}function T4(){Ax=cj=!1;var c=0;ul!==0&&sK()&&(c=ul);for(var h=ze(),p=null,y=zx;y!==null;){var N=y.next,_=z4(y,h);_===0?(y.next=null,p===null?zx=N:p.next=N,N===null&&(jd=p)):(p=y,(c!==0||(_&3)!==0)&&(Ax=!0)),y=N}Ns!==0&&Ns!==5||Zf(c),ul!==0&&(ul=0)}function z4(c,h){for(var p=c.suspendedLanes,y=c.pingedLanes,N=c.expirationTimes,_=c.pendingLanes&-62914561;0<_;){var O=31-on(_),B=1<<O,Q=N[O];Q===-1?((B&p)===0||(B&y)!==0)&&(N[O]=zt(B,h)):Q<=h&&(c.expiredLanes|=B),_&=~B}if(h=Sn,p=Ht,p=qe(c,c===h?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===h&&(un===2||un===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&J(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||xt(c,p)){if(h=p&-p,h===c.callbackPriority)return h;switch(y!==null&&J(y),Hs(p)){case 2:case 8:p=Be;break;case 32:p=ot;break;case 268435456:p=Fe;break;default:p=ot}return y=A4.bind(null,c),p=ct(p,y),c.callbackPriority=h,c.callbackNode=p,h}return y!==null&&y!==null&&J(y),c.callbackPriority=2,c.callbackNode=null,2}function A4(c,h){if(Ns!==0&&Ns!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(Tx()&&c.callbackNode!==p)return null;var y=Ht;return y=qe(c,c===Sn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(h4(c,y,h),z4(c,ze()),c.callbackNode!=null&&c.callbackNode===p?A4.bind(null,c):null)}function M4(c,h){if(Tx())return null;h4(c,h,!0)}function WW(){iK(function(){(rn&6)!==0?ct(_e,ZW):T4()})}function dj(){if(ul===0){var c=od;c===0&&(c=Ct,Ct<<=1,(Ct&261888)===0&&(Ct=256)),ul=c}return ul}function R4(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:$g(""+c)}function O4(c,h){var p=h.ownerDocument.createElement("input");return p.name=h.name,p.value=h.value,c.id&&p.setAttribute("form",c.id),h.parentNode.insertBefore(p,h),c=new FormData(c),p.parentNode.removeChild(p),c}function KW(c,h,p,y,N){if(h==="submit"&&p&&p.stateNode===N){var _=R4((N[Er]||null).action),O=y.submitter;O&&(h=(h=O[Er]||null)?R4(h.formAction):O.getAttribute("formAction"),h!==null&&(_=h,O=null));var B=new Ug("action","action",null,y,N);c.push({event:B,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(ul!==0){var Q=O?O4(N,O):new FormData(N);Aw(p,{pending:!0,data:Q,method:N.method,action:_},null,Q)}}else typeof _=="function"&&(B.preventDefault(),Q=O?O4(N,O):new FormData(N),Aw(p,{pending:!0,data:Q,method:N.method,action:_},_,Q))},currentTarget:N}]})}}for(var hj=0;hj<K1.length;hj++){var fj=K1[hj],GW=fj.toLowerCase(),YW=fj[0].toUpperCase()+fj.slice(1);qi(GW,"on"+YW)}qi(d5,"onAnimationEnd"),qi(h5,"onAnimationIteration"),qi(f5,"onAnimationStart"),qi("dblclick","onDoubleClick"),qi("focusin","onFocus"),qi("focusout","onBlur"),qi(hW,"onTransitionRun"),qi(fW,"onTransitionStart"),qi(mW,"onTransitionCancel"),qi(m5,"onTransitionEnd"),Wu("onMouseEnter",["mouseout","mouseover"]),Wu("onMouseLeave",["mouseout","mouseover"]),Wu("onPointerEnter",["pointerout","pointerover"]),Wu("onPointerLeave",["pointerout","pointerover"]),vc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vc("onBeforeInput",["compositionend","keypress","textInput","paste"]),vc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JW=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Wf));function D4(c,h){h=(h&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],N=y.event;y=y.listeners;e:{var _=void 0;if(h)for(var O=y.length-1;0<=O;O--){var B=y[O],Q=B.instance,pe=B.currentTarget;if(B=B.listener,Q!==_&&N.isPropagationStopped())break e;_=B,N.currentTarget=pe;try{_(N)}catch(je){Zg(je)}N.currentTarget=null,_=Q}else for(O=0;O<y.length;O++){if(B=y[O],Q=B.instance,pe=B.currentTarget,B=B.listener,Q!==_&&N.isPropagationStopped())break e;_=B,N.currentTarget=pe;try{_(N)}catch(je){Zg(je)}N.currentTarget=null,_=Q}}}}function Ut(c,h){var p=h[_1];p===void 0&&(p=h[_1]=new Set);var y=c+"__bubble";p.has(y)||(P4(h,c,2,!1),p.add(y))}function mj(c,h,p){var y=0;h&&(y|=4),P4(p,c,y,h)}var Mx="_reactListening"+Math.random().toString(36).slice(2);function pj(c){if(!c[Mx]){c[Mx]=!0,TT.forEach(function(p){p!=="selectionchange"&&(JW.has(p)||mj(p,!1,c),mj(p,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Mx]||(h[Mx]=!0,mj("selectionchange",!1,h))}}function P4(c,h,p,y){switch(dA(h)){case 2:var N=SK;break;case 8:N=_K;break;default:N=zj}p=N.bind(null,h,p,c),N=void 0,!D1||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(N=!0),y?N!==void 0?c.addEventListener(h,p,{capture:!0,passive:N}):c.addEventListener(h,p,!0):N!==void 0?c.addEventListener(h,p,{passive:N}):c.addEventListener(h,p,!1)}function gj(c,h,p,y,N){var _=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var O=y.tag;if(O===3||O===4){var B=y.stateNode.containerInfo;if(B===N)break;if(O===4)for(O=y.return;O!==null;){var Q=O.tag;if((Q===3||Q===4)&&O.stateNode.containerInfo===N)return;O=O.return}for(;B!==null;){if(O=Hu(B),O===null)return;if(Q=O.tag,Q===5||Q===6||Q===26||Q===27){y=_=O;continue e}B=B.parentNode}}y=y.return}BT(function(){var pe=_,je=R1(p),Se=[];e:{var ve=p5.get(c);if(ve!==void 0){var ye=Ug,et=c;switch(c){case"keypress":if(Bg(p)===0)break e;case"keydown":case"keyup":ye=HZ;break;case"focusin":et="focus",ye=$1;break;case"focusout":et="blur",ye=$1;break;case"beforeblur":case"afterblur":ye=$1;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=HT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=MZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=WZ;break;case d5:case h5:case f5:ye=DZ;break;case m5:ye=GZ;break;case"scroll":case"scrollend":ye=zZ;break;case"wheel":ye=JZ;break;case"copy":case"cut":case"paste":ye=IZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=ZT;break;case"toggle":case"beforetoggle":ye=QZ}var vt=(h&4)!==0,yn=!vt&&(c==="scroll"||c==="scrollend"),ue=vt?ve!==null?ve+"Capture":null:ve;vt=[];for(var ie=pe,me;ie!==null;){var ke=ie;if(me=ke.stateNode,ke=ke.tag,ke!==5&&ke!==26&&ke!==27||me===null||ue===null||(ke=pf(ie,ue),ke!=null&&vt.push(Kf(ie,ke,me))),yn)break;ie=ie.return}0<vt.length&&(ve=new ye(ve,et,null,p,je),Se.push({event:ve,listeners:vt}))}}if((h&7)===0){e:{if(ve=c==="mouseover"||c==="pointerover",ye=c==="mouseout"||c==="pointerout",ve&&p!==M1&&(et=p.relatedTarget||p.fromElement)&&(Hu(et)||et[Uu]))break e;if((ye||ve)&&(ve=je.window===je?je:(ve=je.ownerDocument)?ve.defaultView||ve.parentWindow:window,ye?(et=p.relatedTarget||p.toElement,ye=pe,et=et?Hu(et):null,et!==null&&(yn=a(et),vt=et.tag,et!==yn||vt!==5&&vt!==27&&vt!==6)&&(et=null)):(ye=null,et=pe),ye!==et)){if(vt=HT,ke="onMouseLeave",ue="onMouseEnter",ie="mouse",(c==="pointerout"||c==="pointerover")&&(vt=ZT,ke="onPointerLeave",ue="onPointerEnter",ie="pointer"),yn=ye==null?ve:mf(ye),me=et==null?ve:mf(et),ve=new vt(ke,ie+"leave",ye,p,je),ve.target=yn,ve.relatedTarget=me,ke=null,Hu(je)===pe&&(vt=new vt(ue,ie+"enter",et,p,je),vt.target=me,vt.relatedTarget=yn,ke=vt),yn=ke,ye&&et)t:{for(vt=XW,ue=ye,ie=et,me=0,ke=ue;ke;ke=vt(ke))me++;ke=0;for(var ft=ie;ft;ft=vt(ft))ke++;for(;0<me-ke;)ue=vt(ue),me--;for(;0<ke-me;)ie=vt(ie),ke--;for(;me--;){if(ue===ie||ie!==null&&ue===ie.alternate){vt=ue;break t}ue=vt(ue),ie=vt(ie)}vt=null}else vt=null;ye!==null&&I4(Se,ve,ye,vt,!1),et!==null&&yn!==null&&I4(Se,yn,et,vt,!0)}}e:{if(ve=pe?mf(pe):window,ye=ve.nodeName&&ve.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ve.type==="file")var en=e5;else if(XT(ve))if(t5)en=cW;else{en=oW;var lt=aW}else ye=ve.nodeName,!ye||ye.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?pe&&A1(pe.elementType)&&(en=e5):en=lW;if(en&&(en=en(c,pe))){QT(Se,en,p,je);break e}lt&&lt(c,ve,pe),c==="focusout"&&pe&&ve.type==="number"&&pe.memoizedProps.value!=null&&z1(ve,"number",ve.value)}switch(lt=pe?mf(pe):window,c){case"focusin":(XT(lt)||lt.contentEditable==="true")&&(Qu=lt,q1=pe,kf=null);break;case"focusout":kf=q1=Qu=null;break;case"mousedown":Z1=!0;break;case"contextmenu":case"mouseup":case"dragend":Z1=!1,c5(Se,p,je);break;case"selectionchange":if(dW)break;case"keydown":case"keyup":c5(Se,p,je)}var Pt;if(B1)e:{switch(c){case"compositionstart":var qt="onCompositionStart";break e;case"compositionend":qt="onCompositionEnd";break e;case"compositionupdate":qt="onCompositionUpdate";break e}qt=void 0}else Xu?YT(c,p)&&(qt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(qt="onCompositionStart");qt&&(WT&&p.locale!=="ko"&&(Xu||qt!=="onCompositionStart"?qt==="onCompositionEnd"&&Xu&&(Pt=FT()):(Ko=je,P1="value"in Ko?Ko.value:Ko.textContent,Xu=!0)),lt=Rx(pe,qt),0<lt.length&&(qt=new qT(qt,c,null,p,je),Se.push({event:qt,listeners:lt}),Pt?qt.data=Pt:(Pt=JT(p),Pt!==null&&(qt.data=Pt)))),(Pt=tW?nW(c,p):sW(c,p))&&(qt=Rx(pe,"onBeforeInput"),0<qt.length&&(lt=new qT("onBeforeInput","beforeinput",null,p,je),Se.push({event:lt,listeners:qt}),lt.data=Pt)),KW(Se,c,pe,p,je)}D4(Se,h)})}function Kf(c,h,p){return{instance:c,listener:h,currentTarget:p}}function Rx(c,h){for(var p=h+"Capture",y=[];c!==null;){var N=c,_=N.stateNode;if(N=N.tag,N!==5&&N!==26&&N!==27||_===null||(N=pf(c,p),N!=null&&y.unshift(Kf(c,N,_)),N=pf(c,h),N!=null&&y.push(Kf(c,N,_))),c.tag===3)return y;c=c.return}return[]}function XW(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function I4(c,h,p,y,N){for(var _=h._reactName,O=[];p!==null&&p!==y;){var B=p,Q=B.alternate,pe=B.stateNode;if(B=B.tag,Q!==null&&Q===y)break;B!==5&&B!==26&&B!==27||pe===null||(Q=pe,N?(pe=pf(p,_),pe!=null&&O.unshift(Kf(p,pe,Q))):N||(pe=pf(p,_),pe!=null&&O.push(Kf(p,pe,Q)))),p=p.return}O.length!==0&&c.push({event:h,listeners:O})}var QW=/\r\n?/g,eK=/\u0000|\uFFFD/g;function L4(c){return(typeof c=="string"?c:""+c).replace(QW,`
`).replace(eK,"")}function $4(c,h){return h=L4(h),L4(c)===h}function vn(c,h,p,y,N,_){switch(p){case"children":typeof y=="string"?h==="body"||h==="textarea"&&y===""||Gu(c,y):(typeof y=="number"||typeof y=="bigint")&&h!=="body"&&Gu(c,""+y);break;case"className":Ig(c,"class",y);break;case"tabIndex":Ig(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ig(c,p,y);break;case"style":$T(c,y,_);break;case"data":if(h!=="object"){Ig(c,"data",y);break}case"src":case"href":if(y===""&&(h!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=$g(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(p==="formAction"?(h!=="input"&&vn(c,h,"name",N.name,N,null),vn(c,h,"formEncType",N.formEncType,N,null),vn(c,h,"formMethod",N.formMethod,N,null),vn(c,h,"formTarget",N.formTarget,N,null)):(vn(c,h,"encType",N.encType,N,null),vn(c,h,"method",N.method,N,null),vn(c,h,"target",N.target,N,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=$g(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=to);break;case"onScroll":y!=null&&Ut("scroll",c);break;case"onScrollEnd":y!=null&&Ut("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(s(61));if(p=y.__html,p!=null){if(N.children!=null)throw Error(s(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=$g(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":Ut("beforetoggle",c),Ut("toggle",c),Pg(c,"popover",y);break;case"xlinkActuate":eo(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":eo(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":eo(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":eo(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":eo(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":eo(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":eo(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":eo(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":eo(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Pg(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=EZ.get(p)||p,Pg(c,p,y))}}function xj(c,h,p,y,N,_){switch(p){case"style":$T(c,y,_);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(s(61));if(p=y.__html,p!=null){if(N.children!=null)throw Error(s(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Gu(c,y):(typeof y=="number"||typeof y=="bigint")&&Gu(c,""+y);break;case"onScroll":y!=null&&Ut("scroll",c);break;case"onScrollEnd":y!=null&&Ut("scrollend",c);break;case"onClick":y!=null&&(c.onclick=to);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zT.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(N=p.endsWith("Capture"),h=p.slice(2,N?p.length-7:void 0),_=c[Er]||null,_=_!=null?_[p]:null,typeof _=="function"&&c.removeEventListener(h,_,N),typeof y=="function")){typeof _!="function"&&_!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(h,y,N);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):Pg(c,p,y)}}}function Gs(c,h,p){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ut("error",c),Ut("load",c);var y=!1,N=!1,_;for(_ in p)if(p.hasOwnProperty(_)){var O=p[_];if(O!=null)switch(_){case"src":y=!0;break;case"srcSet":N=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,h));default:vn(c,h,_,O,p,null)}}N&&vn(c,h,"srcSet",p.srcSet,p,null),y&&vn(c,h,"src",p.src,p,null);return;case"input":Ut("invalid",c);var B=_=O=N=null,Q=null,pe=null;for(y in p)if(p.hasOwnProperty(y)){var je=p[y];if(je!=null)switch(y){case"name":N=je;break;case"type":O=je;break;case"checked":Q=je;break;case"defaultChecked":pe=je;break;case"value":_=je;break;case"defaultValue":B=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(s(137,h));break;default:vn(c,h,y,je,p,null)}}DT(c,_,B,Q,pe,O,N,!1);return;case"select":Ut("invalid",c),y=O=_=null;for(N in p)if(p.hasOwnProperty(N)&&(B=p[N],B!=null))switch(N){case"value":_=B;break;case"defaultValue":O=B;break;case"multiple":y=B;default:vn(c,h,N,B,p,null)}h=_,p=O,c.multiple=!!y,h!=null?Ku(c,!!y,h,!1):p!=null&&Ku(c,!!y,p,!0);return;case"textarea":Ut("invalid",c),_=N=y=null;for(O in p)if(p.hasOwnProperty(O)&&(B=p[O],B!=null))switch(O){case"value":y=B;break;case"defaultValue":N=B;break;case"children":_=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(91));break;default:vn(c,h,O,B,p,null)}IT(c,y,N,_);return;case"option":for(Q in p)if(p.hasOwnProperty(Q)&&(y=p[Q],y!=null))switch(Q){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:vn(c,h,Q,y,p,null)}return;case"dialog":Ut("beforetoggle",c),Ut("toggle",c),Ut("cancel",c),Ut("close",c);break;case"iframe":case"object":Ut("load",c);break;case"video":case"audio":for(y=0;y<Wf.length;y++)Ut(Wf[y],c);break;case"image":Ut("error",c),Ut("load",c);break;case"details":Ut("toggle",c);break;case"embed":case"source":case"link":Ut("error",c),Ut("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(pe in p)if(p.hasOwnProperty(pe)&&(y=p[pe],y!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,h));default:vn(c,h,pe,y,p,null)}return;default:if(A1(h)){for(je in p)p.hasOwnProperty(je)&&(y=p[je],y!==void 0&&xj(c,h,je,y,p,void 0));return}}for(B in p)p.hasOwnProperty(B)&&(y=p[B],y!=null&&vn(c,h,B,y,p,null))}function tK(c,h,p,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var N=null,_=null,O=null,B=null,Q=null,pe=null,je=null;for(ye in p){var Se=p[ye];if(p.hasOwnProperty(ye)&&Se!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":Q=Se;default:y.hasOwnProperty(ye)||vn(c,h,ye,null,y,Se)}}for(var ve in y){var ye=y[ve];if(Se=p[ve],y.hasOwnProperty(ve)&&(ye!=null||Se!=null))switch(ve){case"type":_=ye;break;case"name":N=ye;break;case"checked":pe=ye;break;case"defaultChecked":je=ye;break;case"value":O=ye;break;case"defaultValue":B=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(s(137,h));break;default:ye!==Se&&vn(c,h,ve,ye,y,Se)}}T1(c,O,B,Q,pe,je,_,N);return;case"select":ye=O=B=ve=null;for(_ in p)if(Q=p[_],p.hasOwnProperty(_)&&Q!=null)switch(_){case"value":break;case"multiple":ye=Q;default:y.hasOwnProperty(_)||vn(c,h,_,null,y,Q)}for(N in y)if(_=y[N],Q=p[N],y.hasOwnProperty(N)&&(_!=null||Q!=null))switch(N){case"value":ve=_;break;case"defaultValue":B=_;break;case"multiple":O=_;default:_!==Q&&vn(c,h,N,_,y,Q)}h=B,p=O,y=ye,ve!=null?Ku(c,!!p,ve,!1):!!y!=!!p&&(h!=null?Ku(c,!!p,h,!0):Ku(c,!!p,p?[]:"",!1));return;case"textarea":ye=ve=null;for(B in p)if(N=p[B],p.hasOwnProperty(B)&&N!=null&&!y.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:vn(c,h,B,null,y,N)}for(O in y)if(N=y[O],_=p[O],y.hasOwnProperty(O)&&(N!=null||_!=null))switch(O){case"value":ve=N;break;case"defaultValue":ye=N;break;case"children":break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(91));break;default:N!==_&&vn(c,h,O,N,y,_)}PT(c,ve,ye);return;case"option":for(var et in p)if(ve=p[et],p.hasOwnProperty(et)&&ve!=null&&!y.hasOwnProperty(et))switch(et){case"selected":c.selected=!1;break;default:vn(c,h,et,null,y,ve)}for(Q in y)if(ve=y[Q],ye=p[Q],y.hasOwnProperty(Q)&&ve!==ye&&(ve!=null||ye!=null))switch(Q){case"selected":c.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:vn(c,h,Q,ve,y,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in p)ve=p[vt],p.hasOwnProperty(vt)&&ve!=null&&!y.hasOwnProperty(vt)&&vn(c,h,vt,null,y,ve);for(pe in y)if(ve=y[pe],ye=p[pe],y.hasOwnProperty(pe)&&ve!==ye&&(ve!=null||ye!=null))switch(pe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(s(137,h));break;default:vn(c,h,pe,ve,y,ye)}return;default:if(A1(h)){for(var yn in p)ve=p[yn],p.hasOwnProperty(yn)&&ve!==void 0&&!y.hasOwnProperty(yn)&&xj(c,h,yn,void 0,y,ve);for(je in y)ve=y[je],ye=p[je],!y.hasOwnProperty(je)||ve===ye||ve===void 0&&ye===void 0||xj(c,h,je,ve,y,ye);return}}for(var ue in p)ve=p[ue],p.hasOwnProperty(ue)&&ve!=null&&!y.hasOwnProperty(ue)&&vn(c,h,ue,null,y,ve);for(Se in y)ve=y[Se],ye=p[Se],!y.hasOwnProperty(Se)||ve===ye||ve==null&&ye==null||vn(c,h,Se,ve,y,ye)}function V4(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nK(){if(typeof performance.getEntriesByType=="function"){for(var c=0,h=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var N=p[y],_=N.transferSize,O=N.initiatorType,B=N.duration;if(_&&B&&V4(O)){for(O=0,B=N.responseEnd,y+=1;y<p.length;y++){var Q=p[y],pe=Q.startTime;if(pe>B)break;var je=Q.transferSize,Se=Q.initiatorType;je&&V4(Se)&&(Q=Q.responseEnd,O+=je*(Q<B?1:(B-pe)/(Q-pe)))}if(--y,h+=8*(_+O)/(N.duration/1e3),c++,10<c)break}}if(0<c)return h/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var vj=null,yj=null;function Ox(c){return c.nodeType===9?c:c.ownerDocument}function B4(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function F4(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function bj(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var wj=null;function sK(){var c=window.event;return c&&c.type==="popstate"?c===wj?!1:(wj=c,!0):(wj=null,!1)}var U4=typeof setTimeout=="function"?setTimeout:void 0,rK=typeof clearTimeout=="function"?clearTimeout:void 0,H4=typeof Promise=="function"?Promise:void 0,iK=typeof queueMicrotask=="function"?queueMicrotask:typeof H4<"u"?function(c){return H4.resolve(null).then(c).catch(aK)}:U4;function aK(c){setTimeout(function(){throw c})}function dl(c){return c==="head"}function q4(c,h){var p=h,y=0;do{var N=p.nextSibling;if(c.removeChild(p),N&&N.nodeType===8)if(p=N.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(N),_d(h);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")Gf(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,Gf(p);for(var _=p.firstChild;_;){var O=_.nextSibling,B=_.nodeName;_[ff]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&_.rel.toLowerCase()==="stylesheet"||p.removeChild(_),_=O}}else p==="body"&&Gf(c.ownerDocument.body);p=N}while(p);_d(h)}function Z4(c,h){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?h?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(h?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function jj(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var p=h;switch(h=h.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":jj(p),C1(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function oK(c,h,p,y){for(;c.nodeType===1;){var N=p;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[ff])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(_=c.getAttribute("rel"),_==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(_!==N.rel||c.getAttribute("href")!==(N.href==null||N.href===""?null:N.href)||c.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin)||c.getAttribute("title")!==(N.title==null?null:N.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(_=c.getAttribute("src"),(_!==(N.src==null?null:N.src)||c.getAttribute("type")!==(N.type==null?null:N.type)||c.getAttribute("crossorigin")!==(N.crossOrigin==null?null:N.crossOrigin))&&_&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var _=N.name==null?null:""+N.name;if(N.type==="hidden"&&c.getAttribute("name")===_)return c}else return c;if(c=wi(c.nextSibling),c===null)break}return null}function lK(c,h,p){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=wi(c.nextSibling),c===null))return null;return c}function W4(c,h){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=wi(c.nextSibling),c===null))return null;return c}function kj(c){return c.data==="$?"||c.data==="$~"}function Nj(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function cK(c,h){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=h;else if(c.data!=="$?"||p.readyState!=="loading")h();else{var y=function(){h(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function wi(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return c}var Sj=null;function K4(c){c=c.nextSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(h===0)return wi(c.nextSibling);h--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||h++}c=c.nextSibling}return null}function G4(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(h===0)return c;h--}else p!=="/$"&&p!=="/&"||h++}c=c.previousSibling}return null}function Y4(c,h,p){switch(h=Ox(p),c){case"html":if(c=h.documentElement,!c)throw Error(s(452));return c;case"head":if(c=h.head,!c)throw Error(s(453));return c;case"body":if(c=h.body,!c)throw Error(s(454));return c;default:throw Error(s(451))}}function Gf(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);C1(c)}var ji=new Map,J4=new Set;function Dx(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var vo=P.d;P.d={f:uK,r:dK,D:hK,C:fK,L:mK,m:pK,X:xK,S:gK,M:vK};function uK(){var c=vo.f(),h=_x();return c||h}function dK(c){var h=qu(c);h!==null&&h.tag===5&&h.type==="form"?mz(h):vo.r(c)}var kd=typeof document>"u"?null:document;function X4(c,h,p){var y=kd;if(y&&typeof h=="string"&&h){var N=mi(h);N='link[rel="'+c+'"][href="'+N+'"]',typeof p=="string"&&(N+='[crossorigin="'+p+'"]'),J4.has(N)||(J4.add(N),c={rel:c,crossOrigin:p,href:h},y.querySelector(N)===null&&(h=y.createElement("link"),Gs(h,"link",c),Os(h),y.head.appendChild(h)))}}function hK(c){vo.D(c),X4("dns-prefetch",c,null)}function fK(c,h){vo.C(c,h),X4("preconnect",c,h)}function mK(c,h,p){vo.L(c,h,p);var y=kd;if(y&&c&&h){var N='link[rel="preload"][as="'+mi(h)+'"]';h==="image"&&p&&p.imageSrcSet?(N+='[imagesrcset="'+mi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(N+='[imagesizes="'+mi(p.imageSizes)+'"]')):N+='[href="'+mi(c)+'"]';var _=N;switch(h){case"style":_=Nd(c);break;case"script":_=Sd(c)}ji.has(_)||(c=m({rel:"preload",href:h==="image"&&p&&p.imageSrcSet?void 0:c,as:h},p),ji.set(_,c),y.querySelector(N)!==null||h==="style"&&y.querySelector(Yf(_))||h==="script"&&y.querySelector(Jf(_))||(h=y.createElement("link"),Gs(h,"link",c),Os(h),y.head.appendChild(h)))}}function pK(c,h){vo.m(c,h);var p=kd;if(p&&c){var y=h&&typeof h.as=="string"?h.as:"script",N='link[rel="modulepreload"][as="'+mi(y)+'"][href="'+mi(c)+'"]',_=N;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Sd(c)}if(!ji.has(_)&&(c=m({rel:"modulepreload",href:c},h),ji.set(_,c),p.querySelector(N)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Jf(_)))return}y=p.createElement("link"),Gs(y,"link",c),Os(y),p.head.appendChild(y)}}}function gK(c,h,p){vo.S(c,h,p);var y=kd;if(y&&c){var N=Zu(y).hoistableStyles,_=Nd(c);h=h||"default";var O=N.get(_);if(!O){var B={loading:0,preload:null};if(O=y.querySelector(Yf(_)))B.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":h},p),(p=ji.get(_))&&_j(c,p);var Q=O=y.createElement("link");Os(Q),Gs(Q,"link",c),Q._p=new Promise(function(pe,je){Q.onload=pe,Q.onerror=je}),Q.addEventListener("load",function(){B.loading|=1}),Q.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Px(O,h,y)}O={type:"stylesheet",instance:O,count:1,state:B},N.set(_,O)}}}function xK(c,h){vo.X(c,h);var p=kd;if(p&&c){var y=Zu(p).hoistableScripts,N=Sd(c),_=y.get(N);_||(_=p.querySelector(Jf(N)),_||(c=m({src:c,async:!0},h),(h=ji.get(N))&&Cj(c,h),_=p.createElement("script"),Os(_),Gs(_,"link",c),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(N,_))}}function vK(c,h){vo.M(c,h);var p=kd;if(p&&c){var y=Zu(p).hoistableScripts,N=Sd(c),_=y.get(N);_||(_=p.querySelector(Jf(N)),_||(c=m({src:c,async:!0,type:"module"},h),(h=ji.get(N))&&Cj(c,h),_=p.createElement("script"),Os(_),Gs(_,"link",c),p.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},y.set(N,_))}}function Q4(c,h,p,y){var N=(N=ce.current)?Dx(N):null;if(!N)throw Error(s(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(h=Nd(p.href),p=Zu(N).hoistableStyles,y=p.get(h),y||(y={type:"style",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=Nd(p.href);var _=Zu(N).hoistableStyles,O=_.get(c);if(O||(N=N.ownerDocument||N,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(c,O),(_=N.querySelector(Yf(c)))&&!_._p&&(O.instance=_,O.state.loading=5),ji.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ji.set(c,p),_||yK(N,c,p,O.state))),h&&y===null)throw Error(s(528,""));return O}if(h&&y!==null)throw Error(s(529,""));return null;case"script":return h=p.async,p=p.src,typeof p=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Sd(p),p=Zu(N).hoistableScripts,y=p.get(h),y||(y={type:"script",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,c))}}function Nd(c){return'href="'+mi(c)+'"'}function Yf(c){return'link[rel="stylesheet"]['+c+"]"}function eA(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function yK(c,h,p,y){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?y.loading=1:(h=c.createElement("link"),y.preload=h,h.addEventListener("load",function(){return y.loading|=1}),h.addEventListener("error",function(){return y.loading|=2}),Gs(h,"link",p),Os(h),c.head.appendChild(h))}function Sd(c){return'[src="'+mi(c)+'"]'}function Jf(c){return"script[async]"+c}function tA(c,h,p){if(h.count++,h.instance===null)switch(h.type){case"style":var y=c.querySelector('style[data-href~="'+mi(p.href)+'"]');if(y)return h.instance=y,Os(y),y;var N=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),Os(y),Gs(y,"style",N),Px(y,p.precedence,c),h.instance=y;case"stylesheet":N=Nd(p.href);var _=c.querySelector(Yf(N));if(_)return h.state.loading|=4,h.instance=_,Os(_),_;y=eA(p),(N=ji.get(N))&&_j(y,N),_=(c.ownerDocument||c).createElement("link"),Os(_);var O=_;return O._p=new Promise(function(B,Q){O.onload=B,O.onerror=Q}),Gs(_,"link",y),h.state.loading|=4,Px(_,p.precedence,c),h.instance=_;case"script":return _=Sd(p.src),(N=c.querySelector(Jf(_)))?(h.instance=N,Os(N),N):(y=p,(N=ji.get(_))&&(y=m({},p),Cj(y,N)),c=c.ownerDocument||c,N=c.createElement("script"),Os(N),Gs(N,"link",y),c.head.appendChild(N),h.instance=N);case"void":return null;default:throw Error(s(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(y=h.instance,h.state.loading|=4,Px(y,p.precedence,c));return h.instance}function Px(c,h,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),N=y.length?y[y.length-1]:null,_=N,O=0;O<y.length;O++){var B=y[O];if(B.dataset.precedence===h)_=B;else if(_!==N)break}_?_.parentNode.insertBefore(c,_.nextSibling):(h=p.nodeType===9?p.head:p,h.insertBefore(c,h.firstChild))}function _j(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function Cj(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var Ix=null;function nA(c,h,p){if(Ix===null){var y=new Map,N=Ix=new Map;N.set(p,y)}else N=Ix,y=N.get(p),y||(y=new Map,N.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),N=0;N<p.length;N++){var _=p[N];if(!(_[ff]||_[qs]||c==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var O=_.getAttribute(h)||"";O=c+O;var B=y.get(O);B?B.push(_):y.set(O,[_])}}return y}function sA(c,h,p){c=c.ownerDocument||c,c.head.insertBefore(p,h==="title"?c.querySelector("head > title"):null)}function bK(c,h,p){if(p===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function rA(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function wK(c,h,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var N=Nd(y.href),_=h.querySelector(Yf(N));if(_){h=_._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(c.count++,c=Lx.bind(c),h.then(c,c)),p.state.loading|=4,p.instance=_,Os(_);return}_=h.ownerDocument||h,y=eA(y),(N=ji.get(N))&&_j(y,N),_=_.createElement("link"),Os(_);var O=_;O._p=new Promise(function(B,Q){O.onload=B,O.onerror=Q}),Gs(_,"link",y),p.instance=_}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,h),(h=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=Lx.bind(c),h.addEventListener("load",p),h.addEventListener("error",p))}}var Ej=0;function jK(c,h){return c.stylesheets&&c.count===0&&Vx(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&Vx(c,c.stylesheets),c.unsuspend){var _=c.unsuspend;c.unsuspend=null,_()}},6e4+h);0<c.imgBytes&&Ej===0&&(Ej=62500*nK());var N=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Vx(c,c.stylesheets),c.unsuspend)){var _=c.unsuspend;c.unsuspend=null,_()}},(c.imgBytes>Ej?50:800)+h);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(N)}}:null}function Lx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Vx(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var $x=null;function Vx(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,$x=new Map,h.forEach(kK,c),$x=null,Lx.call(c))}function kK(c,h){if(!(h.state.loading&4)){var p=$x.get(c);if(p)var y=p.get(null);else{p=new Map,$x.set(c,p);for(var N=c.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<N.length;_++){var O=N[_];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(p.set(O.dataset.precedence,O),y=O)}y&&p.set(null,y)}N=h.instance,O=N.getAttribute("data-precedence"),_=p.get(O)||y,_===y&&p.set(null,N),p.set(O,N),this.count++,y=Lx.bind(this),N.addEventListener("load",y),N.addEventListener("error",y),_?_.parentNode.insertBefore(N,_.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(N,c.firstChild)),h.state.loading|=4}}var Xf={$$typeof:C,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function NK(c,h,p,y,N,_,O,B,Q){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=y,this.onUncaughtError=N,this.onCaughtError=_,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function iA(c,h,p,y,N,_,O,B,Q,pe,je,Se){return c=new NK(c,h,p,O,Q,pe,je,Se,B),h=1,_===!0&&(h|=24),_=Wr(3,null,null,h),c.current=_,_.stateNode=c,h=ow(),h.refCount++,c.pooledCache=h,h.refCount++,_.memoizedState={element:y,isDehydrated:p,cache:h},dw(_),c}function aA(c){return c?(c=nd,c):nd}function oA(c,h,p,y,N,_){N=aA(N),y.context===null?y.context=N:y.pendingContext=N,y=el(h),y.payload={element:p},_=_===void 0?null:_,_!==null&&(y.callback=_),p=tl(c,y,h),p!==null&&(Or(p,c,h),zf(p,c,h))}function lA(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<h?p:h}}function Tj(c,h){lA(c,h),(c=c.alternate)&&lA(c,h)}function cA(c){if(c.tag===13||c.tag===31){var h=jc(c,67108864);h!==null&&Or(h,c,67108864),Tj(c,67108864)}}function uA(c){if(c.tag===13||c.tag===31){var h=Xr();h=ui(h);var p=jc(c,h);p!==null&&Or(p,c,h),Tj(c,h)}}var Bx=!0;function SK(c,h,p,y){var N=L.T;L.T=null;var _=P.p;try{P.p=2,zj(c,h,p,y)}finally{P.p=_,L.T=N}}function _K(c,h,p,y){var N=L.T;L.T=null;var _=P.p;try{P.p=8,zj(c,h,p,y)}finally{P.p=_,L.T=N}}function zj(c,h,p,y){if(Bx){var N=Aj(y);if(N===null)gj(c,h,y,Fx,p),hA(c,y);else if(EK(N,c,h,p,y))y.stopPropagation();else if(hA(c,y),h&4&&-1<CK.indexOf(c)){for(;N!==null;){var _=qu(N);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var O=gt(_.pendingLanes);if(O!==0){var B=_;for(B.pendingLanes|=2,B.entangledLanes|=2;O;){var Q=1<<31-on(O);B.entanglements[1]|=Q,O&=~Q}ka(_),(rn&6)===0&&(Nx=ze()+500,Zf(0))}}break;case 31:case 13:B=jc(_,2),B!==null&&Or(B,_,2),_x(),Tj(_,2)}if(_=Aj(y),_===null&&gj(c,h,y,Fx,p),_===N)break;N=_}N!==null&&y.stopPropagation()}else gj(c,h,y,null,p)}}function Aj(c){return c=R1(c),Mj(c)}var Fx=null;function Mj(c){if(Fx=null,c=Hu(c),c!==null){var h=a(c);if(h===null)c=null;else{var p=h.tag;if(p===13){if(c=o(h),c!==null)return c;c=null}else if(p===31){if(c=l(h),c!==null)return c;c=null}else if(p===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return Fx=c,null}function dA(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Me()){case _e:return 2;case Be:return 8;case ot:case Ee:return 32;case Fe:return 268435456;default:return 32}default:return 32}}var Rj=!1,hl=null,fl=null,ml=null,Qf=new Map,em=new Map,pl=[],CK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hA(c,h){switch(c){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":ml=null;break;case"pointerover":case"pointerout":Qf.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":em.delete(h.pointerId)}}function tm(c,h,p,y,N,_){return c===null||c.nativeEvent!==_?(c={blockedOn:h,domEventName:p,eventSystemFlags:y,nativeEvent:_,targetContainers:[N]},h!==null&&(h=qu(h),h!==null&&cA(h)),c):(c.eventSystemFlags|=y,h=c.targetContainers,N!==null&&h.indexOf(N)===-1&&h.push(N),c)}function EK(c,h,p,y,N){switch(h){case"focusin":return hl=tm(hl,c,h,p,y,N),!0;case"dragenter":return fl=tm(fl,c,h,p,y,N),!0;case"mouseover":return ml=tm(ml,c,h,p,y,N),!0;case"pointerover":var _=N.pointerId;return Qf.set(_,tm(Qf.get(_)||null,c,h,p,y,N)),!0;case"gotpointercapture":return _=N.pointerId,em.set(_,tm(em.get(_)||null,c,h,p,y,N)),!0}return!1}function fA(c){var h=Hu(c.target);if(h!==null){var p=a(h);if(p!==null){if(h=p.tag,h===13){if(h=o(p),h!==null){c.blockedOn=h,Wo(c.priority,function(){uA(p)});return}}else if(h===31){if(h=l(p),h!==null){c.blockedOn=h,Wo(c.priority,function(){uA(p)});return}}else if(h===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ux(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var p=Aj(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);M1=y,p.target.dispatchEvent(y),M1=null}else return h=qu(p),h!==null&&cA(h),c.blockedOn=p,!1;h.shift()}return!0}function mA(c,h,p){Ux(c)&&p.delete(h)}function TK(){Rj=!1,hl!==null&&Ux(hl)&&(hl=null),fl!==null&&Ux(fl)&&(fl=null),ml!==null&&Ux(ml)&&(ml=null),Qf.forEach(mA),em.forEach(mA)}function Hx(c,h){c.blockedOn===h&&(c.blockedOn=null,Rj||(Rj=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,TK)))}var qx=null;function pA(c){qx!==c&&(qx=c,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){qx===c&&(qx=null);for(var h=0;h<c.length;h+=3){var p=c[h],y=c[h+1],N=c[h+2];if(typeof y!="function"){if(Mj(y||p)===null)continue;break}var _=qu(p);_!==null&&(c.splice(h,3),h-=3,Aw(_,{pending:!0,data:N,method:p.method,action:y},y,N))}}))}function _d(c){function h(Q){return Hx(Q,c)}hl!==null&&Hx(hl,c),fl!==null&&Hx(fl,c),ml!==null&&Hx(ml,c),Qf.forEach(h),em.forEach(h);for(var p=0;p<pl.length;p++){var y=pl[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<pl.length&&(p=pl[0],p.blockedOn===null);)fA(p),p.blockedOn===null&&pl.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var N=p[y],_=p[y+1],O=N[Er]||null;if(typeof _=="function")O||pA(p);else if(O){var B=null;if(_&&_.hasAttribute("formAction")){if(N=_,O=_[Er]||null)B=O.formAction;else if(Mj(N)!==null)continue}else B=O.action;typeof B=="function"?p[y+1]=B:(p.splice(y,3),y-=3),pA(p)}}}function gA(){function c(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(O){return N=O})},focusReset:"manual",scroll:"manual"})}function h(){N!==null&&(N(),N=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,N=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),N!==null&&(N(),N=null)}}}function Oj(c){this._internalRoot=c}Zx.prototype.render=Oj.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(s(409));var p=h.current,y=Xr();oA(p,y,c,h,null,null)},Zx.prototype.unmount=Oj.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;oA(c.current,2,null,c,null,null),_x(),h[Uu]=null}};function Zx(c){this._internalRoot=c}Zx.prototype.unstable_scheduleHydration=function(c){if(c){var h=di();c={blockedOn:null,target:c,priority:h};for(var p=0;p<pl.length&&h!==0&&h<pl[p].priority;p++);pl.splice(p,0,c),p===0&&fA(c)}};var xA=t.version;if(xA!=="19.2.4")throw Error(s(527,xA,"19.2.4"));P.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=d(h),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var zK={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wx.isDisabled&&Wx.supportsFiber)try{mt=Wx.inject(zK),kt=Wx}catch{}}return sm.createRoot=function(c,h){if(!r(c))throw Error(s(299));var p=!1,y="",N=Nz,_=Sz,O=_z;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(N=h.onUncaughtError),h.onCaughtError!==void 0&&(_=h.onCaughtError),h.onRecoverableError!==void 0&&(O=h.onRecoverableError)),h=iA(c,1,!1,null,null,p,y,null,N,_,O,gA),c[Uu]=h.current,pj(c),new Oj(h)},sm.hydrateRoot=function(c,h,p){if(!r(c))throw Error(s(299));var y=!1,N="",_=Nz,O=Sz,B=_z,Q=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(N=p.identifierPrefix),p.onUncaughtError!==void 0&&(_=p.onUncaughtError),p.onCaughtError!==void 0&&(O=p.onCaughtError),p.onRecoverableError!==void 0&&(B=p.onRecoverableError),p.formState!==void 0&&(Q=p.formState)),h=iA(c,1,!0,h,p??null,y,N,Q,_,O,B,gA),h.context=aA(null),p=h.current,y=Xr(),y=ui(y),N=el(y),N.callback=null,tl(p,N,y),p=y,h.current.lanes=p,Vt(h,p),ka(h),c[Uu]=h.current,pj(c),new Zx(h)},sm.version="19.2.4",sm}var CA;function VK(){if(CA)return Ij.exports;CA=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ij.exports=$K(),Ij.exports}var BK=VK();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var EA="popstate";function FK(e={}){function t(s,r){let{pathname:a,search:o,hash:l}=s.location;return RN("",{pathname:a,search:o,hash:l},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(s,r){return typeof r=="string"?r:ap(r)}return HK(t,n,null,e)}function Ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function UK(){return Math.random().toString(36).substring(2,10)}function TA(e,t){return{usr:e.state,key:e.key,idx:t}}function RN(e,t,n=null,s){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Fh(t):t,state:n,key:t&&t.key||s||UK()}}function ap({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Fh(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substring(s),e=e.substring(0,s)),e&&(t.pathname=e)}return t}function HK(e,t,n,s={}){let{window:r=document.defaultView,v5Compat:a=!1}=s,o=r.history,l="POP",u=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let j=f(),k=j==null?null:j-d;d=j,u&&u({action:l,location:w.location,delta:k})}function g(j,k){l="PUSH";let S=RN(w.location,j,k);d=f()+1;let C=TA(S,d),E=w.createHref(S);try{o.pushState(C,"",E)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;r.location.assign(E)}a&&u&&u({action:l,location:w.location,delta:1})}function x(j,k){l="REPLACE";let S=RN(w.location,j,k);d=f();let C=TA(S,d),E=w.createHref(S);o.replaceState(C,"",E),a&&u&&u({action:l,location:w.location,delta:0})}function b(j){return qK(j)}let w={get action(){return l},get location(){return e(r,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(EA,m),u=j,()=>{r.removeEventListener(EA,m),u=null}},createHref(j){return t(r,j)},createURL:b,encodeLocation(j){let k=b(j);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:x,go(j){return o.go(j)}};return w}function qK(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Ln(n,"No window.location.(origin|href) available to create URL");let s=typeof e=="string"?e:ap(e);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function rI(e,t,n="/"){return ZK(e,t,n,!1)}function ZK(e,t,n,s){let r=typeof t=="string"?Fh(t):t,a=Io(r.pathname||"/",n);if(a==null)return null;let o=iI(e);WK(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let d=rG(a);l=nG(o[u],d,s)}return l}function iI(e,t=[],n=[],s="",r=!1){let a=(o,l,u=r,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(s)&&u)return;Ln(f.relativePath.startsWith(s),`Absolute route path "${f.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(s.length)}let m=zo([s,f.relativePath]),g=n.concat(f);o.children&&o.children.length>0&&(Ln(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),iI(o.children,t,g,m,u)),!(o.path==null&&!o.index)&&t.push({path:m,score:eG(m,o.index),routesMeta:g})};return e.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,l);else for(let d of aI(o.path))a(o,l,!0,d)}),t}function aI(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,r=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return r?[a,""]:[a];let o=aI(s.join("/")),l=[];return l.push(...o.map(u=>u===""?a:[a,u].join("/"))),r&&l.push(...o),l.map(u=>e.startsWith("/")&&u===""?"/":u)}function WK(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:tG(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var KK=/^:[\w-]+$/,GK=3,YK=2,JK=1,XK=10,QK=-2,zA=e=>e==="*";function eG(e,t){let n=e.split("/"),s=n.length;return n.some(zA)&&(s+=QK),t&&(s+=YK),n.filter(r=>!zA(r)).reduce((r,a)=>r+(KK.test(a)?GK:a===""?JK:XK),s)}function tG(e,t){return e.length===t.length&&e.slice(0,-1).every((s,r)=>s===t[r])?e[e.length-1]-t[t.length-1]:0}function nG(e,t,n=!1){let{routesMeta:s}=e,r={},a="/",o=[];for(let l=0;l<s.length;++l){let u=s[l],d=l===s.length-1,f=a==="/"?t:t.slice(a.length)||"/",m=mv({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},f),g=u.route;if(!m&&d&&n&&!s[s.length-1].route.index&&(m=mv({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(r,m.params),o.push({params:r,pathname:zo([a,m.pathname]),pathnameBase:lG(zo([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=zo([a,m.pathnameBase]))}return o}function mv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=sG(e.path,e.caseSensitive,e.end),r=t.match(n);if(!r)return null;let a=r[0],o=a.replace(/(.)\/+$/,"$1"),l=r.slice(1);return{params:s.reduce((d,{paramName:f,isOptional:m},g)=>{if(f==="*"){let b=l[g]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=l[g];return m&&!x?d[f]=void 0:d[f]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:o,pattern:e}}function sG(e,t=!1,n=!0){Pi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let s=[],r="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(s.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(s.push({paramName:"*"}),r+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":e!==""&&e!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,t?void 0:"i"),s]}function rG(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pi(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Io(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}var iG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function aG(e,t="/"){let{pathname:n,search:s="",hash:r=""}=typeof e=="string"?Fh(e):e,a;return n?(n=n.replace(/\/\/+/g,"/"),n.startsWith("/")?a=AA(n.substring(1),"/"):a=AA(n,t)):a=t,{pathname:a,search:cG(s),hash:uG(r)}}function AA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function Bj(e,t,n,s){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oG(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function KS(e){let t=oG(e);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function GS(e,t,n,s=!1){let r;typeof e=="string"?r=Fh(e):(r={...e},Ln(!r.pathname||!r.pathname.includes("?"),Bj("?","pathname","search",r)),Ln(!r.pathname||!r.pathname.includes("#"),Bj("#","pathname","hash",r)),Ln(!r.search||!r.search.includes("#"),Bj("#","search","hash",r)));let a=e===""||r.pathname==="",o=a?"/":r.pathname,l;if(o==null)l=n;else{let m=t.length-1;if(!s&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;r.pathname=g.join("/")}l=m>=0?t[m]:"/"}let u=aG(r,l),d=o&&o!=="/"&&o.endsWith("/"),f=(a||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||f)&&(u.pathname+="/"),u}var zo=e=>e.join("/").replace(/\/\/+/g,"/"),lG=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),cG=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,uG=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,dG=class{constructor(e,t,n,s=!1){this.status=e,this.statusText=t||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function hG(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function fG(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var oI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function lI(e,t){let n=e;if(typeof n!="string"||!iG.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,r=!1;if(oI)try{let a=new URL(window.location.href),o=n.startsWith("//")?new URL(a.protocol+n):new URL(n),l=Io(o.pathname,t);o.origin===a.origin&&l!=null?n=l+o.search+o.hash:r=!0}catch{Pi(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:r,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cI=["POST","PUT","PATCH","DELETE"];new Set(cI);var mG=["GET",...cI];new Set(mG);var Uh=v.createContext(null);Uh.displayName="DataRouter";var tb=v.createContext(null);tb.displayName="DataRouterState";var pG=v.createContext(!1),uI=v.createContext({isTransitioning:!1});uI.displayName="ViewTransition";var gG=v.createContext(new Map);gG.displayName="Fetchers";var xG=v.createContext(null);xG.displayName="Await";var ci=v.createContext(null);ci.displayName="Navigation";var Yp=v.createContext(null);Yp.displayName="Location";var $i=v.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var YS=v.createContext(null);YS.displayName="RouteError";var dI="REACT_ROUTER_ERROR",vG="REDIRECT",yG="ROUTE_ERROR_RESPONSE";function bG(e){if(e.startsWith(`${dI}:${vG}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function wG(e){if(e.startsWith(`${dI}:${yG}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new dG(t.status,t.statusText,t.data)}catch{}}function jG(e,{relative:t}={}){Ln(Hh(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=v.useContext(ci),{hash:r,pathname:a,search:o}=Jp(e,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:zo([n,a])),s.createHref({pathname:l,search:o,hash:r})}function Hh(){return v.useContext(Yp)!=null}function ns(){return Ln(Hh(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Yp).location}var hI="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function fI(e){v.useContext(ci).static||v.useLayoutEffect(e)}function Yt(){let{isDataRoute:e}=v.useContext($i);return e?IG():kG()}function kG(){Ln(Hh(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Uh),{basename:t,navigator:n}=v.useContext(ci),{matches:s}=v.useContext($i),{pathname:r}=ns(),a=JSON.stringify(KS(s)),o=v.useRef(!1);return fI(()=>{o.current=!0}),v.useCallback((u,d={})=>{if(Pi(o.current,hI),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=GS(u,JSON.parse(a),r,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:zo([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,a,r,e])}var NG=v.createContext(null);function SG(e){let t=v.useContext($i).outlet;return v.useMemo(()=>t&&v.createElement(NG.Provider,{value:e},t),[t,e])}function ic(){let{matches:e}=v.useContext($i),t=e[e.length-1];return t?t.params:{}}function Jp(e,{relative:t}={}){let{matches:n}=v.useContext($i),{pathname:s}=ns(),r=JSON.stringify(KS(n));return v.useMemo(()=>GS(e,JSON.parse(r),s,t==="path"),[e,r,s,t])}function _G(e,t){return mI(e,t)}function mI(e,t,n,s,r){var S;Ln(Hh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=v.useContext(ci),{matches:o}=v.useContext($i),l=o[o.length-1],u=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let C=m&&m.path||"";gI(d,!m||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let g=ns(),x;if(t){let C=typeof t=="string"?Fh(t):t;Ln(f==="/"||((S=C.pathname)==null?void 0:S.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${C.pathname}" was given in the \`location\` prop.`),x=C}else x=g;let b=x.pathname||"/",w=b;if(f!=="/"){let C=f.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(C.length).join("/")}let j=rI(e,{pathname:w});Pi(m||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Pi(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=AG(j&&j.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:zo([f,a.encodeLocation?a.encodeLocation(C.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?f:zo([f,a.encodeLocation?a.encodeLocation(C.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:C.pathnameBase])})),o,n,s,r);return t&&k?v.createElement(Yp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},k):k}function CG(){let e=PG(),t=hG(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:s},a={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:a},"ErrorBoundary")," or"," ",v.createElement("code",{style:a},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:r},n):null,o)}var EG=v.createElement(CG,null),pI=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const n=wG(e.digest);n&&(e=n)}let t=e!==void 0?v.createElement($i.Provider,{value:this.props.routeContext},v.createElement(YS.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?v.createElement(TG,{error:e},t):t}};pI.contextType=pG;var Fj=new WeakMap;function TG({children:e,error:t}){let{basename:n}=v.useContext(ci);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let s=bG(t.digest);if(s){let r=Fj.get(t);if(r)throw r;let a=lI(s.location,n);if(oI&&!Fj.get(t))if(a.isExternal||s.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:s.replace}));throw Fj.set(t,o),o}return v.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return e}function zG({routeContext:e,match:t,children:n}){let s=v.useContext(Uh);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement($i.Provider,{value:e},n)}function AG(e,t=[],n=null,s=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n==null?void 0:n.errors;if(o!=null){let f=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);Ln(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let l=!1,u=-1;if(n)for(let f=0;f<a.length;f++){let m=a[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:g,errors:x}=n,b=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}let d=n&&s?(f,m)=>{var g,x;s(f,{location:n.location,params:((x=(g=n.matches)==null?void 0:g[0])==null?void 0:x.params)??{},unstable_pattern:fG(n.matches),errorInfo:m})}:void 0;return a.reduceRight((f,m,g)=>{let x,b=!1,w=null,j=null;n&&(x=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||EG,l&&(u<0&&g===0?(gI("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):u===g&&(b=!0,j=m.route.hydrateFallbackElement||null)));let k=t.concat(a.slice(0,g+1)),S=()=>{let C;return x?C=w:b?C=j:m.route.Component?C=v.createElement(m.route.Component,null):m.route.element?C=m.route.element:C=f,v.createElement(zG,{match:m,routeContext:{outlet:f,matches:k,isDataRoute:n!=null},children:C})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?v.createElement(pI,{location:n.location,revalidation:n.revalidation,component:w,error:x,children:S(),routeContext:{outlet:null,matches:k,isDataRoute:!0},onError:d}):S()},null)}function JS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function MG(e){let t=v.useContext(Uh);return Ln(t,JS(e)),t}function RG(e){let t=v.useContext(tb);return Ln(t,JS(e)),t}function OG(e){let t=v.useContext($i);return Ln(t,JS(e)),t}function XS(e){let t=OG(e),n=t.matches[t.matches.length-1];return Ln(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function DG(){return XS("useRouteId")}function PG(){var s;let e=v.useContext(YS),t=RG("useRouteError"),n=XS("useRouteError");return e!==void 0?e:(s=t.errors)==null?void 0:s[n]}function IG(){let{router:e}=MG("useNavigate"),t=XS("useNavigate"),n=v.useRef(!1);return fI(()=>{n.current=!0}),v.useCallback(async(r,a={})=>{Pi(n.current,hI),n.current&&(typeof r=="number"?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...a}))},[e,t])}var MA={};function gI(e,t,n){!t&&!MA[e]&&(MA[e]=!0,Pi(!1,n))}v.memo(LG);function LG({routes:e,future:t,state:n,onError:s}){return mI(e,void 0,n,s,t)}function Ba({to:e,replace:t,state:n,relative:s}){Ln(Hh(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=v.useContext(ci);Pi(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=v.useContext($i),{pathname:o}=ns(),l=Yt(),u=GS(e,KS(a),o,s==="path"),d=JSON.stringify(u);return v.useEffect(()=>{l(JSON.parse(d),{replace:t,state:n,relative:s})},[l,d,s,t,n]),null}function QS(e){return SG(e.context)}function Nt(e){Ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function $G({basename:e="/",children:t=null,location:n,navigationType:s="POP",navigator:r,static:a=!1,unstable_useTransitions:o}){Ln(!Hh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),u=v.useMemo(()=>({basename:l,navigator:r,static:a,unstable_useTransitions:o,future:{}}),[l,r,a,o]);typeof n=="string"&&(n=Fh(n));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:x="default"}=n,b=v.useMemo(()=>{let w=Io(d,l);return w==null?null:{location:{pathname:w,search:f,hash:m,state:g,key:x},navigationType:s}},[l,d,f,m,g,x,s]);return Pi(b!=null,`<Router basename="${l}"> is not able to match the URL "${d}${f}${m}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:v.createElement(ci.Provider,{value:u},v.createElement(Yp.Provider,{children:t,value:b}))}function VG({children:e,location:t}){return _G(ON(e),t)}function ON(e,t=[]){let n=[];return v.Children.forEach(e,(s,r)=>{if(!v.isValidElement(s))return;let a=[...t,r];if(s.type===v.Fragment){n.push.apply(n,ON(s.props.children,a));return}Ln(s.type===Nt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ln(!s.props.index||!s.props.children,"An index route cannot have child routes.");let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=ON(s.props.children,a)),n.push(o)}),n}var W0="get",K0="application/x-www-form-urlencoded";function nb(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function BG(e){return nb(e)&&e.tagName.toLowerCase()==="button"}function FG(e){return nb(e)&&e.tagName.toLowerCase()==="form"}function UG(e){return nb(e)&&e.tagName.toLowerCase()==="input"}function HG(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qG(e,t){return e.button===0&&(!t||t==="_self")&&!HG(e)}function DN(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let s=e[n];return t.concat(Array.isArray(s)?s.map(r=>[n,r]):[[n,s]])},[]))}function ZG(e,t){let n=DN(e);return t&&t.forEach((s,r)=>{n.has(r)||t.getAll(r).forEach(a=>{n.append(r,a)})}),n}var Kx=null;function WG(){if(Kx===null)try{new FormData(document.createElement("form"),0),Kx=!1}catch{Kx=!0}return Kx}var KG=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uj(e){return e!=null&&!KG.has(e)?(Pi(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${K0}"`),null):e}function GG(e,t){let n,s,r,a,o;if(FG(e)){let l=e.getAttribute("action");s=l?Io(l,t):null,n=e.getAttribute("method")||W0,r=Uj(e.getAttribute("enctype"))||K0,a=new FormData(e)}else if(BG(e)||UG(e)&&(e.type==="submit"||e.type==="image")){let l=e.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=e.getAttribute("formaction")||l.getAttribute("action");if(s=u?Io(u,t):null,n=e.getAttribute("formmethod")||l.getAttribute("method")||W0,r=Uj(e.getAttribute("formenctype"))||Uj(l.getAttribute("enctype"))||K0,a=new FormData(l,e),!WG()){let{name:d,type:f,value:m}=e;if(f==="image"){let g=d?`${d}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else d&&a.append(d,m)}}else{if(nb(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=W0,s=null,r=K0,o=e}return a&&r==="text/plain"&&(o=a,a=void 0),{action:s,method:n.toLowerCase(),encType:r,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function e_(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function YG(e,t,n,s){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${s}`:r.pathname=`${r.pathname}.${s}`:r.pathname==="/"?r.pathname=`_root.${s}`:t&&Io(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${s}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${s}`,r}async function JG(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function XG(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function QG(e,t,n){let s=await Promise.all(e.map(async r=>{let a=t.routes[r.route.id];if(a){let o=await JG(a,n);return o.links?o.links():[]}return[]}));return sY(s.flat(1).filter(XG).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function RA(e,t,n,s,r,a){let o=(u,d)=>n[d]?u.route.id!==n[d].route.id:!0,l=(u,d)=>{var f;return n[d].pathname!==u.pathname||((f=n[d].route.path)==null?void 0:f.endsWith("*"))&&n[d].params["*"]!==u.params["*"]};return a==="assets"?t.filter((u,d)=>o(u,d)||l(u,d)):a==="data"?t.filter((u,d)=>{var m;let f=s.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(o(u,d)||l(u,d))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(e,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function eY(e,t,{includeHydrateFallback:n}={}){return tY(e.map(s=>{let r=t.routes[s.route.id];if(!r)return[];let a=[r.module];return r.clientActionModule&&(a=a.concat(r.clientActionModule)),r.clientLoaderModule&&(a=a.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(a=a.concat(r.hydrateFallbackModule)),r.imports&&(a=a.concat(r.imports)),a}).flat(1))}function tY(e){return[...new Set(e)]}function nY(e){let t={},n=Object.keys(e).sort();for(let s of n)t[s]=e[s];return t}function sY(e,t){let n=new Set;return new Set(t),e.reduce((s,r)=>{let a=JSON.stringify(nY(r));return n.has(a)||(n.add(a),s.push({key:a,link:r})),s},[])}function xI(){let e=v.useContext(Uh);return e_(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function rY(){let e=v.useContext(tb);return e_(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var t_=v.createContext(void 0);t_.displayName="FrameworkContext";function vI(){let e=v.useContext(t_);return e_(e,"You must render this element inside a <HydratedRouter> element"),e}function iY(e,t){let n=v.useContext(t_),[s,r]=v.useState(!1),[a,o]=v.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=t,g=v.useRef(null);v.useEffect(()=>{if(e==="render"&&o(!0),e==="viewport"){let w=k=>{k.forEach(S=>{o(S.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[e]),v.useEffect(()=>{if(s){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[s]);let x=()=>{r(!0)},b=()=>{r(!1),o(!1)};return n?e!=="intent"?[a,g,{}]:[a,g,{onFocus:rm(l,x),onBlur:rm(u,b),onMouseEnter:rm(d,x),onMouseLeave:rm(f,b),onTouchStart:rm(m,x)}]:[!1,g,{}]}function rm(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function aY({page:e,...t}){let{router:n}=xI(),s=v.useMemo(()=>rI(n.routes,e,n.basename),[n.routes,e,n.basename]);return s?v.createElement(lY,{page:e,matches:s,...t}):null}function oY(e){let{manifest:t,routeModules:n}=vI(),[s,r]=v.useState([]);return v.useEffect(()=>{let a=!1;return QG(e,t,n).then(o=>{a||r(o)}),()=>{a=!0}},[e,t,n]),s}function lY({page:e,matches:t,...n}){let s=ns(),{future:r,manifest:a,routeModules:o}=vI(),{basename:l}=xI(),{loaderData:u,matches:d}=rY(),f=v.useMemo(()=>RA(e,t,d,a,s,"data"),[e,t,d,a,s]),m=v.useMemo(()=>RA(e,t,d,a,s,"assets"),[e,t,d,a,s]),g=v.useMemo(()=>{if(e===s.pathname+s.search+s.hash)return[];let w=new Set,j=!1;if(t.forEach(S=>{var E;let C=a.routes[S.route.id];!C||!C.hasLoader||(!f.some(z=>z.route.id===S.route.id)&&S.route.id in u&&((E=o[S.route.id])!=null&&E.shouldRevalidate)||C.hasClientLoader?j=!0:w.add(S.route.id))}),w.size===0)return[];let k=YG(e,l,r.unstable_trailingSlashAwareDataRequests,"data");return j&&w.size>0&&k.searchParams.set("_routes",t.filter(S=>w.has(S.route.id)).map(S=>S.route.id).join(",")),[k.pathname+k.search]},[l,r.unstable_trailingSlashAwareDataRequests,u,s,a,f,t,e,o]),x=v.useMemo(()=>eY(m,a),[m,a]),b=oY(m);return v.createElement(v.Fragment,null,g.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),x.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),b.map(({key:w,link:j})=>v.createElement("link",{key:w,nonce:n.nonce,...j,crossOrigin:j.crossOrigin??n.crossOrigin})))}function cY(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var uY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uY&&(window.__reactRouterVersion="7.13.0")}catch{}function dY({basename:e,children:t,unstable_useTransitions:n,window:s}){let r=v.useRef();r.current==null&&(r.current=FK({window:s,v5Compat:!0}));let a=r.current,[o,l]=v.useState({action:a.action,location:a.location}),u=v.useCallback(d=>{n===!1?l(d):v.startTransition(()=>l(d))},[n]);return v.useLayoutEffect(()=>a.listen(u),[a,u]),v.createElement($G,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}var yI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=v.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:r,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},b){let{basename:w,unstable_useTransitions:j}=v.useContext(ci),k=typeof d=="string"&&yI.test(d),S=lI(d,w);d=S.to;let C=jG(d,{relative:r}),[E,z,R]=iY(s,x),T=pY(d,{replace:o,state:l,target:u,preventScrollReset:f,relative:r,viewTransition:m,unstable_defaultShouldRevalidate:g,unstable_useTransitions:j});function A(F){t&&t(F),F.defaultPrevented||T(F)}let D=v.createElement("a",{...x,...R,href:S.absoluteURL||C,onClick:S.isExternal||a?t:A,ref:cY(b,z),target:u,"data-discover":!k&&n==="render"?"true":void 0});return E&&!k?v.createElement(v.Fragment,null,D,v.createElement(aY,{page:C})):D});Ue.displayName="Link";var hY=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:r=!1,style:a,to:o,viewTransition:l,children:u,...d},f){let m=Jp(o,{relative:d.relative}),g=ns(),x=v.useContext(tb),{navigator:b,basename:w}=v.useContext(ci),j=x!=null&&bY(m)&&l===!0,k=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,S=g.pathname,C=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(S=S.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&w&&(C=Io(C,w)||C);const E=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let z=S===k||!r&&S.startsWith(k)&&S.charAt(E)==="/",R=C!=null&&(C===k||!r&&C.startsWith(k)&&C.charAt(k.length)==="/"),T={isActive:z,isPending:R,isTransitioning:j},A=z?t:void 0,D;typeof s=="function"?D=s(T):D=[s,z?"active":null,R?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(T):a;return v.createElement(Ue,{...d,"aria-current":A,className:D,ref:f,style:F,to:o,viewTransition:l},typeof u=="function"?u(T):u)});hY.displayName="NavLink";var fY=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:r,state:a,method:o=W0,action:l,onSubmit:u,relative:d,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g,...x},b)=>{let{unstable_useTransitions:w}=v.useContext(ci),j=vY(),k=yY(l,{relative:d}),S=o.toLowerCase()==="get"?"get":"post",C=typeof l=="string"&&yI.test(l),E=z=>{if(u&&u(z),z.defaultPrevented)return;z.preventDefault();let R=z.nativeEvent.submitter,T=(R==null?void 0:R.getAttribute("formmethod"))||o,A=()=>j(R||z.currentTarget,{fetcherKey:t,method:T,navigate:n,replace:r,state:a,relative:d,preventScrollReset:f,viewTransition:m,unstable_defaultShouldRevalidate:g});w&&n!==!1?v.startTransition(()=>A()):A()};return v.createElement("form",{ref:b,method:S,action:k,onSubmit:s?u:E,...x,"data-discover":!C&&e==="render"?"true":void 0})});fY.displayName="Form";function mY(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bI(e){let t=v.useContext(Uh);return Ln(t,mY(e)),t}function pY(e,{target:t,replace:n,state:s,preventScrollReset:r,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:l,unstable_useTransitions:u}={}){let d=Yt(),f=ns(),m=Jp(e,{relative:a});return v.useCallback(g=>{if(qG(g,t)){g.preventDefault();let x=n!==void 0?n:ap(f)===ap(m),b=()=>d(e,{replace:x,state:s,preventScrollReset:r,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:l});u?v.startTransition(()=>b()):b()}},[f,d,m,n,s,t,e,r,a,o,l,u])}function wI(e){Pi(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=v.useRef(DN(e)),n=v.useRef(!1),s=ns(),r=v.useMemo(()=>ZG(s.search,n.current?null:t.current),[s.search]),a=Yt(),o=v.useCallback((l,u)=>{const d=DN(typeof l=="function"?l(new URLSearchParams(r)):l);n.current=!0,a("?"+d,u)},[a,r]);return[r,o]}var gY=0,xY=()=>`__${String(++gY)}__`;function vY(){let{router:e}=bI("useSubmit"),{basename:t}=v.useContext(ci),n=DG(),s=e.fetch,r=e.navigate;return v.useCallback(async(a,o={})=>{let{action:l,method:u,encType:d,formData:f,body:m}=GG(a,t);if(o.navigate===!1){let g=o.fetcherKey||xY();await s(g,n,o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,flushSync:o.flushSync})}else await r(o.action||l,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:f,body:m,formMethod:o.method||u,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[s,r,t,n])}function yY(e,{relative:t}={}){let{basename:n}=v.useContext(ci),s=v.useContext($i);Ln(s,"useFormAction must be used inside a RouteContext");let[r]=s.matches.slice(-1),a={...Jp(e||".",{relative:t})},o=ns();if(e==null){a.search=o.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();a.search=f?`?${f}`:""}}return(!e||e===".")&&r.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:zo([n,a.pathname])),ap(a)}function bY(e,{relative:t}={}){let n=v.useContext(uI);Ln(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=bI("useViewTransitionState"),r=Jp(e,{relative:t});if(!n.isTransitioning)return!1;let a=Io(n.currentLocation.pathname,s)||n.currentLocation.pathname,o=Io(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mv(r.pathname,o)!=null||mv(r.pathname,a)!=null}var sa=sI();const sb=ZS(sa);var wY=(e,t,n,s,r,a,o,l)=>{let u=document.documentElement,d=["light","dark"];function f(x){(Array.isArray(e)?e:[e]).forEach(b=>{let w=b==="class",j=w&&a?r.map(k=>a[k]||k):r;w?(u.classList.remove(...j),u.classList.add(a&&a[x]?a[x]:x)):u.setAttribute(b,x)}),m(x)}function m(x){l&&d.includes(x)&&(u.style.colorScheme=x)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(s)f(s);else try{let x=localStorage.getItem(t)||n,b=o&&x==="system"?g():x;f(b)}catch{}},OA=["light","dark"],jI="(prefers-color-scheme: dark)",jY=typeof window>"u",n_=v.createContext(void 0),kY={setTheme:e=>{},themes:[]},NY=()=>{var e;return(e=v.useContext(n_))!=null?e:kY},SY=e=>v.useContext(n_)?v.createElement(v.Fragment,null,e.children):v.createElement(CY,{...e}),_Y=["light","dark"],CY=({forcedTheme:e,disableTransitionOnChange:t=!1,enableSystem:n=!0,enableColorScheme:s=!0,storageKey:r="theme",themes:a=_Y,defaultTheme:o=n?"system":"light",attribute:l="data-theme",value:u,children:d,nonce:f,scriptProps:m})=>{let[g,x]=v.useState(()=>TY(r,o)),[b,w]=v.useState(()=>g==="system"?Hj():g),j=u?Object.values(u):a,k=v.useCallback(z=>{let R=z;if(!R)return;z==="system"&&n&&(R=Hj());let T=u?u[R]:R,A=t?zY(f):null,D=document.documentElement,F=V=>{V==="class"?(D.classList.remove(...j),T&&D.classList.add(T)):V.startsWith("data-")&&(T?D.setAttribute(V,T):D.removeAttribute(V))};if(Array.isArray(l)?l.forEach(F):F(l),s){let V=OA.includes(o)?o:null,$=OA.includes(R)?R:V;D.style.colorScheme=$}A==null||A()},[f]),S=v.useCallback(z=>{let R=typeof z=="function"?z(g):z;x(R);try{localStorage.setItem(r,R)}catch{}},[g]),C=v.useCallback(z=>{let R=Hj(z);w(R),g==="system"&&n&&!e&&k("system")},[g,e]);v.useEffect(()=>{let z=window.matchMedia(jI);return z.addListener(C),C(z),()=>z.removeListener(C)},[C]),v.useEffect(()=>{let z=R=>{R.key===r&&(R.newValue?x(R.newValue):S(o))};return window.addEventListener("storage",z),()=>window.removeEventListener("storage",z)},[S]),v.useEffect(()=>{k(e??g)},[e,g]);let E=v.useMemo(()=>({theme:g,setTheme:S,forcedTheme:e,resolvedTheme:g==="system"?b:g,themes:n?[...a,"system"]:a,systemTheme:n?b:void 0}),[g,S,e,b,n,a]);return v.createElement(n_.Provider,{value:E},v.createElement(EY,{forcedTheme:e,storageKey:r,attribute:l,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:u,themes:a,nonce:f,scriptProps:m}),d)},EY=v.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:s,enableColorScheme:r,defaultTheme:a,value:o,themes:l,nonce:u,scriptProps:d})=>{let f=JSON.stringify([n,t,a,e,l,o,s,r]).slice(1,-1);return v.createElement("script",{...d,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${wY.toString()})(${f})`}})}),TY=(e,t)=>{if(jY)return;let n;try{n=localStorage.getItem(e)||void 0}catch{}return n||t},zY=e=>{let t=document.createElement("style");return e&&t.setAttribute("nonce",e),t.appendChild(document.createTextNode("*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(t),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(t)},1)}},Hj=e=>(e||(e=window.matchMedia(jI)),e.matches?"dark":"light");function AY(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const MY=e=>{switch(e){case"success":return DY;case"info":return IY;case"warning":return PY;case"error":return LY;default:return null}},RY=Array(12).fill(0),OY=({visible:e,className:t})=>Z.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Z.createElement("div",{className:"sonner-spinner"},RY.map((n,s)=>Z.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${s}`})))),DY=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),PY=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),IY=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),LY=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Z.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),$Y=Z.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Z.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Z.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),VY=()=>{const[e,t]=Z.useState(document.hidden);return Z.useEffect(()=>{const n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e};let PN=1;class BY{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:s,...r}=t,a=typeof(t==null?void 0:t.id)=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:PN++,o=this.toasts.find(u=>u.id===a),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(u=>u.id===a?(this.publish({...u,...t,id:a,title:s}),{...u,...t,id:a,dismissible:l,title:s}):u):this.addToast({title:s,...r,dismissible:l,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(s=>s({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let s;n.loading!==void 0&&(s=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const r=Promise.resolve(t instanceof Function?t():t);let a=s!==void 0,o;const l=r.then(async d=>{if(o=["resolve",d],Z.isValidElement(d))a=!1,this.create({id:s,type:"default",message:d});else if(UY(d)&&!d.ok){a=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${d.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${d.status}`):n.description,b=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:g,...b})}else if(d instanceof Error){a=!1;const m=typeof n.error=="function"?await n.error(d):n.error,g=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:s,type:"error",description:g,...b})}else if(n.success!==void 0){a=!1;const m=typeof n.success=="function"?await n.success(d):n.success,g=typeof n.description=="function"?await n.description(d):n.description,b=typeof m=="object"&&!Z.isValidElement(m)?m:{message:m};this.create({id:s,type:"success",description:g,...b})}}).catch(async d=>{if(o=["reject",d],n.error!==void 0){a=!1;const f=typeof n.error=="function"?await n.error(d):n.error,m=typeof n.description=="function"?await n.description(d):n.description,x=typeof f=="object"&&!Z.isValidElement(f)?f:{message:f};this.create({id:s,type:"error",description:m,...x})}}).finally(()=>{a&&(this.dismiss(s),s=void 0),n.finally==null||n.finally.call(n)}),u=()=>new Promise((d,f)=>l.then(()=>o[0]==="reject"?f(o[1]):d(o[1])).catch(f));return typeof s!="string"&&typeof s!="number"?{unwrap:u}:Object.assign(s,{unwrap:u})},this.custom=(t,n)=>{const s=(n==null?void 0:n.id)||PN++;return this.create({jsx:t(s),id:s,...n}),s},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Dr=new BY,FY=(e,t)=>{const n=(t==null?void 0:t.id)||PN++;return Dr.addToast({title:e,...t,id:n}),n},UY=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",HY=FY,qY=()=>Dr.toasts,ZY=()=>Dr.getActiveToasts(),Te=Object.assign(HY,{success:Dr.success,info:Dr.info,warning:Dr.warning,error:Dr.error,custom:Dr.custom,message:Dr.message,promise:Dr.promise,dismiss:Dr.dismiss,loading:Dr.loading},{getHistory:qY,getToasts:ZY});AY("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Gx(e){return e.label!==void 0}const WY=3,KY="24px",GY="16px",DA=4e3,YY=356,JY=14,XY=45,QY=200;function Na(...e){return e.filter(Boolean).join(" ")}function eJ(e){const[t,n]=e.split("-"),s=[];return t&&s.push(t),n&&s.push(n),s}const tJ=e=>{var t,n,s,r,a,o,l,u,d;const{invert:f,toast:m,unstyled:g,interacting:x,setHeights:b,visibleToasts:w,heights:j,index:k,toasts:S,expanded:C,removeToast:E,defaultRichColors:z,closeButton:R,style:T,cancelButtonStyle:A,actionButtonStyle:D,className:F="",descriptionClassName:V="",duration:$,position:q,gap:K,expandByDefault:ee,classNames:L,icons:P,closeButtonAriaLabel:I="Close toast"}=e,[G,U]=Z.useState(null),[M,H]=Z.useState(null),[W,te]=Z.useState(!1),[le,ce]=Z.useState(!1),[Y,oe]=Z.useState(!1),[he,be]=Z.useState(!1),[we,xe]=Z.useState(!1),[Ae,re]=Z.useState(0),[Ce,Ze]=Z.useState(0),it=Z.useRef(m.duration||$||DA),jt=Z.useRef(null),We=Z.useRef(null),ct=k===0,J=k+1<=w,ae=m.type,fe=m.dismissible!==!1,ze=m.className||"",Me=m.descriptionClassName||"",_e=Z.useMemo(()=>j.findIndex(qe=>qe.toastId===m.id)||0,[j,m.id]),Be=Z.useMemo(()=>{var qe;return(qe=m.closeButton)!=null?qe:R},[m.closeButton,R]),ot=Z.useMemo(()=>m.duration||$||DA,[m.duration,$]),Ee=Z.useRef(0),Fe=Z.useRef(0),tt=Z.useRef(0),Ge=Z.useRef(null),[mt,kt]=q.split("-"),Mt=Z.useMemo(()=>j.reduce((qe,xt,zt)=>zt>=_e?qe:qe+xt.height,0),[j,_e]),on=VY(),pr=m.invert||f,Wn=ae==="loading";Fe.current=Z.useMemo(()=>_e*K+Mt,[_e,Mt]),Z.useEffect(()=>{it.current=ot},[ot]),Z.useEffect(()=>{te(!0)},[]),Z.useEffect(()=>{const qe=We.current;if(qe){const xt=qe.getBoundingClientRect().height;return Ze(xt),b(zt=>[{toastId:m.id,height:xt,position:m.position},...zt]),()=>b(zt=>zt.filter(Et=>Et.toastId!==m.id))}},[b,m.id]),Z.useLayoutEffect(()=>{if(!W)return;const qe=We.current,xt=qe.style.height;qe.style.height="auto";const zt=qe.getBoundingClientRect().height;qe.style.height=xt,Ze(zt),b(Et=>Et.find(Vt=>Vt.toastId===m.id)?Et.map(Vt=>Vt.toastId===m.id?{...Vt,height:zt}:Vt):[{toastId:m.id,height:zt,position:m.position},...Et])},[W,m.title,m.description,b,m.id,m.jsx,m.action,m.cancel]);const Ye=Z.useCallback(()=>{ce(!0),re(Fe.current),b(qe=>qe.filter(xt=>xt.toastId!==m.id)),setTimeout(()=>{E(m)},QY)},[m,E,b,Fe]);Z.useEffect(()=>{if(m.promise&&ae==="loading"||m.duration===1/0||m.type==="loading")return;let qe;return C||x||on?(()=>{if(tt.current<Ee.current){const Et=new Date().getTime()-Ee.current;it.current=it.current-Et}tt.current=new Date().getTime()})():(()=>{it.current!==1/0&&(Ee.current=new Date().getTime(),qe=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),Ye()},it.current))})(),()=>clearTimeout(qe)},[C,x,m,ae,on,Ye]),Z.useEffect(()=>{m.delete&&(Ye(),m.onDismiss==null||m.onDismiss.call(m,m))},[Ye,m.delete]);function Ct(){var qe;if(P!=null&&P.loading){var xt;return Z.createElement("div",{className:Na(L==null?void 0:L.loader,m==null||(xt=m.classNames)==null?void 0:xt.loader,"sonner-loader"),"data-visible":ae==="loading"},P.loading)}return Z.createElement(OY,{className:Na(L==null?void 0:L.loader,m==null||(qe=m.classNames)==null?void 0:qe.loader),visible:ae==="loading"})}const Dt=m.icon||(P==null?void 0:P[ae])||MY(ae);var at,gt;return Z.createElement("li",{tabIndex:0,ref:We,className:Na(F,ze,L==null?void 0:L.toast,m==null||(t=m.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[ae],m==null||(n=m.classNames)==null?void 0:n[ae]),"data-sonner-toast":"","data-rich-colors":(at=m.richColors)!=null?at:z,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":W,"data-promise":!!m.promise,"data-swiped":we,"data-removed":le,"data-visible":J,"data-y-position":mt,"data-x-position":kt,"data-index":k,"data-front":ct,"data-swiping":Y,"data-dismissible":fe,"data-type":ae,"data-invert":pr,"data-swipe-out":he,"data-swipe-direction":M,"data-expanded":!!(C||ee&&W),"data-testid":m.testId,style:{"--index":k,"--toasts-before":k,"--z-index":S.length-k,"--offset":`${le?Ae:Fe.current}px`,"--initial-height":ee?"auto":`${Ce}px`,...T,...m.style},onDragEnd:()=>{oe(!1),U(null),Ge.current=null},onPointerDown:qe=>{qe.button!==2&&(Wn||!fe||(jt.current=new Date,re(Fe.current),qe.target.setPointerCapture(qe.pointerId),qe.target.tagName!=="BUTTON"&&(oe(!0),Ge.current={x:qe.clientX,y:qe.clientY})))},onPointerUp:()=>{var qe,xt,zt;if(he||!fe)return;Ge.current=null;const Et=Number(((qe=We.current)==null?void 0:qe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Nn=Number(((xt=We.current)==null?void 0:xt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Vt=new Date().getTime()-((zt=jt.current)==null?void 0:zt.getTime()),At=G==="x"?Et:Nn,as=Math.abs(At)/Vt;if(Math.abs(At)>=XY||as>.11){re(Fe.current),m.onDismiss==null||m.onDismiss.call(m,m),H(G==="x"?Et>0?"right":"left":Nn>0?"down":"up"),Ye(),be(!0);return}else{var gn,Dn;(gn=We.current)==null||gn.style.setProperty("--swipe-amount-x","0px"),(Dn=We.current)==null||Dn.style.setProperty("--swipe-amount-y","0px")}xe(!1),oe(!1),U(null)},onPointerMove:qe=>{var xt,zt,Et;if(!Ge.current||!fe||((xt=window.getSelection())==null?void 0:xt.toString().length)>0)return;const Vt=qe.clientY-Ge.current.y,At=qe.clientX-Ge.current.x;var as;const gn=(as=e.swipeDirections)!=null?as:eJ(q);!G&&(Math.abs(At)>1||Math.abs(Vt)>1)&&U(Math.abs(At)>Math.abs(Vt)?"x":"y");let Dn={x:0,y:0};const ui=Hs=>1/(1.5+Math.abs(Hs)/20);if(G==="y"){if(gn.includes("top")||gn.includes("bottom"))if(gn.includes("top")&&Vt<0||gn.includes("bottom")&&Vt>0)Dn.y=Vt;else{const Hs=Vt*ui(Vt);Dn.y=Math.abs(Hs)<Math.abs(Vt)?Hs:Vt}}else if(G==="x"&&(gn.includes("left")||gn.includes("right")))if(gn.includes("left")&&At<0||gn.includes("right")&&At>0)Dn.x=At;else{const Hs=At*ui(At);Dn.x=Math.abs(Hs)<Math.abs(At)?Hs:At}(Math.abs(Dn.x)>0||Math.abs(Dn.y)>0)&&xe(!0),(zt=We.current)==null||zt.style.setProperty("--swipe-amount-x",`${Dn.x}px`),(Et=We.current)==null||Et.style.setProperty("--swipe-amount-y",`${Dn.y}px`)}},Be&&!m.jsx&&ae!=="loading"?Z.createElement("button",{"aria-label":I,"data-disabled":Wn,"data-close-button":!0,onClick:Wn||!fe?()=>{}:()=>{Ye(),m.onDismiss==null||m.onDismiss.call(m,m)},className:Na(L==null?void 0:L.closeButton,m==null||(s=m.classNames)==null?void 0:s.closeButton)},(gt=P==null?void 0:P.close)!=null?gt:$Y):null,(ae||m.icon||m.promise)&&m.icon!==null&&((P==null?void 0:P[ae])!==null||m.icon)?Z.createElement("div",{"data-icon":"",className:Na(L==null?void 0:L.icon,m==null||(r=m.classNames)==null?void 0:r.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||Ct():null,m.type!=="loading"?Dt:null):null,Z.createElement("div",{"data-content":"",className:Na(L==null?void 0:L.content,m==null||(a=m.classNames)==null?void 0:a.content)},Z.createElement("div",{"data-title":"",className:Na(L==null?void 0:L.title,m==null||(o=m.classNames)==null?void 0:o.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Z.createElement("div",{"data-description":"",className:Na(V,Me,L==null?void 0:L.description,m==null||(l=m.classNames)==null?void 0:l.description)},typeof m.description=="function"?m.description():m.description):null),Z.isValidElement(m.cancel)?m.cancel:m.cancel&&Gx(m.cancel)?Z.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||A,onClick:qe=>{Gx(m.cancel)&&fe&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,qe),Ye())},className:Na(L==null?void 0:L.cancelButton,m==null||(u=m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,Z.isValidElement(m.action)?m.action:m.action&&Gx(m.action)?Z.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||D,onClick:qe=>{Gx(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,qe),!qe.defaultPrevented&&Ye())},className:Na(L==null?void 0:L.actionButton,m==null||(d=m.classNames)==null?void 0:d.actionButton)},m.action.label):null)};function PA(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function nJ(e,t){const n={};return[e,t].forEach((s,r)=>{const a=r===1,o=a?"--mobile-offset":"--offset",l=a?GY:KY;function u(d){["top","right","bottom","left"].forEach(f=>{n[`${o}-${f}`]=typeof d=="number"?`${d}px`:d})}typeof s=="number"||typeof s=="string"?u(s):typeof s=="object"?["top","right","bottom","left"].forEach(d=>{s[d]===void 0?n[`${o}-${d}`]=l:n[`${o}-${d}`]=typeof s[d]=="number"?`${s[d]}px`:s[d]}):u(l)}),n}const sJ=Z.forwardRef(function(t,n){const{id:s,invert:r,position:a="bottom-right",hotkey:o=["altKey","KeyT"],expand:l,closeButton:u,className:d,offset:f,mobileOffset:m,theme:g="light",richColors:x,duration:b,style:w,visibleToasts:j=WY,toastOptions:k,dir:S=PA(),gap:C=JY,icons:E,containerAriaLabel:z="Notifications"}=t,[R,T]=Z.useState([]),A=Z.useMemo(()=>s?R.filter(W=>W.toasterId===s):R.filter(W=>!W.toasterId),[R,s]),D=Z.useMemo(()=>Array.from(new Set([a].concat(A.filter(W=>W.position).map(W=>W.position)))),[A,a]),[F,V]=Z.useState([]),[$,q]=Z.useState(!1),[K,ee]=Z.useState(!1),[L,P]=Z.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),I=Z.useRef(null),G=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=Z.useRef(null),M=Z.useRef(!1),H=Z.useCallback(W=>{T(te=>{var le;return(le=te.find(ce=>ce.id===W.id))!=null&&le.delete||Dr.dismiss(W.id),te.filter(({id:ce})=>ce!==W.id)})},[]);return Z.useEffect(()=>Dr.subscribe(W=>{if(W.dismiss){requestAnimationFrame(()=>{T(te=>te.map(le=>le.id===W.id?{...le,delete:!0}:le))});return}setTimeout(()=>{sb.flushSync(()=>{T(te=>{const le=te.findIndex(ce=>ce.id===W.id);return le!==-1?[...te.slice(0,le),{...te[le],...W},...te.slice(le+1)]:[W,...te]})})})}),[R]),Z.useEffect(()=>{if(g!=="system"){P(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),typeof window>"u")return;const W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:te})=>{P(te?"dark":"light")})}catch{W.addListener(({matches:le})=>{try{P(le?"dark":"light")}catch(ce){console.error(ce)}})}},[g]),Z.useEffect(()=>{R.length<=1&&q(!1)},[R]),Z.useEffect(()=>{const W=te=>{var le;if(o.every(oe=>te[oe]||te.code===oe)){var Y;q(!0),(Y=I.current)==null||Y.focus()}te.code==="Escape"&&(document.activeElement===I.current||(le=I.current)!=null&&le.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[o]),Z.useEffect(()=>{if(I.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,M.current=!1)}},[I.current]),Z.createElement("section",{ref:n,"aria-label":`${z} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((W,te)=>{var le;const[ce,Y]=W.split("-");return A.length?Z.createElement("ol",{key:W,dir:S==="auto"?PA():S,tabIndex:-1,ref:I,className:d,"data-sonner-toaster":!0,"data-sonner-theme":L,"data-y-position":ce,"data-x-position":Y,style:{"--front-toast-height":`${((le=F[0])==null?void 0:le.height)||0}px`,"--width":`${YY}px`,"--gap":`${C}px`,...w,...nJ(f,m)},onBlur:oe=>{M.current&&!oe.currentTarget.contains(oe.relatedTarget)&&(M.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||M.current||(M.current=!0,U.current=oe.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{K||q(!1)},onDragEnd:()=>q(!1),onPointerDown:oe=>{oe.target instanceof HTMLElement&&oe.target.dataset.dismissible==="false"||ee(!0)},onPointerUp:()=>ee(!1)},A.filter(oe=>!oe.position&&te===0||oe.position===W).map((oe,he)=>{var be,we;return Z.createElement(tJ,{key:oe.id,icons:E,index:he,toast:oe,defaultRichColors:x,duration:(be=k==null?void 0:k.duration)!=null?be:b,className:k==null?void 0:k.className,descriptionClassName:k==null?void 0:k.descriptionClassName,invert:r,visibleToasts:j,closeButton:(we=k==null?void 0:k.closeButton)!=null?we:u,interacting:K,position:W,style:k==null?void 0:k.style,unstyled:k==null?void 0:k.unstyled,classNames:k==null?void 0:k.classNames,cancelButtonStyle:k==null?void 0:k.cancelButtonStyle,actionButtonStyle:k==null?void 0:k.actionButtonStyle,closeButtonAriaLabel:k==null?void 0:k.closeButtonAriaLabel,removeToast:H,toasts:A.filter(xe=>xe.position==oe.position),heights:F.filter(xe=>xe.position==oe.position),setHeights:V,expandByDefault:l,gap:C,expanded:$,swipeDirections:t.swipeDirections})})):null}))}),s_=v.createContext({});function Jl(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const kI=typeof window<"u",rb=kI?v.useLayoutEffect:v.useEffect,ib=v.createContext(null);function r_(e,t){e.indexOf(t)===-1&&e.push(t)}function i_(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const la=(e,t,n)=>n>t?t:n<e?e:n;let op=()=>{};const Lo={},NI=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function SI(e){return typeof e=="object"&&e!==null}const _I=e=>/^0[^.\s]+$/u.test(e);function a_(e){let t;return()=>(t===void 0&&(t=e()),t)}const Vr=e=>e,rJ=(e,t)=>n=>t(e(n)),Xp=(...e)=>e.reduce(rJ),Sh=(e,t,n)=>{const s=t-e;return s===0?1:(n-e)/s};class o_{constructor(){this.subscriptions=[]}add(t){return r_(this.subscriptions,t),()=>i_(this.subscriptions,t)}notify(t,n,s){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](t,n,s);else for(let a=0;a<r;a++){const o=this.subscriptions[a];o&&o(t,n,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ao=e=>e*1e3,Ai=e=>e/1e3;function l_(e,t){return t?e*(1e3/t):0}const CI=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,iJ=1e-7,aJ=12;function oJ(e,t,n,s,r){let a,o,l=0;do o=t+(n-t)/2,a=CI(o,s,r)-e,a>0?n=o:t=o;while(Math.abs(a)>iJ&&++l<aJ);return o}function Qp(e,t,n,s){if(e===t&&n===s)return Vr;const r=a=>oJ(a,0,1,e,n);return a=>a===0||a===1?a:CI(r(a),t,s)}const EI=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,TI=e=>t=>1-e(1-t),zI=Qp(.33,1.53,.69,.99),c_=TI(zI),AI=EI(c_),MI=e=>(e*=2)<1?.5*c_(e):.5*(2-Math.pow(2,-10*(e-1))),u_=e=>1-Math.sin(Math.acos(e)),RI=TI(u_),OI=EI(u_),lJ=Qp(.42,0,1,1),cJ=Qp(0,0,.58,1),DI=Qp(.42,0,.58,1),uJ=e=>Array.isArray(e)&&typeof e[0]!="number",PI=e=>Array.isArray(e)&&typeof e[0]=="number",dJ={linear:Vr,easeIn:lJ,easeInOut:DI,easeOut:cJ,circIn:u_,circInOut:OI,circOut:RI,backIn:c_,backInOut:AI,backOut:zI,anticipate:MI},hJ=e=>typeof e=="string",IA=e=>{if(PI(e)){op(e.length===4);const[t,n,s,r]=e;return Qp(t,n,s,r)}else if(hJ(e))return dJ[e];return e},Yx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function fJ(e,t){let n=new Set,s=new Set,r=!1,a=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function u(f){o.has(f)&&(d.schedule(f),e()),f(l)}const d={schedule:(f,m=!1,g=!1)=>{const b=g&&r?n:s;return m&&o.add(f),b.has(f)||b.add(f),f},cancel:f=>{s.delete(f),o.delete(f)},process:f=>{if(l=f,r){a=!0;return}r=!0,[n,s]=[s,n],n.forEach(u),n.clear(),r=!1,a&&(a=!1,d.process(f))}};return d}const mJ=40;function II(e,t){let n=!1,s=!0;const r={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,o=Yx.reduce((C,E)=>(C[E]=fJ(a),C),{}),{setup:l,read:u,resolveKeyframes:d,preUpdate:f,update:m,preRender:g,render:x,postRender:b}=o,w=()=>{const C=Lo.useManualTiming?r.timestamp:performance.now();n=!1,Lo.useManualTiming||(r.delta=s?1e3/60:Math.max(Math.min(C-r.timestamp,mJ),1)),r.timestamp=C,r.isProcessing=!0,l.process(r),u.process(r),d.process(r),f.process(r),m.process(r),g.process(r),x.process(r),b.process(r),r.isProcessing=!1,n&&t&&(s=!1,e(w))},j=()=>{n=!0,s=!0,r.isProcessing||e(w)};return{schedule:Yx.reduce((C,E)=>{const z=o[E];return C[E]=(R,T=!1,A=!1)=>(n||j(),z.schedule(R,T,A)),C},{}),cancel:C=>{for(let E=0;E<Yx.length;E++)o[Yx[E]].cancel(C)},state:r,steps:o}}const{schedule:nn,cancel:Ii,state:Ps,steps:qj}=II(typeof requestAnimationFrame<"u"?requestAnimationFrame:Vr,!0);let G0;function pJ(){G0=void 0}const yr={now:()=>(G0===void 0&&yr.set(Ps.isProcessing||Lo.useManualTiming?Ps.timestamp:performance.now()),G0),set:e=>{G0=e,queueMicrotask(pJ)}},LI=e=>t=>typeof t=="string"&&t.startsWith(e),$I=LI("--"),gJ=LI("var(--"),d_=e=>gJ(e)?xJ.test(e.split("/*")[0].trim()):!1,xJ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function LA(e){return typeof e!="string"?!1:e.split("/*")[0].includes("var(--")}const qh={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lp={...qh,transform:e=>la(0,1,e)},Jx={...qh,default:1},Im=e=>Math.round(e*1e5)/1e5,h_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vJ(e){return e==null}const yJ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,f_=(e,t)=>n=>!!(typeof n=="string"&&yJ.test(n)&&n.startsWith(e)||t&&!vJ(n)&&Object.prototype.hasOwnProperty.call(n,t)),VI=(e,t,n)=>s=>{if(typeof s!="string")return s;const[r,a,o,l]=s.match(h_);return{[e]:parseFloat(r),[t]:parseFloat(a),[n]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},bJ=e=>la(0,255,e),Zj={...qh,transform:e=>Math.round(bJ(e))},Qc={test:f_("rgb","red"),parse:VI("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:s=1})=>"rgba("+Zj.transform(e)+", "+Zj.transform(t)+", "+Zj.transform(n)+", "+Im(lp.transform(s))+")"};function wJ(e){let t="",n="",s="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),s=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),s=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,s+=s,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(s,16),alpha:r?parseInt(r,16)/255:1}}const IN={test:f_("#"),parse:wJ,transform:Qc.transform},eg=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kl=eg("deg"),Oa=eg("%"),rt=eg("px"),jJ=eg("vh"),kJ=eg("vw"),$A={...Oa,parse:e=>Oa.parse(e)/100,transform:e=>Oa.transform(e*100)},eh={test:f_("hsl","hue"),parse:VI("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:s=1})=>"hsla("+Math.round(e)+", "+Oa.transform(Im(t))+", "+Oa.transform(Im(n))+", "+Im(lp.transform(s))+")"},vs={test:e=>Qc.test(e)||IN.test(e)||eh.test(e),parse:e=>Qc.test(e)?Qc.parse(e):eh.test(e)?eh.parse(e):IN.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qc.transform(e):eh.transform(e),getAnimatableNone:e=>{const t=vs.parse(e);return t.alpha=0,vs.transform(t)}},NJ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function SJ(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(h_))==null?void 0:t.length)||0)+(((n=e.match(NJ))==null?void 0:n.length)||0)>0}const BI="number",FI="color",_J="var",CJ="var(",VA="${}",EJ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cp(e){const t=e.toString(),n=[],s={color:[],number:[],var:[]},r=[];let a=0;const l=t.replace(EJ,u=>(vs.test(u)?(s.color.push(a),r.push(FI),n.push(vs.parse(u))):u.startsWith(CJ)?(s.var.push(a),r.push(_J),n.push(u)):(s.number.push(a),r.push(BI),n.push(parseFloat(u))),++a,VA)).split(VA);return{values:n,split:l,indexes:s,types:r}}function UI(e){return cp(e).values}function HI(e){const{split:t,types:n}=cp(e),s=t.length;return r=>{let a="";for(let o=0;o<s;o++)if(a+=t[o],r[o]!==void 0){const l=n[o];l===BI?a+=Im(r[o]):l===FI?a+=vs.transform(r[o]):a+=r[o]}return a}}const TJ=e=>typeof e=="number"?0:vs.test(e)?vs.getAnimatableNone(e):e;function zJ(e){const t=UI(e);return HI(e)(t.map(TJ))}const Xl={test:SJ,parse:UI,createTransformer:HI,getAnimatableNone:zJ};function Wj(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function AJ({hue:e,saturation:t,lightness:n,alpha:s}){e/=360,t/=100,n/=100;let r=0,a=0,o=0;if(!t)r=a=o=n;else{const l=n<.5?n*(1+t):n+t-n*t,u=2*n-l;r=Wj(u,l,e+1/3),a=Wj(u,l,e),o=Wj(u,l,e-1/3)}return{red:Math.round(r*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:s}}function pv(e,t){return n=>n>0?t:e}const Un=(e,t,n)=>e+(t-e)*n,Kj=(e,t,n)=>{const s=e*e,r=n*(t*t-s)+s;return r<0?0:Math.sqrt(r)},MJ=[IN,Qc,eh],RJ=e=>MJ.find(t=>t.test(e));function BA(e){const t=RJ(e);if(!t)return!1;let n=t.parse(e);return t===eh&&(n=AJ(n)),n}const FA=(e,t)=>{const n=BA(e),s=BA(t);if(!n||!s)return pv(e,t);const r={...n};return a=>(r.red=Kj(n.red,s.red,a),r.green=Kj(n.green,s.green,a),r.blue=Kj(n.blue,s.blue,a),r.alpha=Un(n.alpha,s.alpha,a),Qc.transform(r))},LN=new Set(["none","hidden"]);function OJ(e,t){return LN.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function DJ(e,t){return n=>Un(e,t,n)}function m_(e){return typeof e=="number"?DJ:typeof e=="string"?d_(e)?pv:vs.test(e)?FA:LJ:Array.isArray(e)?qI:typeof e=="object"?vs.test(e)?FA:PJ:pv}function qI(e,t){const n=[...e],s=n.length,r=e.map((a,o)=>m_(a)(a,t[o]));return a=>{for(let o=0;o<s;o++)n[o]=r[o](a);return n}}function PJ(e,t){const n={...e,...t},s={};for(const r in n)e[r]!==void 0&&t[r]!==void 0&&(s[r]=m_(e[r])(e[r],t[r]));return r=>{for(const a in s)n[a]=s[a](r);return n}}function IJ(e,t){const n=[],s={color:0,var:0,number:0};for(let r=0;r<t.values.length;r++){const a=t.types[r],o=e.indexes[a][s[a]],l=e.values[o]??0;n[r]=l,s[a]++}return n}const LJ=(e,t)=>{const n=Xl.createTransformer(t),s=cp(e),r=cp(t);return s.indexes.var.length===r.indexes.var.length&&s.indexes.color.length===r.indexes.color.length&&s.indexes.number.length>=r.indexes.number.length?LN.has(e)&&!r.values.length||LN.has(t)&&!s.values.length?OJ(e,t):Xp(qI(IJ(s,r),r.values),n):pv(e,t)};function ZI(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Un(e,t,n):m_(e)(e,t)}const $J=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>nn.update(t,n),stop:()=>Ii(t),now:()=>Ps.isProcessing?Ps.timestamp:yr.now()}},WI=(e,t,n=10)=>{let s="";const r=Math.max(Math.round(t/n),2);for(let a=0;a<r;a++)s+=Math.round(e(a/(r-1))*1e4)/1e4+", ";return`linear(${s.substring(0,s.length-2)})`},gv=2e4;function p_(e){let t=0;const n=50;let s=e.next(t);for(;!s.done&&t<gv;)t+=n,s=e.next(t);return t>=gv?1/0:t}function VJ(e,t=100,n){const s=n({...e,keyframes:[0,t]}),r=Math.min(p_(s),gv);return{type:"keyframes",ease:a=>s.next(r*a).value/t,duration:Ai(r)}}const BJ=5;function KI(e,t,n){const s=Math.max(t-BJ,0);return l_(n-e(s),t-s)}const Xn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Gj=.001;function FJ({duration:e=Xn.duration,bounce:t=Xn.bounce,velocity:n=Xn.velocity,mass:s=Xn.mass}){let r,a,o=1-t;o=la(Xn.minDamping,Xn.maxDamping,o),e=la(Xn.minDuration,Xn.maxDuration,Ai(e)),o<1?(r=d=>{const f=d*o,m=f*e,g=f-n,x=$N(d,o),b=Math.exp(-m);return Gj-g/x*b},a=d=>{const m=d*o*e,g=m*n+n,x=Math.pow(o,2)*Math.pow(d,2)*e,b=Math.exp(-m),w=$N(Math.pow(d,2),o);return(-r(d)+Gj>0?-1:1)*((g-x)*b)/w}):(r=d=>{const f=Math.exp(-d*e),m=(d-n)*e+1;return-Gj+f*m},a=d=>{const f=Math.exp(-d*e),m=(n-d)*(e*e);return f*m});const l=5/e,u=HJ(r,a,l);if(e=Ao(e),isNaN(u))return{stiffness:Xn.stiffness,damping:Xn.damping,duration:e};{const d=Math.pow(u,2)*s;return{stiffness:d,damping:o*2*Math.sqrt(s*d),duration:e}}}const UJ=12;function HJ(e,t,n){let s=n;for(let r=1;r<UJ;r++)s=s-e(s)/t(s);return s}function $N(e,t){return e*Math.sqrt(1-t*t)}const qJ=["duration","bounce"],ZJ=["stiffness","damping","mass"];function UA(e,t){return t.some(n=>e[n]!==void 0)}function WJ(e){let t={velocity:Xn.velocity,stiffness:Xn.stiffness,damping:Xn.damping,mass:Xn.mass,isResolvedFromDuration:!1,...e};if(!UA(e,ZJ)&&UA(e,qJ))if(e.visualDuration){const n=e.visualDuration,s=2*Math.PI/(n*1.2),r=s*s,a=2*la(.05,1,1-(e.bounce||0))*Math.sqrt(r);t={...t,mass:Xn.mass,stiffness:r,damping:a}}else{const n=FJ(e);t={...t,...n,mass:Xn.mass},t.isResolvedFromDuration=!0}return t}function xv(e=Xn.visualDuration,t=Xn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:s,restDelta:r}=n;const a=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:d,mass:f,duration:m,velocity:g,isResolvedFromDuration:x}=WJ({...n,velocity:-Ai(n.velocity||0)}),b=g||0,w=d/(2*Math.sqrt(u*f)),j=o-a,k=Ai(Math.sqrt(u/f)),S=Math.abs(j)<5;s||(s=S?Xn.restSpeed.granular:Xn.restSpeed.default),r||(r=S?Xn.restDelta.granular:Xn.restDelta.default);let C;if(w<1){const z=$N(k,w);C=R=>{const T=Math.exp(-w*k*R);return o-T*((b+w*k*j)/z*Math.sin(z*R)+j*Math.cos(z*R))}}else if(w===1)C=z=>o-Math.exp(-k*z)*(j+(b+k*j)*z);else{const z=k*Math.sqrt(w*w-1);C=R=>{const T=Math.exp(-w*k*R),A=Math.min(z*R,300);return o-T*((b+w*k*j)*Math.sinh(A)+z*j*Math.cosh(A))/z}}const E={calculatedDuration:x&&m||null,next:z=>{const R=C(z);if(x)l.done=z>=m;else{let T=z===0?b:0;w<1&&(T=z===0?Ao(b):KI(C,z,R));const A=Math.abs(T)<=s,D=Math.abs(o-R)<=r;l.done=A&&D}return l.value=l.done?o:R,l},toString:()=>{const z=Math.min(p_(E),gv),R=WI(T=>E.next(z*T).value,z,30);return z+"ms "+R},toTransition:()=>{}};return E}xv.applyToOptions=e=>{const t=VJ(e,100,xv);return e.ease=t.ease,e.duration=Ao(t.duration),e.type="keyframes",e};function VN({keyframes:e,velocity:t=0,power:n=.8,timeConstant:s=325,bounceDamping:r=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:u,restDelta:d=.5,restSpeed:f}){const m=e[0],g={done:!1,value:m},x=A=>l!==void 0&&A<l||u!==void 0&&A>u,b=A=>l===void 0?u:u===void 0||Math.abs(l-A)<Math.abs(u-A)?l:u;let w=n*t;const j=m+w,k=o===void 0?j:o(j);k!==j&&(w=k-m);const S=A=>-w*Math.exp(-A/s),C=A=>k+S(A),E=A=>{const D=S(A),F=C(A);g.done=Math.abs(D)<=d,g.value=g.done?k:F};let z,R;const T=A=>{x(g.value)&&(z=A,R=xv({keyframes:[g.value,b(g.value)],velocity:KI(C,A,g.value),damping:r,stiffness:a,restDelta:d,restSpeed:f}))};return T(0),{calculatedDuration:null,next:A=>{let D=!1;return!R&&z===void 0&&(D=!0,E(A),T(A)),z!==void 0&&A>=z?R.next(A-z):(!D&&E(A),g)}}}function KJ(e,t,n){const s=[],r=n||Lo.mix||ZI,a=e.length-1;for(let o=0;o<a;o++){let l=r(e[o],e[o+1]);if(t){const u=Array.isArray(t)?t[o]||Vr:t;l=Xp(u,l)}s.push(l)}return s}function g_(e,t,{clamp:n=!0,ease:s,mixer:r}={}){const a=e.length;if(op(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=KJ(t,s,r),u=l.length,d=f=>{if(o&&f<e[0])return t[0];let m=0;if(u>1)for(;m<e.length-2&&!(f<e[m+1]);m++);const g=Sh(e[m],e[m+1],f);return l[m](g)};return n?f=>d(la(e[0],e[a-1],f)):d}function GJ(e,t){const n=e[e.length-1];for(let s=1;s<=t;s++){const r=Sh(0,t,s);e.push(Un(n,1,r))}}function GI(e){const t=[0];return GJ(t,e.length-1),t}function YJ(e,t){return e.map(n=>n*t)}function JJ(e,t){return e.map(()=>t||DI).splice(0,e.length-1)}function Lm({duration:e=300,keyframes:t,times:n,ease:s="easeInOut"}){const r=uJ(s)?s.map(IA):IA(s),a={done:!1,value:t[0]},o=YJ(n&&n.length===t.length?n:GI(t),e),l=g_(o,t,{ease:Array.isArray(r)?r:JJ(t,r)});return{calculatedDuration:e,next:u=>(a.value=l(u),a.done=u>=e,a)}}const XJ=e=>e!==null;function x_(e,{repeat:t,repeatType:n="loop"},s,r=1){const a=e.filter(XJ),l=r<0||t&&n!=="loop"&&t%2===1?0:a.length-1;return!l||s===void 0?a[l]:s}const QJ={decay:VN,inertia:VN,tween:Lm,keyframes:Lm,spring:xv};function YI(e){typeof e.type=="string"&&(e.type=QJ[e.type])}class v_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const eX=e=>e/100;class ab extends v_{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var s,r;const{motionValue:n}=this.options;n&&n.updatedAt!==yr.now()&&this.tick(yr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(s=this.options).onStop)==null||r.call(s))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;YI(t);const{type:n=Lm,repeat:s=0,repeatDelay:r=0,repeatType:a,velocity:o=0}=t;let{keyframes:l}=t;const u=n||Lm;u!==Lm&&typeof l[0]!="number"&&(this.mixKeyframes=Xp(eX,ZI(l[0],l[1])),l=[0,100]);const d=u({...t,keyframes:l});a==="mirror"&&(this.mirroredGenerator=u({...t,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=p_(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+r,this.totalDuration=this.resolvedDuration*(s+1)-r,this.generator=d}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:s,totalDuration:r,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:u}=this;if(this.startTime===null)return s.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:x,type:b,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-r/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-d*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?k<0:k>r;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,E=s;if(m){const A=Math.min(this.currentTime,r)/l;let D=Math.floor(A),F=A%1;!F&&A>=1&&(F=1),F===1&&D--,D=Math.min(D,m+1),!!(D%2)&&(g==="reverse"?(F=1-F,x&&(F-=x/l)):g==="mirror"&&(E=o)),C=la(0,1,F)*l}const z=S?{done:!1,value:f[0]}:E.next(C);a&&(z.value=a(z.value));let{done:R}=z;!S&&u!==null&&(R=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&R);return T&&b!==VN&&(z.value=x_(f,this.options,j,this.speed)),w&&w(z.value),T&&this.finish(),z}then(t,n){return this.finished.then(t,n)}get duration(){return Ai(this.calculatedDuration)}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ai(t)}get time(){return Ai(this.currentTime)}set time(t){var n;t=Ao(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(yr.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=Ai(this.currentTime))}play(){var r,a;if(this.isStopped)return;const{driver:t=$J,startTime:n}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(r=this.options).onPlay)==null||a.call(r);const s=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=s):this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime||(this.startTime=n??s),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(yr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function tX(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const eu=e=>e*180/Math.PI,BN=e=>{const t=eu(Math.atan2(e[1],e[0]));return FN(t)},nX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:BN,rotateZ:BN,skewX:e=>eu(Math.atan(e[1])),skewY:e=>eu(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},FN=e=>(e=e%360,e<0&&(e+=360),e),HA=BN,qA=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ZA=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),sX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qA,scaleY:ZA,scale:e=>(qA(e)+ZA(e))/2,rotateX:e=>FN(eu(Math.atan2(e[6],e[5]))),rotateY:e=>FN(eu(Math.atan2(-e[2],e[0]))),rotateZ:HA,rotate:HA,skewX:e=>eu(Math.atan(e[4])),skewY:e=>eu(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function UN(e){return e.includes("scale")?1:0}function HN(e,t){if(!e||e==="none")return UN(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let s,r;if(n)s=sX,r=n;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);s=nX,r=l}if(!r)return UN(t);const a=s[t],o=r[1].split(",").map(iX);return typeof a=="function"?a(o):o[a]}const rX=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return HN(n,t)};function iX(e){return parseFloat(e.trim())}const Zh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wh=new Set(Zh),WA=e=>e===qh||e===rt,aX=new Set(["x","y","z"]),oX=Zh.filter(e=>!aX.has(e));function lX(e){const t=[];return oX.forEach(n=>{const s=e.getValue(n);s!==void 0&&(t.push([n,s.get()]),s.set(n.startsWith("scale")?1:0))}),t}const Pl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>HN(t,"x"),y:(e,{transform:t})=>HN(t,"y")};Pl.translateX=Pl.x;Pl.translateY=Pl.y;const cu=new Set;let qN=!1,ZN=!1,WN=!1;function JI(){if(ZN){const e=Array.from(cu).filter(s=>s.needsMeasurement),t=new Set(e.map(s=>s.element)),n=new Map;t.forEach(s=>{const r=lX(s);r.length&&(n.set(s,r),s.render())}),e.forEach(s=>s.measureInitialState()),t.forEach(s=>{s.render();const r=n.get(s);r&&r.forEach(([a,o])=>{var l;(l=s.getValue(a))==null||l.set(o)})}),e.forEach(s=>s.measureEndState()),e.forEach(s=>{s.suspendedScrollY!==void 0&&window.scrollTo(0,s.suspendedScrollY)})}ZN=!1,qN=!1,cu.forEach(e=>e.complete(WN)),cu.clear()}function XI(){cu.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ZN=!0)})}function cX(){WN=!0,XI(),JI(),WN=!1}class y_{constructor(t,n,s,r,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=s,this.motionValue=r,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(cu.add(this),qN||(qN=!0,nn.read(XI),nn.resolveKeyframes(JI))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:s,motionValue:r}=this;if(t[0]===null){const a=r==null?void 0:r.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(s&&n){const l=s.readValue(n,o);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=o),r&&a===void 0&&r.set(t[0])}tX(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),cu.delete(this)}cancel(){this.state==="scheduled"&&(cu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const uX=e=>e.startsWith("--");function dX(e,t,n){uX(t)?e.style.setProperty(t,n):e.style[t]=n}const QI=a_(()=>window.ScrollTimeline!==void 0),hX={};function fX(e,t){const n=a_(e);return()=>hX[t]??n()}const e6=fX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wm=([e,t,n,s])=>`cubic-bezier(${e}, ${t}, ${n}, ${s})`,KA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:wm([0,.65,.55,1]),circOut:wm([.55,0,1,.45]),backIn:wm([.31,.01,.66,-.59]),backOut:wm([.33,1.53,.69,.99])};function t6(e,t){if(e)return typeof e=="function"?e6()?WI(e,t):"ease-out":PI(e)?wm(e):Array.isArray(e)?e.map(n=>t6(n,t)||KA.easeOut):KA[e]}function mX(e,t,n,{delay:s=0,duration:r=300,repeat:a=0,repeatType:o="loop",ease:l="easeOut",times:u}={},d=void 0){const f={[t]:n};u&&(f.offset=u);const m=t6(l,r);Array.isArray(m)&&(f.easing=m);const g={delay:s,duration:r,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),e.animate(f,g)}function n6(e){return typeof e=="function"&&"applyToOptions"in e}function pX({type:e,...t}){return n6(e)&&e6()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class gX extends v_{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!t)return;const{element:n,name:s,keyframes:r,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:l,onComplete:u}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,op(typeof t.type!="string");const d=pX(t);this.animation=mX(n,s,r,d,a),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const f=x_(r,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):dX(n,s,f),this.animation.cancel()}u==null||u(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,s;const t=((s=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:s.call(n).duration)||0;return Ai(Number(t))}get iterationDuration(){const{delay:t=0}=this.options||{};return this.duration+Ai(t)}get time(){return Ai(Number(this.animation.currentTime)||0)}set time(t){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ao(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(t){this.manualStartTime=this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var s;return this.allowFlatten&&((s=this.animation.effect)==null||s.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&QI()?(this.animation.timeline=t,Vr):n(this)}}const s6={anticipate:MI,backInOut:AI,circInOut:OI};function xX(e){return e in s6}function vX(e){typeof e.ease=="string"&&xX(e.ease)&&(e.ease=s6[e.ease])}const Yj=10;class yX extends gX{constructor(t){vX(t),YI(t),super(t),t.startTime!==void 0&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:s,onComplete:r,element:a,...o}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const l=new ab({...o,autoplay:!1}),u=Math.max(Yj,yr.now()-this.startTime),d=la(0,Yj,u-Yj);n.setWithVelocity(l.sample(Math.max(0,u-d)).value,l.sample(u).value,d),l.stop()}}const GA=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xl.test(e)||e==="0")&&!e.startsWith("url("));function bX(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function wX(e,t,n,s){const r=e[0];if(r===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=GA(r,t),l=GA(a,t);return!o||!l?!1:bX(e)||(n==="spring"||n6(n))&&s}function KN(e){e.duration=0,e.type="keyframes"}const jX=new Set(["opacity","clipPath","filter","transform"]),kX=a_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function NX(e){var f;const{motionValue:t,name:n,repeatDelay:s,repeatType:r,damping:a,type:o}=e;if(!(((f=t==null?void 0:t.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:d}=t.owner.getProps();return kX()&&n&&jX.has(n)&&(n!=="transform"||!d)&&!u&&!s&&r!=="mirror"&&a!==0&&o!=="inertia"}const SX=40;class _X extends v_{constructor({autoplay:t=!0,delay:n=0,type:s="keyframes",repeat:r=0,repeatDelay:a=0,repeatType:o="loop",keyframes:l,name:u,motionValue:d,element:f,...m}){var b;super(),this.stop=()=>{var w,j;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(j=this.keyframeResolver)==null||j.cancel()},this.createdAt=yr.now();const g={autoplay:t,delay:n,type:s,repeat:r,repeatDelay:a,repeatType:o,name:u,motionValue:d,element:f,...m},x=(f==null?void 0:f.KeyframeResolver)||y_;this.keyframeResolver=new x(l,(w,j,k)=>this.onKeyframesResolved(w,j,g,!k),u,d,f),(b=this.keyframeResolver)==null||b.scheduleResolve()}onKeyframesResolved(t,n,s,r){var j,k;this.keyframeResolver=void 0;const{name:a,type:o,velocity:l,delay:u,isHandoff:d,onUpdate:f}=s;this.resolvedAt=yr.now(),wX(t,a,o,l)||((Lo.instantAnimations||!u)&&(f==null||f(x_(t,s,n))),t[0]=t[t.length-1],KN(s),s.repeat=0);const g={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>SX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...s,keyframes:t},x=!d&&NX(g),b=(k=(j=g.motionValue)==null?void 0:j.owner)==null?void 0:k.current,w=x?new yX({...g,element:b}):new ab(g);w.finished.then(()=>{this.notifyFinished()}).catch(Vr),this.pendingTimeline&&(this.stopTimeline=w.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=w}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),cX()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}function r6(e,t,n,s=0,r=1){const a=Array.from(e).sort((d,f)=>d.sortNodePosition(f)).indexOf(t),o=e.size,l=(o-1)*s;return typeof n=="function"?n(a,o):r===1?a*s:l-a*s}const CX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EX(e){const t=CX.exec(e);if(!t)return[,];const[,n,s,r]=t;return[`--${n??s}`,r]}function i6(e,t,n=1){const[s,r]=EX(e);if(!s)return;const a=window.getComputedStyle(t).getPropertyValue(s);if(a){const o=a.trim();return NI(o)?parseFloat(o):o}return d_(r)?i6(r,t,n+1):r}const TX={type:"spring",stiffness:500,damping:25,restSpeed:10},zX=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),AX={type:"keyframes",duration:.8},MX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},RX=(e,{keyframes:t})=>t.length>2?AX:Wh.has(e)?e.startsWith("scale")?zX(t[1]):TX:MX,OX=e=>e!==null;function DX(e,{repeat:t,repeatType:n="loop"},s){const r=e.filter(OX),a=t&&n!=="loop"&&t%2===1?0:r.length-1;return r[a]}function b_(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}function PX({when:e,delay:t,delayChildren:n,staggerChildren:s,staggerDirection:r,repeat:a,repeatType:o,repeatDelay:l,from:u,elapsed:d,...f}){return!!Object.keys(f).length}const w_=(e,t,n,s={},r,a)=>o=>{const l=b_(s,e)||{},u=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-Ao(u);const f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-d,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:r};PX(l)||Object.assign(f,RX(e,f)),f.duration&&(f.duration=Ao(f.duration)),f.repeatDelay&&(f.repeatDelay=Ao(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(KN(f),f.delay===0&&(m=!0)),(Lo.instantAnimations||Lo.skipAnimations)&&(m=!0,KN(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!a&&t.get()!==void 0){const g=DX(f.keyframes,l);if(g!==void 0){nn.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new ab(f):new _X(f)};function YA(e){const t=[{},{}];return e==null||e.values.forEach((n,s)=>{t[0][s]=n.get(),t[1][s]=n.getVelocity()}),t}function j_(e,t,n,s){if(typeof t=="function"){const[r,a]=YA(s);t=t(n!==void 0?n:e.custom,r,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[r,a]=YA(s);t=t(n!==void 0?n:e.custom,r,a)}return t}function fh(e,t,n){const s=e.getProps();return j_(s,t,n!==void 0?n:s.custom,e)}const a6=new Set(["width","height","top","left","right","bottom",...Zh]),JA=30,IX=e=>!isNaN(parseFloat(e)),$m={current:void 0};class LX{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=s=>{var a;const r=yr.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(s),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=yr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=IX(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new o_);const s=this.events[t].add(n);return t==="change"?()=>{s(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,s){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-s}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return $m.current&&$m.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=yr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>JA)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,JA);return l_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ra(e,t){return new LX(e,t)}const GN=e=>Array.isArray(e);function $X(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,ra(n))}function VX(e){return GN(e)?e[e.length-1]||0:e}function BX(e,t){const n=fh(e,t);let{transitionEnd:s={},transition:r={},...a}=n||{};a={...a,...s};for(const o in a){const l=VX(a[o]);$X(e,o,l)}}const Vs=e=>!!(e&&e.getVelocity);function FX(e){return!!(Vs(e)&&e.add)}function YN(e,t){const n=e.getValue("willChange");if(FX(n))return n.add(t);if(!n&&Lo.WillChange){const s=new Lo.WillChange("auto");e.addValue("willChange",s),s.add(t)}}function k_(e){return e.replace(/([A-Z])/g,t=>`-${t.toLowerCase()}`)}const UX="framerAppearId",o6="data-"+k_(UX);function l6(e){return e.props[o6]}function HX({protectedKeys:e,needsAnimating:t},n){const s=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,s}function c6(e,t,{delay:n=0,transitionOverride:s,type:r}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...l}=t;const u=a==null?void 0:a.reduceMotion;s&&(a=s);const d=[],f=r&&e.animationState&&e.animationState.getState()[r];for(const m in l){const g=e.getValue(m,e.latestValues[m]??null),x=l[m];if(x===void 0||f&&HX(f,m))continue;const b={delay:n,...b_(a||{},m)},w=g.get();if(w!==void 0&&!g.isAnimating&&!Array.isArray(x)&&x===w&&!b.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const C=l6(e);if(C){const E=window.MotionHandoffAnimation(C,m,nn);E!==null&&(b.startTime=E,j=!0)}}YN(e,m);const k=u??e.shouldReduceMotion;g.start(w_(m,g,x,k&&a6.has(m)?{type:!1}:b,e,j));const S=g.animation;S&&d.push(S)}return o&&Promise.all(d).then(()=>{nn.update(()=>{o&&BX(e,o)})}),d}function JN(e,t,n={}){var u;const s=fh(e,t,n.type==="exit"?(u=e.presenceContext)==null?void 0:u.custom:void 0);let{transition:r=e.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(r=n.transitionOverride);const a=s?()=>Promise.all(c6(e,s,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=r;return qX(e,t,d,f,m,g,n)}:()=>Promise.resolve(),{when:l}=r;if(l){const[d,f]=l==="beforeChildren"?[a,o]:[o,a];return d().then(()=>f())}else return Promise.all([a(),o(n.delay)])}function qX(e,t,n=0,s=0,r=0,a=1,o){const l=[];for(const u of e.variantChildren)u.notify("AnimationStart",t),l.push(JN(u,t,{...o,delay:n+(typeof s=="function"?0:s)+r6(e.variantChildren,u,s,r,a)}).then(()=>u.notify("AnimationComplete",t)));return Promise.all(l)}function ZX(e,t,n={}){e.notify("AnimationStart",t);let s;if(Array.isArray(t)){const r=t.map(a=>JN(e,a,n));s=Promise.all(r)}else if(typeof t=="string")s=JN(e,t,n);else{const r=typeof t=="function"?fh(e,t,n.custom):t;s=Promise.all(c6(e,r,n))}return s.then(()=>{e.notify("AnimationComplete",t)})}const WX={test:e=>e==="auto",parse:e=>e},u6=e=>t=>t.test(e),d6=[qh,rt,Oa,kl,kJ,jJ,WX],XA=e=>d6.find(u6(e));function KX(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||_I(e):!0}const GX=new Set(["brightness","contrast","saturate","opacity"]);function YX(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[s]=n.match(h_)||[];if(!s)return e;const r=n.replace(s,"");let a=GX.has(t)?1:0;return s!==n&&(a*=100),t+"("+a+r+")"}const JX=/\b([a-z-]*)\(.*?\)/gu,XN={...Xl,getAnimatableNone:e=>{const t=e.match(JX);return t?t.map(YX).join(" "):e}},QA={...qh,transform:Math.round},XX={rotate:kl,rotateX:kl,rotateY:kl,rotateZ:kl,scale:Jx,scaleX:Jx,scaleY:Jx,scaleZ:Jx,skew:kl,skewX:kl,skewY:kl,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:lp,originX:$A,originY:$A,originZ:rt},N_={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,inset:rt,insetBlock:rt,insetBlockStart:rt,insetBlockEnd:rt,insetInline:rt,insetInlineStart:rt,insetInlineEnd:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,paddingBlock:rt,paddingBlockStart:rt,paddingBlockEnd:rt,paddingInline:rt,paddingInlineStart:rt,paddingInlineEnd:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,marginBlock:rt,marginBlockStart:rt,marginBlockEnd:rt,marginInline:rt,marginInlineStart:rt,marginInlineEnd:rt,fontSize:rt,backgroundPositionX:rt,backgroundPositionY:rt,...XX,zIndex:QA,fillOpacity:lp,strokeOpacity:lp,numOctaves:QA},QX={...N_,color:vs,backgroundColor:vs,outlineColor:vs,fill:vs,stroke:vs,borderColor:vs,borderTopColor:vs,borderRightColor:vs,borderBottomColor:vs,borderLeftColor:vs,filter:XN,WebkitFilter:XN},h6=e=>QX[e];function f6(e,t){let n=h6(e);return n!==XN&&(n=Xl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const eQ=new Set(["auto","none","0"]);function tQ(e,t,n){let s=0,r;for(;s<e.length&&!r;){const a=e[s];typeof a=="string"&&!eQ.has(a)&&cp(a).values.length&&(r=e[s]),s++}if(r&&n)for(const a of t)e[a]=f6(n,r)}class nQ extends y_{constructor(t,n,s,r,a){super(t,n,s,r,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:s}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),d_(m))){const g=i6(m,n.current);g!==void 0&&(t[f]=g),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!a6.has(s)||t.length!==2)return;const[r,a]=t,o=XA(r),l=XA(a),u=LA(r),d=LA(a);if(u!==d&&Pl[s]){this.needsMeasurement=!0;return}if(o!==l)if(WA(o)&&WA(l))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else Pl[s]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,s=[];for(let r=0;r<t.length;r++)(t[r]===null||KX(t[r]))&&s.push(r);s.length&&tQ(t,s,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:s}=this;if(!t||!t.current)return;s==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Pl[s](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const r=n[n.length-1];r!==void 0&&t.getValue(s,r).jump(r,!1)}measureEndState(){var l;const{element:t,name:n,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);const a=s.length-1,o=s[a];s[a]=Pl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([u,d])=>{t.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function S_(e,t,n){if(e==null)return[];if(e instanceof EventTarget)return[e];if(typeof e=="string"){const r=document.querySelectorAll(e);return r?Array.from(r):[]}return Array.from(e).filter(s=>s!=null)}const m6=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function vv(e){return SI(e)&&"offsetHeight"in e}const{schedule:__}=II(queueMicrotask,!1),Ji={x:!1,y:!1};function p6(){return Ji.x||Ji.y}function sQ(e){return e==="x"||e==="y"?Ji[e]?null:(Ji[e]=!0,()=>{Ji[e]=!1}):Ji.x||Ji.y?null:(Ji.x=Ji.y=!0,()=>{Ji.x=Ji.y=!1})}function g6(e,t){const n=S_(e),s=new AbortController,r={passive:!0,...t,signal:s.signal};return[n,r,()=>s.abort()]}function eM(e){return!(e.pointerType==="touch"||p6())}function rQ(e,t,n={}){const[s,r,a]=g6(e,n),o=l=>{if(!eM(l))return;const{target:u}=l,d=t(u,l);if(typeof d!="function"||!u)return;const f=m=>{eM(m)&&(d(m),u.removeEventListener("pointerleave",f))};u.addEventListener("pointerleave",f,r)};return s.forEach(l=>{l.addEventListener("pointerenter",o,r)}),a}const x6=(e,t)=>t?e===t?!0:x6(e,t.parentElement):!1,C_=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,iQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v6(e){return iQ.has(e.tagName)||e.isContentEditable===!0}const Y0=new WeakSet;function tM(e){return t=>{t.key==="Enter"&&e(t)}}function Jj(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aQ=(e,t)=>{const n=e.currentTarget;if(!n)return;const s=tM(()=>{if(Y0.has(n))return;Jj(n,"down");const r=tM(()=>{Jj(n,"up")}),a=()=>Jj(n,"cancel");n.addEventListener("keyup",r,t),n.addEventListener("blur",a,t)});n.addEventListener("keydown",s,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",s),t)};function nM(e){return C_(e)&&!p6()}function oQ(e,t,n={}){const[s,r,a]=g6(e,n),o=l=>{const u=l.currentTarget;if(!nM(l))return;Y0.add(u);const d=t(u,l),f=(x,b)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),Y0.has(u)&&Y0.delete(u),nM(x)&&typeof d=="function"&&d(x,{success:b})},m=x=>{f(x,u===window||u===document||n.useGlobalTarget||x6(u,x.target))},g=x=>{f(x,!1)};window.addEventListener("pointerup",m,r),window.addEventListener("pointercancel",g,r)};return s.forEach(l=>{(n.useGlobalTarget?window:l).addEventListener("pointerdown",o,r),vv(l)&&(l.addEventListener("focus",d=>aQ(d,r)),!v6(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),a}function E_(e){return SI(e)&&"ownerSVGElement"in e}const J0=new WeakMap;let Nl;const y6=(e,t,n)=>(s,r)=>r&&r[0]?r[0][e+"Size"]:E_(s)&&"getBBox"in s?s.getBBox()[t]:s[n],lQ=y6("inline","width","offsetWidth"),cQ=y6("block","height","offsetHeight");function uQ({target:e,borderBoxSize:t}){var n;(n=J0.get(e))==null||n.forEach(s=>{s(e,{get width(){return lQ(e,t)},get height(){return cQ(e,t)}})})}function dQ(e){e.forEach(uQ)}function hQ(){typeof ResizeObserver>"u"||(Nl=new ResizeObserver(dQ))}function fQ(e,t){Nl||hQ();const n=S_(e);return n.forEach(s=>{let r=J0.get(s);r||(r=new Set,J0.set(s,r)),r.add(t),Nl==null||Nl.observe(s)}),()=>{n.forEach(s=>{const r=J0.get(s);r==null||r.delete(t),r!=null&&r.size||Nl==null||Nl.unobserve(s)})}}const X0=new Set;let th;function mQ(){th=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};X0.forEach(t=>t(e))},window.addEventListener("resize",th)}function pQ(e){return X0.add(e),th||mQ(),()=>{X0.delete(e),!X0.size&&typeof th=="function"&&(window.removeEventListener("resize",th),th=void 0)}}function gQ(e,t){return typeof e=="function"?pQ(e):fQ(e,t)}function b6(e,t){let n;const s=()=>{const{currentTime:r}=t,o=(r===null?0:r.value)/100;n!==o&&e(o),n=o};return nn.preUpdate(s,!0),()=>Ii(s)}function xQ(e){return E_(e)&&e.tagName==="svg"}function vQ(...e){const t=!Array.isArray(e[0]),n=t?0:-1,s=e[0+n],r=e[1+n],a=e[2+n],o=e[3+n],l=g_(r,a,o);return t?l(s):l}function yQ(e,t,n={}){const s=e.get();let r=null,a=s,o;const l=typeof s=="string"?s.replace(/[\d.-]/g,""):void 0,u=()=>{r&&(r.stop(),r=null)},d=()=>{u();const f=rM(e.get()),m=rM(a);f!==m&&(r=new ab({keyframes:[f,m],velocity:e.getVelocity(),type:"spring",restDelta:.001,restSpeed:.01,...n,onUpdate:o}))};if(e.attach((f,m)=>{a=f,o=g=>m(sM(g,l)),nn.postRender(()=>{var g;d(),(g=e.events.animationStart)==null||g.notify(),r==null||r.then(()=>{var x;(x=e.events.animationComplete)==null||x.notify()})})},u),Vs(t)){const f=t.on("change",g=>e.set(sM(g,l))),m=e.on("destroy",f);return()=>{f(),m()}}return u}function sM(e,t){return t?e+t:e}function rM(e){return typeof e=="number"?e:parseFloat(e)}const bQ=[...d6,vs,Xl],wQ=e=>bQ.find(u6(e)),iM=()=>({translate:0,scale:1,origin:0,originPoint:0}),nh=()=>({x:iM(),y:iM()}),aM=()=>({min:0,max:0}),Cs=()=>({x:aM(),y:aM()}),yv={current:null},T_={current:!1},jQ=typeof window<"u";function w6(){if(T_.current=!0,!!jQ)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>yv.current=e.matches;e.addEventListener("change",t),t()}else yv.current=!1}const kQ=new WeakMap;function ob(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function up(e){return typeof e=="string"||Array.isArray(e)}const z_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A_=["initial",...z_];function lb(e){return ob(e.animate)||A_.some(t=>up(e[t]))}function j6(e){return!!(lb(e)||e.variants)}function NQ(e,t,n){for(const s in t){const r=t[s],a=n[s];if(Vs(r))e.addValue(s,r);else if(Vs(a))e.addValue(s,ra(r,{owner:e}));else if(a!==r)if(e.hasValue(s)){const o=e.getValue(s);o.liveStyle===!0?o.jump(r):o.hasAnimated||o.set(r)}else{const o=e.getStaticValue(s);e.addValue(s,ra(o!==void 0?o:r,{owner:e}))}}for(const s in n)t[s]===void 0&&e.removeValue(s);return t}const oM=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let bv={};function k6(e){bv=e}function SQ(){return bv}class _Q{scrapeMotionValuesFromProps(t,n,s){return{}}constructor({parent:t,props:n,presenceContext:s,reducedMotionConfig:r,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=y_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=yr.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,nn.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=o;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=s,this.depth=t?t.depth+1:0,this.reducedMotionConfig=r,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=lb(n),this.isVariantNode=j6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const g in m){const x=m[g];u[g]!==void 0&&Vs(x)&&x.set(u[g])}}mount(t){var n;this.current=t,kQ.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(T_.current||w6(),this.shouldReduceMotion=yv.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ii(this.notifyUpdate),Ii(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const s=this.features[n];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const s=Wh.has(t);s&&this.onBindTransform&&this.onBindTransform();const r=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&nn.preRender(this.notifyUpdate),s&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let a;typeof window<"u"&&window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{r(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bv){const n=bv[t];if(!n)continue;const{isEnabled:s,Feature:r}=n;if(!this.features[t]&&r&&s(this.props)&&(this.features[t]=new r(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Cs()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let s=0;s<oM.length;s++){const r=oM[s];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const a="on"+r,o=t[a];o&&(this.propEventSubscriptions[r]=this.on(r,o))}this.prevMotionValues=NQ(this,this.scrapeMotionValuesFromProps(t,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const s=this.values.get(t);n!==s&&(s&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let s=this.values.get(t);return s===void 0&&n!==void 0&&(s=ra(n===null?void 0:n,{owner:this}),this.addValue(t,s)),s}readValue(t,n){let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(NI(s)||_I(s))?s=parseFloat(s):!wQ(s)&&Xl.test(n)&&(s=f6(t,n)),this.setBaseTarget(t,Vs(s)?s.get():s)),Vs(s)?s.get():s}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var a;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=j_(this.props,n,(a=this.presenceContext)==null?void 0:a.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const r=this.getBaseTargetFromProps(this.props,t);return r!==void 0&&!Vs(r)?r:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new o_),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){__.render(this.render)}}class N6 extends _Q{constructor(){super(...arguments),this.KeyframeResolver=nQ}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){const s=t.style;return s?s[n]:void 0}removeValueFromRenderState(t,{vars:n,style:s}){delete n[t],delete s[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Vs(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class ac{constructor(t){this.isMounted=!1,this.node=t}update(){}}function S6({top:e,left:t,right:n,bottom:s}){return{x:{min:t,max:n},y:{min:e,max:s}}}function CQ({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function EQ(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),s=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:s.y,right:s.x}}function Xj(e){return e===void 0||e===1}function QN({scale:e,scaleX:t,scaleY:n}){return!Xj(e)||!Xj(t)||!Xj(n)}function Uc(e){return QN(e)||_6(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _6(e){return lM(e.x)||lM(e.y)}function lM(e){return e&&e!=="0%"}function wv(e,t,n){const s=e-n,r=t*s;return n+r}function cM(e,t,n,s,r){return r!==void 0&&(e=wv(e,r,s)),wv(e,n,s)+t}function e2(e,t=0,n=1,s,r){e.min=cM(e.min,t,n,s,r),e.max=cM(e.max,t,n,s,r)}function C6(e,{x:t,y:n}){e2(e.x,t.translate,t.scale,t.originPoint),e2(e.y,n.translate,n.scale,n.originPoint)}const uM=.999999999999,dM=1.0000000000001;function TQ(e,t,n,s=!1){const r=n.length;if(!r)return;t.x=t.y=1;let a,o;for(let l=0;l<r;l++){a=n[l],o=a.projectionDelta;const{visualElement:u}=a.options;u&&u.props.style&&u.props.style.display==="contents"||(s&&a.options.layoutScroll&&a.scroll&&a!==a.root&&rh(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,C6(e,o)),s&&Uc(a.latestValues)&&rh(e,a.latestValues))}t.x<dM&&t.x>uM&&(t.x=1),t.y<dM&&t.y>uM&&(t.y=1)}function sh(e,t){e.min=e.min+t,e.max=e.max+t}function hM(e,t,n,s,r=.5){const a=Un(e.min,e.max,r);e2(e,t,n,a,s)}function rh(e,t){hM(e.x,t.x,t.scaleX,t.scale,t.originX),hM(e.y,t.y,t.scaleY,t.scale,t.originY)}function E6(e,t){return S6(EQ(e.getBoundingClientRect(),t))}function zQ(e,t,n){const s=E6(e,n),{scroll:r}=t;return r&&(sh(s.x,r.offset.x),sh(s.y,r.offset.y)),s}const AQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MQ=Zh.length;function RQ(e,t,n){let s="",r=!0;for(let a=0;a<MQ;a++){const o=Zh[a],l=e[o];if(l===void 0)continue;let u=!0;if(typeof l=="number")u=l===(o.startsWith("scale")?1:0);else{const d=parseFloat(l);u=o.startsWith("scale")?d===1:d===0}if(!u||n){const d=m6(l,N_[o]);if(!u){r=!1;const f=AQ[o]||o;s+=`${f}(${d}) `}n&&(t[o]=d)}}return s=s.trim(),n?s=n(t,r?"":s):r&&(s="none"),s}function M_(e,t,n){const{style:s,vars:r,transformOrigin:a}=e;let o=!1,l=!1;for(const u in t){const d=t[u];if(Wh.has(u)){o=!0;continue}else if($I(u)){r[u]=d;continue}else{const f=m6(d,N_[u]);u.startsWith("origin")?(l=!0,a[u]=f):s[u]=f}}if(t.transform||(o||n?s.transform=RQ(t,e.transform,n):s.transform&&(s.transform="none")),l){const{originX:u="50%",originY:d="50%",originZ:f=0}=a;s.transformOrigin=`${u} ${d} ${f}`}}function T6(e,{style:t,vars:n},s,r){const a=e.style;let o;for(o in t)a[o]=t[o];r==null||r.applyProjectionStyles(a,s);for(o in n)a.setProperty(o,n[o])}function fM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const im={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(rt.test(e))e=parseFloat(e);else return e;const n=fM(e,t.target.x),s=fM(e,t.target.y);return`${n}% ${s}%`}},OQ={correct:(e,{treeScale:t,projectionDelta:n})=>{const s=e,r=Xl.parse(e);if(r.length>5)return s;const a=Xl.createTransformer(e),o=typeof r[0]!="number"?1:0,l=n.x.scale*t.x,u=n.y.scale*t.y;r[0+o]/=l,r[1+o]/=u;const d=Un(l,u,.5);return typeof r[2+o]=="number"&&(r[2+o]/=d),typeof r[3+o]=="number"&&(r[3+o]/=d),a(r)}},t2={borderRadius:{...im,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:im,borderTopRightRadius:im,borderBottomLeftRadius:im,borderBottomRightRadius:im,boxShadow:OQ};function z6(e,{layout:t,layoutId:n}){return Wh.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!t2[e]||e==="opacity")}function R_(e,t,n){var o;const s=e.style,r=t==null?void 0:t.style,a={};if(!s)return a;for(const l in s)(Vs(s[l])||r&&Vs(r[l])||z6(l,e)||((o=n==null?void 0:n.getValue(l))==null?void 0:o.liveStyle)!==void 0)&&(a[l]=s[l]);return a}function DQ(e){return window.getComputedStyle(e)}class PQ extends N6{constructor(){super(...arguments),this.type="html",this.renderInstance=T6}readValueFromInstance(t,n){var s;if(Wh.has(n))return(s=this.projection)!=null&&s.isProjecting?UN(n):rX(t,n);{const r=DQ(t),a=($I(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return E6(t,n)}build(t,n,s){M_(t,n,s.transformTemplate)}scrapeMotionValuesFromProps(t,n,s){return R_(t,n,s)}}const IQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},LQ={offset:"strokeDashoffset",array:"strokeDasharray"};function $Q(e,t,n=1,s=0,r=!0){e.pathLength=1;const a=r?IQ:LQ;e[a.offset]=`${-s}`,e[a.array]=`${t} ${n}`}const VQ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function A6(e,{attrX:t,attrY:n,attrScale:s,pathLength:r,pathSpacing:a=1,pathOffset:o=0,...l},u,d,f){if(M_(e,l,d),u){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:g}=e;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox);for(const x of VQ)m[x]!==void 0&&(g[x]=m[x],delete m[x]);t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),s!==void 0&&(m.scale=s),r!==void 0&&$Q(m,r,a,o,!1)}const M6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),R6=e=>typeof e=="string"&&e.toLowerCase()==="svg";function BQ(e,t,n,s){T6(e,t,void 0,s);for(const r in t.attrs)e.setAttribute(M6.has(r)?r:k_(r),t.attrs[r])}function O6(e,t,n){const s=R_(e,t,n);for(const r in e)if(Vs(e[r])||Vs(t[r])){const a=Zh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;s[a]=e[r]}return s}class FQ extends N6{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Cs}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Wh.has(n)){const s=h6(n);return s&&s.default||0}return n=M6.has(n)?n:k_(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,s){return O6(t,n,s)}build(t,n,s){A6(t,n,this.isSVGTag,s.transformTemplate,s.style)}renderInstance(t,n,s,r){BQ(t,n,s,r)}mount(t){this.isSVGTag=R6(t.tagName),super.mount(t)}}const UQ=A_.length;function D6(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?D6(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<UQ;n++){const s=A_[n],r=e.props[s];(up(r)||r===!1)&&(t[s]=r)}return t}function P6(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let s=0;s<n;s++)if(t[s]!==e[s])return!1;return!0}const HQ=[...z_].reverse(),qQ=z_.length;function ZQ(e){return t=>Promise.all(t.map(({animation:n,options:s})=>ZX(e,n,s)))}function WQ(e){let t=ZQ(e),n=mM(),s=!0;const r=u=>(d,f)=>{var g;const m=fh(e,f,u==="exit"?(g=e.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:x,transitionEnd:b,...w}=m;d={...d,...w,...b}}return d};function a(u){t=u(e)}function o(u){const{props:d}=e,f=D6(e.parent)||{},m=[],g=new Set;let x={},b=1/0;for(let j=0;j<qQ;j++){const k=HQ[j],S=n[k],C=d[k]!==void 0?d[k]:f[k],E=up(C),z=k===u?S.isActive:null;z===!1&&(b=j);let R=C===f[k]&&C!==d[k]&&E;if(R&&s&&e.manuallyAnimateOnMount&&(R=!1),S.protectedKeys={...x},!S.isActive&&z===null||!C&&!S.prevProp||ob(C)||typeof C=="boolean")continue;const T=KQ(S.prevProp,C);let A=T||k===u&&S.isActive&&!R&&E||j>b&&E,D=!1;const F=Array.isArray(C)?C:[C];let V=F.reduce(r(k),{});z===!1&&(V={});const{prevResolvedValues:$={}}=S,q={...$,...V},K=P=>{A=!0,g.has(P)&&(D=!0,g.delete(P)),S.needsAnimating[P]=!0;const I=e.getValue(P);I&&(I.liveStyle=!1)};for(const P in q){const I=V[P],G=$[P];if(x.hasOwnProperty(P))continue;let U=!1;GN(I)&&GN(G)?U=!P6(I,G):U=I!==G,U?I!=null?K(P):g.add(P):I!==void 0&&g.has(P)?K(P):S.protectedKeys[P]=!0}S.prevProp=C,S.prevResolvedValues=V,S.isActive&&(x={...x,...V}),s&&e.blockInitialAnimation&&(A=!1);const ee=R&&T;A&&(!ee||D)&&m.push(...F.map(P=>{const I={type:k};if(typeof P=="string"&&s&&!ee&&e.manuallyAnimateOnMount&&e.parent){const{parent:G}=e,U=fh(G,P);if(G.enteringChildren&&U){const{delayChildren:M}=U.transition||{};I.delay=r6(G.enteringChildren,e,M)}}return{animation:P,options:I}}))}if(g.size){const j={};if(typeof d.initial!="boolean"){const k=fh(e,Array.isArray(d.initial)?d.initial[0]:d.initial);k&&k.transition&&(j.transition=k.transition)}g.forEach(k=>{const S=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),j[k]=S??null}),m.push({animation:j})}let w=!!m.length;return s&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),s=!1,w?t(m):Promise.resolve()}function l(u,d){var m;if(n[u].isActive===d)return Promise.resolve();(m=e.variantChildren)==null||m.forEach(g=>{var x;return(x=g.animationState)==null?void 0:x.setActive(u,d)}),n[u].isActive=d;const f=o(u);for(const g in n)n[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>n,reset:()=>{n=mM()}}}function KQ(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!P6(t,e):!1}function Dc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mM(){return{animate:Dc(!0),whileInView:Dc(),whileHover:Dc(),whileTap:Dc(),whileDrag:Dc(),whileFocus:Dc(),exit:Dc()}}function pM(e,t){e.min=t.min,e.max=t.max}function Ki(e,t){pM(e.x,t.x),pM(e.y,t.y)}function gM(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}const I6=1e-4,GQ=1-I6,YQ=1+I6,L6=.01,JQ=0-L6,XQ=0+L6;function br(e){return e.max-e.min}function QQ(e,t,n){return Math.abs(e-t)<=n}function xM(e,t,n,s=.5){e.origin=s,e.originPoint=Un(t.min,t.max,e.origin),e.scale=br(n)/br(t),e.translate=Un(n.min,n.max,e.origin)-e.originPoint,(e.scale>=GQ&&e.scale<=YQ||isNaN(e.scale))&&(e.scale=1),(e.translate>=JQ&&e.translate<=XQ||isNaN(e.translate))&&(e.translate=0)}function Vm(e,t,n,s){xM(e.x,t.x,n.x,s?s.originX:void 0),xM(e.y,t.y,n.y,s?s.originY:void 0)}function vM(e,t,n){e.min=n.min+t.min,e.max=e.min+br(t)}function eee(e,t,n){vM(e.x,t.x,n.x),vM(e.y,t.y,n.y)}function yM(e,t,n){e.min=t.min-n.min,e.max=e.min+br(t)}function jv(e,t,n){yM(e.x,t.x,n.x),yM(e.y,t.y,n.y)}function bM(e,t,n,s,r){return e-=t,e=wv(e,1/n,s),r!==void 0&&(e=wv(e,1/r,s)),e}function tee(e,t=0,n=1,s=.5,r,a=e,o=e){if(Oa.test(t)&&(t=parseFloat(t),t=Un(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=Un(a.min,a.max,s);e===a&&(l-=t),e.min=bM(e.min,t,n,l,r),e.max=bM(e.max,t,n,l,r)}function wM(e,t,[n,s,r],a,o){tee(e,t[n],t[s],t[r],t.scale,a,o)}const nee=["x","scaleX","originX"],see=["y","scaleY","originY"];function jM(e,t,n,s){wM(e.x,t,nee,n?n.x:void 0,s?s.x:void 0),wM(e.y,t,see,n?n.y:void 0,s?s.y:void 0)}function kM(e){return e.translate===0&&e.scale===1}function $6(e){return kM(e.x)&&kM(e.y)}function NM(e,t){return e.min===t.min&&e.max===t.max}function ree(e,t){return NM(e.x,t.x)&&NM(e.y,t.y)}function SM(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function V6(e,t){return SM(e.x,t.x)&&SM(e.y,t.y)}function _M(e){return br(e.x)/br(e.y)}function CM(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}function Si(e){return[e("x"),e("y")]}function iee(e,t,n){let s="";const r=e.x.translate/t.x,a=e.y.translate/t.y,o=(n==null?void 0:n.z)||0;if((r||a||o)&&(s=`translate3d(${r}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(s+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:g,skewX:x,skewY:b}=n;d&&(s=`perspective(${d}px) ${s}`),f&&(s+=`rotate(${f}deg) `),m&&(s+=`rotateX(${m}deg) `),g&&(s+=`rotateY(${g}deg) `),x&&(s+=`skewX(${x}deg) `),b&&(s+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,u=e.y.scale*t.y;return(l!==1||u!==1)&&(s+=`scale(${l}, ${u})`),s||"none"}const B6=["TopLeft","TopRight","BottomLeft","BottomRight"],aee=B6.length,EM=e=>typeof e=="string"?parseFloat(e):e,TM=e=>typeof e=="number"||rt.test(e);function oee(e,t,n,s,r,a){r?(e.opacity=Un(0,n.opacity??1,lee(s)),e.opacityExit=Un(t.opacity??1,0,cee(s))):a&&(e.opacity=Un(t.opacity??1,n.opacity??1,s));for(let o=0;o<aee;o++){const l=`border${B6[o]}Radius`;let u=zM(t,l),d=zM(n,l);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||TM(u)===TM(d)?(e[l]=Math.max(Un(EM(u),EM(d),s),0),(Oa.test(d)||Oa.test(u))&&(e[l]+="%")):e[l]=d}(t.rotate||n.rotate)&&(e.rotate=Un(t.rotate||0,n.rotate||0,s))}function zM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const lee=F6(0,.5,RI),cee=F6(.5,.95,Vr);function F6(e,t,n){return s=>s<e?0:s>t?1:n(Sh(e,t,s))}function uee(e,t,n){const s=Vs(e)?e:ra(e);return s.start(w_("",s,t,n)),s.animation}function dp(e,t,n,s={passive:!0}){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n)}const dee=(e,t)=>e.depth-t.depth;class hee{constructor(){this.children=[],this.isDirty=!1}add(t){r_(this.children,t),this.isDirty=!0}remove(t){i_(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(dee),this.isDirty=!1,this.children.forEach(t)}}function fee(e,t){const n=yr.now(),s=({timestamp:r})=>{const a=r-n;a>=t&&(Ii(s),e(a-t))};return nn.setup(s,!0),()=>Ii(s)}function Q0(e){return Vs(e)?e.get():e}class mee{constructor(){this.members=[]}add(t){r_(this.members,t),t.scheduleRender()}remove(t){if(i_(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(r=>t===r);if(n===0)return!1;let s;for(let r=n;r>=0;r--){const a=this.members[r];if(a.isPresent!==!1){s=a;break}}return s?(this.promote(s),!0):!1}promote(t,n){const s=this.lead;if(t!==s&&(this.prevLead=s,this.lead=t,t.show(),s)){s.instance&&s.scheduleRender(),t.scheduleRender();const r=s.options.layoutDependency,a=t.options.layoutDependency;r!==void 0&&a!==void 0&&r===a||(t.resumeFrom=s,n&&(t.resumeFrom.preserveOpacity=!0),s.snapshot&&(t.snapshot=s.snapshot,t.snapshot.latestValues=s.animationValues||s.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0));const{crossfade:l}=t.options;l===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:s}=t;n.onExitComplete&&n.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const ev={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Qj=["","X","Y","Z"],pee=1e3;let gee=0;function ek(e,t,n,s){const{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),s&&(s[e]=0))}function U6(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=l6(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:r,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",nn,!(r||a))}const{parent:s}=e;s&&!s.hasCheckedOptimisedAppear&&U6(s)}function H6({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:s,resetTransform:r}){return class{constructor(o={},l=t==null?void 0:t()){this.id=gee++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(yee),this.nodes.forEach(kee),this.nodes.forEach(Nee),this.nodes.forEach(bee)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new hee)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new o_),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const u=this.eventHandlers.get(o);u&&u.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=E_(o)&&!xQ(o),this.instance=o;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||l)&&(this.isLayoutDirty=!0),e){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;nn.read(()=>{m=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==m&&(m=x,this.root.updateBlockedByResize=!0,f&&f(),f=fee(g,250),ev.hasAnimatedSinceResize&&(ev.hasAnimatedSinceResize=!1,this.nodes.forEach(RM)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||Tee,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=d.getProps(),k=!this.targetLayout||!V6(this.targetLayout,x),S=!m&&g;if(this.options.layoutRoot||this.resumeFrom||S||m&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...b_(b,"layout"),onPlay:w,onComplete:j};(d.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(f,S)}else m||RM(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(See),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&U6(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:u}=this.options;if(l===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(AM);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(MM);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(jee),this.nodes.forEach(xee),this.nodes.forEach(vee)):this.nodes.forEach(MM),this.clearAllSnapshots();const l=yr.now();Ps.delta=la(0,1e3/60,l-Ps.timestamp),Ps.timestamp=l,Ps.isProcessing=!0,qj.update.process(Ps),qj.preRender.process(Ps),qj.render.process(Ps),Ps.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,__.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(wee),this.sharedNodes.forEach(_ee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!br(this.snapshot.measuredBox.x)&&!br(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Cs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const u=s(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!$6(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Uc(this.latestValues)||f)&&(r(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let u=this.removeElementScroll(l);return o&&(u=this.removeTransform(u)),zee(u),{animationId:this.root.animationId,measuredBox:l,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Cs();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(Aee))){const{scroll:f}=this.root;f&&(sh(l.x,f.offset.x),sh(l.y,f.offset.y))}return l}removeElementScroll(o){var u;const l=Cs();if(Ki(l,o),(u=this.scroll)!=null&&u.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Ki(l,o),sh(l.x,m.offset.x),sh(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const u=Cs();Ki(u,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&rh(u,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Uc(f.latestValues)&&rh(u,f.latestValues)}return Uc(this.latestValues)&&rh(u,this.latestValues),u}removeTransform(o){const l=Cs();Ki(l,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Uc(d.latestValues))continue;QN(d.latestValues)&&d.updateSnapshot();const f=Cs(),m=d.measurePageBox();Ki(f,m),jM(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Uc(this.latestValues)&&jM(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ps.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var x;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!this.layout||!(f||m))return;this.resolvedRelativeTargetAt=Ps.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Cs(),this.targetWithTransforms=Cs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eee(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ki(this.target,this.layout.layoutBox),C6(this.target,this.targetDelta)):Ki(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||QN(this.parent.latestValues)||_6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,l,u){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Cs(),this.relativeTargetOrigin=Cs(),jv(this.relativeTargetOrigin,l,u),Ki(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var b;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ps.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ki(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;TQ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Cs());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(gM(this.prevProjectionDelta.x,this.projectionDelta.x),gM(this.prevProjectionDelta.y,this.projectionDelta.y)),Vm(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!CM(this.projectionDelta.x,this.prevProjectionDelta.x)||!CM(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nh(),this.projectionDelta=nh(),this.projectionDeltaWithTransform=nh()}setAnimationOrigin(o,l=!1){const u=this.snapshot,d=u?u.latestValues:{},f={...this.latestValues},m=nh();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Cs(),x=u?u.source:void 0,b=this.layout?this.layout.source:void 0,w=x!==b,j=this.getStack(),k=!j||j.members.length<=1,S=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(Eee));this.animationProgress=0;let C;this.mixTargetDelta=E=>{const z=E/1e3;OM(m.x,o.x,z),OM(m.y,o.y,z),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(jv(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Cee(this.relativeTarget,this.relativeTargetOrigin,g,z),C&&ree(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Cs()),Ki(C,this.relativeTarget)),w&&(this.animationValues=f,oee(f,d,this.latestValues,z,S,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,u,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(u=this.resumingFrom)==null?void 0:u.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{ev.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ra(0)),this.currentAnimation=uee(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pee),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:u,layout:d,latestValues:f}=o;if(!(!l||!u||!d)){if(this!==o&&this.layout&&d&&q6(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||Cs();const m=br(this.layout.layoutBox.x);u.x.min=o.target.x.min,u.x.max=u.x.min+m;const g=br(this.layout.layoutBox.y);u.y.min=o.target.y.min,u.y.max=u.y.min+g}Ki(l,u),rh(l,f),Vm(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new mee),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:u}=o;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(l=!0),!l)return;const d={};u.z&&ek("z",o,d,this.animationValues);for(let f=0;f<Qj.length;f++)ek(`rotate${Qj[f]}`,o,d,this.animationValues),ek(`skew${Qj[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Q0(l==null?void 0:l.pointerEvents)||"",o.transform=u?u(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Q0(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Uc(this.latestValues)&&(o.transform=u?u({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=iee(this.projectionDeltaWithTransform,this.treeScale,f);u&&(m=u(f,m)),o.transform=m;const{x:g,y:x}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${x.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const b in t2){if(f[b]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:k}=t2[b],S=m==="none"?f[b]:w(f[b],d);if(j){const C=j.length;for(let E=0;E<C;E++)o[j[E]]=S}else k?this.options.visualElement.renderState.vars[b]=S:o[b]=S}this.options.layoutId&&(o.pointerEvents=d===this?Q0(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(AM),this.root.sharedNodes.clear()}}}function xee(e){e.updateLayout()}function vee(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:r}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?Si(m=>{const g=o?t.measuredBox[m]:t.layoutBox[m],x=br(g);g.min=s[m].min,g.max=g.min+x}):q6(a,t.layoutBox,s)&&Si(m=>{const g=o?t.measuredBox[m]:t.layoutBox[m],x=br(s[m]);g.max=g.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+x)});const l=nh();Vm(l,s,t.layoutBox);const u=nh();o?Vm(u,e.applyTransform(r,!0),t.measuredBox):Vm(u,s,t.layoutBox);const d=!$6(l);let f=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:x}=m;if(g&&x){const b=Cs();jv(b,t.layoutBox,g.layoutBox);const w=Cs();jv(w,s,x.layoutBox),V6(b,w)||(f=!0),m.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=b,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:u,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(e.isLead()){const{onExitComplete:s}=e.options;s&&s()}e.options.transition=void 0}function yee(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function bee(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function wee(e){e.clearSnapshot()}function AM(e){e.clearMeasurements()}function MM(e){e.isLayoutDirty=!1}function jee(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function RM(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kee(e){e.resolveTargetDelta()}function Nee(e){e.calcProjection()}function See(e){e.resetSkewAndRotation()}function _ee(e){e.removeLeadSnapshot()}function OM(e,t,n){e.translate=Un(t.translate,0,n),e.scale=Un(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function DM(e,t,n,s){e.min=Un(t.min,n.min,s),e.max=Un(t.max,n.max,s)}function Cee(e,t,n,s){DM(e.x,t.x,n.x,s),DM(e.y,t.y,n.y,s)}function Eee(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Tee={duration:.45,ease:[.4,0,.1,1]},PM=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),IM=PM("applewebkit/")&&!PM("chrome/")?Math.round:Vr;function LM(e){e.min=IM(e.min),e.max=IM(e.max)}function zee(e){LM(e.x),LM(e.y)}function q6(e,t,n){return e==="position"||e==="preserve-aspect"&&!QQ(_M(t),_M(n),.2)}function Aee(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const Mee=H6({attachResizeListener:(e,t)=>dp(e,"resize",t),measureScroll:()=>{var e,t;return{x:document.documentElement.scrollLeft||((e=document.body)==null?void 0:e.scrollLeft)||0,y:document.documentElement.scrollTop||((t=document.body)==null?void 0:t.scrollTop)||0}},checkIsScrollRoot:()=>!0}),tk={current:void 0},Z6=H6({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!tk.current){const e=new Mee({});e.mount(window),e.setOptions({layoutScroll:!0}),tk.current=e}return tk.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),tg=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function $M(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ree(...e){return t=>{let n=!1;const s=e.map(r=>{const a=$M(r,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<s.length;r++){const a=s[r];typeof a=="function"?a():$M(e[r],null)}}}}function Oee(...e){return v.useCallback(Ree(...e),e)}class Dee extends v.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const s=n.offsetParent,r=vv(s)&&s.offsetWidth||0,a=vv(s)&&s.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=r-o.width-o.left,o.bottom=a-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Pee({children:e,isPresent:t,anchorX:n,anchorY:s,root:r}){var m;const a=v.useId(),o=v.useRef(null),l=v.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:u}=v.useContext(tg),d=((m=e.props)==null?void 0:m.ref)??(e==null?void 0:e.ref),f=Oee(o,d);return v.useInsertionEffect(()=>{const{width:g,height:x,top:b,left:w,right:j,bottom:k}=l.current;if(t||!o.current||!g||!x)return;const S=n==="left"?`left: ${w}`:`right: ${j}`,C=s==="bottom"?`bottom: ${k}`:`top: ${b}`;o.current.dataset.motionPopId=a;const E=document.createElement("style");u&&(E.nonce=u);const z=r??document.head;return z.appendChild(E),E.sheet&&E.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${g}px !important;
            height: ${x}px !important;
            ${S}px !important;
            ${C}px !important;
          }
        `),()=>{z.contains(E)&&z.removeChild(E)}},[t]),i.jsx(Dee,{isPresent:t,childRef:o,sizeRef:l,children:v.cloneElement(e,{ref:f})})}const Iee=({children:e,initial:t,isPresent:n,onExitComplete:s,custom:r,presenceAffectsLayout:a,mode:o,anchorX:l,anchorY:u,root:d})=>{const f=Jl(Lee),m=v.useId();let g=!0,x=v.useMemo(()=>(g=!1,{id:m,initial:t,isPresent:n,custom:r,onExitComplete:b=>{f.set(b,!0);for(const w of f.values())if(!w)return;s&&s()},register:b=>(f.set(b,!1),()=>f.delete(b))}),[n,f,s]);return a&&g&&(x={...x}),v.useMemo(()=>{f.forEach((b,w)=>f.set(w,!1))},[n]),v.useEffect(()=>{!n&&!f.size&&s&&s()},[n]),o==="popLayout"&&(e=i.jsx(Pee,{isPresent:n,anchorX:l,anchorY:u,root:d,children:e})),i.jsx(ib.Provider,{value:x,children:e})};function Lee(){return new Map}function W6(e=!0){const t=v.useContext(ib);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:s,register:r}=t,a=v.useId();v.useEffect(()=>{if(e)return r(a)},[e]);const o=v.useCallback(()=>e&&s&&s(a),[a,s,e]);return!n&&s?[!1,o]:[!0]}const Xx=e=>e.key||"";function VM(e){const t=[];return v.Children.forEach(e,n=>{v.isValidElement(n)&&t.push(n)}),t}const jn=({children:e,custom:t,initial:n=!0,onExitComplete:s,presenceAffectsLayout:r=!0,mode:a="sync",propagate:o=!1,anchorX:l="left",anchorY:u="top",root:d})=>{const[f,m]=W6(o),g=v.useMemo(()=>VM(e),[e]),x=o&&!f?[]:g.map(Xx),b=v.useRef(!0),w=v.useRef(g),j=Jl(()=>new Map),k=v.useRef(new Set),[S,C]=v.useState(g),[E,z]=v.useState(g);rb(()=>{b.current=!1,w.current=g;for(let A=0;A<E.length;A++){const D=Xx(E[A]);x.includes(D)?(j.delete(D),k.current.delete(D)):j.get(D)!==!0&&j.set(D,!1)}},[E,x.length,x.join("-")]);const R=[];if(g!==S){let A=[...g];for(let D=0;D<E.length;D++){const F=E[D],V=Xx(F);x.includes(V)||(A.splice(D,0,F),R.push(F))}return a==="wait"&&R.length&&(A=R),z(VM(A)),C(g),null}const{forceRender:T}=v.useContext(s_);return i.jsx(i.Fragment,{children:E.map(A=>{const D=Xx(A),F=o&&!f?!1:g===E||x.includes(D),V=()=>{if(k.current.has(D))return;if(k.current.add(D),j.has(D))j.set(D,!0);else return;let $=!0;j.forEach(q=>{q||($=!1)}),$&&(T==null||T(),z(w.current),o&&(m==null||m()),s&&s())};return i.jsx(Iee,{isPresent:F,initial:!b.current||n?void 0:!1,custom:t,presenceAffectsLayout:r,mode:a,root:d,onExitComplete:F?void 0:V,anchorX:l,anchorY:u,children:A},D)})})},K6=v.createContext({strict:!1}),BM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let FM=!1;function $ee(){if(FM)return;const e={};for(const t in BM)e[t]={isEnabled:n=>BM[t].some(s=>!!n[s])};k6(e),FM=!0}function G6(){return $ee(),SQ()}function Vee(e){const t=G6();for(const n in e)t[n]={...t[n],...e[n]};k6(t)}const Bee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kv(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Bee.has(e)}let Y6=e=>!kv(e);function Fee(e){typeof e=="function"&&(Y6=t=>t.startsWith("on")?!kv(t):e(t))}try{Fee(require("@emotion/is-prop-valid").default)}catch{}function Uee(e,t,n){const s={};for(const r in e)r==="values"&&typeof e.values=="object"||(Y6(r)||n===!0&&kv(r)||!t&&!kv(r)||e.draggable&&r.startsWith("onDrag"))&&(s[r]=e[r]);return s}const cb=v.createContext({});function Hee(e,t){if(lb(e)){const{initial:n,animate:s}=e;return{initial:n===!1||up(n)?n:void 0,animate:up(s)?s:void 0}}return e.inherit!==!1?t:{}}function qee(e){const{initial:t,animate:n}=Hee(e,v.useContext(cb));return v.useMemo(()=>({initial:t,animate:n}),[UM(t),UM(n)])}function UM(e){return Array.isArray(e)?e.join(" "):e}const O_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function J6(e,t,n){for(const s in t)!Vs(t[s])&&!z6(s,n)&&(e[s]=t[s])}function Zee({transformTemplate:e},t){return v.useMemo(()=>{const n=O_();return M_(n,t,e),Object.assign({},n.vars,n.style)},[t])}function Wee(e,t){const n=e.style||{},s={};return J6(s,n,e),Object.assign(s,Zee(e,t)),s}function Kee(e,t){const n={},s=Wee(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=s,n}const X6=()=>({...O_(),attrs:{}});function Gee(e,t,n,s){const r=v.useMemo(()=>{const a=X6();return A6(a,t,R6(s),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};J6(a,e.style,e),r.style={...a,...r.style}}return r}const Yee=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function D_(e){return typeof e!="string"||e.includes("-")?!1:!!(Yee.indexOf(e)>-1||/[A-Z]/u.test(e))}function Jee(e,t,n,{latestValues:s},r,a=!1,o){const u=(o??D_(e)?Gee:Kee)(t,s,r,e),d=Uee(t,typeof e=="string",a),f=e!==v.Fragment?{...d,...u,ref:n}:{},{children:m}=t,g=v.useMemo(()=>Vs(m)?m.get():m,[m]);return v.createElement(e,{...f,children:g})}function Xee({scrapeMotionValuesFromProps:e,createRenderState:t},n,s,r){return{latestValues:Qee(n,s,r,e),renderState:t()}}function Qee(e,t,n,s){const r={},a=s(e,{});for(const g in a)r[g]=Q0(a[g]);let{initial:o,animate:l}=e;const u=lb(e),d=j6(e);t&&d&&!u&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!ob(m)){const g=Array.isArray(m)?m:[m];for(let x=0;x<g.length;x++){const b=j_(e,g[x]);if(b){const{transitionEnd:w,transition:j,...k}=b;for(const S in k){let C=k[S];if(Array.isArray(C)){const E=f?C.length-1:0;C=C[E]}C!==null&&(r[S]=C)}for(const S in w)r[S]=w[S]}}}return r}const Q6=e=>(t,n)=>{const s=v.useContext(cb),r=v.useContext(ib),a=()=>Xee(e,t,s,r);return n?a():Jl(a)},ete=Q6({scrapeMotionValuesFromProps:R_,createRenderState:O_}),tte=Q6({scrapeMotionValuesFromProps:O6,createRenderState:X6}),nte=Symbol.for("motionComponentSymbol");function ste(e,t,n){const s=v.useRef(n);v.useInsertionEffect(()=>{s.current=n});const r=v.useRef(null);return v.useCallback(a=>{var l;a&&((l=e.onMount)==null||l.call(e,a)),t&&(a?t.mount(a):t.unmount());const o=s.current;if(typeof o=="function")if(a){const u=o(a);typeof u=="function"&&(r.current=u)}else r.current?(r.current(),r.current=null):o(a);else o&&(o.current=a)},[t])}const eL=v.createContext({});function jm(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function rte(e,t,n,s,r,a){var k,S;const{visualElement:o}=v.useContext(cb),l=v.useContext(K6),u=v.useContext(ib),d=v.useContext(tg).reducedMotion,f=v.useRef(null),m=v.useRef(!1);s=s||l.renderer,!f.current&&s&&(f.current=s(e,{visualState:t,parent:o,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d,isSVG:a}),m.current&&f.current&&(f.current.manuallyAnimateOnMount=!0));const g=f.current,x=v.useContext(eL);g&&!g.projection&&r&&(g.type==="html"||g.type==="svg")&&ite(f.current,n,r,x);const b=v.useRef(!1);v.useInsertionEffect(()=>{g&&b.current&&g.update(n,u)});const w=n[o6],j=v.useRef(!!w&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,w))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,w)));return rb(()=>{m.current=!0,g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),g.scheduleRenderMicrotask(),j.current&&g.animationState&&g.animationState.animateChanges())}),v.useEffect(()=>{g&&(!j.current&&g.animationState&&g.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)==null||C.call(window,w)}),j.current=!1),g.enteringChildren=void 0)}),g}function ite(e,t,n,s){const{layoutId:r,layout:a,drag:o,dragConstraints:l,layoutScroll:u,layoutRoot:d,layoutCrossfade:f}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:tL(e.parent)),e.projection.setOptions({layoutId:r,layout:a,alwaysMeasureLayout:!!o||l&&jm(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:s,crossfade:f,layoutScroll:u,layoutRoot:d})}function tL(e){if(e)return e.options.allowProjection!==!1?e.projection:tL(e.parent)}function nk(e,{forwardMotionProps:t=!1,type:n}={},s,r){s&&Vee(s);const a=n?n==="svg":D_(e),o=a?tte:ete;function l(d,f){let m;const g={...v.useContext(tg),...d,layoutId:ate(d)},{isStatic:x}=g,b=qee(d),w=o(d,x);if(!x&&kI){ote();const j=lte(g);m=j.MeasureLayout,b.visualElement=rte(e,w,g,r,j.ProjectionNode,a)}return i.jsxs(cb.Provider,{value:b,children:[m&&b.visualElement?i.jsx(m,{visualElement:b.visualElement,...g}):null,Jee(e,d,ste(w,b.visualElement,f),w,x,t,a)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const u=v.forwardRef(l);return u[nte]=e,u}function ate({layoutId:e}){const t=v.useContext(s_).id;return t&&e!==void 0?t+"-"+e:e}function ote(e,t){v.useContext(K6).strict}function lte(e){const t=G6(),{drag:n,layout:s}=t;if(!n&&!s)return{};const r={...n,...s};return{MeasureLayout:n!=null&&n.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function cte(e,t){if(typeof Proxy>"u")return nk;const n=new Map,s=(a,o)=>nk(a,o,e,t),r=(a,o)=>s(a,o);return new Proxy(r,{get:(a,o)=>o==="create"?s:(n.has(o)||n.set(o,nk(o,void 0,e,t)),n.get(o))})}const ute=(e,t)=>t.isSVG??D_(e)?new FQ(t):new PQ(t,{allowProjection:e!==v.Fragment});class dte extends ac{constructor(t){super(t),t.animationState||(t.animationState=WQ(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();ob(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let hte=0;class fte extends ac{constructor(){super(...arguments),this.id=hte++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===s)return;const r=this.node.animationState.setActive("exit",!t);n&&!t&&r.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const mte={animation:{Feature:dte},exit:{Feature:fte}};function ng(e){return{point:{x:e.pageX,y:e.pageY}}}const pte=e=>t=>C_(t)&&e(t,ng(t));function Bm(e,t,n,s){return dp(e,t,pte(n),s)}const nL=({current:e})=>e?e.ownerDocument.defaultView:null,HM=(e,t)=>Math.abs(e-t);function gte(e,t){const n=HM(e.x,t.x),s=HM(e.y,t.y);return Math.sqrt(n**2+s**2)}const qM=new Set(["auto","scroll"]);class sL{constructor(t,n,{transformPagePoint:s,contextWindow:r=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3,element:l}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=x=>{this.handleScroll(x.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=rk(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,w=gte(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!b&&!w)return;const{point:j}=x,{timestamp:k}=Ps;this.history.push({...j,timestamp:k});const{onStart:S,onMove:C}=this.handlers;b||(S&&S(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,x)},this.handlePointerMove=(x,b)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=sk(b,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(x,b)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:k}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=rk(x.type==="pointercancel"?this.lastMoveEventInfo:sk(b,this.transformPagePoint),this.history);this.startEvent&&w&&w(x,S),j&&j(x,S)},!C_(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=s,this.distanceThreshold=o,this.contextWindow=r||window;const u=ng(t),d=sk(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Ps;this.history=[{...f,timestamp:m}];const{onSessionStart:g}=n;g&&g(t,rk(d,this.history)),this.removeListeners=Xp(Bm(this.contextWindow,"pointermove",this.handlePointerMove),Bm(this.contextWindow,"pointerup",this.handlePointerUp),Bm(this.contextWindow,"pointercancel",this.handlePointerUp)),l&&this.startScrollTracking(l)}startScrollTracking(t){let n=t.parentElement;for(;n;){const s=getComputedStyle(n);(qM.has(s.overflowX)||qM.has(s.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(t){const n=this.scrollPositions.get(t);if(!n)return;const s=t===window,r=s?{x:window.scrollX,y:window.scrollY}:{x:t.scrollLeft,y:t.scrollTop},a={x:r.x-n.x,y:r.y-n.y};a.x===0&&a.y===0||(s?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=a.x,this.lastMoveEventInfo.point.y+=a.y):this.history.length>0&&(this.history[0].x-=a.x,this.history[0].y-=a.y),this.scrollPositions.set(t,r),nn.update(this.updatePoint,!0))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ii(this.updatePoint)}}function sk(e,t){return t?{point:t(e.point)}:e}function ZM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rk({point:e},t){return{point:e,delta:ZM(e,rL(t)),offset:ZM(e,xte(t)),velocity:vte(t,.1)}}function xte(e){return e[0]}function rL(e){return e[e.length-1]}function vte(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,s=null;const r=rL(e);for(;n>=0&&(s=e[n],!(r.timestamp-s.timestamp>Ao(t)));)n--;if(!s)return{x:0,y:0};const a=Ai(r.timestamp-s.timestamp);if(a===0)return{x:0,y:0};const o={x:(r.x-s.x)/a,y:(r.y-s.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yte(e,{min:t,max:n},s){return t!==void 0&&e<t?e=s?Un(t,e,s.min):Math.max(e,t):n!==void 0&&e>n&&(e=s?Un(n,e,s.max):Math.min(e,n)),e}function WM(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function bte(e,{top:t,left:n,bottom:s,right:r}){return{x:WM(e.x,n,r),y:WM(e.y,t,s)}}function KM(e,t){let n=t.min-e.min,s=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,s]=[s,n]),{min:n,max:s}}function wte(e,t){return{x:KM(e.x,t.x),y:KM(e.y,t.y)}}function jte(e,t){let n=.5;const s=br(e),r=br(t);return r>s?n=Sh(t.min,t.max-s,e.min):s>r&&(n=Sh(e.min,e.max-r,t.min)),la(0,1,n)}function kte(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const n2=.35;function Nte(e=n2){return e===!1?e=0:e===!0&&(e=n2),{x:GM(e,"left","right"),y:GM(e,"top","bottom")}}function GM(e,t,n){return{min:YM(e,t),max:YM(e,n)}}function YM(e,t){return typeof e=="number"?e:e[t]||0}const Ste=new WeakMap;class _te{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Cs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:s}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=m=>{n?(this.stopAnimation(),this.snapToCursor(ng(m).point)):this.pauseAnimation()},o=(m,g)=>{this.stopAnimation();const{drag:x,dragPropagation:b,onDragStart:w}=this.getProps();if(x&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=sQ(x),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Si(k=>{let S=this.getAxisMotionValue(k).get()||0;if(Oa.test(S)){const{projection:C}=this.visualElement;if(C&&C.layout){const E=C.layout.layoutBox[k];E&&(S=br(E)*(parseFloat(S)/100))}}this.originPoint[k]=S}),w&&nn.postRender(()=>w(m,g)),YN(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},l=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:x,dragDirectionLock:b,onDirectionLock:w,onDrag:j}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:k}=g;if(b&&this.currentDirection===null){this.currentDirection=Cte(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,k),this.updateAxis("y",g.point,k),this.visualElement.render(),j&&j(m,g)},u=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>Si(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new sL(t,{onSessionStart:a,onStart:o,onMove:l,onSessionEnd:u,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:s,contextWindow:nL(this.visualElement),element:this.visualElement.current})}stop(t,n){const s=t||this.latestPointerEvent,r=n||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!r||!s)return;const{velocity:o}=r;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&nn.postRender(()=>l(s,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:s}=this.getProps();!s&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(t,n,s){const{drag:r}=this.getProps();if(!s||!Qx(t,r,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+s[t];this.constraints&&this.constraints[t]&&(o=yte(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,r=this.constraints;t&&jm(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=bte(s.layoutBox,t):this.constraints=!1,this.elastic=Nte(n),r!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Si(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=kte(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!jm(t))return!1;const s=t.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const a=zQ(s,r.root,this.visualElement.getTransformPagePoint());let o=wte(r.layout.layoutBox,a);if(n){const l=n(CQ(o));this.hasMutatedConstraints=!!l,l&&(o=S6(l))}return o}startAnimation(t){const{drag:n,dragMomentum:s,dragElastic:r,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),u=this.constraints||{},d=Si(f=>{if(!Qx(f,n,this.currentDirection))return;let m=u&&u[f]||{};o&&(m={min:0,max:0});const g=r?200:1e6,x=r?40:1e7,b={type:"inertia",velocity:s?t[f]:0,bounceStiffness:g,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...m};return this.startAxisValueAnimation(f,b)});return Promise.all(d).then(l)}startAxisValueAnimation(t,n){const s=this.getAxisMotionValue(t);return YN(this.visualElement,t),s.start(w_(t,s,0,n,this.visualElement,!1))}stopAnimation(){Si(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Si(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,s=this.visualElement.getProps(),r=s[n];return r||this.visualElement.getValue(t,(s.initial?s.initial[t]:void 0)||0)}snapToCursor(t){Si(n=>{const{drag:s}=this.getProps();if(!Qx(n,s,this.currentDirection))return;const{projection:r}=this.visualElement,a=this.getAxisMotionValue(n);if(r&&r.layout){const{min:o,max:l}=r.layout.layoutBox[n],u=a.get()||0;a.set(t[n]-Un(o,l,.5)+u)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:s}=this.visualElement;if(!jm(n)||!s||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Si(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const u=l.get();r[o]=jte({min:u,max:u},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Si(o=>{if(!Qx(o,t,null))return;const l=this.getAxisMotionValue(o),{min:u,max:d}=this.constraints[o];l.set(Un(u,d,r[o]))})}addListeners(){if(!this.visualElement.current)return;Ste.set(this.visualElement,this);const t=this.visualElement.current,n=Bm(t,"pointerdown",u=>{const{drag:d,dragListener:f=!0}=this.getProps(),m=u.target,g=m!==t&&v6(m);d&&f&&!g&&this.start(u)}),s=()=>{const{dragConstraints:u}=this.getProps();jm(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,a=r.addEventListener("measure",s);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),nn.read(s);const o=dp(window,"resize",()=>this.scalePositionWithinConstraints()),l=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(Si(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=u[f].translate,m.set(m.get()+u[f].translate))}),this.visualElement.render())}));return()=>{o(),n(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:s=!1,dragPropagation:r=!1,dragConstraints:a=!1,dragElastic:o=n2,dragMomentum:l=!0}=t;return{...t,drag:n,dragDirectionLock:s,dragPropagation:r,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function Qx(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function Cte(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class Ete extends ac{constructor(t){super(t),this.removeGroupControls=Vr,this.removeListeners=Vr,this.controls=new _te(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Vr}update(){const{dragControls:t}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};t!==n&&(this.removeGroupControls(),t&&(this.removeGroupControls=t.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const JM=e=>(t,n)=>{e&&nn.postRender(()=>e(t,n))};class Tte extends ac{constructor(){super(...arguments),this.removePointerDownListener=Vr}onPointerDown(t){this.session=new sL(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:nL(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:s,onPanEnd:r}=this.node.getProps();return{onSessionStart:JM(t),onStart:JM(n),onMove:s,onEnd:(a,o)=>{delete this.session,r&&nn.postRender(()=>r(a,o))}}}mount(){this.removePointerDownListener=Bm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let ik=!1;class zte extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s,layoutId:r}=this.props,{projection:a}=t;a&&(n.group&&n.group.add(a),s&&s.register&&r&&s.register(a),ik&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),ev.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:s,drag:r,isPresent:a}=this.props,{projection:o}=s;return o&&(o.isPresent=a,t.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),ik=!0,r||t.layoutDependency!==n||n===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||nn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),__.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:s}=this.props,{projection:r}=t;ik=!0,r&&(r.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(r),s&&s.deregister&&s.deregister(r))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iL(e){const[t,n]=W6(),s=v.useContext(s_);return i.jsx(zte,{...e,layoutGroup:s,switchLayoutGroup:v.useContext(eL),isPresent:t,safeToRemove:n})}const Ate={pan:{Feature:Tte},drag:{Feature:Ete,ProjectionNode:Z6,MeasureLayout:iL}};function XM(e,t,n){const{props:s}=e;e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",n==="Start");const r="onHover"+n,a=s[r];a&&nn.postRender(()=>a(t,ng(t)))}class Mte extends ac{mount(){const{current:t}=this.node;t&&(this.unmount=rQ(t,(n,s)=>(XM(this.node,s,"Start"),r=>XM(this.node,r,"End"))))}unmount(){}}class Rte extends ac{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xp(dp(this.node.current,"focus",()=>this.onFocus()),dp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function QM(e,t,n){const{props:s}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&s.whileTap&&e.animationState.setActive("whileTap",n==="Start");const r="onTap"+(n==="End"?"":n),a=s[r];a&&nn.postRender(()=>a(t,ng(t)))}class Ote extends ac{mount(){const{current:t}=this.node;t&&(this.unmount=oQ(t,(n,s)=>(QM(this.node,s,"Start"),(r,{success:a})=>QM(this.node,r,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const s2=new WeakMap,ak=new WeakMap,Dte=e=>{const t=s2.get(e.target);t&&t(e)},Pte=e=>{e.forEach(Dte)};function Ite({root:e,...t}){const n=e||document;ak.has(n)||ak.set(n,{});const s=ak.get(n),r=JSON.stringify(t);return s[r]||(s[r]=new IntersectionObserver(Pte,{root:e,...t})),s[r]}function Lte(e,t,n){const s=Ite(t);return s2.set(e,n),s.observe(e),()=>{s2.delete(e),s.unobserve(e)}}const $te={some:0,all:1};class Vte extends ac{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:s,amount:r="some",once:a}=t,o={root:n?n.current:void 0,rootMargin:s,threshold:typeof r=="number"?r:$te[r]},l=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,a&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=d?f:m;g&&g(u)};return Lte(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Bte(t,n))&&this.startObserver()}unmount(){}}function Bte({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const Fte={inView:{Feature:Vte},tap:{Feature:Ote},focus:{Feature:Rte},hover:{Feature:Mte}},Ute={layout:{ProjectionNode:Z6,MeasureLayout:iL}},Hte={...mte,...Fte,...Ate,...Ute},ne=cte(Hte,ute);function qte(e,t,n){v.useInsertionEffect(()=>e.on(t,n),[e,t,n])}const Zte=50,e3=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),Wte=()=>({time:0,x:e3(),y:e3()}),Kte={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function t3(e,t,n,s){const r=n[t],{length:a,position:o}=Kte[t],l=r.current,u=n.time;r.current=e[`scroll${o}`],r.scrollLength=e[`scroll${a}`]-e[`client${a}`],r.offset.length=0,r.offset[0]=0,r.offset[1]=r.scrollLength,r.progress=Sh(0,r.scrollLength,r.current);const d=s-u;r.velocity=d>Zte?0:l_(r.current-l,d)}function Gte(e,t,n){t3(e,"x",t,n),t3(e,"y",t,n),t.time=n}function Yte(e,t){const n={x:0,y:0};let s=e;for(;s&&s!==t;)if(vv(s))n.x+=s.offsetLeft,n.y+=s.offsetTop,s=s.offsetParent;else if(s.tagName==="svg"){const r=s.getBoundingClientRect();s=s.parentElement;const a=s.getBoundingClientRect();n.x+=r.left-a.left,n.y+=r.top-a.top}else if(s instanceof SVGGraphicsElement){const{x:r,y:a}=s.getBBox();n.x+=r,n.y+=a;let o=null,l=s.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=s.parentNode;s=o}else break;return n}const r2={start:0,center:.5,end:1};function n3(e,t,n=0){let s=0;if(e in r2&&(e=r2[e]),typeof e=="string"){const r=parseFloat(e);e.endsWith("px")?s=r:e.endsWith("%")?e=r/100:e.endsWith("vw")?s=r/100*document.documentElement.clientWidth:e.endsWith("vh")?s=r/100*document.documentElement.clientHeight:e=r}return typeof e=="number"&&(s=t*e),n+s}const Jte=[0,0];function Xte(e,t,n,s){let r=Array.isArray(e)?e:Jte,a=0,o=0;return typeof e=="number"?r=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?r=e.split(" "):r=[e,r2[e]?e:"0"]),a=n3(r[0],n,s),o=n3(r[1],t),a-o}const Qte={All:[[0,0],[1,1]]},ene={x:0,y:0};function tne(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function nne(e,t,n){const{offset:s=Qte.All}=n,{target:r=e,axis:a="y"}=n,o=a==="y"?"height":"width",l=r!==e?Yte(r,e):ene,u=r===e?{width:e.scrollWidth,height:e.scrollHeight}:tne(r),d={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let f=!t[a].interpolate;const m=s.length;for(let g=0;g<m;g++){const x=Xte(s[g],d[o],u[o],l[a]);!f&&x!==t[a].interpolatorOffsets[g]&&(f=!0),t[a].offset[g]=x}f&&(t[a].interpolate=g_(t[a].offset,GI(s),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=la(0,1,t[a].interpolate(t[a].current))}function sne(e,t=e,n){if(n.x.targetOffset=0,n.y.targetOffset=0,t!==e){let s=t;for(;s&&s!==e;)n.x.targetOffset+=s.offsetLeft,n.y.targetOffset+=s.offsetTop,s=s.offsetParent}n.x.targetLength=t===e?t.scrollWidth:t.clientWidth,n.y.targetLength=t===e?t.scrollHeight:t.clientHeight,n.x.containerLength=e.clientWidth,n.y.containerLength=e.clientHeight}function rne(e,t,n,s={}){return{measure:r=>{sne(e,s.target,n),Gte(e,n,r),(s.offset||s.target)&&nne(e,n,s)},notify:()=>t(n)}}const Cd=new WeakMap,s3=new WeakMap,ok=new WeakMap,r3=new WeakMap,e0=new WeakMap,i3=e=>e===document.scrollingElement?window:e;function aL(e,{container:t=document.scrollingElement,trackContentSize:n=!1,...s}={}){if(!t)return Vr;let r=ok.get(t);r||(r=new Set,ok.set(t,r));const a=Wte(),o=rne(t,e,a,s);if(r.add(o),!Cd.has(t)){const u=()=>{for(const g of r)g.measure(Ps.timestamp);nn.preUpdate(d)},d=()=>{for(const g of r)g.notify()},f=()=>nn.read(u);Cd.set(t,f);const m=i3(t);window.addEventListener("resize",f,{passive:!0}),t!==document.documentElement&&s3.set(t,gQ(t,f)),m.addEventListener("scroll",f,{passive:!0}),f()}if(n&&!e0.has(t)){const u=Cd.get(t),d={width:t.scrollWidth,height:t.scrollHeight};r3.set(t,d);const f=()=>{const g=t.scrollWidth,x=t.scrollHeight;(d.width!==g||d.height!==x)&&(u(),d.width=g,d.height=x)},m=nn.read(f,!0);e0.set(t,m)}const l=Cd.get(t);return nn.read(l,!1,!0),()=>{var m;Ii(l);const u=ok.get(t);if(!u||(u.delete(o),u.size))return;const d=Cd.get(t);Cd.delete(t),d&&(i3(t).removeEventListener("scroll",d),(m=s3.get(t))==null||m(),window.removeEventListener("resize",d));const f=e0.get(t);f&&(Ii(f),e0.delete(t)),r3.delete(t)}}const a3=new Map;function ine(e){const t={value:0},n=aL(s=>{t.value=s[e.axis].progress*100},e);return{currentTime:t,cancel:n}}function oL({source:e,container:t,...n}){const{axis:s}=n;e&&(t=e);const r=a3.get(t)??new Map;a3.set(t,r);const a=n.target??"self",o=r.get(a)??{},l=s+(n.offset??[]).join(",");return o[l]||(o[l]=!n.target&&QI()?new ScrollTimeline({source:t,axis:s}):ine({container:t,...n})),o[l]}function ane(e,t){const n=oL(t);return e.attachTimeline({timeline:t.target?void 0:n,observe:s=>(s.pause(),b6(r=>{s.time=s.iterationDuration*r},n))})}function one(e){return e.length===2}function lne(e,t){return one(e)?aL(n=>{e(n[t.axis].progress,n)},t):b6(e,oL(t))}function cne(e,{axis:t="y",container:n=document.scrollingElement,...s}={}){if(!n)return Vr;const r={axis:t,container:n,...s};return typeof e=="function"?lne(e,r):ane(e,r)}const une=()=>({scrollX:ra(0),scrollY:ra(0),scrollXProgress:ra(0),scrollYProgress:ra(0)}),t0=e=>e?!e.current:!1;function P_({container:e,target:t,...n}={}){const s=Jl(une),r=v.useRef(null),a=v.useRef(!1),o=v.useCallback(()=>(r.current=cne((l,{x:u,y:d})=>{s.scrollX.set(u.current),s.scrollXProgress.set(u.progress),s.scrollY.set(d.current),s.scrollYProgress.set(d.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=r.current)==null||l.call(r)}),[e,t,JSON.stringify(n.offset)]);return rb(()=>{if(a.current=!1,t0(e)||t0(t)){a.current=!0;return}else return o()},[o]),v.useEffect(()=>{if(a.current)return op(!t0(e)),op(!t0(t)),o()},[o]),s}function I_(e){const t=Jl(()=>ra(e)),{isStatic:n}=v.useContext(tg);if(n){const[,s]=v.useState(e);v.useEffect(()=>t.on("change",s),[])}return t}function lL(e,t){const n=I_(t()),s=()=>n.set(t());return s(),rb(()=>{const r=()=>nn.preRender(s,!1,!0),a=e.map(o=>o.on("change",r));return()=>{a.forEach(o=>o()),Ii(s)}}),n}function dne(e){$m.current=[],e();const t=lL($m.current,e);return $m.current=void 0,t}function Eo(e,t,n,s){if(typeof e=="function")return dne(e);if(n!==void 0&&!Array.isArray(n)&&typeof t!="function")return hne(e,t,n,s);const o=typeof t=="function"?t:vQ(t,n,s);return Array.isArray(e)?o3(e,o):o3([e],([l])=>o(l))}function o3(e,t){const n=Jl(()=>[]);return lL(e,()=>{n.length=0;const s=e.length;for(let r=0;r<s;r++)n[r]=e[r].get();return t(n)})}function hne(e,t,n,s){const r=Jl(()=>Object.keys(n)),a=Jl(()=>({}));for(const o of r)a[o]=Eo(e,t,n[o],s);return a}function fne(e,t={}){const{isStatic:n}=v.useContext(tg),s=()=>Vs(e)?e.get():e;if(n)return Eo(s);const r=I_(s());return v.useInsertionEffect(()=>yQ(r,e,t),[r,JSON.stringify(t)]),r}function l3(e,t={}){return fne(e,{type:"spring",...t})}function mne(){!T_.current&&w6();const[e]=v.useState(yv.current);return e}const pne={some:0,all:1};function gne(e,t,{root:n,margin:s,amount:r="some"}={}){const a=S_(e),o=new WeakMap,l=d=>{d.forEach(f=>{const m=o.get(f.target);if(f.isIntersecting!==!!m)if(f.isIntersecting){const g=t(f.target,f);typeof g=="function"?o.set(f.target,g):u.unobserve(f.target)}else typeof m=="function"&&(m(f),o.delete(f.target))})},u=new IntersectionObserver(l,{root:n,rootMargin:s,threshold:typeof r=="number"?r:pne[r]});return a.forEach(d=>u.observe(d)),()=>u.disconnect()}function cL(e,{root:t,margin:n,amount:s,once:r=!1,initial:a=!1}={}){const[o,l]=v.useState(a);return v.useEffect(()=>{if(!e.current||r&&o)return;const u=()=>(l(!0),r?void 0:()=>l(!1)),d={root:t&&t.current||void 0,margin:n,amount:s};return gne(e.current,u,d)},[t,e,n,r,s]),o}var Ea=function(){return Ea=Object.assign||function(t){for(var n,s=1,r=arguments.length;s<r;s++){n=arguments[s];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ea.apply(this,arguments)};function Kh(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]]);return n}function xne(e,t,n,s){function r(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function l(f){try{d(s.next(f))}catch(m){o(m)}}function u(f){try{d(s.throw(f))}catch(m){o(m)}}function d(f){f.done?a(f.value):r(f.value).then(l,u)}d((s=s.apply(e,t||[])).next())})}function vne(e,t,n){if(n||arguments.length===2)for(var s=0,r=t.length,a;s<r;s++)(a||!(s in t))&&(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}const yne=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class L_ extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class bne extends L_{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class c3 extends L_{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class u3 extends L_{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var i2;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(i2||(i2={}));class wne{constructor(t,{headers:n={},customFetch:s,region:r=i2.Any}={}){this.url=t,this.headers=n,this.region=r,this.fetch=yne(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return xne(this,arguments,void 0,function*(n,s={}){var r;let a,o;try{const{headers:l,method:u,body:d,signal:f,timeout:m}=s;let g={},{region:x}=s;x||(x=this.region);const b=new URL(`${this.url}/${n}`);x&&x!=="any"&&(g["x-region"]=x,b.searchParams.set("forceFunctionRegion",x));let w;d&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",w=d):typeof d=="string"?(g["Content-Type"]="text/plain",w=d):typeof FormData<"u"&&d instanceof FormData?w=d:(g["Content-Type"]="application/json",w=JSON.stringify(d)):d&&typeof d!="string"&&!(typeof Blob<"u"&&d instanceof Blob)&&!(d instanceof ArrayBuffer)&&!(typeof FormData<"u"&&d instanceof FormData)?w=JSON.stringify(d):w=d;let j=f;m&&(o=new AbortController,a=setTimeout(()=>o.abort(),m),f?(j=o.signal,f.addEventListener("abort",()=>o.abort())):j=o.signal);const k=yield this.fetch(b.toString(),{method:u||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),l),body:w,signal:j}).catch(z=>{throw new bne(z)}),S=k.headers.get("x-relay-error");if(S&&S==="true")throw new c3(k);if(!k.ok)throw new u3(k);let C=((r=k.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return C==="application/json"?E=yield k.json():C==="application/octet-stream"||C==="application/pdf"?E=yield k.blob():C==="text/event-stream"?E=k:C==="multipart/form-data"?E=yield k.formData():E=yield k.text(),{data:E,error:null,response:k}}catch(l){return{data:null,error:l,response:l instanceof u3||l instanceof c3?l.context:void 0}}finally{a&&clearTimeout(a)}})}}var jne=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},kne=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let r=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let o=null,l=null,u=null,d=a.status,f=a.statusText;if(a.ok){var m,g;if(n.method!=="HEAD"){var x;const k=await a.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((x=n.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?l=k:l=JSON.parse(k))}const w=(m=n.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),j=(g=a.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");w&&j&&j.length>1&&(u=parseInt(j[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(l)&&(l.length>1?(o={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,d=406,f="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{var b;const w=await a.text();try{o=JSON.parse(w),Array.isArray(o)&&a.status===404&&(l=[],o=null,d=200,f="OK")}catch{a.status===404&&w===""?(d=204,f="No Content"):o={message:w}}if(o&&n.isMaybeSingle&&(!(o==null||(b=o.details)===null||b===void 0)&&b.includes("0 rows"))&&(o=null,d=200,f="OK"),o&&n.shouldThrowOnError)throw new jne(o)}return{error:o,data:l,count:u,status:d,statusText:f}});return this.shouldThrowOnError||(r=r.catch(a=>{var o;let l="";const u=a==null?void 0:a.cause;if(u){var d,f,m,g;const b=(d=u==null?void 0:u.message)!==null&&d!==void 0?d:"",w=(f=u==null?void 0:u.code)!==null&&f!==void 0?f:"";l=`${(m=a==null?void 0:a.name)!==null&&m!==void 0?m:"FetchError"}: ${a==null?void 0:a.message}`,l+=`

Caused by: ${(g=u==null?void 0:u.name)!==null&&g!==void 0?g:"Error"}: ${b}`,w&&(l+=` (${w})`),u!=null&&u.stack&&(l+=`
${u.stack}`)}else{var x;l=(x=a==null?void 0:a.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:l,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),r.then(e,t)}returns(){return this}overrideTypes(){return this}},Nne=class extends kne{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:r=s}={}){const a=r?`${r}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const r=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:r=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,r?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${l};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const d3=new RegExp("[,()]");var Zd=class extends Nne{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&d3.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&d3.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let r="";s==="plain"?r="pl":s==="phrase"?r="ph":s==="websearch"&&(r="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${r}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Sne=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:s}=t??{},r=n?"HEAD":"GET";let a=!1;const o=(e??"*").split("").map(d=>/\s/.test(d)&&!a?"":(d==='"'&&(a=!a),d)).join(""),{url:l,headers:u}=this.cloneRequestState();return l.searchParams.set("select",o),s&&u.append("Prefer",`count=${s}`),new Zd({method:r,url:l,headers:u,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var s;const r="POST",{url:a,headers:o}=this.cloneRequestState();if(t&&o.append("Prefer",`count=${t}`),n||o.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(l.length>0){const u=[...new Set(l)].map(d=>`"${d}"`);a.searchParams.set("columns",u.join(","))}}return new Zd({method:r,url:a,headers:o,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:r=!0}={}){var a;const o="POST",{url:l,headers:u}=this.cloneRequestState();if(u.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&l.searchParams.set("on_conflict",t),s&&u.append("Prefer",`count=${s}`),r||u.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((f,m)=>f.concat(Object.keys(m)),[]);if(d.length>0){const f=[...new Set(d)].map(m=>`"${m}"`);l.searchParams.set("columns",f.join(","))}}return new Zd({method:o,url:l,headers:u,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(e,{count:t}={}){var n;const s="PATCH",{url:r,headers:a}=this.cloneRequestState();return t&&a.append("Prefer",`count=${t}`),new Zd({method:s,url:r,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:s,headers:r}=this.cloneRequestState();return e&&r.append("Prefer",`count=${e}`),new Zd({method:n,url:s,headers:r,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},_ne=class uL{constructor(t,{headers:n={},schema:s,fetch:r}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=r}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Sne(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new uL(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:r=!1,count:a}={}){var o;let l;const u=new URL(`${this.url}/rpc/${t}`);let d;const f=x=>x!==null&&typeof x=="object"&&(!Array.isArray(x)||x.some(f)),m=s&&Object.values(n).some(f);m?(l="POST",d=n):s||r?(l=s?"HEAD":"GET",Object.entries(n).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{u.searchParams.append(x,b)})):(l="POST",d=n);const g=new Headers(this.headers);return m?g.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&g.set("Prefer",`count=${a}`),new Zd({method:l,url:u,headers:g,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};class Cne{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const s=n.versions;if(s&&s.node){const r=s.node,a=parseInt(r.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Ene="2.93.3",Tne=`realtime-js/${Ene}`,zne="1.0.0",dL="2.0.0",h3=dL,a2=1e4,Ane=1e3,Mne=100;var El;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(El||(El={}));var _s;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(_s||(_s={}));var ea;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ea||(ea={}));var o2;(function(e){e.websocket="websocket"})(o2||(o2={}));var Gc;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Gc||(Gc={}));class Rne{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,s;const r=(s=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,r)}_encodeJsonUserBroadcastPush(t){var n,s;const r=(s=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&s!==void 0?s:{},o=new TextEncoder().encode(JSON.stringify(r)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,o)}_encodeUserBroadcastPush(t,n,s){var r,a;const o=t.topic,l=(r=t.ref)!==null&&r!==void 0?r:"",u=(a=t.join_ref)!==null&&a!==void 0?a:"",d=t.payload.event,f=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(f).length===0?"":JSON.stringify(f);if(u.length>255)throw new Error(`joinRef length ${u.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`ref length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`topic length ${o.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`userEvent length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+u.length+l.length+o.length+d.length+m.length,x=new ArrayBuffer(this.HEADER_LENGTH+g);let b=new DataView(x),w=0;b.setUint8(w++,this.KINDS.userBroadcastPush),b.setUint8(w++,u.length),b.setUint8(w++,l.length),b.setUint8(w++,o.length),b.setUint8(w++,d.length),b.setUint8(w++,m.length),b.setUint8(w++,n),Array.from(u,k=>b.setUint8(w++,k.charCodeAt(0))),Array.from(l,k=>b.setUint8(w++,k.charCodeAt(0))),Array.from(o,k=>b.setUint8(w++,k.charCodeAt(0))),Array.from(d,k=>b.setUint8(w++,k.charCodeAt(0))),Array.from(m,k=>b.setUint8(w++,k.charCodeAt(0)));var j=new Uint8Array(x.byteLength+s.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(s),x.byteLength),j.buffer}decode(t,n){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return n(s)}if(typeof t=="string"){const s=JSON.parse(t),[r,a,o,l,u]=s;return n({join_ref:r,ref:a,topic:o,event:l,payload:u})}return n({})}_binaryDecode(t){const n=new DataView(t),s=n.getUint8(0),r=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,r)}}_decodeUserBroadcast(t,n,s){const r=n.getUint8(1),a=n.getUint8(2),o=n.getUint8(3),l=n.getUint8(4);let u=this.HEADER_LENGTH+4;const d=s.decode(t.slice(u,u+r));u=u+r;const f=s.decode(t.slice(u,u+a));u=u+a;const m=s.decode(t.slice(u,u+o));u=u+o;const g=t.slice(u,t.byteLength),x=l===this.JSON_ENCODING?JSON.parse(s.decode(g)):g,b={type:this.BROADCAST_EVENT,event:f,payload:x};return o>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>n.includes(s)))}}let hL=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Tn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Tn||(Tn={}));const f3=(e,t,n={})=>{var s;const r=(s=n.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((a,o)=>(a[o]=One(o,e,t,r),a),{}):{}},One=(e,t,n,s)=>{const r=t.find(l=>l.name===e),a=r==null?void 0:r.type,o=n[e];return a&&!s.includes(a)?fL(a,o):l2(o)},fL=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return Lne(t,n)}switch(e){case Tn.bool:return Dne(t);case Tn.float4:case Tn.float8:case Tn.int2:case Tn.int4:case Tn.int8:case Tn.numeric:case Tn.oid:return Pne(t);case Tn.json:case Tn.jsonb:return Ine(t);case Tn.timestamp:return $ne(t);case Tn.abstime:case Tn.date:case Tn.daterange:case Tn.int4range:case Tn.int8range:case Tn.money:case Tn.reltime:case Tn.text:case Tn.time:case Tn.timestamptz:case Tn.timetz:case Tn.tsrange:case Tn.tstzrange:return l2(t);default:return l2(t)}},l2=e=>e,Dne=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Pne=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ine=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Lne=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let a;const o=e.slice(1,n);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>fL(t,l))}return e},$ne=e=>typeof e=="string"?e.replace(" ","T"):e,mL=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class lk{constructor(t,n,s={},r=a2){this.channel=t,this.event=n,this.payload=s,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var m3;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(m3||(m3={}));class Fm{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},r=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fm.syncState(this.state,r,a,o),this.pendingDiffs.forEach(u=>{this.state=Fm.syncDiff(this.state,u,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(s.diff,{},r=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=Fm.syncDiff(this.state,r,a,o),l())}),this.onJoin((r,a,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:a,newPresences:o})}),this.onLeave((r,a,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,r){const a=this.cloneDeep(t),o=this.transformState(n),l={},u={};return this.map(a,(d,f)=>{o[d]||(u[d]=f)}),this.map(o,(d,f)=>{const m=a[d];if(m){const g=f.map(j=>j.presence_ref),x=m.map(j=>j.presence_ref),b=f.filter(j=>x.indexOf(j.presence_ref)<0),w=m.filter(j=>g.indexOf(j.presence_ref)<0);b.length>0&&(l[d]=b),w.length>0&&(u[d]=w)}else l[d]=f}),this.syncDiff(a,{joins:l,leaves:u},s,r)}static syncDiff(t,n,s,r){const{joins:a,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),r||(r=()=>{}),this.map(a,(l,u)=>{var d;const f=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(u),f.length>0){const m=t[l].map(x=>x.presence_ref),g=f.filter(x=>m.indexOf(x.presence_ref)<0);t[l].unshift(...g)}s(l,f,u)}),this.map(o,(l,u)=>{let d=t[l];if(!d)return;const f=u.map(m=>m.presence_ref);d=d.filter(m=>f.indexOf(m.presence_ref)<0),t[l]=d,r(l,d,u),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const r=t[s];return"metas"in r?n[s]=r.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[s]=r,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var p3;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(p3||(p3={}));var Um;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Um||(Um={}));var _o;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(_o||(_o={}));class ih{constructor(t,n={config:{}},s){var r,a;if(this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=_s.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new lk(this,ea.join,this.params,this.timeout),this.rejoinTimer=new hL(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_s.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_s.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_s.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_s.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=_s.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ea.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new Fm(this),this.broadcastEndpointURL=mL(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var s,r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==_s.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,d=(r=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(x=>x.filter))!==null&&r!==void 0?r:[],f=!!this.bindings[Um.PRESENCE]&&this.bindings[Um.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,m={},g={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:f}),postgres_changes:d,private:u};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(_o.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(_o.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(_o.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,j=(b=w==null?void 0:w.length)!==null&&b!==void 0?b:0,k=[];for(let S=0;S<j;S++){const C=w[S],{filter:{event:E,schema:z,table:R,filter:T}}=C,A=x&&x[S];if(A&&A.event===E&&ih.isFilterValueEqual(A.schema,z)&&ih.isFilterValueEqual(A.table,R)&&ih.isFilterValueEqual(A.filter,T))k.push(Object.assign(Object.assign({},C),{id:A.id}));else{this.unsubscribe(),this.state=_s.errored,t==null||t(_o.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(_o.SUBSCRIBED);return}}).receive("error",x=>{this.state=_s.errored,t==null||t(_o.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(_o.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===_s.joined&&t===Um.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,s)}async httpSend(t,n,s={}){var r;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);if(l.status===202)return{success:!0};let u=l.statusText;try{const d=await l.json();u=d.error||d.message||u}catch{}return Promise.reject(new Error(u))}async send(t,n={}){var s,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:o}=t,l={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(l.Authorization=`Bearer ${this.socket.accessTokenValue}`);const u={method:"POST",headers:l,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,u;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=_s.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ea.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(r=>{s=new lk(this,ea.leave,{},t),s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_s.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const r=new AbortController,a=setTimeout(()=>r.abort(),s),o=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:r.signal}));return clearTimeout(a),o}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new lk(this,t,n,s);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Mne){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var r,a;const o=t.toLocaleLowerCase(),{close:l,error:u,leave:d,join:f}=ea;if(s&&[l,u,d,f].indexOf(o)>=0&&s!==this._joinRef())return;let g=this._onMessage(o,n,s);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(x=>{var b,w,j;return((b=x.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(w=x.filter)===null||w===void 0?void 0:w.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(x=>x.callback(g,s)):(a=this.bindings[o])===null||a===void 0||a.filter(x=>{var b,w,j,k,S,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in x){const E=x.id,z=(b=x.filter)===null||b===void 0?void 0:b.event;return E&&((w=n.ids)===null||w===void 0?void 0:w.includes(E))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((j=n.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const E=(S=(k=x==null?void 0:x.filter)===null||k===void 0?void 0:k.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((C=n==null?void 0:n.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===o}).map(x=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:w,table:j,commit_timestamp:k,type:S,errors:C}=b;g=Object.assign(Object.assign({},{schema:w,table:j,commit_timestamp:k,eventType:S,new:{},old:{},errors:C}),this._getPayloadRecords(b))}x.callback(g,s)})}_isClosed(){return this.state===_s.closed}_isJoined(){return this.state===_s.joined}_isJoining(){return this.state===_s.joining}_isLeaving(){return this.state===_s.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const r=t.toLocaleLowerCase(),a={type:r,filter:n,callback:s};return this.bindings[r]?this.bindings[r].push(a):this.bindings[r]=[a],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(r=>{var a;return!(((a=r.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===s&&ih.isEqual(r.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ea.close,{},t)}_onError(t){this._on(ea.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_s.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=f3(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=f3(t.columns,t.old_record)),n}}const ck=()=>{},n0={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Vne=[1e3,2e3,5e3,1e4],Bne=1e4,Fne=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Une{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=a2,this.transport=null,this.heartbeatIntervalMs=n0.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ck,this.ref=0,this.reconnectTimer=null,this.vsn=h3,this.logger=ck,this.conn=null,this.sendBuffer=[],this.serializer=new Rne,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=r=>r?(...a)=>r(...a):(...a)=>fetch(...a),!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${o2.websocket}`,this.httpEndpoint=mL(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Cne.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case El.connecting:return Gc.Connecting;case El.open:return Gc.Open;case El.closing:return Gc.Closing;default:return Gc.Closed}}isConnected(){return this.connectionState()===Gc.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,r=this.getChannels().find(a=>a.topic===s);if(r)return r;{const a=new ih(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:s,payload:r,ref:a}=t,o=()=>{this.encode(t,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${s} (${a})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Ane,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},n0.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const d=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",d)}catch(f){this.log("error","error in heartbeat callback",f)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:s,event:r,payload:a,ref:o}=n,l=o?`(${o})`:"",u=a.status||"";this.log("receive",`${u} ${s} ${r} ${l}`.trim(),a),this.channels.filter(d=>d._isMember(s)).forEach(d=>d._trigger(r,a,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===El.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===El.open||this.conn.readyState===El.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(ea.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",r=new URLSearchParams(n);return`${t}${s}${r}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([Fne],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,s=!1;if(t)n=t,s=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(r){this.log("error","Error fetching access token from callback",r),n=this.accessTokenValue}else n=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const a={access_token:n,version:Tne};n&&r.updateJoinPayload(a),r.joinedOnce&&r._isJoined()&&r._push(ea.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new hL(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},n0.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,r,a,o,l,u,d,f,m,g,x;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:a2,this.heartbeatIntervalMs=(r=t==null?void 0:t.heartbeatIntervalMs)!==null&&r!==void 0?r:n0.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:ck,this.vsn=(u=t==null?void 0:t.vsn)!==null&&u!==void 0?u:h3,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:(b=>Vne[b-1]||Bne),this.vsn){case zne:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:((b,w)=>w(JSON.stringify(b))),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:((b,w)=>w(JSON.parse(b)));break;case dL:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var hp=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Hne(e,t,n){const s=new URL(t,e);if(n)for(const[r,a]of Object.entries(n))a!==void 0&&s.searchParams.set(r,a);return s.toString()}async function qne(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Zne(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:s,query:r,body:a,headers:o}){const l=Hne(e.baseUrl,s,r),u=await qne(e.auth),d=await t(l,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...u,...o},body:a?JSON.stringify(a):void 0}),f=await d.text(),m=(d.headers.get("content-type")||"").includes("application/json"),g=m&&f?JSON.parse(f):f;if(!d.ok){const x=m?g:void 0,b=x==null?void 0:x.error;throw new hp((b==null?void 0:b.message)??`Request failed with status ${d.status}`,{status:d.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:x})}return{status:d.status,headers:d.headers,data:g}}}}function s0(e){return e.join("")}var Wne=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:s0(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${s0(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${s0(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${s0(e.namespace)}`}),!0}catch(t){if(t instanceof hp&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof hp&&n.status===409)return;throw n}}};function Ed(e){return e.join("")}var Kne=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ed(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ed(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ed(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ed(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ed(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ed(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof hp&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof hp&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},Gne=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Zne({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new Wne(this.client,t),this.tableOps=new Kne(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},ub=class extends Error{constructor(e,t="storage",n,s){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=s}};function db(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var r0=class extends ub{constructor(e,t,n,s="storage"){super(e,s,t,n),this.name=s==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},pL=class extends ub{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Yne=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Jne=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},c2=e=>{if(Array.isArray(e))return e.map(n=>c2(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const r=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[r]=c2(s)}),t},Xne=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function Qne(e,t){if(fp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(fp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ese(e){var t=Qne(e,"string");return fp(t)=="symbol"?t:t+""}function tse(e,t,n){return(t=ese(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function wt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?g3(Object(n),!0).forEach(function(s){tse(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}const x3=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},nse=async(e,t,n,s)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e,a=r.status||500;if(typeof r.json=="function")r.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new r0(x3(o),a,l,s))}).catch(()=>{if(s==="vectors"){const o=a+"";t(new r0(r.statusText||`HTTP ${a} error`,a,o,s))}else{const o=a+"";t(new r0(r.statusText||`HTTP ${a} error`,a,o,s))}});else{const o=a+"";t(new r0(r.statusText||`HTTP ${a} error`,a,o,s))}}else t(new pL(x3(e),e,s))},sse=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!s?wt(wt({},r),n):(Jne(s)?(r.headers=wt({"Content-Type":"application/json"},t==null?void 0:t.headers),r.body=JSON.stringify(s)):r.body=s,t!=null&&t.duplex&&(r.duplex=t.duplex),wt(wt({},r),n))};async function am(e,t,n,s,r,a,o){return new Promise((l,u)=>{e(n,sse(t,s,r,a)).then(d=>{if(!d.ok)throw d;if(s!=null&&s.noResolveJson)return d;if(o==="vectors"){const f=d.headers.get("content-type");if(d.headers.get("content-length")==="0"||d.status===204)return{};if(!f||!f.includes("application/json"))return{}}return d.json()}).then(d=>l(d)).catch(d=>nse(d,u,s,o))})}function gL(e="storage"){return{get:async(t,n,s,r)=>am(t,"GET",n,s,r,void 0,e),post:async(t,n,s,r,a)=>am(t,"POST",n,r,a,s,e),put:async(t,n,s,r,a)=>am(t,"PUT",n,r,a,s,e),head:async(t,n,s,r)=>am(t,"HEAD",n,wt(wt({},s),{},{noResolveJson:!0}),r,void 0,e),remove:async(t,n,s,r,a)=>am(t,"DELETE",n,r,a,s,e)}}const rse=gL("storage"),{get:mp,post:Qi,put:u2,head:ise,remove:$_}=rse,ni=gL("vectors");var Gh=class{constructor(e,t={},n,s="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Yne(n),this.namespace=s}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(db(n))return{data:null,error:n};throw n}}},ase=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(db(t))return{data:null,error:t};throw t}}};let xL;xL=Symbol.toStringTag;var ose=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[xL]="BlobDownloadBuilder",this.promise=null}asStream(){return new ase(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(db(t))return{data:null,error:t};throw t}}};const lse={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},v3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var cse=class extends Gh{constructor(e,t={},n,s){super(e,t,s,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,s){var r=this;return r.handleOperation(async()=>{let a;const o=wt(wt({},v3),s);let l=wt(wt({},r.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),u&&a.append("metadata",r.encodeMetadata(u)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",o.cacheControl),u&&!a.has("metadata")&&a.append("metadata",r.encodeMetadata(u))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=r.toBase64(r.encodeMetadata(u))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(l=wt(wt({},l),s.headers));const d=r._removeEmptyFolders(t),f=r._getFinalPath(d),m=await(e=="PUT"?u2:Qi)(r.fetch,`${r.url}/object/${f}`,a,wt({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{path:d,id:m.Id,fullPath:m.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,s){var r=this;const a=r._removeEmptyFolders(e),o=r._getFinalPath(a),l=new URL(r.url+`/object/upload/sign/${o}`);return l.searchParams.set("token",t),r.handleOperation(async()=>{let u;const d=wt({upsert:v3.upsert},s),f=wt(wt({},r.headers),{"x-upsert":String(d.upsert)});return typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",d.cacheControl)):(u=n,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType),{path:a,fullPath:(await u2(r.fetch,l.toString(),u,{headers:f})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e);const r=wt({},n.headers);t!=null&&t.upsert&&(r["x-upsert"]="true");const a=await Qi(n.fetch,`${n.url}/object/upload/sign/${s}`,{},{headers:r}),o=new URL(n.url+a.url),l=o.searchParams.get("token");if(!l)throw new ub("No token returned by API");return{signedUrl:o.toString(),path:e,token:l}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var s=this;return s.handleOperation(async()=>await Qi(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers}))}async copy(e,t,n){var s=this;return s.handleOperation(async()=>({path:(await Qi(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:s.headers})).Key}))}async createSignedUrl(e,t,n){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(e),a=await Qi(s.fetch,`${s.url}/object/sign/${r}`,wt({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:s.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${s.url}${a.signedURL}${o}`)}})}async createSignedUrls(e,t,n){var s=this;return s.handleOperation(async()=>{const r=await Qi(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return r.map(o=>wt(wt({},o),{},{signedUrl:o.signedURL?encodeURI(`${s.url}${o.signedURL}${a}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),r=s?`?${s}`:"",a=this._getFinalPath(e),o=()=>mp(this.fetch,`${this.url}/${n}/${a}${r}`,{headers:this.headers,noResolveJson:!0});return new ose(o,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>c2(await mp(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await ise(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(db(s)&&s instanceof pL){const r=s.originalError;if([400,404].includes(r==null?void 0:r.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],r=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";r!==""&&s.push(r);const a=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});o!==""&&s.push(o);let l=s.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await $_(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var s=this;return s.handleOperation(async()=>{const r=wt(wt(wt({},lse),t),{},{prefix:e||""});return await Qi(s.fetch,`${s.url}/object/list/${s.bucketId}`,r,{headers:s.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const s=wt({},e);return await Qi(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,s,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const use="2.93.3",sg={"X-Client-Info":`storage-js/${use}`};var dse=class extends Gh{constructor(e,t={},n,s){const r=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase."));const a=r.href.replace(/\/$/,""),o=wt(wt({},sg),t);super(a,o,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await mp(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await mp(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Qi(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await u2(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Qi(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await $_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},hse=class extends Gh{constructor(e,t={},n){const s=e.replace(/\/$/,""),r=wt(wt({},sg),t);super(s,r,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Qi(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const s=n.toString(),r=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return await mp(t.fetch,r,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await $_(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Xne(e))throw new ub("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new Gne({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(n,{get(r,a){const o=r[a];return typeof o!="function"?o:async(...l)=>{try{return{data:await o.apply(r,l),error:null}}catch(u){if(s)throw u;return{data:null,error:u}}}}})}},fse=class extends Gh{constructor(e,t={},n){const s=e.replace(/\/$/,""),r=wt(wt({},sg),{},{"Content-Type":"application/json"},t);super(s,r,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ni.post(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ni.post(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},mse=class extends Gh{constructor(e,t={},n){const s=e.replace(/\/$/,""),r=wt(wt({},sg),{},{"Content-Type":"application/json"},t);super(s,r,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},pse=class extends Gh{constructor(e,t={},n){const s=e.replace(/\/$/,""),r=wt(wt({},sg),{},{"Content-Type":"application/json"},t);super(s,r,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ni.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},gse=class extends pse{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new xse(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},xse=class extends fse{constructor(e,t,n,s){super(e,t,s),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,wt(wt({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,wt(wt({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new vse(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},vse=class extends mse{constructor(e,t,n,s,r){super(e,t,r),this.vectorBucketName=n,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,wt(wt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,wt(wt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,wt(wt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,wt(wt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,wt(wt({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},yse=class extends dse{constructor(e,t={},n,s){super(e,t,n,s)}from(e){return new cse(this.url,this.headers,e,this.fetch)}get vectors(){return new gse(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hse(this.url+"/iceberg",this.headers,this.fetch)}};const vL="2.93.3",Wd=30*1e3,d2=3,uk=d2*Wd,bse="http://localhost:9999",wse="supabase.auth.token",jse={"X-Client-Info":`gotrue-js/${vL}`},h2="X-Supabase-Api-Version",yL={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kse=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Nse=600*1e3;class pp extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ut(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Sse extends pp{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function _se(e){return ut(e)&&e.name==="AuthApiError"}class Yc extends pp{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Uo extends pp{constructor(t,n,s,r){super(t,s,r),this.name=n,this.status=s}}class Qr extends Uo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dk(e){return ut(e)&&e.name==="AuthSessionMissingError"}class Td extends Uo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class i0 extends Uo{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class a0 extends Uo{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cse(e){return ut(e)&&e.name==="AuthImplicitGrantRedirectError"}class y3 extends Uo{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ese extends Uo{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class f2 extends Uo{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function hk(e){return ut(e)&&e.name==="AuthRetryableFetchError"}class b3 extends Uo{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class m2 extends Uo{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Nv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),w3=` 	
\r=`.split(""),Tse=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<w3.length;t+=1)e[w3[t].charCodeAt(0)]=-2;for(let t=0;t<Nv.length;t+=1)e[Nv[t].charCodeAt(0)]=t;return e})();function j3(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Nv[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(Nv[s]),t.queuedBits-=6}}function bL(e,t,n){const s=Tse[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function k3(e){const t=[],n=o=>{t.push(String.fromCodePoint(o))},s={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},a=o=>{Mse(o,s,n)};for(let o=0;o<e.length;o+=1)bL(e.charCodeAt(o),r,a);return t.join("")}function zse(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ase(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const r=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|r)+65536,n+=1}zse(s,t)}}function Mse(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if((e>>7-s&1)===0){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function mh(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};for(let r=0;r<e.length;r+=1)bL(e.charCodeAt(r),n,s);return new Uint8Array(t)}function Rse(e){const t=[];return Ase(e,n=>t.push(n)),new Uint8Array(t)}function tu(e){const t=[],n={queue:0,queuedBits:0},s=r=>{t.push(r)};return e.forEach(r=>j3(r,n,s)),j3(null,n,s),t.join("")}function Ose(e){return Math.round(Date.now()/1e3)+e}function Dse(){return Symbol("auth-callback")}const Js=()=>typeof window<"u"&&typeof document<"u",Pc={tested:!1,writable:!1},wL=()=>{if(!Js())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pc.tested)return Pc.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Pc.tested=!0,Pc.writable=!0}catch{Pc.tested=!0,Pc.writable=!1}return Pc.writable};function Pse(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((r,a)=>{t[a]=r})}catch{}return n.searchParams.forEach((s,r)=>{t[r]=s}),t}const jL=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ise=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Kd=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ic=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ys=async(e,t)=>{await e.removeItem(t)};class hb{constructor(){this.promise=new hb.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}hb.promiseConstructor=Promise;function o0(e){const t=e.split(".");if(t.length!==3)throw new m2("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!kse.test(t[s]))throw new m2("JWT not in base64url format");return{header:JSON.parse(k3(t[0])),payload:JSON.parse(k3(t[1])),signature:mh(t[2]),raw:{header:t[0],payload:t[1]}}}async function Lse(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function $se(e,t){return new Promise((s,r)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){s(o);return}}catch(o){if(!t(a,o)){r(o);return}}})()})}function Vse(e){return("0"+e.toString(16)).substr(-2)}function Bse(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let r="";for(let a=0;a<56;a++)r+=n.charAt(Math.floor(Math.random()*s));return r}return crypto.getRandomValues(t),Array.from(t,Vse).join("")}async function Fse(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),r=new Uint8Array(s);return Array.from(r).map(a=>String.fromCharCode(a)).join("")}async function Use(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await Fse(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zd(e,t,n=!1){const s=Bse();let r=s;n&&(r+="/PASSWORD_RECOVERY"),await Kd(e,`${t}-code-verifier`,r);const a=await Use(s);return[a,s===a?"plain":"s256"]}const Hse=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function qse(e){const t=e.headers.get(h2);if(!t||!t.match(Hse))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Zse(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Wse(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kse=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ad(e){if(!Kse.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fk(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Gse(e,t){return new Proxy(e,{get:(n,s,r)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,s,r)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,s,r)}})}function N3(e){return JSON.parse(JSON.stringify(e))}const Hc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Yse=[502,503,504];async function S3(e){var t;if(!Ise(e))throw new f2(Hc(e),0);if(Yse.includes(e.status))throw new f2(Hc(e),e.status);let n;try{n=await e.json()}catch(a){throw new Yc(Hc(a),a)}let s;const r=qse(e);if(r&&r.getTime()>=yL["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new b3(Hc(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Qr}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new b3(Hc(n),e.status,n.weak_password.reasons);throw new Sse(Hc(n),e.status||500,s)}const Jse=(e,t,n,s)=>{const r={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),r.body=JSON.stringify(s),Object.assign(Object.assign({},r),n))};async function yt(e,t,n,s){var r;const a=Object.assign({},s==null?void 0:s.headers);a[h2]||(a[h2]=yL["2024-01-01"].name),s!=null&&s.jwt&&(a.Authorization=`Bearer ${s.jwt}`);const o=(r=s==null?void 0:s.query)!==null&&r!==void 0?r:{};s!=null&&s.redirectTo&&(o.redirect_to=s.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await Xse(e,t,n+l,{headers:a,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(u):{data:Object.assign({},u),error:null}}async function Xse(e,t,n,s,r,a){const o=Jse(t,s,r,a);let l;try{l=await e(n,Object.assign({},o))}catch(u){throw console.error(u),new f2(Hc(u),0)}if(l.ok||await S3(l),s!=null&&s.noResolveJson)return l;try{return await l.json()}catch(u){await S3(u)}}function Yi(e){var t;let n=null;tre(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ose(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function _3(e){const t=Yi(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Rl(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Qse(e){return{data:e,error:null}}function ere(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:a}=e,o=Kh(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:s,redirect_to:r,verification_type:a},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function C3(e){return e}function tre(e){return e.access_token&&e.refresh_token&&e.expires_in}const mk=["global","local","others"];class nre{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=jL(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=mk[0]){if(mk.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mk.join(", ")}`);try{return await yt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Rl})}catch(s){if(ut(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=Kh(t,["options"]),r=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(r.new_email=s==null?void 0:s.newEmail,delete r.newEmail),await yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:ere,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ut(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await yt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,r,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:C3});if(f.error)throw f.error;const m=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);d[`${j}Page`]=w}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ut(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){Ad(t);try{return await yt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rl})}catch(n){if(ut(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ad(t);try{return await yt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Rl})}catch(s){if(ut(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ad(t);try{return await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Rl})}catch(s){if(ut(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ad(t.userId);try{const{data:n,error:s}=await yt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:n,error:s}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ad(t.userId),Ad(t.id);try{return{data:await yt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,s,r,a,o,l,u;try{const d={nextPage:null,lastPage:0,total:0},f=await yt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(a=(r=t==null?void 0:t.perPage)===null||r===void 0?void 0:r.toString())!==null&&a!==void 0?a:""},xform:C3});if(f.error)throw f.error;const m=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,x=(u=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return x.length>0&&(x.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);d[`${j}Page`]=w}),d.total=parseInt(g)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(ut(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await yt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await yt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await yt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ut(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await yt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await yt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ut(n))return{data:null,error:n};throw n}}}function E3(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Md={debug:!!(globalThis&&wL()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kL extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class sre extends kL{}async function rre(e,t,n){Md.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Md.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async r=>{if(r){Md.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,r.name);try{return await n()}finally{Md.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,r.name)}}else{if(t===0)throw Md.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new sre(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Md.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function ire(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function NL(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function are(e){return parseInt(e,16)}function ore(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function lre(e){var t;const{chainId:n,domain:s,expirationTime:r,issuedAt:a=new Date,nonce:o,notBefore:l,requestId:u,resources:d,scheme:f,uri:m,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=NL(e.address),b=f?`${f}://${s}`:s,w=e.statement?`${e.statement}
`:"",j=`${b} wants you to sign in with your Ethereum account:
${x}

${w}`;let k=`URI: ${m}
Version: ${g}
Chain ID: ${n}${o?`
Nonce: ${o}`:""}
Issued At: ${a.toISOString()}`;if(r&&(k+=`
Expiration Time: ${r.toISOString()}`),l&&(k+=`
Not Before: ${l.toISOString()}`),u&&(k+=`
Request ID: ${u}`),d){let S=`
Resources:`;for(const C of d){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);S+=`
- ${C}`}k+=S}return`${j}
${k}`}class gs extends Error{constructor({message:t,code:n,cause:s,name:r}){var a;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(a=r??(s instanceof Error?s.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Sv extends gs{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function cre({error:e,options:t}){var n,s,r;const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gs({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new gs({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=a.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new gs({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new gs({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new gs({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new gs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return a.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new gs({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new gs({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(SL(o)){if(a.rp.id!==o)return new gs({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new gs({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new gs({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function ure({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new gs({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new gs({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(SL(s)){if(n.rpId!==s)return new gs({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new gs({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new gs({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new gs({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class dre{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const hre=new dre;function fre(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:s}=e,r=Kh(e,["challenge","user","excludeCredentials"]),a=mh(t).buffer,o=Object.assign(Object.assign({},n),{id:mh(n.id).buffer}),l=Object.assign(Object.assign({},r),{challenge:a,user:o});if(s&&s.length>0){l.excludeCredentials=new Array(s.length);for(let u=0;u<s.length;u++){const d=s[u];l.excludeCredentials[u]=Object.assign(Object.assign({},d),{id:mh(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return l}function mre(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,s=Kh(e,["challenge","allowCredentials"]),r=mh(t).buffer,a=Object.assign(Object.assign({},s),{challenge:r});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const l=n[o];a.allowCredentials[o]=Object.assign(Object.assign({},l),{id:mh(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return a}function pre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:tu(new Uint8Array(e.response.attestationObject)),clientDataJSON:tu(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function gre(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,s=e.getClientExtensionResults(),r=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:tu(new Uint8Array(r.authenticatorData)),clientDataJSON:tu(new Uint8Array(r.clientDataJSON)),signature:tu(new Uint8Array(r.signature)),userHandle:r.userHandle?tu(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function SL(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function T3(){var e,t;return!!(Js()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function xre(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sv("Browser returned unexpected credential type",t)}:{data:null,error:new Sv("Empty credential response",t)}}catch(t){return{data:null,error:cre({error:t,options:e})}}}async function vre(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sv("Browser returned unexpected credential type",t)}:{data:null,error:new Sv("Empty credential response",t)}}catch(t){return{data:null,error:ure({error:t,options:e})}}}const yre={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},bre={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function _v(...e){const t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),n=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),s={};for(const r of e)if(r)for(const a in r){const o=r[a];if(o!==void 0)if(Array.isArray(o))s[a]=o;else if(n(o))s[a]=o;else if(t(o)){const l=s[a];t(l)?s[a]=_v(l,o):s[a]=_v(o)}else s[a]=o}return s}function wre(e,t){return _v(yre,e,t||{})}function jre(e,t){return _v(bre,e,t||{})}class kre{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:s,signal:r},a){var o;try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!l)return{data:null,error:u};const d=r??hre.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:f}=l.webauthn.credential_options.publicKey;if(!f.name){const m=s;if(m)f.name=`${f.id}:${m}`;else{const x=(await this.client.getUser()).data.user,b=((o=x==null?void 0:x.user_metadata)===null||o===void 0?void 0:o.name)||(x==null?void 0:x.email)||(x==null?void 0:x.id)||"User";f.name=`${f.id}:${b}`}}f.displayName||(f.displayName=f.name)}switch(l.webauthn.type){case"create":{const f=wre(l.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:m,error:g}=await xre({publicKey:f,signal:d});return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}case"request":{const f=jre(l.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:m,error:g}=await vre(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:f,signal:d}));return m?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:m}},error:null}:{data:null,error:g}}}}catch(l){return ut(l)?{data:null,error:l}:{data:null,error:new Yc("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:n,webauthn:s}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},a){if(!n)return{data:null,error:new pp("rpId is required for WebAuthn authentication")};try{if(!T3())return{data:null,error:new Yc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:s},signal:r},{request:a});if(!o)return{data:null,error:l};const{webauthn:u}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:u.type,rpId:n,rpOrigins:s,credential_response:u.credential_response}})}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Yc("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},a){if(!n)return{data:null,error:new pp("rpId is required for WebAuthn registration")};try{if(!T3())return{data:null,error:new Yc("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(f=>{var m;return(m=f.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:l};const{data:u,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:n,rpOrigins:s},signal:r},{create:a});return u?this._verify({factorId:o.id,challengeId:u.challengeId,webauthn:{rpId:n,rpOrigins:s,type:u.webauthn.type,credential_response:u.webauthn.credential_response}}):{data:null,error:d}}catch(o){return ut(o)?{data:null,error:o}:{data:null,error:new Yc("Unexpected error in register",o)}}}}ire();const Nre={url:bse,storageKey:wse,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:jse,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function z3(e,t,n){return await n()}const Rd={};class gp{get jwks(){var t,n;return(n=(t=Rd[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Rd[this.storageKey]=Object.assign(Object.assign({},Rd[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Rd[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Rd[this.storageKey]=Object.assign(Object.assign({},Rd[this.storageKey]),{cachedAt:t})}constructor(t){var n,s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},Nre),t);if(this.storageKey=a.storageKey,this.instanceID=(n=gp.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,gp.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Js()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new nre({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=jL(a.fetch),this.lock=a.lock||z3,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Js()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=rre:this.lock=z3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kre(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:wL()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=E3(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=E3(this.memoryStorage)),Js()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o);try{await this._notifyAllSubscribers(o.data.event,o.data.session,!1)}catch(l){this._debug("#broadcastChannel","error",l)}})}this.initialize().catch(o=>{this._debug("#initialize()","error",o)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${vL}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},s="none";if(Js()&&(n=Pse(window.location.href),this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce")),Js()&&this.detectSessionInUrl&&s!=="none"){const{data:r,error:a}=await this._getSessionFromURL(n,s);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Cse(a)){const u=(t=a.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:o,redirectType:l}=r;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ut(n)?this._returnResult({error:n}):this._returnResult({error:new Yc("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,r;try{const a=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.captchaToken}},xform:Yi}),{data:o,error:l}=a;if(l||!o)return this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(t){var n,s,r;try{let a;if("email"in t){const{email:f,password:m,options:g}=t;let x=null,b=null;this.flowType==="pkce"&&([x,b]=await zd(this.storage,this.storageKey)),a=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:x,code_challenge_method:b},xform:Yi})}else if("phone"in t){const{phone:f,password:m,options:g}=t;a=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:m,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},channel:(r=g==null?void 0:g.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Yi})}else throw new i0("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return await Ys(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:l});const u=o.session,d=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(a){if(await Ys(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:o,options:l}=t;n=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_3})}else if("phone"in t){const{phone:a,password:o,options:l}=t;n=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_3})}else throw new i0("You must provide either an email or phone number and a password");const{data:s,error:r}=n;if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!s||!s.session||!s.user){const a=new Td;return this._returnResult({data:{user:null,session:null},error:a})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:r})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,s,r,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(r=t.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,s,r,a,o,l,u,d,f,m,g;let x,b;if("message"in t)x=t.message,b=t.signature;else{const{chain:w,wallet:j,statement:k,options:S}=t;let C;if(Js())if(typeof j=="object")C=j;else{const D=window;if("ethereum"in D&&typeof D.ethereum=="object"&&"request"in D.ethereum&&typeof D.ethereum.request=="function")C=D.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=j}const E=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href),z=await C.request({method:"eth_requestAccounts"}).then(D=>D).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const R=NL(z[0]);let T=(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!T){const D=await C.request({method:"eth_chainId"});T=are(D)}const A={domain:E.host,address:R,statement:k,uri:E.href,version:"1",chainId:T,nonce:(r=S==null?void 0:S.signInWithEthereum)===null||r===void 0?void 0:r.nonce,issuedAt:(o=(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.notBefore,requestId:(d=S==null?void 0:S.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(f=S==null?void 0:S.signInWithEthereum)===null||f===void 0?void 0:f.resources};x=lre(A),b=await C.request({method:"personal_sign",params:[ore(x),R]})}try{const{data:w,error:j}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Yi});if(j)throw j;if(!w||!w.session||!w.user){const k=new Td;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:j})}catch(w){if(ut(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var n,s,r,a,o,l,u,d,f,m,g,x;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:j,wallet:k,statement:S,options:C}=t;let E;if(Js())if(typeof k=="object")E=k;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))E=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!(C!=null&&C.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=k}const z=new URL((n=C==null?void 0:C.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in E&&E.signIn){const R=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C==null?void 0:C.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),S?{statement:S}:null));let T;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")T=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)T=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)b=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${z.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(r=(s=C==null?void 0:C.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&r!==void 0?r:new Date().toISOString()}`,...!((a=C==null?void 0:C.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C==null?void 0:C.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C==null?void 0:C.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((u=C==null?void 0:C.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((d=C==null?void 0:C.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((m=(f=C==null?void 0:C.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||m===void 0)&&m.length?["Resources",...C.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const R=await E.signMessage(new TextEncoder().encode(b),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=R}}try{const{data:j,error:k}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:tu(w)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Yi});if(k)throw k;if(!j||!j.session||!j.user){const S=new Td;return this._returnResult({data:{user:null,session:null},error:S})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:k})}catch(j){if(ut(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(t){const n=await Ic(this.storage,`${this.storageKey}-code-verifier`),[s,r]=(n??"").split("/");try{if(!s&&this.flowType==="pkce")throw new Ese;const{data:a,error:o}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Yi});if(await Ys(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!a||!a.session||!a.user){const l=new Td;return this._returnResult({data:{user:null,session:null,redirectType:null},error:l})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:r??null}),error:o})}catch(a){if(await Ys(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(t){try{const{options:n,provider:s,token:r,access_token:a,nonce:o}=t,l=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:r,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Yi}),{data:u,error:d}=l;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!u||!u.session||!u.user){const f=new Td;return this._returnResult({data:{user:null,session:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:u,error:d})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,s,r,a,o;try{if("email"in t){const{email:l,options:u}=t;let d=null,f=null;this.flowType==="pkce"&&([d,f]=await zd(this.storage,this.storageKey));const{error:m}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:d,code_challenge_method:f},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:l,options:u}=t,{data:d,error:f}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(r=u==null?void 0:u.data)!==null&&r!==void 0?r:{},create_user:(a=u==null?void 0:u.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new i0("You must provide either an email or phone number.")}catch(l){if(await Ys(this.storage,`${this.storageKey}-code-verifier`),ut(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async verifyOtp(t){var n,s;try{let r,a;"options"in t&&(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:o,error:l}=await yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:r,xform:Yi});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,d=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),this._returnResult({data:{user:d,session:u},error:null})}catch(r){if(ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithSSO(t){var n,s,r,a,o;try{let l=null,u=null;this.flowType==="pkce"&&([l,u]=await zd(this.storage,this.storageKey));const d=await yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((r=t==null?void 0:t.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:u}),headers:this.headers,xform:Qse});return!((a=d.data)===null||a===void 0)&&a.url&&Js()&&!(!((o=t.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(l){if(await Ys(this.storage,`${this.storageKey}-code-verifier`),ut(l))return this._returnResult({data:null,error:l});throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new Qr;const{error:r}=await yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:r})})}catch(t){if(ut(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:r,options:a}=t,{error:o}=await yt(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in t){const{phone:s,type:r,options:a}=t,{data:o,error:l}=await yt(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:r,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l})}throw new i0("You must provide either an email or phone number and a type")}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Ic(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<uk:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const o=await Ic(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=fk()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=Gse(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:r},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rl}):await this._useSession(async n=>{var s,r,a;const{data:o,error:l}=n;if(l)throw l;return!(!((s=o.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Qr}:await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&a!==void 0?a:void 0,xform:Rl})})}catch(n){if(ut(n))return dk(n)&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:r,error:a}=s;if(a)throw a;if(!r.session)throw new Qr;const o=r.session;let l=null,u=null;this.flowType==="pkce"&&t.email!=null&&([l,u]=await zd(this.storage,this.storageKey));const{data:d,error:f}=await yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:Rl});if(f)throw f;return o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(s){if(await Ys(this.storage,`${this.storageKey}-code-verifier`),ut(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Qr;const n=Date.now()/1e3;let s=n,r=!0,a=null;const{payload:o}=o0(t.access_token);if(o.exp&&(s=o.exp,r=s<=n),r){const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:u}=await this._getUser(t.access_token);if(u)return this._returnResult({data:{user:null,session:null},error:u});a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(ut(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:o,error:l}=n;if(l)throw l;t=(s=o.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Qr;const{data:r,error:a}=await this._callRefreshToken(t.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):r?this._returnResult({data:{user:r.user,session:r},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ut(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Js())throw new a0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new a0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new y3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new a0("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new y3("No code detected.");const{data:S,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:r,access_token:a,refresh_token:o,expires_in:l,expires_at:u,token_type:d}=t;if(!a||!l||!o||!d)throw new a0("No session defined in URL");const f=Math.round(Date.now()/1e3),m=parseInt(l);let g=f+m;u&&(g=parseInt(u));const x=g-f;x*1e3<=Wd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${m}s`);const b=g-m;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:w,error:j}=await this._getUser(a);if(j)throw j;const k={provider_token:s,provider_refresh_token:r,access_token:a,expires_in:m,expires_at:g,refresh_token:o,token_type:d,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:k,redirectType:t.type},error:null})}catch(s){if(ut(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Ic(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:r,error:a}=n;if(a&&!dk(a))return this._returnResult({error:a});const o=(s=r.session)===null||s===void 0?void 0:s.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(_se(l)&&(l.status===404||l.status===401||l.status===403)||dk(l)))return this._returnResult({error:l})}return t!=="others"&&(await this._removeSession(),await Ys(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=Dse(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,r;try{const{data:{session:a},error:o}=n;if(o)throw o;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let s=null,r=null;this.flowType==="pkce"&&([s,r]=await zd(this.storage,this.storageKey,!0));try{return await yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:r,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Ys(this.storage,`${this.storageKey}-code-verifier`),ut(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:s,error:r}=await this._useSession(async a=>{var o,l,u,d,f;const{data:m,error:g}=a;if(g)throw g;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await yt(this.fetch,"GET",x,{headers:this.headers,jwt:(f=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0})});if(r)throw r;return Js()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(ut(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var s;try{const{error:r,data:{session:a}}=n;if(r)throw r;const{options:o,provider:l,token:u,access_token:d,nonce:f}=t,m=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=a==null?void 0:a.access_token)!==null&&s!==void 0?s:void 0,body:{provider:l,id_token:u,access_token:d,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Yi}),{data:g,error:x}=m;return x?this._returnResult({data:{user:null,session:null},error:x}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Td}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:x}))}catch(r){if(await Ys(this.storage,`${this.storageKey}-code-verifier`),ut(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,r;const{data:a,error:o}=n;if(o)throw o;return await yt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(r=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&r!==void 0?r:void 0})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await $se(async r=>(r>0&&await Lse(200*Math.pow(2,r-1)),this._debug(n,"refreshing attempt",r),await yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Yi})),(r,a)=>{const o=200*Math.pow(2,r);return a&&hk(a)&&Date.now()+o-s<Wd})}catch(s){if(this._debug(n,"error",s),ut(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),Js()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const r=await Ic(this.storage,this.storageKey);if(r&&this.userStorage){let o=await Ic(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:r.user},await Kd(this.userStorage,this.storageKey+"-user",o)),r.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:fk()}else if(r&&!r.user&&!r.user){const o=await Ic(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(r.user=o.user,await Ys(this.storage,this.storageKey+"-user"),await Kd(this.storage,this.storageKey,r)):r.user=fk()}if(this._debug(s,"session from storage",r),!this._isValidSession(r)){this._debug(s,"session is not valid"),r!==null&&await this._removeSession();return}const a=((n=r.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<uk;if(this._debug(s,`session has${a?"":" not"} expired with margin of ${uk}s`),a){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),hk(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(r.user&&r.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(r.access_token);!l&&(o!=null&&o.user)?(r.user=o.user,await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(s,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(s,"error",r),console.error(r);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new Qr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new hb;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Qr;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={data:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(r,"error",a),ut(a)){const o={data:null,error:a};return hk(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(a),a}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(t,n,s=!0){const r=`#_notifyAllSubscribers(${t})`;this._debug(r,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(u){a.push(u)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(r,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ys(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await Kd(this.userStorage,this.storageKey+"-user",{user:n.user});const r=Object.assign({},n);delete r.user;const a=N3(r);await Kd(this.storage,this.storageKey,a)}else{const r=N3(n);await Kd(this.storage,this.storageKey,r)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ys(this.storage,this.storageKey),await Ys(this.storage,this.storageKey+"-code-verifier"),await Ys(this.storage,this.storageKey+"-user"),this.userStorage&&await Ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Js()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Wd);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((s.expires_at*1e3-t)/Wd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${Wd}ms, refresh threshold is ${d2} ticks`),r<=d2&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof kL)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Js()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const r=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&r.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&r.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[a,o]=await zd(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});r.push(l.toString())}if(s!=null&&s.queryParams){const a=new URLSearchParams(s.queryParams);r.push(a.toString())}return s!=null&&s.skipBrowserRedirect&&r.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${r.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:r,error:a}=n;return a?this._returnResult({data:null,error:a}):await yt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,r;const{data:a,error:o}=n;if(o)return this._returnResult({data:null,error:o});const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:u,error:d}=await yt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return d?this._returnResult({data:null,error:d}):(t.factorType==="totp"&&u.type==="totp"&&(!((r=u==null?void 0:u.totp)===null||r===void 0)&&r.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),this._returnResult({data:u,error:null}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?pre(t.webauthn.credential_response):gre(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:u}=await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var s;const{data:r,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=await yt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:fre(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:mre(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:s}=await this.getUser();if(s)return{data:null,error:s};const r={all:[],phone:[],totp:[],webauthn:[]};for(const a of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])r.all.push(a),a.status==="verified"&&r[a.factor_type].push(a);return{data:r,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,s,r,a;if(t)try{const{payload:x}=o0(t);let b=null;x.aal&&(b=x.aal);let w=b;const{data:{user:j},error:k}=await this.getUser(t);if(k)return this._returnResult({data:null,error:k});((s=(n=j==null?void 0:j.factors)===null||n===void 0?void 0:n.filter(E=>E.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(w="aal2");const C=x.amr||[];return{data:{currentLevel:b,nextLevel:w,currentAuthenticationMethods:C},error:null}}catch(x){if(ut(x))return this._returnResult({data:null,error:x});throw x}const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=o0(o.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((a=(r=o.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(f="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?await yt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:r},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new Qr});const o=await yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Js()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(ut(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,n){try{return await this._useSession(async s=>{const{data:{session:r},error:a}=s;if(a)return this._returnResult({data:null,error:a});if(!r)return this._returnResult({data:null,error:new Qr});const o=await yt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:r.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Js()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(s){if(ut(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;return s?this._returnResult({data:null,error:s}):n?await yt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:r=>({data:r,error:null})}):this._returnResult({data:null,error:new Qr})})}catch(t){if(ut(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:s},error:r}=n;return r?this._returnResult({data:null,error:r}):s?(await yt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Qr})})}catch(n){if(ut(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(l=>l.kid===t);if(s)return s;const r=Date.now();if(s=this.jwks.keys.find(l=>l.kid===t),s&&this.jwks_cached_at+Nse>r)return s;const{data:a,error:o}=await yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=r,s=a.keys.find(l=>l.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:x,error:b}=await this.getSession();if(b||!x.session)return this._returnResult({data:null,error:b});s=x.session.access_token}const{header:r,payload:a,signature:o,raw:{header:l,payload:u}}=o0(s);n!=null&&n.allowExpired||Zse(a.exp);const d=!r.alg||r.alg.startsWith("HS")||!r.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(r.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:x}=await this.getUser(s);if(x)throw x;return{data:{claims:a,header:r,signature:o},error:null}}const f=Wse(r.alg),m=await crypto.subtle.importKey("jwk",d,f,!0,["verify"]);if(!await crypto.subtle.verify(f,m,o,Rse(`${l}.${u}`)))throw new m2("Invalid JWT signature");return{data:{claims:a,header:r,signature:o},error:null}}catch(s){if(ut(s))return this._returnResult({data:null,error:s});throw s}}}gp.nextInstanceID={};const Sre=gp,_re="2.93.3";let km="";typeof Deno<"u"?km="deno":typeof document<"u"?km="web":typeof navigator<"u"&&navigator.product==="ReactNative"?km="react-native":km="node";const Cre={"X-Client-Info":`supabase-js-${km}/${_re}`},Ere={headers:Cre},Tre={schema:"public"},zre={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Are={};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function Mre(e,t){if(xp(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var s=n.call(e,t);if(xp(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rre(e){var t=Mre(e,"string");return xp(t)=="symbol"?t:t+""}function Ore(e,t,n){return(t=Rre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,s)}return n}function Jn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A3(Object(n),!0).forEach(function(s){Ore(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}const Dre=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Pre=()=>Headers,Ire=(e,t,n)=>{const s=Dre(n),r=Pre();return async(a,o)=>{var l;const u=(l=await t())!==null&&l!==void 0?l:e;let d=new r(o==null?void 0:o.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${u}`),s(a,Jn(Jn({},o),{},{headers:d}))}};function Lre(e){return e.endsWith("/")?e:e+"/"}function $re(e,t){var n,s;const{db:r,auth:a,realtime:o,global:l}=e,{db:u,auth:d,realtime:f,global:m}=t,g={db:Jn(Jn({},u),r),auth:Jn(Jn({},d),a),realtime:Jn(Jn({},f),o),storage:{},global:Jn(Jn(Jn({},m),l),{},{headers:Jn(Jn({},(n=m==null?void 0:m.headers)!==null&&n!==void 0?n:{}),(s=l==null?void 0:l.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function Vre(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Lre(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Bre=class extends Sre{constructor(e){super(e)}},Fre=class{constructor(e,t,n){var s,r;this.supabaseUrl=e,this.supabaseKey=t;const a=Vre(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const o=`sb-${a.hostname.split(".")[0]}-auth-token`,l={db:Tre,realtime:Are,auth:Jn(Jn({},zre),{},{storageKey:o}),global:Ere},u=$re(n??{},l);if(this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(r=u.global.headers)!==null&&r!==void 0?r:{},u.accessToken)this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var d;this.auth=this._initSupabaseAuthClient((d=u.auth)!==null&&d!==void 0?d:{},this.headers,u.global.fetch)}this.fetch=Ire(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Jn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new _ne(new URL("rest/v1",a).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new yse(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new wne(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,userStorage:r,storageKey:a,flowType:o,lock:l,debug:u,throwOnError:d},f,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Bre({url:this.authUrl.href,headers:Jn(Jn({},g),f),storageKey:a,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,userStorage:r,flowType:o,lock:l,debug:u,throwOnError:d,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Une(this.realtimeUrl.href,Jn(Jn({},e),{},{params:Jn(Jn({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ure=(e,t,n)=>new Fre(e,t,n);function Hre(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Hre()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qre="https://smcvwjbdrrswbdfidlgz.supabase.co",Zre="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE",de=Ure(qre,Zre),_L=v.createContext(void 0);function Wre({children:e}){const[t,n]=v.useState(null),[s,r]=v.useState(null),[a,o]=v.useState(!0),l=Yt();v.useEffect(()=>{de.auth.getSession().then(({data:{session:g}})=>{r(g),n((g==null?void 0:g.user)??null),o(!1)});const{data:{subscription:m}}=de.auth.onAuthStateChange((g,x)=>{r(b=>(b==null?void 0:b.access_token)===(x==null?void 0:x.access_token)?b:x),n(b=>{const w=(x==null?void 0:x.user)??null;return(b==null?void 0:b.id)===(w==null?void 0:w.id)?b:w})});return()=>m.unsubscribe()},[]);const u=async(m,g)=>{const{data:x,error:b}=await de.auth.signInWithPassword({email:m,password:g});if(b)throw b;n(x.user),r(x.session);const w=localStorage.getItem("pending_plan");w?(localStorage.removeItem("pending_plan"),l("/",{state:{scrollTo:"pricing",selectedPlan:w}})):l("/prehled")},d=async(m,g)=>{const{data:x,error:b}=await de.auth.signUp({email:m,password:g,options:{emailRedirectTo:`${window.location.origin}/prehled`}});if(b)throw b;x.session&&(n(x.user),r(x.session),localStorage.removeItem("onboarding_completed"),localStorage.getItem("pending_plan")&&localStorage.removeItem("pending_plan"),l("/onboarding"))},f=async()=>{const{error:m}=await de.auth.signOut();if(m)throw m;n(null),r(null),l("/")};return i.jsx(_L.Provider,{value:{user:t,session:s,loading:a,signIn:u,signUp:d,signOut:f},children:e})}function Qt(){const e=v.useContext(_L);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const CL=v.createContext(null),EL="dires-cart";function Kre(){try{const e=localStorage.getItem(EL);if(e)return JSON.parse(e)}catch{}return[]}function Gre(e){try{localStorage.setItem(EL,JSON.stringify(e))}catch{}}function Yre({children:e}){const[t,n]=v.useState(Kre);v.useEffect(()=>{Gre(t)},[t]);const s=v.useCallback((f,m=1)=>{n(g=>g.find(b=>b.slug===f.slug)?g.map(b=>b.slug===f.slug?{...b,quantity:b.quantity+m}:b):[...g,{...f,quantity:m}])},[]),r=v.useCallback(f=>{n(m=>m.filter(g=>g.slug!==f))},[]),a=v.useCallback((f,m)=>{if(m<=0){n(g=>g.filter(x=>x.slug!==f));return}n(g=>g.map(x=>x.slug===f?{...x,quantity:m}:x))},[]),o=v.useCallback(()=>{n([])},[]),l=v.useMemo(()=>t.reduce((f,m)=>f+m.quantity,0),[t]),u=v.useMemo(()=>t.reduce((f,m)=>f+m.price*m.quantity,0),[t]),d=v.useMemo(()=>({items:t,addItem:s,removeItem:r,updateQuantity:a,clearCart:o,itemCount:l,subtotal:u}),[t,s,r,a,o,l,u]);return i.jsx(CL.Provider,{value:d,children:e})}function rg(){const e=v.useContext(CL);if(!e)throw new Error("useCart must be used within CartProvider");return e}const TL=v.createContext({mobileNavVisible:!0,showMobileNav:()=>{},hideMobileNav:()=>{}});function Jre({children:e}){const[t,n]=v.useState(!1),s=v.useCallback(()=>n(!0),[]),r=v.useCallback(()=>n(!1),[]);return i.jsx(TL.Provider,{value:{mobileNavVisible:t,showMobileNav:s,hideMobileNav:r},children:e})}function V_(){return v.useContext(TL)}function Xre(){const e=sessionStorage.getItem("activity_session_id");if(e)return e;const t=`${Date.now()}-${Math.random().toString(36).slice(2,10)}`;return sessionStorage.setItem("activity_session_id",t),t}function pk(){const e=navigator.userAgent;return/Mobi|Android/i.test(e)?"mobile":/Tablet|iPad/i.test(e)?"tablet":"desktop"}const M3={"/":"Domovska stranka","/kurzy":"Kurzy","/blog":"Blog","/obchod":"Obchod","/tym":"Tym","/reference":"Reference","/prihlaseni":"Prihlaseni","/registrace":"Registrace","/prehled":"Dashboard","/admin":"Admin Panel"};function gk(e){return M3[e]?M3[e]:e.startsWith("/admin")?"Admin":e.startsWith("/prehled")?"Dashboard":e.startsWith("/kurz/")?"Detail kurzu":e.startsWith("/blog/")?"Blog clanek":e.startsWith("/obchod/")?"Produkt":e}const Qre=3e4,R3=2;function eie(){const{user:e}=Qt(),t=ns(),n=v.useRef(Xre()),s=v.useRef(Date.now()),r=v.useRef(""),a=v.useRef([]),o=v.useRef(null),l=v.useCallback(async()=>{if(a.current.length===0)return;const d=[...a.current];a.current=[];try{await de.from("user_activity").insert(d)}catch{a.current.unshift(...d)}},[]),u=v.useCallback((d,f={})=>{const m={user_id:(e==null?void 0:e.id)??null,session_id:n.current,event_type:d,page_path:t.pathname,page_title:gk(t.pathname),referrer:document.referrer||"",user_agent:navigator.userAgent,device_type:pk(),duration_seconds:0,metadata:f};a.current.push(m),a.current.length>=10&&l()},[e,t.pathname,l]);return v.useEffect(()=>{if(t.pathname!==r.current){if(r.current){const d=Math.round((Date.now()-s.current)/1e3);d>=R3&&a.current.push({user_id:(e==null?void 0:e.id)??null,session_id:n.current,event_type:"page_view",page_path:r.current,page_title:gk(r.current),referrer:document.referrer||"",user_agent:navigator.userAgent,device_type:pk(),duration_seconds:d,metadata:{}})}r.current=t.pathname,s.current=Date.now(),a.current.some(d=>d.event_type==="session_start"&&d.session_id===n.current)||u("session_start")}},[t.pathname,e,u]),v.useEffect(()=>{o.current=setInterval(l,Qre);const d=()=>{const m=Math.round((Date.now()-s.current)/1e3);if(m>=R3&&r.current&&a.current.push({user_id:(e==null?void 0:e.id)??null,session_id:n.current,event_type:"page_view",page_path:r.current,page_title:gk(r.current),referrer:"",user_agent:navigator.userAgent,device_type:pk(),duration_seconds:m,metadata:{}}),u("session_end"),a.current.length>0){const g=JSON.stringify(a.current);navigator.sendBeacon("https://smcvwjbdrrswbdfidlgz.supabase.co/rest/v1/user_activity",new Blob([g],{type:"application/json"}))}},f=()=>{document.visibilityState==="hidden"&&l()};return window.addEventListener("beforeunload",d),document.addEventListener("visibilitychange",f),()=>{o.current&&clearInterval(o.current),window.removeEventListener("beforeunload",d),document.removeEventListener("visibilitychange",f),l()}},[e,l,u]),{trackEvent:u}}function om({children:e}){const{user:t,loading:n}=Qt(),s=ns();return n?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?!localStorage.getItem("onboarding_completed")&&s.pathname!=="/onboarding"?i.jsx(Ba,{to:"/onboarding",replace:!0}):i.jsx(i.Fragment,{children:e}):i.jsx(Ba,{to:"/prihlaseni",state:{from:s},replace:!0})}function Ot({children:e}){const t=ns();return i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3,ease:"easeInOut"},children:e},t.pathname)}/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tie=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nie=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,s)=>s?s.toUpperCase():n.toLowerCase()),O3=e=>{const t=nie(e);return t.charAt(0).toUpperCase()+t.slice(1)},zL=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim(),sie=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rie={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iie=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:r="",children:a,iconNode:o,...l},u)=>v.createElement("svg",{ref:u,...rie,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:zL("lucide",r),...!a&&!sie(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,f])=>v.createElement(d,f)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=(e,t)=>{const n=v.forwardRef(({className:s,...r},a)=>v.createElement(iie,{ref:a,iconNode:t,className:zL(`lucide-${tie(O3(e))}`,`lucide-${e}`,s),...r}));return n.displayName=O3(e),n};/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aie=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],p2=ge("activity",aie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oie=[["path",{d:"M19 9V6a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v3",key:"irtipd"}],["path",{d:"M3 16a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-5a2 2 0 0 0-4 0v1.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V11a2 2 0 0 0-4 0z",key:"1qyhux"}],["path",{d:"M5 18v2",key:"ppbyun"}],["path",{d:"M19 18v2",key:"gy7782"}]],lie=ge("armchair",oie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cie=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],$o=ge("arrow-left",cie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uie=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ur=ge("arrow-right",uie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const die=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],vp=ge("arrow-up-right",die);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hie=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],fie=ge("arrow-up",hie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mie=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Da=ge("award",mie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pie=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ig=ge("badge-check",pie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gie=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 18V6",key:"zqpxq5"}]],xie=ge("badge-dollar-sign",gie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vie=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],yie=ge("bell",vie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bie=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],wie=ge("bold",bie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jie=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Gt=ge("book-open",jie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kie=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]],Nie=ge("brain",kie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sie=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],AL=ge("briefcase",Sie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ie=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Cie=ge("building-2",_ie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eie=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],ML=ge("building",Eie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],zie=ge("calendar-check",Tie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aie=[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],Mo=ge("calendar-clock",Aie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Rie=ge("calendar-days",Mie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oie=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ca=ge("calendar",Oie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Die=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],RL=ge("car",Die);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pie=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Aa=ge("chart-column",Pie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iie=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pa=ge("check",Iie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lie=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dr=ge("chevron-down",Lie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ie=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ag=ge("chevron-left",$ie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vie=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],kr=ge("chevron-right",Vie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bie=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],bu=ge("chevron-up",Bie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Uie=ge("circle-alert",Fie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hie=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qie=ge("circle-check-big",Hie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Bs=ge("circle-check",Zie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]],Kie=ge("circle-dot",Wie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],Cv=ge("circle-play",Gie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],B_=ge("circle-question-mark",Yie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Xie=ge("circle-x",Jie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qie=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],cn=ge("clock",Qie);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eae=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],OL=ge("code",eae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tae=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],g2=ge("copy",tae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nae=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nr=ge("credit-card",nae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sae=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],_h=ge("crown",sae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rae=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],F_=ge("download",rae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iae=[["path",{d:"M17.596 12.768a2 2 0 1 0 2.829-2.829l-1.768-1.767a2 2 0 0 0 2.828-2.829l-2.828-2.828a2 2 0 0 0-2.829 2.828l-1.767-1.768a2 2 0 1 0-2.829 2.829z",key:"9m4mmf"}],["path",{d:"m2.5 21.5 1.4-1.4",key:"17g3f0"}],["path",{d:"m20.1 3.9 1.4-1.4",key:"1qn309"}],["path",{d:"M5.343 21.485a2 2 0 1 0 2.829-2.828l1.767 1.768a2 2 0 1 0 2.829-2.829l-6.364-6.364a2 2 0 1 0-2.829 2.829l1.768 1.767a2 2 0 0 0-2.828 2.829z",key:"1t2c92"}],["path",{d:"m9.6 14.4 4.8-4.8",key:"6umqxw"}]],aae=ge("dumbbell",iae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oae=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],DL=ge("external-link",oae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lae=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],cae=ge("eye-off",lae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uae=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Li=ge("eye",uae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dae=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],hae=ge("facebook",dae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fae=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ia=ge("file-text",fae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Ou=ge("film",mae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pae=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]],fb=ge("flame",pae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gae=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],U_=ge("footprints",gae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xae=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],vae=ge("funnel",xae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yae=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],Gd=ge("gift",yae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bae=[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]],wae=ge("github",bae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],kae=ge("globe",jae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nae=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],Ch=ge("graduation-cap",Nae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sae=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 12h18",key:"1i2n21"}],["rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",key:"h1oib"}]],_ae=ge("grid-2x2",Sae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Eae=ge("grid-3x3",Cae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tae=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],H_=ge("grip-vertical",Tae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zae=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],D3=ge("hard-drive",zae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aae=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Mae=ge("heading-1",Aae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rae=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Oae=ge("heading-2",Rae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dae=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Pae=ge("heading-3",Dae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iae=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]],PL=ge("heart-pulse",Iae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lae=[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]],$ae=ge("highlighter",Lae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vae=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Mi=ge("house",Vae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bae=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],IL=ge("image",Bae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fae=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],LL=ge("infinity",Fae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hae=ge("info",Uae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qae=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Zae=ge("italic",qae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wae=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Vo=ge("layers",Wae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kae=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],P3=ge("layout-grid",Kae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gae=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Yae=ge("layout-list",Gae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jae=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],Xae=ge("library",Jae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qae=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],eoe=ge("link-2",Qae);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],noe=ge("link",toe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const soe=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],$L=ge("linkedin",soe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const roe=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],ioe=ge("list-ordered",roe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aoe=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],ooe=ge("list",aoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const loe=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bl=ge("loader-circle",loe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const coe=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Il=ge("lock",coe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],VL=ge("log-out",uoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],BL=ge("mail",doe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hoe=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ql=ge("map-pin",hoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],moe=ge("medal",foe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const poe=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],goe=ge("menu",poe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xoe=[["path",{d:"M10 7.5 8 10l2 2.5",key:"xb17xw"}],["path",{d:"m14 7.5 2 2.5-2 2.5",key:"5rap1v"}],["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],voe=ge("message-square-code",xoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],boe=ge("message-square",yoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const woe=[["path",{d:"M5 12h14",key:"1ays0h"}]],mb=ge("minus",woe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]],koe=ge("monitor-play",joe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Noe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],FL=ge("monitor",Noe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],_oe=ge("moon",Soe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M18 8L22 12L18 16",key:"1r0oui"}],["path",{d:"M2 12H22",key:"1m8cig"}]],I3=ge("move-right",Coe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fl=ge("package",Eoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Toe=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],zoe=ge("palette",Toe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aoe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],Moe=ge("panel-left-close",Aoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Roe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],Ooe=ge("panel-left",Roe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],UL=ge("panels-top-left",Doe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],xk=ge("pencil",Poe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],q_=ge("percent",Ioe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],HL=ge("phone",Loe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],La=ge("play",$oe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ds=ge("plus",Voe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],Foe=ge("printer",Boe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],qL=ge("quote",Uoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hoe=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Eh=ge("receipt",Hoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Zoe=ge("redo",qoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],Koe=ge("refresh-ccw",Woe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Goe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ZL=ge("refresh-cw",Goe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Joe=ge("repeat",Yoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],WL=ge("rocket",Xoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],L3=ge("rotate-ccw",Qoe);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],KL=ge("save",ele);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tle=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ya=ge("search",tle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nle=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],sle=ge("send",nle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yh=ge("settings",rle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ale=ge("share-2",ile);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]],$3=ge("shield-off",ole);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yp=ge("shield",lle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cle=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],wu=ge("shopping-bag",cle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],og=ge("shopping-cart",ule);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dle=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],GL=ge("smartphone",dle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],YL=ge("sparkles",hle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["path",{d:"M7 20h10",key:"e6iznv"}],["path",{d:"M10 20c5.5-2.5.8-6.4 3-10",key:"161w41"}],["path",{d:"M9.5 9.4c1.1.8 1.8 2.2 2.3 3.7-2 .4-3.5.4-4.8-.3-1.2-.6-2.3-1.9-3-4.2 2.8-.5 4.4 0 5.5.8z",key:"9gtqwd"}],["path",{d:"M14.1 6a7 7 0 0 0-1.1 4c1.9-.1 3.3-.6 4.3-1.4 1-1 1.6-2.3 1.7-4.6-2.7.1-4 1-4.9 2z",key:"bkxnd2"}]],mle=ge("sprout",fle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],gle=ge("square-check-big",ple);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xle=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vle=ge("square-pen",xle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Lr=ge("star",yle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ble=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],wle=ge("stethoscope",ble);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],V3=ge("store",jle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kle=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Nle=ge("strikethrough",kle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sle=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],_le=ge("sun",Sle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],Ele=ge("table-2",Cle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]],JL=ge("tablet",Tle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],bp=ge("tag",zle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lg=ge("target",Ale);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],Rle=ge("thumbs-up",Mle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ole=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Dle=ge("timer",Ole);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],B3=ge("toggle-right",Ple);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],XL=ge("toggle-left",Ile);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["rect",{width:"16",height:"16",x:"4",y:"3",rx:"2",key:"1wxw4b"}],["path",{d:"M4 11h16",key:"mpoxn0"}],["path",{d:"M12 3v8",key:"1h2ygw"}],["path",{d:"m8 19-2 3",key:"13i0xs"}],["path",{d:"m18 22-2-3",key:"1p0ohu"}],["path",{d:"M8 15h.01",key:"a7atzg"}],["path",{d:"M16 15h.01",key:"rnfrdf"}]],$le=ge("tram-front",Lle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],cr=ge("trash-2",Vle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Fle=ge("trash",Ble);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ule=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Du=ge("trending-up",Ule);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Z_=ge("triangle-alert",Hle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qle=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],oc=ge("trophy",qle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],Hm=ge("truck",Zle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],QL=ge("twitter",Wle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Gle=ge("type",Kle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Jle=ge("underline",Yle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Qle=ge("undo",Xle);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ece=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],tce=ge("upload",ece);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sce=ge("user-check",nce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],e8=ge("user-plus",rce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ice=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ace=ge("user",ice);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fa=ge("users",oce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],cce=ge("video",lce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],dce=ge("wind",uce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Pu=ge("x",hce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uu=ge("zap",fce);/**
 * @license lucide-react v0.518.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],pce=ge("zoom-in",mce);function t8(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=t8(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function n8(){for(var e,t,n=0,s="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=t8(e))&&(s&&(s+=" "),s+=t);return s}const gce=(e,t)=>{const n=new Array(e.length+t.length);for(let s=0;s<e.length;s++)n[s]=e[s];for(let s=0;s<t.length;s++)n[e.length+s]=t[s];return n},xce=(e,t)=>({classGroupId:e,validator:t}),s8=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),Ev="-",F3=[],vce="arbitrary..",yce=e=>{const t=wce(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return bce(o);const l=o.split(Ev),u=l[0]===""&&l.length>1?1:0;return r8(l,u,t)},getConflictingClassGroupIds:(o,l)=>{if(l){const u=s[o],d=n[o];return u?d?gce(d,u):u:d||F3}return n[o]||F3}}},r8=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const r=e[t],a=n.nextPart.get(r);if(a){const d=r8(e,t+1,a);if(d)return d}const o=n.validators;if(o===null)return;const l=t===0?e.join(Ev):e.slice(t).join(Ev),u=o.length;for(let d=0;d<u;d++){const f=o[d];if(f.validator(l))return f.classGroupId}},bce=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),s=t.slice(0,n);return s?vce+s:void 0})(),wce=e=>{const{theme:t,classGroups:n}=e;return jce(n,t)},jce=(e,t)=>{const n=s8();for(const s in e){const r=e[s];W_(r,n,s,t)}return n},W_=(e,t,n,s)=>{const r=e.length;for(let a=0;a<r;a++){const o=e[a];kce(o,t,n,s)}},kce=(e,t,n,s)=>{if(typeof e=="string"){Nce(e,t,n);return}if(typeof e=="function"){Sce(e,t,n,s);return}_ce(e,t,n,s)},Nce=(e,t,n)=>{const s=e===""?t:i8(t,e);s.classGroupId=n},Sce=(e,t,n,s)=>{if(Cce(e)){W_(e(s),t,n,s);return}t.validators===null&&(t.validators=[]),t.validators.push(xce(n,e))},_ce=(e,t,n,s)=>{const r=Object.entries(e),a=r.length;for(let o=0;o<a;o++){const[l,u]=r[o];W_(u,i8(t,l),n,s)}},i8=(e,t)=>{let n=e;const s=t.split(Ev),r=s.length;for(let a=0;a<r;a++){const o=s[a];let l=n.nextPart.get(o);l||(l=s8(),n.nextPart.set(o,l)),n=l}return n},Cce=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Ece=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),s=Object.create(null);const r=(a,o)=>{n[a]=o,t++,t>e&&(t=0,s=n,n=Object.create(null))};return{get(a){let o=n[a];if(o!==void 0)return o;if((o=s[a])!==void 0)return r(a,o),o},set(a,o){a in n?n[a]=o:r(a,o)}}},x2="!",U3=":",Tce=[],H3=(e,t,n,s,r)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:s,isExternal:r}),zce=e=>{const{prefix:t,experimentalParseClassName:n}=e;let s=r=>{const a=[];let o=0,l=0,u=0,d;const f=r.length;for(let w=0;w<f;w++){const j=r[w];if(o===0&&l===0){if(j===U3){a.push(r.slice(u,w)),u=w+1;continue}if(j==="/"){d=w;continue}}j==="["?o++:j==="]"?o--:j==="("?l++:j===")"&&l--}const m=a.length===0?r:r.slice(u);let g=m,x=!1;m.endsWith(x2)?(g=m.slice(0,-1),x=!0):m.startsWith(x2)&&(g=m.slice(1),x=!0);const b=d&&d>u?d-u:void 0;return H3(a,x,g,b)};if(t){const r=t+U3,a=s;s=o=>o.startsWith(r)?a(o.slice(r.length)):H3(Tce,!1,o,void 0,!0)}if(n){const r=s;s=a=>n({className:a,parseClassName:r})}return s},Ace=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,s)=>{t.set(n,1e6+s)}),n=>{const s=[];let r=[];for(let a=0;a<n.length;a++){const o=n[a],l=o[0]==="[",u=t.has(o);l||u?(r.length>0&&(r.sort(),s.push(...r),r=[]),s.push(o)):r.push(o)}return r.length>0&&(r.sort(),s.push(...r)),s}},Mce=e=>({cache:Ece(e.cacheSize),parseClassName:zce(e),sortModifiers:Ace(e),...yce(e)}),Rce=/\s+/,Oce=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:r,sortModifiers:a}=t,o=[],l=e.trim().split(Rce);let u="";for(let d=l.length-1;d>=0;d-=1){const f=l[d],{isExternal:m,modifiers:g,hasImportantModifier:x,baseClassName:b,maybePostfixModifierPosition:w}=n(f);if(m){u=f+(u.length>0?" "+u:u);continue}let j=!!w,k=s(j?b.substring(0,w):b);if(!k){if(!j){u=f+(u.length>0?" "+u:u);continue}if(k=s(b),!k){u=f+(u.length>0?" "+u:u);continue}j=!1}const S=g.length===0?"":g.length===1?g[0]:a(g).join(":"),C=x?S+x2:S,E=C+k;if(o.indexOf(E)>-1)continue;o.push(E);const z=r(k,j);for(let R=0;R<z.length;++R){const T=z[R];o.push(C+T)}u=f+(u.length>0?" "+u:u)}return u},Dce=(...e)=>{let t=0,n,s,r="";for(;t<e.length;)(n=e[t++])&&(s=a8(n))&&(r&&(r+=" "),r+=s);return r},a8=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=a8(e[s]))&&(n&&(n+=" "),n+=t);return n},Pce=(e,...t)=>{let n,s,r,a;const o=u=>{const d=t.reduce((f,m)=>m(f),e());return n=Mce(d),s=n.cache.get,r=n.cache.set,a=l,l(u)},l=u=>{const d=s(u);if(d)return d;const f=Oce(u,n);return r(u,f),f};return a=o,(...u)=>a(Dce(...u))},Ice=[],Ss=e=>{const t=n=>n[e]||Ice;return t.isThemeGetter=!0,t},o8=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,l8=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Lce=/^\d+\/\d+$/,$ce=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Vce=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Fce=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Uce=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Od=e=>Lce.test(e),Bt=e=>!!e&&!Number.isNaN(Number(e)),xl=e=>!!e&&Number.isInteger(Number(e)),vk=e=>e.endsWith("%")&&Bt(e.slice(0,-1)),yo=e=>$ce.test(e),Hce=()=>!0,qce=e=>Vce.test(e)&&!Bce.test(e),c8=()=>!1,Zce=e=>Fce.test(e),Wce=e=>Uce.test(e),Kce=e=>!nt(e)&&!st(e),Gce=e=>Jh(e,h8,c8),nt=e=>o8.test(e),Lc=e=>Jh(e,f8,qce),yk=e=>Jh(e,eue,Bt),q3=e=>Jh(e,u8,c8),Yce=e=>Jh(e,d8,Wce),l0=e=>Jh(e,m8,Zce),st=e=>l8.test(e),lm=e=>Xh(e,f8),Jce=e=>Xh(e,tue),Z3=e=>Xh(e,u8),Xce=e=>Xh(e,h8),Qce=e=>Xh(e,d8),c0=e=>Xh(e,m8,!0),Jh=(e,t,n)=>{const s=o8.exec(e);return s?s[1]?t(s[1]):n(s[2]):!1},Xh=(e,t,n=!1)=>{const s=l8.exec(e);return s?s[1]?t(s[1]):n:!1},u8=e=>e==="position"||e==="percentage",d8=e=>e==="image"||e==="url",h8=e=>e==="length"||e==="size"||e==="bg-size",f8=e=>e==="length",eue=e=>e==="number",tue=e=>e==="family-name",m8=e=>e==="shadow",nue=()=>{const e=Ss("color"),t=Ss("font"),n=Ss("text"),s=Ss("font-weight"),r=Ss("tracking"),a=Ss("leading"),o=Ss("breakpoint"),l=Ss("container"),u=Ss("spacing"),d=Ss("radius"),f=Ss("shadow"),m=Ss("inset-shadow"),g=Ss("text-shadow"),x=Ss("drop-shadow"),b=Ss("blur"),w=Ss("perspective"),j=Ss("aspect"),k=Ss("ease"),S=Ss("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],z=()=>[...E(),st,nt],R=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],A=()=>[st,nt,u],D=()=>[Od,"full","auto",...A()],F=()=>[xl,"none","subgrid",st,nt],V=()=>["auto",{span:["full",xl,st,nt]},xl,st,nt],$=()=>[xl,"auto",st,nt],q=()=>["auto","min","max","fr",st,nt],K=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ee=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...A()],P=()=>[Od,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],I=()=>[e,st,nt],G=()=>[...E(),Z3,q3,{position:[st,nt]}],U=()=>["no-repeat",{repeat:["","x","y","space","round"]}],M=()=>["auto","cover","contain",Xce,Gce,{size:[st,nt]}],H=()=>[vk,lm,Lc],W=()=>["","none","full",d,st,nt],te=()=>["",Bt,lm,Lc],le=()=>["solid","dashed","dotted","double"],ce=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>[Bt,vk,Z3,q3],oe=()=>["","none",b,st,nt],he=()=>["none",Bt,st,nt],be=()=>["none",Bt,st,nt],we=()=>[Bt,st,nt],xe=()=>[Od,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[yo],breakpoint:[yo],color:[Hce],container:[yo],"drop-shadow":[yo],ease:["in","out","in-out"],font:[Kce],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[yo],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[yo],shadow:[yo],spacing:["px",Bt],text:[yo],"text-shadow":[yo],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Od,nt,st,j]}],container:["container"],columns:[{columns:[Bt,nt,st,l]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:z()}],overflow:[{overflow:R()}],"overflow-x":[{"overflow-x":R()}],"overflow-y":[{"overflow-y":R()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:D()}],"inset-x":[{"inset-x":D()}],"inset-y":[{"inset-y":D()}],start:[{start:D()}],end:[{end:D()}],top:[{top:D()}],right:[{right:D()}],bottom:[{bottom:D()}],left:[{left:D()}],visibility:["visible","invisible","collapse"],z:[{z:[xl,"auto",st,nt]}],basis:[{basis:[Od,"full","auto",l,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Bt,Od,"auto","initial","none",nt]}],grow:[{grow:["",Bt,st,nt]}],shrink:[{shrink:["",Bt,st,nt]}],order:[{order:[xl,"first","last","none",st,nt]}],"grid-cols":[{"grid-cols":F()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":F()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":q()}],"auto-rows":[{"auto-rows":q()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...K(),"normal"]}],"justify-items":[{"justify-items":[...ee(),"normal"]}],"justify-self":[{"justify-self":["auto",...ee()]}],"align-content":[{content:["normal",...K()]}],"align-items":[{items:[...ee(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ee(),{baseline:["","last"]}]}],"place-content":[{"place-content":K()}],"place-items":[{"place-items":[...ee(),"baseline"]}],"place-self":[{"place-self":["auto",...ee()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:P()}],w:[{w:[l,"screen",...P()]}],"min-w":[{"min-w":[l,"screen","none",...P()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[o]},...P()]}],h:[{h:["screen","lh",...P()]}],"min-h":[{"min-h":["screen","lh","none",...P()]}],"max-h":[{"max-h":["screen","lh",...P()]}],"font-size":[{text:["base",n,lm,Lc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,st,yk]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vk,nt]}],"font-family":[{font:[Jce,nt,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,st,nt]}],"line-clamp":[{"line-clamp":[Bt,"none",st,yk]}],leading:[{leading:[a,...A()]}],"list-image":[{"list-image":["none",st,nt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",st,nt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:[Bt,"from-font","auto",st,Lc]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[Bt,"auto",st,nt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",st,nt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",st,nt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:G()}],"bg-repeat":[{bg:U()}],"bg-size":[{bg:M()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xl,st,nt],radial:["",st,nt],conic:[xl,st,nt]},Qce,Yce]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:H()}],"gradient-via-pos":[{via:H()}],"gradient-to-pos":[{to:H()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:W()}],"rounded-s":[{"rounded-s":W()}],"rounded-e":[{"rounded-e":W()}],"rounded-t":[{"rounded-t":W()}],"rounded-r":[{"rounded-r":W()}],"rounded-b":[{"rounded-b":W()}],"rounded-l":[{"rounded-l":W()}],"rounded-ss":[{"rounded-ss":W()}],"rounded-se":[{"rounded-se":W()}],"rounded-ee":[{"rounded-ee":W()}],"rounded-es":[{"rounded-es":W()}],"rounded-tl":[{"rounded-tl":W()}],"rounded-tr":[{"rounded-tr":W()}],"rounded-br":[{"rounded-br":W()}],"rounded-bl":[{"rounded-bl":W()}],"border-w":[{border:te()}],"border-w-x":[{"border-x":te()}],"border-w-y":[{"border-y":te()}],"border-w-s":[{"border-s":te()}],"border-w-e":[{"border-e":te()}],"border-w-t":[{"border-t":te()}],"border-w-r":[{"border-r":te()}],"border-w-b":[{"border-b":te()}],"border-w-l":[{"border-l":te()}],"divide-x":[{"divide-x":te()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":te()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...le(),"hidden","none"]}],"divide-style":[{divide:[...le(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...le(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Bt,st,nt]}],"outline-w":[{outline:["",Bt,lm,Lc]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",f,c0,l0]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",m,c0,l0]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[Bt,Lc]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":te()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",g,c0,l0]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[Bt,st,nt]}],"mix-blend":[{"mix-blend":[...ce(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ce()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Bt]}],"mask-image-linear-from-pos":[{"mask-linear-from":Y()}],"mask-image-linear-to-pos":[{"mask-linear-to":Y()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":Y()}],"mask-image-t-to-pos":[{"mask-t-to":Y()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":Y()}],"mask-image-r-to-pos":[{"mask-r-to":Y()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":Y()}],"mask-image-b-to-pos":[{"mask-b-to":Y()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":Y()}],"mask-image-l-to-pos":[{"mask-l-to":Y()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":Y()}],"mask-image-x-to-pos":[{"mask-x-to":Y()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":Y()}],"mask-image-y-to-pos":[{"mask-y-to":Y()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[st,nt]}],"mask-image-radial-from-pos":[{"mask-radial-from":Y()}],"mask-image-radial-to-pos":[{"mask-radial-to":Y()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[Bt]}],"mask-image-conic-from-pos":[{"mask-conic-from":Y()}],"mask-image-conic-to-pos":[{"mask-conic-to":Y()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:G()}],"mask-repeat":[{mask:U()}],"mask-size":[{mask:M()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",st,nt]}],filter:[{filter:["","none",st,nt]}],blur:[{blur:oe()}],brightness:[{brightness:[Bt,st,nt]}],contrast:[{contrast:[Bt,st,nt]}],"drop-shadow":[{"drop-shadow":["","none",x,c0,l0]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",Bt,st,nt]}],"hue-rotate":[{"hue-rotate":[Bt,st,nt]}],invert:[{invert:["",Bt,st,nt]}],saturate:[{saturate:[Bt,st,nt]}],sepia:[{sepia:["",Bt,st,nt]}],"backdrop-filter":[{"backdrop-filter":["","none",st,nt]}],"backdrop-blur":[{"backdrop-blur":oe()}],"backdrop-brightness":[{"backdrop-brightness":[Bt,st,nt]}],"backdrop-contrast":[{"backdrop-contrast":[Bt,st,nt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Bt,st,nt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Bt,st,nt]}],"backdrop-invert":[{"backdrop-invert":["",Bt,st,nt]}],"backdrop-opacity":[{"backdrop-opacity":[Bt,st,nt]}],"backdrop-saturate":[{"backdrop-saturate":[Bt,st,nt]}],"backdrop-sepia":[{"backdrop-sepia":["",Bt,st,nt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",st,nt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Bt,"initial",st,nt]}],ease:[{ease:["linear","initial",k,st,nt]}],delay:[{delay:[Bt,st,nt]}],animate:[{animate:["none",S,st,nt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,st,nt]}],"perspective-origin":[{"perspective-origin":z()}],rotate:[{rotate:he()}],"rotate-x":[{"rotate-x":he()}],"rotate-y":[{"rotate-y":he()}],"rotate-z":[{"rotate-z":he()}],scale:[{scale:be()}],"scale-x":[{"scale-x":be()}],"scale-y":[{"scale-y":be()}],"scale-z":[{"scale-z":be()}],"scale-3d":["scale-3d"],skew:[{skew:we()}],"skew-x":[{"skew-x":we()}],"skew-y":[{"skew-y":we()}],transform:[{transform:[st,nt,"","none","gpu","cpu"]}],"transform-origin":[{origin:z()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:xe()}],"translate-x":[{"translate-x":xe()}],"translate-y":[{"translate-y":xe()}],"translate-z":[{"translate-z":xe()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",st,nt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",st,nt]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[Bt,lm,Lc,yk]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},sue=Pce(nue);function se(...e){return sue(n8(e))}const pn={name:"Dires",description:"Profesionln fyzioterapeutick kurzy od certifikovanch eskch odbornk",logo:"/Dires.png",mailSupport:"info@dires.cz",links:{twitter:"https://twitter.com/dires",linkedin:"https://www.linkedin.com/company/dires/"}};function W3(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ja(...e){return t=>{let n=!1;const s=e.map(r=>{const a=W3(r,t);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let r=0;r<s.length;r++){const a=s[r];typeof a=="function"?a():W3(e[r],null)}}}}function St(...e){return v.useCallback(Ja(...e),e)}var rue=Symbol.for("react.lazy"),Tv=WS[" use ".trim().toString()];function iue(e){return typeof e=="object"&&e!==null&&"then"in e}function p8(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===rue&&"_payload"in e&&iue(e._payload)}function Qh(e){const t=aue(e),n=v.forwardRef((s,r)=>{let{children:a,...o}=s;p8(a)&&typeof Tv=="function"&&(a=Tv(a._payload));const l=v.Children.toArray(a),u=l.find(lue);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}var K_=Qh("Slot");function aue(e){const t=v.forwardRef((n,s)=>{let{children:r,...a}=n;if(p8(r)&&typeof Tv=="function"&&(r=Tv(r._payload)),v.isValidElement(r)){const o=uue(r),l=cue(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Ja(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var oue=Symbol("radix.slottable");function lue(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===oue}function cue(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function uue(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const K3=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,G3=n8,cg=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return G3(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:r,defaultVariants:a}=t,o=Object.keys(r).map(d=>{const f=n==null?void 0:n[d],m=a==null?void 0:a[d];if(f===null)return null;const g=K3(f)||K3(m);return r[d][g]}),l=n&&Object.entries(n).reduce((d,f)=>{let[m,g]=f;return g===void 0||(d[m]=g),d},{}),u=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((d,f)=>{let{class:m,className:g,...x}=f;return Object.entries(x).every(b=>{let[w,j]=b;return Array.isArray(j)?j.includes({...a,...l}[w]):{...a,...l}[w]===j})?[...d,m,g]:d},[]);return G3(e,o,u,n==null?void 0:n.class,n==null?void 0:n.className)},due=cg("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-1 transition-colors focus-visible:outline-none focus-visible:ring-1 ring-offset-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),X=v.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...r},a)=>{const o=s?K_:"button";return i.jsx(o,{className:se(due({variant:t,size:n,className:e})),ref:a,...r})});X.displayName="Button";function g8(){const{theme:e,setTheme:t}=NY(),n=()=>{t(e==="dark"?"light":"dark")};return i.jsxs(X,{variant:"outline",size:"icon",className:"relative size-10 overflow-hidden rounded-full",onClick:n,children:[i.jsx(ne.div,{initial:!1,animate:{rotate:e==="dark"?180:0,scale:e==="dark"?0:1},transition:{duration:.3,ease:"easeInOut"},className:"absolute",children:i.jsx(_le,{className:"h-[1.2rem] w-[1.2rem]"})}),i.jsx(ne.div,{initial:!1,animate:{rotate:e==="dark"?0:-180,scale:e==="dark"?1:0},transition:{duration:.3,ease:"easeInOut"},className:"absolute",children:i.jsx(_oe,{className:"h-[1.2rem] w-[1.2rem]"})}),i.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}var hue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fue=hue.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),mue="AspectRatio",x8=v.forwardRef((e,t)=>{const{ratio:n=1/1,style:s,...r}=e;return i.jsx("div",{style:{position:"relative",width:"100%",paddingBottom:`${100/n}%`},"data-radix-aspect-ratio-wrapper":"",children:i.jsx(fue.div,{...r,ref:t,style:{...s,position:"absolute",top:0,right:0,bottom:0,left:0}})})});x8.displayName=mue;var pue=x8;const Ua=pue;var gue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xue=gue.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),vue="Separator",Y3="horizontal",yue=["horizontal","vertical"],v8=v.forwardRef((e,t)=>{const{decorative:n,orientation:s=Y3,...r}=e,a=bue(s)?s:Y3,l=n?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return i.jsx(xue.div,{"data-orientation":a,...l,...r,ref:t})});v8.displayName=vue;function bue(e){return yue.includes(e)}var y8=v8;const $t=v.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},r)=>i.jsx(y8,{ref:r,decorative:n,orientation:t,className:se("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));$t.displayName=y8.displayName;function Ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function wue(e,t){const n=v.createContext(t),s=a=>{const{children:o,...l}=a,u=v.useMemo(()=>l,Object.values(l));return i.jsx(n.Provider,{value:u,children:o})};s.displayName=e+"Provider";function r(a){const o=v.useContext(n);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${a}\` must be used within \`${e}\``)}return[s,r]}function fr(e,t=[]){let n=[];function s(a,o){const l=v.createContext(o),u=n.length;n=[...n,o];const d=m=>{var k;const{scope:g,children:x,...b}=m,w=((k=g==null?void 0:g[e])==null?void 0:k[u])||l,j=v.useMemo(()=>b,Object.values(b));return i.jsx(w.Provider,{value:j,children:x})};d.displayName=a+"Provider";function f(m,g){var w;const x=((w=g==null?void 0:g[e])==null?void 0:w[u])||l,b=v.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,f]}const r=()=>{const a=n.map(o=>v.createContext(o));return function(l){const u=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return r.scopeName=e,[s,jue(r,...t)]}function jue(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...l,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var $n=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},kue=WS[" useId ".trim().toString()]||(()=>{}),Nue=0;function jr(e){const[t,n]=v.useState(kue());return $n(()=>{n(s=>s??String(Nue++))},[e]),t?`radix-${t}`:""}var Sue=WS[" useInsertionEffect ".trim().toString()]||$n;function Fr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[r,a,o]=_ue({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:r;{const f=v.useRef(e!==void 0);v.useEffect(()=>{const m=f.current;m!==l&&console.warn(`${s} is changing from ${m?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,s])}const d=v.useCallback(f=>{var m;if(l){const g=Cue(f)?f(e):f;g!==e&&((m=o.current)==null||m.call(o,g))}else a(f)},[l,e,a,o]);return[u,d]}function _ue({defaultProp:e,onChange:t}){const[n,s]=v.useState(e),r=v.useRef(n),a=v.useRef(t);return Sue(()=>{a.current=t},[t]),v.useEffect(()=>{var o;r.current!==n&&((o=a.current)==null||o.call(a,n),r.current=n)},[n,r]),[n,s,a]}function Cue(e){return typeof e=="function"}function Eue(e){const t=Tue(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(Aue);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function Tue(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=Rue(r),l=Mue(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Ja(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var zue=Symbol("radix.slottable");function Aue(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===zue}function Mue(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function Rue(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Oue=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xe=Oue.reduce((e,t)=>{const n=Eue(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function zv(e,t){e&&sa.flushSync(()=>e.dispatchEvent(t))}function On(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function Due(e,t=globalThis==null?void 0:globalThis.document){const n=On(e);v.useEffect(()=>{const s=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Pue="DismissableLayer",v2="dismissableLayer.update",Iue="dismissableLayer.pointerDownOutside",Lue="dismissableLayer.focusOutside",J3,b8=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ef=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:r,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...u}=e,d=v.useContext(b8),[f,m]=v.useState(null),g=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,x]=v.useState({}),b=St(t,T=>m(T)),w=Array.from(d.layers),[j]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),k=w.indexOf(j),S=f?w.indexOf(f):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,E=S>=k,z=Bue(T=>{const A=T.target,D=[...d.branches].some(F=>F.contains(A));!E||D||(r==null||r(T),o==null||o(T),T.defaultPrevented||l==null||l())},g),R=Fue(T=>{const A=T.target;[...d.branches].some(F=>F.contains(A))||(a==null||a(T),o==null||o(T),T.defaultPrevented||l==null||l())},g);return Due(T=>{S===d.layers.size-1&&(s==null||s(T),!T.defaultPrevented&&l&&(T.preventDefault(),l()))},g),v.useEffect(()=>{if(f)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(J3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),X3(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=J3)}},[f,g,n,d]),v.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),X3())},[f,d]),v.useEffect(()=>{const T=()=>x({});return document.addEventListener(v2,T),()=>document.removeEventListener(v2,T)},[]),i.jsx(Xe.div,{...u,ref:b,style:{pointerEvents:C?E?"auto":"none":void 0,...e.style},onFocusCapture:Ie(e.onFocusCapture,R.onFocusCapture),onBlurCapture:Ie(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Ie(e.onPointerDownCapture,z.onPointerDownCapture)})});ef.displayName=Pue;var $ue="DismissableLayerBranch",Vue=v.forwardRef((e,t)=>{const n=v.useContext(b8),s=v.useRef(null),r=St(t,s);return v.useEffect(()=>{const a=s.current;if(a)return n.branches.add(a),()=>{n.branches.delete(a)}},[n.branches]),i.jsx(Xe.div,{...e,ref:r})});Vue.displayName=$ue;function Bue(e,t=globalThis==null?void 0:globalThis.document){const n=On(e),s=v.useRef(!1),r=v.useRef(()=>{});return v.useEffect(()=>{const a=l=>{if(l.target&&!s.current){let u=function(){w8(Iue,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=u,t.addEventListener("click",r.current,{once:!0})):u()}else t.removeEventListener("click",r.current);s.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",a),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function Fue(e,t=globalThis==null?void 0:globalThis.document){const n=On(e),s=v.useRef(!1);return v.useEffect(()=>{const r=a=>{a.target&&!s.current&&w8(Lue,n,{originalEvent:a},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function X3(){const e=new CustomEvent(v2);document.dispatchEvent(e)}function w8(e,t,n,{discrete:s}){const r=n.originalEvent.target,a=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),s?zv(r,a):r.dispatchEvent(a)}var bk="focusScope.autoFocusOnMount",wk="focusScope.autoFocusOnUnmount",Q3={bubbles:!1,cancelable:!0},Uue="FocusScope",pb=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:r,onUnmountAutoFocus:a,...o}=e,[l,u]=v.useState(null),d=On(r),f=On(a),m=v.useRef(null),g=St(t,w=>u(w)),x=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let w=function(C){if(x.paused||!l)return;const E=C.target;l.contains(E)?m.current=E:Sl(m.current,{select:!0})},j=function(C){if(x.paused||!l)return;const E=C.relatedTarget;E!==null&&(l.contains(E)||Sl(m.current,{select:!0}))},k=function(C){if(document.activeElement===document.body)for(const z of C)z.removedNodes.length>0&&Sl(l)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const S=new MutationObserver(k);return l&&S.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),S.disconnect()}}},[s,l,x.paused]),v.useEffect(()=>{if(l){tR.add(x);const w=document.activeElement;if(!l.contains(w)){const k=new CustomEvent(bk,Q3);l.addEventListener(bk,d),l.dispatchEvent(k),k.defaultPrevented||(Hue(Gue(j8(l)),{select:!0}),document.activeElement===w&&Sl(l))}return()=>{l.removeEventListener(bk,d),setTimeout(()=>{const k=new CustomEvent(wk,Q3);l.addEventListener(wk,f),l.dispatchEvent(k),k.defaultPrevented||Sl(w??document.body,{select:!0}),l.removeEventListener(wk,f),tR.remove(x)},0)}}},[l,d,f,x]);const b=v.useCallback(w=>{if(!n&&!s||x.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,k=document.activeElement;if(j&&k){const S=w.currentTarget,[C,E]=que(S);C&&E?!w.shiftKey&&k===E?(w.preventDefault(),n&&Sl(C,{select:!0})):w.shiftKey&&k===C&&(w.preventDefault(),n&&Sl(E,{select:!0})):k===S&&w.preventDefault()}},[n,s,x.paused]);return i.jsx(Xe.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});pb.displayName=Uue;function Hue(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Sl(s,{select:t}),document.activeElement!==n)return}function que(e){const t=j8(e),n=eR(t,e),s=eR(t.reverse(),e);return[n,s]}function j8(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function eR(e,t){for(const n of e)if(!Zue(n,{upTo:t}))return n}function Zue(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Wue(e){return e instanceof HTMLInputElement&&"select"in e}function Sl(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Wue(e)&&t&&e.select()}}var tR=Kue();function Kue(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=nR(e,t),e.unshift(t)},remove(t){var n;e=nR(e,t),(n=e[0])==null||n.resume()}}}function nR(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function Gue(e){return e.filter(t=>t.tagName!=="A")}var Yue="Portal",ug=v.forwardRef((e,t)=>{var l;const{container:n,...s}=e,[r,a]=v.useState(!1);$n(()=>a(!0),[]);const o=n||r&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?sb.createPortal(i.jsx(Xe.div,{...s,ref:t}),o):null});ug.displayName=Yue;function Jue(e,t){return v.useReducer((n,s)=>t[n][s]??n,e)}var ss=e=>{const{present:t,children:n}=e,s=Xue(t),r=typeof n=="function"?n({present:s.isPresent}):v.Children.only(n),a=St(s.ref,Que(r));return typeof n=="function"||s.isPresent?v.cloneElement(r,{ref:a}):null};ss.displayName="Presence";function Xue(e){const[t,n]=v.useState(),s=v.useRef(null),r=v.useRef(e),a=v.useRef("none"),o=e?"mounted":"unmounted",[l,u]=Jue(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const d=u0(s.current);a.current=l==="mounted"?d:"none"},[l]),$n(()=>{const d=s.current,f=r.current;if(f!==e){const g=a.current,x=u0(d);e?u("MOUNT"):x==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(f&&g!==x?"ANIMATION_OUT":"UNMOUNT"),r.current=e}},[e,u]),$n(()=>{if(t){let d;const f=t.ownerDocument.defaultView??window,m=x=>{const w=u0(s.current).includes(CSS.escape(x.animationName));if(x.target===t&&w&&(u("ANIMATION_END"),!r.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",d=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},g=x=>{x.target===t&&(a.current=u0(s.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{f.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:v.useCallback(d=>{s.current=d?getComputedStyle(d):null,n(d)},[])}}function u0(e){return(e==null?void 0:e.animationName)||"none"}function Que(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var jk=0;function G_(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??sR()),document.body.insertAdjacentElement("beforeend",e[1]??sR()),jk++,()=>{jk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),jk--}},[])}function sR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var tv="right-scroll-bar-position",nv="width-before-scroll-bar",ede="with-scroll-bars-hidden",tde="--removed-body-scroll-bar-size";function kk(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function nde(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var r=n.value;r!==s&&(n.value=s,n.callback(s,r))}}}})[0];return n.callback=t,n.facade}var sde=typeof window<"u"?v.useLayoutEffect:v.useEffect,rR=new WeakMap;function rde(e,t){var n=nde(null,function(s){return e.forEach(function(r){return kk(r,s)})});return sde(function(){var s=rR.get(n);if(s){var r=new Set(s),a=new Set(e),o=n.current;r.forEach(function(l){a.has(l)||kk(l,null)}),a.forEach(function(l){r.has(l)||kk(l,o)})}rR.set(n,e)},[e]),n}function ide(e){return e}function ade(e,t){t===void 0&&(t=ide);var n=[],s=!1,r={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(a){var o=t(a,s);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(s=!0;n.length;){var o=n;n=[],o.forEach(a)}n={push:function(l){return a(l)},filter:function(){return n}}},assignMedium:function(a){s=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(a),o=n}var u=function(){var f=o;o=[],f.forEach(a)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(f){o.push(f),d()},filter:function(f){return o=o.filter(f),n}}}};return r}function ode(e){e===void 0&&(e={});var t=ade(null);return t.options=Ea({async:!0,ssr:!1},e),t}var k8=function(e){var t=e.sideCar,n=Kh(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,Ea({},n))};k8.isSideCarExport=!0;function lde(e,t){return e.useMedium(t),k8}var N8=ode(),Nk=function(){},gb=v.forwardRef(function(e,t){var n=v.useRef(null),s=v.useState({onScrollCapture:Nk,onWheelCapture:Nk,onTouchMoveCapture:Nk}),r=s[0],a=s[1],o=e.forwardProps,l=e.children,u=e.className,d=e.removeScrollBar,f=e.enabled,m=e.shards,g=e.sideCar,x=e.noRelative,b=e.noIsolation,w=e.inert,j=e.allowPinchZoom,k=e.as,S=k===void 0?"div":k,C=e.gapMode,E=Kh(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),z=g,R=rde([n,t]),T=Ea(Ea({},E),r);return v.createElement(v.Fragment,null,f&&v.createElement(z,{sideCar:N8,removeScrollBar:d,shards:m,noRelative:x,noIsolation:b,inert:w,setCallbacks:a,allowPinchZoom:!!j,lockRef:n,gapMode:C}),o?v.cloneElement(v.Children.only(l),Ea(Ea({},T),{ref:R})):v.createElement(S,Ea({},T,{className:u,ref:R}),l))});gb.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};gb.classNames={fullWidth:nv,zeroRight:tv};var cde=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ude(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=cde();return t&&e.setAttribute("nonce",t),e}function dde(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function hde(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var fde=function(){var e=0,t=null;return{add:function(n){e==0&&(t=ude())&&(dde(t,n),hde(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},mde=function(){var e=fde();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},S8=function(){var e=mde(),t=function(n){var s=n.styles,r=n.dynamic;return e(s,r),null};return t},pde={left:0,top:0,right:0,gap:0},Sk=function(e){return parseInt(e||"",10)||0},gde=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],r=t[e==="padding"?"paddingRight":"marginRight"];return[Sk(n),Sk(s),Sk(r)]},xde=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return pde;var t=gde(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},vde=S8(),ph="data-scroll-locked",yde=function(e,t,n,s){var r=e.left,a=e.top,o=e.right,l=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(ede,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(ph,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tv,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(nv,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(tv," .").concat(tv,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(nv," .").concat(nv,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(ph,`] {
    `).concat(tde,": ").concat(l,`px;
  }
`)},iR=function(){var e=parseInt(document.body.getAttribute(ph)||"0",10);return isFinite(e)?e:0},bde=function(){v.useEffect(function(){return document.body.setAttribute(ph,(iR()+1).toString()),function(){var e=iR()-1;e<=0?document.body.removeAttribute(ph):document.body.setAttribute(ph,e.toString())}},[])},wde=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,r=s===void 0?"margin":s;bde();var a=v.useMemo(function(){return xde(r)},[r]);return v.createElement(vde,{styles:yde(a,!t,r,n?"":"!important")})},y2=!1;if(typeof window<"u")try{var d0=Object.defineProperty({},"passive",{get:function(){return y2=!0,!0}});window.addEventListener("test",d0,d0),window.removeEventListener("test",d0,d0)}catch{y2=!1}var Dd=y2?{passive:!1}:!1,jde=function(e){return e.tagName==="TEXTAREA"},_8=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!jde(e)&&n[t]==="visible")},kde=function(e){return _8(e,"overflowY")},Nde=function(e){return _8(e,"overflowX")},aR=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var r=C8(e,s);if(r){var a=E8(e,s),o=a[1],l=a[2];if(o>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},Sde=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},_de=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},C8=function(e,t){return e==="v"?kde(t):Nde(t)},E8=function(e,t){return e==="v"?Sde(t):_de(t)},Cde=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ede=function(e,t,n,s,r){var a=Cde(e,window.getComputedStyle(t).direction),o=a*s,l=n.target,u=t.contains(l),d=!1,f=o>0,m=0,g=0;do{if(!l)break;var x=E8(e,l),b=x[0],w=x[1],j=x[2],k=w-j-a*b;(b||k)&&C8(e,l)&&(m+=k,g+=b);var S=l.parentNode;l=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!u&&l!==document.body||u&&(t.contains(l)||t===l));return(f&&Math.abs(m)<1||!f&&Math.abs(g)<1)&&(d=!0),d},h0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},oR=function(e){return[e.deltaX,e.deltaY]},lR=function(e){return e&&"current"in e?e.current:e},Tde=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zde=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ade=0,Pd=[];function Mde(e){var t=v.useRef([]),n=v.useRef([0,0]),s=v.useRef(),r=v.useState(Ade++)[0],a=v.useState(S8)[0],o=v.useRef(e);v.useEffect(function(){o.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(r));var w=vne([e.lockRef.current],(e.shards||[]).map(lR),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(r))})}}},[e.inert,e.lockRef.current,e.shards]);var l=v.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var k=h0(w),S=n.current,C="deltaX"in w?w.deltaX:S[0]-k[0],E="deltaY"in w?w.deltaY:S[1]-k[1],z,R=w.target,T=Math.abs(C)>Math.abs(E)?"h":"v";if("touches"in w&&T==="h"&&R.type==="range")return!1;var A=window.getSelection(),D=A&&A.anchorNode,F=D?D===R||D.contains(R):!1;if(F)return!1;var V=aR(T,R);if(!V)return!0;if(V?z=T:(z=T==="v"?"h":"v",V=aR(T,R)),!V)return!1;if(!s.current&&"changedTouches"in w&&(C||E)&&(s.current=z),!z)return!0;var $=s.current||z;return Ede($,j,w,$==="h"?C:E)},[]),u=v.useCallback(function(w){var j=w;if(!(!Pd.length||Pd[Pd.length-1]!==a)){var k="deltaY"in j?oR(j):h0(j),S=t.current.filter(function(z){return z.name===j.type&&(z.target===j.target||j.target===z.shadowParent)&&Tde(z.delta,k)})[0];if(S&&S.should){j.cancelable&&j.preventDefault();return}if(!S){var C=(o.current.shards||[]).map(lR).filter(Boolean).filter(function(z){return z.contains(j.target)}),E=C.length>0?l(j,C[0]):!o.current.noIsolation;E&&j.cancelable&&j.preventDefault()}}},[]),d=v.useCallback(function(w,j,k,S){var C={name:w,delta:j,target:k,should:S,shadowParent:Rde(k)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(E){return E!==C})},1)},[]),f=v.useCallback(function(w){n.current=h0(w),s.current=void 0},[]),m=v.useCallback(function(w){d(w.type,oR(w),w.target,l(w,e.lockRef.current))},[]),g=v.useCallback(function(w){d(w.type,h0(w),w.target,l(w,e.lockRef.current))},[]);v.useEffect(function(){return Pd.push(a),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",u,Dd),document.addEventListener("touchmove",u,Dd),document.addEventListener("touchstart",f,Dd),function(){Pd=Pd.filter(function(w){return w!==a}),document.removeEventListener("wheel",u,Dd),document.removeEventListener("touchmove",u,Dd),document.removeEventListener("touchstart",f,Dd)}},[]);var x=e.removeScrollBar,b=e.inert;return v.createElement(v.Fragment,null,b?v.createElement(a,{styles:zde(r)}):null,x?v.createElement(wde,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Rde(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Ode=lde(N8,Mde);var xb=v.forwardRef(function(e,t){return v.createElement(gb,Ea({},e,{ref:t,sideCar:Ode}))});xb.classNames=gb.classNames;var Dde=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Id=new WeakMap,f0=new WeakMap,m0={},_k=0,T8=function(e){return e&&(e.host||T8(e.parentNode))},Pde=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=T8(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Ide=function(e,t,n,s){var r=Pde(t,Array.isArray(e)?e:[e]);m0[n]||(m0[n]=new WeakMap);var a=m0[n],o=[],l=new Set,u=new Set(r),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};r.forEach(d);var f=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(g){if(l.has(g))f(g);else try{var x=g.getAttribute(s),b=x!==null&&x!=="false",w=(Id.get(g)||0)+1,j=(a.get(g)||0)+1;Id.set(g,w),a.set(g,j),o.push(g),w===1&&b&&f0.set(g,!0),j===1&&g.setAttribute(n,"true"),b||g.setAttribute(s,"true")}catch(k){console.error("aria-hidden: cannot operate on ",g,k)}})};return f(t),l.clear(),_k++,function(){o.forEach(function(m){var g=Id.get(m)-1,x=a.get(m)-1;Id.set(m,g),a.set(m,x),g||(f0.has(m)||m.removeAttribute(s),f0.delete(m)),x||m.removeAttribute(n)}),_k--,_k||(Id=new WeakMap,Id=new WeakMap,f0=new WeakMap,m0={})}},Y_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),r=Dde(e);return r?(s.push.apply(s,Array.from(r.querySelectorAll("[aria-live], script"))),Ide(s,r,n,"aria-hidden")):function(){return null}};function Lde(e){const t=$de(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(Bde);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function $de(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=Ude(r),l=Fde(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Ja(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Vde=Symbol("radix.slottable");function Bde(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Vde}function Fde(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function Ude(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vb="Dialog",[z8]=fr(vb),[Hde,ga]=z8(vb),A8=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:r,onOpenChange:a,modal:o=!0}=e,l=v.useRef(null),u=v.useRef(null),[d,f]=Fr({prop:s,defaultProp:r??!1,onChange:a,caller:vb});return i.jsx(Hde,{scope:t,triggerRef:l,contentRef:u,contentId:jr(),titleId:jr(),descriptionId:jr(),open:d,onOpenChange:f,onOpenToggle:v.useCallback(()=>f(m=>!m),[f]),modal:o,children:n})};A8.displayName=vb;var M8="DialogTrigger",qde=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ga(M8,n),a=St(t,r.triggerRef);return i.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Q_(r.open),...s,ref:a,onClick:Ie(e.onClick,r.onOpenToggle)})});qde.displayName=M8;var J_="DialogPortal",[Zde,R8]=z8(J_,{forceMount:void 0}),O8=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:r}=e,a=ga(J_,t);return i.jsx(Zde,{scope:t,forceMount:n,children:v.Children.map(s,o=>i.jsx(ss,{present:n||a.open,children:i.jsx(ug,{asChild:!0,container:r,children:o})}))})};O8.displayName=J_;var Av="DialogOverlay",D8=v.forwardRef((e,t)=>{const n=R8(Av,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,a=ga(Av,e.__scopeDialog);return a.modal?i.jsx(ss,{present:s||a.open,children:i.jsx(Kde,{...r,ref:t})}):null});D8.displayName=Av;var Wde=Lde("DialogOverlay.RemoveScroll"),Kde=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ga(Av,n);return i.jsx(xb,{as:Wde,allowPinchZoom:!0,shards:[r.contentRef],children:i.jsx(Xe.div,{"data-state":Q_(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),ju="DialogContent",P8=v.forwardRef((e,t)=>{const n=R8(ju,e.__scopeDialog),{forceMount:s=n.forceMount,...r}=e,a=ga(ju,e.__scopeDialog);return i.jsx(ss,{present:s||a.open,children:a.modal?i.jsx(Gde,{...r,ref:t}):i.jsx(Yde,{...r,ref:t})})});P8.displayName=ju;var Gde=v.forwardRef((e,t)=>{const n=ga(ju,e.__scopeDialog),s=v.useRef(null),r=St(t,n.contentRef,s);return v.useEffect(()=>{const a=s.current;if(a)return Y_(a)},[]),i.jsx(I8,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:Ie(e.onFocusOutside,a=>a.preventDefault())})}),Yde=v.forwardRef((e,t)=>{const n=ga(ju,e.__scopeDialog),s=v.useRef(!1),r=v.useRef(!1);return i.jsx(I8,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var o,l;(o=e.onCloseAutoFocus)==null||o.call(e,a),a.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),a.preventDefault()),s.current=!1,r.current=!1},onInteractOutside:a=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,a),a.defaultPrevented||(s.current=!0,a.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const o=a.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&r.current&&a.preventDefault()}})}),I8=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:r,onCloseAutoFocus:a,...o}=e,l=ga(ju,n),u=v.useRef(null),d=St(t,u);return G_(),i.jsxs(i.Fragment,{children:[i.jsx(pb,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:r,onUnmountAutoFocus:a,children:i.jsx(ef,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Q_(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(Jde,{titleId:l.titleId}),i.jsx(Qde,{contentRef:u,descriptionId:l.descriptionId})]})]})}),X_="DialogTitle",L8=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ga(X_,n);return i.jsx(Xe.h2,{id:r.titleId,...s,ref:t})});L8.displayName=X_;var $8="DialogDescription",V8=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ga($8,n);return i.jsx(Xe.p,{id:r.descriptionId,...s,ref:t})});V8.displayName=$8;var B8="DialogClose",F8=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,r=ga(B8,n);return i.jsx(Xe.button,{type:"button",...s,ref:t,onClick:Ie(e.onClick,()=>r.onOpenChange(!1))})});F8.displayName=B8;function Q_(e){return e?"open":"closed"}var U8="DialogTitleWarning",[kPe,H8]=wue(U8,{contentName:ju,titleName:X_,docsSlug:"dialog"}),Jde=({titleId:e})=>{const t=H8(U8),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Xde="DialogDescriptionWarning",Qde=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${H8(Xde).contentName}}.`;return v.useEffect(()=>{var a;const r=(a=e.current)==null?void 0:a.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},eC=A8,tC=O8,dg=D8,hg=P8,fg=L8,mg=V8,nC=F8;const ehe=eC,the=nC,nhe=tC,q8=v.forwardRef(({className:e,...t},n)=>i.jsx(dg,{className:se("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80 data-[state=closed]:animate-out data-[state=open]:animate-in",e),...t,ref:n}));q8.displayName=dg.displayName;const she=cg("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Z8=v.forwardRef(({side:e="right",className:t,children:n,...s},r)=>i.jsxs(nhe,{children:[i.jsx(q8,{}),i.jsxs(hg,{ref:r,className:se(she({side:e}),t),...s,children:[n,i.jsxs(nC,{className:"absolute top-4 right-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[i.jsx(Pu,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Z8.displayName=hg.displayName;const W8=({className:e,...t})=>i.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",e),...t});W8.displayName="SheetHeader";const K8=({className:e,...t})=>i.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});K8.displayName="SheetFooter";const G8=v.forwardRef(({className:e,...t},n)=>i.jsx(fg,{ref:n,className:se("font-semibold text-foreground text-lg",e),...t}));G8.displayName=fg.displayName;const rhe=v.forwardRef(({className:e,...t},n)=>i.jsx(mg,{ref:n,className:se("text-muted-foreground text-sm",e),...t}));rhe.displayName=mg.displayName;function Mv(e){return new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}const Y8=({open:e,onOpenChange:t})=>{const{items:n,removeItem:s,updateQuantity:r,itemCount:a,subtotal:o}=rg();return i.jsx(ehe,{open:e,onOpenChange:t,children:i.jsxs(Z8,{"aria-describedby":void 0,className:"flex w-[92dvw] flex-col gap-0 p-0 sm:max-w-[28rem] lg:max-w-[32rem] [&>button]:hidden",children:[i.jsxs(W8,{className:"flex flex-row items-center justify-between gap-4 border-b px-5 py-4",children:[i.jsxs(G8,{className:"text-lg font-semibold",children:["Nakupni kosik",a>0&&i.jsxs("span",{className:"ml-2 text-sm font-normal text-muted-foreground",children:["(",a," ",a===1?"polozka":a<5?"polozky":"polozek",")"]})]}),i.jsx(the,{asChild:!0,children:i.jsx(X,{variant:"ghost",size:"icon",className:"rounded-full",children:i.jsx(Pu,{className:"size-5"})})})]}),a===0?i.jsx(ihe,{onClose:()=>t(!1)}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex-1 overflow-auto px-5 py-4",children:i.jsx("ul",{className:"space-y-4",children:n.map((l,u)=>i.jsxs("li",{children:[i.jsx(ahe,{item:l,onRemove:()=>s(l.slug),onIncrement:()=>r(l.slug,l.quantity+1),onDecrement:()=>r(l.slug,l.quantity-1)}),u<n.length-1&&i.jsx($t,{className:"mt-4"})]},l.slug))})}),i.jsx(K8,{className:"mt-0 block border-t px-5 py-4",children:i.jsxs("div",{className:"space-y-4",children:[i.jsx($t,{}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Mezisouc et"}),i.jsx("span",{children:Mv(o)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Doprava"}),i.jsx("span",{className:"text-sm text-emerald-600",children:"Zdarma"})]}),i.jsx($t,{}),i.jsxs("div",{className:"flex justify-between pt-1",children:[i.jsx("span",{className:"text-base font-semibold",children:"Celkem"}),i.jsx("span",{className:"text-base font-semibold",children:Mv(o)})]})]}),i.jsx(X,{size:"lg",className:"w-full gap-2",asChild:!0,onClick:()=>t(!1),children:i.jsxs(Ue,{to:"/kosik",children:["K pokladne",i.jsx(ur,{className:"size-4"})]})})]})})]})]})})},ihe=({onClose:e})=>i.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center gap-6 px-8 text-center",children:[i.jsx("div",{className:"flex size-20 items-center justify-center rounded-full bg-muted",children:i.jsx(wu,{className:"size-10 text-muted-foreground"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h3",{className:"text-lg font-semibold",children:"Vas kosik je prazdny"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Vypad to, ze jste jeste nic nepridali. Prohlednejte nas obchod a najdete neco, co se vam libi."})]}),i.jsx(X,{onClick:e,className:"gap-2",asChild:!0,children:i.jsxs(Ue,{to:"/obchod",children:["Pokracovat v nakupu",i.jsx(ur,{className:"size-4"})]})})]}),ahe=v.memo(({item:e,onRemove:t,onIncrement:n,onDecrement:s})=>i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-20 shrink-0",children:i.jsx(Ua,{ratio:1,className:"overflow-hidden rounded-lg bg-muted",children:i.jsx("img",{src:e.image,alt:e.name,className:"block size-full object-contain p-1"})})}),i.jsxs("div",{className:"flex flex-1 flex-col justify-between gap-1",children:[i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:e.subtitle}),i.jsx("h4",{className:"text-sm font-medium leading-tight",children:e.name}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-semibold",children:Mv(e.price)}),e.originalPrice&&e.originalPrice>e.price&&i.jsx("span",{className:"text-xs text-muted-foreground line-through",children:Mv(e.originalPrice)})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center rounded-lg border",children:[i.jsx("button",{type:"button",onClick:s,disabled:e.quantity<=1,className:"flex size-8 items-center justify-center text-muted-foreground transition-colors hover:text-foreground disabled:opacity-40",children:i.jsx(mb,{className:"size-3.5"})}),i.jsx("span",{className:"flex w-8 items-center justify-center text-sm font-medium",children:e.quantity}),i.jsx("button",{type:"button",onClick:n,className:"flex size-8 items-center justify-center text-muted-foreground transition-colors hover:text-foreground",children:i.jsx(ds,{className:"size-3.5"})})]}),i.jsx(X,{variant:"ghost",size:"icon",type:"button",className:"size-8 text-muted-foreground hover:text-destructive",onClick:t,children:i.jsx(cr,{className:"size-4"})})]})]})]})),J8=({className:e})=>{const[t,n]=v.useState(!1),{itemCount:s}=rg();return i.jsxs("div",{className:se("inline-flex",e),children:[i.jsxs(X,{variant:"ghost",size:"sm",className:"relative gap-2",onClick:()=>n(!0),children:[i.jsx(wu,{className:"size-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Kosik"}),s>0&&i.jsx("span",{className:"absolute -right-1 -top-1 flex size-5 items-center justify-center rounded-full bg-primary text-[10px] font-bold text-primary-foreground",children:s>99?"99+":s})]}),i.jsx(Y8,{open:t,onOpenChange:n})]})};function pg(){const{user:e,session:t}=Qt(),[n,s]=v.useState(null),[r,a]=v.useState(!0),o=v.useCallback(async()=>{if(!e||!t){a(!1);return}try{const{data:u,error:d}=await de.from("subscriptions").select("*").eq("user_id",e.id).maybeSingle();d?console.error("Error fetching subscription:",d):u&&s(u)}catch(u){console.error("Error fetching subscription:",u)}finally{a(!1)}},[e,t]);v.useEffect(()=>{o()},[o]),v.useEffect(()=>{if(!e)return;const u=de.channel("subscription_changes").on("postgres_changes",{event:"*",schema:"public",table:"subscriptions",filter:`user_id=eq.${e.id}`},d=>{console.log("Subscription updated:",d),o()}).subscribe();return()=>{de.removeChannel(u)}},[e,o]);const l=((n==null?void 0:n.status)==="active"||(n==null?void 0:n.status)==="trialing")&&(n==null?void 0:n.plan_type)!=="free_trial"&&(n==null?void 0:n.stripe_subscription_id)!=null;return{subscription:n,loading:r,hasActiveSubscription:l,refetch:o}}function cR(e){const t=ohe(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(che);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function ohe(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=dhe(r),l=uhe(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Ja(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lhe=Symbol("radix.slottable");function che(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lhe}function uhe(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function dhe(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function tf(e){const t=e+"CollectionProvider",[n,s]=fr(t),[r,a]=n(t,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:j,children:k}=w,S=Z.useRef(null),C=Z.useRef(new Map).current;return i.jsx(r,{scope:j,itemMap:C,collectionRef:S,children:k})};o.displayName=t;const l=e+"CollectionSlot",u=cR(l),d=Z.forwardRef((w,j)=>{const{scope:k,children:S}=w,C=a(l,k),E=St(j,C.collectionRef);return i.jsx(u,{ref:E,children:S})});d.displayName=l;const f=e+"CollectionItemSlot",m="data-radix-collection-item",g=cR(f),x=Z.forwardRef((w,j)=>{const{scope:k,children:S,...C}=w,E=Z.useRef(null),z=St(j,E),R=a(f,k);return Z.useEffect(()=>(R.itemMap.set(E,{ref:E,...C}),()=>void R.itemMap.delete(E))),i.jsx(g,{[m]:"",ref:z,children:S})});x.displayName=f;function b(w){const j=a(e+"CollectionConsumer",w);return Z.useCallback(()=>{const S=j.collectionRef.current;if(!S)return[];const C=Array.from(S.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((R,T)=>C.indexOf(R.ref.current)-C.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:d,ItemSlot:x},b,s]}var yb="Collapsible",[hhe,X8]=fr(yb),[fhe,sC]=hhe(yb),Q8=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:r,disabled:a,onOpenChange:o,...l}=e,[u,d]=Fr({prop:s,defaultProp:r??!1,onChange:o,caller:yb});return i.jsx(fhe,{scope:n,disabled:a,contentId:jr(),open:u,onOpenToggle:v.useCallback(()=>d(f=>!f),[d]),children:i.jsx(Xe.div,{"data-state":aC(u),"data-disabled":a?"":void 0,...l,ref:t})})});Q8.displayName=yb;var e$="CollapsibleTrigger",rC=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,r=sC(e$,n);return i.jsx(Xe.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":aC(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:t,onClick:Ie(e.onClick,r.onOpenToggle)})});rC.displayName=e$;var iC="CollapsibleContent",t$=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=sC(iC,e.__scopeCollapsible);return i.jsx(ss,{present:n||r.open,children:({present:a})=>i.jsx(mhe,{...s,ref:t,present:a})})});t$.displayName=iC;var mhe=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:r,...a}=e,o=sC(iC,n),[l,u]=v.useState(s),d=v.useRef(null),f=St(t,d),m=v.useRef(0),g=m.current,x=v.useRef(0),b=x.current,w=o.open||l,j=v.useRef(w),k=v.useRef(void 0);return v.useEffect(()=>{const S=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(S)},[]),$n(()=>{const S=d.current;if(S){k.current=k.current||{transitionDuration:S.style.transitionDuration,animationName:S.style.animationName},S.style.transitionDuration="0s",S.style.animationName="none";const C=S.getBoundingClientRect();m.current=C.height,x.current=C.width,j.current||(S.style.transitionDuration=k.current.transitionDuration,S.style.animationName=k.current.animationName),u(s)}},[o.open,s]),i.jsx(Xe.div,{"data-state":aC(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...a,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:w&&r})});function aC(e){return e?"open":"closed"}var n$=Q8,phe=rC,ghe=t$,xhe=v.createContext(void 0);function lc(e){const t=v.useContext(xhe);return e||t||"ltr"}var xa="Accordion",vhe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[oC,yhe,bhe]=tf(xa),[bb]=fr(xa,[bhe,X8]),lC=X8(),s$=Z.forwardRef((e,t)=>{const{type:n,...s}=e,r=s,a=s;return i.jsx(oC.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?i.jsx(Nhe,{...a,ref:t}):i.jsx(khe,{...r,ref:t})})});s$.displayName=xa;var[r$,whe]=bb(xa),[i$,jhe]=bb(xa,{collapsible:!1}),khe=Z.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},collapsible:a=!1,...o}=e,[l,u]=Fr({prop:n,defaultProp:s??"",onChange:r,caller:xa});return i.jsx(r$,{scope:e.__scopeAccordion,value:Z.useMemo(()=>l?[l]:[],[l]),onItemOpen:u,onItemClose:Z.useCallback(()=>a&&u(""),[a,u]),children:i.jsx(i$,{scope:e.__scopeAccordion,collapsible:a,children:i.jsx(a$,{...o,ref:t})})})}),Nhe=Z.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:r=()=>{},...a}=e,[o,l]=Fr({prop:n,defaultProp:s??[],onChange:r,caller:xa}),u=Z.useCallback(f=>l((m=[])=>[...m,f]),[l]),d=Z.useCallback(f=>l((m=[])=>m.filter(g=>g!==f)),[l]);return i.jsx(r$,{scope:e.__scopeAccordion,value:o,onItemOpen:u,onItemClose:d,children:i.jsx(i$,{scope:e.__scopeAccordion,collapsible:!0,children:i.jsx(a$,{...a,ref:t})})})}),[She,wb]=bb(xa),a$=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:r,orientation:a="vertical",...o}=e,l=Z.useRef(null),u=St(l,t),d=yhe(n),m=lc(r)==="ltr",g=Ie(e.onKeyDown,x=>{var A;if(!vhe.includes(x.key))return;const b=x.target,w=d().filter(D=>{var F;return!((F=D.ref.current)!=null&&F.disabled)}),j=w.findIndex(D=>D.ref.current===b),k=w.length;if(j===-1)return;x.preventDefault();let S=j;const C=0,E=k-1,z=()=>{S=j+1,S>E&&(S=C)},R=()=>{S=j-1,S<C&&(S=E)};switch(x.key){case"Home":S=C;break;case"End":S=E;break;case"ArrowRight":a==="horizontal"&&(m?z():R());break;case"ArrowDown":a==="vertical"&&z();break;case"ArrowLeft":a==="horizontal"&&(m?R():z());break;case"ArrowUp":a==="vertical"&&R();break}const T=S%k;(A=w[T].ref.current)==null||A.focus()});return i.jsx(She,{scope:n,disabled:s,direction:r,orientation:a,children:i.jsx(oC.Slot,{scope:n,children:i.jsx(Xe.div,{...o,"data-orientation":a,ref:u,onKeyDown:s?void 0:g})})})}),Rv="AccordionItem",[_he,cC]=bb(Rv),o$=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...r}=e,a=wb(Rv,n),o=whe(Rv,n),l=lC(n),u=jr(),d=s&&o.value.includes(s)||!1,f=a.disabled||e.disabled;return i.jsx(_he,{scope:n,open:d,disabled:f,triggerId:u,children:i.jsx(n$,{"data-orientation":a.orientation,"data-state":f$(d),...l,...r,ref:t,disabled:f,open:d,onOpenChange:m=>{m?o.onItemOpen(s):o.onItemClose(s)}})})});o$.displayName=Rv;var l$="AccordionHeader",c$=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=wb(xa,n),a=cC(l$,n);return i.jsx(Xe.h3,{"data-orientation":r.orientation,"data-state":f$(a.open),"data-disabled":a.disabled?"":void 0,...s,ref:t})});c$.displayName=l$;var b2="AccordionTrigger",u$=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=wb(xa,n),a=cC(b2,n),o=jhe(b2,n),l=lC(n);return i.jsx(oC.ItemSlot,{scope:n,children:i.jsx(phe,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":r.orientation,id:a.triggerId,...l,...s,ref:t})})});u$.displayName=b2;var d$="AccordionContent",h$=Z.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,r=wb(xa,n),a=cC(d$,n),o=lC(n);return i.jsx(ghe,{role:"region","aria-labelledby":a.triggerId,"data-orientation":r.orientation,...o,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});h$.displayName=d$;function f$(e){return e?"open":"closed"}var Che=s$,Ehe=o$,The=c$,m$=u$,p$=h$;const g$=Che,uC=v.forwardRef(({className:e,...t},n)=>i.jsx(Ehe,{ref:n,className:se("my-4 rounded-lg border border-secondary border-b bg-muted/50 px-4",e),...t}));uC.displayName="AccordionItem";const dC=v.forwardRef(({className:e,children:t,...n},s)=>i.jsx(The,{className:"flex",children:i.jsxs(m$,{ref:s,className:se("flex flex-1 items-center justify-between gap-4 py-4 font-medium transition-all [&[data-state=open]>svg]:rotate-[135deg] [&[data-state=open]>svg]:text-primary",e),...n,children:[t,i.jsx(ds,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));dC.displayName=m$.displayName;const hC=v.forwardRef(({className:e,children:t,...n},s)=>i.jsx(p$,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:i.jsx("div",{className:se("pt-0 pb-4 text-[16px] text-muted-foreground",e),children:t})}));hC.displayName=p$.displayName;function zhe(e,t=[]){let n=[];function s(a,o){const l=v.createContext(o);l.displayName=a+"Context";const u=n.length;n=[...n,o];const d=m=>{var k;const{scope:g,children:x,...b}=m,w=((k=g==null?void 0:g[e])==null?void 0:k[u])||l,j=v.useMemo(()=>b,Object.values(b));return i.jsx(w.Provider,{value:j,children:x})};d.displayName=a+"Provider";function f(m,g){var w;const x=((w=g==null?void 0:g[e])==null?void 0:w[u])||l,b=v.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,f]}const r=()=>{const a=n.map(o=>v.createContext(o));return function(l){const u=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return r.scopeName=e,[s,Ahe(r,...t)]}function Ahe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...l,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var Mhe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],fC=Mhe.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),Ck={exports:{}},Ek={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uR;function Rhe(){if(uR)return Ek;uR=1;var e=Gp();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,s=e.useState,r=e.useEffect,a=e.useLayoutEffect,o=e.useDebugValue;function l(m,g){var x=g(),b=s({inst:{value:x,getSnapshot:g}}),w=b[0].inst,j=b[1];return a(function(){w.value=x,w.getSnapshot=g,u(w)&&j({inst:w})},[m,x,g]),r(function(){return u(w)&&j({inst:w}),m(function(){u(w)&&j({inst:w})})},[m]),o(x),x}function u(m){var g=m.getSnapshot;m=m.value;try{var x=g();return!n(m,x)}catch{return!0}}function d(m,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return Ek.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,Ek}var dR;function x$(){return dR||(dR=1,Ck.exports=Rhe()),Ck.exports}var mC=x$();function Ohe(){return mC.useSyncExternalStore(Dhe,()=>!0,()=>!1)}function Dhe(){return()=>{}}var pC="Avatar",[Phe]=zhe(pC),[Ihe,v$]=Phe(pC),y$=v.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[r,a]=v.useState("idle");return i.jsx(Ihe,{scope:n,imageLoadingStatus:r,onImageLoadingStatusChange:a,children:i.jsx(fC.span,{...s,ref:t})})});y$.displayName=pC;var b$="AvatarImage",w$=v.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:r=()=>{},...a}=e,o=v$(b$,n),l=Lhe(s,a),u=On(d=>{r(d),o.onImageLoadingStatusChange(d)});return $n(()=>{l!=="idle"&&u(l)},[l,u]),l==="loaded"?i.jsx(fC.img,{...a,ref:t,src:s}):null});w$.displayName=b$;var j$="AvatarFallback",k$=v.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...r}=e,a=v$(j$,n),[o,l]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>l(!0),s);return()=>window.clearTimeout(u)}},[s]),o&&a.imageLoadingStatus!=="loaded"?i.jsx(fC.span,{...r,ref:t}):null});k$.displayName=j$;function hR(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Lhe(e,{referrerPolicy:t,crossOrigin:n}){const s=Ohe(),r=v.useRef(null),a=s?(r.current||(r.current=new window.Image),r.current):null,[o,l]=v.useState(()=>hR(a,e));return $n(()=>{l(hR(a,e))},[a,e]),$n(()=>{const u=m=>()=>{l(m)};if(!a)return;const d=u("loaded"),f=u("error");return a.addEventListener("load",d),a.addEventListener("error",f),t&&(a.referrerPolicy=t),typeof n=="string"&&(a.crossOrigin=n),()=>{a.removeEventListener("load",d),a.removeEventListener("error",f)}},[a,n,t]),o}var N$=y$,S$=w$,_$=k$;const zs=v.forwardRef(({className:e,...t},n)=>i.jsx(N$,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));zs.displayName=N$.displayName;const lr=v.forwardRef(({className:e,...t},n)=>i.jsx(S$,{ref:n,className:se("aspect-square h-full w-full",e),...t}));lr.displayName=S$.displayName;const Ha=v.forwardRef(({className:e,...t},n)=>i.jsx(_$,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Ha.displayName=_$.displayName;const $he=cg("inline-flex items-center rounded-full border border-secondary px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function $e({className:e,variant:t,...n}){return i.jsx("div",{className:se($he({variant:t}),e),...n})}const Vhe=["top","right","bottom","left"],ec=Math.min,ti=Math.max,Ov=Math.round,p0=Math.floor,$a=e=>({x:e,y:e}),Bhe={left:"right",right:"left",bottom:"top",top:"bottom"},Fhe={start:"end",end:"start"};function w2(e,t,n){return ti(e,ec(t,n))}function Bo(e,t){return typeof e=="function"?e(t):e}function Fo(e){return e.split("-")[0]}function nf(e){return e.split("-")[1]}function gC(e){return e==="x"?"y":"x"}function xC(e){return e==="y"?"height":"width"}const Uhe=new Set(["top","bottom"]);function Ma(e){return Uhe.has(Fo(e))?"y":"x"}function vC(e){return gC(Ma(e))}function Hhe(e,t,n){n===void 0&&(n=!1);const s=nf(e),r=vC(e),a=xC(r);let o=r==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[a]>t.floating[a]&&(o=Dv(o)),[o,Dv(o)]}function qhe(e){const t=Dv(e);return[j2(e),t,j2(t)]}function j2(e){return e.replace(/start|end/g,t=>Fhe[t])}const fR=["left","right"],mR=["right","left"],Zhe=["top","bottom"],Whe=["bottom","top"];function Khe(e,t,n){switch(e){case"top":case"bottom":return n?t?mR:fR:t?fR:mR;case"left":case"right":return t?Zhe:Whe;default:return[]}}function Ghe(e,t,n,s){const r=nf(e);let a=Khe(Fo(e),n==="start",s);return r&&(a=a.map(o=>o+"-"+r),t&&(a=a.concat(a.map(j2)))),a}function Dv(e){return e.replace(/left|right|bottom|top/g,t=>Bhe[t])}function Yhe(e){return{top:0,right:0,bottom:0,left:0,...e}}function C$(e){return typeof e!="number"?Yhe(e):{top:e,right:e,bottom:e,left:e}}function Pv(e){const{x:t,y:n,width:s,height:r}=e;return{width:s,height:r,top:n,left:t,right:t+s,bottom:n+r,x:t,y:n}}function pR(e,t,n){let{reference:s,floating:r}=e;const a=Ma(t),o=vC(t),l=xC(o),u=Fo(t),d=a==="y",f=s.x+s.width/2-r.width/2,m=s.y+s.height/2-r.height/2,g=s[l]/2-r[l]/2;let x;switch(u){case"top":x={x:f,y:s.y-r.height};break;case"bottom":x={x:f,y:s.y+s.height};break;case"right":x={x:s.x+s.width,y:m};break;case"left":x={x:s.x-r.width,y:m};break;default:x={x:s.x,y:s.y}}switch(nf(t)){case"start":x[o]-=g*(n&&d?-1:1);break;case"end":x[o]+=g*(n&&d?-1:1);break}return x}async function Jhe(e,t){var n;t===void 0&&(t={});const{x:s,y:r,platform:a,rects:o,elements:l,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:x=0}=Bo(t,e),b=C$(x),j=l[g?m==="floating"?"reference":"floating":m],k=Pv(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(j)))==null||n?j:j.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:u})),S=m==="floating"?{x:s,y:r,width:o.floating.width,height:o.floating.height}:o.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),E=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},z=Pv(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:S,offsetParent:C,strategy:u}):S);return{top:(k.top-z.top+b.top)/E.y,bottom:(z.bottom-k.bottom+b.bottom)/E.y,left:(k.left-z.left+b.left)/E.x,right:(z.right-k.right+b.right)/E.x}}const Xhe=async(e,t,n)=>{const{placement:s="bottom",strategy:r="absolute",middleware:a=[],platform:o}=n,l=a.filter(Boolean),u=await(o.isRTL==null?void 0:o.isRTL(t));let d=await o.getElementRects({reference:e,floating:t,strategy:r}),{x:f,y:m}=pR(d,s,u),g=s,x={},b=0;for(let j=0;j<l.length;j++){var w;const{name:k,fn:S}=l[j],{x:C,y:E,data:z,reset:R}=await S({x:f,y:m,initialPlacement:s,placement:g,strategy:r,middlewareData:x,rects:d,platform:{...o,detectOverflow:(w=o.detectOverflow)!=null?w:Jhe},elements:{reference:e,floating:t}});f=C??f,m=E??m,x={...x,[k]:{...x[k],...z}},R&&b<=50&&(b++,typeof R=="object"&&(R.placement&&(g=R.placement),R.rects&&(d=R.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:r}):R.rects),{x:f,y:m}=pR(d,g,u)),j=-1)}return{x:f,y:m,placement:g,strategy:r,middlewareData:x}},Qhe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:r,rects:a,platform:o,elements:l,middlewareData:u}=t,{element:d,padding:f=0}=Bo(e,t)||{};if(d==null)return{};const m=C$(f),g={x:n,y:s},x=vC(r),b=xC(x),w=await o.getDimensions(d),j=x==="y",k=j?"top":"left",S=j?"bottom":"right",C=j?"clientHeight":"clientWidth",E=a.reference[b]+a.reference[x]-g[x]-a.floating[b],z=g[x]-a.reference[x],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let T=R?R[C]:0;(!T||!await(o.isElement==null?void 0:o.isElement(R)))&&(T=l.floating[C]||a.floating[b]);const A=E/2-z/2,D=T/2-w[b]/2-1,F=ec(m[k],D),V=ec(m[S],D),$=F,q=T-w[b]-V,K=T/2-w[b]/2+A,ee=w2($,K,q),L=!u.arrow&&nf(r)!=null&&K!==ee&&a.reference[b]/2-(K<$?F:V)-w[b]/2<0,P=L?K<$?K-$:K-q:0;return{[x]:g[x]+P,data:{[x]:ee,centerOffset:K-ee-P,...L&&{alignmentOffset:P}},reset:L}}}),efe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:r,middlewareData:a,rects:o,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:x="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...j}=Bo(e,t);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const k=Fo(r),S=Ma(l),C=Fo(l)===l,E=await(u.isRTL==null?void 0:u.isRTL(d.floating)),z=g||(C||!w?[Dv(l)]:qhe(l)),R=b!=="none";!g&&R&&z.push(...Ghe(l,w,b,E));const T=[l,...z],A=await u.detectOverflow(t,j),D=[];let F=((s=a.flip)==null?void 0:s.overflows)||[];if(f&&D.push(A[k]),m){const K=Hhe(r,o,E);D.push(A[K[0]],A[K[1]])}if(F=[...F,{placement:r,overflows:D}],!D.every(K=>K<=0)){var V,$;const K=(((V=a.flip)==null?void 0:V.index)||0)+1,ee=T[K];if(ee&&(!(m==="alignment"?S!==Ma(ee):!1)||F.every(I=>Ma(I.placement)===S?I.overflows[0]>0:!0)))return{data:{index:K,overflows:F},reset:{placement:ee}};let L=($=F.filter(P=>P.overflows[0]<=0).sort((P,I)=>P.overflows[1]-I.overflows[1])[0])==null?void 0:$.placement;if(!L)switch(x){case"bestFit":{var q;const P=(q=F.filter(I=>{if(R){const G=Ma(I.placement);return G===S||G==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(G=>G>0).reduce((G,U)=>G+U,0)]).sort((I,G)=>I[1]-G[1])[0])==null?void 0:q[0];P&&(L=P);break}case"initialPlacement":L=l;break}if(r!==L)return{reset:{placement:L}}}return{}}}};function gR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function xR(e){return Vhe.some(t=>e[t]>=0)}const tfe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:s}=t,{strategy:r="referenceHidden",...a}=Bo(e,t);switch(r){case"referenceHidden":{const o=await s.detectOverflow(t,{...a,elementContext:"reference"}),l=gR(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:xR(l)}}}case"escaped":{const o=await s.detectOverflow(t,{...a,altBoundary:!0}),l=gR(o,n.floating);return{data:{escapedOffsets:l,escaped:xR(l)}}}default:return{}}}}},E$=new Set(["left","top"]);async function nfe(e,t){const{placement:n,platform:s,elements:r}=e,a=await(s.isRTL==null?void 0:s.isRTL(r.floating)),o=Fo(n),l=nf(n),u=Ma(n)==="y",d=E$.has(o)?-1:1,f=a&&u?-1:1,m=Bo(t,e);let{mainAxis:g,crossAxis:x,alignmentAxis:b}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof b=="number"&&(x=l==="end"?b*-1:b),u?{x:x*f,y:g*d}:{x:g*d,y:x*f}}const sfe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:r,y:a,placement:o,middlewareData:l}=t,u=await nfe(t,e);return o===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:r+u.x,y:a+u.y,data:{...u,placement:o}}}}},rfe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:r,platform:a}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:k=>{let{x:S,y:C}=k;return{x:S,y:C}}},...d}=Bo(e,t),f={x:n,y:s},m=await a.detectOverflow(t,d),g=Ma(Fo(r)),x=gC(g);let b=f[x],w=f[g];if(o){const k=x==="y"?"top":"left",S=x==="y"?"bottom":"right",C=b+m[k],E=b-m[S];b=w2(C,b,E)}if(l){const k=g==="y"?"top":"left",S=g==="y"?"bottom":"right",C=w+m[k],E=w-m[S];w=w2(C,w,E)}const j=u.fn({...t,[x]:b,[g]:w});return{...j,data:{x:j.x-n,y:j.y-s,enabled:{[x]:o,[g]:l}}}}}},ife=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:r,rects:a,middlewareData:o}=t,{offset:l=0,mainAxis:u=!0,crossAxis:d=!0}=Bo(e,t),f={x:n,y:s},m=Ma(r),g=gC(m);let x=f[g],b=f[m];const w=Bo(l,t),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const C=g==="y"?"height":"width",E=a.reference[g]-a.floating[C]+j.mainAxis,z=a.reference[g]+a.reference[C]-j.mainAxis;x<E?x=E:x>z&&(x=z)}if(d){var k,S;const C=g==="y"?"width":"height",E=E$.has(Fo(r)),z=a.reference[m]-a.floating[C]+(E&&((k=o.offset)==null?void 0:k[m])||0)+(E?0:j.crossAxis),R=a.reference[m]+a.reference[C]+(E?0:((S=o.offset)==null?void 0:S[m])||0)-(E?j.crossAxis:0);b<z?b=z:b>R&&(b=R)}return{[g]:x,[m]:b}}}},afe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:r,rects:a,platform:o,elements:l}=t,{apply:u=()=>{},...d}=Bo(e,t),f=await o.detectOverflow(t,d),m=Fo(r),g=nf(r),x=Ma(r)==="y",{width:b,height:w}=a.floating;let j,k;m==="top"||m==="bottom"?(j=m,k=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(k=m,j=g==="end"?"top":"bottom");const S=w-f.top-f.bottom,C=b-f.left-f.right,E=ec(w-f[j],S),z=ec(b-f[k],C),R=!t.middlewareData.shift;let T=E,A=z;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=C),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(T=S),R&&!g){const F=ti(f.left,0),V=ti(f.right,0),$=ti(f.top,0),q=ti(f.bottom,0);x?A=b-2*(F!==0||V!==0?F+V:ti(f.left,f.right)):T=w-2*($!==0||q!==0?$+q:ti(f.top,f.bottom))}await u({...t,availableWidth:A,availableHeight:T});const D=await o.getDimensions(l.floating);return b!==D.width||w!==D.height?{reset:{rects:!0}}:{}}}};function jb(){return typeof window<"u"}function sf(e){return T$(e)?(e.nodeName||"").toLowerCase():"#document"}function ai(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Xa(e){var t;return(t=(T$(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function T$(e){return jb()?e instanceof Node||e instanceof ai(e).Node:!1}function ua(e){return jb()?e instanceof Element||e instanceof ai(e).Element:!1}function qa(e){return jb()?e instanceof HTMLElement||e instanceof ai(e).HTMLElement:!1}function vR(e){return!jb()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ai(e).ShadowRoot}const ofe=new Set(["inline","contents"]);function gg(e){const{overflow:t,overflowX:n,overflowY:s,display:r}=da(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!ofe.has(r)}const lfe=new Set(["table","td","th"]);function cfe(e){return lfe.has(sf(e))}const ufe=[":popover-open",":modal"];function kb(e){return ufe.some(t=>{try{return e.matches(t)}catch{return!1}})}const dfe=["transform","translate","scale","rotate","perspective"],hfe=["transform","translate","scale","rotate","perspective","filter"],ffe=["paint","layout","strict","content"];function yC(e){const t=bC(),n=ua(e)?da(e):e;return dfe.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||hfe.some(s=>(n.willChange||"").includes(s))||ffe.some(s=>(n.contain||"").includes(s))}function mfe(e){let t=tc(e);for(;qa(t)&&!Th(t);){if(yC(t))return t;if(kb(t))return null;t=tc(t)}return null}function bC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pfe=new Set(["html","body","#document"]);function Th(e){return pfe.has(sf(e))}function da(e){return ai(e).getComputedStyle(e)}function Nb(e){return ua(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tc(e){if(sf(e)==="html")return e;const t=e.assignedSlot||e.parentNode||vR(e)&&e.host||Xa(e);return vR(t)?t.host:t}function z$(e){const t=tc(e);return Th(t)?e.ownerDocument?e.ownerDocument.body:e.body:qa(t)&&gg(t)?t:z$(t)}function wp(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const r=z$(e),a=r===((s=e.ownerDocument)==null?void 0:s.body),o=ai(r);if(a){const l=k2(o);return t.concat(o,o.visualViewport||[],gg(r)?r:[],l&&n?wp(l):[])}return t.concat(r,wp(r,[],n))}function k2(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function A$(e){const t=da(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const r=qa(e),a=r?e.offsetWidth:n,o=r?e.offsetHeight:s,l=Ov(n)!==a||Ov(s)!==o;return l&&(n=a,s=o),{width:n,height:s,$:l}}function wC(e){return ua(e)?e:e.contextElement}function gh(e){const t=wC(e);if(!qa(t))return $a(1);const n=t.getBoundingClientRect(),{width:s,height:r,$:a}=A$(t);let o=(a?Ov(n.width):n.width)/s,l=(a?Ov(n.height):n.height)/r;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const gfe=$a(0);function M$(e){const t=ai(e);return!bC()||!t.visualViewport?gfe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function xfe(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ai(e)?!1:t}function ku(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=wC(e);let o=$a(1);t&&(s?ua(s)&&(o=gh(s)):o=gh(e));const l=xfe(a,n,s)?M$(a):$a(0);let u=(r.left+l.x)/o.x,d=(r.top+l.y)/o.y,f=r.width/o.x,m=r.height/o.y;if(a){const g=ai(a),x=s&&ua(s)?ai(s):s;let b=g,w=k2(b);for(;w&&s&&x!==b;){const j=gh(w),k=w.getBoundingClientRect(),S=da(w),C=k.left+(w.clientLeft+parseFloat(S.paddingLeft))*j.x,E=k.top+(w.clientTop+parseFloat(S.paddingTop))*j.y;u*=j.x,d*=j.y,f*=j.x,m*=j.y,u+=C,d+=E,b=ai(w),w=k2(b)}}return Pv({width:f,height:m,x:u,y:d})}function Sb(e,t){const n=Nb(e).scrollLeft;return t?t.left+n:ku(Xa(e)).left+n}function R$(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Sb(e,n),r=n.top+t.scrollTop;return{x:s,y:r}}function vfe(e){let{elements:t,rect:n,offsetParent:s,strategy:r}=e;const a=r==="fixed",o=Xa(s),l=t?kb(t.floating):!1;if(s===o||l&&a)return n;let u={scrollLeft:0,scrollTop:0},d=$a(1);const f=$a(0),m=qa(s);if((m||!m&&!a)&&((sf(s)!=="body"||gg(o))&&(u=Nb(s)),qa(s))){const x=ku(s);d=gh(s),f.x=x.x+s.clientLeft,f.y=x.y+s.clientTop}const g=o&&!m&&!a?R$(o,u):$a(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+f.x+g.x,y:n.y*d.y-u.scrollTop*d.y+f.y+g.y}}function yfe(e){return Array.from(e.getClientRects())}function bfe(e){const t=Xa(e),n=Nb(e),s=e.ownerDocument.body,r=ti(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),a=ti(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let o=-n.scrollLeft+Sb(e);const l=-n.scrollTop;return da(s).direction==="rtl"&&(o+=ti(t.clientWidth,s.clientWidth)-r),{width:r,height:a,x:o,y:l}}const yR=25;function wfe(e,t){const n=ai(e),s=Xa(e),r=n.visualViewport;let a=s.clientWidth,o=s.clientHeight,l=0,u=0;if(r){a=r.width,o=r.height;const f=bC();(!f||f&&t==="fixed")&&(l=r.offsetLeft,u=r.offsetTop)}const d=Sb(s);if(d<=0){const f=s.ownerDocument,m=f.body,g=getComputedStyle(m),x=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(s.clientWidth-m.clientWidth-x);b<=yR&&(a-=b)}else d<=yR&&(a+=d);return{width:a,height:o,x:l,y:u}}const jfe=new Set(["absolute","fixed"]);function kfe(e,t){const n=ku(e,!0,t==="fixed"),s=n.top+e.clientTop,r=n.left+e.clientLeft,a=qa(e)?gh(e):$a(1),o=e.clientWidth*a.x,l=e.clientHeight*a.y,u=r*a.x,d=s*a.y;return{width:o,height:l,x:u,y:d}}function bR(e,t,n){let s;if(t==="viewport")s=wfe(e,n);else if(t==="document")s=bfe(Xa(e));else if(ua(t))s=kfe(t,n);else{const r=M$(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return Pv(s)}function O$(e,t){const n=tc(e);return n===t||!ua(n)||Th(n)?!1:da(n).position==="fixed"||O$(n,t)}function Nfe(e,t){const n=t.get(e);if(n)return n;let s=wp(e,[],!1).filter(l=>ua(l)&&sf(l)!=="body"),r=null;const a=da(e).position==="fixed";let o=a?tc(e):e;for(;ua(o)&&!Th(o);){const l=da(o),u=yC(o);!u&&l.position==="fixed"&&(r=null),(a?!u&&!r:!u&&l.position==="static"&&!!r&&jfe.has(r.position)||gg(o)&&!u&&O$(e,o))?s=s.filter(f=>f!==o):r=l,o=tc(o)}return t.set(e,s),s}function Sfe(e){let{element:t,boundary:n,rootBoundary:s,strategy:r}=e;const o=[...n==="clippingAncestors"?kb(t)?[]:Nfe(t,this._c):[].concat(n),s],l=o[0],u=o.reduce((d,f)=>{const m=bR(t,f,r);return d.top=ti(m.top,d.top),d.right=ec(m.right,d.right),d.bottom=ec(m.bottom,d.bottom),d.left=ti(m.left,d.left),d},bR(t,l,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function _fe(e){const{width:t,height:n}=A$(e);return{width:t,height:n}}function Cfe(e,t,n){const s=qa(t),r=Xa(t),a=n==="fixed",o=ku(e,!0,a,t);let l={scrollLeft:0,scrollTop:0};const u=$a(0);function d(){u.x=Sb(r)}if(s||!s&&!a)if((sf(t)!=="body"||gg(r))&&(l=Nb(t)),s){const x=ku(t,!0,a,t);u.x=x.x+t.clientLeft,u.y=x.y+t.clientTop}else r&&d();a&&!s&&r&&d();const f=r&&!s&&!a?R$(r,l):$a(0),m=o.left+l.scrollLeft-u.x-f.x,g=o.top+l.scrollTop-u.y-f.y;return{x:m,y:g,width:o.width,height:o.height}}function Tk(e){return da(e).position==="static"}function wR(e,t){if(!qa(e)||da(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Xa(e)===n&&(n=n.ownerDocument.body),n}function D$(e,t){const n=ai(e);if(kb(e))return n;if(!qa(e)){let r=tc(e);for(;r&&!Th(r);){if(ua(r)&&!Tk(r))return r;r=tc(r)}return n}let s=wR(e,t);for(;s&&cfe(s)&&Tk(s);)s=wR(s,t);return s&&Th(s)&&Tk(s)&&!yC(s)?n:s||mfe(e)||n}const Efe=async function(e){const t=this.getOffsetParent||D$,n=this.getDimensions,s=await n(e.floating);return{reference:Cfe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function Tfe(e){return da(e).direction==="rtl"}const zfe={convertOffsetParentRelativeRectToViewportRelativeRect:vfe,getDocumentElement:Xa,getClippingRect:Sfe,getOffsetParent:D$,getElementRects:Efe,getClientRects:yfe,getDimensions:_fe,getScale:gh,isElement:ua,isRTL:Tfe};function P$(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Afe(e,t){let n=null,s;const r=Xa(e);function a(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function o(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),a();const d=e.getBoundingClientRect(),{left:f,top:m,width:g,height:x}=d;if(l||t(),!g||!x)return;const b=p0(m),w=p0(r.clientWidth-(f+g)),j=p0(r.clientHeight-(m+x)),k=p0(f),C={rootMargin:-b+"px "+-w+"px "+-j+"px "+-k+"px",threshold:ti(0,ec(1,u))||1};let E=!0;function z(R){const T=R[0].intersectionRatio;if(T!==u){if(!E)return o();T?o(!1,T):s=setTimeout(()=>{o(!1,1e-7)},1e3)}T===1&&!P$(d,e.getBoundingClientRect())&&o(),E=!1}try{n=new IntersectionObserver(z,{...C,root:r.ownerDocument})}catch{n=new IntersectionObserver(z,C)}n.observe(e)}return o(!0),a}function Mfe(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,d=wC(e),f=r||a?[...d?wp(d):[],...wp(t)]:[];f.forEach(k=>{r&&k.addEventListener("scroll",n,{passive:!0}),a&&k.addEventListener("resize",n)});const m=d&&l?Afe(d,n):null;let g=-1,x=null;o&&(x=new ResizeObserver(k=>{let[S]=k;S&&S.target===d&&x&&(x.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=x)==null||C.observe(t)})),n()}),d&&!u&&x.observe(d),x.observe(t));let b,w=u?ku(e):null;u&&j();function j(){const k=ku(e);w&&!P$(w,k)&&n(),w=k,b=requestAnimationFrame(j)}return n(),()=>{var k;f.forEach(S=>{r&&S.removeEventListener("scroll",n),a&&S.removeEventListener("resize",n)}),m==null||m(),(k=x)==null||k.disconnect(),x=null,u&&cancelAnimationFrame(b)}}const Rfe=sfe,Ofe=rfe,Dfe=efe,Pfe=afe,Ife=tfe,jR=Qhe,Lfe=ife,$fe=(e,t,n)=>{const s=new Map,r={platform:zfe,...n},a={...r.platform,_c:s};return Xhe(e,t,{...r,platform:a})};var Vfe=typeof document<"u",Bfe=function(){},sv=Vfe?v.useLayoutEffect:Bfe;function Iv(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,r;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Iv(e[s],t[s]))return!1;return!0}if(r=Object.keys(e),n=r.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,r[s]))return!1;for(s=n;s--!==0;){const a=r[s];if(!(a==="_owner"&&e.$$typeof)&&!Iv(e[a],t[a]))return!1}return!0}return e!==e&&t!==t}function I$(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function kR(e,t){const n=I$(e);return Math.round(t*n)/n}function zk(e){const t=v.useRef(e);return sv(()=>{t.current=e}),t}function Ffe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:r,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:u,open:d}=e,[f,m]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,x]=v.useState(s);Iv(g,s)||x(s);const[b,w]=v.useState(null),[j,k]=v.useState(null),S=v.useCallback(I=>{I!==R.current&&(R.current=I,w(I))},[]),C=v.useCallback(I=>{I!==T.current&&(T.current=I,k(I))},[]),E=a||b,z=o||j,R=v.useRef(null),T=v.useRef(null),A=v.useRef(f),D=u!=null,F=zk(u),V=zk(r),$=zk(d),q=v.useCallback(()=>{if(!R.current||!T.current)return;const I={placement:t,strategy:n,middleware:g};V.current&&(I.platform=V.current),$fe(R.current,T.current,I).then(G=>{const U={...G,isPositioned:$.current!==!1};K.current&&!Iv(A.current,U)&&(A.current=U,sa.flushSync(()=>{m(U)}))})},[g,t,n,V,$]);sv(()=>{d===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,m(I=>({...I,isPositioned:!1})))},[d]);const K=v.useRef(!1);sv(()=>(K.current=!0,()=>{K.current=!1}),[]),sv(()=>{if(E&&(R.current=E),z&&(T.current=z),E&&z){if(F.current)return F.current(E,z,q);q()}},[E,z,q,F,D]);const ee=v.useMemo(()=>({reference:R,floating:T,setReference:S,setFloating:C}),[S,C]),L=v.useMemo(()=>({reference:E,floating:z}),[E,z]),P=v.useMemo(()=>{const I={position:n,left:0,top:0};if(!L.floating)return I;const G=kR(L.floating,f.x),U=kR(L.floating,f.y);return l?{...I,transform:"translate("+G+"px, "+U+"px)",...I$(L.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:G,top:U}},[n,l,L.floating,f.x,f.y]);return v.useMemo(()=>({...f,update:q,refs:ee,elements:L,floatingStyles:P}),[f,q,ee,L,P])}const Ufe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:r}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?jR({element:s.current,padding:r}).fn(n):{}:s?jR({element:s,padding:r}).fn(n):{}}}},Hfe=(e,t)=>({...Rfe(e),options:[e,t]}),qfe=(e,t)=>({...Ofe(e),options:[e,t]}),Zfe=(e,t)=>({...Lfe(e),options:[e,t]}),Wfe=(e,t)=>({...Dfe(e),options:[e,t]}),Kfe=(e,t)=>({...Pfe(e),options:[e,t]}),Gfe=(e,t)=>({...Ife(e),options:[e,t]}),Yfe=(e,t)=>({...Ufe(e),options:[e,t]});var Jfe="Arrow",L$=v.forwardRef((e,t)=>{const{children:n,width:s=10,height:r=5,...a}=e;return i.jsx(Xe.svg,{...a,ref:t,width:s,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});L$.displayName=Jfe;var Xfe=L$;function jC(e){const[t,n]=v.useState(void 0);return $n(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const a=r[0];let o,l;if("borderBoxSize"in a){const u=a.borderBoxSize,d=Array.isArray(u)?u[0]:u;o=d.inlineSize,l=d.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var kC="Popper",[$$,rf]=fr(kC),[Qfe,V$]=$$(kC),B$=e=>{const{__scopePopper:t,children:n}=e,[s,r]=v.useState(null);return i.jsx(Qfe,{scope:t,anchor:s,onAnchorChange:r,children:n})};B$.displayName=kC;var F$="PopperAnchor",U$=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...r}=e,a=V$(F$,n),o=v.useRef(null),l=St(t,o),u=v.useRef(null);return v.useEffect(()=>{const d=u.current;u.current=(s==null?void 0:s.current)||o.current,d!==u.current&&a.onAnchorChange(u.current)}),s?null:i.jsx(Xe.div,{...r,ref:l})});U$.displayName=F$;var NC="PopperContent",[eme,tme]=$$(NC),H$=v.forwardRef((e,t)=>{var Y,oe,he,be,we,xe;const{__scopePopper:n,side:s="bottom",sideOffset:r=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:f=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:x="optimized",onPlaced:b,...w}=e,j=V$(NC,n),[k,S]=v.useState(null),C=St(t,Ae=>S(Ae)),[E,z]=v.useState(null),R=jC(E),T=(R==null?void 0:R.width)??0,A=(R==null?void 0:R.height)??0,D=s+(a!=="center"?"-"+a:""),F=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(d)?d:[d],$=V.length>0,q={padding:F,boundary:V.filter(sme),altBoundary:$},{refs:K,floatingStyles:ee,placement:L,isPositioned:P,middlewareData:I}=Ffe({strategy:"fixed",placement:D,whileElementsMounted:(...Ae)=>Mfe(...Ae,{animationFrame:x==="always"}),elements:{reference:j.anchor},middleware:[Hfe({mainAxis:r+A,alignmentAxis:o}),u&&qfe({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Zfe():void 0,...q}),u&&Wfe({...q}),Kfe({...q,apply:({elements:Ae,rects:re,availableWidth:Ce,availableHeight:Ze})=>{const{width:it,height:jt}=re.reference,We=Ae.floating.style;We.setProperty("--radix-popper-available-width",`${Ce}px`),We.setProperty("--radix-popper-available-height",`${Ze}px`),We.setProperty("--radix-popper-anchor-width",`${it}px`),We.setProperty("--radix-popper-anchor-height",`${jt}px`)}}),E&&Yfe({element:E,padding:l}),rme({arrowWidth:T,arrowHeight:A}),g&&Gfe({strategy:"referenceHidden",...q})]}),[G,U]=W$(L),M=On(b);$n(()=>{P&&(M==null||M())},[P,M]);const H=(Y=I.arrow)==null?void 0:Y.x,W=(oe=I.arrow)==null?void 0:oe.y,te=((he=I.arrow)==null?void 0:he.centerOffset)!==0,[le,ce]=v.useState();return $n(()=>{k&&ce(window.getComputedStyle(k).zIndex)},[k]),i.jsx("div",{ref:K.setFloating,"data-radix-popper-content-wrapper":"",style:{...ee,transform:P?ee.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(be=I.transformOrigin)==null?void 0:be.x,(we=I.transformOrigin)==null?void 0:we.y].join(" "),...((xe=I.hide)==null?void 0:xe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:i.jsx(eme,{scope:n,placedSide:G,onArrowChange:z,arrowX:H,arrowY:W,shouldHideArrow:te,children:i.jsx(Xe.div,{"data-side":G,"data-align":U,...w,ref:C,style:{...w.style,animation:P?void 0:"none"}})})})});H$.displayName=NC;var q$="PopperArrow",nme={top:"bottom",right:"left",bottom:"top",left:"right"},Z$=v.forwardRef(function(t,n){const{__scopePopper:s,...r}=t,a=tme(q$,s),o=nme[a.placedSide];return i.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:i.jsx(Xfe,{...r,ref:n,style:{...r.style,display:"block"}})})});Z$.displayName=q$;function sme(e){return e!==null}var rme=e=>({name:"transformOrigin",options:e,fn(t){var j,k,S;const{placement:n,rects:s,middlewareData:r}=t,o=((j=r.arrow)==null?void 0:j.centerOffset)!==0,l=o?0:e.arrowWidth,u=o?0:e.arrowHeight,[d,f]=W$(n),m={start:"0%",center:"50%",end:"100%"}[f],g=(((k=r.arrow)==null?void 0:k.x)??0)+l/2,x=(((S=r.arrow)==null?void 0:S.y)??0)+u/2;let b="",w="";return d==="bottom"?(b=o?m:`${g}px`,w=`${-u}px`):d==="top"?(b=o?m:`${g}px`,w=`${s.floating.height+u}px`):d==="right"?(b=`${-u}px`,w=o?m:`${x}px`):d==="left"&&(b=`${s.floating.width+u}px`,w=o?m:`${x}px`),{data:{x:b,y:w}}}});function W$(e){const[t,n="center"]=e.split("-");return[t,n]}var SC=B$,_C=U$,CC=H$,EC=Z$,Ak="rovingFocusGroup.onEntryFocus",ime={bubbles:!1,cancelable:!0},xg="RovingFocusGroup",[N2,K$,ame]=tf(xg),[ome,af]=fr(xg,[ame]),[lme,cme]=ome(xg),G$=v.forwardRef((e,t)=>i.jsx(N2.Provider,{scope:e.__scopeRovingFocusGroup,children:i.jsx(N2.Slot,{scope:e.__scopeRovingFocusGroup,children:i.jsx(ume,{...e,ref:t})})}));G$.displayName=xg;var ume=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:r=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:f=!1,...m}=e,g=v.useRef(null),x=St(t,g),b=lc(a),[w,j]=Fr({prop:o,defaultProp:l??null,onChange:u,caller:xg}),[k,S]=v.useState(!1),C=On(d),E=K$(n),z=v.useRef(!1),[R,T]=v.useState(0);return v.useEffect(()=>{const A=g.current;if(A)return A.addEventListener(Ak,C),()=>A.removeEventListener(Ak,C)},[C]),i.jsx(lme,{scope:n,orientation:s,dir:b,loop:r,currentTabStopId:w,onItemFocus:v.useCallback(A=>j(A),[j]),onItemShiftTab:v.useCallback(()=>S(!0),[]),onFocusableItemAdd:v.useCallback(()=>T(A=>A+1),[]),onFocusableItemRemove:v.useCallback(()=>T(A=>A-1),[]),children:i.jsx(Xe.div,{tabIndex:k||R===0?-1:0,"data-orientation":s,...m,ref:x,style:{outline:"none",...e.style},onMouseDown:Ie(e.onMouseDown,()=>{z.current=!0}),onFocus:Ie(e.onFocus,A=>{const D=!z.current;if(A.target===A.currentTarget&&D&&!k){const F=new CustomEvent(Ak,ime);if(A.currentTarget.dispatchEvent(F),!F.defaultPrevented){const V=E().filter(L=>L.focusable),$=V.find(L=>L.active),q=V.find(L=>L.id===w),ee=[$,q,...V].filter(Boolean).map(L=>L.ref.current);X$(ee,f)}}z.current=!1}),onBlur:Ie(e.onBlur,()=>S(!1))})})}),Y$="RovingFocusGroupItem",J$=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:r=!1,tabStopId:a,children:o,...l}=e,u=jr(),d=a||u,f=cme(Y$,n),m=f.currentTabStopId===d,g=K$(n),{onFocusableItemAdd:x,onFocusableItemRemove:b,currentTabStopId:w}=f;return v.useEffect(()=>{if(s)return x(),()=>b()},[s,x,b]),i.jsx(N2.ItemSlot,{scope:n,id:d,focusable:s,active:r,children:i.jsx(Xe.span,{tabIndex:m?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ie(e.onMouseDown,j=>{s?f.onItemFocus(d):j.preventDefault()}),onFocus:Ie(e.onFocus,()=>f.onItemFocus(d)),onKeyDown:Ie(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){f.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const k=fme(j,f.orientation,f.dir);if(k!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let C=g().filter(E=>E.focusable).map(E=>E.ref.current);if(k==="last")C.reverse();else if(k==="prev"||k==="next"){k==="prev"&&C.reverse();const E=C.indexOf(j.currentTarget);C=f.loop?mme(C,E+1):C.slice(E+1)}setTimeout(()=>X$(C))}}),children:typeof o=="function"?o({isCurrentTabStop:m,hasTabStop:w!=null}):o})})});J$.displayName=Y$;var dme={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function hme(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function fme(e,t,n){const s=hme(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return dme[s]}function X$(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function mme(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var TC=G$,zC=J$;function pme(e){const t=gme(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(vme);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function gme(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=bme(r),l=yme(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Ja(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var xme=Symbol("radix.slottable");function vme(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===xme}function yme(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function bme(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var S2=["Enter"," "],wme=["ArrowDown","PageUp","Home"],Q$=["ArrowUp","PageDown","End"],jme=[...wme,...Q$],kme={ltr:[...S2,"ArrowRight"],rtl:[...S2,"ArrowLeft"]},Nme={ltr:["ArrowLeft"],rtl:["ArrowRight"]},vg="Menu",[jp,Sme,_me]=tf(vg),[Iu,e9]=fr(vg,[_me,rf,af]),_b=rf(),t9=af(),[Cme,Lu]=Iu(vg),[Eme,yg]=Iu(vg),n9=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:r,onOpenChange:a,modal:o=!0}=e,l=_b(t),[u,d]=v.useState(null),f=v.useRef(!1),m=On(a),g=lc(r);return v.useEffect(()=>{const x=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",x,{capture:!0}),()=>{document.removeEventListener("keydown",x,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),i.jsx(SC,{...l,children:i.jsx(Cme,{scope:t,open:n,onOpenChange:m,content:u,onContentChange:d,children:i.jsx(Eme,{scope:t,onClose:v.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:f,dir:g,modal:o,children:s})})})};n9.displayName=vg;var Tme="MenuAnchor",AC=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=_b(n);return i.jsx(_C,{...r,...s,ref:t})});AC.displayName=Tme;var MC="MenuPortal",[zme,s9]=Iu(MC,{forceMount:void 0}),r9=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:r}=e,a=Lu(MC,t);return i.jsx(zme,{scope:t,forceMount:n,children:i.jsx(ss,{present:n||a.open,children:i.jsx(ug,{asChild:!0,container:r,children:s})})})};r9.displayName=MC;var Ri="MenuContent",[Ame,RC]=Iu(Ri),i9=v.forwardRef((e,t)=>{const n=s9(Ri,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,a=Lu(Ri,e.__scopeMenu),o=yg(Ri,e.__scopeMenu);return i.jsx(jp.Provider,{scope:e.__scopeMenu,children:i.jsx(ss,{present:s||a.open,children:i.jsx(jp.Slot,{scope:e.__scopeMenu,children:o.modal?i.jsx(Mme,{...r,ref:t}):i.jsx(Rme,{...r,ref:t})})})})}),Mme=v.forwardRef((e,t)=>{const n=Lu(Ri,e.__scopeMenu),s=v.useRef(null),r=St(t,s);return v.useEffect(()=>{const a=s.current;if(a)return Y_(a)},[]),i.jsx(OC,{...e,ref:r,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ie(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Rme=v.forwardRef((e,t)=>{const n=Lu(Ri,e.__scopeMenu);return i.jsx(OC,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Ome=pme("MenuContent.ScrollLock"),OC=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:u,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:x,disableOutsideScroll:b,...w}=e,j=Lu(Ri,n),k=yg(Ri,n),S=_b(n),C=t9(n),E=Sme(n),[z,R]=v.useState(null),T=v.useRef(null),A=St(t,T,j.onContentChange),D=v.useRef(0),F=v.useRef(""),V=v.useRef(0),$=v.useRef(null),q=v.useRef("right"),K=v.useRef(0),ee=b?xb:v.Fragment,L=b?{as:Ome,allowPinchZoom:!0}:void 0,P=G=>{var Y,oe;const U=F.current+G,M=E().filter(he=>!he.disabled),H=document.activeElement,W=(Y=M.find(he=>he.ref.current===H))==null?void 0:Y.textValue,te=M.map(he=>he.textValue),le=Zme(te,U,W),ce=(oe=M.find(he=>he.textValue===le))==null?void 0:oe.ref.current;(function he(be){F.current=be,window.clearTimeout(D.current),be!==""&&(D.current=window.setTimeout(()=>he(""),1e3))})(U),ce&&setTimeout(()=>ce.focus())};v.useEffect(()=>()=>window.clearTimeout(D.current),[]),G_();const I=v.useCallback(G=>{var M,H;return q.current===((M=$.current)==null?void 0:M.side)&&Kme(G,(H=$.current)==null?void 0:H.area)},[]);return i.jsx(Ame,{scope:n,searchRef:F,onItemEnter:v.useCallback(G=>{I(G)&&G.preventDefault()},[I]),onItemLeave:v.useCallback(G=>{var U;I(G)||((U=T.current)==null||U.focus(),R(null))},[I]),onTriggerLeave:v.useCallback(G=>{I(G)&&G.preventDefault()},[I]),pointerGraceTimerRef:V,onPointerGraceIntentChange:v.useCallback(G=>{$.current=G},[]),children:i.jsx(ee,{...L,children:i.jsx(pb,{asChild:!0,trapped:r,onMountAutoFocus:Ie(a,G=>{var U;G.preventDefault(),(U=T.current)==null||U.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:i.jsx(ef,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:d,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:g,onDismiss:x,children:i.jsx(TC,{asChild:!0,...C,dir:k.dir,orientation:"vertical",loop:s,currentTabStopId:z,onCurrentTabStopIdChange:R,onEntryFocus:Ie(u,G=>{k.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(CC,{role:"menu","aria-orientation":"vertical","data-state":w9(j.open),"data-radix-menu-content":"",dir:k.dir,...S,...w,ref:A,style:{outline:"none",...w.style},onKeyDown:Ie(w.onKeyDown,G=>{const M=G.target.closest("[data-radix-menu-content]")===G.currentTarget,H=G.ctrlKey||G.altKey||G.metaKey,W=G.key.length===1;M&&(G.key==="Tab"&&G.preventDefault(),!H&&W&&P(G.key));const te=T.current;if(G.target!==te||!jme.includes(G.key))return;G.preventDefault();const ce=E().filter(Y=>!Y.disabled).map(Y=>Y.ref.current);Q$.includes(G.key)&&ce.reverse(),Hme(ce)}),onBlur:Ie(e.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(D.current),F.current="")}),onPointerMove:Ie(e.onPointerMove,kp(G=>{const U=G.target,M=K.current!==G.clientX;if(G.currentTarget.contains(U)&&M){const H=G.clientX>K.current?"right":"left";q.current=H,K.current=G.clientX}}))})})})})})})});i9.displayName=Ri;var Dme="MenuGroup",DC=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return i.jsx(Xe.div,{role:"group",...s,ref:t})});DC.displayName=Dme;var Pme="MenuLabel",a9=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return i.jsx(Xe.div,{...s,ref:t})});a9.displayName=Pme;var Lv="MenuItem",NR="menu.itemSelect",Cb=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...r}=e,a=v.useRef(null),o=yg(Lv,e.__scopeMenu),l=RC(Lv,e.__scopeMenu),u=St(t,a),d=v.useRef(!1),f=()=>{const m=a.current;if(!n&&m){const g=new CustomEvent(NR,{bubbles:!0,cancelable:!0});m.addEventListener(NR,x=>s==null?void 0:s(x),{once:!0}),zv(m,g),g.defaultPrevented?d.current=!1:o.onClose()}};return i.jsx(o9,{...r,ref:u,disabled:n,onClick:Ie(e.onClick,f),onPointerDown:m=>{var g;(g=e.onPointerDown)==null||g.call(e,m),d.current=!0},onPointerUp:Ie(e.onPointerUp,m=>{var g;d.current||(g=m.currentTarget)==null||g.click()}),onKeyDown:Ie(e.onKeyDown,m=>{const g=l.searchRef.current!=="";n||g&&m.key===" "||S2.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});Cb.displayName=Lv;var o9=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:r,...a}=e,o=RC(Lv,n),l=t9(n),u=v.useRef(null),d=St(t,u),[f,m]=v.useState(!1),[g,x]=v.useState("");return v.useEffect(()=>{const b=u.current;b&&x((b.textContent??"").trim())},[a.children]),i.jsx(jp.ItemSlot,{scope:n,disabled:s,textValue:r??g,children:i.jsx(zC,{asChild:!0,...l,focusable:!s,children:i.jsx(Xe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...a,ref:d,onPointerMove:Ie(e.onPointerMove,kp(b=>{s?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(e.onPointerLeave,kp(b=>o.onItemLeave(b))),onFocus:Ie(e.onFocus,()=>m(!0)),onBlur:Ie(e.onBlur,()=>m(!1))})})})}),Ime="MenuCheckboxItem",l9=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...r}=e;return i.jsx(f9,{scope:e.__scopeMenu,checked:n,children:i.jsx(Cb,{role:"menuitemcheckbox","aria-checked":$v(n)?"mixed":n,...r,ref:t,"data-state":IC(n),onSelect:Ie(r.onSelect,()=>s==null?void 0:s($v(n)?!0:!n),{checkForDefaultPrevented:!1})})})});l9.displayName=Ime;var c9="MenuRadioGroup",[Lme,$me]=Iu(c9,{value:void 0,onValueChange:()=>{}}),u9=v.forwardRef((e,t)=>{const{value:n,onValueChange:s,...r}=e,a=On(s);return i.jsx(Lme,{scope:e.__scopeMenu,value:n,onValueChange:a,children:i.jsx(DC,{...r,ref:t})})});u9.displayName=c9;var d9="MenuRadioItem",h9=v.forwardRef((e,t)=>{const{value:n,...s}=e,r=$me(d9,e.__scopeMenu),a=n===r.value;return i.jsx(f9,{scope:e.__scopeMenu,checked:a,children:i.jsx(Cb,{role:"menuitemradio","aria-checked":a,...s,ref:t,"data-state":IC(a),onSelect:Ie(s.onSelect,()=>{var o;return(o=r.onValueChange)==null?void 0:o.call(r,n)},{checkForDefaultPrevented:!1})})})});h9.displayName=d9;var PC="MenuItemIndicator",[f9,Vme]=Iu(PC,{checked:!1}),m9=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...r}=e,a=Vme(PC,n);return i.jsx(ss,{present:s||$v(a.checked)||a.checked===!0,children:i.jsx(Xe.span,{...r,ref:t,"data-state":IC(a.checked)})})});m9.displayName=PC;var Bme="MenuSeparator",p9=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return i.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});p9.displayName=Bme;var Fme="MenuArrow",g9=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,r=_b(n);return i.jsx(EC,{...r,...s,ref:t})});g9.displayName=Fme;var Ume="MenuSub",[NPe,x9]=Iu(Ume),Nm="MenuSubTrigger",v9=v.forwardRef((e,t)=>{const n=Lu(Nm,e.__scopeMenu),s=yg(Nm,e.__scopeMenu),r=x9(Nm,e.__scopeMenu),a=RC(Nm,e.__scopeMenu),o=v.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:u}=a,d={__scopeMenu:e.__scopeMenu},f=v.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return v.useEffect(()=>f,[f]),v.useEffect(()=>{const m=l.current;return()=>{window.clearTimeout(m),u(null)}},[l,u]),i.jsx(AC,{asChild:!0,...d,children:i.jsx(o9,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":r.contentId,"data-state":w9(n.open),...e,ref:Ja(t,r.onTriggerChange),onClick:m=>{var g;(g=e.onClick)==null||g.call(e,m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ie(e.onPointerMove,kp(m=>{a.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ie(e.onPointerLeave,kp(m=>{var x,b;f();const g=(x=n.content)==null?void 0:x.getBoundingClientRect();if(g){const w=(b=n.content)==null?void 0:b.dataset.side,j=w==="right",k=j?-5:5,S=g[j?"left":"right"],C=g[j?"right":"left"];a.onPointerGraceIntentChange({area:[{x:m.clientX+k,y:m.clientY},{x:S,y:g.top},{x:C,y:g.top},{x:C,y:g.bottom},{x:S,y:g.bottom}],side:w}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(m),m.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(e.onKeyDown,m=>{var x;const g=a.searchRef.current!=="";e.disabled||g&&m.key===" "||kme[s.dir].includes(m.key)&&(n.onOpenChange(!0),(x=n.content)==null||x.focus(),m.preventDefault())})})})});v9.displayName=Nm;var y9="MenuSubContent",b9=v.forwardRef((e,t)=>{const n=s9(Ri,e.__scopeMenu),{forceMount:s=n.forceMount,...r}=e,a=Lu(Ri,e.__scopeMenu),o=yg(Ri,e.__scopeMenu),l=x9(y9,e.__scopeMenu),u=v.useRef(null),d=St(t,u);return i.jsx(jp.Provider,{scope:e.__scopeMenu,children:i.jsx(ss,{present:s||a.open,children:i.jsx(jp.Slot,{scope:e.__scopeMenu,children:i.jsx(OC,{id:l.contentId,"aria-labelledby":l.triggerId,...r,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var m;o.isUsingKeyboardRef.current&&((m=u.current)==null||m.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ie(e.onFocusOutside,f=>{f.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ie(e.onKeyDown,f=>{var x;const m=f.currentTarget.contains(f.target),g=Nme[o.dir].includes(f.key);m&&g&&(a.onOpenChange(!1),(x=l.trigger)==null||x.focus(),f.preventDefault())})})})})})});b9.displayName=y9;function w9(e){return e?"open":"closed"}function $v(e){return e==="indeterminate"}function IC(e){return $v(e)?"indeterminate":e?"checked":"unchecked"}function Hme(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function qme(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function Zme(e,t,n){const r=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=qme(e,Math.max(a,0));r.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function Wme(e,t){const{x:n,y:s}=e;let r=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],u=t[o],d=l.x,f=l.y,m=u.x,g=u.y;f>s!=g>s&&n<(m-d)*(s-f)/(g-f)+d&&(r=!r)}return r}function Kme(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return Wme(n,t)}function kp(e){return t=>t.pointerType==="mouse"?e(t):void 0}var Gme=n9,Yme=AC,Jme=r9,Xme=i9,Qme=DC,epe=a9,tpe=Cb,npe=l9,spe=u9,rpe=h9,ipe=m9,ape=p9,ope=g9,lpe=v9,cpe=b9,Eb="DropdownMenu",[upe]=fr(Eb,[e9]),Cr=e9(),[dpe,j9]=upe(Eb),k9=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:r,defaultOpen:a,onOpenChange:o,modal:l=!0}=e,u=Cr(t),d=v.useRef(null),[f,m]=Fr({prop:r,defaultProp:a??!1,onChange:o,caller:Eb});return i.jsx(dpe,{scope:t,triggerId:jr(),triggerRef:d,contentId:jr(),open:f,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(g=>!g),[m]),modal:l,children:i.jsx(Gme,{...u,open:f,onOpenChange:m,dir:s,modal:l,children:n})})};k9.displayName=Eb;var N9="DropdownMenuTrigger",S9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...r}=e,a=j9(N9,n),o=Cr(n);return i.jsx(Yme,{asChild:!0,...o,children:i.jsx(Xe.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...r,ref:Ja(t,a.triggerRef),onPointerDown:Ie(e.onPointerDown,l=>{!s&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:Ie(e.onKeyDown,l=>{s||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});S9.displayName=N9;var hpe="DropdownMenuPortal",_9=e=>{const{__scopeDropdownMenu:t,...n}=e,s=Cr(t);return i.jsx(Jme,{...s,...n})};_9.displayName=hpe;var C9="DropdownMenuContent",E9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=j9(C9,n),a=Cr(n),o=v.useRef(!1);return i.jsx(Xme,{id:r.contentId,"aria-labelledby":r.triggerId,...a,...s,ref:t,onCloseAutoFocus:Ie(e.onCloseAutoFocus,l=>{var u;o.current||(u=r.triggerRef.current)==null||u.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ie(e.onInteractOutside,l=>{const u=l.detail.originalEvent,d=u.button===0&&u.ctrlKey===!0,f=u.button===2||d;(!r.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});E9.displayName=C9;var fpe="DropdownMenuGroup",mpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(Qme,{...r,...s,ref:t})});mpe.displayName=fpe;var ppe="DropdownMenuLabel",T9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(epe,{...r,...s,ref:t})});T9.displayName=ppe;var gpe="DropdownMenuItem",z9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(tpe,{...r,...s,ref:t})});z9.displayName=gpe;var xpe="DropdownMenuCheckboxItem",vpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(npe,{...r,...s,ref:t})});vpe.displayName=xpe;var ype="DropdownMenuRadioGroup",bpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(spe,{...r,...s,ref:t})});bpe.displayName=ype;var wpe="DropdownMenuRadioItem",jpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(rpe,{...r,...s,ref:t})});jpe.displayName=wpe;var kpe="DropdownMenuItemIndicator",Npe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(ipe,{...r,...s,ref:t})});Npe.displayName=kpe;var Spe="DropdownMenuSeparator",A9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(ape,{...r,...s,ref:t})});A9.displayName=Spe;var _pe="DropdownMenuArrow",Cpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(ope,{...r,...s,ref:t})});Cpe.displayName=_pe;var Epe="DropdownMenuSubTrigger",Tpe=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(lpe,{...r,...s,ref:t})});Tpe.displayName=Epe;var zpe="DropdownMenuSubContent",Ape=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,r=Cr(n);return i.jsx(cpe,{...r,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ape.displayName=zpe;var Mpe=k9,Rpe=S9,Ope=_9,Dpe=E9,Ppe=T9,Ipe=z9,Lpe=A9;function bg({...e}){return i.jsx(Mpe,{"data-slot":"dropdown-menu",...e})}function wg({...e}){return i.jsx(Rpe,{"data-slot":"dropdown-menu-trigger",...e})}function jg({className:e,sideOffset:t=4,...n}){return i.jsx(Ope,{children:i.jsx(Dpe,{"data-slot":"dropdown-menu-content",sideOffset:t,className:se("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",e),...n})})}function or({className:e,inset:t,variant:n="default",...s}){return i.jsx(Ipe,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:se("data-[variant=destructive]:*:[svg]:!text-destructive relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[variant=destructive]:text-destructive data-[disabled]:opacity-50 data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive dark:data-[variant=destructive]:focus:bg-destructive/20 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),...s})}function M9({className:e,inset:t,...n}){return i.jsx(Ppe,{"data-slot":"dropdown-menu-label","data-inset":t,className:se("px-2 py-1.5 font-medium text-sm data-[inset]:pl-8",e),...n})}function Ul({className:e,...t}){return i.jsx(Lpe,{"data-slot":"dropdown-menu-separator",className:se("-mx-1 my-1 h-px bg-border",e),...t})}function Tb(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var R9=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),$pe="VisuallyHidden",O9=v.forwardRef((e,t)=>i.jsx(Xe.span,{...e,ref:t,style:{...R9,...e.style}}));O9.displayName=$pe;var D9=O9,$u="NavigationMenu",[LC,P9,Vpe]=tf($u),[_2,Bpe,Fpe]=tf($u),[$C]=fr($u,[Vpe,Fpe]),[Upe,Vi]=$C($u),[Hpe,qpe]=$C($u),I9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,onValueChange:r,defaultValue:a,delayDuration:o=200,skipDelayDuration:l=300,orientation:u="horizontal",dir:d,...f}=e,[m,g]=v.useState(null),x=St(t,D=>g(D)),b=lc(d),w=v.useRef(0),j=v.useRef(0),k=v.useRef(0),[S,C]=v.useState(!0),[E,z]=Fr({prop:s,onChange:D=>{const F=D!=="",V=l>0;F?(window.clearTimeout(k.current),V&&C(!1)):(window.clearTimeout(k.current),k.current=window.setTimeout(()=>C(!0),l)),r==null||r(D)},defaultProp:a??"",caller:$u}),R=v.useCallback(()=>{window.clearTimeout(j.current),j.current=window.setTimeout(()=>z(""),150)},[z]),T=v.useCallback(D=>{window.clearTimeout(j.current),z(D)},[z]),A=v.useCallback(D=>{E===D?window.clearTimeout(j.current):w.current=window.setTimeout(()=>{window.clearTimeout(j.current),z(D)},o)},[E,z,o]);return v.useEffect(()=>()=>{window.clearTimeout(w.current),window.clearTimeout(j.current),window.clearTimeout(k.current)},[]),i.jsx(L9,{scope:n,isRootMenu:!0,value:E,dir:b,orientation:u,rootNavigationMenu:m,onTriggerEnter:D=>{window.clearTimeout(w.current),S?A(D):T(D)},onTriggerLeave:()=>{window.clearTimeout(w.current),R()},onContentEnter:()=>window.clearTimeout(j.current),onContentLeave:R,onItemSelect:D=>{z(F=>F===D?"":D)},onItemDismiss:()=>z(""),children:i.jsx(Xe.nav,{"aria-label":"Main","data-orientation":u,dir:b,...f,ref:x})})});I9.displayName=$u;var C2="NavigationMenuSub",Zpe=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,onValueChange:r,defaultValue:a,orientation:o="horizontal",...l}=e,u=Vi(C2,n),[d,f]=Fr({prop:s,onChange:r,defaultProp:a??"",caller:C2});return i.jsx(L9,{scope:n,isRootMenu:!1,value:d,dir:u.dir,orientation:o,rootNavigationMenu:u.rootNavigationMenu,onTriggerEnter:m=>f(m),onItemSelect:m=>f(m),onItemDismiss:()=>f(""),children:i.jsx(Xe.div,{"data-orientation":o,...l,ref:t})})});Zpe.displayName=C2;var L9=e=>{const{scope:t,isRootMenu:n,rootNavigationMenu:s,dir:r,orientation:a,children:o,value:l,onItemSelect:u,onItemDismiss:d,onTriggerEnter:f,onTriggerLeave:m,onContentEnter:g,onContentLeave:x}=e,[b,w]=v.useState(null),[j,k]=v.useState(new Map),[S,C]=v.useState(null);return i.jsx(Upe,{scope:t,isRootMenu:n,rootNavigationMenu:s,value:l,previousValue:Tb(l),baseId:jr(),dir:r,orientation:a,viewport:b,onViewportChange:w,indicatorTrack:S,onIndicatorTrackChange:C,onTriggerEnter:On(f),onTriggerLeave:On(m),onContentEnter:On(g),onContentLeave:On(x),onItemSelect:On(u),onItemDismiss:On(d),onViewportContentChange:v.useCallback((E,z)=>{k(R=>(R.set(E,z),new Map(R)))},[]),onViewportContentRemove:v.useCallback(E=>{k(z=>z.has(E)?(z.delete(E),new Map(z)):z)},[]),children:i.jsx(LC.Provider,{scope:t,children:i.jsx(Hpe,{scope:t,items:j,children:o})})})},$9="NavigationMenuList",V9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,r=Vi($9,n),a=i.jsx(Xe.ul,{"data-orientation":r.orientation,...s,ref:t});return i.jsx(Xe.div,{style:{position:"relative"},ref:r.onIndicatorTrackChange,children:i.jsx(LC.Slot,{scope:n,children:r.isRootMenu?i.jsx(Y9,{asChild:!0,children:a}):a})})});V9.displayName=$9;var B9="NavigationMenuItem",[Wpe,F9]=$C(B9),U9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,...r}=e,a=jr(),o=s||a||"LEGACY_REACT_AUTO_VALUE",l=v.useRef(null),u=v.useRef(null),d=v.useRef(null),f=v.useRef(()=>{}),m=v.useRef(!1),g=v.useCallback((b="start")=>{if(l.current){f.current();const w=T2(l.current);w.length&&FC(b==="start"?w:w.reverse())}},[]),x=v.useCallback(()=>{if(l.current){const b=T2(l.current);b.length&&(f.current=ege(b))}},[]);return i.jsx(Wpe,{scope:n,value:o,triggerRef:u,contentRef:l,focusProxyRef:d,wasEscapeCloseRef:m,onEntryKeyDown:g,onFocusProxyEnter:g,onRootContentClose:x,onContentFocusOutside:x,children:i.jsx(Xe.li,{...r,ref:t})})});U9.displayName=B9;var E2="NavigationMenuTrigger",H9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,disabled:s,...r}=e,a=Vi(E2,e.__scopeNavigationMenu),o=F9(E2,e.__scopeNavigationMenu),l=v.useRef(null),u=St(l,o.triggerRef,t),d=X9(a.baseId,o.value),f=Q9(a.baseId,o.value),m=v.useRef(!1),g=v.useRef(!1),x=o.value===a.value;return i.jsxs(i.Fragment,{children:[i.jsx(LC.ItemSlot,{scope:n,value:o.value,children:i.jsx(J9,{asChild:!0,children:i.jsx(Xe.button,{id:d,disabled:s,"data-disabled":s?"":void 0,"data-state":UC(x),"aria-expanded":x,"aria-controls":f,...r,ref:u,onPointerEnter:Ie(e.onPointerEnter,()=>{g.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:Ie(e.onPointerMove,Vv(()=>{s||g.current||o.wasEscapeCloseRef.current||m.current||(a.onTriggerEnter(o.value),m.current=!0)})),onPointerLeave:Ie(e.onPointerLeave,Vv(()=>{s||(a.onTriggerLeave(),m.current=!1)})),onClick:Ie(e.onClick,()=>{a.onItemSelect(o.value),g.current=x}),onKeyDown:Ie(e.onKeyDown,b=>{const j={horizontal:"ArrowDown",vertical:a.dir==="rtl"?"ArrowLeft":"ArrowRight"}[a.orientation];x&&b.key===j&&(o.onEntryKeyDown(),b.preventDefault())})})})}),x&&i.jsxs(i.Fragment,{children:[i.jsx(D9,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:b=>{const w=o.contentRef.current,j=b.relatedTarget,k=j===l.current,S=w==null?void 0:w.contains(j);(k||!S)&&o.onFocusProxyEnter(k?"start":"end")}}),a.viewport&&i.jsx("span",{"aria-owns":f})]})]})});H9.displayName=E2;var Kpe="NavigationMenuLink",SR="navigationMenu.linkSelect",q9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,active:s,onSelect:r,...a}=e;return i.jsx(J9,{asChild:!0,children:i.jsx(Xe.a,{"data-active":s?"":void 0,"aria-current":s?"page":void 0,...a,ref:t,onClick:Ie(e.onClick,o=>{const l=o.target,u=new CustomEvent(SR,{bubbles:!0,cancelable:!0});if(l.addEventListener(SR,d=>r==null?void 0:r(d),{once:!0}),zv(l,u),!u.defaultPrevented&&!o.metaKey){const d=new CustomEvent(rv,{bubbles:!0,cancelable:!0});zv(l,d)}},{checkForDefaultPrevented:!1})})})});q9.displayName=Kpe;var VC="NavigationMenuIndicator",Z9=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Vi(VC,e.__scopeNavigationMenu),a=!!r.value;return r.indicatorTrack?sb.createPortal(i.jsx(ss,{present:n||a,children:i.jsx(Gpe,{...s,ref:t})}),r.indicatorTrack):null});Z9.displayName=VC;var Gpe=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,r=Vi(VC,n),a=P9(n),[o,l]=v.useState(null),[u,d]=v.useState(null),f=r.orientation==="horizontal",m=!!r.value;v.useEffect(()=>{var w;const b=(w=a().find(j=>j.value===r.value))==null?void 0:w.ref.current;b&&l(b)},[a,r.value]);const g=()=>{o&&d({size:f?o.offsetWidth:o.offsetHeight,offset:f?o.offsetLeft:o.offsetTop})};return z2(o,g),z2(r.indicatorTrack,g),u?i.jsx(Xe.div,{"aria-hidden":!0,"data-state":m?"visible":"hidden","data-orientation":r.orientation,...s,ref:t,style:{position:"absolute",...f?{left:0,width:u.size+"px",transform:`translateX(${u.offset}px)`}:{top:0,height:u.size+"px",transform:`translateY(${u.offset}px)`},...s.style}}):null}),zh="NavigationMenuContent",W9=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Vi(zh,e.__scopeNavigationMenu),a=F9(zh,e.__scopeNavigationMenu),o=St(a.contentRef,t),l=a.value===r.value,u={value:a.value,triggerRef:a.triggerRef,focusProxyRef:a.focusProxyRef,wasEscapeCloseRef:a.wasEscapeCloseRef,onContentFocusOutside:a.onContentFocusOutside,onRootContentClose:a.onRootContentClose,...s};return r.viewport?i.jsx(Ype,{forceMount:n,...u,ref:o}):i.jsx(ss,{present:n||l,children:i.jsx(K9,{"data-state":UC(l),...u,ref:o,onPointerEnter:Ie(e.onPointerEnter,r.onContentEnter),onPointerLeave:Ie(e.onPointerLeave,Vv(r.onContentLeave)),style:{pointerEvents:!l&&r.isRootMenu?"none":void 0,...u.style}})})});W9.displayName=zh;var Ype=v.forwardRef((e,t)=>{const n=Vi(zh,e.__scopeNavigationMenu),{onViewportContentChange:s,onViewportContentRemove:r}=n;return $n(()=>{s(e.value,{ref:t,...e})},[e,t,s]),$n(()=>()=>r(e.value),[e.value,r]),null}),rv="navigationMenu.rootContentDismiss",K9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,value:s,triggerRef:r,focusProxyRef:a,wasEscapeCloseRef:o,onRootContentClose:l,onContentFocusOutside:u,...d}=e,f=Vi(zh,n),m=v.useRef(null),g=St(m,t),x=X9(f.baseId,s),b=Q9(f.baseId,s),w=P9(n),j=v.useRef(null),{onItemDismiss:k}=f;v.useEffect(()=>{const C=m.current;if(f.isRootMenu&&C){const E=()=>{var z;k(),l(),C.contains(document.activeElement)&&((z=r.current)==null||z.focus())};return C.addEventListener(rv,E),()=>C.removeEventListener(rv,E)}},[f.isRootMenu,e.value,r,k,l]);const S=v.useMemo(()=>{const E=w().map(F=>F.value);f.dir==="rtl"&&E.reverse();const z=E.indexOf(f.value),R=E.indexOf(f.previousValue),T=s===f.value,A=R===E.indexOf(s);if(!T&&!A)return j.current;const D=(()=>{if(z!==R){if(T&&R!==-1)return z>R?"from-end":"from-start";if(A&&z!==-1)return z>R?"to-start":"to-end"}return null})();return j.current=D,D},[f.previousValue,f.value,f.dir,w,s]);return i.jsx(Y9,{asChild:!0,children:i.jsx(ef,{id:b,"aria-labelledby":x,"data-motion":S,"data-orientation":f.orientation,...d,ref:g,disableOutsidePointerEvents:!1,onDismiss:()=>{var E;const C=new Event(rv,{bubbles:!0,cancelable:!0});(E=m.current)==null||E.dispatchEvent(C)},onFocusOutside:Ie(e.onFocusOutside,C=>{var z;u();const E=C.target;(z=f.rootNavigationMenu)!=null&&z.contains(E)&&C.preventDefault()}),onPointerDownOutside:Ie(e.onPointerDownOutside,C=>{var T;const E=C.target,z=w().some(A=>{var D;return(D=A.ref.current)==null?void 0:D.contains(E)}),R=f.isRootMenu&&((T=f.viewport)==null?void 0:T.contains(E));(z||R||!f.isRootMenu)&&C.preventDefault()}),onKeyDown:Ie(e.onKeyDown,C=>{var R;const E=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!E){const T=T2(C.currentTarget),A=document.activeElement,D=T.findIndex($=>$===A),V=C.shiftKey?T.slice(0,D).reverse():T.slice(D+1,T.length);FC(V)?C.preventDefault():(R=a.current)==null||R.focus()}}),onEscapeKeyDown:Ie(e.onEscapeKeyDown,C=>{o.current=!0})})})}),BC="NavigationMenuViewport",G9=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,a=!!Vi(BC,e.__scopeNavigationMenu).value;return i.jsx(ss,{present:n||a,children:i.jsx(Jpe,{...s,ref:t})})});G9.displayName=BC;var Jpe=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,children:s,...r}=e,a=Vi(BC,n),o=St(t,a.onViewportChange),l=qpe(zh,e.__scopeNavigationMenu),[u,d]=v.useState(null),[f,m]=v.useState(null),g=u?(u==null?void 0:u.width)+"px":void 0,x=u?(u==null?void 0:u.height)+"px":void 0,b=!!a.value,w=b?a.value:a.previousValue;return z2(f,()=>{f&&d({width:f.offsetWidth,height:f.offsetHeight})}),i.jsx(Xe.div,{"data-state":UC(b),"data-orientation":a.orientation,...r,ref:o,style:{pointerEvents:!b&&a.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":g,"--radix-navigation-menu-viewport-height":x,...r.style},onPointerEnter:Ie(e.onPointerEnter,a.onContentEnter),onPointerLeave:Ie(e.onPointerLeave,Vv(a.onContentLeave)),children:Array.from(l.items).map(([k,{ref:S,forceMount:C,...E}])=>{const z=w===k;return i.jsx(ss,{present:C||z,children:i.jsx(K9,{...E,ref:Ja(S,R=>{z&&R&&m(R)})})},k)})})}),Xpe="FocusGroup",Y9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,r=Vi(Xpe,n);return i.jsx(_2.Provider,{scope:n,children:i.jsx(_2.Slot,{scope:n,children:i.jsx(Xe.div,{dir:r.dir,...s,ref:t})})})}),_R=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],Qpe="FocusGroupItem",J9=v.forwardRef((e,t)=>{const{__scopeNavigationMenu:n,...s}=e,r=Bpe(n),a=Vi(Qpe,n);return i.jsx(_2.ItemSlot,{scope:n,children:i.jsx(Xe.button,{...s,ref:t,onKeyDown:Ie(e.onKeyDown,o=>{if(["Home","End",..._R].includes(o.key)){let u=r().map(m=>m.ref.current);if([a.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&u.reverse(),_R.includes(o.key)){const m=u.indexOf(o.currentTarget);u=u.slice(m+1)}setTimeout(()=>FC(u)),o.preventDefault()}})})})});function T2(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const r=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||r?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function FC(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}function ege(e){return e.forEach(t=>{t.dataset.tabindex=t.getAttribute("tabindex")||"",t.setAttribute("tabindex","-1")}),()=>{e.forEach(t=>{const n=t.dataset.tabindex;t.setAttribute("tabindex",n)})}}function z2(e,t){const n=On(t);$n(()=>{let s=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(s),r.unobserve(e)}}},[e,n])}function UC(e){return e?"open":"closed"}function X9(e,t){return`${e}-trigger-${t}`}function Q9(e,t){return`${e}-content-${t}`}function Vv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var e7=I9,t7=V9,tge=U9,n7=H9,nge=q9,s7=Z9,r7=W9,i7=G9;const a7=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(e7,{ref:s,className:se("relative z-10 flex max-w-max flex-1 items-center justify-center",e),...n,children:[t,i.jsx(d7,{})]}));a7.displayName=e7.displayName;const o7=v.forwardRef(({className:e,...t},n)=>i.jsx(t7,{ref:n,className:se("group flex flex-1 list-none items-center justify-center space-x-1",e),...t}));o7.displayName=t7.displayName;const g0=tge,l7=cg("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50"),c7=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(n7,{ref:s,className:se(l7(),"group",e),...n,children:[t," ",i.jsx(dr,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));c7.displayName=n7.displayName;const u7=v.forwardRef(({className:e,...t},n)=>i.jsx(r7,{ref:n,className:se("data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 top-0 left-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out md:absolute md:w-auto ",e),...t}));u7.displayName=r7.displayName;const sge=nge,d7=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:se("absolute top-full left-0 flex justify-center"),children:i.jsx(i7,{className:se("data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full origin-top-center overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=closed]:animate-out data-[state=open]:animate-in md:w-[var(--radix-navigation-menu-viewport-width)]",e),ref:n,...t})}));d7.displayName=i7.displayName;const rge=v.forwardRef(({className:e,...t},n)=>i.jsx(s7,{ref:n,className:se("data-[state=hidden]:fade-out data-[state=visible]:fade-in top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=hidden]:animate-out data-[state=visible]:animate-in",e),...t,children:i.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));rge.displayName=s7.displayName;const h7=[{title:"Dires",url:"/",id:1,groupLinks:[{title:"O nas",links:[{label:"Kdo jsme",icon:Hae,description:"Poznejte nas tym a nasi vizi",url:"/#benefits"},{label:"Co delame",icon:uu,description:"Nase sluzby a specializace",url:"/tym"},{label:"Nas tym",icon:Fa,description:"Seznamte se s nasimi odborniky",url:"/tym"}]},{title:"Vice",links:[{label:"Blog",icon:Gt,description:"Clanky a novinky ze sveta fyzioterapie",url:"/blog"},{label:"Obchod",icon:wu,description:"Fyzioterapeuticke pomucky a vybaveni",url:"/obchod"},{label:"Cenik",icon:bp,description:"Prehled cen a predplatnych planu",url:"/#pricing"},{label:"Cast dotazy",icon:B_,description:"Odpovedi na nejcastejsi otazky",url:"/#faq"},{label:"Kontakt",icon:boe,description:"Napiste nam nebo nas navstivte",url:"/#contact"}]}],imageLink:{url:"/#features",image:"https://images.pexels.com/photos/5473177/pexels-photo-5473177.jpeg?auto=compress&cs=tinysrgb&w=800",label:"Objevte nase funkce"}},{title:"Obchod",id:2,url:"/obchod",featuredLinks:[{label:"Lineseat",icon:wu,description:"Pomucka pro stabilni a funkcni sed v aute i kancelari",background:"https://images.pexels.com/photos/4498136/pexels-photo-4498136.jpeg?auto=compress&cs=tinysrgb&w=800",url:"/obchod"},{label:"Correctfoot",icon:P3,description:"Balancni desticka pro trenink koncetin",background:"https://images.pexels.com/photos/4498606/pexels-photo-4498606.jpeg?auto=compress&cs=tinysrgb&w=800",url:"/obchod"}],links:[{label:"4CORE Program",icon:uu,description:"Online treninkovy program - 70 dni, 15 minut denne",url:"/obchod"},{label:"Fyziotrenink",icon:Gt,description:"Kniha Pohyb jako lek - aktualizovane vydani",url:"/obchod"}]},{title:"Kurzy",url:"/kurzy",id:3,groupLinks:[{title:"Nabidka kurzu",links:[{label:"Vsechny kurzy",icon:P3,description:"Kompletni prehled vsech dostupnych kurzu",url:"/kurzy"},{label:"71denni kurz",icon:ca,description:"Intenzivni program na 71 dni pro maximalni vysledky",url:"/kurzy"},{label:"Kratke kurzy",icon:cn,description:"Kratke specializovane kurzy a workshopy",url:"/kurzy"}]},{title:"Informace",links:[{label:"Cenik kurzu",icon:bp,description:"Prehled cen a balicku pro vsechny kurzy",url:"/#pricing"},{label:"Certifikace",icon:Ch,description:"Informace o ziskani certifikatu",url:"/kurzy"},{label:"Pro pokrocile",icon:uu,description:"Specializovane kurzy pro zkusene fyzioterapeuty",url:"/kurzy"}]}],imageLink:{url:"/courses",image:"https://images.pexels.com/photos/5473182/pexels-photo-5473182.jpeg?auto=compress&cs=tinysrgb&w=800",label:"Prozkoumejte nase kurzy"}},{title:"Kosik",url:"/kosik",id:100},{title:"Prepnout tema",id:101}],ige=1024,age=({className:e})=>{var d,f,m,g;const[t,n]=v.useState(!1),[s,r]=v.useState(!1),{user:a,signOut:o}=Qt(),{hasActiveSubscription:l}=pg();v.useEffect(()=>{const x=()=>{window.innerWidth>ige&&n(!1)};return x(),window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)},[]),v.useEffect(()=>{let x=window.scrollY;const b=()=>{const w=window.scrollY;w<=10?r(!1):w>x?r(!0):r(!1),x=w};return window.addEventListener("scroll",b,{passive:!0}),()=>window.removeEventListener("scroll",b)},[]),v.useEffect(()=>{document.body.style.overflow=t?"hidden":"auto"},[t]);const u=()=>{n(!t)};return i.jsxs(v.Fragment,{children:[i.jsx("section",{className:se("pointer-events-auto fixed top-0 z-999 flex w-full items-center justify-center bg-background transition-all duration-500 ease-out",s&&"shadow-[0px_1px_0px_0px_rgba(0,0,0,0.05),0px_2px_8px_0px_rgba(16,25,36,0.08)]",e),children:i.jsx(a7,{className:se("max-w-full transition-all duration-500 ease-out after:absolute after:inset-0 after:z-998 after:block after:size-full after:bg-background after:content-[''] [&>div:last-child>div]:mt-0 [&>div:last-child>div]:animate-none [&>div:last-child>div]:rounded-none [&>div:last-child>div]:border-0 [&>div:last-child>div]:border-b [&>div:last-child>div]:!shadow-[0px_-1px_0px_0px_rgba(0,0,0,0.05),0px_0px_0px_1px_rgba(17,26,37,0.05),0px_2px_5px_0px_rgba(16,25,36,0.1),0px_5px_20px_0px_rgba(16,25,36,0.1)]",s?"h-14":"h-20"),children:i.jsxs("div",{className:"relative z-999 container grid w-full grid-cols-2 items-center justify-between gap-8 xl:grid-cols-3",children:[i.jsxs(Ue,{to:"/",className:"flex max-h-8 items-center gap-2 text-lg font-semibold tracking-tighter",children:[i.jsx("img",{src:pn.logo,alt:pn.name,className:se("inline-block transition-all duration-500 dark:invert",s?"size-6":"size-8")}),i.jsx("span",{className:se("hidden font-bold transition-all duration-500 md:inline-block",s?"text-lg":"text-xl"),children:pn.name})]}),i.jsx("div",{className:"hidden xl:flex",children:i.jsx(o7,{children:h7.map((x,b)=>i.jsx(oge,{item:x,index:b},`desktop-link-${b}`))})}),i.jsxs("div",{className:"flex items-center gap-2 justify-self-end",children:[i.jsx("div",{className:"hidden xl:flex xl:items-center xl:gap-2",children:a?i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsxs(X,{variant:"ghost",className:se("gap-2 group",s?"h-9 px-3":"h-11 px-4"),children:[i.jsx(zs,{className:se(s?"size-7":"size-8"),children:i.jsx(Ha,{className:"text-xs font-medium",children:((d=a.email)==null?void 0:d.charAt(0).toUpperCase())||"U"})}),i.jsx("span",{className:se("font-medium",s?"text-sm":"text-base"),children:((f=a.email)==null?void 0:f.split("@")[0])||"User"}),i.jsx(dr,{className:se("transition-transform duration-200 group-data-[state=open]:rotate-180","size-4")})]})}),i.jsxs(jg,{align:"center",className:"w-56 animate-in fade-in-0 zoom-in-95 data-[side=bottom]:slide-in-from-top-2",sideOffset:8,children:[i.jsxs("div",{className:"flex items-center gap-2 p-2",children:[i.jsx(zs,{className:"size-8",children:i.jsx(Ha,{className:"text-xs",children:((m=a.email)==null?void 0:m.charAt(0).toUpperCase())||"U"})}),i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-sm font-medium",children:((g=a.email)==null?void 0:g.split("@")[0])||"User"}),l&&i.jsxs($e,{variant:"outline",className:"h-4 px-1 text-[10px] bg-yellow-500/10 border-yellow-500/50 text-yellow-700 dark:text-yellow-400",children:[i.jsx(Lr,{className:"mr-0.5 size-2.5 fill-yellow-500 text-yellow-500"}),"Premium"]})]}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:a.email})]})]}),i.jsx(Ul,{}),i.jsx(or,{asChild:!0,children:i.jsxs(Ue,{to:"/prehled",children:[i.jsx(Mi,{className:"mr-2 size-4"}),"Dashboard"]})}),i.jsxs(or,{onClick:o,className:"cursor-pointer text-red-600 focus:text-red-700 focus:bg-red-50 dark:focus:bg-red-950",children:[i.jsx(VL,{className:"mr-2 size-4"}),"Logout"]}),i.jsx(Ul,{}),i.jsx(or,{asChild:!0,children:i.jsxs(Ue,{to:"/prehled/nastaveni",children:[i.jsx(Yh,{className:"mr-2 size-4"}),"Nastaveni"]})}),i.jsx(or,{asChild:!0,children:i.jsxs(Ue,{to:"/prehled/fakturace",children:[i.jsx(nr,{className:"mr-2 size-4"}),"Fakturace"]})})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(X,{variant:"ghost",asChild:!0,size:s?"sm":"default",children:i.jsx(Ue,{to:"/prihlaseni",children:"Prihlasit se"})}),i.jsx(X,{asChild:!0,size:s?"sm":"default",children:i.jsxs(Ue,{to:"/registrace",children:["Zacit",i.jsx(kr,{})]})})]})}),i.jsx("div",{className:"xl:hidden",children:i.jsx(X,{className:"size-11",variant:"ghost",size:"icon",onClick:u,children:i.jsx(jn,{mode:"wait",initial:!1,children:t?i.jsx(ne.div,{initial:{opacity:0,rotate:-90,scale:.8},animate:{opacity:1,rotate:0,scale:1},exit:{opacity:0,rotate:90,scale:.8},transition:{duration:.15},children:i.jsx(Pu,{className:"size-5.5 stroke-foreground"})},"close"):i.jsx(ne.div,{initial:{opacity:0,rotate:90,scale:.8},animate:{opacity:1,rotate:0,scale:1},exit:{opacity:0,rotate:-90,scale:.8},transition:{duration:.15},children:i.jsx(goe,{className:"size-5.5 stroke-foreground"})},"menu")})})})]})]})})}),i.jsx(mge,{open:t})]})},oge=({item:e,index:t})=>e.id===100?i.jsx(g0,{value:`${t}`,children:i.jsx(J8,{})},`desktop-menu-item-${t}`):e.id===101?i.jsx(g0,{value:`${t}`,children:i.jsx(g8,{})},`desktop-menu-item-${t}`):e.links||e.featuredLinks||e.groupLinks?i.jsxs(g0,{value:`${t}`,children:[i.jsx(c7,{className:"h-fit bg-transparent font-normal text-foreground/60",children:e.url?i.jsx(Ue,{to:e.url,className:"hover:text-foreground transition-colors",children:e.title}):e.title}),i.jsx(u7,{className:"hidden !rounded-xl !border-0 !p-0 xl:block",children:i.jsx("div",{className:"w-dvw animate-[fade-in-slide-down_0.35s_cubic-bezier(0.33,1,0.68,1)_forwards] px-8 pt-6 pb-12",children:i.jsxs("div",{className:"container",children:[(e.id===1||e.id===3)&&i.jsx(cge,{groupLinks:e.groupLinks,imageLink:e.imageLink}),e.id===2&&i.jsx(lge,{featuredLinks:e.featuredLinks,links:e.links})]})})})]},`desktop-menu-item-${t}`):i.jsx(g0,{value:`${t}`,children:i.jsx(sge,{href:e.url,className:`${l7()} h-fit bg-transparent font-normal text-foreground/60`,children:e.title})},`desktop-menu-item-${t}`),lge=({links:e,featuredLinks:t})=>i.jsxs("div",{children:[i.jsx("div",{className:"flex gap-8 pb-8",children:t&&t.map((n,s)=>i.jsx(hge,{link:n},`desktop-featured-link-${s}`))}),i.jsx($t,{}),i.jsx("div",{className:"grid grid-cols-4 pt-8",children:e&&e.map((n,s)=>i.jsx(f7,{link:n},`default-nav-link-${s}`))})]}),cge=({groupLinks:e,imageLink:t})=>i.jsxs("div",{className:"grid grid-cols-2 gap-8",children:[i.jsx(uge,{groupLinks:e}),i.jsx(dge,{link:t})]}),uge=({groupLinks:e})=>{const t=v.useRef([]),n=()=>a=>{t.current.forEach(o=>{o&&o!==a.currentTarget&&o.classList.add("opacity-50")})},s=()=>{t.current.forEach(a=>{a==null||a.classList.remove("opacity-50")})};if(!e)return null;let r=0;return i.jsx("div",{className:"grid grid-cols-2 gap-8",children:e.map((a,o)=>i.jsxs("div",{children:[i.jsx("div",{className:"mb-4 text-xs text-muted-foreground",children:a.title}),i.jsx("ul",{className:"flex flex-col gap-8",children:a.links.map((l,u)=>{const d=r++;return i.jsx("li",{children:i.jsx(f7,{link:l,onMouseEnter:n(),onMouseLeave:s,ref:f=>{f&&(t.current[d]=f)}})},`group-link-${o}-${u}`)})})]},`group-link-${o}`))})},dge=({link:e})=>e?i.jsx("div",{className:"hidden xl:block",children:i.jsx("a",{href:e.url,className:"w-full max-w-[36.875rem]",children:i.jsx(Ua,{ratio:1.77245509,className:"overflow-hidden rounded-[0.25rem] bg-muted",children:i.jsxs("div",{className:"size-full",children:[i.jsx($e,{className:"absolute top-2 left-2",children:"Nove"}),i.jsxs("div",{className:"flex w-full flex-col items-center justify-center gap-8 pt-10",children:[i.jsx("div",{className:"text-2xl font-semibold",children:e.label}),i.jsx("div",{className:"w-[80%]",children:i.jsx(Ua,{ratio:1.5,className:"overflow-hidden rounded-[0.25rem] bg-muted",children:i.jsx("img",{src:e.image,alt:e.label,className:"size-full object-cover object-left-top"})})})]})]})})})}):null,hge=({link:e})=>i.jsxs("a",{href:e.url,className:"group relative flex w-full overflow-hidden rounded-xl bg-muted px-8 py-7",children:[i.jsxs("div",{className:"relative z-10 flex w-full items-center gap-6",children:[i.jsx("div",{className:"flex size-12 shrink-0 rounded-lg border bg-background shadow-lg",children:e.icon&&i.jsx(e.icon,{className:"m-auto size-5 stroke-foreground"})}),i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsx("div",{className:"text-lg font-semibold text-white",children:e.label}),i.jsx("div",{className:"font-medium text-white/80",children:e.description})]})]}),i.jsx("img",{src:e.background,alt:e.label,className:"absolute top-0 left-0 size-full object-cover object-left-top opacity-90 transition-opacity duration-300 ease-in-out group-hover:opacity-100"})]}),f7=v.forwardRef(({link:e,onMouseEnter:t,onMouseLeave:n},s)=>i.jsxs("a",{ref:s,href:e.url,className:"flex w-full gap-2 transition-opacity duration-300",onMouseEnter:t,onMouseLeave:n,children:[e.icon&&i.jsx("div",{className:"flex size-6 shrink-0 rounded-md border shadow",children:i.jsx(e.icon,{className:"m-auto size-3.5"})}),i.jsxs("div",{className:"flex flex-col items-start gap-2",children:[e.company&&i.jsx("div",{className:"block text-base leading-normal xl:hidden",children:e.company.name}),e.company&&i.jsx("img",{className:"hidden h-6 xl:block",src:e.company.logo,alt:e.company.name}),e.label&&i.jsx("div",{className:"text-base leading-normal",children:e.label}),i.jsx("div",{className:"text-sm leading-normal text-muted-foreground",children:e.description})]})]})),fge={hidden:{opacity:0},visible:{opacity:1},exit:{opacity:0}},mge=({open:e})=>{var a,o;const t=h7.filter(l=>l.id!==100&&l.id!==101),{user:n,signOut:s}=Qt(),{hasActiveSubscription:r}=pg();return i.jsx(jn,{children:e&&i.jsxs(ne.div,{variants:fge,initial:"hidden",animate:"visible",exit:"exit",transition:{duration:.3,ease:[.33,1,.68,1]},className:"fixed inset-0 z-998 flex h-dvh w-full flex-col overflow-hidden bg-background pt-20",role:"dialog","aria-modal":"true","aria-label":"Mobilni navigace",children:[i.jsx("div",{className:"pointer-events-none absolute -top-20 -right-20 h-72 w-72 rounded-full bg-primary/8 blur-[80px]"}),i.jsx("div",{className:"pointer-events-none absolute -bottom-16 -left-16 h-64 w-64 rounded-full bg-primary/5 blur-[70px]"}),i.jsx("div",{className:"relative flex-1 overflow-y-auto",children:i.jsx("div",{className:"py-6 px-5 sm:px-8",children:i.jsxs("div",{className:"flex flex-col gap-3 pb-8",children:[i.jsx(g$,{type:"single",collapsible:!0,className:"w-full space-y-2",children:t.map((l,u)=>{var d,f,m;return i.jsx(ne.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.05+u*.07,ease:[.33,1,.68,1]},children:i.jsxs(uC,{value:`nav-${u}`,className:"my-0 overflow-hidden rounded-xl border-border/40 bg-muted/30 px-1 backdrop-blur-sm transition-colors data-[state=open]:border-primary/15 data-[state=open]:bg-muted/50",children:[i.jsx(dC,{className:"px-3 text-[15px] font-medium text-foreground/80 hover:text-foreground hover:no-underline data-[state=open]:text-foreground",children:l.title}),i.jsx(hC,{className:"px-1 pb-1",children:i.jsxs("div",{className:"flex flex-col gap-0.5",children:[(d=l.featuredLinks)==null?void 0:d.map((g,x)=>i.jsx(Mk,{link:g},`featured-${x}`)),(f=l.links)==null?void 0:f.map((g,x)=>i.jsx(Mk,{link:g},`link-${x}`)),(m=l.groupLinks)==null?void 0:m.map((g,x)=>i.jsxs("div",{className:se(x>0&&"mt-3"),children:[i.jsx("div",{className:"mb-1 px-3 text-[11px] font-medium uppercase tracking-wider text-muted-foreground/60",children:g.title}),i.jsx("div",{className:"flex flex-col gap-0.5",children:g.links.map((b,w)=>i.jsx(Mk,{link:b},`glink-${x}-${w}`))})]},`group-${x}`))]})})]})},l.title)})}),i.jsxs(ne.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.3,ease:[.33,1,.68,1]},className:"mt-2 flex items-center gap-3",children:[i.jsx(J8,{}),i.jsx(g8,{})]}),i.jsx(ne.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.38,ease:[.33,1,.68,1]},className:"flex flex-col gap-3 pt-2",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"rounded-xl border border-border/50 bg-muted/30 p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(zs,{className:"size-10",children:i.jsx(Ha,{className:"text-sm font-medium",children:((a=n.email)==null?void 0:a.charAt(0).toUpperCase())||"U"})}),i.jsxs("div",{className:"flex flex-col gap-1 flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium truncate",children:((o=n.email)==null?void 0:o.split("@")[0])||"User"}),r&&i.jsxs($e,{variant:"outline",className:"h-4 px-1 text-[10px] bg-yellow-500/10 border-yellow-500/50 text-yellow-700 dark:text-yellow-400",children:[i.jsx(Lr,{className:"mr-0.5 size-2.5 fill-yellow-500 text-yellow-500"}),"Premium"]})]}),i.jsx("span",{className:"text-xs text-muted-foreground truncate",children:n.email})]})]})}),i.jsx(X,{variant:"outline",size:"lg",className:"h-12 rounded-xl border-border/50",asChild:!0,children:i.jsxs(Ue,{to:"/prehled",children:[i.jsx(Mi,{className:"mr-2 size-4"}),"Dashboard"]})}),i.jsx(X,{variant:"outline",size:"lg",className:"h-12 rounded-xl border-border/50",asChild:!0,children:i.jsxs(Ue,{to:"/prehled/nastaveni",children:[i.jsx(Yh,{className:"mr-2 size-4"}),"Nastaveni"]})}),i.jsxs(X,{variant:"outline",size:"lg",className:"h-12 rounded-xl border-border/50",onClick:s,children:[i.jsx(VL,{className:"mr-2 size-4"}),"Odhlasit se"]})]}):i.jsxs(i.Fragment,{children:[i.jsx(X,{variant:"outline",size:"lg",className:"h-12 rounded-xl border-border/50",asChild:!0,children:i.jsx(Ue,{to:"/prihlaseni",children:"Prihlasit se"})}),i.jsx(X,{size:"lg",className:"h-12 rounded-xl",asChild:!0,children:i.jsxs(Ue,{to:"/registrace",children:["Zacit",i.jsx(kr,{className:"ml-1 size-4"})]})})]})})]})})})]})})},Mk=({link:e})=>i.jsxs("a",{href:e.url,className:"group flex w-full items-start gap-3 rounded-lg px-3 py-2.5 transition-all duration-200 hover:bg-primary/5",children:[e.icon&&i.jsx("div",{className:"flex size-8 shrink-0 items-center justify-center rounded-lg border border-border/40 bg-background/80 shadow-sm transition-all duration-200 group-hover:border-primary/25 group-hover:shadow-md",children:i.jsx(e.icon,{className:"size-3.5 text-muted-foreground transition-colors duration-200 group-hover:text-primary"})}),i.jsxs("div",{className:"flex flex-col gap-0.5 pt-0.5",children:[e.label&&i.jsx("span",{className:"text-sm font-medium leading-tight text-foreground/90 transition-colors group-hover:text-foreground",children:e.label}),e.description&&i.jsx("span",{className:"text-xs leading-relaxed text-muted-foreground/70",children:e.description})]})]}),Pe=v.forwardRef(({className:e,type:t,...n},s)=>i.jsx("input",{type:t,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-1 ring-input ring-offset-background file:border-0 file:bg-transparent file:font-medium file:text-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...n}));Pe.displayName="Input";const pge=[{label:"Kurzy",href:"/kurzy"},{label:"Obchod",href:"/obchod"},{label:"Blog",href:"/blog"},{label:"Cenik",href:"/#pricing"},{label:"Tym",href:"/tym"}],gge=[{label:"Linkedin",href:pn.links.linkedin},{label:"Twitter",href:pn.links.twitter}],xge=[{label:"Ochrana soukromi",href:"#privacy"},{label:"Obchodni podminky",href:"#terms"}],vge=[{name:"MUDr. Jana Novakova",role:"Vedouci Fyzioterapeutka",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar/avatar1.jpg",speciality:"Sportovni medicina"},{name:"Mgr. Petr Svoboda",role:"Fyzioterapeut",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar/avatar2.jpg",speciality:"Manualni terapie"},{name:"Bc. Marketa Dvorakova",role:"Fyzioterapeutka",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar/avatar3.jpg",speciality:"Detska fyzioterapie"},{name:"Mgr. Tomas Prochazka",role:"Fyzioterapeut a Maser",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar/avatar4.jpg",speciality:"Sportovni masaze"}],m7="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d1522.394269715919!2d14.403041690252623!3d50.079700516325545!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x470b95f56143f73b%3A0xe9fa458148e639c7!2sDires%20fyzio!5e0!3m2!1sen!2scz!4v1770755195968!5m2!1sen!2scz",CR=[{id:"default",label:"Mapa",icon:Ql,src:m7},{id:"car",label:"Autem",icon:RL,src:"https://maps.google.com/maps?saddr=Staromestske+namesti,+Praha&daddr=Dires+fyzio,+Praha&dirflg=d&output=embed"},{id:"transit",label:"MHD",icon:$le,src:"https://maps.google.com/maps?saddr=Staromestske+namesti,+Praha&daddr=Dires+fyzio,+Praha&dirflg=r&output=embed"},{id:"walking",label:"Pesky",icon:U_,src:"https://maps.google.com/maps?saddr=Staromestske+namesti,+Praha&daddr=Dires+fyzio,+Praha&dirflg=w&output=embed"}],yge={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.1}}},vl={hidden:{opacity:0,y:18},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}}},ER={rest:{x:0},hover:{x:3,transition:{duration:.2,ease:"easeOut"}}},bge=()=>{var a;const[e,t]=v.useState(""),[n,s]=v.useState("default"),r=((a=CR.find(o=>o.id===n))==null?void 0:a.src)??m7;return i.jsx("footer",{className:"mx-3 mt-16 mb-4 overflow-hidden rounded-2xl bg-muted/60 sm:mx-5 lg:mx-6",children:i.jsxs(ne.div,{className:"mx-auto px-5 pt-10 pb-6 sm:px-8 lg:px-12 xl:px-16 2xl:px-20",variants:yge,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsxs(ne.div,{variants:vl,children:[i.jsxs("div",{className:"flex flex-col gap-1 mb-6",children:[i.jsx("h3",{className:"text-2xl font-semibold tracking-tight text-neutral-900 dark:text-white sm:text-3xl",children:"Nasi Lektori"}),i.jsx("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:"Ucte se od tech nejlepsich -- certifikovani odbornici s letitou praxi."})]}),i.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-4",children:vge.map(o=>i.jsx(Ue,{to:"/tym",children:i.jsxs(ne.div,{className:"group relative overflow-hidden rounded-xl bg-neutral-200/60 dark:bg-neutral-900 p-3.5 transition-colors",whileHover:{y:-4},transition:{type:"spring",stiffness:400,damping:25},children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:o.image,alt:o.name,className:"size-11 rounded-full object-cover ring-2 ring-neutral-300 dark:ring-neutral-700 transition-all group-hover:ring-neutral-400 dark:group-hover:ring-neutral-500"}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"truncate text-sm font-medium text-neutral-900 dark:text-white",children:o.name}),i.jsx("p",{className:"truncate text-xs text-neutral-500 dark:text-neutral-400",children:o.role})]})]}),i.jsxs("div",{className:"mt-2.5 flex items-center justify-between",children:[i.jsx("span",{className:"inline-block rounded-md bg-neutral-300/60 dark:bg-neutral-800 px-2 py-0.5 text-[10px] font-medium text-neutral-600 dark:text-neutral-400",children:o.speciality}),i.jsx(vp,{className:"size-3.5 text-neutral-400 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5 group-hover:text-neutral-600 dark:group-hover:text-neutral-200"})]})]})},o.name))}),i.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[i.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-500",children:"A dalsi 2 odbornici v nasem tymu"}),i.jsx(Ue,{to:"/tym",children:i.jsxs(ne.span,{className:"inline-flex items-center gap-1 text-xs font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",whileHover:{x:2},children:["Zobrazit cely tym",i.jsx(ur,{className:"size-3"})]})})]})]}),i.jsx(ne.div,{variants:vl,className:"my-7",children:i.jsx($t,{className:"bg-neutral-200 dark:bg-neutral-800"})}),i.jsxs("div",{className:"grid gap-8 lg:grid-cols-[1.1fr_1fr]",children:[i.jsxs(ne.div,{variants:vl,className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx(Ue,{to:"/",className:"inline-block",children:i.jsx("img",{src:"/Dires.png",alt:pn.name,className:"h-10 dark:invert"})}),i.jsxs("p",{className:"mt-2 max-w-xs text-sm leading-relaxed text-neutral-500 dark:text-neutral-400",children:[pn.description,". Pripojte se k tisicum spokojenych klientu a zacnete svou cestu k lepsimu zdravi."]})]}),i.jsx($t,{className:"bg-neutral-200 dark:bg-neutral-800"}),i.jsxs("div",{className:"grid grid-cols-3 gap-5 text-[13px]",children:[i.jsxs("div",{children:[i.jsx("p",{className:"mb-2.5 text-[10px] font-semibold uppercase tracking-[0.15em] text-neutral-400 dark:text-neutral-500",children:"Navigace"}),i.jsx("ul",{className:"space-y-1.5",children:pge.map(o=>i.jsx("li",{children:i.jsx(Ue,{to:o.href,children:i.jsx(ne.span,{className:"inline-flex text-neutral-600 dark:text-neutral-400 transition-colors hover:text-neutral-900 dark:hover:text-white cursor-pointer",variants:ER,initial:"rest",whileHover:"hover",children:o.label})})},o.label))})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-2.5 text-[10px] font-semibold uppercase tracking-[0.15em] text-neutral-400 dark:text-neutral-500",children:"Socialni site"}),i.jsx("ul",{className:"space-y-1.5",children:gge.map(o=>i.jsx("li",{children:i.jsx("a",{href:o.href,target:"_blank",rel:"noopener noreferrer",children:i.jsxs(ne.span,{className:"group inline-flex items-center gap-1 text-neutral-600 dark:text-neutral-400 transition-colors hover:text-neutral-900 dark:hover:text-white cursor-pointer",variants:ER,initial:"rest",whileHover:"hover",children:[o.label,i.jsx(vp,{className:"size-3 opacity-40 transition-transform group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})})},o.label))})]}),i.jsxs("div",{children:[i.jsx("p",{className:"mb-2.5 text-[10px] font-semibold uppercase tracking-[0.15em] text-neutral-400 dark:text-neutral-500",children:"Kontakt"}),i.jsxs("ul",{className:"space-y-2 text-neutral-600 dark:text-neutral-400",children:[i.jsx("li",{children:i.jsxs("a",{href:`mailto:${pn.mailSupport}`,className:"flex items-center gap-2 hover:text-neutral-900 dark:hover:text-white transition-colors",children:[i.jsx(BL,{className:"size-3.5 shrink-0 text-neutral-400 dark:text-neutral-500"}),pn.mailSupport]})}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(HL,{className:"size-3.5 shrink-0 text-neutral-400 dark:text-neutral-500"}),"+420 123 456 789"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(cn,{className:"size-3.5 shrink-0 text-neutral-400 dark:text-neutral-500"}),"Po-Pa 8:00 - 18:00"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx(Ql,{className:"size-3.5 shrink-0 text-neutral-400 dark:text-neutral-500"}),"Praha, Ceska republika"]})]})]})]})]}),i.jsxs(ne.div,{variants:vl,children:[i.jsxs("div",{className:"mb-3 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("h4",{className:"flex items-center gap-2 text-[10px] font-semibold uppercase tracking-[0.15em] text-neutral-400 dark:text-neutral-500",children:[i.jsx(Ql,{className:"size-3.5"}),"Kde nas najdete"]}),i.jsx("div",{className:"flex gap-1 rounded-lg bg-neutral-200/70 dark:bg-neutral-900 p-0.5",children:CR.map(o=>{const l=o.icon,u=n===o.id;return i.jsxs(ne.button,{onClick:()=>s(o.id),className:se("relative flex items-center gap-1 rounded-md px-2.5 py-1 text-[11px] font-medium transition-colors",u?"text-neutral-900 dark:text-white":"text-neutral-500 hover:text-neutral-700 dark:hover:text-neutral-300"),whileTap:{scale:.95},children:[u&&i.jsx(ne.span,{layoutId:"travel-pill",className:"absolute inset-0 rounded-md bg-white dark:bg-neutral-800 shadow-sm",transition:{type:"spring",stiffness:400,damping:28}}),i.jsxs("span",{className:"relative z-10 flex items-center gap-1",children:[i.jsx(l,{className:"size-3"}),o.label]})]},o.id)})})]}),i.jsx("div",{className:"overflow-hidden rounded-xl border border-neutral-200 dark:border-neutral-800",children:i.jsx(jn,{mode:"wait",children:i.jsx(ne.iframe,{src:r,className:"aspect-[4/3] w-full lg:aspect-[16/10]",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Dires fyzio location",initial:{opacity:0,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.3,ease:"easeOut"}},n)})})]})]}),i.jsx(ne.div,{variants:vl,className:"my-7",children:i.jsx($t,{className:"bg-neutral-200 dark:bg-neutral-800"})}),i.jsxs(ne.div,{variants:vl,className:"flex flex-col items-start gap-5 rounded-xl bg-neutral-200/60 dark:bg-neutral-900 px-6 py-6 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold text-neutral-900 dark:text-white sm:text-xl",children:"Nenech si ujit zadnou novinku!"}),i.jsx("p",{className:"mt-1 text-xs leading-relaxed text-neutral-500 dark:text-neutral-400",children:"Prihlasit se k odberu novinek v souladu s narizenim na ochranu osobnich udaju (GDPR)."})]}),i.jsxs("form",{onSubmit:o=>{o.preventDefault(),t("")},className:"flex w-full items-center gap-2 sm:w-auto",children:[i.jsx(Pe,{type:"email",placeholder:"vas@email.cz",value:e,onChange:o=>t(o.target.value),className:"h-10 w-full min-w-[200px] rounded-lg border-neutral-300 dark:border-neutral-700 bg-white dark:bg-neutral-950 text-sm text-neutral-900 dark:text-white placeholder:text-neutral-400 dark:placeholder:text-neutral-500 focus-visible:ring-neutral-400 dark:focus-visible:ring-neutral-600 sm:w-56"}),i.jsx(ne.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:i.jsxs(X,{type:"submit",size:"sm",className:"h-10 rounded-lg bg-neutral-900 dark:bg-white px-5 text-sm font-medium text-white dark:text-neutral-900 hover:bg-neutral-800 dark:hover:bg-neutral-200",children:["Odebrat",i.jsx(ur,{className:"ml-1.5 size-3.5"})]})})]})]}),i.jsx(ne.div,{variants:vl,className:"my-5",children:i.jsx($t,{className:"bg-neutral-200 dark:bg-neutral-800"})}),i.jsxs(ne.div,{variants:vl,className:"flex flex-col items-center justify-between gap-3 text-[11px] text-neutral-500 dark:text-neutral-500 sm:flex-row",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1",children:[i.jsxs("span",{children:[" ",new Date().getFullYear()," ",pn.name,". Vsechna prava vyhrazena."]}),i.jsx("span",{className:"hidden text-neutral-300 dark:text-neutral-700 sm:inline",children:"|"}),xge.map(o=>i.jsx(Ue,{to:o.href,className:"hover:text-neutral-700 dark:hover:text-neutral-300 transition-colors",children:o.label},o.label))]}),i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Vytvoreno",i.jsxs(Ue,{target:"_blank",to:"https://xx0rt.github.io/Tr0xx/",className:"inline-flex items-center gap-0.5 font-medium text-neutral-600 dark:text-neutral-400 hover:text-neutral-900 dark:hover:text-white transition-colors",children:[i.jsx("img",{src:"/logos/logo-website-world-wide-web-svg-png-icon-download-10.png",alt:"Troxx",width:13,height:13,className:"dark:invert"}),"Troxx"]})]})]})]})})};var iv={exports:{}},wge=iv.exports,TR;function jge(){return TR||(TR=1,(function(e,t){(function(n,s){e.exports=s()})(wge,function(){return(function(n){function s(a){if(r[a])return r[a].exports;var o=r[a]={exports:{},id:a,loaded:!1};return n[a].call(o.exports,o,o.exports,s),o.loaded=!0,o.exports}var r={};return s.m=n,s.c=r,s.p="dist/",s(0)})([function(n,s,r){function a(K){return K&&K.__esModule?K:{default:K}}var o=Object.assign||function(K){for(var ee=1;ee<arguments.length;ee++){var L=arguments[ee];for(var P in L)Object.prototype.hasOwnProperty.call(L,P)&&(K[P]=L[P])}return K},l=r(1),u=(a(l),r(6)),d=a(u),f=r(7),m=a(f),g=r(8),x=a(g),b=r(9),w=a(b),j=r(10),k=a(j),S=r(11),C=a(S),E=r(14),z=a(E),R=[],T=!1,A={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},D=function(){var K=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(K&&(T=!0),T)return R=(0,C.default)(R,A),(0,k.default)(R,A.once),R},F=function(){R=(0,z.default)(),D()},V=function(){R.forEach(function(K,ee){K.node.removeAttribute("data-aos"),K.node.removeAttribute("data-aos-easing"),K.node.removeAttribute("data-aos-duration"),K.node.removeAttribute("data-aos-delay")})},$=function(K){return K===!0||K==="mobile"&&w.default.mobile()||K==="phone"&&w.default.phone()||K==="tablet"&&w.default.tablet()||typeof K=="function"&&K()===!0},q=function(K){A=o(A,K),R=(0,z.default)();var ee=document.all&&!window.atob;return $(A.disable)||ee?V():(A.disableMutationObserver||x.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),A.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",A.easing),document.querySelector("body").setAttribute("data-aos-duration",A.duration),document.querySelector("body").setAttribute("data-aos-delay",A.delay),A.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?D(!0):A.startEvent==="load"?window.addEventListener(A.startEvent,function(){D(!0)}):document.addEventListener(A.startEvent,function(){D(!0)}),window.addEventListener("resize",(0,m.default)(D,A.debounceDelay,!0)),window.addEventListener("orientationchange",(0,m.default)(D,A.debounceDelay,!0)),window.addEventListener("scroll",(0,d.default)(function(){(0,k.default)(R,A.once)},A.throttleDelay)),A.disableMutationObserver||x.default.ready("[data-aos]",F),R)};n.exports={init:q,refresh:D,refreshHard:F}},function(n,s){},,,,,function(n,s){(function(r){function a($,q,K){function ee(re){var Ce=te,Ze=le;return te=le=void 0,be=re,Y=$.apply(Ze,Ce)}function L(re){return be=re,oe=setTimeout(G,q),we?ee(re):Y}function P(re){var Ce=re-he,Ze=re-be,it=q-Ce;return xe?F(it,ce-Ze):it}function I(re){var Ce=re-he,Ze=re-be;return he===void 0||Ce>=q||Ce<0||xe&&Ze>=ce}function G(){var re=V();return I(re)?U(re):void(oe=setTimeout(G,P(re)))}function U(re){return oe=void 0,Ae&&te?ee(re):(te=le=void 0,Y)}function M(){oe!==void 0&&clearTimeout(oe),be=0,te=he=le=oe=void 0}function H(){return oe===void 0?Y:U(V())}function W(){var re=V(),Ce=I(re);if(te=arguments,le=this,he=re,Ce){if(oe===void 0)return L(he);if(xe)return oe=setTimeout(G,q),ee(he)}return oe===void 0&&(oe=setTimeout(G,q)),Y}var te,le,ce,Y,oe,he,be=0,we=!1,xe=!1,Ae=!0;if(typeof $!="function")throw new TypeError(g);return q=f(q)||0,l(K)&&(we=!!K.leading,xe="maxWait"in K,ce=xe?D(f(K.maxWait)||0,q):ce,Ae="trailing"in K?!!K.trailing:Ae),W.cancel=M,W.flush=H,W}function o($,q,K){var ee=!0,L=!0;if(typeof $!="function")throw new TypeError(g);return l(K)&&(ee="leading"in K?!!K.leading:ee,L="trailing"in K?!!K.trailing:L),a($,q,{leading:ee,maxWait:q,trailing:L})}function l($){var q=typeof $>"u"?"undefined":m($);return!!$&&(q=="object"||q=="function")}function u($){return!!$&&(typeof $>"u"?"undefined":m($))=="object"}function d($){return(typeof $>"u"?"undefined":m($))=="symbol"||u($)&&A.call($)==b}function f($){if(typeof $=="number")return $;if(d($))return x;if(l($)){var q=typeof $.valueOf=="function"?$.valueOf():$;$=l(q)?q+"":q}if(typeof $!="string")return $===0?$:+$;$=$.replace(w,"");var K=k.test($);return K||S.test($)?C($.slice(2),K?2:8):j.test($)?x:+$}var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},g="Expected a function",x=NaN,b="[object Symbol]",w=/^\s+|\s+$/g,j=/^[-+]0x[0-9a-f]+$/i,k=/^0b[01]+$/i,S=/^0o[0-7]+$/i,C=parseInt,E=(typeof r>"u"?"undefined":m(r))=="object"&&r&&r.Object===Object&&r,z=(typeof self>"u"?"undefined":m(self))=="object"&&self&&self.Object===Object&&self,R=E||z||Function("return this")(),T=Object.prototype,A=T.toString,D=Math.max,F=Math.min,V=function(){return R.Date.now()};n.exports=o}).call(s,(function(){return this})())},function(n,s){(function(r){function a(V,$,q){function K(Ae){var re=W,Ce=te;return W=te=void 0,he=Ae,ce=V.apply(Ce,re)}function ee(Ae){return he=Ae,Y=setTimeout(I,$),be?K(Ae):ce}function L(Ae){var re=Ae-oe,Ce=Ae-he,Ze=$-re;return we?D(Ze,le-Ce):Ze}function P(Ae){var re=Ae-oe,Ce=Ae-he;return oe===void 0||re>=$||re<0||we&&Ce>=le}function I(){var Ae=F();return P(Ae)?G(Ae):void(Y=setTimeout(I,L(Ae)))}function G(Ae){return Y=void 0,xe&&W?K(Ae):(W=te=void 0,ce)}function U(){Y!==void 0&&clearTimeout(Y),he=0,W=oe=te=Y=void 0}function M(){return Y===void 0?ce:G(F())}function H(){var Ae=F(),re=P(Ae);if(W=arguments,te=this,oe=Ae,re){if(Y===void 0)return ee(oe);if(we)return Y=setTimeout(I,$),K(oe)}return Y===void 0&&(Y=setTimeout(I,$)),ce}var W,te,le,ce,Y,oe,he=0,be=!1,we=!1,xe=!0;if(typeof V!="function")throw new TypeError(m);return $=d($)||0,o(q)&&(be=!!q.leading,we="maxWait"in q,le=we?A(d(q.maxWait)||0,$):le,xe="trailing"in q?!!q.trailing:xe),H.cancel=U,H.flush=M,H}function o(V){var $=typeof V>"u"?"undefined":f(V);return!!V&&($=="object"||$=="function")}function l(V){return!!V&&(typeof V>"u"?"undefined":f(V))=="object"}function u(V){return(typeof V>"u"?"undefined":f(V))=="symbol"||l(V)&&T.call(V)==x}function d(V){if(typeof V=="number")return V;if(u(V))return g;if(o(V)){var $=typeof V.valueOf=="function"?V.valueOf():V;V=o($)?$+"":$}if(typeof V!="string")return V===0?V:+V;V=V.replace(b,"");var q=j.test(V);return q||k.test(V)?S(V.slice(2),q?2:8):w.test(V)?g:+V}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(V){return typeof V}:function(V){return V&&typeof Symbol=="function"&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},m="Expected a function",g=NaN,x="[object Symbol]",b=/^\s+|\s+$/g,w=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,k=/^0o[0-7]+$/i,S=parseInt,C=(typeof r>"u"?"undefined":f(r))=="object"&&r&&r.Object===Object&&r,E=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,z=C||E||Function("return this")(),R=Object.prototype,T=R.toString,A=Math.max,D=Math.min,F=function(){return z.Date.now()};n.exports=a}).call(s,(function(){return this})())},function(n,s){function r(f){var m=void 0,g=void 0;for(m=0;m<f.length;m+=1)if(g=f[m],g.dataset&&g.dataset.aos||g.children&&r(g.children))return!0;return!1}function a(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!a()}function l(f,m){var g=window.document,x=a(),b=new x(u);d=m,b.observe(g.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function u(f){f&&f.forEach(function(m){var g=Array.prototype.slice.call(m.addedNodes),x=Array.prototype.slice.call(m.removedNodes),b=g.concat(x);if(r(b))return d()})}Object.defineProperty(s,"__esModule",{value:!0});var d=function(){};s.default={isSupported:o,ready:l}},function(n,s){function r(g,x){if(!(g instanceof x))throw new TypeError("Cannot call a class as a function")}function a(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(s,"__esModule",{value:!0});var o=(function(){function g(x,b){for(var w=0;w<b.length;w++){var j=b[w];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(x,j.key,j)}}return function(x,b,w){return b&&g(x.prototype,b),w&&g(x,w),x}})(),l=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,d=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,f=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,m=(function(){function g(){r(this,g)}return o(g,[{key:"phone",value:function(){var x=a();return!(!l.test(x)&&!u.test(x.substr(0,4)))}},{key:"mobile",value:function(){var x=a();return!(!d.test(x)&&!f.test(x.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),g})();s.default=new m},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var r=function(o,l,u){var d=o.node.getAttribute("data-aos-once");l>o.position?o.node.classList.add("aos-animate"):typeof d<"u"&&(d==="false"||!u&&d!=="true")&&o.node.classList.remove("aos-animate")},a=function(o,l){var u=window.pageYOffset,d=window.innerHeight;o.forEach(function(f,m){r(f,d+u,l)})};s.default=a},function(n,s,r){function a(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(s,"__esModule",{value:!0});var o=r(12),l=a(o),u=function(d,f){return d.forEach(function(m,g){m.node.classList.add("aos-init"),m.position=(0,l.default)(m.node,f.offset)}),d};s.default=u},function(n,s,r){function a(d){return d&&d.__esModule?d:{default:d}}Object.defineProperty(s,"__esModule",{value:!0});var o=r(13),l=a(o),u=function(d,f){var m=0,g=0,x=window.innerHeight,b={offset:d.getAttribute("data-aos-offset"),anchor:d.getAttribute("data-aos-anchor"),anchorPlacement:d.getAttribute("data-aos-anchor-placement")};switch(b.offset&&!isNaN(b.offset)&&(g=parseInt(b.offset)),b.anchor&&document.querySelectorAll(b.anchor)&&(d=document.querySelectorAll(b.anchor)[0]),m=(0,l.default)(d).top,b.anchorPlacement){case"top-bottom":break;case"center-bottom":m+=d.offsetHeight/2;break;case"bottom-bottom":m+=d.offsetHeight;break;case"top-center":m+=x/2;break;case"bottom-center":m+=x/2+d.offsetHeight;break;case"center-center":m+=x/2+d.offsetHeight/2;break;case"top-top":m+=x;break;case"bottom-top":m+=d.offsetHeight+x;break;case"center-top":m+=d.offsetHeight/2+x}return b.anchorPlacement||b.offset||isNaN(f)||(g=f),m+g};s.default=u},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var r=function(a){for(var o=0,l=0;a&&!isNaN(a.offsetLeft)&&!isNaN(a.offsetTop);)o+=a.offsetLeft-(a.tagName!="BODY"?a.scrollLeft:0),l+=a.offsetTop-(a.tagName!="BODY"?a.scrollTop:0),a=a.offsetParent;return{top:l,left:o}};s.default=r},function(n,s){Object.defineProperty(s,"__esModule",{value:!0});var r=function(a){return a=a||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(a,function(o){return{node:o}})};s.default=r}])})})(iv)),iv.exports}var kge=jge();const Nge=ZS(kge);function Sge(){const t=ns().pathname.startsWith("/product/");return v.useEffect(()=>{Nge.init({duration:800,easing:"ease-out-cubic",once:!0,offset:50})},[]),i.jsxs("div",{className:"flex min-h-screen flex-col",children:[i.jsx(age,{}),i.jsx("main",{className:"flex-1",style:{paddingTop:"max(env(safe-area-inset-top, 0px) + 80px, 80px)"},children:i.jsx(QS,{})}),!t&&i.jsx(bge,{})]})}function p7(){const{user:e,loading:t}=Qt(),[n,s]=v.useState(!1),[r,a]=v.useState(!0);return v.useEffect(()=>{if(t)return;if(!e){s(!1),a(!1);return}(async()=>{const{data:l}=await de.from("profiles").select("is_admin").eq("id",e.id).maybeSingle();s((l==null?void 0:l.is_admin)===!0),a(!1)})()},[e,t]),{isAdmin:n,loading:t||r}}const g7=v.createContext(null);function _ge({children:e}){const{user:t}=Qt(),[n,s]=v.useState([]),[r,a]=v.useState(null),[o,l]=v.useState(!0);v.useEffect(()=>{t?u():(s([]),a(null),l(!1))},[t]);const u=async()=>{if(t)try{const[{data:f},{data:m}]=await Promise.all([de.from("course_purchases").select("course_id").eq("user_id",t.id),de.from("course_enrollments").select("course_id").eq("user_id",t.id)]),g=new Set([...(f||[]).map(b=>b.course_id),...(m||[]).map(b=>b.course_id)]);if(g.size===0){s([]),l(!1);return}const{data:x}=await de.from("courses").select("id, title, description, thumbnail_url, lessons_count, duration, level, instructor, category, order_index").in("id",Array.from(g)).eq("published",!0).order("order_index");s(x||[])}catch(f){console.error("Error fetching user courses:",f)}finally{l(!1)}},d=n.find(f=>f.id===r)||null;return i.jsx(g7.Provider,{value:{courses:n,selectedCourseId:r,setSelectedCourseId:a,selectedCourse:d,loading:o},children:e})}function x7(){const e=v.useContext(g7);if(!e)throw new Error("useSelectedCourse must be used within a SelectedCourseProvider");return e}const Cge=n$,zR=rC;function Ege(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}const v7=Z.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),kg=()=>{const e=Z.useContext(v7);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Ege(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Tge(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function zge(){return HC(/^Mac/)}function Age(){return HC(/^iPhone/)}function AR(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Mge(){return HC(/^iPad/)||zge()&&navigator.maxTouchPoints>1}function y7(){return Age()||Mge()}function HC(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Rge=24,Oge=typeof window<"u"?v.useLayoutEffect:v.useEffect;function MR(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Rk=typeof document<"u"&&window.visualViewport;function RR(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function b7(e){for(RR(e)&&(e=e.parentElement);e&&!RR(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Dge=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let x0=0,Ok;function Pge(e={}){let{isDisabled:t}=e;Oge(()=>{if(!t)return x0++,x0===1&&y7()&&(Ok=Ige()),()=>{x0--,x0===0&&(Ok==null||Ok())}},[t])}function Ige(){let e,t=0,n=m=>{e=b7(m.target),!(e===document.documentElement&&e===document.body)&&(t=m.changedTouches[0].pageY)},s=m=>{if(!e||e===document.documentElement||e===document.body){m.preventDefault();return}let g=m.changedTouches[0].pageY,x=e.scrollTop,b=e.scrollHeight-e.clientHeight;b!==0&&((x<=0&&g>t||x>=b&&g<t)&&m.preventDefault(),t=g)},r=m=>{let g=m.target;A2(g)&&g!==document.activeElement&&(m.preventDefault(),g.style.transform="translateY(-2000px)",g.focus(),requestAnimationFrame(()=>{g.style.transform=""}))},a=m=>{let g=m.target;A2(g)&&(g.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{g.style.transform="",Rk&&(Rk.height<window.innerHeight?requestAnimationFrame(()=>{OR(g)}):Rk.addEventListener("resize",()=>OR(g),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},l=window.pageXOffset,u=window.pageYOffset,d=MR(Lge(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=MR(cm(document,"touchstart",n,{passive:!1,capture:!0}),cm(document,"touchmove",s,{passive:!1,capture:!0}),cm(document,"touchend",r,{passive:!1,capture:!0}),cm(document,"focus",a,!0),cm(window,"scroll",o));return()=>{d(),f(),window.scrollTo(l,u)}}function Lge(e,t,n){let s=e.style[t];return e.style[t]=n,()=>{e.style[t]=s}}function cm(e,t,n,s){return e.addEventListener(t,n,s),()=>{e.removeEventListener(t,n,s)}}function OR(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let n=b7(e);if(n!==document.documentElement&&n!==document.body&&n!==e){let s=n.getBoundingClientRect().top,r=e.getBoundingClientRect().top,a=e.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+Rge;a>o&&(n.scrollTop+=r-s)}e=n.parentElement}}function A2(e){return e instanceof HTMLInputElement&&!Dge.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function $ge(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Vge(...e){return t=>e.forEach(n=>$ge(n,t))}function w7(...e){return v.useCallback(Vge(...e),e)}const j7=new WeakMap;function Es(e,t,n=!1){if(!e||!(e instanceof HTMLElement))return;let s={};Object.entries(t).forEach(([r,a])=>{if(r.startsWith("--")){e.style.setProperty(r,a);return}s[r]=e.style[r],e.style[r]=a}),!n&&j7.set(e,s)}function Bge(e,t){if(!e||!(e instanceof HTMLElement))return;let n=j7.get(e);n&&(e.style[t]=n[t])}const xs=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function v0(e,t){if(!e)return null;const n=window.getComputedStyle(e),s=n.transform||n.webkitTransform||n.mozTransform;let r=s.match(/^matrix3d\((.+)\)$/);return r?parseFloat(r[1].split(", ")[xs(t)?13:12]):(r=s.match(/^matrix\((.+)\)$/),r?parseFloat(r[1].split(", ")[xs(t)?5:4]):null)}function Fge(e){return 8*(Math.log(e+1)-2)}function Dk(e,t){if(!e)return()=>{};const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}function Uge(...e){return(...t)=>{for(const n of e)typeof n=="function"&&n(...t)}}const Bn={DURATION:.5,EASE:[.32,.72,0,1]},k7=.4,Hge=.25,qge=100,N7=8,$c=16,M2=26,Pk="vaul-dragging";function S7(e){const t=Z.useRef(e);return Z.useEffect(()=>{t.current=e}),Z.useMemo(()=>(...n)=>t.current==null?void 0:t.current.call(t,...n),[])}function Zge({defaultProp:e,onChange:t}){const n=Z.useState(e),[s]=n,r=Z.useRef(s),a=S7(t);return Z.useEffect(()=>{r.current!==s&&(a(s),r.current=s)},[s,r,a]),n}function _7({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,r]=Zge({defaultProp:t,onChange:n}),a=e!==void 0,o=a?e:s,l=S7(n),u=Z.useCallback(d=>{if(a){const m=typeof d=="function"?d(e):d;m!==e&&l(m)}else r(d)},[a,e,r,l]);return[o,u]}function Wge({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:n,drawerRef:s,overlayRef:r,fadeFromIndex:a,onSnapPointChange:o,direction:l="bottom",container:u,snapToSequentialPoint:d}){const[f,m]=_7({prop:e,defaultProp:n==null?void 0:n[0],onChange:t}),[g,x]=Z.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);Z.useEffect(()=>{function T(){x({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",T),()=>window.removeEventListener("resize",T)},[]);const b=Z.useMemo(()=>f===(n==null?void 0:n[n.length-1])||null,[n,f]),w=Z.useMemo(()=>{var T;return(T=n==null?void 0:n.findIndex(A=>A===f))!=null?T:null},[n,f]),j=n&&n.length>0&&(a||a===0)&&!Number.isNaN(a)&&n[a]===f||!n,k=Z.useMemo(()=>{const T=u?{width:u.getBoundingClientRect().width,height:u.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var A;return(A=n==null?void 0:n.map(D=>{const F=typeof D=="string";let V=0;if(F&&(V=parseInt(D,10)),xs(l)){const q=F?V:g?D*T.height:0;return g?l==="bottom"?T.height-q:-T.height+q:q}const $=F?V:g?D*T.width:0;return g?l==="right"?T.width-$:-T.width+$:$}))!=null?A:[]},[n,g,u]),S=Z.useMemo(()=>w!==null?k==null?void 0:k[w]:null,[k,w]),C=Z.useCallback(T=>{var A;const D=(A=k==null?void 0:k.findIndex(F=>F===T))!=null?A:null;o(D),Es(s.current,{transition:`transform ${Bn.DURATION}s cubic-bezier(${Bn.EASE.join(",")})`,transform:xs(l)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`}),k&&D!==k.length-1&&a!==void 0&&D!==a&&D<a?Es(r.current,{transition:`opacity ${Bn.DURATION}s cubic-bezier(${Bn.EASE.join(",")})`,opacity:"0"}):Es(r.current,{transition:`opacity ${Bn.DURATION}s cubic-bezier(${Bn.EASE.join(",")})`,opacity:"1"}),m(n==null?void 0:n[Math.max(D,0)])},[s.current,n,k,a,r,m]);Z.useEffect(()=>{if(f||e){var T;const A=(T=n==null?void 0:n.findIndex(D=>D===e||D===f))!=null?T:-1;k&&A!==-1&&typeof k[A]=="number"&&C(k[A])}},[f,e,n,k,C]);function E({draggedDistance:T,closeDrawer:A,velocity:D,dismissible:F}){if(a===void 0)return;const V=l==="bottom"||l==="right"?(S??0)-T:(S??0)+T,$=w===a-1,q=w===0,K=T>0;if($&&Es(r.current,{transition:`opacity ${Bn.DURATION}s cubic-bezier(${Bn.EASE.join(",")})`}),!d&&D>2&&!K){F?A():C(k[0]);return}if(!d&&D>2&&K&&k&&n){C(k[n.length-1]);return}const ee=k==null?void 0:k.reduce((P,I)=>typeof P!="number"||typeof I!="number"?P:Math.abs(I-V)<Math.abs(P-V)?I:P),L=xs(l)?window.innerHeight:window.innerWidth;if(D>k7&&Math.abs(T)<L*.4){const P=K?1:-1;if(P>0&&b&&n){C(k[n.length-1]);return}if(q&&P<0&&F&&A(),w===null)return;C(k[w+P]);return}C(ee)}function z({draggedDistance:T}){if(S===null)return;const A=l==="bottom"||l==="right"?S-T:S+T;(l==="bottom"||l==="right")&&A<k[k.length-1]||(l==="top"||l==="left")&&A>k[k.length-1]||Es(s.current,{transform:xs(l)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`})}function R(T,A){if(!n||typeof w!="number"||!k||a===void 0)return null;const D=w===a-1;if(w>=a&&A)return 0;if(D&&!A)return 1;if(!j&&!D)return null;const V=D?w+1:w-1,$=D?k[V]-k[V-1]:k[V+1]-k[V],q=T/Math.abs($);return D?1-q:q}return{isLastSnapPoint:b,activeSnapPoint:f,shouldFade:j,getPercentageDragged:R,setActiveSnapPoint:m,activeSnapPointIndex:w,onRelease:E,onDrag:z,snapPointsOffset:k}}const Kge=()=>()=>{};function Gge(){const{direction:e,isOpen:t,shouldScaleBackground:n,setBackgroundColorOnScale:s,noBodyStyles:r}=kg(),a=Z.useRef(null),o=v.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-M2)/window.innerWidth}Z.useEffect(()=>{if(t&&n){a.current&&clearTimeout(a.current);const u=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!u)return;Uge(s&&!r?Dk(document.body,{background:"black"}):Kge,Dk(u,{transformOrigin:xs(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Bn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Bn.EASE.join(",")})`}));const d=Dk(u,{borderRadius:`${N7}px`,overflow:"hidden",...xs(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),a.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Bn.DURATION*1e3)}}},[t,n,o])}let um=null;function Yge({isOpen:e,modal:t,nested:n,hasBeenOpened:s,preventScrollRestoration:r,noBodyStyles:a}){const[o,l]=Z.useState(()=>typeof window<"u"?window.location.href:""),u=Z.useRef(0),d=Z.useCallback(()=>{if(AR()&&um===null&&e&&!a){um={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:m,innerHeight:g}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-u.current}px`,left:`${-m}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const x=g-window.innerHeight;x&&u.current>=g&&(document.body.style.top=`${-(u.current+x)}px`)}),300)}},[e]),f=Z.useCallback(()=>{if(AR()&&um!==null&&!a){const m=-parseInt(document.body.style.top,10),g=-parseInt(document.body.style.left,10);Object.assign(document.body.style,um),window.requestAnimationFrame(()=>{if(r&&o!==window.location.href){l(window.location.href);return}window.scrollTo(g,m)}),um=null}},[o]);return Z.useEffect(()=>{function m(){u.current=window.scrollY}return m(),window.addEventListener("scroll",m),()=>{window.removeEventListener("scroll",m)}},[]),Z.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[t,f]),Z.useEffect(()=>{n||!s||(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout(()=>{f()},500)):f())},[e,s,o,t,n,d,f]),{restorePositionSetting:f}}function Jge({open:e,onOpenChange:t,children:n,onDrag:s,onRelease:r,snapPoints:a,shouldScaleBackground:o=!1,setBackgroundColorOnScale:l=!0,closeThreshold:u=Hge,scrollLockTimeout:d=qge,dismissible:f=!0,handleOnly:m=!1,fadeFromIndex:g=a&&a.length-1,activeSnapPoint:x,setActiveSnapPoint:b,fixed:w,modal:j=!0,onClose:k,nested:S,noBodyStyles:C=!1,direction:E="bottom",defaultOpen:z=!1,disablePreventScroll:R=!0,snapToSequentialPoint:T=!1,preventScrollRestoration:A=!1,repositionInputs:D=!0,onAnimationEnd:F,container:V,autoFocus:$=!1}){var q,K;const[ee=!1,L]=_7({defaultProp:z,prop:e,onChange:Ye=>{t==null||t(Ye),!Ye&&!S&&Be(),setTimeout(()=>{F==null||F(Ye)},Bn.DURATION*1e3),Ye&&!j&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),Ye||(document.body.style.pointerEvents="auto")}}),[P,I]=Z.useState(!1),[G,U]=Z.useState(!1),[M,H]=Z.useState(!1),W=Z.useRef(null),te=Z.useRef(null),le=Z.useRef(null),ce=Z.useRef(null),Y=Z.useRef(null),oe=Z.useRef(!1),he=Z.useRef(null),be=Z.useRef(0),we=Z.useRef(!1),xe=Z.useRef(!z),Ae=Z.useRef(0),re=Z.useRef(null),Ce=Z.useRef(((q=re.current)==null?void 0:q.getBoundingClientRect().height)||0),Ze=Z.useRef(((K=re.current)==null?void 0:K.getBoundingClientRect().width)||0),it=Z.useRef(0),jt=Z.useCallback(Ye=>{a&&Ye===fe.length-1&&(te.current=new Date)},[]),{activeSnapPoint:We,activeSnapPointIndex:ct,setActiveSnapPoint:J,onRelease:ae,snapPointsOffset:fe,onDrag:ze,shouldFade:Me,getPercentageDragged:_e}=Wge({snapPoints:a,activeSnapPointProp:x,setActiveSnapPointProp:b,drawerRef:re,fadeFromIndex:g,overlayRef:W,onSnapPointChange:jt,direction:E,container:V,snapToSequentialPoint:T});Pge({isDisabled:!ee||G||!j||M||!P||!D||!R});const{restorePositionSetting:Be}=Yge({isOpen:ee,modal:j,nested:S??!1,hasBeenOpened:P,preventScrollRestoration:A,noBodyStyles:C});function ot(){return(window.innerWidth-M2)/window.innerWidth}function Ee(Ye){var Ct,Dt;!f&&!a||re.current&&!re.current.contains(Ye.target)||(Ce.current=((Ct=re.current)==null?void 0:Ct.getBoundingClientRect().height)||0,Ze.current=((Dt=re.current)==null?void 0:Dt.getBoundingClientRect().width)||0,U(!0),le.current=new Date,y7()&&window.addEventListener("touchend",()=>oe.current=!1,{once:!0}),Ye.target.setPointerCapture(Ye.pointerId),be.current=xs(E)?Ye.pageY:Ye.pageX)}function Fe(Ye,Ct){var Dt;let at=Ye;const gt=(Dt=window.getSelection())==null?void 0:Dt.toString(),qe=re.current?v0(re.current,E):null,xt=new Date;if(at.tagName==="SELECT"||at.hasAttribute("data-vaul-no-drag")||at.closest("[data-vaul-no-drag]"))return!1;if(E==="right"||E==="left")return!0;if(te.current&&xt.getTime()-te.current.getTime()<500)return!1;if(qe!==null&&(E==="bottom"?qe>0:qe<0))return!0;if(gt&&gt.length>0)return!1;if(Y.current&&xt.getTime()-Y.current.getTime()<d&&qe===0||Ct)return Y.current=xt,!1;for(;at;){if(at.scrollHeight>at.clientHeight){if(at.scrollTop!==0)return Y.current=new Date,!1;if(at.getAttribute("role")==="dialog")return!0}at=at.parentNode}return!0}function tt(Ye){if(re.current&&G){const Ct=E==="bottom"||E==="right"?1:-1,Dt=(be.current-(xs(E)?Ye.pageY:Ye.pageX))*Ct,at=Dt>0,gt=a&&!f&&!at;if(gt&&ct===0)return;const qe=Math.abs(Dt),xt=document.querySelector("[data-vaul-drawer-wrapper]"),zt=E==="bottom"||E==="top"?Ce.current:Ze.current;let Et=qe/zt;const Nn=_e(qe,at);if(Nn!==null&&(Et=Nn),gt&&Et>=1||!oe.current&&!Fe(Ye.target,at))return;if(re.current.classList.add(Pk),oe.current=!0,Es(re.current,{transition:"none"}),Es(W.current,{transition:"none"}),a&&ze({draggedDistance:Dt}),at&&!a){const At=Fge(Dt),as=Math.min(At*-1,0)*Ct;Es(re.current,{transform:xs(E)?`translate3d(0, ${as}px, 0)`:`translate3d(${as}px, 0, 0)`});return}const Vt=1-Et;if((Me||g&&ct===g-1)&&(s==null||s(Ye,Et),Es(W.current,{opacity:`${Vt}`,transition:"none"},!0)),xt&&W.current&&o){const At=Math.min(ot()+Et*(1-ot()),1),as=8-Et*8,gn=Math.max(0,14-Et*14);Es(xt,{borderRadius:`${as}px`,transform:xs(E)?`scale(${At}) translate3d(0, ${gn}px, 0)`:`scale(${At}) translate3d(${gn}px, 0, 0)`,transition:"none"},!0)}if(!a){const At=qe*Ct;Es(re.current,{transform:xs(E)?`translate3d(0, ${At}px, 0)`:`translate3d(${At}px, 0, 0)`})}}}Z.useEffect(()=>{window.requestAnimationFrame(()=>{xe.current=!0})},[]),Z.useEffect(()=>{var Ye;function Ct(){if(!re.current||!D)return;const Dt=document.activeElement;if(A2(Dt)||we.current){var at;const gt=((at=window.visualViewport)==null?void 0:at.height)||0,qe=window.innerHeight;let xt=qe-gt;const zt=re.current.getBoundingClientRect().height||0,Et=zt>qe*.8;it.current||(it.current=zt);const Nn=re.current.getBoundingClientRect().top;if(Math.abs(Ae.current-xt)>60&&(we.current=!we.current),a&&a.length>0&&fe&&ct){const Vt=fe[ct]||0;xt+=Vt}if(Ae.current=xt,zt>gt||we.current){const Vt=re.current.getBoundingClientRect().height;let At=Vt;Vt>gt&&(At=gt-(Et?Nn:M2)),w?re.current.style.height=`${Vt-Math.max(xt,0)}px`:re.current.style.height=`${Math.max(At,gt-Nn)}px`}else Tge()||(re.current.style.height=`${it.current}px`);a&&a.length>0&&!we.current?re.current.style.bottom="0px":re.current.style.bottom=`${Math.max(xt,0)}px`}}return(Ye=window.visualViewport)==null||Ye.addEventListener("resize",Ct),()=>{var Dt;return(Dt=window.visualViewport)==null?void 0:Dt.removeEventListener("resize",Ct)}},[ct,a,fe]);function Ge(Ye){kt(),k==null||k(),Ye||L(!1),setTimeout(()=>{a&&J(a[0])},Bn.DURATION*1e3)}function mt(){if(!re.current)return;const Ye=document.querySelector("[data-vaul-drawer-wrapper]"),Ct=v0(re.current,E);Es(re.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Bn.DURATION}s cubic-bezier(${Bn.EASE.join(",")})`}),Es(W.current,{transition:`opacity ${Bn.DURATION}s cubic-bezier(${Bn.EASE.join(",")})`,opacity:"1"}),o&&Ct&&Ct>0&&ee&&Es(Ye,{borderRadius:`${N7}px`,overflow:"hidden",...xs(E)?{transform:`scale(${ot()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${ot()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Bn.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Bn.EASE.join(",")})`},!0)}function kt(){!G||!re.current||(re.current.classList.remove(Pk),oe.current=!1,U(!1),ce.current=new Date)}function Mt(Ye){if(!G||!re.current)return;re.current.classList.remove(Pk),oe.current=!1,U(!1),ce.current=new Date;const Ct=v0(re.current,E);if(!Ye||!Fe(Ye.target,!1)||!Ct||Number.isNaN(Ct)||le.current===null)return;const Dt=ce.current.getTime()-le.current.getTime(),at=be.current-(xs(E)?Ye.pageY:Ye.pageX),gt=Math.abs(at)/Dt;if(gt>.05&&(H(!0),setTimeout(()=>{H(!1)},200)),a){ae({draggedDistance:at*(E==="bottom"||E==="right"?1:-1),closeDrawer:Ge,velocity:gt,dismissible:f}),r==null||r(Ye,!0);return}if(E==="bottom"||E==="right"?at>0:at<0){mt(),r==null||r(Ye,!0);return}if(gt>k7){Ge(),r==null||r(Ye,!1);return}var qe;const xt=Math.min((qe=re.current.getBoundingClientRect().height)!=null?qe:0,window.innerHeight);var zt;const Et=Math.min((zt=re.current.getBoundingClientRect().width)!=null?zt:0,window.innerWidth),Nn=E==="left"||E==="right";if(Math.abs(Ct)>=(Nn?Et:xt)*u){Ge(),r==null||r(Ye,!1);return}r==null||r(Ye,!0),mt()}Z.useEffect(()=>(ee&&(Es(document.documentElement,{scrollBehavior:"auto"}),te.current=new Date),()=>{Bge(document.documentElement,"scrollBehavior")}),[ee]);function on(Ye){const Ct=Ye?(window.innerWidth-$c)/window.innerWidth:1,Dt=Ye?-$c:0;he.current&&window.clearTimeout(he.current),Es(re.current,{transition:`transform ${Bn.DURATION}s cubic-bezier(${Bn.EASE.join(",")})`,transform:xs(E)?`scale(${Ct}) translate3d(0, ${Dt}px, 0)`:`scale(${Ct}) translate3d(${Dt}px, 0, 0)`}),!Ye&&re.current&&(he.current=setTimeout(()=>{const at=v0(re.current,E);Es(re.current,{transition:"none",transform:xs(E)?`translate3d(0, ${at}px, 0)`:`translate3d(${at}px, 0, 0)`})},500))}function pr(Ye,Ct){if(Ct<0)return;const Dt=(window.innerWidth-$c)/window.innerWidth,at=Dt+Ct*(1-Dt),gt=-$c+Ct*$c;Es(re.current,{transform:xs(E)?`scale(${at}) translate3d(0, ${gt}px, 0)`:`scale(${at}) translate3d(${gt}px, 0, 0)`,transition:"none"})}function Wn(Ye,Ct){const Dt=xs(E)?window.innerHeight:window.innerWidth,at=Ct?(Dt-$c)/Dt:1,gt=Ct?-$c:0;Ct&&Es(re.current,{transition:`transform ${Bn.DURATION}s cubic-bezier(${Bn.EASE.join(",")})`,transform:xs(E)?`scale(${at}) translate3d(0, ${gt}px, 0)`:`scale(${at}) translate3d(${gt}px, 0, 0)`})}return Z.useEffect(()=>{j||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[j]),Z.createElement(eC,{defaultOpen:z,onOpenChange:Ye=>{!f&&!Ye||(Ye?I(!0):Ge(!0),L(Ye))},open:ee},Z.createElement(v7.Provider,{value:{activeSnapPoint:We,snapPoints:a,setActiveSnapPoint:J,drawerRef:re,overlayRef:W,onOpenChange:t,onPress:Ee,onRelease:Mt,onDrag:tt,dismissible:f,shouldAnimate:xe,handleOnly:m,isOpen:ee,isDragging:G,shouldFade:Me,closeDrawer:Ge,onNestedDrag:pr,onNestedOpenChange:on,onNestedRelease:Wn,keyboardIsOpen:we,modal:j,snapPointsOffset:fe,activeSnapPointIndex:ct,direction:E,shouldScaleBackground:o,setBackgroundColorOnScale:l,noBodyStyles:C,container:V,autoFocus:$}},n))}const C7=Z.forwardRef(function({...e},t){const{overlayRef:n,snapPoints:s,onRelease:r,shouldFade:a,isOpen:o,modal:l,shouldAnimate:u}=kg(),d=w7(t,n),f=s&&s.length>0;if(!l)return null;const m=Z.useCallback(g=>r(g),[r]);return Z.createElement(dg,{onMouseUp:m,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":o&&f?"true":"false","data-vaul-snap-points-overlay":o&&a?"true":"false","data-vaul-animate":u!=null&&u.current?"true":"false",...e})});C7.displayName="Drawer.Overlay";const E7=Z.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:n,...s},r){const{drawerRef:a,onPress:o,onRelease:l,onDrag:u,keyboardIsOpen:d,snapPointsOffset:f,activeSnapPointIndex:m,modal:g,isOpen:x,direction:b,snapPoints:w,container:j,handleOnly:k,shouldAnimate:S,autoFocus:C}=kg(),[E,z]=Z.useState(!1),R=w7(r,a),T=Z.useRef(null),A=Z.useRef(null),D=Z.useRef(!1),F=w&&w.length>0;Gge();const V=(q,K,ee=0)=>{if(D.current)return!0;const L=Math.abs(q.y),P=Math.abs(q.x),I=P>L,G=["bottom","right"].includes(K)?1:-1;if(K==="left"||K==="right"){if(!(q.x*G<0)&&P>=0&&P<=ee)return I}else if(!(q.y*G<0)&&L>=0&&L<=ee)return!I;return D.current=!0,!0};Z.useEffect(()=>{F&&window.requestAnimationFrame(()=>{z(!0)})},[]);function $(q){T.current=null,D.current=!1,l(q)}return Z.createElement(hg,{"data-vaul-drawer-direction":b,"data-vaul-drawer":"","data-vaul-delayed-snap-points":E?"true":"false","data-vaul-snap-points":x&&F?"true":"false","data-vaul-custom-container":j?"true":"false","data-vaul-animate":S!=null&&S.current?"true":"false",...s,ref:R,style:f&&f.length>0?{"--snap-point-height":`${f[m??0]}px`,...t}:t,onPointerDown:q=>{k||(s.onPointerDown==null||s.onPointerDown.call(s,q),T.current={x:q.pageX,y:q.pageY},o(q))},onOpenAutoFocus:q=>{n==null||n(q),C||q.preventDefault()},onPointerDownOutside:q=>{if(e==null||e(q),!g||q.defaultPrevented){q.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:q=>{if(!g){q.preventDefault();return}},onPointerMove:q=>{if(A.current=q,k||(s.onPointerMove==null||s.onPointerMove.call(s,q),!T.current))return;const K=q.pageY-T.current.y,ee=q.pageX-T.current.x,L=q.pointerType==="touch"?10:2;V({x:ee,y:K},b,L)?u(q):(Math.abs(ee)>L||Math.abs(K)>L)&&(T.current=null)},onPointerUp:q=>{s.onPointerUp==null||s.onPointerUp.call(s,q),T.current=null,D.current=!1,l(q)},onPointerOut:q=>{s.onPointerOut==null||s.onPointerOut.call(s,q),$(A.current)},onContextMenu:q=>{s.onContextMenu==null||s.onContextMenu.call(s,q),A.current&&$(A.current)}})});E7.displayName="Drawer.Content";const Xge=250,Qge=120,exe=Z.forwardRef(function({preventCycle:e=!1,children:t,...n},s){const{closeDrawer:r,isDragging:a,snapPoints:o,activeSnapPoint:l,setActiveSnapPoint:u,dismissible:d,handleOnly:f,isOpen:m,onPress:g,onDrag:x}=kg(),b=Z.useRef(null),w=Z.useRef(!1);function j(){if(w.current){C();return}window.setTimeout(()=>{k()},Qge)}function k(){if(a||e||w.current){C();return}if(C(),!o||o.length===0){d||r();return}if(l===o[o.length-1]&&d){r();return}const z=o.findIndex(T=>T===l);if(z===-1)return;const R=o[z+1];u(R)}function S(){b.current=window.setTimeout(()=>{w.current=!0},Xge)}function C(){b.current&&window.clearTimeout(b.current),w.current=!1}return Z.createElement("div",{onClick:j,onPointerCancel:C,onPointerDown:E=>{f&&g(E),S()},onPointerMove:E=>{f&&x(E)},ref:s,"data-vaul-drawer-visible":m?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},Z.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});exe.displayName="Drawer.Handle";function txe(e){const t=kg(),{container:n=t.container,...s}=e;return Z.createElement(tC,{container:n,...s})}const Ho={Root:Jge,Content:E7,Overlay:C7,Portal:txe,Title:fg,Description:mg},T7=({shouldScaleBackground:e=!0,...t})=>i.jsx(Ho.Root,{shouldScaleBackground:e,...t});T7.displayName="Drawer";const nxe=Ho.Portal,z7=v.forwardRef(({className:e,...t},n)=>i.jsx(Ho.Overlay,{ref:n,className:se("fixed inset-0 z-50 bg-black/80",e),...t}));z7.displayName=Ho.Overlay.displayName;const A7=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(nxe,{children:[i.jsx(z7,{}),i.jsxs(Ho.Content,{ref:s,className:se("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",e),...n,children:[i.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),t]})]}));A7.displayName="DrawerContent";const M7=({className:e,...t})=>i.jsx("div",{className:se("grid gap-1.5 p-4 text-center sm:text-left",e),...t});M7.displayName="DrawerHeader";const R7=v.forwardRef(({className:e,...t},n)=>i.jsx(Ho.Title,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));R7.displayName=Ho.Title.displayName;const sxe=v.forwardRef(({className:e,...t},n)=>i.jsx(Ho.Description,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));sxe.displayName=Ho.Description.displayName;function R2(e,[t,n]){return Math.min(n,Math.max(t,e))}function rxe(e,t){return v.useReducer((n,s)=>t[n][s]??n,e)}var qC="ScrollArea",[O7]=fr(qC),[ixe,Bi]=O7(qC),D7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:s="hover",dir:r,scrollHideDelay:a=600,...o}=e,[l,u]=v.useState(null),[d,f]=v.useState(null),[m,g]=v.useState(null),[x,b]=v.useState(null),[w,j]=v.useState(null),[k,S]=v.useState(0),[C,E]=v.useState(0),[z,R]=v.useState(!1),[T,A]=v.useState(!1),D=St(t,V=>u(V)),F=lc(r);return i.jsx(ixe,{scope:n,type:s,dir:F,scrollHideDelay:a,scrollArea:l,viewport:d,onViewportChange:f,content:m,onContentChange:g,scrollbarX:x,onScrollbarXChange:b,scrollbarXEnabled:z,onScrollbarXEnabledChange:R,scrollbarY:w,onScrollbarYChange:j,scrollbarYEnabled:T,onScrollbarYEnabledChange:A,onCornerWidthChange:S,onCornerHeightChange:E,children:i.jsx(Xe.div,{dir:F,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":k+"px","--radix-scroll-area-corner-height":C+"px",...e.style}})})});D7.displayName=qC;var P7="ScrollAreaViewport",I7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:s,nonce:r,...a}=e,o=Bi(P7,n),l=v.useRef(null),u=St(t,l,o.onViewportChange);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...a,ref:u,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:i.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:s})})]})});I7.displayName=P7;var Qa="ScrollAreaScrollbar",ZC=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Bi(Qa,e.__scopeScrollArea),{onScrollbarXEnabledChange:a,onScrollbarYEnabledChange:o}=r,l=e.orientation==="horizontal";return v.useEffect(()=>(l?a(!0):o(!0),()=>{l?a(!1):o(!1)}),[l,a,o]),r.type==="hover"?i.jsx(axe,{...s,ref:t,forceMount:n}):r.type==="scroll"?i.jsx(oxe,{...s,ref:t,forceMount:n}):r.type==="auto"?i.jsx(L7,{...s,ref:t,forceMount:n}):r.type==="always"?i.jsx(WC,{...s,ref:t}):null});ZC.displayName=Qa;var axe=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Bi(Qa,e.__scopeScrollArea),[a,o]=v.useState(!1);return v.useEffect(()=>{const l=r.scrollArea;let u=0;if(l){const d=()=>{window.clearTimeout(u),o(!0)},f=()=>{u=window.setTimeout(()=>o(!1),r.scrollHideDelay)};return l.addEventListener("pointerenter",d),l.addEventListener("pointerleave",f),()=>{window.clearTimeout(u),l.removeEventListener("pointerenter",d),l.removeEventListener("pointerleave",f)}}},[r.scrollArea,r.scrollHideDelay]),i.jsx(ss,{present:n||a,children:i.jsx(L7,{"data-state":a?"visible":"hidden",...s,ref:t})})}),oxe=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=Bi(Qa,e.__scopeScrollArea),a=e.orientation==="horizontal",o=Ab(()=>u("SCROLL_END"),100),[l,u]=rxe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(l==="idle"){const d=window.setTimeout(()=>u("HIDE"),r.scrollHideDelay);return()=>window.clearTimeout(d)}},[l,r.scrollHideDelay,u]),v.useEffect(()=>{const d=r.viewport,f=a?"scrollLeft":"scrollTop";if(d){let m=d[f];const g=()=>{const x=d[f];m!==x&&(u("SCROLL"),o()),m=x};return d.addEventListener("scroll",g),()=>d.removeEventListener("scroll",g)}},[r.viewport,a,u,o]),i.jsx(ss,{present:n||l!=="hidden",children:i.jsx(WC,{"data-state":l==="hidden"?"hidden":"visible",...s,ref:t,onPointerEnter:Ie(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Ie(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),L7=v.forwardRef((e,t)=>{const n=Bi(Qa,e.__scopeScrollArea),{forceMount:s,...r}=e,[a,o]=v.useState(!1),l=e.orientation==="horizontal",u=Ab(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(l?d:f)}},10);return Ah(n.viewport,u),Ah(n.content,u),i.jsx(ss,{present:s||a,children:i.jsx(WC,{"data-state":a?"visible":"hidden",...r,ref:t})})}),WC=v.forwardRef((e,t)=>{const{orientation:n="vertical",...s}=e,r=Bi(Qa,e.__scopeScrollArea),a=v.useRef(null),o=v.useRef(0),[l,u]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=U7(l.viewport,l.content),f={...s,sizes:l,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:g=>a.current=g,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:g=>o.current=g};function m(g,x){return fxe(g,o.current,l,x)}return n==="horizontal"?i.jsx(lxe,{...f,ref:t,onThumbPositionChange:()=>{if(r.viewport&&a.current){const g=r.viewport.scrollLeft,x=DR(g,l,r.dir);a.current.style.transform=`translate3d(${x}px, 0, 0)`}},onWheelScroll:g=>{r.viewport&&(r.viewport.scrollLeft=g)},onDragScroll:g=>{r.viewport&&(r.viewport.scrollLeft=m(g,r.dir))}}):n==="vertical"?i.jsx(cxe,{...f,ref:t,onThumbPositionChange:()=>{if(r.viewport&&a.current){const g=r.viewport.scrollTop,x=DR(g,l);a.current.style.transform=`translate3d(0, ${x}px, 0)`}},onWheelScroll:g=>{r.viewport&&(r.viewport.scrollTop=g)},onDragScroll:g=>{r.viewport&&(r.viewport.scrollTop=m(g))}}):null}),lxe=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,a=Bi(Qa,e.__scopeScrollArea),[o,l]=v.useState(),u=v.useRef(null),d=St(t,u,a.onScrollbarXChange);return v.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),i.jsx(V7,{"data-orientation":"horizontal",...r,ref:d,sizes:n,style:{bottom:0,left:a.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:a.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":zb(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.x),onDragScroll:f=>e.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollLeft+f.deltaX;e.onWheelScroll(g),q7(g,m)&&f.preventDefault()}},onResize:()=>{u.current&&a.viewport&&o&&s({content:a.viewport.scrollWidth,viewport:a.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:Fv(o.paddingLeft),paddingEnd:Fv(o.paddingRight)}})}})}),cxe=v.forwardRef((e,t)=>{const{sizes:n,onSizesChange:s,...r}=e,a=Bi(Qa,e.__scopeScrollArea),[o,l]=v.useState(),u=v.useRef(null),d=St(t,u,a.onScrollbarYChange);return v.useEffect(()=>{u.current&&l(getComputedStyle(u.current))},[u]),i.jsx(V7,{"data-orientation":"vertical",...r,ref:d,sizes:n,style:{top:0,right:a.dir==="ltr"?0:void 0,left:a.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":zb(n)+"px",...e.style},onThumbPointerDown:f=>e.onThumbPointerDown(f.y),onDragScroll:f=>e.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(a.viewport){const g=a.viewport.scrollTop+f.deltaY;e.onWheelScroll(g),q7(g,m)&&f.preventDefault()}},onResize:()=>{u.current&&a.viewport&&o&&s({content:a.viewport.scrollHeight,viewport:a.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:Fv(o.paddingTop),paddingEnd:Fv(o.paddingBottom)}})}})}),[uxe,$7]=O7(Qa),V7=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:s,hasThumb:r,onThumbChange:a,onThumbPointerUp:o,onThumbPointerDown:l,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:f,onResize:m,...g}=e,x=Bi(Qa,n),[b,w]=v.useState(null),j=St(t,D=>w(D)),k=v.useRef(null),S=v.useRef(""),C=x.viewport,E=s.content-s.viewport,z=On(f),R=On(u),T=Ab(m,10);function A(D){if(k.current){const F=D.clientX-k.current.left,V=D.clientY-k.current.top;d({x:F,y:V})}}return v.useEffect(()=>{const D=F=>{const V=F.target;(b==null?void 0:b.contains(V))&&z(F,E)};return document.addEventListener("wheel",D,{passive:!1}),()=>document.removeEventListener("wheel",D,{passive:!1})},[C,b,E,z]),v.useEffect(R,[s,R]),Ah(b,T),Ah(x.content,T),i.jsx(uxe,{scope:n,scrollbar:b,hasThumb:r,onThumbChange:On(a),onThumbPointerUp:On(o),onThumbPositionChange:R,onThumbPointerDown:On(l),children:i.jsx(Xe.div,{...g,ref:j,style:{position:"absolute",...g.style},onPointerDown:Ie(e.onPointerDown,D=>{D.button===0&&(D.target.setPointerCapture(D.pointerId),k.current=b.getBoundingClientRect(),S.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",x.viewport&&(x.viewport.style.scrollBehavior="auto"),A(D))}),onPointerMove:Ie(e.onPointerMove,A),onPointerUp:Ie(e.onPointerUp,D=>{const F=D.target;F.hasPointerCapture(D.pointerId)&&F.releasePointerCapture(D.pointerId),document.body.style.webkitUserSelect=S.current,x.viewport&&(x.viewport.style.scrollBehavior=""),k.current=null})})})}),Bv="ScrollAreaThumb",B7=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,r=$7(Bv,e.__scopeScrollArea);return i.jsx(ss,{present:n||r.hasThumb,children:i.jsx(dxe,{ref:t,...s})})}),dxe=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:s,...r}=e,a=Bi(Bv,n),o=$7(Bv,n),{onThumbPositionChange:l}=o,u=St(t,m=>o.onThumbChange(m)),d=v.useRef(void 0),f=Ab(()=>{d.current&&(d.current(),d.current=void 0)},100);return v.useEffect(()=>{const m=a.viewport;if(m){const g=()=>{if(f(),!d.current){const x=mxe(m,l);d.current=x,l()}};return l(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[a.viewport,f,l]),i.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...r,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...s},onPointerDownCapture:Ie(e.onPointerDownCapture,m=>{const x=m.target.getBoundingClientRect(),b=m.clientX-x.left,w=m.clientY-x.top;o.onThumbPointerDown({x:b,y:w})}),onPointerUp:Ie(e.onPointerUp,o.onThumbPointerUp)})});B7.displayName=Bv;var KC="ScrollAreaCorner",F7=v.forwardRef((e,t)=>{const n=Bi(KC,e.__scopeScrollArea),s=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&s?i.jsx(hxe,{...e,ref:t}):null});F7.displayName=KC;var hxe=v.forwardRef((e,t)=>{const{__scopeScrollArea:n,...s}=e,r=Bi(KC,n),[a,o]=v.useState(0),[l,u]=v.useState(0),d=!!(a&&l);return Ah(r.scrollbarX,()=>{var m;const f=((m=r.scrollbarX)==null?void 0:m.offsetHeight)||0;r.onCornerHeightChange(f),u(f)}),Ah(r.scrollbarY,()=>{var m;const f=((m=r.scrollbarY)==null?void 0:m.offsetWidth)||0;r.onCornerWidthChange(f),o(f)}),d?i.jsx(Xe.div,{...s,ref:t,style:{width:a,height:l,position:"absolute",right:r.dir==="ltr"?0:void 0,left:r.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Fv(e){return e?parseInt(e,10):0}function U7(e,t){const n=e/t;return isNaN(n)?0:n}function zb(e){const t=U7(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-n)*t;return Math.max(s,18)}function fxe(e,t,n,s="ltr"){const r=zb(n),a=r/2,o=t||a,l=r-o,u=n.scrollbar.paddingStart+o,d=n.scrollbar.size-n.scrollbar.paddingEnd-l,f=n.content-n.viewport,m=s==="ltr"?[0,f]:[f*-1,0];return H7([u,d],m)(e)}function DR(e,t,n="ltr"){const s=zb(t),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,a=t.scrollbar.size-r,o=t.content-t.viewport,l=a-s,u=n==="ltr"?[0,o]:[o*-1,0],d=R2(e,u);return H7([0,o],[0,l])(d)}function H7(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function q7(e,t){return e>0&&e<t}var mxe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},s=0;return(function r(){const a={left:e.scrollLeft,top:e.scrollTop},o=n.left!==a.left,l=n.top!==a.top;(o||l)&&t(),n=a,s=window.requestAnimationFrame(r)})(),()=>window.cancelAnimationFrame(s)};function Ab(e,t){const n=On(e),s=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),v.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(n,t)},[n,t])}function Ah(e,t){const n=On(t);$n(()=>{let s=0;if(e){const r=new ResizeObserver(()=>{cancelAnimationFrame(s),s=window.requestAnimationFrame(n)});return r.observe(e),()=>{window.cancelAnimationFrame(s),r.unobserve(e)}}},[e,n])}var Z7=D7,pxe=I7,gxe=F7;const GC=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(Z7,{ref:s,className:se("relative overflow-hidden",e),...n,children:[i.jsx(pxe,{className:"h-full w-full rounded-[inherit]",children:t}),i.jsx(W7,{}),i.jsx(gxe,{})]}));GC.displayName=Z7.displayName;const W7=v.forwardRef(({className:e,orientation:t="vertical",...n},s)=>i.jsx(ZC,{ref:s,orientation:t,className:se("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:i.jsx(B7,{className:"relative flex-1 rounded-full bg-border"})}));W7.displayName=ZC.displayName;const xxe=[{label:"Prehled",path:"/prehled",icon:Mi,keywords:["prehled","domu","home","dashboard"]},{label:"Moje Kurzy",path:"/prehled/moje-kurzy",icon:Gt,keywords:["kurzy","courses","moje"]},{label:"Pokrok",path:"/prehled/pokrok",icon:Aa,keywords:["pokrok","progress","statistiky"]},{label:"Predplatne",path:"/prehled/predplatne",icon:nr,keywords:["predplatne","subscription","plan"]},{label:"Certifikaty",path:"/prehled/certifikaty",icon:Da,keywords:["certifikaty","certificates"]},{label:"Nastaveni",path:"/prehled/nastaveni",icon:Yh,keywords:["nastaveni","settings","profil"]},{label:"Faktury",path:"/prehled/faktury",icon:Ia,keywords:["faktury","invoices"]},{label:"Objednavky",path:"/prehled/fakturace",icon:wu,keywords:["objednavky","orders","fakturace"]},{label:"Vysledky Testu",path:"/prehled/vysledky-testu",icon:lg,keywords:["vysledky","test","results"]},{label:"Analytika",path:"/prehled/analytika",icon:Vo,keywords:["analytika","analytics","studijni"]}],Ik={"/prehled":"Prehled","/prehled/moje-kurzy":"Moje Kurzy","/prehled/pokrok":"Pokrok","/prehled/predplatne":"Predplatne","/prehled/certifikaty":"Certifikaty","/prehled/nastaveni":"Nastaveni","/prehled/faktury":"Faktury","/prehled/fakturace":"Objednavky","/prehled/vysledky-testu":"Vysledky Testu","/prehled/analytika":"Analytika"};function vxe(e){if(Ik[e])return Ik[e];for(const[t,n]of Object.entries(Ik))if(t!=="/prehled"&&e.startsWith(t+"/"))return n;return"Prehled"}function yxe(){const e=Yt(),t=ns(),[n,s]=v.useState(""),[r,a]=v.useState(!1),o=v.useRef(null),l=vxe(t.pathname),u=v.useMemo(()=>{if(!n.trim())return[];const m=n.toLowerCase();return xxe.filter(g=>g.label.toLowerCase().includes(m)||g.keywords.some(x=>x.includes(m)))},[n]),d=r&&n.trim().length>0,f=m=>{var g;e(m),s(""),a(!1),(g=o.current)==null||g.blur()};return i.jsxs("div",{className:se("sticky top-0 z-30 border-b border-border/40 md:hidden","bg-background"),style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:[i.jsx("div",{className:"px-4 pt-1.5 pb-2",children:i.jsx("h1",{className:"text-center text-lg font-semibold tracking-tight text-foreground",children:l})}),i.jsxs("div",{className:"relative px-3 pb-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ya,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),i.jsx("input",{ref:o,type:"text",value:n,onChange:m=>s(m.target.value),onFocus:()=>a(!0),onBlur:()=>setTimeout(()=>a(!1),150),placeholder:"Hledat v aplikaci...",className:"w-full h-9 rounded-lg bg-muted/50 border border-border/40 pl-9 pr-8 text-sm placeholder:text-muted-foreground/60 focus:outline-none focus:ring-2 focus:ring-primary/30 focus:border-primary/40 transition-all"}),n&&i.jsx("button",{type:"button",onMouseDown:m=>m.preventDefault(),onClick:()=>{var m;s(""),(m=o.current)==null||m.focus()},className:"absolute right-2.5 top-1/2 -translate-y-1/2 p-0.5 rounded text-muted-foreground hover:text-foreground transition-colors",children:i.jsx(Pu,{className:"h-3.5 w-3.5"})})]}),i.jsx(jn,{children:d&&i.jsx(ne.div,{initial:{opacity:0,y:-4},animate:{opacity:1,y:0},exit:{opacity:0,y:-4},transition:{duration:.15},className:"absolute left-3 right-3 top-full mt-1 rounded-lg border bg-background shadow-lg overflow-hidden z-50",children:u.length>0?u.map(m=>{const g=m.icon;return i.jsxs("button",{type:"button",onMouseDown:x=>x.preventDefault(),onClick:()=>f(m.path),className:"flex items-center gap-3 w-full px-3 py-2.5 text-left text-sm hover:bg-muted/60 transition-colors",children:[i.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-muted/80",children:i.jsx(g,{className:"h-4 w-4 text-muted-foreground"})}),i.jsx("span",{className:"font-medium",children:m.label})]},m.path)}):i.jsxs("div",{className:"px-3 py-4 text-center text-sm text-muted-foreground",children:['Zadne vysledky pro "',n,'"']})})})]})]})}var bxe=Symbol("radix.slottable");function wxe(e){const t=({children:n})=>i.jsx(i.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=bxe,t}var[Mb]=fr("Tooltip",[rf]),Rb=rf(),K7="TooltipProvider",jxe=700,O2="tooltip.open",[kxe,YC]=Mb(K7),G7=e=>{const{__scopeTooltip:t,delayDuration:n=jxe,skipDelayDuration:s=300,disableHoverableContent:r=!1,children:a}=e,o=v.useRef(!0),l=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),i.jsx(kxe,{scope:t,isOpenDelayedRef:o,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),o.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>o.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:v.useCallback(d=>{l.current=d},[]),disableHoverableContent:r,children:a})};G7.displayName=K7;var Np="Tooltip",[Nxe,Ng]=Mb(Np),Y7=e=>{const{__scopeTooltip:t,children:n,open:s,defaultOpen:r,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=e,u=YC(Np,e.__scopeTooltip),d=Rb(t),[f,m]=v.useState(null),g=jr(),x=v.useRef(0),b=o??u.disableHoverableContent,w=l??u.delayDuration,j=v.useRef(!1),[k,S]=Fr({prop:s,defaultProp:r??!1,onChange:T=>{T?(u.onOpen(),document.dispatchEvent(new CustomEvent(O2))):u.onClose(),a==null||a(T)},caller:Np}),C=v.useMemo(()=>k?j.current?"delayed-open":"instant-open":"closed",[k]),E=v.useCallback(()=>{window.clearTimeout(x.current),x.current=0,j.current=!1,S(!0)},[S]),z=v.useCallback(()=>{window.clearTimeout(x.current),x.current=0,S(!1)},[S]),R=v.useCallback(()=>{window.clearTimeout(x.current),x.current=window.setTimeout(()=>{j.current=!0,S(!0),x.current=0},w)},[w,S]);return v.useEffect(()=>()=>{x.current&&(window.clearTimeout(x.current),x.current=0)},[]),i.jsx(SC,{...d,children:i.jsx(Nxe,{scope:t,contentId:g,open:k,stateAttribute:C,trigger:f,onTriggerChange:m,onTriggerEnter:v.useCallback(()=>{u.isOpenDelayedRef.current?R():E()},[u.isOpenDelayedRef,R,E]),onTriggerLeave:v.useCallback(()=>{b?z():(window.clearTimeout(x.current),x.current=0)},[z,b]),onOpen:E,onClose:z,disableHoverableContent:b,children:n})})};Y7.displayName=Np;var D2="TooltipTrigger",J7=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Ng(D2,n),a=YC(D2,n),o=Rb(n),l=v.useRef(null),u=St(t,l,r.onTriggerChange),d=v.useRef(!1),f=v.useRef(!1),m=v.useCallback(()=>d.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),i.jsx(_C,{asChild:!0,...o,children:i.jsx(Xe.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...s,ref:u,onPointerMove:Ie(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!a.isPointerInTransitRef.current&&(r.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ie(e.onPointerLeave,()=>{r.onTriggerLeave(),f.current=!1}),onPointerDown:Ie(e.onPointerDown,()=>{r.open&&r.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Ie(e.onFocus,()=>{d.current||r.onOpen()}),onBlur:Ie(e.onBlur,r.onClose),onClick:Ie(e.onClick,r.onClose)})})});J7.displayName=D2;var JC="TooltipPortal",[Sxe,_xe]=Mb(JC,{forceMount:void 0}),X7=e=>{const{__scopeTooltip:t,forceMount:n,children:s,container:r}=e,a=Ng(JC,t);return i.jsx(Sxe,{scope:t,forceMount:n,children:i.jsx(ss,{present:n||a.open,children:i.jsx(ug,{asChild:!0,container:r,children:s})})})};X7.displayName=JC;var Mh="TooltipContent",Q7=v.forwardRef((e,t)=>{const n=_xe(Mh,e.__scopeTooltip),{forceMount:s=n.forceMount,side:r="top",...a}=e,o=Ng(Mh,e.__scopeTooltip);return i.jsx(ss,{present:s||o.open,children:o.disableHoverableContent?i.jsx(eV,{side:r,...a,ref:t}):i.jsx(Cxe,{side:r,...a,ref:t})})}),Cxe=v.forwardRef((e,t)=>{const n=Ng(Mh,e.__scopeTooltip),s=YC(Mh,e.__scopeTooltip),r=v.useRef(null),a=St(t,r),[o,l]=v.useState(null),{trigger:u,onClose:d}=n,f=r.current,{onPointerInTransitChange:m}=s,g=v.useCallback(()=>{l(null),m(!1)},[m]),x=v.useCallback((b,w)=>{const j=b.currentTarget,k={x:b.clientX,y:b.clientY},S=Axe(k,j.getBoundingClientRect()),C=Mxe(k,S),E=Rxe(w.getBoundingClientRect()),z=Dxe([...C,...E]);l(z),m(!0)},[m]);return v.useEffect(()=>()=>g(),[g]),v.useEffect(()=>{if(u&&f){const b=j=>x(j,f),w=j=>x(j,u);return u.addEventListener("pointerleave",b),f.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",w)}}},[u,f,x,g]),v.useEffect(()=>{if(o){const b=w=>{const j=w.target,k={x:w.clientX,y:w.clientY},S=(u==null?void 0:u.contains(j))||(f==null?void 0:f.contains(j)),C=!Oxe(k,o);S?g():C&&(g(),d())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[u,f,o,d,g]),i.jsx(eV,{...e,ref:a})}),[Exe,Txe]=Mb(Np,{isInside:!1}),zxe=wxe("TooltipContent"),eV=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":r,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=e,u=Ng(Mh,n),d=Rb(n),{onClose:f}=u;return v.useEffect(()=>(document.addEventListener(O2,f),()=>document.removeEventListener(O2,f)),[f]),v.useEffect(()=>{if(u.trigger){const m=g=>{const x=g.target;x!=null&&x.contains(u.trigger)&&f()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,f]),i.jsx(ef,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:f,children:i.jsxs(CC,{"data-state":u.stateAttribute,...d,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[i.jsx(zxe,{children:s}),i.jsx(Exe,{scope:n,isInside:!0,children:i.jsx(D9,{id:u.contentId,role:"tooltip",children:r||s})})]})})});Q7.displayName=Mh;var tV="TooltipArrow",nV=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,r=Rb(n);return Txe(tV,n).isInside?null:i.jsx(EC,{...r,...s,ref:t})});nV.displayName=tV;function Axe(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),a=Math.abs(t.left-e.x);switch(Math.min(n,s,r,a)){case a:return"left";case r:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function Mxe(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Rxe(e){const{top:t,right:n,bottom:s,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:s},{x:r,y:s}]}function Oxe(e,t){const{x:n,y:s}=e;let r=!1;for(let a=0,o=t.length-1;a<t.length;o=a++){const l=t[a],u=t[o],d=l.x,f=l.y,m=u.x,g=u.y;f>s!=g>s&&n<(m-d)*(s-f)/(g-f)+d&&(r=!r)}return r}function Dxe(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Pxe(t)}function Pxe(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const a=t[t.length-1],o=t[t.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))t.pop();else break}t.push(r)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const r=e[s];for(;n.length>=2;){const a=n[n.length-1],o=n[n.length-2];if((a.x-o.x)*(r.y-o.y)>=(a.y-o.y)*(r.x-o.x))n.pop();else break}n.push(r)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Ixe=G7,Lxe=Y7,$xe=J7,Vxe=X7,Bxe=Q7,Fxe=nV;function sV({delayDuration:e=0,...t}){return i.jsx(Ixe,{"data-slot":"tooltip-provider",delayDuration:e,...t})}function P2({...e}){return i.jsx(sV,{children:i.jsx(Lxe,{"data-slot":"tooltip",...e})})}function I2({...e}){return i.jsx($xe,{"data-slot":"tooltip-trigger",...e})}function L2({className:e,sideOffset:t=0,children:n,...s}){return i.jsx(Vxe,{children:i.jsxs(Bxe,{"data-slot":"tooltip-content",sideOffset:t,className:se("fade-in-0 zoom-in-95 border border-border data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) animate-in text-balance rounded-md bg-secondary px-3 py-1.5 text-foreground text-xs data-[state=closed]:animate-out",e),...s,children:[n,i.jsx(Fxe,{className:"z-50 size-2.5 translate-y-[calc(-50%_-_2px)] rotate-45 rounded-[2px] bg-secondary fill-secondary"})]})})}const $2=304,av=64,rV=$2-av,Uxe="b",iV=v.createContext(null);function XC(){const e=v.useContext(iV);if(!e)throw new Error("useSidebar must be used within a SidebarProvider");return e}function Hxe({defaultOpen:e=!0,children:t}){const[n,s]=v.useState(e),r=n,a=v.useCallback(d=>{s(d)},[]),o=v.useCallback(()=>{a(!r)},[r,a]);v.useEffect(()=>{const d=f=>{f.key===Uxe&&(f.metaKey||f.ctrlKey)&&(f.preventDefault(),o())};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[o]);const l=r?"expanded":"collapsed",u=v.useMemo(()=>({isPanelOpen:r,setPanelOpen:a,togglePanel:o,panelState:l}),[r,a,o,l]);return i.jsx(iV.Provider,{value:u,children:t})}function qxe(e){return e.split(" ").filter(Boolean).slice(0,2).map(t=>{var n;return(n=t[0])==null?void 0:n.toUpperCase()}).join("")||"U"}const aV=v.forwardRef(({className:e,onClick:t,showTooltip:n=!0,...s},r)=>{const{isPanelOpen:a,togglePanel:o}=XC(),l=i.jsx(X,{ref:r,variant:"ghost",size:"icon",className:se("size-8",e),onClick:u=>{t==null||t(u),o()},"aria-label":a?"Sbalit postrann panel":"Rozbalit postrann panel","aria-expanded":a,...s,children:a?i.jsx(Moe,{className:"size-4"}):i.jsx(Ooe,{className:"size-4"})});return n?i.jsxs(P2,{children:[i.jsx(I2,{asChild:!0,children:l}),i.jsxs(L2,{side:"right",sideOffset:8,children:[i.jsx("span",{children:a?"Sbalit":"Rozbalit"}),i.jsxs("kbd",{className:"ml-2 rounded bg-neutral-200 px-1.5 py-0.5 text-[10px] font-medium text-neutral-600",children:["","B"]})]})]}):l});aV.displayName="SidebarTrigger";function Zxe({railIcons:e,activeModuleId:t,onModuleChange:n}){return i.jsxs("div",{className:"flex h-full w-16 flex-col items-center justify-between",children:[i.jsxs("div",{className:"flex flex-col items-center gap-3 p-2",children:[i.jsx("div",{className:"pb-1 pt-2",children:i.jsx("a",{href:"/",className:"block rounded-lg px-1 py-4 outline-none transition-opacity hover:opacity-80 focus-visible:ring-2 focus-visible:ring-black/50 dark:focus-visible:ring-white/50",children:i.jsx("img",{src:"/logo.svg",alt:"Logo",width:80,height:20,className:"h-5"})})}),i.jsx("div",{className:"flex flex-col items-center gap-3",children:e.map(s=>{const r=s.moduleId===t,a=s.icon;return i.jsxs(P2,{children:[i.jsx(I2,{asChild:!0,children:i.jsx("button",{type:"button",onClick:()=>n(s.moduleId),"aria-label":s.label,className:se("relative flex size-11 items-center justify-center rounded-lg outline-none transition-colors duration-150 focus-visible:ring-2 focus-visible:ring-black/50 dark:focus-visible:ring-white/50",r?"bg-white text-neutral-900 dark:bg-neutral-800 dark:text-neutral-100":"text-neutral-600 hover:bg-black/5 active:bg-black/10 dark:text-neutral-400 dark:hover:bg-white/5 dark:active:bg-white/10"),children:i.jsx(a,{className:"size-5"})})}),i.jsx(L2,{side:"right",sideOffset:8,children:s.label})]},s.moduleId)})})]}),i.jsxs("div",{className:"flex flex-col items-center gap-3 py-3",children:[i.jsx(aV,{className:"size-11 text-neutral-600 hover:bg-black/5 active:bg-black/10 dark:text-neutral-400 dark:hover:bg-white/5 dark:active:bg-white/10"}),i.jsxs(P2,{children:[i.jsx(I2,{asChild:!0,children:i.jsx("div",{className:"flex size-11 items-center justify-center",children:i.jsx(Wxe,{})})}),i.jsx(L2,{side:"right",sideOffset:8,children:"et"})]})]})]})}function Wxe(){var s,r,a;const{user:e}=Qt(),{isAdmin:t}=p7(),n=Yt();return i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsx("button",{className:"flex size-11 items-center justify-center rounded-lg hover:bg-black/5 active:bg-black/10 focus-visible:ring-2 focus-visible:ring-black/50 dark:hover:bg-white/5 dark:active:bg-white/10 dark:focus-visible:ring-white/50","aria-label":"et",children:i.jsxs(zs,{className:"size-7",children:[i.jsx(lr,{src:(s=e==null?void 0:e.user_metadata)==null?void 0:s.avatar_url,alt:(e==null?void 0:e.email)||""}),i.jsx(Ha,{className:"text-xs",children:qxe(((r=e==null?void 0:e.email)==null?void 0:r.split("@")[0])||"User")})]})})}),i.jsxs(jg,{align:"end",side:"right",className:"w-56",children:[i.jsx(M9,{className:"font-normal",children:i.jsxs("div",{className:"flex flex-col space-y-1",children:[i.jsx("p",{className:"text-sm font-medium",children:((a=e==null?void 0:e.email)==null?void 0:a.split("@")[0])||"Uivatel"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})}),i.jsx(Ul,{}),i.jsx(or,{onClick:()=>n("/prehled/nastaveni"),children:"Nastaven"}),i.jsx(or,{onClick:()=>n("/"),children:"Domovsk strnka"}),i.jsx(or,{onClick:()=>n("/prehled/fakturace"),children:"Fakturace"}),t&&i.jsxs(i.Fragment,{children:[i.jsx(Ul,{}),i.jsxs(or,{onClick:()=>n("/admin"),children:[i.jsx(yp,{className:"mr-2 size-4 text-red-500"}),"Admin Panel"]})]}),i.jsx(Ul,{}),i.jsx(or,{onClick:()=>n("/prihlaseni"),children:"Odhlsit se"})]})]})}function Kxe(){const e=Yt(),{courses:t,selectedCourseId:n,setSelectedCourseId:s,selectedCourse:r}=x7(),a=u=>{s(u),e("/prehled")},o=()=>{s(null),e("/prehled")},l=r?r.title:"Moje Kurzy";return i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsxs("button",{className:"flex min-w-0 flex-1 items-center gap-2 rounded-lg px-2 py-1.5 text-left hover:bg-black/5 dark:hover:bg-white/5",children:[i.jsx("div",{className:"flex size-6 items-center justify-center rounded bg-neutral-200 dark:bg-neutral-800",children:i.jsx("img",{src:"/logo.svg",alt:"Moje Kurzy",width:16,height:16,className:"size-4"})}),i.jsx("span",{className:"flex-1 truncate text-sm font-medium text-neutral-900 dark:text-neutral-100",children:l}),i.jsx(dr,{className:"size-4 text-neutral-500 dark:text-neutral-500"})]})}),i.jsxs(jg,{align:"start",className:"w-64",children:[i.jsx(M9,{children:"Moje Kurzy"}),i.jsx(Ul,{}),i.jsx(or,{onClick:o,children:i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.jsx("div",{className:"flex size-6 items-center justify-center rounded bg-neutral-200 dark:bg-neutral-800 shrink-0",children:i.jsx(Mi,{className:"size-3.5"})}),i.jsx("span",{className:"truncate flex-1",children:"Prehled"}),!n&&i.jsx(Pa,{className:"size-4 text-blue-600 shrink-0"})]})}),t.length>0&&i.jsx(Ul,{}),t.map(u=>i.jsx(or,{onClick:()=>a(u.id),children:i.jsxs("div",{className:"flex items-center gap-2 w-full",children:[i.jsx("div",{className:"flex size-6 items-center justify-center rounded bg-neutral-200 dark:bg-neutral-800 shrink-0",children:i.jsx(Gt,{className:"size-3.5"})}),i.jsx("span",{className:"truncate flex-1",children:u.title}),n===u.id&&i.jsx(Pa,{className:"size-4 text-blue-600 shrink-0"})]})},u.id)),i.jsx(Ul,{}),i.jsxs(or,{onClick:()=>e("/kurzy"),children:[i.jsx(ds,{className:"mr-2 size-4"}),"Zapsat se na kurz"]})]})]})}function Gxe(){return i.jsx(X,{variant:"ghost",size:"icon",className:"ml-auto size-8 text-neutral-600 hover:bg-black/5 dark:text-neutral-400 dark:hover:bg-white/5","aria-label":"Oznmen",children:i.jsx(yie,{className:"size-4"})})}function Yxe(){return i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsxs(X,{className:"w-full justify-start gap-2 bg-neutral-900 text-white hover:bg-neutral-800 dark:bg-neutral-100 dark:text-black dark:hover:bg-neutral-200",children:[i.jsx(ds,{className:"size-4"}),"Nov"]})}),i.jsxs(jg,{align:"start",className:"w-48",children:[i.jsx(or,{children:"Nov Lekce"}),i.jsx(or,{children:"Nov Poznmka"}),i.jsx(or,{children:"Nov Dotaz"})]})]})}function ah(e,t){return!!(e===t||e==="/prehled"&&t==="/prehled"||t!=="/prehled"&&e.startsWith(t+"/"))}function Jxe({module:e,utilities:t,panelHeader:n}){const[s,r]=v.useState(!1),a=mne(),l=ns().pathname,u=e.sections.filter(m=>m.id!=="studio-setup"),d=e.sections.find(m=>m.id==="studio-setup"),f=(d==null?void 0:d.items.some(m=>ah(l,m.path)))??!1;return v.useEffect(()=>{f&&r(!0)},[f]),i.jsx("div",{className:"relative flex h-screen flex-col overflow-hidden rounded-l-xl bg-neutral-100 dark:bg-neutral-900",style:{width:`${rV}px`},children:i.jsxs("div",{className:"relative flex min-h-0 flex-1 animate-in fade-in slide-in-from-right-2 flex-col text-neutral-500 dark:text-neutral-500 duration-200",children:[i.jsx("div",{className:"shrink-0 p-3",children:n??i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[i.jsx(Kxe,{}),i.jsx(Gxe,{})]}),i.jsx("div",{children:i.jsx(Yxe,{})})]})}),i.jsx("div",{className:"scrollbar-hide flex min-h-0 flex-1 flex-col gap-5 overflow-y-auto px-3 pb-3",children:u.map(m=>i.jsxs("div",{children:[m.label&&i.jsx("div",{className:"mb-2 pl-3 text-sm text-neutral-500 dark:text-neutral-500",children:m.label}),i.jsx("nav",{className:"flex flex-col gap-0.5",children:m.items.map(g=>i.jsx(Lk,{item:g,isActive:ah(l,g.path)},g.id))})]},m.id))}),d&&d.items.length>0||t.length>0?i.jsxs("div",{className:"shrink-0 px-3 pb-3 pt-1",children:[d&&d.items.length>0&&i.jsx(Cge,{open:s,onOpenChange:r,className:"group/setup",children:i.jsxs("div",{className:se("rounded-lg p-2",s&&"bg-neutral-200/50 dark:bg-neutral-800/50"),children:[i.jsxs(zR,{className:se("flex w-full items-center gap-2 rounded-md px-2 py-1.5 text-sm transition-colors",s&&"hidden",f?"bg-neutral-200/70 font-medium text-neutral-900 dark:bg-neutral-800/70 dark:text-neutral-100":"text-neutral-600 hover:bg-neutral-200/50 dark:text-neutral-400 dark:hover:bg-neutral-800/50"),children:[i.jsx(Yh,{className:se("size-4",f?"text-neutral-900 dark:text-neutral-100":"text-neutral-500 dark:text-neutral-500")}),i.jsx("span",{className:"font-medium",children:"Konfigurace"}),i.jsx(kr,{className:se("ml-auto size-4",f?"text-neutral-500":"text-neutral-400 dark:text-neutral-600")})]}),i.jsx(jn,{initial:!1,children:s&&i.jsxs(ne.nav,{initial:a?!1:{height:0,opacity:0},animate:{height:"auto",opacity:1,transition:{height:a?{duration:0}:{type:"spring",stiffness:500,damping:40,mass:1},opacity:a?{duration:0}:{duration:.2}}},exit:{height:0,opacity:0,transition:{height:a?{duration:0}:{type:"spring",stiffness:500,damping:40,mass:1},opacity:a?{duration:0}:{duration:.15}}},className:"scrollbar-hide relative flex max-h-[40vh] flex-col gap-0.5 overflow-y-auto pr-6",children:[i.jsx(zR,{className:"absolute right-0 top-0 p-1 text-neutral-400 transition-colors hover:text-neutral-600 dark:text-neutral-600 dark:hover:text-neutral-400","aria-label":"Sbalit konfiguraci",children:i.jsx(dr,{className:"size-4"})}),d.items.map((m,g)=>i.jsx(ne.div,{initial:a?!1:{opacity:0,x:-8},animate:{opacity:1,x:0,transition:{delay:a?0:g*.03,duration:a?0:.2,ease:[.25,.1,.25,1]}},exit:{opacity:0,transition:{duration:a?0:.1}},children:i.jsx(Lk,{item:m,isActive:ah(l,m.path)})},m.id))]})})]})}),t.length>0&&i.jsx("div",{className:"mt-3 border-t border-neutral-200 pt-3 dark:border-neutral-800",children:i.jsx("nav",{className:"flex flex-col gap-0.5",children:t.map(m=>i.jsx(Lk,{item:m,isActive:ah(l,m.path)},m.id))})})]}):null]},e.id)})}function Lk({item:e,isActive:t}){const n=e.path.startsWith("http"),s=e.icon,r=Yt(),a=o=>{o.preventDefault(),n?window.open(e.path,"_blank","noopener,noreferrer"):r(e.path)};return i.jsxs("a",{href:e.path,onClick:a,target:n?"_blank":void 0,rel:n?"noopener noreferrer":void 0,className:se("group flex h-8 items-center justify-between rounded-lg p-2 text-sm leading-none transition-[background-color,color,font-weight] duration-75",t?"bg-neutral-200/70 font-medium text-neutral-900 hover:bg-neutral-200 active:bg-neutral-300 dark:bg-neutral-800/70 dark:text-neutral-100 dark:hover:bg-neutral-800 dark:active:bg-neutral-700":"text-neutral-700 hover:bg-black/5 active:bg-black/10 dark:text-neutral-300 dark:hover:bg-white/5 dark:active:bg-white/10"),children:[i.jsxs("span",{className:"flex min-w-0 items-center gap-2.5",children:[i.jsx(s,{className:se("size-4 shrink-0",t?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400")}),i.jsx("span",{className:"truncate",children:e.label})]}),n&&i.jsx(DL,{className:"size-3.5 text-neutral-500 transition-transform duration-75 group-hover:-translate-y-px group-hover:translate-x-px dark:text-neutral-500"})]})}function Xxe({visible:e,direction:t="right",children:n}){return i.jsx("div",{className:se("left-0 top-0 flex size-full flex-col transition-[opacity,transform] duration-300",e?"relative opacity-100":se("pointer-events-none absolute opacity-0",t==="left"?"-translate-x-full":"translate-x-full")),"aria-hidden":!e,inert:e?void 0:!0,children:n})}function Qxe({children:e}){const{isPanelOpen:t}=XC(),n=t;return i.jsx("div",{className:"flex min-h-0 min-w-0 flex-1 flex-col bg-neutral-200 md:py-2 md:pr-2 dark:bg-neutral-800",children:i.jsxs("div",{className:"relative flex min-h-0 min-w-0 flex-1 flex-col",children:[i.jsx("div",{className:se("absolute -left-2 top-0 z-0 hidden h-3 w-5 bg-neutral-100 transition-opacity duration-300 md:block dark:bg-neutral-900",n?"opacity-100":"opacity-0")}),i.jsx("div",{className:se("absolute -left-2 bottom-0 z-0 hidden h-3 w-5 bg-neutral-100 transition-opacity duration-300 md:block dark:bg-neutral-900",n?"opacity-100":"opacity-0")}),i.jsx("main",{className:"z-10 flex min-h-0 flex-1 flex-col overflow-hidden pb-16 md:rounded-xl md:bg-white md:pb-0 dark:md:bg-neutral-900",children:i.jsxs("div",{className:"flex-1 overflow-y-auto",style:{WebkitOverflowScrolling:"touch",overflowX:"clip"},children:[i.jsx(yxe,{}),i.jsx("div",{className:"px-4 pt-4 pb-24 sm:px-6 md:pt-6 md:pb-6",children:e})]})})]})})}function e0e({railIcons:e,activeModule:t,activeModuleId:n,utilities:s,onModuleChange:r,panelHeader:a}){const{isPanelOpen:o}=XC(),l=t!==null,u=l&&o;return i.jsx(sV,{delayDuration:0,children:i.jsx("aside",{className:se("sticky top-0 z-40 hidden h-screen transition-[width] duration-300 md:block"),style:{width:u?$2:av,"--sidebar-width":`${u?$2:av}px`,"--sidebar-rail-width":`${av}px`,"--sidebar-panel-width":`${rV}px`},"data-panel-state":o?"expanded":"collapsed","data-has-content":l,children:i.jsxs("nav",{className:"grid size-full grid-cols-[64px_1fr]",children:[i.jsx(Zxe,{railIcons:e,activeModuleId:n,onModuleChange:r}),i.jsx("div",{className:se("relative size-full overflow-hidden py-2 transition-opacity duration-300",!u&&"opacity-0"),children:i.jsx(Xxe,{visible:!0,direction:"left",children:t&&i.jsx(Jxe,{module:t,utilities:s,panelHeader:a})})})]})})})}function t0e({open:e,onOpenChange:t,railIcons:n,activeModule:s,activeModuleId:r,utilities:a,onModuleChange:o}){const u=ns().pathname,d=()=>t(!1);return i.jsxs(i.Fragment,{children:[i.jsx(T7,{open:e,onOpenChange:t,children:i.jsxs(A7,{className:"md:hidden",children:[i.jsx(M7,{children:i.jsx(R7,{children:(s==null?void 0:s.label)??"Navigace"})}),i.jsx(GC,{className:"max-h-[70vh] px-[15px] pb-6",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"flex flex-col gap-6",children:s.sections.map(f=>i.jsxs("div",{children:[f.label&&i.jsx("div",{className:"mb-2 pl-2 text-xs font-medium uppercase tracking-wide text-neutral-500 dark:text-neutral-500",children:f.label}),i.jsx("nav",{className:"flex flex-col gap-0.5",children:f.items.map(m=>i.jsx(PR,{item:m,isActive:ah(u,m.path),onSelect:d},m.id))})]},f.id))}),a.length>0&&i.jsxs("div",{className:"mt-6 border-t border-neutral-200 pt-3 dark:border-neutral-800",children:[i.jsx("div",{className:"mb-2 pl-2 text-xs font-medium uppercase tracking-wide text-neutral-500 dark:text-neutral-500",children:"Nstroje"}),i.jsx("nav",{className:"flex flex-col gap-0.5",children:a.map(f=>i.jsx(PR,{item:f,isActive:ah(u,f.path),onSelect:d},f.id))})]})]}):null})]})}),i.jsx(n0e,{railIcons:n,activeModuleId:r,onModuleChange:o,onOpenChange:t})]})}function n0e({railIcons:e,activeModuleId:t,onModuleChange:n,onOpenChange:s}){const{mobileNavVisible:r}=V_();return i.jsx(jn,{children:r&&i.jsx(ne.nav,{initial:{y:80,opacity:0},animate:{y:0,opacity:1},exit:{y:80,opacity:0},transition:{type:"spring",stiffness:300,damping:30},className:"fixed inset-x-0 bottom-0 z-40 border-t bg-background/95 backdrop-blur md:hidden",style:{paddingBottom:"env(safe-area-inset-bottom, 0px)"},children:i.jsx("div",{className:"grid px-[15px]",style:{gridTemplateColumns:`repeat(${e.length}, minmax(0, 1fr))`},children:e.map(a=>{const o=a.icon,l=a.moduleId===t;return i.jsxs("button",{type:"button",onClick:()=>{n(a.moduleId),s(!0)},className:se("relative flex flex-col items-center gap-1 py-2 text-xs transition-colors",l?"text-foreground":"text-muted-foreground hover:text-foreground"),"aria-label":a.label,children:[l&&i.jsx(ne.div,{layoutId:"mobile-nav-indicator",className:"absolute -top-px left-1/4 right-1/4 h-0.5 rounded-full bg-primary",transition:{type:"spring",stiffness:400,damping:30}}),i.jsx(o,{className:"h-5 w-5"}),i.jsx("span",{className:se("text-[10px]",l&&"font-semibold"),children:a.label})]},a.moduleId)})})})})}function PR({item:e,isActive:t,onSelect:n}){const s=e.path.startsWith("http"),r=e.icon,a=Yt(),o=l=>{l.preventDefault(),s?window.open(e.path,"_blank","noopener,noreferrer"):(a(e.path),n==null||n())};return i.jsxs("a",{href:e.path,onClick:o,target:s?"_blank":void 0,rel:s?"noopener noreferrer":void 0,className:se("group flex h-8 items-center justify-between rounded-lg p-2 text-sm leading-none transition-[background-color,color,font-weight] duration-75",t?"bg-neutral-200/70 font-medium text-neutral-900 hover:bg-neutral-200 active:bg-neutral-300 dark:bg-neutral-800/70 dark:text-neutral-100 dark:hover:bg-neutral-800 dark:active:bg-neutral-700":"text-neutral-700 hover:bg-black/5 active:bg-black/10 dark:text-neutral-300 dark:hover:bg-white/5 dark:active:bg-white/10"),children:[i.jsxs("span",{className:"flex min-w-0 items-center gap-2.5",children:[i.jsx(r,{className:se("size-4 shrink-0",t?"text-neutral-900 dark:text-neutral-100":"text-neutral-600 dark:text-neutral-400")}),i.jsx("span",{className:"truncate",children:e.label})]}),s&&i.jsx(DL,{className:"size-3.5 text-neutral-500 transition-transform duration-75 group-hover:-translate-y-px group-hover:translate-x-px dark:text-neutral-500"})]})}const s0e={railIcons:[{moduleId:"home",label:"Domu",icon:Mi,defaultPath:"/prehled"},{moduleId:"analytics",label:"Statistiky",icon:Aa,defaultPath:"/prehled/pokrok"},{moduleId:"integrations",label:"Kurzy",icon:Gt,defaultPath:"/prehled/moje-kurzy"},{moduleId:"billing",label:"Platby",icon:nr,defaultPath:"/prehled/predplatne"}],modules:[{id:"home",label:"Domu",icon:Mi,defaultPath:"/prehled",sections:[{id:"main",items:[{id:"overview",label:"Prehled",icon:Mi,path:"/prehled"},{id:"my-courses-home",label:"Moje Kurzy",icon:Gt,path:"/prehled/moje-kurzy"},{id:"progress-home",label:"Pokrok",icon:Aa,path:"/prehled/pokrok"},{id:"certificates-home",label:"Certifikaty",icon:Da,path:"/prehled/certifikaty"}]}]},{id:"analytics",label:"Statistiky",icon:Aa,defaultPath:"/prehled/pokrok",sections:[{id:"main",items:[{id:"progress",label:"Pokrok",icon:Aa,path:"/prehled/pokrok"},{id:"test-results",label:"Vysledky Testu",icon:lg,path:"/prehled/vysledky-testu"},{id:"certificates",label:"Certifikaty",icon:Da,path:"/prehled/certifikaty"},{id:"study-time",label:"Studijni doba",icon:Vo,path:"/prehled/analytika"}]}]},{id:"integrations",label:"Kurzy",icon:Gt,defaultPath:"/prehled/moje-kurzy",sections:[{id:"main",items:[{id:"my-courses",label:"Moje Kurzy",icon:Gt,path:"/prehled/moje-kurzy"},{id:"all-courses",label:"Prohlidnout Kurzy",icon:Fa,path:"/prehled/integrace"},{id:"course-certificates",label:"Certifikaty",icon:Da,path:"/prehled/certifikaty"}]}]},{id:"billing",label:"Platby",icon:nr,defaultPath:"/prehled/predplatne",sections:[{id:"main",items:[{id:"subscription",label:"Predplatne",icon:nr,path:"/prehled/predplatne"},{id:"invoices",label:"Faktury",icon:Ia,path:"/prehled/faktury"},{id:"orders",label:"Objednavky",icon:wu,path:"/prehled/fakturace"},{id:"payment-methods",label:"Platebni metody",icon:Eh,path:"/prehled/nastaveni"}]}]}],utilities:[{id:"settings",label:"Nastaveni",icon:Yh,path:"/prehled/nastaveni"},{id:"help",label:"Pomoc & Podpora",icon:B_,path:"#"}]};function oV({children:e,navigationConfig:t=s0e,resolveActiveModuleId:n,panelHeader:s,defaultSidebarOpen:r=!0}){const[a,o]=v.useState(!1),l=ns(),u=Yt(),d=()=>{if(n)return n(l.pathname);const b=l.pathname;return b==="/prehled"?"home":b.startsWith("/prehled/pokrok")||b.startsWith("/prehled/vysledky-testu")||b.startsWith("/prehled/analytika")||b.startsWith("/prehled/certifikaty")?"analytics":b.startsWith("/prehled/moje-kurzy")||b.startsWith("/prehled/integrace")?"integrations":b.startsWith("/prehled/predplatne")||b.startsWith("/prehled/faktury")||b.startsWith("/prehled/fakturace")?"billing":"home"},[f,m]=v.useState(d());v.useEffect(()=>{m(d())},[l.pathname]);const g=v.useMemo(()=>t.modules.find(b=>b.id===f)??t.modules[0],[f]),x=b=>{m(b);const w=t.modules.find(j=>j.id===b);w&&u(w.defaultPath)};return i.jsx(Hxe,{defaultOpen:r,children:i.jsxs("div",{className:"flex h-screen flex-col overflow-hidden bg-neutral-200 dark:bg-neutral-800",children:[i.jsxs("div",{className:"flex min-h-0 min-w-0 flex-1 overflow-hidden md:grid md:grid-cols-[min-content_minmax(0,1fr)]",children:[i.jsx(e0e,{railIcons:t.railIcons,activeModule:g,activeModuleId:f,utilities:t.utilities,onModuleChange:x,panelHeader:s}),i.jsx(Qxe,{children:e})]}),i.jsx(t0e,{open:a,onOpenChange:o,railIcons:t.railIcons,activeModule:g,activeModuleId:f,utilities:t.utilities,onModuleChange:x})]})})}function r0e(){const e=ns(),{showMobileNav:t,mobileNavVisible:n}=V_();return v.useEffect(()=>{e.pathname!=="/prehled"&&!n&&t()},[e.pathname,n,t]),null}function i0e(){const{user:e,loading:t}=Qt();return t?i.jsx("div",{className:"flex h-screen items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e?i.jsx(_ge,{children:i.jsxs(oV,{children:[i.jsx(r0e,{}),i.jsx(QS,{})]})}):i.jsx(Ba,{to:"/prihlaseni",replace:!0})}const Ld=[{id:"main",items:[{id:"overview",label:"Prehled",icon:Aa,path:"/admin"},{id:"users",label:"Uzivatele",icon:Fa,path:"/admin/users"},{id:"blogs",label:"Blog",icon:Ia,path:"/admin/blogs"},{id:"courses",label:"Kurzy",icon:Gt,path:"/admin/courses"},{id:"subscriptions",label:"Predplatne",icon:nr,path:"/admin/subscriptions"},{id:"promo-codes",label:"Promo kody",icon:q_,path:"/admin/promo-codes"},{id:"invoices",label:"Faktury",icon:Eh,path:"/admin/invoices"}]}],a0e={railIcons:[{moduleId:"overview",label:"Prehled",icon:Aa,defaultPath:"/admin"},{moduleId:"users",label:"Uzivatele",icon:Fa,defaultPath:"/admin/users"},{moduleId:"blogs",label:"Blog",icon:Ia,defaultPath:"/admin/blogs"},{moduleId:"courses",label:"Kurzy",icon:Gt,defaultPath:"/admin/courses"},{moduleId:"subscriptions",label:"Predplatne",icon:nr,defaultPath:"/admin/subscriptions"},{moduleId:"invoices",label:"Platby",icon:Eh,defaultPath:"/admin/invoices"}],modules:[{id:"overview",label:"Prehled",icon:Aa,defaultPath:"/admin",sections:Ld},{id:"users",label:"Uzivatele",icon:Fa,defaultPath:"/admin/users",sections:Ld},{id:"blogs",label:"Blog",icon:Ia,defaultPath:"/admin/blogs",sections:Ld},{id:"courses",label:"Kurzy",icon:Gt,defaultPath:"/admin/courses",sections:Ld},{id:"subscriptions",label:"Predplatne",icon:nr,defaultPath:"/admin/subscriptions",sections:Ld},{id:"invoices",label:"Platby",icon:Eh,defaultPath:"/admin/invoices",sections:Ld}],utilities:[{id:"dashboard",label:"Dashboard",icon:Mi,path:"/prehled"},{id:"settings",label:"Nastaveni",icon:Yh,path:"/prehled/settings"}]};function o0e(e){return e.startsWith("/admin/users")?"users":e.startsWith("/admin/blogs")?"blogs":e.startsWith("/admin/courses")?"courses":e.startsWith("/admin/subscriptions")||e.startsWith("/admin/promo-codes")?"subscriptions":e.startsWith("/admin/invoices")?"invoices":"overview"}function l0e(){return i.jsxs("div",{className:"mb-2 flex items-center gap-2 px-2 py-1.5",children:[i.jsx("div",{className:"flex size-6 items-center justify-center rounded bg-red-100 dark:bg-red-900/50",children:i.jsx(yp,{className:"size-4 text-red-600 dark:text-red-400"})}),i.jsx("span",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:"Admin Panel"})]})}function c0e(){const{user:e,loading:t}=Qt(),{isAdmin:n,loading:s}=p7();return t||s?i.jsx("div",{className:"flex h-screen items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):e?n?i.jsx(oV,{navigationConfig:a0e,resolveActiveModuleId:o0e,panelHeader:i.jsx(l0e,{}),defaultSidebarOpen:!1,children:i.jsx(QS,{})}):i.jsx(Ba,{to:"/prehled",replace:!0}):i.jsx(Ba,{to:"/prihlaseni",replace:!0})}const lV=[.25,.4,.25,1],u0e={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.65,ease:lV}}},d0e={hidden:{opacity:0,scale:.96},visible:{opacity:1,scale:1,transition:{duration:.8,ease:lV}}};function Gi({children:e,className:t,variant:n="fadeUp",delay:s=0}){const r=v.useRef(null),a=cL(r,{once:!0,margin:"-60px"}),o=n==="scaleIn"?d0e:u0e;return i.jsx(ne.div,{ref:r,className:t,initial:"hidden",animate:a?"visible":"hidden",variants:{hidden:o.hidden,visible:{...o.visible,transition:{...o.visible.transition,delay:s}}},children:e})}const h0e=()=>i.jsx("section",{className:se("py-32 dark:bg-background"),id:"about",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"grid gap-14 pb-28 md:grid-cols-2 md:items-start",children:[i.jsxs(Gi,{children:[i.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.16em] text-sky-600 dark:text-sky-400",children:"O ns"}),i.jsxs("h2",{className:"mt-5 text-3xl font-semibold leading-[1.15] md:text-4xl lg:text-[2.75rem]",children:["Dires Fyzio  Vzdlvn"," ",i.jsx("span",{className:"bg-gradient-to-r from-sky-600 to-sky-400 bg-clip-text text-transparent",children:"na nejvy rovni"})]})]}),i.jsx(Gi,{delay:.1,children:i.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground md:pt-8",children:"Nae platforma nabz intuitivn een pro vzdlvn v oblasti fyzioterapie. Poskytujeme ucelen kurzy, praktick nstroje a odborn veden, kter pomhaj studentm i profesionlm rozvjet sv dovednosti a budovat spnou kariru."})})]}),i.jsx(Gi,{variant:"scaleIn",children:i.jsx("img",{src:"/MG_0170-1024x683-1.jpg.webp",alt:"Dires tm pi prci",className:"ml-auto aspect-video max-h-[550px] w-full rounded-2xl object-cover shadow-lg"})}),i.jsx(Gi,{delay:.08,children:i.jsx("p",{className:"mt-6 text-center text-xl text-muted-foreground lg:text-right",children:"Odhodlni zjednoduit cestu k profesionln fyzioterapii"})}),i.jsxs("div",{className:"flex flex-col justify-between gap-14 py-32 lg:flex-row lg:items-center",children:[i.jsx(Gi,{children:i.jsx("p",{className:"mx-auto max-w-xl text-center text-2xl font-medium leading-snug lg:mx-0 lg:text-left",children:"Jsme tm zkuench fyzioterapeut, trenr a pedagog s jednm spolenm clem."})}),i.jsx(Gi,{delay:.1,children:i.jsxs("div",{className:"grid shrink-0 grid-cols-3 items-center gap-8",children:[i.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[i.jsx("span",{className:"text-3xl font-bold text-sky-600 dark:text-sky-400",children:"500+"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Absolvent"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[i.jsx("span",{className:"text-3xl font-bold text-sky-600 dark:text-sky-400",children:"12+"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Let praxe"})]}),i.jsxs("div",{className:"flex flex-col items-center gap-1 text-center",children:[i.jsx("span",{className:"text-3xl font-bold text-sky-600 dark:text-sky-400",children:"98%"}),i.jsx("span",{className:"text-xs text-muted-foreground",children:"Spokojenost"})]})]})})]}),i.jsxs("div",{className:"grid gap-14 lg:grid-cols-4 xl:grid-cols-5",children:[i.jsxs("div",{className:"md:col-span-2 xl:col-span-3",children:[i.jsx(Gi,{children:i.jsx("h3",{className:"mb-10 text-4xl font-semibold",children:"Pro jsme zaali"})}),i.jsx(Gi,{delay:.08,children:i.jsx("p",{className:"text-lg leading-relaxed text-muted-foreground",children:"Vidli jsme na vlastn oi, s jakmi problmy se studenti fyzioterapie potkaj. Sloit anatomick pojmy, nedostatek praxe a zastaral vukov metody. Msto opakovn stejnch chyb jsme chtli vytvoit systm, kter cel vzdlvac proces zjednodu od zklad a po pokroil techniky."})}),i.jsx(Gi,{delay:.16,children:i.jsx("p",{className:"mt-6 text-lg leading-relaxed text-muted-foreground",children:"Na mis je poskytnout kadmu pstup k profesionlnmu vzdln v oblasti pohybovho apartu. Vme, e odstrannm barir a zpstupnnm kvalitnch materil meme pomoci tmm i jednotlivcm soustedit se na to, co um nejlpe  pomhat lidem t bez bolesti."})}),i.jsx(Gi,{delay:.24,children:i.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-6 text-center",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 rounded-2xl border bg-card p-6 shadow-sm",children:[i.jsx("span",{className:"text-2xl font-bold md:text-4xl",children:"2012"}),i.jsx("span",{className:"text-sm text-muted-foreground md:text-base",children:"Rok zaloen"})]}),i.jsxs("div",{className:"flex flex-col items-center justify-center gap-2 rounded-2xl border bg-card p-6 shadow-sm",children:[i.jsx("span",{className:"text-2xl font-bold md:text-4xl",children:"30+"}),i.jsx("span",{className:"text-sm text-muted-foreground md:text-base",children:"Odbornch modul"})]})]})})]}),i.jsx(Gi,{className:"md:col-span-2",variant:"scaleIn",delay:.12,children:i.jsx("img",{src:"/Dires.png",alt:"Dires Fyzio",className:"w-full rounded-2xl object-cover shadow-lg"})})]})]})}),f0e=({title:e,slug:t,date:n,className:s})=>{const r=Yt();return i.jsxs("div",{className:se("flex w-full flex-col gap-[1.875rem] border-b py-10 lg:max-w-[28.125rem]",s),children:[i.jsx("button",{onClick:()=>r(`/blog/${t}`),className:"group inline-block text-left text-2xl leading-[1.22] font-semibold hover:underline",children:e}),i.jsx("div",{className:"flex w-full flex-col gap-5",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground/60",children:"by Fyzioterapie tm"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx("span",{className:"text-sm text-muted-foreground",children:n})]})})]})};function IR(e){return e?new Date(e).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"}):""}function m0e({className:e}){const[t,n]=v.useState([]),[s,r]=v.useState(!0),a=Yt();if(v.useEffect(()=>{(async()=>{const{data:u}=await de.from("blogs").select("id, title, slug, excerpt, featured_image, tags, published_at, created_at").eq("status","published").order("published_at",{ascending:!1}).limit(4);n(u??[]),r(!1)})()},[]),s||t.length===0)return null;const o=t[0],l=t.slice(1);return i.jsx("section",{className:se("py-32",e),children:i.jsx("div",{className:"mx-4 sm:mx-6 lg:mx-10 rounded-2xl bg-muted/40 border border-sky-200/60 dark:border-sky-800/30 px-5 sm:px-8 lg:px-14 py-16",children:i.jsxs("div",{className:"mx-auto max-w-7xl",children:[i.jsxs("div",{className:"mb-10 grid grid-cols-[minmax(18.75rem,1fr)] items-start justify-start gap-2.5 md:mb-20 lg:mb-24 lg:grid-cols-[minmax(18.75rem,1fr)_minmax(12.5rem,28.125rem)] lg:gap-20",children:[i.jsx("h1",{className:"text-6xl leading-[1.22] font-bold md:text-[5rem] md:font-semibold lg:text-[7.5rem]",children:"Blog"}),i.jsxs("div",{className:"pb-5",children:[i.jsxs("p",{className:"text-base text-foreground sm:text-lg",children:[i.jsx("span",{className:"text-muted-foreground",children:"Inspirace se setkv s inovac"}),i.jsx("br",{}),i.jsx("strong",{children:"Blog Fyzioterapie"})]}),i.jsx("div",{className:"mt-6 rounded-lg border p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=80",alt:"Author profile",className:"h-12 w-12 rounded-full object-cover"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"Fyzioterapie tm"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Odborn obsah"})]})]})})]})]}),i.jsxs("div",{className:"grid w-full grid-cols-[minmax(18.75rem,1fr)] gap-20 pb-[6.25rem] lg:grid-cols-[minmax(18.75rem,1fr)_minmax(12.5rem,28.125rem)]",children:[i.jsx("div",{children:i.jsxs("div",{className:"flex flex-col gap-[1.875rem]",children:[i.jsx("button",{onClick:()=>a(`/blog/${o.slug}`),className:"group flex aspect-[1.736111111] w-full overflow-hidden rounded-[0.625rem]",children:i.jsx(Ua,{ratio:1.736111111,className:"m-auto overflow-hidden",children:i.jsx("img",{src:o.featured_image||"/demo-img.png",alt:o.title,className:"block size-full object-cover object-center"})})}),i.jsxs("div",{className:"flex w-full flex-col gap-5",children:[i.jsx("button",{onClick:()=>a(`/blog/${o.slug}`),className:"group inline-block text-left text-2xl leading-[1.22] font-semibold hover:underline md:text-4xl",children:o.title}),i.jsx("p",{className:"text-lg text-foreground",children:o.excerpt})]}),i.jsx("div",{className:"flex w-full flex-col gap-5",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-medium text-foreground/60",children:"by Fyzioterapie tm"}),i.jsx("span",{className:"text-sm text-muted-foreground",children:""}),i.jsx("span",{className:"text-sm text-muted-foreground",children:IR(o.published_at||o.created_at)})]})})]})}),i.jsxs("div",{className:"flex flex-col gap-10",children:[i.jsx("div",{className:"text-5xl leading-[1.2] font-semibold",children:"Nejnovj"}),i.jsx("div",{className:"-mt-10 flex flex-col",children:l.map((u,d)=>i.jsx(f0e,{title:u.title,slug:u.slug,date:IR(u.published_at||u.created_at)},`${u.id}-${d}`))})]})]}),i.jsx("div",{className:"flex justify-center",children:i.jsx(X,{onClick:()=>a("/blog"),size:"lg",className:"min-w-[200px]",children:"Zobrazit vce lnk"})})]})})})}var Sg=e=>e.type==="checkbox",nu=e=>e instanceof Date,Pr=e=>e==null;const cV=e=>typeof e=="object";var bs=e=>!Pr(e)&&!Array.isArray(e)&&cV(e)&&!nu(e),uV=e=>bs(e)&&e.target?Sg(e.target)?e.target.checked:e.target.value:e,p0e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,dV=(e,t)=>e.has(p0e(t)),g0e=e=>{const t=e.constructor&&e.constructor.prototype;return bs(t)&&t.hasOwnProperty("isPrototypeOf")},QC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zn(e){if(e instanceof Date)return new Date(e);const t=typeof FileList<"u"&&e instanceof FileList;if(QC&&(e instanceof Blob||t))return e;const n=Array.isArray(e);if(!n&&!(bs(e)&&g0e(e)))return e;const s=n?[]:Object.create(Object.getPrototypeOf(e));for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(s[r]=zn(e[r]));return s}var Ob=e=>/^\w*$/.test(e),bn=e=>e===void 0,Db=e=>Array.isArray(e)?e.filter(Boolean):[],eE=e=>Db(e.replace(/["|']|\]/g,"").split(/\.|\[/)),He=(e,t,n)=>{if(!t||!bs(e))return n;const s=(Ob(t)?[t]:eE(t)).reduce((r,a)=>Pr(r)?r:r[a],e);return bn(s)||s===e?bn(e[t])?n:e[t]:s},ei=e=>typeof e=="boolean",vr=e=>typeof e=="function",an=(e,t,n)=>{let s=-1;const r=Ob(t)?[t]:eE(t),a=r.length,o=a-1;for(;++s<a;){const l=r[s];let u=n;if(s!==o){const d=e[l];u=bs(d)||Array.isArray(d)?d:isNaN(+r[s+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=u,e=e[l]}};const Uv={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ti={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},bo={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},tE=Z.createContext(null);tE.displayName="HookFormControlContext";const Pb=()=>Z.useContext(tE);var hV=(e,t,n,s=!0)=>{const r={defaultValues:t._defaultValues};for(const a in e)Object.defineProperty(r,a,{get:()=>{const o=a;return t._proxyFormState[o]!==Ti.all&&(t._proxyFormState[o]=!s||Ti.all),n&&(n[o]=!0),e[o]}});return r};const Ib=typeof window<"u"?Z.useLayoutEffect:Z.useEffect;function x0e(e){const t=Pb(),{control:n=t,disabled:s,name:r,exact:a}=e||{},[o,l]=Z.useState(n._formState),u=Z.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return Ib(()=>n._subscribe({name:r,formState:u.current,exact:a,callback:d=>{!s&&l({...n._formState,...d})}}),[r,s,a]),Z.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),Z.useMemo(()=>hV(o,n,u.current,!1),[o,n])}var si=e=>typeof e=="string",V2=(e,t,n,s,r)=>si(e)?(s&&t.watch.add(e),He(n,e,r)):Array.isArray(e)?e.map(a=>(s&&t.watch.add(a),He(n,a))):(s&&(t.watchAll=!0),n),B2=e=>Pr(e)||!cV(e);function ta(e,t,n=new WeakSet){if(B2(e)||B2(t))return Object.is(e,t);if(nu(e)&&nu(t))return Object.is(e.getTime(),t.getTime());const s=Object.keys(e),r=Object.keys(t);if(s.length!==r.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const a of s){const o=e[a];if(!r.includes(a))return!1;if(a!=="ref"){const l=t[a];if(nu(o)&&nu(l)||bs(o)&&bs(l)||Array.isArray(o)&&Array.isArray(l)?!ta(o,l,n):!Object.is(o,l))return!1}}return!0}function v0e(e){const t=Pb(),{control:n=t,name:s,defaultValue:r,disabled:a,exact:o,compute:l}=e||{},u=Z.useRef(r),d=Z.useRef(l),f=Z.useRef(void 0),m=Z.useRef(n),g=Z.useRef(s);d.current=l;const[x,b]=Z.useState(()=>{const E=n._getWatch(s,u.current);return d.current?d.current(E):E}),w=Z.useCallback(E=>{const z=V2(s,n._names,E||n._formValues,!1,u.current);return d.current?d.current(z):z},[n._formValues,n._names,s]),j=Z.useCallback(E=>{if(!a){const z=V2(s,n._names,E||n._formValues,!1,u.current);if(d.current){const R=d.current(z);ta(R,f.current)||(b(R),f.current=R)}else b(z)}},[n._formValues,n._names,a,s]);Ib(()=>((m.current!==n||!ta(g.current,s))&&(m.current=n,g.current=s,j()),n._subscribe({name:s,formState:{values:!0},exact:o,callback:E=>{j(E.values)}})),[n,o,s,j]),Z.useEffect(()=>n._removeUnmounted());const k=m.current!==n,S=g.current,C=Z.useMemo(()=>{if(a)return null;const E=!k&&!ta(S,s);return k||E?w():null},[a,k,s,S,w]);return C!==null?C:x}function y0e(e){const t=Pb(),{name:n,disabled:s,control:r=t,shouldUnregister:a,defaultValue:o,exact:l=!0}=e,u=dV(r._names.array,n),d=Z.useMemo(()=>He(r._formValues,n,He(r._defaultValues,n,o)),[r,n,o]),f=v0e({control:r,name:n,defaultValue:d,exact:l}),m=x0e({control:r,name:n,exact:l}),g=Z.useRef(e),x=Z.useRef(void 0),b=Z.useRef(r.register(n,{...e.rules,value:f,...ei(e.disabled)?{disabled:e.disabled}:{}}));g.current=e;const w=Z.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!He(m.errors,n)},isDirty:{enumerable:!0,get:()=>!!He(m.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!He(m.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!He(m.validatingFields,n)},error:{enumerable:!0,get:()=>He(m.errors,n)}}),[m,n]),j=Z.useCallback(E=>b.current.onChange({target:{value:uV(E),name:n},type:Uv.CHANGE}),[n]),k=Z.useCallback(()=>b.current.onBlur({target:{value:He(r._formValues,n),name:n},type:Uv.BLUR}),[n,r._formValues]),S=Z.useCallback(E=>{const z=He(r._fields,n);z&&z._f&&E&&(z._f.ref={focus:()=>vr(E.focus)&&E.focus(),select:()=>vr(E.select)&&E.select(),setCustomValidity:R=>vr(E.setCustomValidity)&&E.setCustomValidity(R),reportValidity:()=>vr(E.reportValidity)&&E.reportValidity()})},[r._fields,n]),C=Z.useMemo(()=>({name:n,value:f,...ei(s)||m.disabled?{disabled:m.disabled||s}:{},onChange:j,onBlur:k,ref:S}),[n,s,m.disabled,j,k,S,f]);return Z.useEffect(()=>{const E=r._options.shouldUnregister||a,z=x.current;z&&z!==n&&!u&&r.unregister(z),r.register(n,{...g.current.rules,...ei(g.current.disabled)?{disabled:g.current.disabled}:{}});const R=(T,A)=>{const D=He(r._fields,T);D&&D._f&&(D._f.mount=A)};if(R(n,!0),E){const T=zn(He(r._options.defaultValues,n,g.current.defaultValue));an(r._defaultValues,n,T),bn(He(r._formValues,n))&&an(r._formValues,n,T)}return!u&&r.register(n),x.current=n,()=>{(u?E&&!r._state.action:E)?r.unregister(n):R(n,!1)}},[n,r,u,a]),Z.useEffect(()=>{r._setDisabledField({disabled:s,name:n})},[s,n,r]),Z.useMemo(()=>({field:C,formState:m,fieldState:w}),[C,m,w])}const wn=e=>e.render(y0e(e)),nE=Z.createContext(null);nE.displayName="HookFormContext";const cc=()=>Z.useContext(nE),fV=e=>{const{children:t,watch:n,getValues:s,getFieldState:r,setError:a,clearErrors:o,setValue:l,trigger:u,formState:d,resetField:f,reset:m,handleSubmit:g,unregister:x,control:b,register:w,setFocus:j,subscribe:k}=e;return Z.createElement(nE.Provider,{value:Z.useMemo(()=>({watch:n,getValues:s,getFieldState:r,setError:a,clearErrors:o,setValue:l,trigger:u,formState:d,resetField:f,reset:m,handleSubmit:g,unregister:x,control:b,register:w,setFocus:j,subscribe:k}),[o,b,d,r,s,g,w,m,f,a,j,l,k,u,x,n])},Z.createElement(tE.Provider,{value:b},t))};var mV=(e,t,n,s,r)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:r||!0}}:{},$r=e=>Array.isArray(e)?e:[e],LR=()=>{let e=[];return{get observers(){return e},next:r=>{for(const a of e)a.next&&a.next(r)},subscribe:r=>(e.push(r),{unsubscribe:()=>{e=e.filter(a=>a!==r)}}),unsubscribe:()=>{e=[]}}};function pV(e,t){const n={};for(const s in e)if(e.hasOwnProperty(s)){const r=e[s],a=t[s];if(r&&bs(r)&&a){const o=pV(r,a);bs(o)&&(n[s]=o)}else e[s]&&(n[s]=a)}return n}var ir=e=>bs(e)&&!Object.keys(e).length,sE=e=>e.type==="file",Hv=e=>{if(!QC)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},gV=e=>e.type==="select-multiple",rE=e=>e.type==="radio",b0e=e=>rE(e)||Sg(e),$k=e=>Hv(e)&&e.isConnected;function w0e(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=bn(e)?s++:e[t[s++]];return e}function j0e(e){for(const t in e)if(e.hasOwnProperty(t)&&!bn(e[t]))return!1;return!0}function us(e,t){const n=Array.isArray(t)?t:Ob(t)?[t]:eE(t),s=n.length===1?e:w0e(e,n),r=n.length-1,a=n[r];return s&&delete s[a],r!==0&&(bs(s)&&ir(s)||Array.isArray(s)&&j0e(s))&&us(e,n.slice(0,-1)),e}var k0e=e=>{for(const t in e)if(vr(e[t]))return!0;return!1};function xV(e){return Array.isArray(e)||bs(e)&&!k0e(e)}function F2(e,t={}){for(const n in e){const s=e[n];xV(s)?(t[n]=Array.isArray(s)?[]:{},F2(s,t[n])):bn(s)||(t[n]=!0)}return t}function Yd(e,t,n){n||(n=F2(t));for(const s in e){const r=e[s];if(xV(r))bn(t)||B2(n[s])?n[s]=F2(r,Array.isArray(r)?[]:{}):Yd(r,Pr(t)?{}:t[s],n[s]);else{const a=t[s];n[s]=!ta(r,a)}}return n}const $R={value:!1,isValid:!1},VR={value:!0,isValid:!0};var vV=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!bn(e[0].attributes.value)?bn(e[0].value)||e[0].value===""?VR:{value:e[0].value,isValid:!0}:VR:$R}return $R},yV=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>bn(e)?e:t?e===""?NaN:e&&+e:n&&si(e)?new Date(e):s?s(e):e;const BR={isValid:!1,value:null};var bV=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,BR):BR;function FR(e){const t=e.ref;return sE(t)?t.files:rE(t)?bV(e.refs).value:gV(t)?[...t.selectedOptions].map(({value:n})=>n):Sg(t)?vV(e.refs).value:yV(bn(t.value)?e.ref.value:t.value,e)}var N0e=(e,t,n,s)=>{const r={};for(const a of e){const o=He(t,a);o&&an(r,a,o._f)}return{criteriaMode:n,names:[...e],fields:r,shouldUseNativeValidation:s}},qv=e=>e instanceof RegExp,dm=e=>bn(e)?e:qv(e)?e.source:bs(e)?qv(e.value)?e.value.source:e.value:e,oh=e=>({isOnSubmit:!e||e===Ti.onSubmit,isOnBlur:e===Ti.onBlur,isOnChange:e===Ti.onChange,isOnAll:e===Ti.all,isOnTouch:e===Ti.onTouched});const UR="AsyncFunction";var S0e=e=>!!e&&!!e.validate&&!!(vr(e.validate)&&e.validate.constructor.name===UR||bs(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===UR)),_0e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),U2=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const xh=(e,t,n,s)=>{for(const r of n||Object.keys(e)){const a=He(e,r);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],r)&&!s)return!0;if(o.ref&&t(o.ref,o.name)&&!s)return!0;if(xh(l,t))break}else if(bs(l)&&xh(l,t))break}}};function HR(e,t,n){const s=He(e,n);if(s||Ob(n))return{error:s,name:n};const r=n.split(".");for(;r.length;){const a=r.join("."),o=He(t,a),l=He(e,a);if(o&&!Array.isArray(o)&&n!==a)return{name:n};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};r.pop()}return{name:n}}var C0e=(e,t,n,s)=>{n(e);const{name:r,...a}=e;return ir(a)||Object.keys(a).length>=Object.keys(t).length||Object.keys(a).find(o=>t[o]===(!s||Ti.all))},E0e=(e,t,n)=>!e||!t||e===t||$r(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),T0e=(e,t,n,s,r)=>r.isOnAll?!1:!n&&r.isOnTouch?!(t||e):(n?s.isOnBlur:r.isOnBlur)?!e:(n?s.isOnChange:r.isOnChange)?e:!0,z0e=(e,t)=>!Db(He(e,t)).length&&us(e,t),wV=(e,t,n)=>{const s=$r(He(e,n));return an(s,"root",t[n]),an(e,n,s),e};function qR(e,t,n="validate"){if(si(e)||Array.isArray(e)&&e.every(si)||ei(e)&&!e)return{type:n,message:si(e)?e:"",ref:t}}var $d=e=>bs(e)&&!qv(e)?e:{value:e,message:""},H2=async(e,t,n,s,r,a)=>{const{ref:o,refs:l,required:u,maxLength:d,minLength:f,min:m,max:g,pattern:x,validate:b,name:w,valueAsNumber:j,mount:k}=e._f,S=He(n,w);if(!k||t.has(w))return{};const C=l?l[0]:o,E=$=>{r&&C.reportValidity&&(C.setCustomValidity(ei($)?"":$||""),C.reportValidity())},z={},R=rE(o),T=Sg(o),A=R||T,D=(j||sE(o))&&bn(o.value)&&bn(S)||Hv(o)&&o.value===""||S===""||Array.isArray(S)&&!S.length,F=mV.bind(null,w,s,z),V=($,q,K,ee=bo.maxLength,L=bo.minLength)=>{const P=$?q:K;z[w]={type:$?ee:L,message:P,ref:o,...F($?ee:L,P)}};if(a?!Array.isArray(S)||!S.length:u&&(!A&&(D||Pr(S))||ei(S)&&!S||T&&!vV(l).isValid||R&&!bV(l).isValid)){const{value:$,message:q}=si(u)?{value:!!u,message:u}:$d(u);if($&&(z[w]={type:bo.required,message:q,ref:C,...F(bo.required,q)},!s))return E(q),z}if(!D&&(!Pr(m)||!Pr(g))){let $,q;const K=$d(g),ee=$d(m);if(!Pr(S)&&!isNaN(S)){const L=o.valueAsNumber||S&&+S;Pr(K.value)||($=L>K.value),Pr(ee.value)||(q=L<ee.value)}else{const L=o.valueAsDate||new Date(S),P=U=>new Date(new Date().toDateString()+" "+U),I=o.type=="time",G=o.type=="week";si(K.value)&&S&&($=I?P(S)>P(K.value):G?S>K.value:L>new Date(K.value)),si(ee.value)&&S&&(q=I?P(S)<P(ee.value):G?S<ee.value:L<new Date(ee.value))}if(($||q)&&(V(!!$,K.message,ee.message,bo.max,bo.min),!s))return E(z[w].message),z}if((d||f)&&!D&&(si(S)||a&&Array.isArray(S))){const $=$d(d),q=$d(f),K=!Pr($.value)&&S.length>+$.value,ee=!Pr(q.value)&&S.length<+q.value;if((K||ee)&&(V(K,$.message,q.message),!s))return E(z[w].message),z}if(x&&!D&&si(S)){const{value:$,message:q}=$d(x);if(qv($)&&!S.match($)&&(z[w]={type:bo.pattern,message:q,ref:o,...F(bo.pattern,q)},!s))return E(q),z}if(b){if(vr(b)){const $=await b(S,n),q=qR($,C);if(q&&(z[w]={...q,...F(bo.validate,q.message)},!s))return E(q.message),z}else if(bs(b)){let $={};for(const q in b){if(!ir($)&&!s)break;const K=qR(await b[q](S,n),C,q);K&&($={...K,...F(q,K.message)},E(K.message),s&&(z[w]=$))}if(!ir($)&&(z[w]={ref:C,...$},!s))return z}}return E(!0),z};const A0e={mode:Ti.onSubmit,reValidateMode:Ti.onChange,shouldFocusError:!0};function M0e(e={}){let t={...A0e,...e},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:vr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},s={},r=bs(t.defaultValues)||bs(t.values)?zn(t.defaultValues||t.values)||{}:{},a=t.shouldUnregister?{}:zn(r),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},m={...f};let g={...m};const x={array:LR(),state:LR()},b=t.criteriaMode===Ti.all,w=J=>ae=>{clearTimeout(d),d=setTimeout(J,ae)},j=async J=>{if(!o.keepIsValid&&!t.disabled&&(m.isValid||g.isValid||J)){let ae;t.resolver?(ae=ir((await A()).errors),k()):ae=await F(s,!0),ae!==n.isValid&&x.state.next({isValid:ae})}},k=(J,ae)=>{!t.disabled&&(m.isValidating||m.validatingFields||g.isValidating||g.validatingFields)&&((J||Array.from(l.mount)).forEach(fe=>{fe&&(ae?an(n.validatingFields,fe,ae):us(n.validatingFields,fe))}),x.state.next({validatingFields:n.validatingFields,isValidating:!ir(n.validatingFields)}))},S=(J,ae=[],fe,ze,Me=!0,_e=!0)=>{if(ze&&fe&&!t.disabled){if(o.action=!0,_e&&Array.isArray(He(s,J))){const Be=fe(He(s,J),ze.argA,ze.argB);Me&&an(s,J,Be)}if(_e&&Array.isArray(He(n.errors,J))){const Be=fe(He(n.errors,J),ze.argA,ze.argB);Me&&an(n.errors,J,Be),z0e(n.errors,J)}if((m.touchedFields||g.touchedFields)&&_e&&Array.isArray(He(n.touchedFields,J))){const Be=fe(He(n.touchedFields,J),ze.argA,ze.argB);Me&&an(n.touchedFields,J,Be)}(m.dirtyFields||g.dirtyFields)&&(n.dirtyFields=Yd(r,a)),x.state.next({name:J,isDirty:$(J,ae),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else an(a,J,ae)},C=(J,ae)=>{an(n.errors,J,ae),x.state.next({errors:n.errors})},E=J=>{n.errors=J,x.state.next({errors:n.errors,isValid:!1})},z=(J,ae,fe,ze)=>{const Me=He(s,J);if(Me){const _e=He(a,J,bn(fe)?He(r,J):fe);bn(_e)||ze&&ze.defaultChecked||ae?an(a,J,ae?_e:FR(Me._f)):ee(J,_e),o.mount&&!o.action&&j()}},R=(J,ae,fe,ze,Me)=>{let _e=!1,Be=!1;const ot={name:J};if(!t.disabled){if(!fe||ze){(m.isDirty||g.isDirty)&&(Be=n.isDirty,n.isDirty=ot.isDirty=$(),_e=Be!==ot.isDirty);const Ee=ta(He(r,J),ae);Be=!!He(n.dirtyFields,J),Ee?us(n.dirtyFields,J):an(n.dirtyFields,J,!0),ot.dirtyFields=n.dirtyFields,_e=_e||(m.dirtyFields||g.dirtyFields)&&Be!==!Ee}if(fe){const Ee=He(n.touchedFields,J);Ee||(an(n.touchedFields,J,fe),ot.touchedFields=n.touchedFields,_e=_e||(m.touchedFields||g.touchedFields)&&Ee!==fe)}_e&&Me&&x.state.next(ot)}return _e?ot:{}},T=(J,ae,fe,ze)=>{const Me=He(n.errors,J),_e=(m.isValid||g.isValid)&&ei(ae)&&n.isValid!==ae;if(t.delayError&&fe?(u=w(()=>C(J,fe)),u(t.delayError)):(clearTimeout(d),u=null,fe?an(n.errors,J,fe):us(n.errors,J)),(fe?!ta(Me,fe):Me)||!ir(ze)||_e){const Be={...ze,..._e&&ei(ae)?{isValid:ae}:{},errors:n.errors,name:J};n={...n,...Be},x.state.next(Be)}},A=async J=>(k(J,!0),await t.resolver(a,t.context,N0e(J||l.mount,s,t.criteriaMode,t.shouldUseNativeValidation))),D=async J=>{const{errors:ae}=await A(J);if(k(J),J)for(const fe of J){const ze=He(ae,fe);ze?an(n.errors,fe,ze):us(n.errors,fe)}else n.errors=ae;return ae},F=async(J,ae,fe={valid:!0})=>{for(const ze in J){const Me=J[ze];if(Me){const{_f:_e,...Be}=Me;if(_e){const ot=l.array.has(_e.name),Ee=Me._f&&S0e(Me._f);Ee&&m.validatingFields&&k([_e.name],!0);const Fe=await H2(Me,l.disabled,a,b,t.shouldUseNativeValidation&&!ae,ot);if(Ee&&m.validatingFields&&k([_e.name]),Fe[_e.name]&&(fe.valid=!1,ae||e.shouldUseNativeValidation))break;!ae&&(He(Fe,_e.name)?ot?wV(n.errors,Fe,_e.name):an(n.errors,_e.name,Fe[_e.name]):us(n.errors,_e.name))}!ir(Be)&&await F(Be,ae,fe)}}return fe.valid},V=()=>{for(const J of l.unMount){const ae=He(s,J);ae&&(ae._f.refs?ae._f.refs.every(fe=>!$k(fe)):!$k(ae._f.ref))&&oe(J)}l.unMount=new Set},$=(J,ae)=>!t.disabled&&(J&&ae&&an(a,J,ae),!ta(M(),r)),q=(J,ae,fe)=>V2(J,l,{...o.mount?a:bn(ae)?r:si(J)?{[J]:ae}:ae},fe,ae),K=J=>Db(He(o.mount?a:r,J,t.shouldUnregister?He(r,J,[]):[])),ee=(J,ae,fe={})=>{const ze=He(s,J);let Me=ae;if(ze){const _e=ze._f;_e&&(!_e.disabled&&an(a,J,yV(ae,_e)),Me=Hv(_e.ref)&&Pr(ae)?"":ae,gV(_e.ref)?[..._e.ref.options].forEach(Be=>Be.selected=Me.includes(Be.value)):_e.refs?Sg(_e.ref)?_e.refs.forEach(Be=>{(!Be.defaultChecked||!Be.disabled)&&(Array.isArray(Me)?Be.checked=!!Me.find(ot=>ot===Be.value):Be.checked=Me===Be.value||!!Me)}):_e.refs.forEach(Be=>Be.checked=Be.value===Me):sE(_e.ref)?_e.ref.value="":(_e.ref.value=Me,_e.ref.type||x.state.next({name:J,values:zn(a)})))}(fe.shouldDirty||fe.shouldTouch)&&R(J,Me,fe.shouldTouch,fe.shouldDirty,!0),fe.shouldValidate&&U(J)},L=(J,ae,fe)=>{for(const ze in ae){if(!ae.hasOwnProperty(ze))return;const Me=ae[ze],_e=J+"."+ze,Be=He(s,_e);(l.array.has(J)||bs(Me)||Be&&!Be._f)&&!nu(Me)?L(_e,Me,fe):ee(_e,Me,fe)}},P=(J,ae,fe={})=>{const ze=He(s,J),Me=l.array.has(J),_e=zn(ae);an(a,J,_e),Me?(x.array.next({name:J,values:zn(a)}),(m.isDirty||m.dirtyFields||g.isDirty||g.dirtyFields)&&fe.shouldDirty&&x.state.next({name:J,dirtyFields:Yd(r,a),isDirty:$(J,_e)})):ze&&!ze._f&&!Pr(_e)?L(J,_e,fe):ee(J,_e,fe),U2(J,l)?x.state.next({...n,name:J,values:zn(a)}):x.state.next({name:o.mount?J:void 0,values:zn(a)})},I=async J=>{o.mount=!0;const ae=J.target;let fe=ae.name,ze=!0;const Me=He(s,fe),_e=Ee=>{ze=Number.isNaN(Ee)||nu(Ee)&&isNaN(Ee.getTime())||ta(Ee,He(a,fe,Ee))},Be=oh(t.mode),ot=oh(t.reValidateMode);if(Me){let Ee,Fe;const tt=ae.type?FR(Me._f):uV(J),Ge=J.type===Uv.BLUR||J.type===Uv.FOCUS_OUT,mt=!_0e(Me._f)&&!t.resolver&&!He(n.errors,fe)&&!Me._f.deps||T0e(Ge,He(n.touchedFields,fe),n.isSubmitted,ot,Be),kt=U2(fe,l,Ge);an(a,fe,tt),Ge?(!ae||!ae.readOnly)&&(Me._f.onBlur&&Me._f.onBlur(J),u&&u(0)):Me._f.onChange&&Me._f.onChange(J);const Mt=R(fe,tt,Ge),on=!ir(Mt)||kt;if(!Ge&&x.state.next({name:fe,type:J.type,values:zn(a)}),mt)return(m.isValid||g.isValid)&&(t.mode==="onBlur"?Ge&&j():Ge||j()),on&&x.state.next({name:fe,...kt?{}:Mt});if(!Ge&&kt&&x.state.next({...n}),t.resolver){const{errors:pr}=await A([fe]);if(k([fe]),_e(tt),ze){const Wn=HR(n.errors,s,fe),Ye=HR(pr,s,Wn.name||fe);Ee=Ye.error,fe=Ye.name,Fe=ir(pr)}}else k([fe],!0),Ee=(await H2(Me,l.disabled,a,b,t.shouldUseNativeValidation))[fe],k([fe]),_e(tt),ze&&(Ee?Fe=!1:(m.isValid||g.isValid)&&(Fe=await F(s,!0)));ze&&(Me._f.deps&&(!Array.isArray(Me._f.deps)||Me._f.deps.length>0)&&U(Me._f.deps),T(fe,Fe,Ee,Mt))}},G=(J,ae)=>{if(He(n.errors,ae)&&J.focus)return J.focus(),1},U=async(J,ae={})=>{let fe,ze;const Me=$r(J);if(t.resolver){const _e=await D(bn(J)?J:Me);fe=ir(_e),ze=J?!Me.some(Be=>He(_e,Be)):fe}else J?(ze=(await Promise.all(Me.map(async _e=>{const Be=He(s,_e);return await F(Be&&Be._f?{[_e]:Be}:Be)}))).every(Boolean),!(!ze&&!n.isValid)&&j()):ze=fe=await F(s);return x.state.next({...!si(J)||(m.isValid||g.isValid)&&fe!==n.isValid?{}:{name:J},...t.resolver||!J?{isValid:fe}:{},errors:n.errors}),ae.shouldFocus&&!ze&&xh(s,G,J?Me:l.mount),ze},M=(J,ae)=>{let fe={...o.mount?a:r};return ae&&(fe=pV(ae.dirtyFields?n.dirtyFields:n.touchedFields,fe)),bn(J)?fe:si(J)?He(fe,J):J.map(ze=>He(fe,ze))},H=(J,ae)=>({invalid:!!He((ae||n).errors,J),isDirty:!!He((ae||n).dirtyFields,J),error:He((ae||n).errors,J),isValidating:!!He(n.validatingFields,J),isTouched:!!He((ae||n).touchedFields,J)}),W=J=>{J&&$r(J).forEach(ae=>us(n.errors,ae)),x.state.next({errors:J?n.errors:{}})},te=(J,ae,fe)=>{const ze=(He(s,J,{_f:{}})._f||{}).ref,Me=He(n.errors,J)||{},{ref:_e,message:Be,type:ot,...Ee}=Me;an(n.errors,J,{...Ee,...ae,ref:ze}),x.state.next({name:J,errors:n.errors,isValid:!1}),fe&&fe.shouldFocus&&ze&&ze.focus&&ze.focus()},le=(J,ae)=>vr(J)?x.state.subscribe({next:fe=>"values"in fe&&J(q(void 0,ae),fe)}):q(J,ae,!0),ce=J=>x.state.subscribe({next:ae=>{E0e(J.name,ae.name,J.exact)&&C0e(ae,J.formState||m,jt,J.reRenderRoot)&&J.callback({values:{...a},...n,...ae,defaultValues:r})}}).unsubscribe,Y=J=>(o.mount=!0,g={...g,...J.formState},ce({...J,formState:{...f,...J.formState}})),oe=(J,ae={})=>{for(const fe of J?$r(J):l.mount)l.mount.delete(fe),l.array.delete(fe),ae.keepValue||(us(s,fe),us(a,fe)),!ae.keepError&&us(n.errors,fe),!ae.keepDirty&&us(n.dirtyFields,fe),!ae.keepTouched&&us(n.touchedFields,fe),!ae.keepIsValidating&&us(n.validatingFields,fe),!t.shouldUnregister&&!ae.keepDefaultValue&&us(r,fe);x.state.next({values:zn(a)}),x.state.next({...n,...ae.keepDirty?{isDirty:$()}:{}}),!ae.keepIsValid&&j()},he=({disabled:J,name:ae})=>{if(ei(J)&&o.mount||J||l.disabled.has(ae)){const Me=l.disabled.has(ae)!==!!J;J?l.disabled.add(ae):l.disabled.delete(ae),Me&&o.mount&&!o.action&&j()}},be=(J,ae={})=>{let fe=He(s,J);const ze=ei(ae.disabled)||ei(t.disabled);return an(s,J,{...fe||{},_f:{...fe&&fe._f?fe._f:{ref:{name:J}},name:J,mount:!0,...ae}}),l.mount.add(J),fe?he({disabled:ei(ae.disabled)?ae.disabled:t.disabled,name:J}):z(J,!0,ae.value),{...ze?{disabled:ae.disabled||t.disabled}:{},...t.progressive?{required:!!ae.required,min:dm(ae.min),max:dm(ae.max),minLength:dm(ae.minLength),maxLength:dm(ae.maxLength),pattern:dm(ae.pattern)}:{},name:J,onChange:I,onBlur:I,ref:Me=>{if(Me){be(J,ae),fe=He(s,J);const _e=bn(Me.value)&&Me.querySelectorAll&&Me.querySelectorAll("input,select,textarea")[0]||Me,Be=b0e(_e),ot=fe._f.refs||[];if(Be?ot.find(Ee=>Ee===_e):_e===fe._f.ref)return;an(s,J,{_f:{...fe._f,...Be?{refs:[...ot.filter($k),_e,...Array.isArray(He(r,J))?[{}]:[]],ref:{type:_e.type,name:J}}:{ref:_e}}}),z(J,!1,void 0,_e)}else fe=He(s,J,{}),fe._f&&(fe._f.mount=!1),(t.shouldUnregister||ae.shouldUnregister)&&!(dV(l.array,J)&&o.action)&&l.unMount.add(J)}}},we=()=>t.shouldFocusError&&xh(s,G,l.mount),xe=J=>{ei(J)&&(x.state.next({disabled:J}),xh(s,(ae,fe)=>{const ze=He(s,fe);ze&&(ae.disabled=ze._f.disabled||J,Array.isArray(ze._f.refs)&&ze._f.refs.forEach(Me=>{Me.disabled=ze._f.disabled||J}))},0,!1))},Ae=(J,ae)=>async fe=>{let ze;fe&&(fe.preventDefault&&fe.preventDefault(),fe.persist&&fe.persist());let Me=zn(a);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:_e,values:Be}=await A();k(),n.errors=_e,Me=zn(Be)}else await F(s);if(l.disabled.size)for(const _e of l.disabled)us(Me,_e);if(us(n.errors,"root"),ir(n.errors)){x.state.next({errors:{}});try{await J(Me,fe)}catch(_e){ze=_e}}else ae&&await ae({...n.errors},fe),we(),setTimeout(we);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:ir(n.errors)&&!ze,submitCount:n.submitCount+1,errors:n.errors}),ze)throw ze},re=(J,ae={})=>{He(s,J)&&(bn(ae.defaultValue)?P(J,zn(He(r,J))):(P(J,ae.defaultValue),an(r,J,zn(ae.defaultValue))),ae.keepTouched||us(n.touchedFields,J),ae.keepDirty||(us(n.dirtyFields,J),n.isDirty=ae.defaultValue?$(J,zn(He(r,J))):$()),ae.keepError||(us(n.errors,J),m.isValid&&j()),x.state.next({...n}))},Ce=(J,ae={})=>{const fe=J?zn(J):r,ze=zn(fe),Me=ir(J),_e=Me?r:ze;if(ae.keepDefaultValues||(r=fe),!ae.keepValues){if(ae.keepDirtyValues){const Be=new Set([...l.mount,...Object.keys(Yd(r,a))]);for(const ot of Array.from(Be)){const Ee=He(n.dirtyFields,ot),Fe=He(a,ot),tt=He(_e,ot);Ee&&!bn(Fe)?an(_e,ot,Fe):!Ee&&!bn(tt)&&P(ot,tt)}}else{if(QC&&bn(J))for(const Be of l.mount){const ot=He(s,Be);if(ot&&ot._f){const Ee=Array.isArray(ot._f.refs)?ot._f.refs[0]:ot._f.ref;if(Hv(Ee)){const Fe=Ee.closest("form");if(Fe){Fe.reset();break}}}}if(ae.keepFieldsRef)for(const Be of l.mount)P(Be,He(_e,Be));else s={}}a=t.shouldUnregister?ae.keepDefaultValues?zn(r):{}:zn(_e),x.array.next({values:{..._e}}),x.state.next({values:{..._e}})}l={mount:ae.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!m.isValid||!!ae.keepIsValid||!!ae.keepDirtyValues||!t.shouldUnregister&&!ir(_e),o.watch=!!t.shouldUnregister,o.keepIsValid=!!ae.keepIsValid,o.action=!1,ae.keepErrors||(n.errors={}),x.state.next({submitCount:ae.keepSubmitCount?n.submitCount:0,isDirty:Me?!1:ae.keepDirty?n.isDirty:!!(ae.keepDefaultValues&&!ta(J,r)),isSubmitted:ae.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Me?{}:ae.keepDirtyValues?ae.keepDefaultValues&&a?Yd(r,a):n.dirtyFields:ae.keepDefaultValues&&J?Yd(r,J):ae.keepDirty?n.dirtyFields:{},touchedFields:ae.keepTouched?n.touchedFields:{},errors:ae.keepErrors?n.errors:{},isSubmitSuccessful:ae.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:r})},Ze=(J,ae)=>Ce(vr(J)?J(a):J,{...t.resetOptions,...ae}),it=(J,ae={})=>{const fe=He(s,J),ze=fe&&fe._f;if(ze){const Me=ze.refs?ze.refs[0]:ze.ref;Me.focus&&setTimeout(()=>{Me.focus(),ae.shouldSelect&&vr(Me.select)&&Me.select()})}},jt=J=>{n={...n,...J}},ct={control:{register:be,unregister:oe,getFieldState:H,handleSubmit:Ae,setError:te,_subscribe:ce,_runSchema:A,_updateIsValidating:k,_focusError:we,_getWatch:q,_getDirty:$,_setValid:j,_setFieldArray:S,_setDisabledField:he,_setErrors:E,_getFieldArray:K,_reset:Ce,_resetDefaultValues:()=>vr(t.defaultValues)&&t.defaultValues().then(J=>{Ze(J,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:xe,_subjects:x,_proxyFormState:m,get _fields(){return s},get _formValues(){return a},get _state(){return o},set _state(J){o=J},get _defaultValues(){return r},get _names(){return l},set _names(J){l=J},get _formState(){return n},get _options(){return t},set _options(J){t={...t,...J}}},subscribe:Y,trigger:U,register:be,handleSubmit:Ae,watch:le,setValue:P,getValues:M,reset:Ze,resetField:re,clearErrors:W,unregister:oe,setError:te,setFocus:it,getFieldState:H};return{...ct,formControl:ct}}var yl=()=>{if(typeof crypto<"u"&&crypto.randomUUID)return crypto.randomUUID();const e=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const n=(Math.random()*16+e)%16|0;return(t=="x"?n:n&3|8).toString(16)})},Vk=(e,t,n={})=>n.shouldFocus||bn(n.shouldFocus)?n.focusName||`${e}.${bn(n.focusIndex)?t:n.focusIndex}.`:"",Bk=(e,t)=>[...e,...$r(t)],Fk=e=>Array.isArray(e)?e.map(()=>{}):void 0;function Uk(e,t,n){return[...e.slice(0,t),...$r(n),...e.slice(t)]}var Hk=(e,t,n)=>Array.isArray(e)?(bn(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],qk=(e,t)=>[...$r(t),...$r(e)];function R0e(e,t){let n=0;const s=[...e];for(const r of t)s.splice(r-n,1),n++;return Db(s).length?s:[]}var Zk=(e,t)=>bn(t)?[]:R0e(e,$r(t).sort((n,s)=>n-s)),Wk=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},ZR=(e,t,n)=>(e[t]=n,e);function O0e(e){const t=Pb(),{control:n=t,name:s,keyName:r="id",shouldUnregister:a,rules:o}=e,[l,u]=Z.useState(n._getFieldArray(s)),d=Z.useRef(n._getFieldArray(s).map(yl)),f=Z.useRef(!1);n._names.array.add(s),Z.useMemo(()=>o&&l.length>=0&&n.register(s,o),[n,s,l.length,o]),Ib(()=>n._subjects.array.subscribe({next:({values:E,name:z})=>{if(z===s||!z){const R=He(E,s);Array.isArray(R)&&(u(R),d.current=R.map(yl))}}}).unsubscribe,[n,s]);const m=Z.useCallback(E=>{f.current=!0,n._setFieldArray(s,E)},[n,s]),g=(E,z)=>{const R=$r(zn(E)),T=Bk(n._getFieldArray(s),R);n._names.focus=Vk(s,T.length-1,z),d.current=Bk(d.current,R.map(yl)),m(T),u(T),n._setFieldArray(s,T,Bk,{argA:Fk(E)})},x=(E,z)=>{const R=$r(zn(E)),T=qk(n._getFieldArray(s),R);n._names.focus=Vk(s,0,z),d.current=qk(d.current,R.map(yl)),m(T),u(T),n._setFieldArray(s,T,qk,{argA:Fk(E)})},b=E=>{const z=Zk(n._getFieldArray(s),E);d.current=Zk(d.current,E),m(z),u(z),!Array.isArray(He(n._fields,s))&&an(n._fields,s,void 0),n._setFieldArray(s,z,Zk,{argA:E})},w=(E,z,R)=>{const T=$r(zn(z)),A=Uk(n._getFieldArray(s),E,T);n._names.focus=Vk(s,E,R),d.current=Uk(d.current,E,T.map(yl)),m(A),u(A),n._setFieldArray(s,A,Uk,{argA:E,argB:Fk(z)})},j=(E,z)=>{const R=n._getFieldArray(s);Wk(R,E,z),Wk(d.current,E,z),m(R),u(R),n._setFieldArray(s,R,Wk,{argA:E,argB:z},!1)},k=(E,z)=>{const R=n._getFieldArray(s);Hk(R,E,z),Hk(d.current,E,z),m(R),u(R),n._setFieldArray(s,R,Hk,{argA:E,argB:z},!1)},S=(E,z)=>{const R=zn(z),T=ZR(n._getFieldArray(s),E,R);d.current=[...T].map((A,D)=>!A||D===E?yl():d.current[D]),m(T),u([...T]),n._setFieldArray(s,T,ZR,{argA:E,argB:R},!0,!1)},C=E=>{const z=$r(zn(E));d.current=z.map(yl),m([...z]),u([...z]),n._setFieldArray(s,[...z],R=>R,{},!0,!1)};return Z.useEffect(()=>{if(n._state.action=!1,U2(s,n._names)&&n._subjects.state.next({...n._formState}),f.current&&(!oh(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!oh(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([s]).then(E=>{n._updateIsValidating([s]);const z=He(E.errors,s),R=He(n._formState.errors,s);(R?!z&&R.type||z&&(R.type!==z.type||R.message!==z.message):z&&z.type)&&(z?an(n._formState.errors,s,z):us(n._formState.errors,s),n._subjects.state.next({errors:n._formState.errors}))});else{const E=He(n._fields,s);E&&E._f&&!(oh(n._options.reValidateMode).isOnSubmit&&oh(n._options.mode).isOnSubmit)&&H2(E,n._names.disabled,n._formValues,n._options.criteriaMode===Ti.all,n._options.shouldUseNativeValidation,!0).then(z=>!ir(z)&&n._subjects.state.next({errors:wV(n._formState.errors,z,s)}))}n._subjects.state.next({name:s,values:zn(n._formValues)}),n._names.focus&&xh(n._fields,(E,z)=>{if(n._names.focus&&z.startsWith(n._names.focus)&&E.focus)return E.focus(),1}),n._names.focus="",n._setValid(),f.current=!1},[l,s,n]),Z.useEffect(()=>(!He(n._formValues,s)&&n._setFieldArray(s),()=>{const E=(z,R)=>{const T=He(n._fields,z);T&&T._f&&(T._f.mount=R)};n._options.shouldUnregister||a?n.unregister(s):E(s,!1)}),[s,n,r,a]),{swap:Z.useCallback(j,[m,s,n]),move:Z.useCallback(k,[m,s,n]),prepend:Z.useCallback(x,[m,s,n]),append:Z.useCallback(g,[m,s,n]),remove:Z.useCallback(b,[m,s,n]),insert:Z.useCallback(w,[m,s,n]),update:Z.useCallback(S,[m,s,n]),replace:Z.useCallback(C,[m,s,n]),fields:Z.useMemo(()=>l.map((E,z)=>({...E,[r]:d.current[z]||yl()})),[l,r])}}function _g(e={}){const t=Z.useRef(void 0),n=Z.useRef(void 0),[s,r]=Z.useState({isDirty:!1,isValidating:!1,isLoading:vr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:vr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:s},e.defaultValues&&!vr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:o,...l}=M0e(e);t.current={...l,formState:s}}const a=t.current.control;return a._options=e,Ib(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>r({...a._formState}),reRenderRoot:!0});return r(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),Z.useEffect(()=>a._disableForm(e.disabled),[a,e.disabled]),Z.useEffect(()=>{e.mode&&(a._options.mode=e.mode),e.reValidateMode&&(a._options.reValidateMode=e.reValidateMode)},[a,e.mode,e.reValidateMode]),Z.useEffect(()=>{e.errors&&(a._setErrors(e.errors),a._focusError())},[a,e.errors]),Z.useEffect(()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,e.shouldUnregister]),Z.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==s.isDirty&&a._subjects.state.next({isDirty:o})}},[a,s.isDirty]),Z.useEffect(()=>{var o;e.values&&!ta(e.values,n.current)?(a._reset(e.values,{keepFieldsRef:!0,...a._options.resetOptions}),!((o=a._options.resetOptions)===null||o===void 0)&&o.keepIsValid||a._setValid(),n.current=e.values,r(l=>({...l}))):a._resetDefaultValues()},[a,e.values]),Z.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),t.current.formState=Z.useMemo(()=>hV(s,a),[a,s]),t.current}const D0e=v.forwardRef(({className:e,...t},n)=>i.jsx("fieldset",{ref:n,className:se("space-y-2",e),...t}));D0e.displayName="FieldSet";const P0e=v.forwardRef(({className:e,...t},n)=>i.jsx("legend",{ref:n,className:se("text-sm font-medium leading-none",e),...t}));P0e.displayName="FieldLegend";const Jt=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:se("relative",e),...t}));Jt.displayName="Field";const mn=v.forwardRef(({className:e,hasDisabled:t,hasChecked:n,...s},r)=>i.jsx("label",{ref:r,"data-disabled":t,"data-checked":n,className:se("[&:has(:disabled)]:opacity-50","[&:has(:checked)]:has-checked","[&:has(:disabled)]:has-disabled",e),...s}));mn.displayName="FieldLabel";const Ls=v.forwardRef(({className:e,errors:t,...n},s)=>{var a;const r=(a=t==null?void 0:t[0])==null?void 0:a.message;return r?i.jsx("p",{ref:s,className:se("text-sm text-destructive",e),...n,children:r}):null});Ls.displayName="FieldError";const iE=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:se("flex flex-col gap-2",e),...t}));iE.displayName="FieldGroup";const du=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:se("flex flex-col gap-0.5",e),...t}));du.displayName="FieldContent";const hu=v.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:se("text-sm font-medium",e),...t}));hu.displayName="FieldTitle";const ov=v.forwardRef(({className:e,...t},n)=>i.jsx("p",{ref:n,className:se("text-xs text-muted-foreground",e),...t}));ov.displayName="FieldDescription";function I0e(e){const t=L0e(e),n=v.forwardRef((s,r)=>{const{children:a,...o}=s,l=v.Children.toArray(a),u=l.find(V0e);if(u){const d=u.props.children,f=l.map(m=>m===u?v.Children.count(d)>1?v.Children.only(null):v.isValidElement(d)?d.props.children:null:m);return i.jsx(t,{...o,ref:r,children:v.isValidElement(d)?v.cloneElement(d,void 0,f):null})}return i.jsx(t,{...o,ref:r,children:a})});return n.displayName=`${e}.Slot`,n}function L0e(e){const t=v.forwardRef((n,s)=>{const{children:r,...a}=n;if(v.isValidElement(r)){const o=F0e(r),l=B0e(a,r.props);return r.type!==v.Fragment&&(l.ref=s?Ja(s,o):o),v.cloneElement(r,l)}return v.Children.count(r)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $0e=Symbol("radix.slottable");function V0e(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$0e}function B0e(e,t){const n={...t};for(const s in t){const r=e[s],a=t[s];/^on[A-Z]/.test(s)?r&&a?n[s]=(...l)=>{const u=a(...l);return r(...l),u}:r&&(n[s]=r):s==="style"?n[s]={...r,...a}:s==="className"&&(n[s]=[r,a].filter(Boolean).join(" "))}return{...e,...n}}function F0e(e){var s,r;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(r=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var U0e=[" ","Enter","ArrowUp","ArrowDown"],H0e=[" ","Enter"],Nu="Select",[Lb,$b,q0e]=tf(Nu),[of]=fr(Nu,[q0e,rf]),Vb=rf(),[Z0e,uc]=of(Nu),[W0e,K0e]=of(Nu),jV=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:r,onOpenChange:a,value:o,defaultValue:l,onValueChange:u,dir:d,name:f,autoComplete:m,disabled:g,required:x,form:b}=e,w=Vb(t),[j,k]=v.useState(null),[S,C]=v.useState(null),[E,z]=v.useState(!1),R=lc(d),[T,A]=Fr({prop:s,defaultProp:r??!1,onChange:a,caller:Nu}),[D,F]=Fr({prop:o,defaultProp:l,onChange:u,caller:Nu}),V=v.useRef(null),$=j?b||!!j.closest("form"):!0,[q,K]=v.useState(new Set),ee=Array.from(q).map(L=>L.props.value).join(";");return i.jsx(SC,{...w,children:i.jsxs(Z0e,{required:x,scope:t,trigger:j,onTriggerChange:k,valueNode:S,onValueNodeChange:C,valueNodeHasChildren:E,onValueNodeHasChildrenChange:z,contentId:jr(),value:D,onValueChange:F,open:T,onOpenChange:A,dir:R,triggerPointerDownPosRef:V,disabled:g,children:[i.jsx(Lb.Provider,{scope:t,children:i.jsx(W0e,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(L=>{K(P=>new Set(P).add(L))},[]),onNativeOptionRemove:v.useCallback(L=>{K(P=>{const I=new Set(P);return I.delete(L),I})},[]),children:n})}),$?i.jsxs(ZV,{"aria-hidden":!0,required:x,tabIndex:-1,name:f,autoComplete:m,value:D,onChange:L=>F(L.target.value),disabled:g,form:b,children:[D===void 0?i.jsx("option",{value:""}):null,Array.from(q)]},ee):null]})})};jV.displayName=Nu;var kV="SelectTrigger",NV=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...r}=e,a=Vb(n),o=uc(kV,n),l=o.disabled||s,u=St(t,o.onTriggerChange),d=$b(n),f=v.useRef("touch"),[m,g,x]=KV(w=>{const j=d().filter(C=>!C.disabled),k=j.find(C=>C.value===o.value),S=GV(j,w,k);S!==void 0&&o.onValueChange(S.value)}),b=w=>{l||(o.onOpenChange(!0),x()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return i.jsx(_C,{asChild:!0,...a,children:i.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":WV(o.value)?"":void 0,...r,ref:u,onClick:Ie(r.onClick,w=>{w.currentTarget.focus(),f.current!=="mouse"&&b(w)}),onPointerDown:Ie(r.onPointerDown,w=>{f.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(b(w),w.preventDefault())}),onKeyDown:Ie(r.onKeyDown,w=>{const j=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(j&&w.key===" ")&&U0e.includes(w.key)&&(b(),w.preventDefault())})})})});NV.displayName=kV;var SV="SelectValue",_V=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:r,children:a,placeholder:o="",...l}=e,u=uc(SV,n),{onValueNodeHasChildrenChange:d}=u,f=a!==void 0,m=St(t,u.onValueNodeChange);return $n(()=>{d(f)},[d,f]),i.jsx(Xe.span,{...l,ref:m,style:{pointerEvents:"none"},children:WV(u.value)?i.jsx(i.Fragment,{children:o}):a})});_V.displayName=SV;var G0e="SelectIcon",CV=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...r}=e;return i.jsx(Xe.span,{"aria-hidden":!0,...r,ref:t,children:s||""})});CV.displayName=G0e;var Y0e="SelectPortal",EV=e=>i.jsx(ug,{asChild:!0,...e});EV.displayName=Y0e;var Su="SelectContent",TV=v.forwardRef((e,t)=>{const n=uc(Su,e.__scopeSelect),[s,r]=v.useState();if($n(()=>{r(new DocumentFragment)},[]),!n.open){const a=s;return a?sa.createPortal(i.jsx(zV,{scope:e.__scopeSelect,children:i.jsx(Lb.Slot,{scope:e.__scopeSelect,children:i.jsx("div",{children:e.children})})}),a):null}return i.jsx(AV,{...e,ref:t})});TV.displayName=Su;var Xi=10,[zV,dc]=of(Su),J0e="SelectContentImpl",X0e=I0e("SelectContent.RemoveScroll"),AV=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:w,avoidCollisions:j,...k}=e,S=uc(Su,n),[C,E]=v.useState(null),[z,R]=v.useState(null),T=St(t,Y=>E(Y)),[A,D]=v.useState(null),[F,V]=v.useState(null),$=$b(n),[q,K]=v.useState(!1),ee=v.useRef(!1);v.useEffect(()=>{if(C)return Y_(C)},[C]),G_();const L=v.useCallback(Y=>{const[oe,...he]=$().map(xe=>xe.ref.current),[be]=he.slice(-1),we=document.activeElement;for(const xe of Y)if(xe===we||(xe==null||xe.scrollIntoView({block:"nearest"}),xe===oe&&z&&(z.scrollTop=0),xe===be&&z&&(z.scrollTop=z.scrollHeight),xe==null||xe.focus(),document.activeElement!==we))return},[$,z]),P=v.useCallback(()=>L([A,C]),[L,A,C]);v.useEffect(()=>{q&&P()},[q,P]);const{onOpenChange:I,triggerPointerDownPosRef:G}=S;v.useEffect(()=>{if(C){let Y={x:0,y:0};const oe=be=>{var we,xe;Y={x:Math.abs(Math.round(be.pageX)-(((we=G.current)==null?void 0:we.x)??0)),y:Math.abs(Math.round(be.pageY)-(((xe=G.current)==null?void 0:xe.y)??0))}},he=be=>{Y.x<=10&&Y.y<=10?be.preventDefault():C.contains(be.target)||I(!1),document.removeEventListener("pointermove",oe),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",oe),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",oe),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,I,G]),v.useEffect(()=>{const Y=()=>I(!1);return window.addEventListener("blur",Y),window.addEventListener("resize",Y),()=>{window.removeEventListener("blur",Y),window.removeEventListener("resize",Y)}},[I]);const[U,M]=KV(Y=>{const oe=$().filter(we=>!we.disabled),he=oe.find(we=>we.ref.current===document.activeElement),be=GV(oe,Y,he);be&&setTimeout(()=>be.ref.current.focus())}),H=v.useCallback((Y,oe,he)=>{const be=!ee.current&&!he;(S.value!==void 0&&S.value===oe||be)&&(D(Y),be&&(ee.current=!0))},[S.value]),W=v.useCallback(()=>C==null?void 0:C.focus(),[C]),te=v.useCallback((Y,oe,he)=>{const be=!ee.current&&!he;(S.value!==void 0&&S.value===oe||be)&&V(Y)},[S.value]),le=s==="popper"?q2:MV,ce=le===q2?{side:l,sideOffset:u,align:d,alignOffset:f,arrowPadding:m,collisionBoundary:g,collisionPadding:x,sticky:b,hideWhenDetached:w,avoidCollisions:j}:{};return i.jsx(zV,{scope:n,content:C,viewport:z,onViewportChange:R,itemRefCallback:H,selectedItem:A,onItemLeave:W,itemTextRefCallback:te,focusSelectedItem:P,selectedItemText:F,position:s,isPositioned:q,searchRef:U,children:i.jsx(xb,{as:X0e,allowPinchZoom:!0,children:i.jsx(pb,{asChild:!0,trapped:S.open,onMountAutoFocus:Y=>{Y.preventDefault()},onUnmountAutoFocus:Ie(r,Y=>{var oe;(oe=S.trigger)==null||oe.focus({preventScroll:!0}),Y.preventDefault()}),children:i.jsx(ef,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:Y=>Y.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:i.jsx(le,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:Y=>Y.preventDefault(),...k,...ce,onPlaced:()=>K(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...k.style},onKeyDown:Ie(k.onKeyDown,Y=>{const oe=Y.ctrlKey||Y.altKey||Y.metaKey;if(Y.key==="Tab"&&Y.preventDefault(),!oe&&Y.key.length===1&&M(Y.key),["ArrowUp","ArrowDown","Home","End"].includes(Y.key)){let be=$().filter(we=>!we.disabled).map(we=>we.ref.current);if(["ArrowUp","End"].includes(Y.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(Y.key)){const we=Y.target,xe=be.indexOf(we);be=be.slice(xe+1)}setTimeout(()=>L(be)),Y.preventDefault()}})})})})})})});AV.displayName=J0e;var Q0e="SelectItemAlignedPosition",MV=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...r}=e,a=uc(Su,n),o=dc(Su,n),[l,u]=v.useState(null),[d,f]=v.useState(null),m=St(t,T=>f(T)),g=$b(n),x=v.useRef(!1),b=v.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:k,focusSelectedItem:S}=o,C=v.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&d&&w&&j&&k){const T=a.trigger.getBoundingClientRect(),A=d.getBoundingClientRect(),D=a.valueNode.getBoundingClientRect(),F=k.getBoundingClientRect();if(a.dir!=="rtl"){const we=F.left-A.left,xe=D.left-we,Ae=T.left-xe,re=T.width+Ae,Ce=Math.max(re,A.width),Ze=window.innerWidth-Xi,it=R2(xe,[Xi,Math.max(Xi,Ze-Ce)]);l.style.minWidth=re+"px",l.style.left=it+"px"}else{const we=A.right-F.right,xe=window.innerWidth-D.right-we,Ae=window.innerWidth-T.right-xe,re=T.width+Ae,Ce=Math.max(re,A.width),Ze=window.innerWidth-Xi,it=R2(xe,[Xi,Math.max(Xi,Ze-Ce)]);l.style.minWidth=re+"px",l.style.right=it+"px"}const V=g(),$=window.innerHeight-Xi*2,q=w.scrollHeight,K=window.getComputedStyle(d),ee=parseInt(K.borderTopWidth,10),L=parseInt(K.paddingTop,10),P=parseInt(K.borderBottomWidth,10),I=parseInt(K.paddingBottom,10),G=ee+L+q+I+P,U=Math.min(j.offsetHeight*5,G),M=window.getComputedStyle(w),H=parseInt(M.paddingTop,10),W=parseInt(M.paddingBottom,10),te=T.top+T.height/2-Xi,le=$-te,ce=j.offsetHeight/2,Y=j.offsetTop+ce,oe=ee+L+Y,he=G-oe;if(oe<=te){const we=V.length>0&&j===V[V.length-1].ref.current;l.style.bottom="0px";const xe=d.clientHeight-w.offsetTop-w.offsetHeight,Ae=Math.max(le,ce+(we?W:0)+xe+P),re=oe+Ae;l.style.height=re+"px"}else{const we=V.length>0&&j===V[0].ref.current;l.style.top="0px";const Ae=Math.max(te,ee+w.offsetTop+(we?H:0)+ce)+he;l.style.height=Ae+"px",w.scrollTop=oe-te+w.offsetTop}l.style.margin=`${Xi}px 0`,l.style.minHeight=U+"px",l.style.maxHeight=$+"px",s==null||s(),requestAnimationFrame(()=>x.current=!0)}},[g,a.trigger,a.valueNode,l,d,w,j,k,a.dir,s]);$n(()=>C(),[C]);const[E,z]=v.useState();$n(()=>{d&&z(window.getComputedStyle(d).zIndex)},[d]);const R=v.useCallback(T=>{T&&b.current===!0&&(C(),S==null||S(),b.current=!1)},[C,S]);return i.jsx(tve,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:x,onScrollButtonChange:R,children:i.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:i.jsx(Xe.div,{...r,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});MV.displayName=Q0e;var eve="SelectPopperPosition",q2=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:r=Xi,...a}=e,o=Vb(n);return i.jsx(CC,{...o,...a,ref:t,align:s,collisionPadding:r,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});q2.displayName=eve;var[tve,aE]=of(Su,{}),Z2="SelectViewport",RV=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...r}=e,a=dc(Z2,n),o=aE(Z2,n),l=St(t,a.onViewportChange),u=v.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),i.jsx(Lb.Slot,{scope:n,children:i.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:Ie(r.onScroll,d=>{const f=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=o;if(g!=null&&g.current&&m){const x=Math.abs(u.current-f.scrollTop);if(x>0){const b=window.innerHeight-Xi*2,w=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),k=Math.max(w,j);if(k<b){const S=k+x,C=Math.min(b,S),E=S-C;m.style.height=C+"px",m.style.bottom==="0px"&&(f.scrollTop=E>0?E:0,m.style.justifyContent="flex-end")}}}u.current=f.scrollTop})})})]})});RV.displayName=Z2;var OV="SelectGroup",[nve,sve]=of(OV),rve=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=jr();return i.jsx(nve,{scope:n,id:r,children:i.jsx(Xe.div,{role:"group","aria-labelledby":r,...s,ref:t})})});rve.displayName=OV;var DV="SelectLabel",PV=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=sve(DV,n);return i.jsx(Xe.div,{id:r.id,...s,ref:t})});PV.displayName=DV;var Zv="SelectItem",[ive,IV]=of(Zv),LV=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:r=!1,textValue:a,...o}=e,l=uc(Zv,n),u=dc(Zv,n),d=l.value===s,[f,m]=v.useState(a??""),[g,x]=v.useState(!1),b=St(t,S=>{var C;return(C=u.itemRefCallback)==null?void 0:C.call(u,S,s,r)}),w=jr(),j=v.useRef("touch"),k=()=>{r||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(ive,{scope:n,value:s,disabled:r,textId:w,isSelected:d,onItemTextChange:v.useCallback(S=>{m(C=>C||((S==null?void 0:S.textContent)??"").trim())},[]),children:i.jsx(Lb.ItemSlot,{scope:n,value:s,disabled:r,textValue:f,children:i.jsx(Xe.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":d&&g,"data-state":d?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...o,ref:b,onFocus:Ie(o.onFocus,()=>x(!0)),onBlur:Ie(o.onBlur,()=>x(!1)),onClick:Ie(o.onClick,()=>{j.current!=="mouse"&&k()}),onPointerUp:Ie(o.onPointerUp,()=>{j.current==="mouse"&&k()}),onPointerDown:Ie(o.onPointerDown,S=>{j.current=S.pointerType}),onPointerMove:Ie(o.onPointerMove,S=>{var C;j.current=S.pointerType,r?(C=u.onItemLeave)==null||C.call(u):j.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(o.onPointerLeave,S=>{var C;S.currentTarget===document.activeElement&&((C=u.onItemLeave)==null||C.call(u))}),onKeyDown:Ie(o.onKeyDown,S=>{var E;((E=u.searchRef)==null?void 0:E.current)!==""&&S.key===" "||(H0e.includes(S.key)&&k(),S.key===" "&&S.preventDefault())})})})})});LV.displayName=Zv;var Sm="SelectItemText",$V=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:r,...a}=e,o=uc(Sm,n),l=dc(Sm,n),u=IV(Sm,n),d=K0e(Sm,n),[f,m]=v.useState(null),g=St(t,k=>m(k),u.onItemTextChange,k=>{var S;return(S=l.itemTextRefCallback)==null?void 0:S.call(l,k,u.value,u.disabled)}),x=f==null?void 0:f.textContent,b=v.useMemo(()=>i.jsx("option",{value:u.value,disabled:u.disabled,children:x},u.value),[u.disabled,u.value,x]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=d;return $n(()=>(w(b),()=>j(b)),[w,j,b]),i.jsxs(i.Fragment,{children:[i.jsx(Xe.span,{id:u.textId,...a,ref:g}),u.isSelected&&o.valueNode&&!o.valueNodeHasChildren?sa.createPortal(a.children,o.valueNode):null]})});$V.displayName=Sm;var VV="SelectItemIndicator",BV=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return IV(VV,n).isSelected?i.jsx(Xe.span,{"aria-hidden":!0,...s,ref:t}):null});BV.displayName=VV;var W2="SelectScrollUpButton",FV=v.forwardRef((e,t)=>{const n=dc(W2,e.__scopeSelect),s=aE(W2,e.__scopeSelect),[r,a]=v.useState(!1),o=St(t,s.onScrollButtonChange);return $n(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollTop>0;a(d)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(HV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});FV.displayName=W2;var K2="SelectScrollDownButton",UV=v.forwardRef((e,t)=>{const n=dc(K2,e.__scopeSelect),s=aE(K2,e.__scopeSelect),[r,a]=v.useState(!1),o=St(t,s.onScrollButtonChange);return $n(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=u.scrollHeight-u.clientHeight,f=Math.ceil(u.scrollTop)<d;a(f)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),r?i.jsx(HV,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});UV.displayName=K2;var HV=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...r}=e,a=dc("SelectScrollButton",n),o=v.useRef(null),l=$b(n),u=v.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return v.useEffect(()=>()=>u(),[u]),$n(()=>{var f;const d=l().find(m=>m.ref.current===document.activeElement);(f=d==null?void 0:d.ref.current)==null||f.scrollIntoView({block:"nearest"})},[l]),i.jsx(Xe.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:Ie(r.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(s,50))}),onPointerMove:Ie(r.onPointerMove,()=>{var d;(d=a.onItemLeave)==null||d.call(a),o.current===null&&(o.current=window.setInterval(s,50))}),onPointerLeave:Ie(r.onPointerLeave,()=>{u()})})}),ave="SelectSeparator",qV=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return i.jsx(Xe.div,{"aria-hidden":!0,...s,ref:t})});qV.displayName=ave;var G2="SelectArrow",ove=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,r=Vb(n),a=uc(G2,n),o=dc(G2,n);return a.open&&o.position==="popper"?i.jsx(EC,{...r,...s,ref:t}):null});ove.displayName=G2;var lve="SelectBubbleInput",ZV=v.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const r=v.useRef(null),a=St(s,r),o=Tb(t);return v.useEffect(()=>{const l=r.current;if(!l)return;const u=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==t&&f){const m=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(m)}},[o,t]),i.jsx(Xe.select,{...n,style:{...R9,...n.style},ref:a,defaultValue:t})});ZV.displayName=lve;function WV(e){return e===""||e===void 0}function KV(e){const t=On(e),n=v.useRef(""),s=v.useRef(0),r=v.useCallback(o=>{const l=n.current+o;t(l),(function u(d){n.current=d,window.clearTimeout(s.current),d!==""&&(s.current=window.setTimeout(()=>u(""),1e3))})(l)},[t]),a=v.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,r,a]}function GV(e,t,n){const r=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,a=n?e.indexOf(n):-1;let o=cve(e,Math.max(a,0));r.length===1&&(o=o.filter(d=>d!==n));const u=o.find(d=>d.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==n?u:void 0}function cve(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var uve=jV,YV=NV,dve=_V,hve=CV,fve=EV,JV=TV,mve=RV,XV=PV,QV=LV,pve=$V,gve=BV,eB=FV,tB=UV,nB=qV;const As=uve,Ms=dve,ws=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(YV,{ref:s,className:se("!bg-background flex h-10 w-full items-center justify-between rounded-md border border-input px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,i.jsx(hve,{asChild:!0,children:i.jsx(dr,{className:"h-4 w-4 opacity-50"})})]}));ws.displayName=YV.displayName;const sB=v.forwardRef(({className:e,...t},n)=>i.jsx(eB,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(bu,{className:"h-4 w-4"})}));sB.displayName=eB.displayName;const rB=v.forwardRef(({className:e,...t},n)=>i.jsx(tB,{ref:n,className:se("flex cursor-default items-center justify-center py-1",e),...t,children:i.jsx(dr,{className:"h-4 w-4"})}));rB.displayName=tB.displayName;const js=v.forwardRef(({className:e,children:t,position:n="popper",...s},r)=>i.jsx(fve,{children:i.jsxs(JV,{ref:r,className:se("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-secondary bg-popover text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",n==="popper"&&"data-[side=left]:-translate-x-1 data-[side=top]:-translate-y-1 data-[side=right]:translate-x-1 data-[side=bottom]:translate-y-1",e),position:n,...s,children:[i.jsx(sB,{}),i.jsx(mve,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),i.jsx(rB,{})]})}));js.displayName=JV.displayName;const xve=v.forwardRef(({className:e,...t},n)=>i.jsx(XV,{ref:n,className:se("py-1.5 pr-2 pl-8 font-semibold text-sm",e),...t}));xve.displayName=XV.displayName;const bt=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(QV,{ref:s,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-2 pl-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(gve,{children:i.jsx(Pa,{className:"h-4 w-4"})})}),i.jsx(pve,{children:t})]}));bt.displayName=QV.displayName;const vve=v.forwardRef(({className:e,...t},n)=>i.jsx(nB,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",e),...t}));vve.displayName=nB.displayName;const Nr=v.forwardRef(({className:e,...t},n)=>i.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-1 ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));Nr.displayName="Textarea";const yve=()=>{const e=_g({defaultValues:{firstName:"",lastName:"",email:"",subject:"",message:"",referrer:""}}),t=n=>{const s=`mailto:${pn.mailSupport}?subject=${n.subject}&body=Dobry den, jmenuji se ${n.firstName} ${n.lastName}, muj email je ${n.email}. %0D%0A${n.message}`;window.location.href=s};return i.jsx("section",{id:"contact",className:se("py-32"),children:i.jsxs("div",{className:"container mx-auto max-w-5xl rounded-2xl bg-muted/50 p-8 md:p-12 lg:p-16",children:[i.jsx("div",{className:"text-center",children:i.jsx("span",{className:"text-xs text-muted-foreground",children:"KONTAKT /"})}),i.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-8 md:gap-10 lg:grid-cols-2 lg:grid-rows-[min-content_1fr]",children:[i.jsx("h2",{className:"order-1 text-4xl font-medium tracking-tight md:order-none md:text-5xl",children:"Spojte se s nami"}),i.jsx("div",{className:"order-2 md:order-none md:row-span-2",children:i.jsx("div",{className:"rounded-lg border border-border bg-background p-6",children:i.jsxs("form",{onSubmit:e.handleSubmit(t),className:"grid gap-6 sm:grid-cols-2",children:[i.jsx(wn,{control:e.control,name:"firstName",render:({field:n})=>i.jsxs(Jt,{children:[i.jsx(mn,{htmlFor:n.name,children:"Jmeno"}),i.jsx(Pe,{...n,id:n.name,placeholder:"Jan"})]})}),i.jsx(wn,{control:e.control,name:"lastName",render:({field:n})=>i.jsxs(Jt,{children:[i.jsx(mn,{htmlFor:n.name,children:"Prijmeni"}),i.jsx(Pe,{...n,id:n.name,placeholder:"Novak"})]})}),i.jsx(wn,{control:e.control,name:"email",render:({field:n})=>i.jsxs(Jt,{children:[i.jsx(mn,{htmlFor:n.name,children:"Email"}),i.jsx(Pe,{...n,id:n.name,placeholder:"jan.novak@email.cz"})]})}),i.jsx(wn,{control:e.control,name:"subject",render:({field:n})=>i.jsxs(Jt,{children:[i.jsx(mn,{htmlFor:n.name,children:"Predmet"}),i.jsxs(As,{onValueChange:n.onChange,defaultValue:n.value,children:[i.jsx(ws,{id:n.name,className:"w-full",children:i.jsx(Ms,{placeholder:"Vyberte predmet"})}),i.jsxs(js,{children:[i.jsx(bt,{value:"Manualni Terapie",children:"Manualni Terapie"}),i.jsx(bt,{value:"Sportovni Rehabilitace",children:"Sportovni Rehabilitace"}),i.jsx(bt,{value:"Neurologicka Rehabilitace",children:"Neurologicka Rehabilitace"}),i.jsx(bt,{value:"Detska Fyzioterapie",children:"Detska Fyzioterapie"}),i.jsx(bt,{value:"Obecny Dotaz",children:"Obecny Dotaz"})]})]})]})}),i.jsx(wn,{control:e.control,name:"message",render:({field:n})=>i.jsxs(Jt,{className:"sm:col-span-2",children:[i.jsx(mn,{htmlFor:n.name,children:"Zprava"}),i.jsx(Nr,{...n,id:n.name,placeholder:"Napiste nam svuj dotaz..."})]})}),i.jsx(wn,{control:e.control,name:"referrer",render:({field:n})=>i.jsxs(Jt,{className:"sm:col-span-2",children:[i.jsx(mn,{htmlFor:n.name,children:"Jak jste se o nas dozvedeli?"}),i.jsx(Pe,{...n,id:n.name,placeholder:"Google / Doporuceni"})]})}),i.jsx(X,{type:"submit",className:"sm:col-span-2",children:"Odeslat zpravu"}),i.jsxs("p",{className:"text-xs text-muted-foreground sm:col-span-2",children:["Odeslanim formulare souhlaste se zpracovanim vasich osobnich udaju v souladu s nasimi"," ",i.jsx("a",{href:"#",className:"text-primary hover:underline",children:"zasadami ochrany soukromi"}),"."]})]})})}),i.jsxs("div",{className:"order-3 my-6 md:order-none",children:[i.jsxs("ul",{className:"space-y-2 font-medium",children:[i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"flex size-6 shrink-0 items-center justify-center rounded-full bg-background",children:i.jsx(Pa,{className:"size-4"})}),"Popiste sve potize a pozadavky"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"flex size-6 shrink-0 items-center justify-center rounded-full bg-background",children:i.jsx(Pa,{className:"size-4"})}),"Obdrzite nabidku na miru"]}),i.jsxs("li",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"flex size-6 shrink-0 items-center justify-center rounded-full bg-background",children:i.jsx(Pa,{className:"size-4"})}),"Domluvte si osobni konzultaci"]})]}),i.jsx("p",{className:"my-6 font-bold",children:"Duvera vice nez 3000 klientu po cele Ceske republice"}),i.jsxs("div",{className:"grid grid-cols-2 place-items-center gap-8 md:grid-cols-4",children:[i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-1.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-2.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-3.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-4.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-5.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-6.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-7.svg",alt:"partner",className:"max-w-24 dark:invert"}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/company/fictional-company-logo-8.svg",alt:"partner",className:"max-w-24 dark:invert"})]})]})]}),i.jsxs("div",{className:"mx-auto mt-16 grid gap-8 md:gap-12 lg:w-1/2 lg:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"mb-1.5 font-bold",children:"FAQ"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Prohledejte nasi kolekci"," ",i.jsx("a",{href:"#faq",onClick:n=>{var s;n.preventDefault(),(s=document.getElementById("faq"))==null||s.scrollIntoView({behavior:"smooth"})},className:"text-primary underline hover:underline",children:"casto kladenych otazek"})," ","o nasich sluzbach a kurzech."]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"mb-1.5 font-bold",children:"Kurzy"}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Prozkoumejte nasi nabidku"," ",i.jsx(Ue,{to:"/kurzy",className:"text-primary underline hover:underline",children:"profesionalnich kurzu"})," ","pro fyzioterapeuty vsech urovni."]})]})]})]})})},bve=({className:e})=>{const t=[{src:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Posilovac guma",height:"23rem"},{src:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Masn pomcky",height:"28rem"},{src:"https://images.pexels.com/photos/4397840/pexels-photo-4397840.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Balann cvien",height:"12rem"}],n=[{src:"https://images.pexels.com/photos/3768131/pexels-photo-3768131.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Fyzioterapie",height:"13rem"},{src:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Rehabilitan cvien",height:"32rem"},{src:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Terapeutick pomcky",height:"18rem"}],s=[{src:"https://images.pexels.com/photos/4397840/pexels-photo-4397840.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Balann podloka",height:"32rem"},{src:"https://images.pexels.com/photos/3768131/pexels-photo-3768131.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Manuln terapie",height:"32rem"}],r=[{src:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Protahovac cvien",height:"13rem"},{src:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Masn terapie",height:"22.5rem"},{src:"https://images.pexels.com/photos/4397840/pexels-photo-4397840.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Rehabilitan sezen",height:"22rem"}];return i.jsx("section",{className:se("py-32",e),children:i.jsxs("div",{className:"relative container mx-auto",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 md:grid-cols-4 max-w-7xl mx-auto",children:[i.jsx("div",{className:"grid gap-4",children:t.map((a,o)=>i.jsx(ne.div,{initial:{opacity:0,scale:.9,y:50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsx("div",{className:"grid gap-4",children:n.map((a,o)=>i.jsx(ne.div,{initial:{opacity:0,scale:.9,y:-50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsx("div",{className:"grid gap-4",children:s.map((a,o)=>i.jsx(ne.div,{initial:{opacity:0,scale:.9,y:50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsxs("div",{className:"grid gap-4",children:[r.map((a,o)=>i.jsx(ne.div,{initial:{opacity:0,scale:.9,y:-50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o)),i.jsx("div",{className:"h-17 w-full rounded-2xl bg-muted"})]})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 md:grid-cols-4 max-w-7xl mx-auto",children:[i.jsx("div",{className:"grid gap-4",children:t.map((a,o)=>i.jsx(ne.div,{initial:{opacity:0,scale:.9,y:50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsx("div",{className:"grid gap-4",children:n.map((a,o)=>i.jsx(ne.div,{initial:{opacity:0,scale:.9,y:-50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsx("div",{className:"grid gap-4",children:s.map((a,o)=>i.jsx(ne.div,{initial:{opacity:0,scale:.9,y:50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o))}),i.jsxs("div",{className:"grid gap-4",children:[r.map((a,o)=>i.jsx(ne.div,{initial:{opacity:0,scale:.9,y:-50},whileInView:{opacity:1,scale:1,y:0},transition:{duration:.5,delay:o*.1},className:"w-full overflow-hidden rounded-2xl bg-muted",style:{height:a.height},children:i.jsx("img",{className:"h-full w-full rounded-2xl object-cover",src:a.src,alt:a.alt})},o)),i.jsx("div",{className:"h-17 w-full rounded-2xl bg-muted"})]})]})]})})},wve=[{category:"Obecn",question:"Jak dlouho trv prmrn fyzioterapeutick lba?",answer:"Dlka lby zvis na druhu zrann a jeho zvanosti. Prmrn trv lba 4-8 tdn s 2-3 nvtvami tdn. Pi akutnch problmech mete vidt zlepen ji po prvnch sezench."},{category:"Obecn",question:"Potebuji doporuen od lkae?",answer:"V esk republice mete navtvit fyzioterapeuta i bez doporuen. Pro hradu zdravotn pojiovnou je vak nutn mt doporuen od praktickho lkae nebo specialisty."},{category:"Obecn",question:"Jak je rozdl mezi fyzioterapi a rehabilitac?",answer:"Fyzioterapie je soust rehabilitace. Rehabilitace je ir pojem zahrnujc celkov proces uzdraven, zatmco fyzioterapie se zamuje konkrtn na pohybov funkce pomoc cvien, mas a dalch technik."},{category:"Cvien",question:"Jak asto bych ml cviit doma?",answer:"Domc cvien je klov pro spnou rehabilitaci. Doporuujeme cviit 2-3x denn po 15-20 minut. V fyzioterapeut vm sestav individuln pln pizpsoben vaemu stavu."},{category:"Cvien",question:"Mu cviit, kdy m to bol?",answer:"Lehk nepjemnost pi cvien je normln, ale ostr nebo intenzivn bolest je varovnm. Plat pravidlo: cvien by nemlo zvyovat bolest vce ne na 3-4 na kle 0-10. Pi silnj bolesti cvien perute a konzultujte s fyzioterapeutem."},{category:"Cvien",question:"Jak poznm, e cvim sprvn?",answer:"Sprvn technika je zsadn. Mli byste ctit zapojen sprvnch sval, mt kontrolu nad pohybem a nedochzet k nhradnm pohybovm vzorcm. Pi pochybnostech vdy podejte fyzioterapeuta o kontrolu techniky."},{category:"Bolest",question:"Je normln, e m bol po terapii?",answer:"Lehk bolest sval nsledujc den po terapii je normln, podobn jako po cvien. Mla by ustoupit do 24-48 hodin. Pokud bolest petrvv nebo se zhoruje, kontaktujte svho fyzioterapeuta."},{category:"Bolest",question:"Jak dlouho trv, ne bolest odezn?",answer:"To zvis na pin bolesti. Akutn bolest me ustoupit za nkolik dn a tdn. Chronick bolest vyaduje del lbu, obvykle nkolik msc. Dleit je pravidelnost terapie a domcho cvien."},{category:"Bolest",question:"Pomh fyzioterapie pi chronick bolesti?",answer:"Ano, fyzioterapie je velmi efektivn pi lb chronick bolesti. Kombinuje aktivn cvien, manuln techniky a edukaci o bolesti. Clem je nejen zmrnit bolest, ale tak nauit vs, jak s n lpe fungovat."},{category:"Terapie",question:"Co mm vzt s sebou na prvn nvtvu?",answer:"Pineste doporuen od lkae (pokud ho mte), kartu pojiovny, pohodln obleen vhodn pro cvien a ppadn pedchoz lkask zprvy nebo vsledky vyeten tkajc se vaeho problmu."},{category:"Terapie",question:"Jak dlouho trv jedno sezen?",answer:"Standardn terapeutick sezen trv 30-60 minut. Prvn nvtva bv del (60-90 minut), protoe zahrnuje podrobn vyeten a vyhodnocen vaeho stavu."},{category:"Terapie",question:"Mohu si vybrat svho fyzioterapeuta?",answer:"Ano, mte prvo si vybrat fyzioterapeuta podle svch preferenc. Doporuujeme vybrat si terapeuta se specializac odpovdajc vaemu problmu, napklad sport, neurologie nebo ortopedie."},{category:"Ostatn",question:"Hrad fyzioterapii zdravotn pojiovna?",answer:"S doporuenm od lkae hrad zdravotn pojiovna vtinu fyzioterapeutickch slueb. Bez doporuen si platte plnou cenu. Rozsah hrazen pe zvis na va pojiovn."},{category:"Ostatn",question:"Mu chodit k fyzioterapeutovi preventivn?",answer:"Urit! Preventivn fyzioterapie je skvl zpsob, jak pedchzet zrannm, zejmna u sportovc nebo lid s fyzicky nronm zamstnnm. Pome vm udret sprvn pohybov vzorce a svalovou rovnovhu."},{category:"Ostatn",question:"Je fyzioterapie vhodn pro seniory?",answer:"Ano, fyzioterapie je vynikajc pro seniory. Pomh udrovat pohyblivost, slu a rovnovhu, co sniuje riziko pd. Cvien je vdy pizpsobeno individulnm monostem a potebm."}],jve=["Obecn","Cvien","Bolest","Terapie","Ostatn"];function kve({item:e,isOpen:t,onToggle:n}){return i.jsxs(ne.div,{layout:!0,initial:!1,className:se("cursor-pointer rounded-xl border border-transparent bg-background/60 backdrop-blur-sm transition-colors",t&&"border-sky-200/40 bg-background dark:border-sky-800/30"),whileHover:{scale:1.008,y:-2},transition:{type:"spring",stiffness:400,damping:30},children:[i.jsxs("button",{type:"button",onClick:n,className:"flex w-full items-center justify-between gap-4 px-6 py-5 text-left",children:[i.jsx("span",{className:"text-base font-medium leading-snug",children:e.question}),i.jsx(ne.span,{animate:{rotate:t?180:0},transition:{duration:.25,ease:"easeInOut"},className:"flex shrink-0 items-center justify-center",children:i.jsx(dr,{className:"size-5 text-muted-foreground"})})]}),i.jsx(jn,{initial:!1,children:t&&i.jsx(ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3,ease:[.4,0,.2,1]},className:"overflow-hidden",children:i.jsx("div",{className:"px-6 pb-5 text-[0.95rem] leading-relaxed text-muted-foreground",children:e.answer})})})]})}const Nve=({className:e})=>{const[t,n]=v.useState("Obecn"),[s,r]=v.useState("Obecn-0"),a=wve.filter(o=>o.category===t);return i.jsx("section",{id:"faq",className:se("min-h-screen py-32",e),children:i.jsx("div",{className:"container mx-auto max-w-4xl",children:i.jsx("div",{className:"rounded-3xl bg-muted/40 px-6 py-16 sm:px-12 lg:px-16",children:i.jsxs("div",{className:"mx-auto max-w-3xl",children:[i.jsxs("div",{className:"mb-16 text-center",children:[i.jsx("span",{className:"mb-3 inline-block text-xs font-medium uppercase tracking-widest text-muted-foreground",children:"FAQ /"}),i.jsx("h2",{className:"text-3xl font-light tracking-tight lg:text-5xl",children:"asto kladen otzky"}),i.jsx("p",{className:"mx-auto mt-4 max-w-lg text-base text-muted-foreground",children:"Prohledejte nai kolekci asto kladench otzek o naich slubch a kurzech."})]}),i.jsx("div",{className:"mb-10 flex flex-wrap justify-center gap-2",children:jve.map(o=>i.jsxs(ne.button,{type:"button",onClick:()=>{n(o),r(null)},className:se("relative rounded-full px-5 py-2 text-sm font-medium transition-colors",t===o?"text-sky-900 dark:text-sky-100":"text-muted-foreground hover:text-foreground"),whileHover:{scale:1.04},whileTap:{scale:.97},transition:{type:"spring",stiffness:500,damping:30},children:[t===o&&i.jsx(ne.div,{layoutId:"faq-tab-indicator",className:"absolute inset-0 rounded-full bg-sky-100 dark:bg-sky-900/40",transition:{type:"spring",stiffness:400,damping:30}}),i.jsx("span",{className:"relative z-10",children:o})]},o))}),i.jsx(jn,{mode:"wait",children:i.jsx(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25,ease:"easeOut"},className:"space-y-3",children:a.map((o,l)=>{const u=`${t}-${l}`;return i.jsx(kve,{item:o,isOpen:s===u,onToggle:()=>r(s===u?null:u)},u)})},t)})]})})})})},Sve=Nve,Hl=(e,t,n)=>{const s=document.createElement(e),[r,a]=Array.isArray(t)?[void 0,t]:[t,n];return r&&Object.assign(s,r),a==null||a.forEach(o=>s.appendChild(o)),s},_ve=(e,t)=>{var n;return t==="left"?e.offsetLeft:(((n=e.offsetParent instanceof HTMLElement?e.offsetParent:null)==null?void 0:n.offsetWidth)??0)-e.offsetWidth-e.offsetLeft},Cve=e=>e.offsetWidth>0&&e.offsetHeight>0,Eve=(e,t)=>{!customElements.get(e)&&customElements.define(e,t)};function Tve(e,t,{reverse:n=!1}={}){const s=e.length;for(let r=n?s-1:0;n?r>=0:r<s;n?r--:r++)t(e[r],r)}function zve(e,t,n,s){const r=t.formatToParts(e);n&&r.unshift({type:"prefix",value:n}),s&&r.push({type:"suffix",value:s});const a=[],o=[],l=[],u=[],d={},f=w=>`${w}:${d[w]=(d[w]??-1)+1}`;let m="",g=!1,x=!1;for(const w of r){m+=w.value;const j=w.type==="minusSign"||w.type==="plusSign"?"sign":w.type;j==="integer"?(g=!0,o.push(...w.value.split("").map(k=>({type:j,value:parseInt(k)})))):j==="group"?o.push({type:j,value:w.value}):j==="decimal"?(x=!0,l.push({type:j,value:w.value,key:f(j)})):j==="fraction"?l.push(...w.value.split("").map(k=>({type:j,value:parseInt(k),key:f(j),pos:-1-d[j]}))):(g||x?u:a).push({type:j,value:w.value,key:f(j)})}const b=[];for(let w=o.length-1;w>=0;w--){const j=o[w];b.unshift(j.type==="integer"?{...j,key:f(j.type),pos:d[j.type]}:{...j,key:f(j.type)})}return{pre:a,integer:b,fraction:l,post:u,valueAsString:m,value:typeof e=="string"?parseFloat(e):e}}const Ave=String.raw,Mve=(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0})(),Rve=typeof CSS<"u"&&CSS.supports&&CSS.supports("line-height","mod(1,1)"),WR=typeof matchMedia<"u"?matchMedia("(prefers-reduced-motion: reduce)"):null,Wv="--_number-flow-d-opacity",oE="--_number-flow-d-width",Kv="--_number-flow-dx",lE="--_number-flow-d",Ove=(()=>{try{return CSS.registerProperty({name:Wv,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:Kv,syntax:"<length>",inherits:!0,initialValue:"0px"}),CSS.registerProperty({name:oE,syntax:"<number>",inherits:!1,initialValue:"0"}),CSS.registerProperty({name:lE,syntax:"<number>",inherits:!0,initialValue:"0"}),!0}catch{return!1}})(),Dve="var(--number-flow-char-height, 1em)",_l="var(--number-flow-mask-height, 0.25em)",KR=`calc(${_l} / 2)`,Y2="var(--number-flow-mask-width, 0.5em)",Vc=`calc(${Y2} / var(--scale-x))`,y0="#000 0, transparent 71%",Pve=Ave`:host{display:inline-block;direction:ltr;white-space:nowrap;isolation:isolate;line-height:${Dve} !important}.number,.number__inner{display:inline-block;transform-origin:left top}:host([data-will-change]) :is(.number,.number__inner,.section,.digit,.digit__num,.symbol){will-change:transform}.number{--scale-x:calc(1 + var(${oE}) / var(--width));transform:translateX(var(${Kv})) scaleX(var(--scale-x));margin:0 calc(-1 * ${Y2});position:relative;-webkit-mask-image:linear-gradient(to right,transparent 0,#000 ${Vc},#000 calc(100% - ${Vc}),transparent ),linear-gradient(to bottom,transparent 0,#000 ${_l},#000 calc(100% - ${_l}),transparent 100% ),radial-gradient(at bottom right,${y0}),radial-gradient(at bottom left,${y0}),radial-gradient(at top left,${y0}),radial-gradient(at top right,${y0});-webkit-mask-size:100% calc(100% - ${_l} * 2),calc(100% - ${Vc} * 2) 100%,${Vc} ${_l},${Vc} ${_l},${Vc} ${_l},${Vc} ${_l};-webkit-mask-position:center,center,top left,top right,bottom right,bottom left;-webkit-mask-repeat:no-repeat}.number__inner{padding:${KR} ${Y2};transform:scaleX(calc(1 / var(--scale-x))) translateX(calc(-1 * var(${Kv})))}:host > :not(.number){z-index:5}.section,.symbol{display:inline-block;position:relative;isolation:isolate}.section::after{content:'\200b';display:inline-block}.section--justify-left{transform-origin:center left}.section--justify-right{transform-origin:center right}.section > [inert],.symbol > [inert]{margin:0 !important;position:absolute !important;z-index:-1}.digit{display:inline-block;position:relative;--c:var(--current) + var(${lE})}.digit__num,.number .section::after{padding:${KR} 0}.digit__num{display:inline-block;--offset-raw:mod(var(--length) + var(--n) - mod(var(--c),var(--length)),var(--length));--offset:calc( var(--offset-raw) - var(--length) * round(down,var(--offset-raw) / (var(--length) / 2),1) );--y:clamp(-100%,var(--offset) * 100%,100%);transform:translateY(var(--y))}.digit__num[inert]{position:absolute;top:0;left:50%;transform:translateX(-50%) translateY(var(--y))}.digit:not(.is-spinning) .digit__num[inert]{display:none}.symbol__value{display:inline-block;mix-blend-mode:plus-lighter;white-space:pre}.section--justify-left .symbol > [inert]{left:0}.section--justify-right .symbol > [inert]{right:0}.animate-presence{opacity:calc(1 + var(${Wv}))}`,Ive=HTMLElement,Lve=Rve&&Mve&&Ove;class iB extends Ive{constructor(){super(),this.created=!1,this.batched=!1;const{animated:t,...n}=this.constructor.defaultProps;this._animated=this.computedAnimated=t,Object.assign(this,n)}get animated(){return this._animated}set animated(t){var n;this.animated!==t&&(this._animated=t,(n=this.shadowRoot)==null||n.getAnimations().forEach(s=>s.finish()))}set data(t){var n;if(t==null)return;const{pre:s,integer:r,fraction:a,post:o,value:l}=t;if(this.created){const u=this._data;this._data=t,this.computedTrend=typeof this.trend=="function"?this.trend(u.value,l):this.trend,this.computedAnimated=Lve&&this._animated&&(!this.respectMotionPreference||!(WR!=null&&WR.matches))&&Cve(this),(n=this.plugins)==null||n.forEach(d=>{var f;return(f=d.onUpdate)==null?void 0:f.call(d,t,u,this)}),this.batched||this.willUpdate(),this._pre.update(s),this._num.update({integer:r,fraction:a}),this._post.update(o),this.batched||this.didUpdate()}else{this._data=t,this.attachShadow({mode:"open"});try{this._internals??(this._internals=this.attachInternals()),this._internals.role="img"}catch{}const u=document.createElement("style");u.textContent=Pve,this.shadowRoot.appendChild(u),this._pre=new YR(this,s,{justify:"right",part:"left"}),this.shadowRoot.appendChild(this._pre.el),this._num=new $ve(this,r,a),this.shadowRoot.appendChild(this._num.el),this._post=new YR(this,o,{justify:"left",part:"right"}),this.shadowRoot.appendChild(this._post.el),this.created=!0}try{this._internals.ariaLabel=t.valueAsString}catch{}}willUpdate(){this._pre.willUpdate(),this._num.willUpdate(),this._post.willUpdate()}didUpdate(){if(!this.computedAnimated)return;this._abortAnimationsFinish?this._abortAnimationsFinish.abort():this.dispatchEvent(new Event("animationsstart")),this._pre.didUpdate(),this._num.didUpdate(),this._post.didUpdate();const t=new AbortController;Promise.all(this.shadowRoot.getAnimations().map(n=>n.finished)).then(()=>{t.signal.aborted||(this.dispatchEvent(new Event("animationsfinish")),this._abortAnimationsFinish=void 0)}),this._abortAnimationsFinish=t}}iB.defaultProps={transformTiming:{duration:900,easing:"linear(0,.005,.019,.039,.066,.096,.129,.165,.202,.24,.278,.316,.354,.39,.426,.461,.494,.526,.557,.586,.614,.64,.665,.689,.711,.731,.751,.769,.786,.802,.817,.831,.844,.856,.867,.877,.887,.896,.904,.912,.919,.925,.931,.937,.942,.947,.951,.955,.959,.962,.965,.968,.971,.973,.976,.978,.98,.981,.983,.984,.986,.987,.988,.989,.99,.991,.992,.992,.993,.994,.994,.995,.995,.996,.996,.9963,.9967,.9969,.9972,.9975,.9977,.9979,.9981,.9982,.9984,.9985,.9987,.9988,.9989,1)"},spinTiming:void 0,opacityTiming:{duration:450,easing:"ease-out"},animated:!0,trend:(e,t)=>Math.sign(t-e),respectMotionPreference:!0,plugins:void 0,digits:void 0};class $ve{constructor(t,n,s,{className:r,...a}={}){this.flow=t,this._integer=new GR(t,n,{justify:"right",part:"integer"}),this._fraction=new GR(t,s,{justify:"left",part:"fraction"}),this._inner=Hl("span",{className:"number__inner"},[this._integer.el,this._fraction.el]),this.el=Hl("span",{...a,part:"number",className:`number ${r??""}`},[this._inner])}willUpdate(){this._prevWidth=this.el.offsetWidth,this._prevLeft=this.el.getBoundingClientRect().left,this._integer.willUpdate(),this._fraction.willUpdate()}update({integer:t,fraction:n}){this._integer.update(t),this._fraction.update(n)}didUpdate(){const t=this.el.getBoundingClientRect();this._integer.didUpdate(),this._fraction.didUpdate();const n=this._prevLeft-t.left,s=this.el.offsetWidth,r=this._prevWidth-s;this.el.style.setProperty("--width",String(s)),this.el.animate({[Kv]:[`${n}px`,"0px"],[oE]:[r,0]},{...this.flow.transformTiming,composite:"accumulate"})}}class aB{constructor(t,n,{justify:s,className:r,...a},o){this.flow=t,this.children=new Map,this.onCharRemove=u=>()=>{this.children.delete(u)},this.justify=s;const l=n.map(u=>this.addChar(u).el);this.el=Hl("span",{...a,className:`section section--justify-${s} ${r??""}`},o?o(l):l)}addChar(t,{startDigitsAtZero:n=!1,...s}={}){const r=t.type==="integer"||t.type==="fraction"?new lB(this,t.type,n?0:t.value,t.pos,{...s,onRemove:this.onCharRemove(t.key)}):new Vve(this,t.type,t.value,{...s,onRemove:this.onCharRemove(t.key)});return this.children.set(t.key,r),r}unpop(t){t.el.removeAttribute("inert"),t.el.style.top="",t.el.style[this.justify]=""}pop(t){t.forEach(n=>{n.el.style.top=`${n.el.offsetTop}px`,n.el.style[this.justify]=`${_ve(n.el,this.justify)}px`}),t.forEach(n=>{n.el.setAttribute("inert",""),n.present=!1})}addNewAndUpdateExisting(t){const n=new Map,s=new Map,r=this.justify==="left",a=r?"prepend":"append";if(Tve(t,o=>{let l;this.children.has(o.key)?(l=this.children.get(o.key),s.set(o,l),this.unpop(l),l.present=!0):(l=this.addChar(o,{startDigitsAtZero:!0,animateIn:!0}),n.set(o,l)),this.el[a](l.el)},{reverse:r}),this.flow.computedAnimated){const o=this.el.getBoundingClientRect();n.forEach(l=>{l.willUpdate(o)})}n.forEach((o,l)=>{o.update(l.value)}),s.forEach((o,l)=>{o.update(l.value)})}willUpdate(){const t=this.el.getBoundingClientRect();this._prevOffset=t[this.justify],this.children.forEach(n=>n.willUpdate(t))}didUpdate(){const t=this.el.getBoundingClientRect();this.children.forEach(r=>r.didUpdate(t));const n=t[this.justify],s=this._prevOffset-n;s&&this.children.size&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}class GR extends aB{update(t){const n=new Map;this.children.forEach((s,r)=>{t.find(a=>a.key===r)||n.set(r,s),this.unpop(s)}),this.addNewAndUpdateExisting(t),n.forEach(s=>{s instanceof lB&&s.update(0)}),this.pop(n)}}class YR extends aB{update(t){const n=new Map;this.children.forEach((s,r)=>{t.find(a=>a.key===r)||n.set(r,s)}),this.pop(n),this.addNewAndUpdateExisting(t)}}class J2{constructor(t,n,{onRemove:s,animateIn:r=!1}={}){this.flow=t,this.el=n,this._present=!0,this._remove=()=>{var a;this.el.remove(),(a=this._onRemove)==null||a.call(this)},this.el.classList.add("animate-presence"),this.flow.computedAnimated&&r&&this.el.animate({[Wv]:[-.9999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),this._onRemove=s}get present(){return this._present}set present(t){if(this._present!==t){if(this._present=t,t?this.el.removeAttribute("inert"):this.el.setAttribute("inert",""),!this.flow.computedAnimated){t||this._remove();return}this.el.style.setProperty("--_number-flow-d-opacity",t?"0":"-.999"),this.el.animate({[Wv]:t?[-.9999,0]:[.999,0]},{...this.flow.opacityTiming,composite:"accumulate"}),t?this.flow.removeEventListener("animationsfinish",this._remove):this.flow.addEventListener("animationsfinish",this._remove,{once:!0})}}}class oB extends J2{constructor(t,n,s,r){super(t.flow,s,r),this.section=t,this.value=n,this.el=s}}class lB extends oB{constructor(t,n,s,r,a){var o,l;const u=(((l=(o=t.flow.digits)==null?void 0:o[r])==null?void 0:l.max)??9)+1,d=Array.from({length:u}).map((m,g)=>{const x=Hl("span",{className:"digit__num"},[document.createTextNode(String(g))]);return g!==s&&x.setAttribute("inert",""),x.style.setProperty("--n",String(g)),x}),f=Hl("span",{part:`digit ${n}-digit`,className:"digit"},d);f.style.setProperty("--current",String(s)),f.style.setProperty("--length",String(u)),super(t,s,f,a),this.pos=r,this._onAnimationsFinish=()=>{this.el.classList.remove("is-spinning")},this._numbers=d,this.length=u}willUpdate(t){const n=this.el.getBoundingClientRect();this._prevValue=this.value;const s=n[this.section.justify]-t[this.section.justify],r=n.width/2;this._prevCenter=this.section.justify==="left"?s+r:s-r}update(t){this.el.style.setProperty("--current",String(t)),this._numbers.forEach((n,s)=>s===t?n.removeAttribute("inert"):n.setAttribute("inert","")),this.value=t}didUpdate(t){const n=this.el.getBoundingClientRect(),s=n[this.section.justify]-t[this.section.justify],r=n.width/2,a=this.section.justify==="left"?s+r:s-r,o=this._prevCenter-a;o&&this.el.animate({transform:[`translateX(${o}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"});const l=this.getDelta();l&&(this.el.classList.add("is-spinning"),this.el.animate({[lE]:[-l,0]},{...this.flow.spinTiming??this.flow.transformTiming,composite:"accumulate"}),this.flow.addEventListener("animationsfinish",this._onAnimationsFinish,{once:!0}))}getDelta(){var t;if(this.flow.plugins)for(const r of this.flow.plugins){const a=(t=r.getDelta)==null?void 0:t.call(r,this.value,this._prevValue,this);if(a!=null)return a}const n=this.value-this._prevValue,s=this.flow.computedTrend||Math.sign(n);return s<0&&this.value>this._prevValue?this.value-this.length-this._prevValue:s>0&&this.value<this._prevValue?this.length-this._prevValue+this.value:n}}class Vve extends oB{constructor(t,n,s,r){const a=Hl("span",{className:"symbol__value",textContent:s});super(t,s,Hl("span",{part:`symbol ${n}`,className:"symbol"},[a]),r),this.type=n,this._children=new Map,this._onChildRemove=o=>()=>{this._children.delete(o)},this._children.set(s,new J2(this.flow,a,{onRemove:this._onChildRemove(s)}))}willUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect();this._prevOffset=n[this.section.justify]-t[this.section.justify]}update(t){if(this.value!==t){const n=this._children.get(this.value);n&&(n.present=!1);const s=this._children.get(t);if(s)s.present=!0;else{const r=Hl("span",{className:"symbol__value",textContent:t});this.el.appendChild(r),this._children.set(t,new J2(this.flow,r,{animateIn:!0,onRemove:this._onChildRemove(t)}))}}this.value=t}didUpdate(t){if(this.type==="decimal")return;const n=this.el.getBoundingClientRect()[this.section.justify]-t[this.section.justify],s=this._prevOffset-n;s&&this.el.animate({transform:[`translateX(${s}px)`,"none"]},{...this.flow.transformTiming,composite:"accumulate"})}}var nI;const Bve=parseInt((nI=v.version.match(/^(\d+)\./))==null?void 0:nI[1]),cE=Bve>=19,Fve=["data","digits"];class uE extends iB{attributeChangedCallback(t,n,s){this[t]=JSON.parse(s)}}uE.observedAttributes=cE?[]:Fve;Eve("number-flow-react",uE);const Kk={},JR=cE?e=>e:JSON.stringify;function XR(e){const{transformTiming:t,spinTiming:n,opacityTiming:s,animated:r,respectMotionPreference:a,trend:o,plugins:l,...u}=e;return[{transformTiming:t,spinTiming:n,opacityTiming:s,animated:r,respectMotionPreference:a,trend:o,plugins:l},u]}class Uve extends v.Component{updateProperties(t){if(!this.el)return;this.el.batched=!this.props.isolate;const[n]=XR(this.props);Object.entries(n).forEach(([s,r])=>{this.el[s]=r??uE.defaultProps[s]}),t!=null&&t.onAnimationsStart&&this.el.removeEventListener("animationsstart",t.onAnimationsStart),this.props.onAnimationsStart&&this.el.addEventListener("animationsstart",this.props.onAnimationsStart),t!=null&&t.onAnimationsFinish&&this.el.removeEventListener("animationsfinish",t.onAnimationsFinish),this.props.onAnimationsFinish&&this.el.addEventListener("animationsfinish",this.props.onAnimationsFinish)}componentDidMount(){this.updateProperties(),cE&&this.el&&(this.el.digits=this.props.digits,this.el.data=this.props.data)}getSnapshotBeforeUpdate(t){var n;if(this.updateProperties(t),t.data!==this.props.data){if(this.props.group)return this.props.group.willUpdate(),()=>{var s;return(s=this.props.group)==null?void 0:s.didUpdate()};if(!this.props.isolate)return(n=this.el)==null||n.willUpdate(),()=>{var s;return(s=this.el)==null?void 0:s.didUpdate()}}return null}componentDidUpdate(t,n,s){s==null||s()}handleRef(t){this.props.innerRef&&(this.props.innerRef.current=t),this.el=t}render(){const[t,{innerRef:n,className:s,data:r,willChange:a,isolate:o,group:l,digits:u,onAnimationsStart:d,onAnimationsFinish:f,...m}]=XR(this.props);return v.createElement("number-flow-react",{ref:this.handleRef,"data-will-change":a?"":void 0,class:s,...m,dangerouslySetInnerHTML:{__html:""},suppressHydrationWarning:!0,digits:JR(u),data:JR(r)})}constructor(t){super(t),this.handleRef=this.handleRef.bind(this)}}const hm=v.forwardRef(function({value:t,locales:n,format:s,prefix:r,suffix:a,...o},l){v.useImperativeHandle(l,()=>u.current,[]);const u=v.useRef(),d=v.useContext(Hve);d==null||d.useRegister(u);const f=v.useMemo(()=>n?JSON.stringify(n):"",[n]),m=v.useMemo(()=>s?JSON.stringify(s):"",[s]),g=v.useMemo(()=>{var b;const x=Kk[b=`${f}:${m}`]??(Kk[b]=new Intl.NumberFormat(n,s));return zve(t,x,r,a)},[t,f,m,r,a]);return v.createElement(Uve,{...o,group:d,data:g,innerRef:u})}),Hve=v.createContext(void 0),qve={monthly:{TotalRevenue:450,TotalUsers:85,CompanyGrowth:45,NewCustomers:120,SuccessRate:98},yearly:{TotalRevenue:5200,TotalUsers:950,CompanyGrowth:220,NewCustomers:1400,SuccessRate:97}},Zve={monthly:{TotalRevenue:0,TotalUsers:0,CompanyGrowth:0,NewCustomers:0,SuccessRate:0},yearly:{TotalRevenue:0,TotalUsers:0,CompanyGrowth:0,NewCustomers:0,SuccessRate:0}},Wve=({className:e})=>{const[t,n]=v.useState(!1),s=v.useRef(null),a=cL(s)?qve:Zve;return i.jsx("section",{className:se("py-32",e),children:i.jsx("div",{className:"container mx-auto flex justify-center px-4",children:i.jsxs("div",{className:"flex w-full max-w-6xl flex-col justify-between gap-8 lg:flex-row lg:gap-12",children:[i.jsxs("div",{className:"w-full lg:w-[45%]",children:[i.jsx("h1",{className:"w-full font-bold text-4xl lg:text-5xl",children:"Nejsme Jen Slova, Pedvdme Vsledky"}),i.jsx("p",{className:"my-4 text-base tracking-tight text-muted-foreground lg:text-lg",children:"Nae fyzioterapeutick kurzy transformuj zdravotn pi v esk republice. Dvuje nm pes tisc certifikovanch terapeut."}),i.jsxs(X,{variant:"secondary",className:"text-md group mt-8 flex w-fit items-center justify-center gap-2 rounded-full bg-sky-100 hover:bg-sky-200 dark:bg-sky-900/30 dark:hover:bg-sky-800/40 text-sky-700 dark:text-sky-300 px-6 py-1 tracking-tight shadow-none",children:[i.jsx("span",{children:"Zante S Nmi"}),i.jsx(ur,{className:"size-4 -rotate-45 transition-all ease-out group-hover:ml-3 group-hover:rotate-0"})]}),i.jsx("div",{className:"mt-10 w-full",children:i.jsx(Kve,{})})]}),i.jsxs("div",{ref:s,className:"flex w-full flex-col items-center lg:w-[55%] lg:items-end",children:[i.jsx("h1",{className:"font-bold text-7xl leading-none lg:text-8xl",children:i.jsx(hm,{value:t?a.monthly.TotalRevenue:a.yearly.TotalRevenue,suffix:"+",className:"font-bold"})}),i.jsxs("div",{className:"mb-6 flex flex-col items-center justify-center gap-4 lg:flex-row lg:gap-6",children:[i.jsx("p",{className:"text-sm lg:text-base",children:"Absolvent za posledn rok"}),i.jsxs(X,{variant:"secondary",className:"text-sm group flex w-fit items-center justify-center gap-2 rounded-full bg-sky-100 hover:bg-sky-200 dark:bg-sky-900/30 dark:hover:bg-sky-800/40 text-sky-700 dark:text-sky-300 px-4 py-1 tracking-tight shadow-none transition-all duration-300 ease-out active:scale-95",onClick:()=>n(!t),children:[i.jsx("span",{children:"Msn Statistiky"}),i.jsx(Koe,{className:"size-4 -rotate-45 transition-all ease-out group-hover:ml-3 group-hover:rotate-0"})]})]}),i.jsxs("div",{className:"mt-auto mb-10 grid w-full max-w-lg grid-cols-2 gap-8 lg:gap-10",children:[i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"text-3xl font-medium lg:text-5xl",children:i.jsx(hm,{value:t?a.monthly.TotalUsers:a.yearly.TotalUsers,suffix:"+"})}),i.jsx("p",{className:"text-sm text-muted-foreground/70",children:" Aktivnch Terapeut "})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"text-3xl font-medium lg:text-5xl",children:i.jsx(hm,{value:t?a.monthly.CompanyGrowth:a.yearly.CompanyGrowth,suffix:"%"})}),i.jsx("p",{className:"text-sm text-muted-foreground/70",children:" Rst Absolvent "})]}),i.jsxs("div",{className:"text-left",children:[i.jsx("h2",{className:"text-3xl font-medium lg:text-5xl",children:i.jsx(hm,{value:t?a.monthly.NewCustomers:a.yearly.NewCustomers,suffix:"+"})}),i.jsx("p",{className:"text-sm text-muted-foreground/70",children:" Novch Student "})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("h2",{className:"text-3xl font-medium lg:text-5xl",children:i.jsx(hm,{value:t?a.monthly.SuccessRate:a.yearly.SuccessRate,suffix:"%"})}),i.jsx("p",{className:"text-sm text-muted-foreground/70",children:" spnost Kurz "})]})]})]})]})})})};function Kve(){return i.jsx("div",{className:"wrapper",children:i.jsxs(ne.svg,{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 644 388",initial:{clipPath:"inset(0px 100% 0px 0px)"},animate:{clipPath:"inset(0px 0% 0px 0px)"},transition:{duration:1,type:"spring",damping:18},children:[i.jsxs("g",{clipPath:"url(#grad)",children:[i.jsx("path",{d:"M1 118.5C1 118.5 83.308 102.999 114.735 89.4998C146.162 76.0008 189.504 87.7868 235.952 77.4998C273.548 69.1718 294.469 62.4938 329.733 46.9998C409.879 11.7848 452.946 30.9998 483.874 22.4998C514.802 13.9998 635.97 0.84884 644 1.49984",stroke:"#0090FF",strokeWidth:"2"}),i.jsx("path",{d:"M113.912 89.4888C82.437 102.988 1 118.487 1 118.487V438.477H644V1.49977C635.957 0.849773 514.601 13.9988 483.625 22.4978C452.649 30.9958 409.515 11.7838 329.245 46.9938C293.926 62.4868 272.973 69.1638 235.318 77.4908C188.798 87.7768 145.388 75.9908 113.912 89.4888Z",fill:"url(#grad)"})]}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"grad",x1:"321.5",y1:"0.476773",x2:"321.5",y2:"387.477",gradientUnits:"userSpaceOnUse",children:[i.jsx("stop",{stopColor:"#138EED",stopOpacity:"0.4"}),i.jsx("stop",{offset:"1",stopColor:"#058FFB",stopOpacity:"0"})]})})]})})}const Gve=()=>i.jsx("section",{id:"features",className:"relative w-full",children:i.jsx(Wve,{})});function Yve({items:e,onItemClick:t}){const[n,s]=v.useState(null),r={stiffness:100,damping:5},a=I_(0),o=l3(Eo(a,[-100,100],[-45,45]),r),l=l3(Eo(a,[-100,100],[-50,50]),r),u=d=>{const f=d.currentTarget.offsetWidth/2;a.set(d.nativeEvent.offsetX-f)};return i.jsx(i.Fragment,{children:e.map(d=>i.jsxs("div",{className:"group/tooltip relative -mr-4",onMouseEnter:()=>s(d.id),onMouseLeave:()=>s(null),children:[i.jsx(jn,{mode:"popLayout",children:n===d.id&&i.jsxs(ne.div,{initial:{opacity:0,y:20,scale:.6},animate:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:260,damping:10}},exit:{opacity:0,y:20,scale:.6},style:{translateX:l,rotate:o,whiteSpace:"nowrap"},className:"absolute -top-16 left-1/2 z-50 flex -translate-x-1/2 flex-col items-center justify-center rounded-md bg-foreground px-4 py-2 text-xs shadow-xl",children:[i.jsx("div",{className:"absolute inset-x-10 -bottom-px z-30 h-px w-[20%] bg-gradient-to-r from-transparent via-sky-500 to-transparent"}),i.jsx("div",{className:"absolute -bottom-px left-10 z-30 h-px w-[40%] bg-gradient-to-r from-transparent via-sky-300 to-transparent"}),i.jsx("div",{className:"relative z-30 text-base font-bold text-background",children:d.name}),i.jsx("div",{className:"text-xs text-background/70",children:d.designation})]})}),i.jsx("div",{onMouseMove:u,onClick:t?f=>{f.stopPropagation(),t(d)}:void 0,className:`relative size-10 overflow-hidden rounded-full border-2 border-background object-cover object-top shadow-md${t?" cursor-pointer":""}`,children:i.jsx("img",{src:d.image,alt:d.name,className:"h-full w-full object-cover object-top"})})]},d.id))})}const Jve=[{title:"Rezervace v DIRES",description:"Objednejte se na osobni konzultaci nebo terapii. Nas tym zkusenych fyzioterapeutu je pripraveny vam pomoci s individualnim pristupem zamerenym na vase specificke potreby a cile. Vybirejte z siroke nabidky terminu.",image:"/MG_0170-1024x683-1.jpg.webp",imageAlt:"Fyzioterapie v DIRES",href:"#contact",isExternal:!0},{title:"Prozkoumejte kurzy",description:"Online vzdelavani v oblasti fyzioterapie. Profesionalni kurzy, certifikace a nastroje pro vase karierni rust. Ucte se vlastnim tempem odkudkoliv s pristupem k videum, materialum a interaktivnim testum od prednich odborniku.",image:"https://images.pexels.com/photos/5473182/pexels-photo-5473182.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",imageAlt:"Online kurzy fyzioterapie",href:"/kurzy"}],Xve=()=>{const e=Yt(),[t,n]=v.useState(null),[s,r]=v.useState([]);v.useEffect(()=>{de.from("team_members").select("id, name, role, avatar_url, slug").eq("is_active",!0).order("order_index").then(({data:u})=>r(u??[]))},[]);const a=s.map((u,d)=>({id:d+1,name:u.name,designation:u.role,image:u.avatar_url})),o=u=>{const d=s[u.id-1];d!=null&&d.slug&&e(`/tym/${d.slug}`)},l=u=>{if(u.isExternal||u.href.startsWith("#")){const d=document.querySelector(u.href);d==null||d.scrollIntoView({behavior:"smooth"})}else e(u.href)};return i.jsxs("section",{className:"relative -mt-20 flex min-h-svh flex-col justify-center overflow-hidden bg-background pb-12 pt-24",children:[i.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[i.jsx("img",{src:"/pattern.png",alt:"","aria-hidden":"true",className:"absolute inset-0 h-full w-full select-none object-cover opacity-[0.07] mix-blend-multiply dark:opacity-[0.04]"}),i.jsx("div",{className:"absolute top-1/3 left-1/2 h-[600px] w-[900px] -translate-x-1/2 -translate-y-1/2 rounded-full bg-blue-500/10 blur-[150px] dark:bg-blue-500/15"})]}),i.jsx("div",{className:"container relative z-10 mx-auto",children:i.jsxs("div",{className:"flex flex-col gap-10",children:[i.jsxs("div",{className:"flex flex-col items-center gap-5 text-center",children:[i.jsxs("div",{className:"flex max-w-4xl flex-col items-center gap-4",children:[i.jsx("h1",{className:"text-4xl font-medium tracking-tight text-balance md:text-5xl lg:text-6xl",children:"Profesionalni vzdelavani v oblasti fyzioterapie"}),a.length>0&&i.jsxs("div",{className:"flex items-center gap-3 rounded-full border border-border/50 bg-background/80 px-5 py-2.5 backdrop-blur-sm",children:[i.jsx("span",{className:"relative z-50 flex items-center justify-center [&>div:nth-child(1)]:-rotate-3 [&>div:nth-child(2)]:rotate-2 [&>div:nth-child(3)]:-rotate-1 [&>div]:transition-transform [&>div]:duration-300 [&>div:hover]:rotate-0",children:i.jsx(Yve,{items:a,onItemClick:o})}),i.jsx("span",{className:"ml-1 text-base font-semibold text-foreground",children:"Nas tym"})]}),i.jsx("p",{className:"mx-auto max-w-2xl text-base text-muted-foreground md:text-lg",children:"Od myslenky k realizaci  pripravujeme ucelene kurzy, certifikace a nastroje pro fyzioterapeuty vsech urovni."})]}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[i.jsx(X,{size:"lg",asChild:!0,children:i.jsxs("a",{href:"#contact",children:[i.jsx(zie,{className:"mr-2 size-4"}),"Rezervovat termin"]})}),i.jsxs(X,{variant:"outline",size:"lg",onClick:()=>e("/kurzy"),children:["Prozkoumat kurzy",i.jsx(ur,{className:"ml-2 size-4"})]})]})]}),i.jsx("div",{className:"hide-scrollbar mx-auto flex w-full max-w-5xl gap-4 overflow-x-auto pb-4 md:overflow-visible md:pb-0",role:"list",children:Jve.map((u,d)=>{const f=t===d,m=t!==null&&t!==d;return i.jsxs(ne.article,{layout:!0,role:"listitem",className:se("group relative flex min-h-96 min-w-72 flex-none cursor-pointer overflow-hidden rounded-xl border border-border/60 transition duration-300 md:min-w-0 md:flex-1"),onClick:()=>l(u),onMouseEnter:()=>n(d),onMouseLeave:()=>n(null),onFocus:()=>n(d),onBlur:()=>n(null),tabIndex:0,animate:{flex:f?1.3:m?.85:1},transition:{duration:.45,ease:"easeInOut"},children:[i.jsx("img",{src:u.image,alt:u.imageAlt,className:se("absolute inset-0 h-full w-full object-cover transition duration-500",f?"scale-105":"scale-100"),loading:"lazy"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/20 via-black/30 to-black/70 transition duration-300 group-hover:via-black/50 group-hover:to-black/80"}),i.jsxs("div",{className:"relative z-10 flex h-full w-full flex-col justify-between",children:[i.jsx("div",{className:"p-6",children:i.jsx("h3",{className:"text-lg font-semibold tracking-tight text-white md:text-xl",children:u.title})}),i.jsxs(ne.div,{layout:!0,className:"flex w-full items-end gap-4 p-6",initial:!1,animate:{justifyContent:f?"space-between":"flex-start"},transition:{duration:.35,ease:"easeInOut"},children:[i.jsx(jn,{initial:!1,children:f&&i.jsx(ne.p,{layout:!0,className:"flex-1 text-sm text-white/90 md:text-base",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.4,delay:.2,ease:"easeInOut"},children:u.description},"card-description")}),i.jsx(ne.span,{layout:!0,className:"rounded-full border border-white/20 bg-white/10 p-2 text-white backdrop-blur-sm",initial:!1,transition:{duration:.4,ease:"easeInOut"},children:i.jsx(vp,{className:"size-4"})})]})]})]},u.title)})})]})})]})},QR=[{icon:WL,name:"Zkuebn verze zdarma",planType:"free_trial",price:0,duration:"3 dny",currency:"CZK",features:["3denn zkuebn verze zdarma","Pln pstup ke vem funkcm","Zkladn nstroje pro sprvu kol","Synchronizace kalende s omezenmi integracemi","Pstup k 1 dashboardu pro sledovn kol","Zkladn podpora a pstup do komunity"]},{icon:AL,name:"Msn pln",planType:"monthly",price:730,duration:"msn",currency:"CZK",features:["Vechny funkce zkuebn verze a navc:","Neomezen seznamy kol","Pokroil synchronizace kalende","Poznatky zen AI","Pstup k vlastnm dashboardm","Prioritn e-mailov podpora","Zruit kdykoli"]},{icon:ML,name:"Doivotn pstup",planType:"lifetime",price:4870,duration:"jednorzov",currency:"CZK",features:["Vechny msn funkce a navc:","Doivotn pstup - zaplate jednou","Dedikovan account manager","Vlastn integrace","Spoluprce v relnm ase","Oprvnn zaloen na rolch","Prioritn podpora 24/7"]}],Qve=({className:e})=>{const t=Yt(),n=ns(),{user:s,session:r}=Qt(),[a,o]=v.useState(null),l=v.useCallback(async u=>{if(u.planType==="free_trial"&&(!s||!r)){localStorage.setItem("pending_plan",u.planType),Te.info("Pro zkuebn verzi se prosm pihlaste"),t("/prihlaseni");return}o(u.planType);try{const d="https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/create-checkout-session",f=(r==null?void 0:r.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE",m=await fetch(d,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json"},body:JSON.stringify({planType:u.planType})}),g=await m.json();if(!m.ok){if(g.requiresAuth){localStorage.setItem("pending_plan",u.planType),Te.info("Pro tento pln se prosm pihlaste"),t("/prihlaseni");return}throw new Error(g.error||"Failed to create checkout session")}g.url?window.location.href=g.url:t("/potvrzeni-objednavky")}catch(d){console.error("Checkout error:",d),Te.error("Nepodailo se zahjit pokladnu. Zkuste to prosm znovu.")}finally{o(null)}},[s,r,t]);return v.useEffect(()=>{const u=n.state;if(u!=null&&u.selectedPlan&&s&&r){const d=QR.find(f=>f.planType===u.selectedPlan);d&&l(d)}},[n.state,s,r,l]),i.jsxs("section",{id:"pricing",className:se("py-32",e),children:[i.jsx("div",{className:"border-y border-sky-200/60 dark:border-sky-800/30",children:i.jsx("div",{className:"container mx-auto flex flex-col gap-6 border-x border-sky-200/60 dark:border-sky-800/30 py-4 max-lg:border-x lg:py-8",children:i.jsxs("div",{className:"flex flex-col items-center text-center",children:[i.jsxs($e,{variant:"outline",className:"w-fit gap-1 bg-card px-3 text-sm font-normal tracking-tight shadow-sm",children:[i.jsx(xie,{className:"size-4"}),i.jsx("span",{children:"Cenov plny"})]}),i.jsx("h2",{className:"mt-6 text-3xl leading-tight tracking-tight md:text-4xl lg:text-6xl",children:"Ceny pro kadho"}),i.jsx("p",{className:"mt-4 max-w-[600px] tracking-[-0.32px] text-muted-foreground",children:"Vyberte si pln, kter vyhovuje vaim potebm produktivity"})]})})}),i.jsx("div",{className:"container mx-auto mt-10 lg:mt-14",children:i.jsx("section",{className:"grid border border-sky-200/60 dark:border-sky-800/30 max-lg:divide-y max-lg:divide-sky-200/60 dark:max-lg:divide-sky-800/30 lg:grid-cols-3 lg:divide-x lg:divide-sky-200/60 dark:lg:divide-sky-800/30",children:QR.map((u,d)=>i.jsxs("div",{className:se("flex flex-col justify-between p-6 relative",d===0&&"bg-gradient-to-r from-background to-muted/30",d===1&&"bg-muted/30",d===2&&"bg-gradient-to-l from-background to-muted/30"),children:[i.jsxs("div",{className:"space-y-2 border-b pb-6",children:[i.jsxs("div",{className:"flex items-center gap-2.5 text-muted-foreground",children:[i.jsx(u.icon,{className:"size-4"}),i.jsx("h3",{className:"text-xl tracking-[-0.8px]",children:u.name})]}),i.jsxs("div",{className:"flex items-baseline font-medium",children:[i.jsx("span",{className:"text-[3.5rem] leading-[120%] tracking-[-3.92px]",children:u.price.toLocaleString("cs-CZ")}),i.jsxs("span",{className:"text-muted-foreground-subtle text-2xl tracking-[-0.96px] ml-2",children:["K",u.planType==="monthly"?"/ms":""]})]}),i.jsx("p",{className:"text-muted-foreground",children:u.duration})]}),i.jsxs("div",{className:"pt-6",children:[i.jsx("h4",{className:"text-muted-foreground-subtle",children:"Zahrnut funkce"}),i.jsx("ul",{className:"mt-4 space-y-4",children:u.features.map((f,m)=>i.jsxs("li",{className:"flex items-center gap-4",children:[i.jsx(ig,{className:"size-6 text-muted-foreground"}),i.jsx("span",{className:"tracking-[-0.32px] text-muted-foreground",children:f})]},m))})]}),i.jsx(X,{variant:d===1?"default":"secondary",className:"mt-12",onClick:()=>l(u),disabled:a===u.planType,children:a===u.planType?"Natn...":"Zat"})]},d))})}),i.jsx("div",{className:"mt-12 h-8 w-full border-y border-sky-200/60 dark:border-sky-800/30 md:h-12 lg:h-[112px]",children:i.jsx("div",{className:"container mx-auto h-full w-full border-x border-sky-200/60 dark:border-sky-800/30"})})]})},eye=({featuredCasestudy:e,casestudies:t,className:n})=>{const s=Yt();return!e||!t?null:i.jsx("section",{className:se("py-32",n),children:i.jsx("div",{className:"container mx-auto flex justify-center",children:i.jsxs("div",{className:"border border-sky-200/60 dark:border-sky-800/30 max-w-7xl w-full",children:[i.jsxs("div",{onClick:()=>e.link&&s(e.link),className:"group grid gap-4 overflow-hidden px-6 transition-colors duration-500 ease-out hover:bg-sky-50/40 dark:hover:bg-sky-950/20 lg:grid-cols-2 xl:px-28 cursor-pointer",children:[i.jsxs("div",{className:"flex flex-col justify-between gap-4 pt-8 md:pt-16 lg:pb-16",children:[i.jsxs("div",{className:"flex items-center gap-2 text-2xl font-medium",children:[i.jsx("img",{src:e.logo,alt:"logo",className:"h-9"}),e.company]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-muted-foreground sm:text-sm",children:e.tags}),i.jsxs("h2",{className:"mt-4 mb-5 text-2xl font-semibold text-balance sm:text-3xl sm:leading-10",children:[e.title,i.jsxs("span",{className:"font-medium text-primary/50 transition-colors duration-500 ease-out group-hover:text-primary/70",children:[" ",e.subtitle]})]}),i.jsxs("div",{className:"flex items-center gap-2 font-medium",children:["Pest lnek",i.jsx(I3,{className:"h-4 w-4 transition-transform duration-500 ease-out group-hover:translate-x-1"})]})]})]}),i.jsx("div",{className:"relative isolate py-16",children:i.jsx("div",{className:"relative isolate h-full border border-border bg-background p-2",children:i.jsx("div",{className:"h-full overflow-hidden",children:i.jsx("img",{src:e.image,alt:"placeholder",className:"aspect-14/9 h-full w-full object-cover transition-transform duration-500 ease-out group-hover:scale-105"})})})})]}),i.jsxs("div",{className:"flex border-t border-sky-200/60 dark:border-sky-800/30",children:[i.jsx("div",{className:"hidden w-28 shrink-0 bg-[radial-gradient(var(--muted-foreground)_1px,transparent_1px)] [background-size:10px_10px] opacity-15 xl:block"}),i.jsx("div",{className:"grid lg:grid-cols-2",children:t.map((r,a)=>i.jsxs("div",{onClick:()=>r.link&&s(r.link),className:`group flex flex-col justify-between gap-12 border-sky-200/60 dark:border-sky-800/30 bg-background px-6 py-8 transition-colors duration-500 ease-out hover:bg-sky-50/40 dark:hover:bg-sky-950/20 md:py-16 lg:pb-16 xl:gap-16 cursor-pointer ${a===0?"xl:border-l xl:pl-8":"border-t lg:border-t-0 lg:border-l xl:border-r xl:pl-8"}`,children:[i.jsxs("div",{className:"flex items-center gap-2 text-2xl font-medium",children:[i.jsx("img",{src:r.logo,alt:"logo",className:"h-9"}),r.company]}),i.jsxs("div",{children:[i.jsx("span",{className:"text-xs text-muted-foreground sm:text-sm",children:r.tags}),i.jsxs("h2",{className:"mt-4 mb-5 text-2xl font-semibold text-balance sm:text-3xl sm:leading-10",children:[r.title,i.jsxs("span",{className:"font-medium text-primary/50 transition-colors duration-500 ease-out group-hover:text-primary/70",children:[" ",r.subtitle]})]}),i.jsxs("div",{className:"flex items-center gap-2 font-medium",children:["Pest lnek",i.jsx(I3,{className:"h-4 w-4 transition-transform duration-500 ease-out group-hover:translate-x-1"})]})]})]},r.company))}),i.jsx("div",{className:"hidden w-28 shrink-0 bg-[radial-gradient(var(--muted-foreground)_1px,transparent_1px)] [background-size:10px_10px] opacity-15 xl:block"})]})]})})})},cB=6048e5,tye=864e5,eO=Symbol.for("constructDateFrom");function nc(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&eO in e?e[eO](t):e instanceof Date?new e.constructor(t):new Date(t)}function va(e,t){return nc(t||e,e)}let nye={};function Bb(){return nye}function Sp(e,t){var l,u,d,f;const n=Bb(),s=(t==null?void 0:t.weekStartsOn)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,r=va(e,t==null?void 0:t.in),a=r.getDay(),o=(a<s?7:0)+a-s;return r.setDate(r.getDate()-o),r.setHours(0,0,0,0),r}function Gv(e,t){return Sp(e,{...t,weekStartsOn:1})}function uB(e,t){const n=va(e,t==null?void 0:t.in),s=n.getFullYear(),r=nc(n,0);r.setFullYear(s+1,0,4),r.setHours(0,0,0,0);const a=Gv(r),o=nc(n,0);o.setFullYear(s,0,4),o.setHours(0,0,0,0);const l=Gv(o);return n.getTime()>=a.getTime()?s+1:n.getTime()>=l.getTime()?s:s-1}function tO(e){const t=va(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function sye(e,...t){const n=nc.bind(null,t.find(s=>typeof s=="object"));return t.map(n)}function nO(e,t){const n=va(e,t==null?void 0:t.in);return n.setHours(0,0,0,0),n}function rye(e,t,n){const[s,r]=sye(n==null?void 0:n.in,e,t),a=nO(s),o=nO(r),l=+a-tO(a),u=+o-tO(o);return Math.round((l-u)/tye)}function iye(e,t){const n=uB(e,t),s=nc(e,0);return s.setFullYear(n,0,4),s.setHours(0,0,0,0),Gv(s)}function aye(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function oye(e){return!(!aye(e)&&typeof e!="number"||isNaN(+va(e)))}function lye(e,t){const n=va(e,t==null?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const cye={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uye=(e,t,n)=>{let s;const r=cye[e];return typeof r=="string"?s=r:t===1?s=r.one:s=r.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function vh(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const dye={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},hye={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fye={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},mye={date:vh({formats:dye,defaultWidth:"full"}),time:vh({formats:hye,defaultWidth:"full"}),dateTime:vh({formats:fye,defaultWidth:"full"})},pye={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},gye=(e,t,n,s)=>pye[e];function Ta(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let r;if(s==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=n!=null&&n.width?String(n.width):o;r=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=n!=null&&n.width?String(n.width):e.defaultWidth;r=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return r[a]}}const xye={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vye={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},yye={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},bye={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},jye={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kye=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Nye={ordinalNumber:kye,era:Ta({values:xye,defaultWidth:"wide"}),quarter:Ta({values:vye,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ta({values:yye,defaultWidth:"wide"}),day:Ta({values:bye,defaultWidth:"wide"}),dayPeriod:Ta({values:wye,defaultWidth:"wide",formattingValues:jye,defaultFormattingWidth:"wide"})};function za(e){return(t,n={})=>{const s=n.width,r=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],a=t.match(r);if(!a)return null;const o=a[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?_ye(l,m=>m.test(o)):Sye(l,m=>m.test(o));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const f=t.slice(o.length);return{value:d,rest:f}}}function Sye(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function _ye(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function dB(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const r=s[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=n.valueCallback?n.valueCallback(o):o;const l=t.slice(r.length);return{value:o,rest:l}}}const Cye=/^(\d+)(th|st|nd|rd)?/i,Eye=/\d+/i,Tye={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zye={any:[/^b/i,/^(a|c)/i]},Aye={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Mye={any:[/1/i,/2/i,/3/i,/4/i]},Rye={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Oye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Dye={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Pye={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Iye={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lye={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},$ye={ordinalNumber:dB({matchPattern:Cye,parsePattern:Eye,valueCallback:e=>parseInt(e,10)}),era:za({matchPatterns:Tye,defaultMatchWidth:"wide",parsePatterns:zye,defaultParseWidth:"any"}),quarter:za({matchPatterns:Aye,defaultMatchWidth:"wide",parsePatterns:Mye,defaultParseWidth:"any",valueCallback:e=>e+1}),month:za({matchPatterns:Rye,defaultMatchWidth:"wide",parsePatterns:Oye,defaultParseWidth:"any"}),day:za({matchPatterns:Dye,defaultMatchWidth:"wide",parsePatterns:Pye,defaultParseWidth:"any"}),dayPeriod:za({matchPatterns:Iye,defaultMatchWidth:"any",parsePatterns:Lye,defaultParseWidth:"any"})},Vye={code:"en-US",formatDistance:uye,formatLong:mye,formatRelative:gye,localize:Nye,match:$ye,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Bye(e,t){const n=va(e,t==null?void 0:t.in);return rye(n,lye(n))+1}function Fye(e,t){const n=va(e,t==null?void 0:t.in),s=+Gv(n)-+iye(n);return Math.round(s/cB)+1}function hB(e,t){var f,m,g,x;const n=va(e,t==null?void 0:t.in),s=n.getFullYear(),r=Bb(),a=(t==null?void 0:t.firstWeekContainsDate)??((m=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((x=(g=r.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=nc((t==null?void 0:t.in)||e,0);o.setFullYear(s+1,0,a),o.setHours(0,0,0,0);const l=Sp(o,t),u=nc((t==null?void 0:t.in)||e,0);u.setFullYear(s,0,a),u.setHours(0,0,0,0);const d=Sp(u,t);return+n>=+l?s+1:+n>=+d?s:s-1}function Uye(e,t){var l,u,d,f;const n=Bb(),s=(t==null?void 0:t.firstWeekContainsDate)??((u=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(d=n.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,r=hB(e,t),a=nc((t==null?void 0:t.in)||e,0);return a.setFullYear(r,0,s),a.setHours(0,0,0,0),Sp(a,t)}function Hye(e,t){const n=va(e,t==null?void 0:t.in),s=+Sp(n,t)-+Uye(n,t);return Math.round(s/cB)+1}function fn(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const bl={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return fn(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):fn(n+1,2)},d(e,t){return fn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return fn(e.getHours()%12||12,t.length)},H(e,t){return fn(e.getHours(),t.length)},m(e,t){return fn(e.getMinutes(),t.length)},s(e,t){return fn(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),r=Math.trunc(s*Math.pow(10,n-3));return fn(r,t.length)}},Vd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},sO={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),r=s>0?s:1-s;return n.ordinalNumber(r,{unit:"year"})}return bl.y(e,t)},Y:function(e,t,n,s){const r=hB(e,s),a=r>0?r:1-r;if(t==="YY"){const o=a%100;return fn(o,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):fn(a,t.length)},R:function(e,t){const n=uB(e);return fn(n,t.length)},u:function(e,t){const n=e.getFullYear();return fn(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return fn(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return fn(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return bl.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return fn(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const r=Hye(e,s);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):fn(r,t.length)},I:function(e,t,n){const s=Fye(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):fn(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):bl.d(e,t)},D:function(e,t,n){const s=Bye(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):fn(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const r=e.getDay(),a=(r-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return fn(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const r=e.getDay(),a=(r-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return fn(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),r=s===0?7:s;switch(t){case"i":return String(r);case"ii":return fn(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let r;switch(s===12?r=Vd.noon:s===0?r=Vd.midnight:r=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let r;switch(s>=17?r=Vd.evening:s>=12?r=Vd.afternoon:s>=4?r=Vd.morning:r=Vd.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return bl.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):bl.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):fn(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):fn(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):bl.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):bl.s(e,t)},S:function(e,t){return bl.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return iO(s);case"XXXX":case"XX":return qc(s);case"XXXXX":case"XXX":default:return qc(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return iO(s);case"xxxx":case"xx":return qc(s);case"xxxxx":case"xxx":default:return qc(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+rO(s,":");case"OOOO":default:return"GMT"+qc(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+rO(s,":");case"zzzz":default:return"GMT"+qc(s,":")}},t:function(e,t,n){const s=Math.trunc(+e/1e3);return fn(s,t.length)},T:function(e,t,n){return fn(+e,t.length)}};function rO(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=Math.trunc(s/60),a=s%60;return a===0?n+String(r):n+String(r)+t+fn(a,2)}function iO(e,t){return e%60===0?(e>0?"-":"+")+fn(Math.abs(e)/60,2):qc(e,t)}function qc(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),r=fn(Math.trunc(s/60),2),a=fn(s%60,2);return n+r+t+a}const aO=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},fB=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},qye=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],r=n[2];if(!r)return aO(e,t);let a;switch(s){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",aO(s,t)).replace("{{time}}",fB(r,t))},Zye={p:fB,P:qye},Wye=/^D+$/,Kye=/^Y+$/,Gye=["D","DD","YY","YYYY"];function Yye(e){return Wye.test(e)}function Jye(e){return Kye.test(e)}function Xye(e,t,n){const s=Qye(e,t,n);if(console.warn(s),Gye.includes(e))throw new RangeError(s)}function Qye(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ebe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,tbe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,nbe=/^'([^]*?)'?$/,sbe=/''/g,rbe=/[a-zA-Z]/;function Yv(e,t,n){var f,m,g,x,b,w,j,k;const s=Bb(),r=(n==null?void 0:n.locale)??s.locale??Vye,a=(n==null?void 0:n.firstWeekContainsDate)??((m=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((x=(g=s.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((w=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:w.weekStartsOn)??s.weekStartsOn??((k=(j=s.locale)==null?void 0:j.options)==null?void 0:k.weekStartsOn)??0,l=va(e,n==null?void 0:n.in);if(!oye(l))throw new RangeError("Invalid time value");let u=t.match(tbe).map(S=>{const C=S[0];if(C==="p"||C==="P"){const E=Zye[C];return E(S,r.formatLong)}return S}).join("").match(ebe).map(S=>{if(S==="''")return{isToken:!1,value:"'"};const C=S[0];if(C==="'")return{isToken:!1,value:ibe(S)};if(sO[C])return{isToken:!0,value:S};if(C.match(rbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+C+"`");return{isToken:!1,value:S}});r.localize.preprocessor&&(u=r.localize.preprocessor(l,u));const d={firstWeekContainsDate:a,weekStartsOn:o,locale:r};return u.map(S=>{if(!S.isToken)return S.value;const C=S.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Jye(C)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Yye(C))&&Xye(C,t,String(e));const E=sO[C[0]];return E(l,C,r.localize,d)}).join("")}function ibe(e){const t=e.match(nbe);return t?t[1].replace(sbe,"'"):e}const abe={lessThanXSeconds:{one:{regular:"mn ne 1 sekunda",past:"ped mn ne 1 sekundou",future:"za mn ne 1 sekundu"},few:{regular:"mn ne {{count}} sekundy",past:"ped mn ne {{count}} sekundami",future:"za mn ne {{count}} sekundy"},many:{regular:"mn ne {{count}} sekund",past:"ped mn ne {{count}} sekundami",future:"za mn ne {{count}} sekund"}},xSeconds:{one:{regular:"1 sekunda",past:"ped 1 sekundou",future:"za 1 sekundu"},few:{regular:"{{count}} sekundy",past:"ped {{count}} sekundami",future:"za {{count}} sekundy"},many:{regular:"{{count}} sekund",past:"ped {{count}} sekundami",future:"za {{count}} sekund"}},halfAMinute:{type:"other",other:{regular:"pl minuty",past:"ped pl minutou",future:"za pl minuty"}},lessThanXMinutes:{one:{regular:"mn ne 1 minuta",past:"ped mn ne 1 minutou",future:"za mn ne 1 minutu"},few:{regular:"mn ne {{count}} minuty",past:"ped mn ne {{count}} minutami",future:"za mn ne {{count}} minuty"},many:{regular:"mn ne {{count}} minut",past:"ped mn ne {{count}} minutami",future:"za mn ne {{count}} minut"}},xMinutes:{one:{regular:"1 minuta",past:"ped 1 minutou",future:"za 1 minutu"},few:{regular:"{{count}} minuty",past:"ped {{count}} minutami",future:"za {{count}} minuty"},many:{regular:"{{count}} minut",past:"ped {{count}} minutami",future:"za {{count}} minut"}},aboutXHours:{one:{regular:"piblin 1 hodina",past:"piblin ped 1 hodinou",future:"piblin za 1 hodinu"},few:{regular:"piblin {{count}} hodiny",past:"piblin ped {{count}} hodinami",future:"piblin za {{count}} hodiny"},many:{regular:"piblin {{count}} hodin",past:"piblin ped {{count}} hodinami",future:"piblin za {{count}} hodin"}},xHours:{one:{regular:"1 hodina",past:"ped 1 hodinou",future:"za 1 hodinu"},few:{regular:"{{count}} hodiny",past:"ped {{count}} hodinami",future:"za {{count}} hodiny"},many:{regular:"{{count}} hodin",past:"ped {{count}} hodinami",future:"za {{count}} hodin"}},xDays:{one:{regular:"1 den",past:"ped 1 dnem",future:"za 1 den"},few:{regular:"{{count}} dny",past:"ped {{count}} dny",future:"za {{count}} dny"},many:{regular:"{{count}} dn",past:"ped {{count}} dny",future:"za {{count}} dn"}},aboutXWeeks:{one:{regular:"piblin 1 tden",past:"piblin ped 1 tdnem",future:"piblin za 1 tden"},few:{regular:"piblin {{count}} tdny",past:"piblin ped {{count}} tdny",future:"piblin za {{count}} tdny"},many:{regular:"piblin {{count}} tdn",past:"piblin ped {{count}} tdny",future:"piblin za {{count}} tdn"}},xWeeks:{one:{regular:"1 tden",past:"ped 1 tdnem",future:"za 1 tden"},few:{regular:"{{count}} tdny",past:"ped {{count}} tdny",future:"za {{count}} tdny"},many:{regular:"{{count}} tdn",past:"ped {{count}} tdny",future:"za {{count}} tdn"}},aboutXMonths:{one:{regular:"piblin 1 msc",past:"piblin ped 1 mscem",future:"piblin za 1 msc"},few:{regular:"piblin {{count}} msce",past:"piblin ped {{count}} msci",future:"piblin za {{count}} msce"},many:{regular:"piblin {{count}} msc",past:"piblin ped {{count}} msci",future:"piblin za {{count}} msc"}},xMonths:{one:{regular:"1 msc",past:"ped 1 mscem",future:"za 1 msc"},few:{regular:"{{count}} msce",past:"ped {{count}} msci",future:"za {{count}} msce"},many:{regular:"{{count}} msc",past:"ped {{count}} msci",future:"za {{count}} msc"}},aboutXYears:{one:{regular:"piblin 1 rok",past:"piblin ped 1 rokem",future:"piblin za 1 rok"},few:{regular:"piblin {{count}} roky",past:"piblin ped {{count}} roky",future:"piblin za {{count}} roky"},many:{regular:"piblin {{count}} rok",past:"piblin ped {{count}} roky",future:"piblin za {{count}} rok"}},xYears:{one:{regular:"1 rok",past:"ped 1 rokem",future:"za 1 rok"},few:{regular:"{{count}} roky",past:"ped {{count}} roky",future:"za {{count}} roky"},many:{regular:"{{count}} rok",past:"ped {{count}} roky",future:"za {{count}} rok"}},overXYears:{one:{regular:"vce ne 1 rok",past:"ped vce ne 1 rokem",future:"za vce ne 1 rok"},few:{regular:"vce ne {{count}} roky",past:"ped vce ne {{count}} roky",future:"za vce ne {{count}} roky"},many:{regular:"vce ne {{count}} rok",past:"ped vce ne {{count}} roky",future:"za vce ne {{count}} rok"}},almostXYears:{one:{regular:"skoro 1 rok",past:"skoro ped 1 rokem",future:"skoro za 1 rok"},few:{regular:"skoro {{count}} roky",past:"skoro ped {{count}} roky",future:"skoro za {{count}} roky"},many:{regular:"skoro {{count}} rok",past:"skoro ped {{count}} roky",future:"skoro za {{count}} rok"}}},obe=(e,t,n)=>{let s;const r=abe[e];r.type==="other"?s=r.other:t===1?s=r.one:t>1&&t<5?s=r.few:s=r.many;const a=(n==null?void 0:n.addSuffix)===!0,o=n==null?void 0:n.comparison;let l;return a&&o===-1?l=s.past:a&&o===1?l=s.future:l=s.regular,l.replace("{{count}}",String(t))},lbe={full:"EEEE, d. MMMM yyyy",long:"d. MMMM yyyy",medium:"d. M. yyyy",short:"dd.MM.yyyy"},cbe={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},ube={full:"{{date}} 'v' {{time}}",long:"{{date}} 'v' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},dbe={date:vh({formats:lbe,defaultWidth:"full"}),time:vh({formats:cbe,defaultWidth:"full"}),dateTime:vh({formats:ube,defaultWidth:"full"})},hbe=["nedli","pondl","ter","stedu","tvrtek","ptek","sobotu"],fbe={lastWeek:"'posledn' eeee 've' p",yesterday:"'vera v' p",today:"'dnes v' p",tomorrow:"'ztra v' p",nextWeek:e=>{const t=e.getDay();return"'v "+hbe[t]+" o' p"},other:"P"},mbe=(e,t)=>{const n=fbe[e];return typeof n=="function"?n(t):n},pbe={narrow:["p. n. l.","n. l."],abbreviated:["p. n. l.","n. l."],wide:["ped nam letopotem","naeho letopotu"]},gbe={narrow:["1","2","3","4"],abbreviated:["1. tvrtlet","2. tvrtlet","3. tvrtlet","4. tvrtlet"],wide:["1. tvrtlet","2. tvrtlet","3. tvrtlet","4. tvrtlet"]},xbe={narrow:["L","","B","D","K","","","S","Z","","L","P"],abbreviated:["led","no","be","dub","kv","vn","vc","srp","z","j","lis","pro"],wide:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec"]},vbe={narrow:["L","","B","D","K","","","S","Z","","L","P"],abbreviated:["led","no","be","dub","kv","vn","vc","srp","z","j","lis","pro"],wide:["ledna","nora","bezna","dubna","kvtna","ervna","ervence","srpna","z","jna","listopadu","prosince"]},ybe={narrow:["ne","po","t","st","t","p","so"],short:["ne","po","t","st","t","p","so"],abbreviated:["ned","pon","te","st","tv","pt","sob"],wide:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"]},bbe={narrow:{am:"dop.",pm:"odp.",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"},abbreviated:{am:"dop.",pm:"odp.",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"},wide:{am:"dopoledne",pm:"odpoledne",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"}},wbe={narrow:{am:"dop.",pm:"odp.",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"},abbreviated:{am:"dop.",pm:"odp.",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"},wide:{am:"dopoledne",pm:"odpoledne",midnight:"plnoc",noon:"poledne",morning:"rno",afternoon:"odpoledne",evening:"veer",night:"noc"}},jbe=(e,t)=>Number(e)+".",kbe={ordinalNumber:jbe,era:Ta({values:pbe,defaultWidth:"wide"}),quarter:Ta({values:gbe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Ta({values:xbe,defaultWidth:"wide",formattingValues:vbe,defaultFormattingWidth:"wide"}),day:Ta({values:ybe,defaultWidth:"wide"}),dayPeriod:Ta({values:bbe,defaultWidth:"wide",formattingValues:wbe,defaultFormattingWidth:"wide"})},Nbe=/^(\d+)\.?/i,Sbe=/\d+/i,_be={narrow:/^(p[r](\.|ed) Kr\.|p[r](\.|ed) n\. l\.|po Kr\.|n\. l\.)/i,abbreviated:/^(p[r](\.|ed) Kr\.|p[r](\.|ed) n\. l\.|po Kr\.|n\. l\.)/i,wide:/^(p[r](\.|ed) Kristem|p[r](\.|ed) na[s][i]m letopo[c]tem|po Kristu|na[s]eho letopo[c]tu)/i},Cbe={any:[/^p[r]/i,/^(po|n)/i]},Ebe={narrow:/^[1234]/i,abbreviated:/^[1234]\. [c]tvrtlet[i]/i,wide:/^[1234]\. [c]tvrtlet[i]/i},Tbe={any:[/1/i,/2/i,/3/i,/4/i]},zbe={narrow:/^[lubdkcszrlp]/i,abbreviated:/^(led|[u]no|b[r]e|dub|kv[e]|[c]vn|[c]vc|srp|z[a][r]|[r][i]j|lis|pro)/i,wide:/^(leden|ledna|[u]nora?|b[r]ezen|b[r]ezna|duben|dubna|kv[e]ten|kv[e]tna|[c]erven(ec|ce)?|[c]ervna|srpen|srpna|z[a][r][i]|[r][i]jen|[r][i]jna|listopad(a|u)?|prosinec|prosince)/i},Abe={narrow:[/^l/i,/^[u]/i,/^b/i,/^d/i,/^k/i,/^[c]/i,/^[c]/i,/^s/i,/^z/i,/^[r]/i,/^l/i,/^p/i],any:[/^led/i,/^[u]n/i,/^b[r]e/i,/^dub/i,/^kv[e]/i,/^[c]vn|[c]erven(?!\w)|[c]ervna/i,/^[c]vc|[c]erven(ec|ce)/i,/^srp/i,/^z[a][r]/i,/^[r][i]j/i,/^lis/i,/^pro/i]},Mbe={narrow:/^[npusps]/i,short:/^(ne|po|[u]t|st|[c]t|p[a]|so)/i,abbreviated:/^(ned|pon|[u]te|st[r]|[c]tv|p[a]t|sob)/i,wide:/^(ned[e]le|pond[e]l[i]|[u]ter[y]|st[r]eda|[c]tvrtek|p[a]tek|sobota)/i},Rbe={narrow:[/^n/i,/^p/i,/^[u]/i,/^s/i,/^[c]/i,/^p/i,/^s/i],any:[/^ne/i,/^po/i,/^[u]t/i,/^st/i,/^[c]t/i,/^p[a]/i,/^so/i]},Obe={any:/^dopoledne|dop\.?|odpoledne|odp\.?|p[u]lnoc|poledne|r[a]no|odpoledne|ve[c]er|(v )?noci?/i},Dbe={any:{am:/^dop/i,pm:/^odp/i,midnight:/^p[u]lnoc/i,noon:/^poledne/i,morning:/r[a]no/i,afternoon:/odpoledne/i,evening:/ve[c]er/i,night:/noc/i}},Pbe={ordinalNumber:dB({matchPattern:Nbe,parsePattern:Sbe,valueCallback:e=>parseInt(e,10)}),era:za({matchPatterns:_be,defaultMatchWidth:"wide",parsePatterns:Cbe,defaultParseWidth:"any"}),quarter:za({matchPatterns:Ebe,defaultMatchWidth:"wide",parsePatterns:Tbe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:za({matchPatterns:zbe,defaultMatchWidth:"wide",parsePatterns:Abe,defaultParseWidth:"any"}),day:za({matchPatterns:Mbe,defaultMatchWidth:"wide",parsePatterns:Rbe,defaultParseWidth:"any"}),dayPeriod:za({matchPatterns:Obe,defaultMatchWidth:"any",parsePatterns:Dbe,defaultParseWidth:"any"})},Jv={code:"cs",formatDistance:obe,formatLong:dbe,formatRelative:mbe,localize:kbe,match:Pbe,options:{weekStartsOn:1,firstWeekContainsDate:4}},Ibe=()=>{const[e,t]=v.useState(null),[n,s]=v.useState([]),[r,a]=v.useState(!0);return v.useEffect(()=>{(async()=>{var u,d;const{data:l}=await de.from("blog_posts").select("id, slug, title, excerpt, featured_image, category, published_at").eq("status","published").order("published_at",{ascending:!1}).limit(3);if(l&&l.length>0){const f=Math.floor(Math.random()*l.length),m=l[f],g=l.filter((j,k)=>k!==f).slice(0,2),x=m.title.split(":"),b=((u=x[0])==null?void 0:u.trim())||m.title,w=((d=x[1])==null?void 0:d.trim())||"";t({logo:"/logo.svg",company:"Nedvn lnky",tags:`${m.category.toUpperCase()} / ${Yv(new Date(m.published_at),"d. MMMM yyyy",{locale:Jv}).toUpperCase()}`,title:b,subtitle:w,image:m.featured_image||"https://images.pexels.com/photos/6111597/pexels-photo-6111597.jpeg",link:`/blog/${m.slug}`}),s(g.map(j=>{var E,z;const k=j.title.split(":"),S=((E=k[0])==null?void 0:E.trim())||j.title,C=((z=k[1])==null?void 0:z.trim())||"";return{logo:"/logo.svg",company:"Blog",tags:`${j.category.toUpperCase()} / ${Yv(new Date(j.published_at),"d. MMMM yyyy",{locale:Jv}).toUpperCase()}`,title:S,subtitle:C,image:j.featured_image||"https://images.pexels.com/photos/6111597/pexels-photo-6111597.jpeg",link:`/blog/${j.slug}`}}))}a(!1)})()},[]),r?i.jsx("section",{id:"services",className:"w-full py-32 overflow-visible",children:i.jsx("div",{className:"container mx-auto flex justify-center",children:i.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):i.jsx("section",{id:"services",className:"w-full py-0 overflow-visible",children:i.jsx(eye,{featuredCasestudy:e,casestudies:n})})},Lbe=({heading:e="N Tm",description:t="Zkuen odbornci s letitmi zkuenostmi pipraveni vm pomoci.",className:n})=>{const s=Yt(),[r,a]=v.useState([]),[o,l]=v.useState(!0);return v.useEffect(()=>{(async()=>{const{data:d}=await de.from("team_members").select("id, name, role, slug, avatar_url, github, twitter, linkedin").eq("is_active",!0).order("order_index");a(d??[]),l(!1)})()},[]),o?i.jsx("section",{className:se("bg-gradient-to-b from-background to-muted/20 py-24 lg:py-32",n),children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("div",{className:"flex min-h-[400px] items-center justify-center",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):i.jsx("section",{className:se("bg-gradient-to-b from-background to-muted/20 py-24 lg:py-32",n),children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsxs("div",{className:"mb-20 text-center",children:[i.jsx("h2",{className:"mb-6 bg-gradient-to-r from-foreground to-muted-foreground bg-clip-text text-4xl font-bold tracking-tight text-transparent lg:text-6xl",children:e}),i.jsx("p",{className:"mx-auto max-w-3xl text-xl leading-relaxed text-muted-foreground",children:t})]}),i.jsx("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3",children:r.map(u=>i.jsxs("div",{onClick:()=>s(`/tym/${u.slug}`),className:"group relative cursor-pointer overflow-hidden rounded-2xl border border-sky-100 dark:border-sky-900/30 bg-card p-8 transition-all duration-300 hover:-translate-y-2 hover:border-sky-300 dark:hover:border-sky-700 hover:shadow-2xl hover:shadow-sky-200/30 dark:hover:shadow-sky-900/20",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-sky-100/40 dark:from-sky-900/20 to-transparent opacity-0 transition-opacity duration-300 group-hover:opacity-100"}),i.jsxs("div",{className:"relative flex flex-col items-center text-center",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-sky-300/20 to-sky-200/10 blur-xl transition-all duration-300 group-hover:blur-2xl"}),i.jsxs(zs,{className:"relative size-24 shadow-lg ring-4 ring-background transition-all duration-300 group-hover:ring-primary/20 lg:size-28",children:[i.jsx(lr,{src:u.avatar_url,className:"object-cover"}),i.jsx(Ha,{className:"bg-gradient-to-br from-primary/10 to-primary/5 text-xl font-semibold",children:u.name.split(" ").map(d=>d[0]).join("")})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"mb-2 text-xl font-bold transition-colors duration-300 group-hover:text-primary",children:u.name}),i.jsx("p",{className:"inline-block rounded-full bg-muted/50 px-4 py-1.5 text-sm font-medium text-muted-foreground",children:u.role})]}),i.jsxs("div",{className:"flex gap-3",children:[u.github&&i.jsx("a",{href:u.github,onClick:d=>d.stopPropagation(),className:"rounded-xl bg-muted/80 p-3 transition-all duration-300 hover:scale-110 hover:bg-primary/10 hover:shadow-lg","aria-label":`${u.name}'s GitHub`,children:i.jsx(wae,{className:"size-5 text-muted-foreground transition-colors duration-300 hover:text-primary"})}),u.twitter&&i.jsx("a",{href:u.twitter,onClick:d=>d.stopPropagation(),className:"rounded-xl bg-muted/80 p-3 transition-all duration-300 hover:scale-110 hover:bg-primary/10 hover:shadow-lg","aria-label":`${u.name}'s twitter`,children:i.jsx(QL,{className:"size-5 text-muted-foreground transition-colors duration-300 hover:text-primary"})}),u.linkedin&&i.jsx("a",{href:u.linkedin,onClick:d=>d.stopPropagation(),className:"rounded-xl bg-muted/80 p-3 transition-all duration-300 hover:scale-110 hover:bg-primary/10 hover:shadow-lg","aria-label":`${u.name}'s linkedin`,children:i.jsx($L,{className:"size-5 text-muted-foreground transition-colors duration-300 hover:text-primary"})})]})]})]},u.id))})]})})},$be=Lbe;function Re({className:e,...t}){return i.jsx("div",{"data-slot":"card",className:se("flex flex-col gap-6 rounded-xl border bg-card py-6 text-card-foreground shadow-sm",e),...t})}function Je({className:e,...t}){return i.jsx("div",{"data-slot":"card-header",className:se("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function Qe({className:e,...t}){return i.jsx("div",{"data-slot":"card-title",className:se("font-semibold leading-none",e),...t})}function Xt({className:e,...t}){return i.jsx("div",{"data-slot":"card-description",className:se("text-muted-foreground text-sm",e),...t})}function Oe({className:e,...t}){return i.jsx("div",{"data-slot":"card-content",className:se("px-6",e),...t})}function Vbe({className:e,...t}){return i.jsx("div",{"data-slot":"card-footer",className:se("flex items-center px-6 [.border-t]:pt-6 ",e),...t})}const Bbe=[{id:"1",name:"John Doe",username:"johndoe",date:"2023-10-05",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-1.webp",content:"Piblin 3/4 roku jsem trpl bolest zad v bedern oblasti s postupnm odumrnm lev hd a nohy. Tato bolest byla schopn m zastavit, jako by nkdo pitahoval kohoutky a u nelo jt dl a musel jsem hledat levovou pozici ve depu. Absolvoval jsem magnetickou rezonanci (vhezy 2-6mm na 6i mstech), neurologick vyeten vetn EMG, CT obstik, konzultaci na neurochirurgii s monost operace jen jsem odmtl, rehabilitace, cvien,  stav se nelepil, akoliv jsem stle vil, e si musm bt schopen pomoci sm. Nakonec jsem se dostal na doporuen do Dires Fyzio k Martinovi astnmu a zaal objevovat nov monosti cvien a vnmn svho tla. Bolest rapidn ustoupila a vm, e zmiz pln. Je poteba vytrvat a vit, e nae tla jsou dostaten vybavena k tomu aby si pomohla, jen jim musme obas dt trochu prostoru a asu najt nov monosti."},{id:"2",name:"Jane Smith",username:"janesmith",date:"2023-09-30",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-2.webp",content:"Honza Kottas mi opt pomohl od problmu,  kter m msc trpil a se kterm mi nepomohly ani mase, ani akupunktura. Honzova jemn, citliv prce mi pinesla znatelnou levu a zlepen ne pln okamit, ale za pr hodin jsem zjistila, e u m to nebol, nethne v zdech, nebrn v ruce, nepl na hrudi. Honzu povauji za amana, litele. Jet se nestalo, aby mi nepomohl od problm, se ktermi bych la jinak k neurologovi, se kterm mm naopak velmi patnou zkuenost. Take jsem skuten astn, e Honzu znm a vele ho kadmu doporuuji."},{id:"3",name:"Alice Johnson",username:"alicej",date:"2023-09-25",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-3.webp",content:"Velice doporuuji pana Kottase, se kterm em dlouhodob neurologick problm. Dochzel jsem na rzn fyzio cvien/terapie a poprv ctm, e problmu nkdo opravdu rozum a pouv sprvnou cestu a techniku. 5/5"},{id:"4",name:"Bob Brown",username:"bobbrown",date:"2023-09-20",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-4.webp",content:"Nevila jsem, e moje 3 let dcera doke bt hodinu v klidu, ale z pana Kottase vyzauje takov klid, e se j cel nvtva lbila a i kdy se j hned ulevilo, tak by tam chtla jezdit znovu, jak j bylo cel oeten pjemn."},{id:"5",name:"Charlie Davis",username:"charlied",date:"2023-09-15",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-5.webp",content:"Dkuju za skvl pstup ! Pan Kottas byl asn a hned po prvn nvtv se mi dost ulevilo. Co jet oceuji je dostupnost do Diresu - tramvajov zastvka je kousek:))"},{id:"6",name:"Eva Wilson",username:"evawilson",date:"2023-09-10",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-6.webp",content:"Skvl osobn pstup, velice doporuuji a dkuji  "},{id:"7",name:"Frank Miller",username:"frankm",date:"2023-09-05",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-7.webp",content:"Skvl"},{id:"8",name:"Grace Lee",username:"gracelee",date:"2023-08-30",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-8.webp",content:"pstup terapeut je profesionln a clen na individuln poteby. U po pr sezench jsem ctil velk zlepen pohyblivosti."},{id:"9",name:"Henry Garcia",username:"henryg",date:"2023-08-25",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-4.webp",content:"Program 4Core m opravdu posunul. Lekce jsou srozumiteln a pomhaj nejen s tlem, ale i s celkovm ctnm sprvnho dren tla."}],Fbe=({testimonial:e})=>i.jsxs(Re,{className:"relative mb-5 break-inside-avoid rounded-xl p-5 shadow-sm border-sky-100 dark:border-sky-900/30",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(zs,{className:"h-10 w-10 rounded-full ring-1 ring-muted",children:i.jsx(lr,{src:e.avatar,alt:e.name})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm font-medium",children:e.name}),i.jsx(ig,{className:"h-4 w-4 fill-sky-400 stroke-white"})]}),i.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:["@",e.username]})]}),i.jsx("div",{className:"ml-auto hover:cursor-pointer",children:i.jsx("img",{src:`
          public/google__g__logo.svg.webp`,alt:"X logo",className:"h-4 w-4"})})]}),i.jsx("div",{className:"my-4 border-t border-dashed border-sky-200/60 dark:border-sky-800/30"}),i.jsx("div",{className:"text-sm text-foreground",children:i.jsx("q",{children:e.content})}),i.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs text-muted-foreground",children:[i.jsx(cn,{className:"h-4 w-4"}),i.jsx("span",{children:e.date})]})]}),Ube=({className:e})=>{const[t,n]=v.useState(3);v.useEffect(()=>{const a=()=>{if(typeof window>"u")return 3;const l=window.innerWidth;return l<768?1:l<1024?2:3},o=()=>{n(a())};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const s=(a,o)=>{const l=Math.ceil(a.length/o),u=[];for(let d=0;d<o;d++)for(let f=0;f<l;f++){const m=f*o+d;m<a.length&&u.push(a[m])}return u},r=v.useMemo(()=>s(Bbe,t),[t]);return i.jsx("section",{id:"testimonials",className:se("py-32",e),children:i.jsxs("div",{className:"container mx-auto flex flex-col items-center",children:[i.jsx("div",{className:"my-4 flex justify-center",children:i.jsxs($e,{variant:"outline",className:"rounded-sm py-2 shadow-md",children:[i.jsx(voe,{className:"mr-2 size-4 text-muted-foreground"}),i.jsx("span",{children:"Reference pacient"})]})}),i.jsxs("div",{className:"flex flex-col items-center gap-6 px-4 sm:px-8 text-center",children:[i.jsxs("h2",{className:"mb-2 text-center text-3xl font-semibold lg:text-5xl",children:["Zjistte, co kaj ",i.jsx("br",{})," nai pacienti"]}),i.jsx("div",{className:"mt-4 flex flex-col items-center justify-center gap-4 sm:flex-row",children:i.jsx("span",{children:"Objevte, jak nae fyzioterapeutick pe mn ivoty a zlepuje zdrav naich klient."})})]}),i.jsx("div",{className:"relative mt-14 w-full max-w-7xl mx-auto px-4 after:absolute after:inset-x-0 after:-bottom-2 after:h-96 after:bg-gradient-to-t after:from-background sm:px-8 md:px-16 lg:px-32",children:i.jsx("div",{className:"columns-1 gap-5 md:columns-2 lg:columns-3",children:r.map(a=>i.jsx(Fbe,{testimonial:a},a.id))})}),i.jsx("div",{className:"flex justify-center",children:i.jsx(X,{asChild:!0,className:"mt-4 gap-2 rounded-lg px-5 py-3 text-sm shadow-sm transition-colors hover:bg-primary/90 focus:outline-none disabled:pointer-events-none disabled:opacity-50",children:i.jsxs(Ue,{to:"/reference",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{children:"Zobrazit vce"}),i.jsx("span",{className:"text-muted/80",children:"-"}),i.jsx("span",{className:"text-muted/80",children:"Referenc"})]}),i.jsx(kr,{className:"h-4 w-4 text-muted-foreground/80"})]})})})]})})},fm="absolute pointer-events-none select-none object-contain mix-blend-multiply";function Hbe(){return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"bg-background transition-colors duration-700",children:i.jsx(Xve,{})}),i.jsx("div",{className:"bg-muted/70 transition-colors duration-700",children:i.jsx(h0e,{})}),i.jsxs("div",{className:"relative overflow-hidden bg-background transition-colors duration-700",children:[i.jsx("img",{src:"/pattern.png",alt:"","aria-hidden":"true",className:`${fm} -left-20 top-1/2 -translate-y-1/2 h-[130%] w-auto opacity-[0.12] dark:opacity-[0.08]`}),i.jsx(Gve,{})]}),i.jsx("div",{className:"bg-background transition-colors duration-700",children:i.jsx(Ube,{})}),i.jsxs("div",{className:"relative overflow-hidden bg-muted/50 transition-colors duration-700",children:[i.jsx("img",{src:"/pattern_(kopie).png",alt:"","aria-hidden":"true",className:`${fm} -right-20 top-1/2 -translate-y-1/2 h-[120%] w-auto opacity-[0.12] dark:opacity-[0.07]`}),i.jsx(Ibe,{})]}),i.jsx("div",{className:"bg-muted/70 transition-colors duration-700",children:i.jsx(bve,{})}),i.jsxs("div",{className:"relative overflow-hidden bg-background transition-colors duration-700",children:[i.jsx("img",{src:"/pattern.png",alt:"","aria-hidden":"true",className:`${fm} -left-20 top-1/2 -translate-y-1/2 h-[120%] w-auto opacity-[0.1] dark:opacity-[0.06]`}),i.jsx($be,{})]}),i.jsx("div",{className:"bg-muted/40 transition-colors duration-700",children:i.jsx(m0e,{})}),i.jsxs("div",{className:"relative overflow-hidden bg-muted/70 transition-colors duration-700",children:[i.jsx("img",{src:"/ltko.png",alt:"","aria-hidden":"true",className:`${fm} -right-8 top-0 h-full w-auto opacity-[0.22] dark:opacity-[0.12]`}),i.jsx(Qve,{})]}),i.jsxs("div",{className:"relative overflow-hidden bg-background transition-colors duration-700",children:[i.jsx("img",{src:"/pattern_(kopie).png",alt:"","aria-hidden":"true",className:`${fm} inset-0 w-full h-full object-cover opacity-[0.1] dark:opacity-[0.06]`,style:{maskImage:"linear-gradient(to right, black 0%, transparent 50%)",WebkitMaskImage:"linear-gradient(to right, black 0%, transparent 50%)"}}),i.jsx(Sve,{})]}),i.jsx("div",{className:"bg-muted/70 transition-colors duration-700",children:i.jsx(yve,{})})]})}const Bd=[{title:"Vtejte v Dires",description:"V osobn prvodce fyziologickm trninkem a wellbeing",icon:""},{title:"Online kurzy",description:"Pstup k odbornm kurzm pro zdrav a funkn tlo",icon:""},{title:"Sledujte pokrok",description:"Gamifikace vaeho uen s odznaky, body a ebky",icon:""},{title:"E-shop produkt",description:"Profesionln pomcky pro vae cvien a rehabilitaci",icon:""}];function qbe(){const[e,t]=v.useState(0),n=Yt(),s=()=>{e<Bd.length-1?t(e+1):(localStorage.setItem("onboarding_completed","true"),n("/prehled"))},r=()=>{e>0&&t(e-1)},a=()=>{localStorage.setItem("onboarding_completed","true"),n("/prehled")};return i.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-between p-6 bg-gradient-to-b from-background to-muted",children:[i.jsxs("div",{className:"w-full max-w-md flex-1 flex flex-col items-center justify-center",children:[i.jsx(jn,{mode:"wait",children:i.jsxs(ne.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},className:"text-center space-y-6",children:[i.jsx(ne.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"text-8xl mb-8",children:Bd[e].icon}),i.jsx("h1",{className:"text-3xl font-bold",children:Bd[e].title}),i.jsx("p",{className:"text-lg text-muted-foreground",children:Bd[e].description})]},e)}),i.jsx("div",{className:"flex gap-2 mt-12",children:Bd.map((o,l)=>i.jsx(ne.div,{className:`h-2 rounded-full transition-all ${l===e?"w-8 bg-primary":"w-2 bg-muted-foreground/30"}`,initial:!1,animate:{width:l===e?32:8},transition:{duration:.3}},l))})]}),i.jsxs("div",{className:"w-full max-w-md space-y-4 pb-safe",children:[i.jsxs("div",{className:"flex gap-4",children:[e>0&&i.jsxs(X,{variant:"outline",size:"lg",onClick:r,className:"flex-1",children:[i.jsx(ag,{className:"mr-2 h-5 w-5"}),"Zpt"]}),i.jsxs(X,{size:"lg",onClick:s,className:"flex-1",children:[e===Bd.length-1?"Zat":"Dal",i.jsx(kr,{className:"ml-2 h-5 w-5"})]})]}),i.jsx(X,{variant:"ghost",onClick:a,className:"w-full",children:"Peskoit"})]})]})}const Zbe=({className:e})=>i.jsxs("div",{className:se(e),children:[i.jsx("h1",{className:"text-4xl font-medium sm:text-6xl md:text-7xl",children:"Video Balicky"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Kazdy balicek obsahuje sadu videi. Zakupte si balicek jednorazove a ziskejte pristup ke vsem videim uvnitr."}),i.jsxs("div",{className:"mt-10 grid grid-cols-1 gap-4 lg:grid-cols-12",children:[i.jsxs("a",{href:"#courses",className:"group relative isolate overflow-hidden rounded-2xl border border-border transition-transform duration-300 hover:-translate-y-0.5 lg:col-span-7 lg:row-span-2",children:[i.jsx("img",{src:"https://images.pexels.com/photos/4050315/pexels-photo-4050315.jpeg?auto=compress&cs=tinysrgb&w=1200",alt:"Fyzioterapie kurzy",className:"size-full max-h-[550px] object-cover grayscale-100 transition-all duration-300 group-hover:grayscale-50"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),i.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col justify-between p-8",children:[i.jsxs($e,{className:"w-fit border border-white/20 bg-white/15 text-white backdrop-blur-sm",children:[i.jsx(YL,{className:"size-4"}),"Doporuceny balicek"]}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"Kompletni kurzy fyzioterapie pro vasi praxi"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("time",{className:"text-sm text-white/80",children:"Nove aktualizovano"}),i.jsxs("div",{className:"flex items-center -space-x-2",children:[i.jsx(zs,{className:"size-6 border border-primary",children:i.jsx(lr,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100"})}),i.jsx(zs,{className:"size-6 border border-primary",children:i.jsx(lr,{src:"https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100"})}),i.jsx("span",{className:"z-10 grid size-6 place-items-center rounded-full border border-primary bg-primary/90 text-xs text-white backdrop-blur-sm",children:"+5"})]})]})]})]})]}),i.jsxs("div",{className:"flex flex-col gap-4 lg:col-span-5 lg:row-span-2 lg:flex-col",children:[i.jsxs("a",{href:"#courses",className:"group relative isolate overflow-hidden rounded-2xl border border-border transition-transform duration-300 hover:-translate-y-0.5",children:[i.jsx("img",{src:"https://images.pexels.com/photos/5473182/pexels-photo-5473182.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Rehabilitace",className:"size-full max-h-[267px] object-cover grayscale-100 transition-all duration-300 group-hover:grayscale-50"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),i.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col justify-between p-8",children:[i.jsx($e,{className:"w-fit border border-white/20 bg-white/15 text-white backdrop-blur-sm",children:"Populrn"}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"Rehabilitacni techniky pro kazdy den"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("time",{className:"text-sm text-white/80",children:"Nejnovejsi"}),i.jsx(zs,{className:"size-6 border border-primary",children:i.jsx(lr,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100"})})]})]})]})]}),i.jsxs("a",{href:"#courses",className:"group relative isolate overflow-hidden rounded-2xl border border-border transition-transform duration-300 hover:-translate-y-0.5",children:[i.jsx("img",{src:"https://images.pexels.com/photos/4506109/pexels-photo-4506109.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Pokrocile techniky",className:"size-full max-h-[267px] object-cover grayscale-100 transition-all duration-300 group-hover:grayscale-50"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),i.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col justify-between p-8",children:[i.jsx($e,{className:"w-fit border border-white/20 bg-white/15 text-white backdrop-blur-sm",children:"Pokrocile"}),i.jsxs("div",{className:"flex flex-col gap-4",children:[i.jsx("h2",{className:"text-xl font-medium text-white",children:"Pokrocile fyzioterapeuticke postupy a metody"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("time",{className:"text-sm text-white/80",children:"Aktualizovano"}),i.jsx(zs,{className:"size-6 border border-primary",children:i.jsx(lr,{src:"https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100"})})]})]})]})]})]})]})]});function Xv(e){return new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(e)}function dE({course:e}){return e.isPurchased?i.jsx(X,{size:"sm",className:"h-9 gap-1.5 rounded-lg px-4 text-xs",asChild:!0,children:i.jsxs(Ue,{to:e.cta.url,children:[i.jsx(La,{className:"h-3.5 w-3.5",fill:"currentColor"}),"Pokracovat"]})}):e.onBuy?i.jsxs(X,{size:"sm",className:"h-9 gap-1.5 rounded-lg px-4 text-xs",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),(n=e.onBuy)==null||n.call(e)},children:[i.jsx(og,{className:"h-3.5 w-3.5"}),"Koupit"]}):i.jsx(X,{size:"sm",className:"h-9 gap-1.5 rounded-lg px-4 text-xs",asChild:!0,children:i.jsx(Ue,{to:e.cta.url,children:e.cta.text})})}function Wbe({course:e}){const[t,n]=v.useState(!1);return i.jsxs(Ue,{to:e.cta.url,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"group relative flex h-full flex-col overflow-hidden rounded-2xl border border-border bg-card transition-all duration-300 hover:border-primary/30 hover:shadow-lg cursor-pointer",children:[i.jsxs("div",{className:"relative aspect-[16/9] shrink-0 overflow-hidden",children:[i.jsx("img",{src:e.image,alt:e.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent"}),i.jsxs("div",{className:"absolute left-4 top-4 flex items-center gap-2",children:[e.badge&&i.jsx($e,{className:"border-0 bg-white/15 text-white backdrop-blur-md",children:e.badge}),e.isPurchased&&i.jsx($e,{className:"border-0 bg-emerald-500/90 text-white",children:"Zakoupeno"})]}),i.jsx(jn,{children:t&&!e.isPurchased&&e.onPreview&&i.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-[2px]",children:i.jsx(ne.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},transition:{duration:.2},children:i.jsxs(X,{variant:"secondary",size:"lg",className:"gap-2 rounded-full bg-white/95 text-black shadow-xl hover:bg-white relative z-10",onClick:s=>{var r;s.preventDefault(),s.stopPropagation(),(r=e.onPreview)==null||r.call(e)},children:[i.jsx(Li,{className:"h-4 w-4"}),"Nahled obsahu"]})})})}),i.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:i.jsxs("div",{className:"flex items-end justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-white/15 px-2.5 py-1 text-xs font-medium text-white backdrop-blur-md",children:[i.jsx(Ou,{className:"h-3 w-3"}),e.videos]}),i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-white/15 px-2.5 py-1 text-xs font-medium text-white backdrop-blur-md",children:[i.jsx(cn,{className:"h-3 w-3"}),e.duration]})]}),!e.isPurchased&&e.price>0&&i.jsx("span",{className:"text-lg font-bold text-white",children:Xv(e.price)})]})})]}),i.jsxs("div",{className:"flex flex-1 flex-col p-5",children:[i.jsxs("div",{className:"mb-2 flex items-center gap-1",children:[[1,2,3,4,5].map(s=>i.jsx(Lr,{className:"h-3 w-3 fill-amber-400 text-amber-400"},s)),i.jsx("span",{className:"ml-1 text-xs text-muted-foreground",children:"5.0"})]}),i.jsx("h3",{className:"mb-1 text-lg font-bold leading-tight group-hover:underline",children:e.title}),i.jsx("p",{className:"mb-4 line-clamp-2 text-sm text-muted-foreground",children:e.description}),i.jsxs("div",{className:"mt-auto flex items-center gap-2 border-t border-border pt-4",children:[e.onPreview&&i.jsxs(X,{variant:"ghost",size:"sm",className:"h-9 gap-1.5 rounded-lg px-3 text-xs",onClick:s=>{var r;s.preventDefault(),s.stopPropagation(),(r=e.onPreview)==null||r.call(e)},children:[i.jsx(Li,{className:"h-3.5 w-3.5"}),"Nahled"]}),i.jsx("div",{className:"flex-1"}),i.jsx(dE,{course:e})]})]})]})}function Kbe({course:e}){const[t,n]=v.useState(!1);return i.jsxs(Ue,{to:e.cta.url,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),className:"group relative flex h-full flex-col overflow-hidden rounded-2xl border border-border bg-card transition-all duration-300 hover:border-primary/30 hover:shadow-xl cursor-pointer",children:[i.jsxs("div",{className:"relative aspect-[2/1] shrink-0 overflow-hidden",children:[i.jsx("img",{src:e.image,alt:e.title,className:"h-full w-full object-cover transition-transform duration-700 group-hover:scale-105"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"}),i.jsxs("div",{className:"absolute left-5 top-5 flex items-center gap-2",children:[e.badge&&i.jsx($e,{className:"border-0 bg-white/15 px-3 py-1 text-sm text-white backdrop-blur-md",children:e.badge}),e.isPurchased&&i.jsx($e,{className:"border-0 bg-emerald-500/90 px-3 py-1 text-sm text-white",children:"Zakoupeno"})]}),i.jsx(jn,{children:t&&!e.isPurchased&&e.onPreview&&i.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"absolute inset-0 flex items-center justify-center bg-black/40 backdrop-blur-[2px]",children:i.jsx(ne.div,{initial:{scale:.8},animate:{scale:1},exit:{scale:.8},transition:{duration:.2},children:i.jsxs(X,{variant:"secondary",size:"lg",className:"gap-2 rounded-full bg-white/95 text-black shadow-xl hover:bg-white",onClick:s=>{var r;s.preventDefault(),s.stopPropagation(),(r=e.onPreview)==null||r.call(e)},children:[i.jsx(Li,{className:"h-5 w-5"}),"Nahled obsahu"]})})})}),i.jsxs("div",{className:"absolute bottom-5 left-5 right-5",children:[i.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[[1,2,3,4,5].map(s=>i.jsx(Lr,{className:"h-3.5 w-3.5 fill-amber-400 text-amber-400"},s)),i.jsx("span",{className:"ml-1 text-xs text-white/80",children:"5.0"})]}),i.jsx("h3",{className:"text-2xl font-bold text-white leading-tight mb-2 group-hover:underline",children:e.title}),i.jsx("p",{className:"text-sm text-white/70 line-clamp-2 max-w-2xl",children:e.description})]})]}),i.jsxs("div",{className:"flex flex-col gap-4 p-6 sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-muted px-3 py-1.5 text-xs font-medium",children:[i.jsx(Ou,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.videos," videi"]}),i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-muted px-3 py-1.5 text-xs font-medium",children:[i.jsx(cn,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.duration]}),i.jsxs("div",{className:"flex items-center gap-1.5 rounded-full bg-muted px-3 py-1.5 text-xs font-medium",children:[i.jsx(Gt,{className:"h-3.5 w-3.5 text-muted-foreground"}),e.lessons," lekci"]}),!e.isPurchased&&e.price>0&&i.jsxs("div",{className:"flex items-center gap-2",children:[e.originalPrice&&e.originalPrice>e.price&&i.jsx("span",{className:"text-sm text-muted-foreground line-through",children:Xv(e.originalPrice)}),i.jsx("span",{className:"text-lg font-bold",children:Xv(e.price)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[e.onPreview&&i.jsxs(X,{variant:"outline",size:"sm",className:"h-10 gap-2 rounded-lg px-4",onClick:s=>{var r;s.preventDefault(),s.stopPropagation(),(r=e.onPreview)==null||r.call(e)},children:[i.jsx(Li,{className:"h-4 w-4"}),"Nahled"]}),i.jsx(dE,{course:e})]})]})]})}function Gbe({course:e}){return i.jsxs(Ue,{to:e.cta.url,className:"group flex flex-col overflow-hidden rounded-xl border border-border bg-card transition-all duration-300 hover:border-primary/30 hover:shadow-md sm:flex-row cursor-pointer",children:[i.jsxs("div",{className:"relative w-full shrink-0 overflow-hidden sm:w-56 md:w-64",children:[i.jsx("div",{className:"aspect-[16/10] sm:aspect-auto sm:h-full",children:i.jsx("img",{src:e.image,alt:e.title,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-105"})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-black/10 sm:bg-gradient-to-r"}),i.jsxs("div",{className:"absolute left-3 top-3 flex items-center gap-1.5",children:[e.badge&&i.jsx($e,{className:"border-0 bg-white/15 text-xs text-white backdrop-blur-md",children:e.badge}),e.isPurchased&&i.jsx($e,{className:"border-0 bg-emerald-500/90 text-xs text-white",children:"Zakoupeno"})]})]}),i.jsxs("div",{className:"flex flex-1 flex-col justify-between p-4 sm:p-5",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"mb-1.5 flex items-center gap-1",children:[[1,2,3,4,5].map(t=>i.jsx(Lr,{className:"h-3 w-3 fill-amber-400 text-amber-400"},t)),i.jsx("span",{className:"ml-1 text-xs text-muted-foreground",children:"5.0"})]}),i.jsx("h3",{className:"text-base font-bold leading-snug mb-1 group-hover:underline",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:e.description})]}),i.jsxs("div",{className:"mt-3 flex flex-wrap items-center justify-between gap-3 border-t border-border pt-3",children:[i.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ou,{className:"h-3 w-3"}),e.videos]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(cn,{className:"h-3 w-3"}),e.duration]}),!e.isPurchased&&e.price>0&&i.jsx("span",{className:"text-sm font-bold text-foreground",children:Xv(e.price)})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[e.onPreview&&i.jsxs(X,{variant:"ghost",size:"sm",className:"h-8 gap-1.5 rounded-lg px-2.5 text-xs",onClick:t=>{var n;t.preventDefault(),t.stopPropagation(),(n=e.onPreview)==null||n.call(e)},children:[i.jsx(Li,{className:"h-3 w-3"}),"Nahled"]}),i.jsx(dE,{course:e})]})]})]})]})}function oO({course:e,layout:t}){switch(t){case"large":return i.jsx(Kbe,{course:e});case"list":return i.jsx(Gbe,{course:e});default:return i.jsx(Wbe,{course:e})}}const Ybe=[{value:"large",icon:_ae,label:"Velke karty"},{value:"grid",icon:Eae,label:"Mrizka"},{value:"list",icon:Yae,label:"Seznam"}],b0=3,Jbe=({className:e,courses:t})=>{const[n,s]=v.useState(!1),[r,a]=v.useState("grid"),o=t.length>b0,l={large:"grid-cols-1 md:grid-cols-2",grid:"grid-cols-1 md:grid-cols-2 xl:grid-cols-3",list:"grid-cols-1"}[r],u=r==="list"?"gap-3":"gap-6",d=v.useCallback(()=>{s(f=>!f)},[]);return i.jsxs("section",{className:se("py-4",e),style:{overflowAnchor:"none"},children:[i.jsxs("div",{className:"mb-10 flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[i.jsxs("div",{children:[i.jsxs($e,{variant:"outline",className:"mb-3 gap-1.5 text-xs uppercase",children:[i.jsx(Gt,{className:"h-3 w-3"}),"Katalog balicku"]}),i.jsx("h2",{className:"text-3xl font-bold",children:"Vyberte si balicek"}),i.jsx("p",{className:"mt-2 max-w-lg text-muted-foreground",children:"Kazdy balicek obsahuje sadu videi. Zakupte jednorazove a ziskejte pristup ke vsem videim."})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("span",{className:"hidden items-center gap-1 text-sm text-muted-foreground md:flex",children:[i.jsx(Ou,{className:"h-4 w-4 text-primary"}),t.reduce((f,m)=>f+m.videos,0)," videi"]}),i.jsx("div",{className:"flex items-center rounded-lg border border-border p-0.5",children:Ybe.map(f=>{const m=f.icon;return i.jsx("button",{type:"button",onClick:()=>a(f.value),className:se("rounded-md p-1.5 transition-colors",r===f.value?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground"),title:f.label,children:i.jsx(m,{className:"h-4 w-4"})},f.value)})})]})]}),i.jsx(jn,{mode:"wait",initial:!1,children:i.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeInOut"},children:i.jsxs(ne.div,{className:se("grid",u,l),layout:!0,transition:{layout:{duration:.4,ease:[.25,.1,.25,1]}},children:[t.slice(0,b0).map((f,m)=>i.jsx(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.3,delay:m*.04,ease:"easeOut"},layout:!0,className:"h-full",children:i.jsx(oO,{course:f,layout:r})},f.title)),i.jsx(jn,{initial:!1,children:n&&t.slice(b0).map((f,m)=>i.jsx(ne.div,{initial:{opacity:0,y:32,scale:.97},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-12,scale:.97,transition:{duration:.2}},transition:{duration:.5,delay:m*.14,ease:[.22,1,.36,1]},layout:!0,className:"h-full",children:i.jsx(oO,{course:f,layout:r})},f.title))})]})},r)}),o&&i.jsx("div",{className:"mt-8 flex justify-center",children:i.jsxs(X,{variant:"outline",size:"lg",onClick:d,className:"gap-2",children:[n?"Zobrazit mene":`Zobrazit vse (${t.length-b0} dalsich)`,i.jsx(ne.span,{animate:{rotate:n?180:0},transition:{type:"spring",stiffness:300,damping:20},className:"inline-flex",children:i.jsx(dr,{className:"h-4 w-4"})})]})})]})},Xbe=[{title:"Novy balicek: Pokrocile rehabilitacni techniky",category:"Novinka",avatar:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100",date:"6. unor 2026",link:"#"},{title:"Aktualizace obsahu: Zaklady fyzioterapie",category:"Aktualizace",avatar:"https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100",date:"1. unor 2026",link:"#"},{title:"Spolupraca s odborniky na sportovni medicinu",category:"Partnerstvi",avatar:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100",date:"28. leden 2026",link:"#"},{title:"Nove studijni materialy ke stazeni pro vsechny kurzy",category:"Novinka",avatar:"https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100",date:"20. leden 2026",link:"#"},{title:"Pripravujeme certifikacni program pro absolventy",category:"Oznameni",avatar:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100",date:"15. leden 2026",link:"#"}],Qbe=({className:e})=>i.jsx("section",{className:se("relative py-4",e),children:i.jsxs("div",{className:"relative",children:[i.jsxs("h2",{className:"text-3xl",children:["Zustan v obraze",i.jsx("br",{}),i.jsx("span",{className:"text-primary/50",children:"Posledni aktualizace a novinky."})]}),i.jsxs("div",{className:"mt-14",children:[i.jsx($t,{}),Xbe.map((t,n)=>i.jsxs(v.Fragment,{children:[i.jsxs("a",{href:t.link,className:"group flex flex-col justify-between gap-10 py-6 transition-all duration-400 lg:flex-row lg:items-center lg:hover:bg-muted/50",children:[i.jsx("div",{className:"flex items-center gap-2 text-lg transition-all duration-400 lg:group-hover:translate-x-8",children:i.jsxs("p",{className:"inline text-pretty text-primary",children:[t.title,i.jsx(ur,{className:"ml-2 inline size-4 shrink-0 opacity-0 transition-all duration-400 lg:group-hover:text-primary lg:group-hover:opacity-100"})]})}),i.jsxs("div",{className:"flex w-full items-center justify-between transition-all duration-400 lg:max-w-72 lg:group-hover:-translate-x-4 xl:max-w-80",children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:t.category}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zs,{className:"size-7 rounded-full border border-border",children:i.jsx(lr,{src:t.avatar})}),i.jsx("time",{className:"text-xs text-muted-foreground",children:t.date})]})]})]}),i.jsx($t,{})]},n))]})]})}),X2=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"})),Fb=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"})),_p=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"})),e1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M3.00488 2.99979H21.0049C21.5572 2.99979 22.0049 3.4475 22.0049 3.99979V19.9998C22.0049 20.5521 21.5572 20.9998 21.0049 20.9998H3.00488C2.4526 20.9998 2.00488 20.5521 2.00488 19.9998V3.99979C2.00488 3.4475 2.4526 2.99979 3.00488 2.99979ZM20.0049 10.9998H4.00488V18.9998H20.0049V10.9998ZM20.0049 8.99979V4.99979H4.00488V8.99979H20.0049ZM14.0049 14.9998H18.0049V16.9998H14.0049V14.9998Z"})),Q2=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M20 22H4C3.44772 22 3 21.5523 3 21V3C3 2.44772 3.44772 2 4 2H20C20.5523 2 21 2.44772 21 3V21C21 21.5523 20.5523 22 20 22ZM19 20V4H5V20H19ZM8 9H16V11H8V9ZM8 13H16V15H8V13Z"})),w0=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M13 21V23H11V21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H9C10.1947 3 11.2671 3.52375 12 4.35418C12.7329 3.52375 13.8053 3 15 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H13ZM20 19V5H15C13.8954 5 13 5.89543 13 7V19H20ZM11 19V7C11 5.89543 10.1046 5 9 5H4V19H11Z"})),j0=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M9 1V3H15V1H17V3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H7V1H9ZM20 11H4V19H20V11ZM7 5H4V9H20V5H17V7H15V5H9V7H7V5Z"})),Va=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M9.9997 15.1709L19.1921 5.97852L20.6063 7.39273L9.9997 17.9993L3.63574 11.6354L5.04996 10.2212L9.9997 15.1709Z"})),hE=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M11.9997 10.5865L16.9495 5.63672L18.3637 7.05093L13.4139 12.0007L18.3637 16.9504L16.9495 18.3646L11.9997 13.4149L7.04996 18.3646L5.63574 16.9504L10.5855 12.0007L5.63574 7.05093L7.04996 5.63672L11.9997 10.5865Z"})),t1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M12.0003 3C17.3924 3 21.8784 6.87976 22.8189 12C21.8784 17.1202 17.3924 21 12.0003 21C6.60812 21 2.12215 17.1202 1.18164 12C2.12215 6.87976 6.60812 3 12.0003 3ZM12.0003 19C16.2359 19 19.8603 16.052 20.7777 12C19.8603 7.94803 16.2359 5 12.0003 5C7.7646 5 4.14022 7.94803 3.22278 12C4.14022 16.052 7.7646 19 12.0003 19ZM12.0003 16.5C9.51498 16.5 7.50026 14.4853 7.50026 12C7.50026 9.51472 9.51498 7.5 12.0003 7.5C14.4855 7.5 16.5003 9.51472 16.5003 12C16.5003 14.4853 14.4855 16.5 12.0003 16.5ZM12.0003 14.5C13.381 14.5 14.5003 13.3807 14.5003 12C14.5003 10.6193 13.381 9.5 12.0003 9.5C10.6196 9.5 9.50026 10.6193 9.50026 12C9.50026 13.3807 10.6196 14.5 12.0003 14.5Z"})),n1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M17.8827 19.2968C16.1814 20.3755 14.1638 21.0002 12.0003 21.0002C6.60812 21.0002 2.12215 17.1204 1.18164 12.0002C1.61832 9.62282 2.81932 7.5129 4.52047 5.93457L1.39366 2.80777L2.80788 1.39355L22.6069 21.1925L21.1927 22.6068L17.8827 19.2968ZM5.9356 7.3497C4.60673 8.56015 3.6378 10.1672 3.22278 12.0002C4.14022 16.0521 7.7646 19.0002 12.0003 19.0002C13.5997 19.0002 15.112 18.5798 16.4243 17.8384L14.396 15.8101C13.7023 16.2472 12.8808 16.5002 12.0003 16.5002C9.51498 16.5002 7.50026 14.4854 7.50026 12.0002C7.50026 11.1196 7.75317 10.2981 8.19031 9.60442L5.9356 7.3497ZM12.9139 14.328L9.67246 11.0866C9.5613 11.3696 9.50026 11.6777 9.50026 12.0002C9.50026 13.3809 10.6196 14.5002 12.0003 14.5002C12.3227 14.5002 12.6309 14.4391 12.9139 14.328ZM20.8068 16.5925L19.376 15.1617C20.0319 14.2268 20.5154 13.1586 20.7777 12.0002C19.8603 7.94818 16.2359 5.00016 12.0003 5.00016C11.1544 5.00016 10.3329 5.11773 9.55249 5.33818L7.97446 3.76015C9.22127 3.26959 10.5793 3.00016 12.0003 3.00016C17.3924 3.00016 21.8784 6.87992 22.8189 12.0002C22.5067 13.6998 21.8038 15.2628 20.8068 16.5925ZM11.7229 7.50857C11.8146 7.50299 11.9071 7.50016 12.0003 7.50016C14.4855 7.50016 16.5003 9.51488 16.5003 12.0002C16.5003 12.0933 16.4974 12.1858 16.4919 12.2775L11.7229 7.50857Z"})),s1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M16.5 3C19.5376 3 22 5.5 22 9C22 16 14.5 20 12 21.5C10.0226 20.3135 4.91699 17.563 2.86894 13.001L1 13V11L2.21045 11.0009C2.07425 10.3633 2 9.69651 2 9C2 5.5 4.5 3 7.5 3C9.35997 3 11 4 12 5C13 4 14.64 3 16.5 3ZM16.5 5C15.4241 5 14.2593 5.56911 13.4142 6.41421L12 7.82843L10.5858 6.41421C9.74068 5.56911 8.5759 5 7.5 5C5.55906 5 4 6.6565 4 9C4 9.68542 4.09035 10.3516 4.26658 11.0004L6.43381 11L8.5 7.55635L11.5 12.5563L12.4338 11H17V13H13.5662L11.5 16.4437L8.5 11.4437L7.56619 13L5.10789 13.0006C5.89727 14.3737 7.09304 15.6681 8.64514 16.9029C9.39001 17.4955 10.1845 18.0485 11.0661 18.6038C11.3646 18.7919 11.6611 18.9729 12 19.1752C12.3389 18.9729 12.6354 18.7919 12.9339 18.6038C13.8155 18.0485 14.61 17.4955 15.3549 16.9029C18.3337 14.533 20 11.9435 20 9C20 6.64076 18.463 5 16.5 5Z"})),mB=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M19 10H20C20.5523 10 21 10.4477 21 11V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V11C3 10.4477 3.44772 10 4 10H5V9C5 5.13401 8.13401 2 12 2C15.866 2 19 5.13401 19 9V10ZM5 12V20H19V12H5ZM11 14H13V18H11V14ZM17 10V9C17 6.23858 14.7614 4 12 4C9.23858 4 7 6.23858 7 9V10H17Z"})),r1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M4 18H6V20H18V4H6V6H4V3C4 2.44772 4.44772 2 5 2H19C19.5523 2 20 2.44772 20 3V21C20 21.5523 19.5523 22 19 22H5C4.44772 22 4 21.5523 4 21V18ZM6 11H13V13H6V16L1 12L6 8V11Z"})),i1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM20 7.23792L12.0718 14.338L4 7.21594V19H20V7.23792ZM4.51146 5L12.0619 11.662L19.501 5H4.51146Z"})),a1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M4.5 10.5C3.675 10.5 3 11.175 3 12C3 12.825 3.675 13.5 4.5 13.5C5.325 13.5 6 12.825 6 12C6 11.175 5.325 10.5 4.5 10.5ZM19.5 10.5C18.675 10.5 18 11.175 18 12C18 12.825 18.675 13.5 19.5 13.5C20.325 13.5 21 12.825 21 12C21 11.175 20.325 10.5 19.5 10.5ZM12 10.5C11.175 10.5 10.5 11.175 10.5 12C10.5 12.825 11.175 13.5 12 13.5C12.825 13.5 13.5 12.825 13.5 12C13.5 11.175 12.825 10.5 12 10.5Z"})),o1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM13 13.3551V14H11V12.5C11 11.9477 11.4477 11.5 12 11.5C12.8284 11.5 13.5 10.8284 13.5 10C13.5 9.17157 12.8284 8.5 12 8.5C11.2723 8.5 10.6656 9.01823 10.5288 9.70577L8.56731 9.31346C8.88637 7.70919 10.302 6.5 12 6.5C13.933 6.5 15.5 8.067 15.5 10C15.5 11.5855 14.4457 12.9248 13 13.3551Z"})),lO=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M13 4.05493C17.5 4.55237 21 8.36745 21 13V22H3V13C3 8.36745 6.50005 4.55237 11 4.05493V1H13V4.05493ZM19 20V13C19 9.13401 15.866 6 12 6C8.13401 6 5 9.13401 5 13V20H19ZM12 18C9.23858 18 7 15.7614 7 13C7 10.2386 9.23858 8 12 8C14.7614 8 17 10.2386 17 13C17 15.7614 14.7614 18 12 18ZM12 16C13.6569 16 15 14.6569 15 13C15 11.3431 13.6569 10 12 10C10.3431 10 9 11.3431 9 13C9 14.6569 10.3431 16 12 16ZM12 14C11.4477 14 11 13.5523 11 13C11 12.4477 11.4477 12 12 12C12.5523 12 13 12.4477 13 13C13 13.5523 12.5523 14 12 14Z"})),l1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M3.5 1.34558C3.58425 1.34558 3.66714 1.36687 3.74096 1.40747L22.2034 11.5618C22.4454 11.6949 22.5337 11.9989 22.4006 12.2409C22.3549 12.324 22.2865 12.3924 22.2034 12.4381L3.74096 22.5924C3.499 22.7255 3.19497 22.6372 3.06189 22.3953C3.02129 22.3214 3 22.2386 3 22.1543V1.84558C3 1.56944 3.22386 1.34558 3.5 1.34558ZM5 4.38249V10.9999H10V12.9999H5V19.6174L18.8499 11.9999L5 4.38249Z"})),c1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M5 11V13H19V11H5Z"})),fu=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM13 12H17V14H11V7H13V12Z"})),u1e=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M13.0049 16.9409V19.0027H18.0049V21.0027H6.00488V19.0027H11.0049V16.9409C7.05857 16.4488 4.00488 13.0824 4.00488 9.00275V3.00275H20.0049V9.00275C20.0049 13.0824 16.9512 16.4488 13.0049 16.9409ZM6.00488 5.00275V9.00275C6.00488 12.3165 8.69117 15.0027 12.0049 15.0027C15.3186 15.0027 18.0049 12.3165 18.0049 9.00275V5.00275H6.00488ZM1.00488 5.00275H3.00488V9.00275H1.00488V5.00275ZM21.0049 5.00275H23.0049V9.00275H21.0049V5.00275Z"})),Ub=({color:e="currentColor",size:t=24,className:n,...s})=>Z.createElement("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",width:t,height:t,fill:e,...s,className:"remixicon "+(n||"")},Z.createElement("path",{d:"M4 22C4 17.5817 7.58172 14 12 14C16.4183 14 20 17.5817 20 22H18C18 18.6863 15.3137 16 12 16C8.68629 16 6 18.6863 6 22H4ZM12 13C8.685 13 6 10.315 6 7C6 3.685 8.685 1 12 1C15.315 1 18 3.685 18 7C18 10.315 15.315 13 12 13ZM12 11C14.21 11 16 9.21 16 7C16 4.79 14.21 3 12 3C9.79 3 8 4.79 8 7C8 9.21 9.79 11 12 11Z"})),Za=eC,d1e=tC,pB=v.forwardRef(({className:e,...t},n)=>i.jsx(dg,{ref:n,className:se("fixed inset-0 z-[1000] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));pB.displayName=dg.displayName;const ha=v.forwardRef(({className:e,children:t,...n},s)=>i.jsxs(d1e,{children:[i.jsx(pB,{}),i.jsxs(hg,{ref:s,className:se("fixed left-[50%] top-[50%] z-[1001] grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,i.jsxs(nC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(hE,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ha.displayName=hg.displayName;const fa=({className:e,...t})=>i.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});fa.displayName="DialogHeader";const Qv=({className:e,...t})=>i.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Qv.displayName="DialogFooter";const ma=v.forwardRef(({className:e,...t},n)=>i.jsx(fg,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",e),...t}));ma.displayName=fg.displayName;const Cp=v.forwardRef(({className:e,...t},n)=>i.jsx(mg,{ref:n,className:se("text-sm text-muted-foreground",e),...t}));Cp.displayName=mg.displayName;function Wt({className:e,...t}){return i.jsx("div",{"data-slot":"skeleton",className:se("animate-pulse rounded-md bg-primary/10",e),...t})}function h1e({open:e,onOpenChange:t,courseTitle:n,courseDescription:s,coursePrice:r,isPurchased:a,lessons:o,loading:l,onBuy:u}){const d=o.reduce((m,g)=>m+g.duration,0),f=r?new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(r):null;return i.jsx(Za,{open:e,onOpenChange:t,children:i.jsxs(ha,{className:"max-w-2xl max-h-[85vh] overflow-hidden",children:[i.jsx(fa,{className:"border-b pb-4",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-primary/10",children:i.jsx(Fl,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx(ma,{className:"text-xl",children:n}),i.jsx(Cp,{className:"mt-1",children:s}),i.jsxs("div",{className:"mt-3 flex items-center gap-3 flex-wrap",children:[!l&&i.jsxs(i.Fragment,{children:[i.jsxs($e,{variant:"outline",className:"gap-1 text-xs",children:[i.jsx(Ou,{className:"h-3 w-3"}),o.length," videi v balicku"]}),i.jsxs($e,{variant:"outline",className:"gap-1 text-xs",children:[i.jsx(cn,{className:"h-3 w-3"}),d," min celkem"]})]}),f&&!a&&i.jsx($e,{className:"gap-1 text-xs bg-primary",children:f}),a&&i.jsx($e,{className:"gap-1 text-xs bg-emerald-500",children:"Zakoupeno"})]})]})]})}),i.jsx("div",{className:"mt-2 mb-1",children:i.jsx("h4",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide",children:"Videa obsazena v balicku"})}),i.jsx("div",{className:"overflow-y-auto max-h-[calc(85vh-240px)] pr-1 space-y-2",children:l?Array.from({length:4}).map((m,g)=>i.jsxs("div",{className:"flex items-center gap-3 rounded-xl border p-3",children:[i.jsx(Wt,{className:"h-9 w-9 shrink-0 rounded-lg"}),i.jsxs("div",{className:"flex-1 space-y-1.5",children:[i.jsx(Wt,{className:"h-4 w-3/4"}),i.jsx(Wt,{className:"h-3 w-1/2"})]}),i.jsx(Wt,{className:"h-5 w-14 rounded-full"})]},g)):o.sort((m,g)=>m.order_index-g.order_index).map((m,g)=>i.jsxs(ne.div,{initial:{opacity:0,x:-12},animate:{opacity:1,x:0},transition:{duration:.3,delay:g*.06},className:"flex items-center gap-3 rounded-xl border p-3 transition-colors hover:bg-muted/50",children:[i.jsx("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-primary/10",children:i.jsx(La,{className:"h-3.5 w-3.5 text-primary",fill:"currentColor"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium leading-tight",children:m.title}),m.description&&i.jsx("p",{className:"mt-0.5 text-xs text-muted-foreground line-clamp-1",children:m.description})]}),i.jsxs($e,{variant:"outline",className:"shrink-0 text-[10px] gap-1 px-2 py-0.5",children:[i.jsx(cn,{className:"h-2.5 w-2.5"}),m.duration," min"]})]},m.id))}),u&&!a&&i.jsx("div",{className:"border-t pt-4 mt-2",children:i.jsxs(X,{onClick:u,className:"w-full gap-2",size:"lg",children:[i.jsx(og,{className:"h-4 w-4"}),"Koupit balicek ",f&&`za ${f}`]})})]})})}const cO=[{id:"qa_1",question:"Jak jsou nejastj piny bolesti doln sti zad?",answer:"Nejastj piny bolesti doln sti zad zahrnuj: 1) Svalov peten a napt, 2) Degenerativn zmny meziobratlovch disk, 3) patn dren tla a ergonomie, 4) Nedostatek pohybu a oslaben hlubokho stabilizanho systmu, 5) Stres a psychosomatick faktory. Dleit je komplexn diagnostika a individuln pstup k terapii.",category:"pte"},{id:"qa_2",question:"Jak asto by ml pacient cviit doma mezi terapiemi?",answer:"Optimln frekvence domcho cvien je 3-5x tdn, ideln denn po 15-20 minut. Dleitj ne dlka je pravidelnost a kvalita proveden cvik. Zante s jednoduchmi cviky a postupn zvyujte obtnost. Pacient by ml mt jasn psemn nebo video instrukce pro domc cvien.",category:"obecn"},{id:"qa_3",question:"Kdy je vhodn pout led a kdy teplo pi zrann?",answer:"Led (kryoterapie) pouvejte v akutn fzi (0-72 hodin) po zrann - sniuje otok, znt a bolest. Aplikujte na 15-20 minut s pestvkami. Teplo je vhodn pro chronick obte, svalov napt a ztuhlost - zvyuje prokrven a uvoluje svaly. Nikdy neaplikujte teplo na akutn zrann nebo aktivn znt!",category:"terapie"},{id:"qa_4",question:"Co je to hlubok stabilizan systm ptee?",answer:"Hlubok stabilizan systm (HSS) je soubor sval, kter stabilizuj pte a pnev: brnice, pn bin sval, pnevn dno a hlubok zdov svaly. Tyto svaly se aktivuj PED pohybem a chrn pte. Jejich oslaben vede k bolestem zad. Trnink HSS je zklad kad terapie ptee.",category:"pte"},{id:"qa_5",question:"Jak se li sportovn fyzioterapie od bn?",answer:"Sportovn fyzioterapie se zamuje na: 1) Prevenci zrann u sportovc, 2) Akutn pi na mst (prvn pomoc), 3) Rychlou a bezpenou nvratnost do sportu, 4) Specifick poadavky danho sportu, 5) Vy intenzitu rehabilitace, 6) Funkn testovn a screening. Vyaduje znalost biomechaniky sportu a specifickch pohybovch vzorc.",category:"sport"},{id:"qa_6",question:"Co dlat pi akutnm svalovm kei?",answer:"Pi akutnm kei: 1) Okamit zastavte aktivitu, 2) Jemn prothnte staen sval, 3) Masrujte oblast kee, 4) Aplikujte teplo nebo tepl obklad, 5) Hydratujte se (voda s minerly), 6) Odpovejte. Prevence: pravideln protahovn, dostaten hydratace, vyven strava s dostatkem hoku a draslku.",category:"akutn pe"},{id:"qa_7",question:"Jak jsou kontraindikace manuln terapie?",answer:"Absolutn kontraindikace: ndorov onemocnn ptee, infekce, akutn zlomeniny, tk osteoporza, neurologick deficity, vaskulrn komplikace. Relativn: akutn znt, gravidita, antikoagulan terapie. Vdy dkladn vyetete pacienta a v ppad pochybnost konzultujte s lkaem. Bezpenost pacienta je priorita!",category:"terapie"},{id:"qa_8",question:"Jak hodnotit pokrok pacienta v rehabilitaci?",answer:"Hodnocen pokroku: 1) Subjektivn (bolest - VAS kla, funkn omezen), 2) Objektivn (rozsah pohybu, svalov sla, funkn testy), 3) Standardizovan dotaznky (ODI, DASH), 4) Funkn testy specifick pro aktivitu, 5) Clov kritria stanoven na zatku. Pravideln revidujte terapeutick pln podle pokroku.",category:"obecn"},{id:"qa_9",question:"Jak je postup pi syndromu karplnho tunelu?",answer:"Konzervativn lba zahrnuje: 1) Non dlahy v neutrln pozici zpst, 2) Modifikace ergonomie pracovit, 3) Neuromobilizace n. medianus, 4) Protaen a poslen sval pedlokt, 5) Fyzikln terapie (ultrazvuk, laser), 6) Edukace pacienta. Pi nespchu konzervativn lby zvate chirurgick een.",category:"terapie"},{id:"qa_10",question:"Co je dleit pi rehabilitaci po cvn mozkov phod?",answer:"Klov principy: 1) Vasn zatek - co nejdve po stabilizaci, 2) Intenzivn a opakovan trnink, 3) Funkn orientovan cvien (ADL aktivity), 4) Prevence komplikac (kontraktury, proleeniny), 5) Facilitace pohybu postienou stranou, 6) Ncvik rovnovhy a chze, 7) Multidisciplinrn pstup, 8) Psychologick podpora pacienta a rodiny.",category:"neurologie"}];function gB(){const{session:e}=Qt(),[t,n]=v.useState(!1),[s,r]=v.useState(!0),[a,o]=v.useState([{id:"0",type:"bot",content:"Ahoj! Jsem v AI asistent pro fyzioterapii. Mete se m zeptat na cokoliv ohledn fyzioterapie, rehabilitace a pe o pacienty."}]),[l,u]=v.useState(""),[d,f]=v.useState(!1),m=v.useRef(null),g=v.useRef(null),x=cO;v.useEffect(()=>{var k;(k=m.current)==null||k.scrollIntoView({behavior:"smooth"})},[a,d]),v.useEffect(()=>{const k=S=>{g.current&&!g.current.contains(S.target)&&n(!1)};return t&&document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},[t]);const b=(k,S)=>{f(!0),setTimeout(()=>{f(!1);const C={id:Date.now().toString(),type:"bot",content:k,category:S};o(E=>[...E,C])},1e3+Math.random()*1e3)},w=k=>{const S={id:Date.now().toString(),type:"user",content:k.question};o(C=>[...C,S]),b(k.answer,k.category),r(!1)},j=async()=>{if(!l.trim())return;const k={id:Date.now().toString(),type:"user",content:l};o(C=>[...C,k]);const S=l;u(""),f(!0);try{const C=(e==null?void 0:e.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE",E=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/ai-chat",{method:"POST",headers:{Authorization:`Bearer ${C}`,"Content-Type":"application/json"},body:JSON.stringify({question:S})});if(!E.ok)throw new Error("Failed to get AI response");const z=await E.json();f(!1);const R={id:Date.now().toString(),type:"bot",content:z.answer};o(T=>[...T,R])}catch(C){console.error("AI Error:",C),f(!1);const E=cO.find(T=>T.question.toLowerCase().includes(S.toLowerCase())||S.toLowerCase().includes(T.question.toLowerCase().split(" ").slice(0,3).join(" "))),z=E?E.answer:"Omlouvm se, na tuto otzku momentln nemm odpov. Zkuste prosm peformulovat dotaz nebo vyberte nkterou z pipravench otzek ne.",R={id:Date.now().toString(),type:"bot",content:z,category:E==null?void 0:E.category};o(T=>[...T,R])}};return i.jsxs(i.Fragment,{children:[i.jsx(jn,{children:!t&&i.jsx(ne.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>n(!0),className:"fixed bottom-6 right-6 z-50 w-14 h-14 rounded-full bg-gradient-to-br from-primary to-primary/80 shadow-2xl flex items-center justify-center hover:shadow-primary/50 transition-shadow",children:i.jsx(lO,{className:"h-7 w-7 text-white"})})}),i.jsx(jn,{children:t&&i.jsx(ne.div,{ref:g,initial:{scale:0,opacity:0,originX:1,originY:1},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",duration:.5,bounce:.3},className:"fixed bottom-6 right-6 z-50 w-[350px] max-w-[calc(100vw-3rem)]",children:i.jsxs(Re,{className:"border-2 border-primary/20 bg-background shadow-2xl",children:[i.jsx(Je,{className:"pb-3 bg-gradient-to-br from-primary/10 to-transparent",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"p-2 rounded-full bg-gradient-to-br from-primary to-primary/80",children:i.jsx(lO,{className:"h-5 w-5 text-white"})}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-base",children:"AI Asistent"}),i.jsx(Xt,{className:"text-xs",children:"Fyzioterapie pomoc"})]})]}),i.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive",onClick:()=>n(!1),children:i.jsx(hE,{className:"h-5 w-5"})})]})}),i.jsxs(Oe,{className:"p-3 space-y-2",children:[i.jsx("div",{className:"relative",onWheel:k=>k.stopPropagation(),children:i.jsx(GC,{className:"h-[250px] pr-2",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs(jn,{children:[a.map((k,S)=>i.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3},className:`flex ${k.type==="user"?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[85%] rounded-2xl px-3.5 py-2.5 relative overflow-hidden ${k.type==="user"?"bg-primary text-primary-foreground rounded-br-sm":S===0?"bg-gradient-to-br from-primary/10 via-primary/5 to-background/50 border border-primary/20 rounded-bl-sm shadow-sm":"bg-muted rounded-bl-sm"}`,children:[k.type==="bot"&&S===0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"absolute inset-0 opacity-30",style:{backgroundImage:`repeating-linear-gradient(
                                        45deg,
                                        transparent,
                                        transparent 10px,
                                        hsl(var(--primary) / 0.08) 10px,
                                        hsl(var(--primary) / 0.08) 20px
                                      )`}}),i.jsx("div",{className:"absolute -top-6 -right-6 w-32 h-32 bg-gradient-to-br from-primary/15 via-primary/5 to-transparent rounded-full blur-3xl"}),i.jsx("div",{className:"absolute -bottom-4 -left-4 w-20 h-20 bg-gradient-to-tr from-primary/10 to-transparent rounded-full blur-2xl"})]}),i.jsx("p",{className:"text-xs leading-relaxed relative z-10",children:k.content}),k.category&&i.jsx($e,{variant:"outline",className:"mt-1.5 text-xs relative z-10",children:k.category})]})},k.id)),d&&i.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0},className:"flex justify-start",children:i.jsx("div",{className:"max-w-[85%] rounded-2xl rounded-bl-sm px-3 py-2 bg-muted",children:i.jsxs("div",{className:"flex gap-1",children:[i.jsx(ne.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:0}}),i.jsx(ne.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.2}}),i.jsx(ne.div,{className:"w-2 h-2 rounded-full bg-primary",animate:{scale:[1,1.2,1]},transition:{duration:.6,repeat:1/0,delay:.4}})]})})})]}),i.jsx("div",{ref:m})]})})}),i.jsx(jn,{children:s&&x.length>0&&i.jsxs(ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"space-y-2 overflow-hidden border-t pt-3",children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground",children:"asto kladen:"}),i.jsx("div",{className:"space-y-1.5",children:x.slice(0,3).map(k=>i.jsx("button",{onClick:()=>w(k),className:"w-full text-left px-3 py-2 rounded-lg border border-primary/10 hover:border-primary/30 hover:bg-primary/5 transition-all text-xs group",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(o1e,{className:"h-3 w-3 text-primary flex-shrink-0 mt-0.5"}),i.jsx("span",{className:"line-clamp-2",children:k.question})]})},k.id))})]})}),i.jsxs("div",{className:"flex gap-2 border-t pt-3",children:[i.jsx(Pe,{value:l,onChange:k=>u(k.target.value),onKeyPress:k=>k.key==="Enter"&&j(),placeholder:"Napite dotaz...",className:"flex-1 text-sm"}),i.jsx(X,{onClick:j,size:"icon",disabled:!l.trim(),className:"flex-shrink-0",children:i.jsx(l1e,{className:"h-4 w-4"})})]})]})]})})})]})}const uO=["https://images.pexels.com/photos/4506109/pexels-photo-4506109.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/5473182/pexels-photo-5473182.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/4050315/pexels-photo-4050315.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/4498606/pexels-photo-4498606.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/7298867/pexels-photo-7298867.jpeg?auto=compress&cs=tinysrgb&w=800","https://images.pexels.com/photos/3985163/pexels-photo-3985163.jpeg?auto=compress&cs=tinysrgb&w=800"],dO=["https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=100","https://images.pexels.com/photos/5452201/pexels-photo-5452201.jpeg?auto=compress&cs=tinysrgb&w=100"],hO=["from-blue-100 to-cyan-100","from-green-100 to-emerald-100","from-amber-100 to-orange-100","from-rose-100 to-pink-100","from-teal-100 to-green-100","from-sky-100 to-blue-100"];function f1e(){const{user:e,session:t}=Qt(),n=Yt(),[s,r]=wI(),[a,o]=v.useState([]),[l,u]=v.useState([]),[d,f]=v.useState([]),[m,g]=v.useState([]),[x,b]=v.useState(!0),[,w]=v.useState(null),j=!!e,[k,S]=v.useState(!1),[C,E]=v.useState(null),[z,R]=v.useState([]),[T,A]=v.useState(!1),D=v.useCallback(async()=>{try{const{data:ee}=await de.from("course_packages").select("*").order("order_index"),{data:L}=await de.from("courses").select("id, title, description, duration, lessons_count, price, package_id, order_index").eq("published",!0).not("package_id","is",null).order("order_index");if(ee&&o(ee),L&&u(L),e){const{data:P,error:I}=await de.from("course_enrollments").select("course_id, completed, completion_date").eq("user_id",e.id),{data:G,error:U}=await de.from("course_purchases").select("course_id").eq("user_id",e.id);I&&console.error("Error loading enrollments:",I),U&&console.error("Error loading purchases:",U),f(P||[]),g(G||[])}}catch(ee){console.error("Error loading courses:",ee)}finally{b(!1)}},[e]);v.useEffect(()=>{D()},[D]),v.useEffect(()=>{const ee=s.get("purchased"),L=s.get("session_id");if(ee&&e){r({},{replace:!0});const P=Te.loading("Overujeme platbu...");(async()=>{if(L)try{const{data:{session:W}}=await de.auth.getSession();if(W&&(await(await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/verify-course-purchase",{method:"POST",headers:{Authorization:`Bearer ${W.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({sessionId:L})})).json()).verified){await D(),Te.dismiss(P),Te.success("Kurz je nyni odemceny!",{description:"Muzete zacit studovat ihned",duration:5e3});return}}catch(W){console.error("Verify course purchase error:",W)}let G=0;const U=30,M=async()=>{G++;const{data:W}=await de.from("course_purchases").select("course_id").eq("user_id",e.id).eq("course_id",ee).maybeSingle();W?(await D(),Te.dismiss(P),Te.success("Kurz je nyni odemceny!",{description:"Muzete zacit studovat ihned",duration:5e3}),clearInterval(H)):G>=U&&(clearInterval(H),Te.dismiss(P),Te.warning("Zpracovani platby trva dele nez obvykle",{description:"Zkuste obnovit stranku nebo kontaktujte podporu"}))},H=setInterval(M,2e3);M()})()}},[s,e,r,D]);const F=ee=>m.some(L=>L.course_id===ee)||d.some(L=>L.course_id===ee),V=async ee=>{if(!e||!t){n("/registrace");return}const{data:{session:L},error:P}=await de.auth.getSession();if(P||!L){Te.error("Prosim prihlaste se znovu"),n("/prihlaseni");return}w(ee);try{const G=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/course-checkout",{method:"POST",headers:{Authorization:`Bearer ${L.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({courseId:ee})}),U=await G.json();if(!G.ok)throw console.error("Checkout failed:",{status:G.status,error:U.error}),new Error(U.error||"Chyba pri vytvareni platby");U.url&&(window.location.href=U.url)}catch(I){console.error("Checkout error:",I),Te.error(I instanceof Error?I.message:"Chyba pri vytvareni platby")}finally{w(null)}},$=async ee=>{const L=a.find(G=>G.id===ee),P=l.filter(G=>G.package_id===ee);if(!L)return;const I=P.reduce((G,U)=>G+U.price,0);E({title:L.title,description:L.description,price:I}),A(!0),S(!0);try{const G=P.map(M=>M.id),{data:U}=await de.from("course_lessons").select("id, course_id, title, description, duration, order_index").in("course_id",G).order("order_index");R(U||[])}catch{R([])}finally{A(!1)}},q=()=>a.map((ee,L)=>{const P=l.filter(Y=>Y.package_id===ee.id),I=P.reduce((Y,oe)=>Y+oe.lessons_count,0),G=P.reduce((Y,oe)=>Y+oe.duration,0),U=P.reduce((Y,oe)=>Y+oe.price,0),M=P.filter(Y=>F(Y.id)),H=P.length>0&&P.every(Y=>F(Y.id)),W=M.length>0&&!H,te=P.find(Y=>{const oe=F(Y.id),he=d.find(be=>be.course_id===Y.id);return oe||!!he}),le=P.length>0?P[0].id:"",ce=P.filter(Y=>!F(Y.id)).reduce((Y,oe)=>Y+oe.price,0);return{badge:H?"Zakoupeno":W?`${M.length}/${P.length} odemceno`:"Balicek",title:ee.title,description:ee.description,author:{name:"Fyzioterapie tym",title:W?`${M.length}/${P.length} kurzu odemceno`:`${P.length} kurzu v balicku`,avatar:dO[L%dO.length]},image:uO[L%uO.length],lessons:P.length,videos:I,duration:`${G} min`,audience:["Fyzioterapeuti","Studenti"],gradient:hO[L%hO.length],price:W?ce:U,coursesInPackage:P.map(Y=>({id:Y.id,title:Y.title,duration:Y.duration})),isPurchased:H||W,cta:{text:H||W?"Pokracovat":"Zobrazit",url:te?`/kurz/${te.id}`:le?`/kurz/${le}`:"#courses"},onPreview:()=>$(ee.id),onBuy:!H&&!W&&j?()=>{const Y=P.find(oe=>!F(oe.id));Y&&V(Y.id)}:!H&&!W&&!j?()=>n("/registrace"):void 0}});if(x)return i.jsx("div",{className:"flex min-h-[600px] items-center justify-center",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})});const K=q();return i.jsxs("div",{className:"py-20",children:[i.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-muted/40 px-6 py-16 sm:px-10 lg:px-16",children:[i.jsx("div",{className:"pointer-events-none absolute -right-24 -top-24 h-80 w-80 rounded-full bg-primary/10 blur-[90px]"}),i.jsx("div",{className:"pointer-events-none absolute -bottom-24 -left-20 h-72 w-72 rounded-full bg-primary/8 blur-[80px]"}),i.jsx("div",{className:"pointer-events-none absolute left-1/2 top-1/3 h-56 w-96 -translate-x-1/2 rounded-full bg-primary/5 blur-[100px]"}),i.jsx(Zbe,{})]}),i.jsxs("div",{id:"courses",className:"relative mt-16 overflow-hidden rounded-3xl bg-muted/40 px-6 py-12 sm:px-10 lg:px-16",children:[i.jsx("div",{className:"pointer-events-none absolute -bottom-24 -left-24 h-64 w-64 rounded-full bg-primary/8 blur-[80px]"}),i.jsx("div",{className:"pointer-events-none absolute -top-16 right-1/3 h-48 w-72 rounded-full bg-primary/6 blur-[70px]"}),i.jsx(Jbe,{courses:K})]}),i.jsxs("div",{className:"relative mt-16 overflow-hidden rounded-3xl bg-muted/40 px-6 py-12 sm:px-10 lg:px-16",children:[i.jsx("div",{className:"pointer-events-none absolute -left-20 -top-20 h-64 w-64 rounded-full bg-primary/8 blur-[80px]"}),i.jsx("div",{className:"pointer-events-none absolute -bottom-16 -right-16 h-56 w-56 rounded-full bg-primary/6 blur-[70px]"}),i.jsx("div",{className:"pointer-events-none absolute right-1/4 top-0 h-40 w-80 rounded-full bg-primary/4 blur-[90px]"}),i.jsx(Qbe,{})]}),i.jsx(h1e,{open:k,onOpenChange:S,courseTitle:(C==null?void 0:C.title)||"",courseDescription:(C==null?void 0:C.description)||"",coursePrice:C==null?void 0:C.price,isPurchased:!1,lessons:z,loading:T,onBuy:void 0})]}),i.jsx(gB,{})]})}const fE=[{slug:"lineseat",name:"Lineseat",subtitle:"Ergonomicky sedak",description:"Nase pomucka pro stabilni a funkcni sed v aute nebo v kancelari.",image:"/lefttop1.png",images:[{src:"/lefttop1.png",thumbnail:"/lefttop1.png",alt:"Lineseat ergonomicky sedak",width:1280,height:853},{src:"/IMG_9113_lineseat.png.webp",thumbnail:"/IMG_9113_lineseat.png.webp",alt:"Lineseat pohled shora",width:1280,height:853},{src:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp",thumbnail:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp",alt:"Lineseat detail materialu",width:1280,height:853},{src:"/MG_0170-1024x683-1.jpg.webp",thumbnail:"/MG_0170-1024x683-1.jpg.webp",alt:"Lineseat v aute",width:1024,height:683}],price:{regular:3900,sale:2900,currency:"CZK"},badge:"Akce",note:"Akce je platna do vyprodani zasob!",rate:4.5,ctaPrimaryLabel:"Koupit",ctaSecondaryLabel:"O produktu",services:[{icon:Hm,text:"Doprava zdarma po cele CR"},{icon:L3,text:"Vraceni do 30 dnu zdarma"},{icon:V3,text:"Moznost vyzvednuti v nasem showroomu"}],accordion:[{value:"popis",title:"Popis produktu",content:{text:"Lineseat je inovativni ergonomicky sedak, ktery vam pomuze udrzet spravne drzeni tela pri sezeni. At uz travite hodiny v kancelari nebo za volantem, Lineseat podporuje vasi pater a pomaha predchazet bolestem zad. Navrzeno fyzioterapeuty s 20letou zkusenosti."}},{value:"materialy",title:"Materialy a rozmery",content:{list:["Vysokokvalitni pena s tvarovou pameti","Protiskluzova spodni strana","Pratelny potah na zip","Rozmery: 45 x 40 x 8 cm"]}},{value:"doprava",title:"Doprava a vraceni",content:{text:"Doprava po cele CR zdarma. Zbozi lze vratit do 30 dnu od zakoupeni v originalnim obalu. Doruceni obvykle do 3-5 pracovnich dnu."}}]},{slug:"correctfoot",name:"Correctfoot",subtitle:"Balancni desticka",description:"Balancni desticka pro trenink koncetin.",image:"/correctfoot-carbon-2048x1245.jpg",images:[{src:"/correctfoot-carbon-2048x1245.jpg",thumbnail:"/correctfoot-carbon-2048x1245.jpg",alt:"Correctfoot Carbon varianta",width:2048,height:1245},{src:"/correctfoot-wood-2048x1545.jpg",thumbnail:"/correctfoot-wood-2048x1545.jpg",alt:"Correctfoot Wood varianta",width:2048,height:1545}],price:{regular:2900,currency:"CZK"},pricePrefix:"od",note:"Vyber ze dvou variant.",rate:4,ctaPrimaryLabel:"Koupit",ctaSecondaryLabel:"O produktu",services:[{icon:Hm,text:"Doprava zdarma po cele CR"},{icon:L3,text:"Vraceni do 30 dnu zdarma"},{icon:Fl,text:"Vyber ze dvou variant"}],accordion:[{value:"popis",title:"Popis produktu",content:{text:"Correctfoot balancni desticka je navrzena ve spolupraci s fyzioterapeuty. Pomaha zlepsit stabilitu, propriocepci a koordinaci. Idealni pro rehabilitaci po zranenich kotnika a kolena."}},{value:"varianty",title:"Varianty",content:{list:["Varianta Basic - pro zacatecniky a mirnou rehabilitaci","Varianta Pro - pro pokrocile a intenzivni trenink","Obe varianty vyrobeny z kvalitniho dreva","Protiskluzovy povrch"]}},{value:"doprava",title:"Doprava a vraceni",content:{text:"Doprava po cele CR zdarma. Zbozi lze vratit do 30 dnu od zakoupeni v originalnim obalu."}}]},{slug:"4core",name:"4CORE",subtitle:"Treninkovy program",description:"Online treninkovy program pro zlepseni kondice a zdravi.",image:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=800",images:[{src:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/4056535/pexels-photo-4056535.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"4CORE treninkovy program",width:1280,height:853},{src:"https://images.pexels.com/photos/3768131/pexels-photo-3768131.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/3768131/pexels-photo-3768131.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"4CORE cviceni",width:1280,height:853},{src:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/3768593/pexels-photo-3768593.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"4CORE trenink",width:1280,height:853}],price:{regular:4900,currency:"CZK"},features:["70 dni treninku","15 minut denne"],note:"Dozivotni pristup!",rate:4.8,ctaPrimaryLabel:"Koupit",ctaSecondaryLabel:"Vyzkouset",services:[{icon:Fl,text:"Okamzity pristup po zakoupeni"},{icon:V3,text:"Dozivotni pristup ke vsem materialam"}],accordion:[{value:"obsah",title:"Co program obsahuje",content:{list:["70 dnu strukturovaneho treninku","Video navody ke kazdemu cviku","Postupne zvysovani narocnosti","Dozivotni pristup ke vsem materialam"]}},{value:"komu",title:"Pro koho je urcen",content:{text:"Program je vhodny pro vsechny urovne zdatnosti. At uz jste uplny zacatecnik nebo pokrocily sportovec, 4CORE se prizpusobi vasemu tempu."}},{value:"fungovani",title:"Jak to funguje",content:{text:"Po zakoupeni ziskate okamzity pristup do online platformy. Kazdy den obdrzite novy trenink s video navodem. Staci 15 minut denne."}}]},{slug:"fyziotrenink",name:"Fyziotrenink",subtitle:"Kniha",description:"Aktualizovane vydani knihy Fyziotrenink - Pohyb jako lek.",image:"https://images.pexels.com/photos/3747468/pexels-photo-3747468.jpeg?auto=compress&cs=tinysrgb&w=800",images:[{src:"https://images.pexels.com/photos/3747468/pexels-photo-3747468.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/3747468/pexels-photo-3747468.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"Kniha Fyziotrenink",width:1280,height:853},{src:"https://images.pexels.com/photos/5473188/pexels-photo-5473188.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/5473188/pexels-photo-5473188.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"Fyziotrenink obsah",width:1280,height:853},{src:"https://images.pexels.com/photos/3838389/pexels-photo-3838389.jpeg?auto=compress&cs=tinysrgb&w=1280",thumbnail:"https://images.pexels.com/photos/3838389/pexels-photo-3838389.jpeg?auto=compress&cs=tinysrgb&w=200",alt:"Fyziotrenink cviky",width:1280,height:853}],price:{regular:450,currency:"CZK"},note:"Cena je vcetne dopravy!",rate:4.7,ctaPrimaryLabel:"Koupit",ctaSecondaryLabel:"O knize",services:[{icon:Hm,text:"Cena vcetne postovneho a balneho"},{icon:Fl,text:"Doruceni do 3-5 pracovnich dnu"}],accordion:[{value:"oknize",title:"O knize",content:{text:"Fyziotrenink - Pohyb jako lek je prakticky pruvodce, ktery vam ukazuje, jak vyuzit pohyb jako nastroj pro zlepseni zdravi. Obsahuje desitky cviku s detailnimi popisy a ilustracemi."}},{value:"obsah",title:"Obsah knihy",content:{list:["Zaklady funkcniho treninku","Cviky pro spravne drzeni tela","Rehabilitacni programy","Prevence zraneni","Treninkove plany pro ruzne urovne"]}},{value:"doprava",title:"Doprava",content:{text:"Kniha je zasilana postou s dorucenim do 3-5 pracovnich dnu. Cena jiz zahrnuje postovne a balne."}}]}];function m1e(e){return fE.find(t=>t.slug===e)}const p1e=({className:e})=>i.jsxs("section",{className:se("py-16 md:py-24",e),children:[i.jsxs("div",{className:"mb-12 text-center",children:[i.jsxs($e,{variant:"outline",className:"mb-4",children:[i.jsx(og,{className:"mr-1.5 size-3"}),"Obchod"]}),i.jsx("h1",{className:"text-3xl font-bold tracking-tight sm:text-4xl lg:text-5xl",children:"Nase produkty"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-lg text-muted-foreground",children:"Profesionalni pomucky a programy pro vasi fyzioterapii a zdravi"})]}),i.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:fE.map(t=>i.jsx(g1e,{product:t},t.slug))})]}),g1e=({product:e})=>i.jsxs(Ue,{to:`/produkt/${e.slug}`,className:"group flex flex-col overflow-hidden rounded-2xl border border-border/50 bg-card transition-all duration-300 hover:border-border hover:shadow-lg",children:[i.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden bg-muted",children:[i.jsx("img",{src:e.image,alt:e.name,className:"size-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.badge&&i.jsx($e,{className:"absolute left-3 top-3 bg-red-600 text-white hover:bg-red-700",children:e.badge})]}),i.jsxs("div",{className:"flex flex-1 flex-col p-5",children:[i.jsx("p",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:e.subtitle}),i.jsx("h3",{className:"mt-1 text-xl font-bold tracking-tight",children:e.name}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed text-muted-foreground",children:e.description}),e.features&&i.jsx("ul",{className:"mt-3 space-y-1.5",children:e.features.map(t=>i.jsxs("li",{className:"flex items-center gap-2 text-sm text-foreground/80",children:[i.jsx(cn,{className:"size-3.5 shrink-0 text-primary"}),t]},t))}),i.jsxs("div",{className:"mt-auto pt-4",children:[i.jsxs("div",{className:"flex items-baseline gap-2",children:[e.pricePrefix&&i.jsx("span",{className:"text-sm text-muted-foreground",children:e.pricePrefix}),i.jsx("span",{className:"text-2xl font-bold tracking-tight",children:(e.price.sale??e.price.regular).toLocaleString("cs-CZ")}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"Kc"}),e.price.sale&&i.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:[e.price.regular.toLocaleString("cs-CZ")," Kc"]})]}),e.note&&i.jsxs("p",{className:"mt-1.5 flex items-center gap-1.5 text-xs font-medium text-emerald-600 dark:text-emerald-400",children:[e.note.toLowerCase().includes("doprav")?i.jsx(Hm,{className:"size-3"}):e.note.toLowerCase().includes("dozivot")?i.jsx(LL,{className:"size-3"}):e.note.toLowerCase().includes("kniz")?i.jsx(Gt,{className:"size-3"}):i.jsx(og,{className:"size-3"}),e.note]})]}),i.jsx("div",{className:"mt-4 rounded-lg bg-primary px-4 py-2.5 text-center text-sm font-medium text-primary-foreground transition-colors group-hover:bg-primary/90",children:"Zobrazit detail"})]})]}),ey=({rate:e,max:t=5,className:n})=>{const s=Math.floor(e),r=e%1!==0,a=t-Math.ceil(e);return i.jsxs("div",{className:se("flex items-center gap-0.5",n),children:[Array.from({length:s}).map((o,l)=>i.jsx(Lr,{className:"fill-yellow-400 text-yellow-400"},`full-${l}`)),r&&i.jsxs("div",{className:"relative",children:[i.jsx(Lr,{className:"text-yellow-400"}),i.jsx("div",{className:"absolute inset-0 overflow-hidden",style:{width:"50%"},children:i.jsx(Lr,{className:"fill-yellow-400 text-yellow-400"})})]}),Array.from({length:a}).map((o,l)=>i.jsx(Lr,{className:"text-gray-300"},`empty-${l}`))]})};function x1e(e,t=[]){let n=[];function s(a,o){const l=v.createContext(o);l.displayName=a+"Context";const u=n.length;n=[...n,o];const d=m=>{var k;const{scope:g,children:x,...b}=m,w=((k=g==null?void 0:g[e])==null?void 0:k[u])||l,j=v.useMemo(()=>b,Object.values(b));return i.jsx(w.Provider,{value:j,children:x})};d.displayName=a+"Provider";function f(m,g){var w;const x=((w=g==null?void 0:g[e])==null?void 0:w[u])||l,b=v.useContext(x);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${a}\``)}return[d,f]}const r=()=>{const a=n.map(o=>v.createContext(o));return function(l){const u=(l==null?void 0:l[e])||a;return v.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return r.scopeName=e,[s,v1e(r,...t)]}function v1e(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(a){const o=s.reduce((l,{useScope:u,scopeName:d})=>{const m=u(a)[`__scope${d}`];return{...l,...m}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return n.scopeName=t.scopeName,n}var y1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xB=y1e.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),mE="Progress",pE=100,[b1e]=x1e(mE),[w1e,j1e]=b1e(mE),vB=v.forwardRef((e,t)=>{const{__scopeProgress:n,value:s=null,max:r,getValueLabel:a=k1e,...o}=e;(r||r===0)&&!fO(r)&&console.error(N1e(`${r}`,"Progress"));const l=fO(r)?r:pE;s!==null&&!mO(s,l)&&console.error(S1e(`${s}`,"Progress"));const u=mO(s,l)?s:null,d=ty(u)?a(u,l):void 0;return i.jsx(w1e,{scope:n,value:u,max:l,children:i.jsx(xB.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":ty(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":wB(u,l),"data-value":u??void 0,"data-max":l,...o,ref:t})})});vB.displayName=mE;var yB="ProgressIndicator",bB=v.forwardRef((e,t)=>{const{__scopeProgress:n,...s}=e,r=j1e(yB,n);return i.jsx(xB.div,{"data-state":wB(r.value,r.max),"data-value":r.value??void 0,"data-max":r.max,...s,ref:t})});bB.displayName=yB;function k1e(e,t){return`${Math.round(e/t*100)}%`}function wB(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function ty(e){return typeof e=="number"}function fO(e){return ty(e)&&!isNaN(e)&&e>0}function mO(e,t){return ty(e)&&!isNaN(e)&&e<=t&&e>=0}function N1e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${pE}\`.`}function S1e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${pE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var jB=vB,_1e=bB;const Fi=v.forwardRef(({className:e,value:t,...n},s)=>i.jsx(jB,{ref:s,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:i.jsx(_1e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Fi.displayName=jB.displayName;const C1e=[{id:"1",rating:5,title:"Vborn pomcka na rehabilitaci",content:"Po operaci kolene jsem poteboval kvalitn pomcky na cvien doma. Posilovac gumy jsou skvl, rzn rovn odporu a nvod s cviky. U po msci vidm velk pokrok.",author:{name:"Jana Novkov",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-1.webp"},date:"10. prosince 2024",verified:!0,helpful:42},{id:"2",rating:5,title:"Perfektn pro domc cvien",content:"Jsem fyzioterapeutka a tyto pomcky doporuuji i svm klientm. Kvalita je opravdu vysok a cena je frov. Rychl dodn a skvl komunikace.",author:{name:"Mgr. Petra Dvokov",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-2.webp"},date:"8. prosince 2024",verified:!0,helpful:38},{id:"3",rating:4,title:"Skvl pomr cena/vkon",content:"Masn mky mi pomohly s bolestmi zad. Pouvm je kad den po prci a ctm se mnohem lpe. Kvalita je dobr, jen trochu tu ne jsem ekal.",author:{name:"Tom Svoboda",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-3.webp"},date:"5. prosince 2024",verified:!0,helpful:24},{id:"4",rating:5,title:"Pomohlo mi od bolesti",content:"Ml jsem dlouhodob bolesti ramen a akupresurn podloka mi opravdu pomohla. U po tdnu jsem ctil zlepen. Urit doporuuji vem s podobnmi problmy.",author:{name:"Martin Prochzka"},date:"2. prosince 2024",verified:!1,helpful:19},{id:"5",rating:4,title:"Kvalitn pomcka",content:"Balann podloka je skvl na poslen hlubokho stabilizanho systmu. Pouvm ji pi vech cvicch. Trochu pevnj ne jsem oekvala, ale celkov jsem spokojen.",author:{name:"Lucie Markov",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-5.webp"},date:"28. listopadu 2024",verified:!0,helpful:12},{id:"6",rating:3,title:"Slun za tu cenu",content:"Rehabilitan m dl co m. Nen to top kvalita, ale pro domc cvien to sta. Rychl dodn a dobr cena.",author:{name:"Pavel ern"},date:"25. listopadu 2024",verified:!0,helpful:8}],E1e=({reviews:e=C1e,className:t})=>{const[n,s]=v.useState("helpful"),r=e.length,a=e.reduce((d,f)=>d+f.rating,0)/r,o=[5,4,3,2,1].map(d=>({star:d,count:e.filter(f=>f.rating===d).length,percentage:e.filter(f=>f.rating===d).length/r*100})),l=[...e].sort((d,f)=>{switch(n){case"helpful":return(f.helpful||0)-(d.helpful||0);case"newest":return new Date(f.date).getTime()-new Date(d.date).getTime();case"highest":return f.rating-d.rating;case"lowest":return d.rating-f.rating;default:return 0}}),u={helpful:"Nejuitenj",newest:"Nejnovj",highest:"Nejvy hodnocen",lowest:"Nejni hodnocen"};return i.jsx("section",{className:se("py-16 md:py-24",t),children:i.jsxs("div",{className:"max-w-3xl mx-auto",children:[i.jsxs("div",{className:"mb-6 flex flex-col gap-6 sm:flex-row sm:items-start sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold tracking-tight",children:"Hodnocen zkaznk"}),i.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"text-3xl font-bold",children:a.toFixed(1)}),i.jsx("span",{className:"text-sm text-muted-foreground",children:"/ 5"})]}),i.jsx(ey,{rate:a,className:"[&_svg]:size-4"}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",r,")"]})]})]}),i.jsxs("div",{className:"flex gap-2 sm:w-48",children:[i.jsx("div",{className:"flex flex-col gap-1.5 text-xs text-muted-foreground",children:[5,4,3,2,1].map(d=>i.jsx("span",{className:"h-2 leading-none",children:d},d))}),i.jsx("div",{className:"flex flex-1 flex-col gap-1.5",children:o.map(({star:d,percentage:f})=>i.jsx(Fi,{value:f,className:"h-2"},d))})]})]}),i.jsx($t,{className:"mb-4"}),i.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm text-muted-foreground",children:[r," hodnocen"]}),i.jsxs(bg,{children:[i.jsx(wg,{asChild:!0,children:i.jsxs(X,{variant:"ghost",size:"sm",className:"gap-1",children:["Seadit: ",u[n],i.jsx(dr,{className:"size-4"})]})}),i.jsx(jg,{align:"end",children:Object.keys(u).map(d=>i.jsx(or,{onClick:()=>s(d),className:se(n===d&&"font-medium"),children:u[d]},d))})]})]}),i.jsx("div",{className:"space-y-0",children:l.map((d,f)=>i.jsxs("div",{children:[f>0&&i.jsx($t,{className:"my-4"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(zs,{className:"size-7",children:[i.jsx(lr,{src:d.author.avatar,alt:d.author.name}),i.jsx(Ha,{className:"text-xs",children:d.author.name.split(" ").map(m=>m[0]).join("")})]}),i.jsx("span",{className:"text-sm font-medium",children:d.author.name}),d.verified&&i.jsx(ig,{className:"size-4 text-emerald-600"})]}),i.jsx("span",{className:"text-xs text-muted-foreground",children:d.date})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ey,{rate:d.rating,className:"[&>div]:size-3.5 [&_svg]:size-3.5"}),i.jsx("span",{className:"font-medium",children:d.title})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:d.content}),d.helpful!==void 0&&d.helpful>0&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[d.helpful," lid povauje toto za uiten"]})]})]},d.id))}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx(X,{variant:"outline",children:"Nast dal hodnocen"})})]})})};function T1e(){return i.jsx("div",{className:"min-h-screen",children:i.jsxs("div",{className:"container mx-auto",children:[i.jsx(p1e,{}),i.jsx(E1e,{})]})})}const pO=(e,t,n)=>{if(e&&"reportValidity"in e){const s=He(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},kB=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?pO(s.ref,n,e):s.refs&&s.refs.forEach(r=>pO(r,n,e))}},z1e=(e,t)=>{t.shouldUseNativeValidation&&kB(e,t);const n={};for(const s in e){const r=He(t.fields,s),a=Object.assign(e[s]||{},{ref:r&&r.ref});if(A1e(t.names||Object.keys(e),s)){const o=Object.assign({},He(n,s));an(o,"root",a),an(n,s,o)}else an(n,s,a)}return n},A1e=(e,t)=>e.some(n=>n.startsWith(t+"."));var M1e=function(e,t){for(var n={};e.length;){var s=e[0],r=s.code,a=s.message,o=s.path.join(".");if(!n[o])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[o]={message:l.message,type:l.code}}else n[o]={message:a,type:r};if("unionErrors"in s&&s.unionErrors.forEach(function(f){return f.errors.forEach(function(m){return e.push(m)})}),t){var u=n[o].types,d=u&&u[s.code];n[o]=mV(o,t,n,r,d?[].concat(d,s.message):s.message)}e.shift()}return n},Hb=function(e,t,n){return n===void 0&&(n={}),function(s,r,a){try{return Promise.resolve((function(o,l){try{var u=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(d){return a.shouldUseNativeValidation&&kB({},a),{errors:{},values:n.raw?s:d}})}catch(d){return l(d)}return u&&u.then?u.then(void 0,l):u})(0,function(o){if((function(l){return Array.isArray(l==null?void 0:l.errors)})(o))return{values:{},errors:z1e(M1e(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}};function Ne(e,t,n){function s(l,u){if(l._zod||Object.defineProperty(l,"_zod",{value:{def:u,constr:o,traits:new Set},enumerable:!1}),l._zod.traits.has(e))return;l._zod.traits.add(e),t(l,u);const d=o.prototype,f=Object.keys(d);for(let m=0;m<f.length;m++){const g=f[m];g in l||(l[g]=d[g].bind(l))}}const r=(n==null?void 0:n.Parent)??Object;class a extends r{}Object.defineProperty(a,"name",{value:e});function o(l){var u;const d=n!=null&&n.Parent?new a:this;s(d,l),(u=d._zod).deferred??(u.deferred=[]);for(const f of d._zod.deferred)f();return d}return Object.defineProperty(o,"init",{value:s}),Object.defineProperty(o,Symbol.hasInstance,{value:l=>{var u,d;return n!=null&&n.Parent&&l instanceof n.Parent?!0:(d=(u=l==null?void 0:l._zod)==null?void 0:u.traits)==null?void 0:d.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class yh extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class NB extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const SB={};function _u(e){return SB}function _B(e){const t=Object.values(e).filter(s=>typeof s=="number");return Object.entries(e).filter(([s,r])=>t.indexOf(+s)===-1).map(([s,r])=>r)}function eS(e,t){return typeof t=="bigint"?t.toString():t}function qb(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function gE(e){return e==null}function xE(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function R1e(e,t){const n=(e.toString().split(".")[1]||"").length,s=t.toString();let r=(s.split(".")[1]||"").length;if(r===0&&/\d?e-\d?/.test(s)){const u=s.match(/\d?e-(\d?)/);u!=null&&u[1]&&(r=Number.parseInt(u[1]))}const a=n>r?n:r,o=Number.parseInt(e.toFixed(a).replace(".","")),l=Number.parseInt(t.toFixed(a).replace(".",""));return o%l/10**a}const gO=Symbol("evaluating");function ln(e,t,n){let s;Object.defineProperty(e,t,{get(){if(s!==gO)return s===void 0&&(s=gO,s=n()),s},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function Vu(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function hc(...e){const t={};for(const n of e){const s=Object.getOwnPropertyDescriptors(n);Object.assign(t,s)}return Object.defineProperties({},t)}function xO(e){return JSON.stringify(e)}function O1e(e){return e.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const CB="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Ep(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const D1e=qb(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Tp(e){if(Ep(e)===!1)return!1;const t=e.constructor;if(t===void 0||typeof t!="function")return!0;const n=t.prototype;return!(Ep(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function EB(e){return Tp(e)?{...e}:Array.isArray(e)?[...e]:e}const P1e=new Set(["string","number","symbol"]);function Rh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function fc(e,t,n){const s=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(s._zod.parent=e),s}function ht(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function I1e(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const L1e={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function $1e(e,t){const n=e._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const a=hc(e._zod.def,{get shape(){const o={};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&(o[l]=n.shape[l])}return Vu(this,"shape",o),o},checks:[]});return fc(e,a)}function V1e(e,t){const n=e._zod.def,s=n.checks;if(s&&s.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const a=hc(e._zod.def,{get shape(){const o={...e._zod.def.shape};for(const l in t){if(!(l in n.shape))throw new Error(`Unrecognized key: "${l}"`);t[l]&&delete o[l]}return Vu(this,"shape",o),o},checks:[]});return fc(e,a)}function B1e(e,t){if(!Tp(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0){const a=e._zod.def.shape;for(const o in t)if(Object.getOwnPropertyDescriptor(a,o)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const r=hc(e._zod.def,{get shape(){const a={...e._zod.def.shape,...t};return Vu(this,"shape",a),a}});return fc(e,r)}function F1e(e,t){if(!Tp(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n=hc(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return Vu(this,"shape",s),s}});return fc(e,n)}function U1e(e,t){const n=hc(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t._zod.def.shape};return Vu(this,"shape",s),s},get catchall(){return t._zod.def.catchall},checks:[]});return fc(e,n)}function H1e(e,t,n){const r=t._zod.def.checks;if(r&&r.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const o=hc(t._zod.def,{get shape(){const l=t._zod.def.shape,u={...l};if(n)for(const d in n){if(!(d in l))throw new Error(`Unrecognized key: "${d}"`);n[d]&&(u[d]=e?new e({type:"optional",innerType:l[d]}):l[d])}else for(const d in l)u[d]=e?new e({type:"optional",innerType:l[d]}):l[d];return Vu(this,"shape",u),u},checks:[]});return fc(t,o)}function q1e(e,t,n){const s=hc(t._zod.def,{get shape(){const r=t._zod.def.shape,a={...r};if(n)for(const o in n){if(!(o in a))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(a[o]=new e({type:"nonoptional",innerType:r[o]}))}else for(const o in r)a[o]=new e({type:"nonoptional",innerType:r[o]});return Vu(this,"shape",a),a}});return fc(t,s)}function lh(e,t=0){var n;if(e.aborted===!0)return!0;for(let s=t;s<e.issues.length;s++)if(((n=e.issues[s])==null?void 0:n.continue)!==!0)return!0;return!1}function TB(e,t){return t.map(n=>{var s;return(s=n).path??(s.path=[]),n.path.unshift(e),n})}function k0(e){return typeof e=="string"?e:e==null?void 0:e.message}function Cu(e,t,n){var r,a,o,l,u,d;const s={...e,path:e.path??[]};if(!e.message){const f=k0((o=(a=(r=e.inst)==null?void 0:r._zod.def)==null?void 0:a.error)==null?void 0:o.call(a,e))??k0((l=t==null?void 0:t.error)==null?void 0:l.call(t,e))??k0((u=n.customError)==null?void 0:u.call(n,e))??k0((d=n.localeError)==null?void 0:d.call(n,e))??"Invalid input";s.message=f}return delete s.inst,delete s.continue,t!=null&&t.reportInput||delete s.input,s}function vE(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function zp(...e){const[t,n,s]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:s}:{...t}}const zB=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,eS,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},AB=Ne("$ZodError",zB),MB=Ne("$ZodError",zB,{Parent:Error});function Z1e(e,t=n=>n.message){const n={},s=[];for(const r of e.issues)r.path.length>0?(n[r.path[0]]=n[r.path[0]]||[],n[r.path[0]].push(t(r))):s.push(t(r));return{formErrors:s,fieldErrors:n}}function W1e(e,t=n=>n.message){const n={_errors:[]},s=r=>{for(const a of r.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(o=>s({issues:o}));else if(a.code==="invalid_key")s({issues:a.issues});else if(a.code==="invalid_element")s({issues:a.issues});else if(a.path.length===0)n._errors.push(t(a));else{let o=n,l=0;for(;l<a.path.length;){const u=a.path[l];l===a.path.length-1?(o[u]=o[u]||{_errors:[]},o[u]._errors.push(t(a))):o[u]=o[u]||{_errors:[]},o=o[u],l++}}};return s(e),n}const yE=e=>(t,n,s,r)=>{const a=s?Object.assign(s,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise)throw new yh;if(o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(u=>Cu(u,a,_u())));throw CB(l,r==null?void 0:r.callee),l}return o.value},bE=e=>async(t,n,s,r)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},a);if(o instanceof Promise&&(o=await o),o.issues.length){const l=new((r==null?void 0:r.Err)??e)(o.issues.map(u=>Cu(u,a,_u())));throw CB(l,r==null?void 0:r.callee),l}return o.value},Zb=e=>(t,n,s)=>{const r=s?{...s,async:!1}:{async:!1},a=t._zod.run({value:n,issues:[]},r);if(a instanceof Promise)throw new yh;return a.issues.length?{success:!1,error:new(e??AB)(a.issues.map(o=>Cu(o,r,_u())))}:{success:!0,data:a.value}},K1e=Zb(MB),Wb=e=>async(t,n,s)=>{const r=s?Object.assign(s,{async:!0}):{async:!0};let a=t._zod.run({value:n,issues:[]},r);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new e(a.issues.map(o=>Cu(o,r,_u())))}:{success:!0,data:a.value}},G1e=Wb(MB),Y1e=e=>(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return yE(e)(t,n,r)},J1e=e=>(t,n,s)=>yE(e)(t,n,s),X1e=e=>async(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return bE(e)(t,n,r)},Q1e=e=>async(t,n,s)=>bE(e)(t,n,s),ewe=e=>(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Zb(e)(t,n,r)},twe=e=>(t,n,s)=>Zb(e)(t,n,s),nwe=e=>async(t,n,s)=>{const r=s?Object.assign(s,{direction:"backward"}):{direction:"backward"};return Wb(e)(t,n,r)},swe=e=>async(t,n,s)=>Wb(e)(t,n,s),rwe=/^[cC][^\s-]{8,}$/,iwe=/^[0-9a-z]+$/,awe=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,owe=/^[0-9a-vA-V]{20}$/,lwe=/^[A-Za-z0-9]{27}$/,cwe=/^[a-zA-Z0-9_-]{21}$/,uwe=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,dwe=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,vO=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,hwe=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,fwe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function mwe(){return new RegExp(fwe,"u")}const pwe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,gwe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,xwe=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,vwe=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,ywe=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,RB=/^[A-Za-z0-9_-]*$/,bwe=/^\+[1-9]\d{6,14}$/,OB="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",wwe=new RegExp(`^${OB}$`);function DB(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function jwe(e){return new RegExp(`^${DB(e)}$`)}function kwe(e){const t=DB({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${n.join("|")})`;return new RegExp(`^${OB}T(?:${s})$`)}const Nwe=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Swe=/^-?\d+$/,_we=/^-?\d+(?:\.\d+)?$/,Cwe=/^(?:true|false)$/i,Ewe=/^[^A-Z]*$/,Twe=/^[^a-z]*$/,Ur=Ne("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),PB={number:"number",bigint:"bigint",object:"date"},IB=Ne("$ZodCheckLessThan",(e,t)=>{Ur.init(e,t);const n=PB[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,a=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<a&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:n,code:"too_big",maximum:typeof t.value=="object"?t.value.getTime():t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),LB=Ne("$ZodCheckGreaterThan",(e,t)=>{Ur.init(e,t);const n=PB[typeof t.value];e._zod.onattach.push(s=>{const r=s._zod.bag,a=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>a&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:n,code:"too_small",minimum:typeof t.value=="object"?t.value.getTime():t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),zwe=Ne("$ZodCheckMultipleOf",(e,t)=>{Ur.init(e,t),e._zod.onattach.push(n=>{var s;(s=n._zod.bag).multipleOf??(s.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):R1e(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),Awe=Ne("$ZodCheckNumberFormat",(e,t)=>{var o;Ur.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),s=n?"int":"number",[r,a]=L1e[t.format];e._zod.onattach.push(l=>{const u=l._zod.bag;u.format=t.format,u.minimum=r,u.maximum=a,n&&(u.pattern=Swe)}),e._zod.check=l=>{const u=l.value;if(n){if(!Number.isInteger(u)){l.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:u,inst:e});return}if(!Number.isSafeInteger(u)){u>0?l.issues.push({input:u,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,inclusive:!0,continue:!t.abort}):l.issues.push({input:u,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,inclusive:!0,continue:!t.abort});return}}u<r&&l.issues.push({origin:"number",input:u,code:"too_small",minimum:r,inclusive:!0,inst:e,continue:!t.abort}),u>a&&l.issues.push({origin:"number",input:u,code:"too_big",maximum:a,inclusive:!0,inst:e,continue:!t.abort})}}),Mwe=Ne("$ZodCheckMaxLength",(e,t)=>{var n;Ur.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!gE(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(s._zod.bag.maximum=t.maximum)}),e._zod.check=s=>{const r=s.value;if(r.length<=t.maximum)return;const o=vE(r);s.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Rwe=Ne("$ZodCheckMinLength",(e,t)=>{var n;Ur.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!gE(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(s._zod.bag.minimum=t.minimum)}),e._zod.check=s=>{const r=s.value;if(r.length>=t.minimum)return;const o=vE(r);s.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:r,inst:e,continue:!t.abort})}}),Owe=Ne("$ZodCheckLengthEquals",(e,t)=>{var n;Ur.init(e,t),(n=e._zod.def).when??(n.when=s=>{const r=s.value;return!gE(r)&&r.length!==void 0}),e._zod.onattach.push(s=>{const r=s._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=s=>{const r=s.value,a=r.length;if(a===t.length)return;const o=vE(r),l=a>t.length;s.issues.push({origin:o,...l?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:s.value,inst:e,continue:!t.abort})}}),Kb=Ne("$ZodCheckStringFormat",(e,t)=>{var n,s;Ur.init(e,t),e._zod.onattach.push(r=>{const a=r._zod.bag;a.format=t.format,t.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),Dwe=Ne("$ZodCheckRegex",(e,t)=>{Kb.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),Pwe=Ne("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Ewe),Kb.init(e,t)}),Iwe=Ne("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=Twe),Kb.init(e,t)}),Lwe=Ne("$ZodCheckIncludes",(e,t)=>{Ur.init(e,t);const n=Rh(t.includes),s=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=s,e._zod.onattach.push(r=>{const a=r._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(s)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),$we=Ne("$ZodCheckStartsWith",(e,t)=>{Ur.init(e,t);const n=new RegExp(`^${Rh(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.startsWith(t.prefix)||s.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:s.value,inst:e,continue:!t.abort})}}),Vwe=Ne("$ZodCheckEndsWith",(e,t)=>{Ur.init(e,t);const n=new RegExp(`.*${Rh(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(s=>{const r=s._zod.bag;r.patterns??(r.patterns=new Set),r.patterns.add(n)}),e._zod.check=s=>{s.value.endsWith(t.suffix)||s.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:s.value,inst:e,continue:!t.abort})}}),Bwe=Ne("$ZodCheckOverwrite",(e,t)=>{Ur.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class Fwe{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const s=t.split(`
`).filter(o=>o),r=Math.min(...s.map(o=>o.length-o.trimStart().length)),a=s.map(o=>o.slice(r)).map(o=>" ".repeat(this.indent*2)+o);for(const o of a)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,r=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new t(...n,r.join(`
`))}}const Uwe={major:4,minor:3,patch:6},rs=Ne("$ZodType",(e,t)=>{var r;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Uwe;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const a of s)for(const o of a._zod.onattach)o(e);if(s.length===0)(n=e._zod).deferred??(n.deferred=[]),(r=e._zod.deferred)==null||r.push(()=>{e._zod.run=e._zod.parse});else{const a=(l,u,d)=>{let f=lh(l),m;for(const g of u){if(g._zod.def.when){if(!g._zod.def.when(l))continue}else if(f)continue;const x=l.issues.length,b=g._zod.check(l);if(b instanceof Promise&&(d==null?void 0:d.async)===!1)throw new yh;if(m||b instanceof Promise)m=(m??Promise.resolve()).then(async()=>{await b,l.issues.length!==x&&(f||(f=lh(l,x)))});else{if(l.issues.length===x)continue;f||(f=lh(l,x))}}return m?m.then(()=>l):l},o=(l,u,d)=>{if(lh(l))return l.aborted=!0,l;const f=a(u,s,d);if(f instanceof Promise){if(d.async===!1)throw new yh;return f.then(m=>e._zod.parse(m,d))}return e._zod.parse(f,d)};e._zod.run=(l,u)=>{if(u.skipChecks)return e._zod.parse(l,u);if(u.direction==="backward"){const f=e._zod.parse({value:l.value,issues:[]},{...u,skipChecks:!0});return f instanceof Promise?f.then(m=>o(m,l,u)):o(f,l,u)}const d=e._zod.parse(l,u);if(d instanceof Promise){if(u.async===!1)throw new yh;return d.then(f=>a(f,s,u))}return a(d,s,u)}}ln(e,"~standard",()=>({validate:a=>{var o;try{const l=K1e(e,a);return l.success?{value:l.data}:{issues:(o=l.error)==null?void 0:o.issues}}catch{return G1e(e,a).then(u=>{var d;return u.success?{value:u.data}:{issues:(d=u.error)==null?void 0:d.issues}})}},vendor:"zod",version:1}))}),wE=Ne("$ZodString",(e,t)=>{var n;rs.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??Nwe(e._zod.bag),e._zod.parse=(s,r)=>{if(t.coerce)try{s.value=String(s.value)}catch{}return typeof s.value=="string"||s.issues.push({expected:"string",code:"invalid_type",input:s.value,inst:e}),s}}),Vn=Ne("$ZodStringFormat",(e,t)=>{Kb.init(e,t),wE.init(e,t)}),Hwe=Ne("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=dwe),Vn.init(e,t)}),qwe=Ne("$ZodUUID",(e,t)=>{if(t.version){const s={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(s===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=vO(s))}else t.pattern??(t.pattern=vO());Vn.init(e,t)}),Zwe=Ne("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=hwe),Vn.init(e,t)}),Wwe=Ne("$ZodURL",(e,t)=>{Vn.init(e,t),e._zod.check=n=>{try{const s=n.value.trim(),r=new URL(s);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(r.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:t.hostname.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(r.protocol.endsWith(":")?r.protocol.slice(0,-1):r.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=r.href:n.value=s;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),Kwe=Ne("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=mwe()),Vn.init(e,t)}),Gwe=Ne("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=cwe),Vn.init(e,t)}),Ywe=Ne("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=rwe),Vn.init(e,t)}),Jwe=Ne("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=iwe),Vn.init(e,t)}),Xwe=Ne("$ZodULID",(e,t)=>{t.pattern??(t.pattern=awe),Vn.init(e,t)}),Qwe=Ne("$ZodXID",(e,t)=>{t.pattern??(t.pattern=owe),Vn.init(e,t)}),eje=Ne("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=lwe),Vn.init(e,t)}),tje=Ne("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=kwe(t)),Vn.init(e,t)}),nje=Ne("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=wwe),Vn.init(e,t)}),sje=Ne("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=jwe(t)),Vn.init(e,t)}),rje=Ne("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=uwe),Vn.init(e,t)}),ije=Ne("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=pwe),Vn.init(e,t),e._zod.bag.format="ipv4"}),aje=Ne("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=gwe),Vn.init(e,t),e._zod.bag.format="ipv6",e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),oje=Ne("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=xwe),Vn.init(e,t)}),lje=Ne("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=vwe),Vn.init(e,t),e._zod.check=n=>{const s=n.value.split("/");try{if(s.length!==2)throw new Error;const[r,a]=s;if(!a)throw new Error;const o=Number(a);if(`${o}`!==a)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function $B(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const cje=Ne("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=ywe),Vn.init(e,t),e._zod.bag.contentEncoding="base64",e._zod.check=n=>{$B(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function uje(e){if(!RB.test(e))return!1;const t=e.replace(/[-_]/g,s=>s==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return $B(n)}const dje=Ne("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=RB),Vn.init(e,t),e._zod.bag.contentEncoding="base64url",e._zod.check=n=>{uje(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),hje=Ne("$ZodE164",(e,t)=>{t.pattern??(t.pattern=bwe),Vn.init(e,t)});function fje(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[s]=n;if(!s)return!1;const r=JSON.parse(atob(s));return!("typ"in r&&(r==null?void 0:r.typ)!=="JWT"||!r.alg||t&&(!("alg"in r)||r.alg!==t))}catch{return!1}}const mje=Ne("$ZodJWT",(e,t)=>{Vn.init(e,t),e._zod.check=n=>{fje(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),VB=Ne("$ZodNumber",(e,t)=>{rs.init(e,t),e._zod.pattern=e._zod.bag.pattern??_we,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const r=n.value;if(typeof r=="number"&&!Number.isNaN(r)&&Number.isFinite(r))return n;const a=typeof r=="number"?Number.isNaN(r)?"NaN":Number.isFinite(r)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:r,inst:e,...a?{received:a}:{}}),n}}),pje=Ne("$ZodNumberFormat",(e,t)=>{Awe.init(e,t),VB.init(e,t)}),gje=Ne("$ZodBoolean",(e,t)=>{rs.init(e,t),e._zod.pattern=Cwe,e._zod.parse=(n,s)=>{if(t.coerce)try{n.value=!!n.value}catch{}const r=n.value;return typeof r=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:r,inst:e}),n}}),xje=Ne("$ZodUnknown",(e,t)=>{rs.init(e,t),e._zod.parse=n=>n}),vje=Ne("$ZodNever",(e,t)=>{rs.init(e,t),e._zod.parse=(n,s)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function yO(e,t,n){e.issues.length&&t.issues.push(...TB(n,e.issues)),t.value[n]=e.value}const yje=Ne("$ZodArray",(e,t)=>{rs.init(e,t),e._zod.parse=(n,s)=>{const r=n.value;if(!Array.isArray(r))return n.issues.push({expected:"array",code:"invalid_type",input:r,inst:e}),n;n.value=Array(r.length);const a=[];for(let o=0;o<r.length;o++){const l=r[o],u=t.element._zod.run({value:l,issues:[]},s);u instanceof Promise?a.push(u.then(d=>yO(d,n,o))):yO(u,n,o)}return a.length?Promise.all(a).then(()=>n):n}});function ny(e,t,n,s,r){if(e.issues.length){if(r&&!(n in s))return;t.issues.push(...TB(n,e.issues))}e.value===void 0?n in s&&(t.value[n]=void 0):t.value[n]=e.value}function BB(e){var s,r,a,o;const t=Object.keys(e.shape);for(const l of t)if(!((o=(a=(r=(s=e.shape)==null?void 0:s[l])==null?void 0:r._zod)==null?void 0:a.traits)!=null&&o.has("$ZodType")))throw new Error(`Invalid element at key "${l}": expected a Zod schema`);const n=I1e(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function FB(e,t,n,s,r,a){const o=[],l=r.keySet,u=r.catchall._zod,d=u.def.type,f=u.optout==="optional";for(const m in t){if(l.has(m))continue;if(d==="never"){o.push(m);continue}const g=u.run({value:t[m],issues:[]},s);g instanceof Promise?e.push(g.then(x=>ny(x,n,m,t,f))):ny(g,n,m,t,f)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:a}),e.length?Promise.all(e).then(()=>n):n}const bje=Ne("$ZodObject",(e,t)=>{rs.init(e,t);const n=Object.getOwnPropertyDescriptor(t,"shape");if(!(n!=null&&n.get)){const l=t.shape;Object.defineProperty(t,"shape",{get:()=>{const u={...l};return Object.defineProperty(t,"shape",{value:u}),u}})}const s=qb(()=>BB(t));ln(e._zod,"propValues",()=>{const l=t.shape,u={};for(const d in l){const f=l[d]._zod;if(f.values){u[d]??(u[d]=new Set);for(const m of f.values)u[d].add(m)}}return u});const r=Ep,a=t.catchall;let o;e._zod.parse=(l,u)=>{o??(o=s.value);const d=l.value;if(!r(d))return l.issues.push({expected:"object",code:"invalid_type",input:d,inst:e}),l;l.value={};const f=[],m=o.shape;for(const g of o.keys){const x=m[g],b=x._zod.optout==="optional",w=x._zod.run({value:d[g],issues:[]},u);w instanceof Promise?f.push(w.then(j=>ny(j,l,g,d,b))):ny(w,l,g,d,b)}return a?FB(f,d,l,u,s.value,e):f.length?Promise.all(f).then(()=>l):l}}),wje=Ne("$ZodObjectJIT",(e,t)=>{bje.init(e,t);const n=e._zod.parse,s=qb(()=>BB(t)),r=g=>{var C;const x=new Fwe(["shape","payload","ctx"]),b=s.value,w=E=>{const z=xO(E);return`shape[${z}]._zod.run({ value: input[${z}], issues: [] }, ctx)`};x.write("const input = payload.value;");const j=Object.create(null);let k=0;for(const E of b.keys)j[E]=`key_${k++}`;x.write("const newResult = {};");for(const E of b.keys){const z=j[E],R=xO(E),T=g[E],A=((C=T==null?void 0:T._zod)==null?void 0:C.optout)==="optional";x.write(`const ${z} = ${w(E)};`),A?x.write(`
        if (${z}.issues.length) {
          if (${R} in input) {
            payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${R}, ...iss.path] : [${R}]
            })));
          }
        }
        
        if (${z}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${z}.value;
        }
        
      `):x.write(`
        if (${z}.issues.length) {
          payload.issues = payload.issues.concat(${z}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${R}, ...iss.path] : [${R}]
          })));
        }
        
        if (${z}.value === undefined) {
          if (${R} in input) {
            newResult[${R}] = undefined;
          }
        } else {
          newResult[${R}] = ${z}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const S=x.compile();return(E,z)=>S(g,E,z)};let a;const o=Ep,l=!SB.jitless,d=l&&D1e.value,f=t.catchall;let m;e._zod.parse=(g,x)=>{m??(m=s.value);const b=g.value;return o(b)?l&&d&&(x==null?void 0:x.async)===!1&&x.jitless!==!0?(a||(a=r(t.shape)),g=a(g,x),f?FB([],b,g,x,m,e):g):n(g,x):(g.issues.push({expected:"object",code:"invalid_type",input:b,inst:e}),g)}});function bO(e,t,n,s){for(const a of e)if(a.issues.length===0)return t.value=a.value,t;const r=e.filter(a=>!lh(a));return r.length===1?(t.value=r[0].value,r[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(a=>a.issues.map(o=>Cu(o,s,_u())))}),t)}const UB=Ne("$ZodUnion",(e,t)=>{rs.init(e,t),ln(e._zod,"optin",()=>t.options.some(r=>r._zod.optin==="optional")?"optional":void 0),ln(e._zod,"optout",()=>t.options.some(r=>r._zod.optout==="optional")?"optional":void 0),ln(e._zod,"values",()=>{if(t.options.every(r=>r._zod.values))return new Set(t.options.flatMap(r=>Array.from(r._zod.values)))}),ln(e._zod,"pattern",()=>{if(t.options.every(r=>r._zod.pattern)){const r=t.options.map(a=>a._zod.pattern);return new RegExp(`^(${r.map(a=>xE(a.source)).join("|")})$`)}});const n=t.options.length===1,s=t.options[0]._zod.run;e._zod.parse=(r,a)=>{if(n)return s(r,a);let o=!1;const l=[];for(const u of t.options){const d=u._zod.run({value:r.value,issues:[]},a);if(d instanceof Promise)l.push(d),o=!0;else{if(d.issues.length===0)return d;l.push(d)}}return o?Promise.all(l).then(u=>bO(u,r,e,a)):bO(l,r,e,a)}}),jje=Ne("$ZodDiscriminatedUnion",(e,t)=>{t.inclusive=!1,UB.init(e,t);const n=e._zod.parse;ln(e._zod,"propValues",()=>{const r={};for(const a of t.options){const o=a._zod.propValues;if(!o||Object.keys(o).length===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(a)}"`);for(const[l,u]of Object.entries(o)){r[l]||(r[l]=new Set);for(const d of u)r[l].add(d)}}return r});const s=qb(()=>{var o;const r=t.options,a=new Map;for(const l of r){const u=(o=l._zod.propValues)==null?void 0:o[t.discriminator];if(!u||u.size===0)throw new Error(`Invalid discriminated union option at index "${t.options.indexOf(l)}"`);for(const d of u){if(a.has(d))throw new Error(`Duplicate discriminator value "${String(d)}"`);a.set(d,l)}}return a});e._zod.parse=(r,a)=>{const o=r.value;if(!Ep(o))return r.issues.push({code:"invalid_type",expected:"object",input:o,inst:e}),r;const l=s.value.get(o==null?void 0:o[t.discriminator]);return l?l._zod.run(r,a):t.unionFallback?n(r,a):(r.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:t.discriminator,input:o,path:[t.discriminator],inst:e}),r)}}),kje=Ne("$ZodIntersection",(e,t)=>{rs.init(e,t),e._zod.parse=(n,s)=>{const r=n.value,a=t.left._zod.run({value:r,issues:[]},s),o=t.right._zod.run({value:r,issues:[]},s);return a instanceof Promise||o instanceof Promise?Promise.all([a,o]).then(([u,d])=>wO(n,u,d)):wO(n,a,o)}});function tS(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Tp(e)&&Tp(t)){const n=Object.keys(t),s=Object.keys(e).filter(a=>n.indexOf(a)!==-1),r={...e,...t};for(const a of s){const o=tS(e[a],t[a]);if(!o.valid)return{valid:!1,mergeErrorPath:[a,...o.mergeErrorPath]};r[a]=o.data}return{valid:!0,data:r}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let s=0;s<e.length;s++){const r=e[s],a=t[s],o=tS(r,a);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function wO(e,t,n){const s=new Map;let r;for(const l of t.issues)if(l.code==="unrecognized_keys"){r??(r=l);for(const u of l.keys)s.has(u)||s.set(u,{}),s.get(u).l=!0}else e.issues.push(l);for(const l of n.issues)if(l.code==="unrecognized_keys")for(const u of l.keys)s.has(u)||s.set(u,{}),s.get(u).r=!0;else e.issues.push(l);const a=[...s].filter(([,l])=>l.l&&l.r).map(([l])=>l);if(a.length&&r&&e.issues.push({...r,keys:a}),lh(e))return e;const o=tS(t.value,n.value);if(!o.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(o.mergeErrorPath)}`);return e.value=o.data,e}const Nje=Ne("$ZodEnum",(e,t)=>{rs.init(e,t);const n=_B(t.entries),s=new Set(n);e._zod.values=s,e._zod.pattern=new RegExp(`^(${n.filter(r=>P1e.has(typeof r)).map(r=>typeof r=="string"?Rh(r):r.toString()).join("|")})$`),e._zod.parse=(r,a)=>{const o=r.value;return s.has(o)||r.issues.push({code:"invalid_value",values:n,input:o,inst:e}),r}}),Sje=Ne("$ZodLiteral",(e,t)=>{if(rs.init(e,t),t.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(t.values);e._zod.values=n,e._zod.pattern=new RegExp(`^(${t.values.map(s=>typeof s=="string"?Rh(s):s?Rh(s.toString()):String(s)).join("|")})$`),e._zod.parse=(s,r)=>{const a=s.value;return n.has(a)||s.issues.push({code:"invalid_value",values:t.values,input:a,inst:e}),s}}),_je=Ne("$ZodTransform",(e,t)=>{rs.init(e,t),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new NB(e.constructor.name);const r=t.transform(n.value,n);if(s.async)return(r instanceof Promise?r:Promise.resolve(r)).then(o=>(n.value=o,n));if(r instanceof Promise)throw new yh;return n.value=r,n}});function jO(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const HB=Ne("$ZodOptional",(e,t)=>{rs.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ln(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ln(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${xE(n.source)})?$`):void 0}),e._zod.parse=(n,s)=>{if(t.innerType._zod.optin==="optional"){const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>jO(a,n.value)):jO(r,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,s)}}),Cje=Ne("$ZodExactOptional",(e,t)=>{HB.init(e,t),ln(e._zod,"values",()=>t.innerType._zod.values),ln(e._zod,"pattern",()=>t.innerType._zod.pattern),e._zod.parse=(n,s)=>t.innerType._zod.run(n,s)}),Eje=Ne("$ZodNullable",(e,t)=>{rs.init(e,t),ln(e._zod,"optin",()=>t.innerType._zod.optin),ln(e._zod,"optout",()=>t.innerType._zod.optout),ln(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${xE(n.source)}|null)$`):void 0}),ln(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,s)=>n.value===null?n:t.innerType._zod.run(n,s)}),Tje=Ne("$ZodDefault",(e,t)=>{rs.init(e,t),e._zod.optin="optional",ln(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);if(n.value===void 0)return n.value=t.defaultValue,n;const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>kO(a,t)):kO(r,t)}});function kO(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const zje=Ne("$ZodPrefault",(e,t)=>{rs.init(e,t),e._zod.optin="optional",ln(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>(s.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,s))}),Aje=Ne("$ZodNonOptional",(e,t)=>{rs.init(e,t),ln(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(s=>s!==void 0)):void 0}),e._zod.parse=(n,s)=>{const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>NO(a,e)):NO(r,e)}});function NO(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Mje=Ne("$ZodCatch",(e,t)=>{rs.init(e,t),ln(e._zod,"optin",()=>t.innerType._zod.optin),ln(e._zod,"optout",()=>t.innerType._zod.optout),ln(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(a=>(n.value=a.value,a.issues.length&&(n.value=t.catchValue({...n,error:{issues:a.issues.map(o=>Cu(o,s,_u()))},input:n.value}),n.issues=[]),n)):(n.value=r.value,r.issues.length&&(n.value=t.catchValue({...n,error:{issues:r.issues.map(a=>Cu(a,s,_u()))},input:n.value}),n.issues=[]),n)}}),Rje=Ne("$ZodPipe",(e,t)=>{rs.init(e,t),ln(e._zod,"values",()=>t.in._zod.values),ln(e._zod,"optin",()=>t.in._zod.optin),ln(e._zod,"optout",()=>t.out._zod.optout),ln(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,s)=>{if(s.direction==="backward"){const a=t.out._zod.run(n,s);return a instanceof Promise?a.then(o=>N0(o,t.in,s)):N0(a,t.in,s)}const r=t.in._zod.run(n,s);return r instanceof Promise?r.then(a=>N0(a,t.out,s)):N0(r,t.out,s)}});function N0(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const Oje=Ne("$ZodReadonly",(e,t)=>{rs.init(e,t),ln(e._zod,"propValues",()=>t.innerType._zod.propValues),ln(e._zod,"values",()=>t.innerType._zod.values),ln(e._zod,"optin",()=>{var n,s;return(s=(n=t.innerType)==null?void 0:n._zod)==null?void 0:s.optin}),ln(e._zod,"optout",()=>{var n,s;return(s=(n=t.innerType)==null?void 0:n._zod)==null?void 0:s.optout}),e._zod.parse=(n,s)=>{if(s.direction==="backward")return t.innerType._zod.run(n,s);const r=t.innerType._zod.run(n,s);return r instanceof Promise?r.then(SO):SO(r)}});function SO(e){return e.value=Object.freeze(e.value),e}const Dje=Ne("$ZodCustom",(e,t)=>{Ur.init(e,t),rs.init(e,t),e._zod.parse=(n,s)=>n,e._zod.check=n=>{const s=n.value,r=t.fn(s);if(r instanceof Promise)return r.then(a=>_O(a,n,s,e));_O(r,n,s,e)}});function _O(e,t,n,s){if(!e){const r={code:"custom",input:n,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(r.params=s._zod.def.params),t.issues.push(zp(r))}}var CO;class Pje{constructor(){this._map=new WeakMap,this._idmap=new Map}add(t,...n){const s=n[0];return this._map.set(t,s),s&&typeof s=="object"&&"id"in s&&this._idmap.set(s.id,t),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const s={...this.get(n)??{}};delete s.id;const r={...s,...this._map.get(t)};return Object.keys(r).length?r:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function Ije(){return new Pje}(CO=globalThis).__zod_globalRegistry??(CO.__zod_globalRegistry=Ije());const _m=globalThis.__zod_globalRegistry;function Lje(e,t){return new e({type:"string",...ht(t)})}function $je(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...ht(t)})}function EO(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...ht(t)})}function Vje(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...ht(t)})}function Bje(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...ht(t)})}function Fje(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...ht(t)})}function Uje(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...ht(t)})}function Hje(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...ht(t)})}function qje(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...ht(t)})}function Zje(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...ht(t)})}function Wje(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...ht(t)})}function Kje(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...ht(t)})}function Gje(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...ht(t)})}function Yje(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...ht(t)})}function Jje(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...ht(t)})}function Xje(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...ht(t)})}function Qje(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...ht(t)})}function eke(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...ht(t)})}function tke(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...ht(t)})}function nke(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...ht(t)})}function ske(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...ht(t)})}function rke(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...ht(t)})}function ike(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...ht(t)})}function ake(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...ht(t)})}function oke(e,t){return new e({type:"string",format:"date",check:"string_format",...ht(t)})}function lke(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...ht(t)})}function cke(e,t){return new e({type:"string",format:"duration",check:"string_format",...ht(t)})}function uke(e,t){return new e({type:"number",checks:[],...ht(t)})}function dke(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...ht(t)})}function hke(e,t){return new e({type:"boolean",...ht(t)})}function fke(e){return new e({type:"unknown"})}function mke(e,t){return new e({type:"never",...ht(t)})}function TO(e,t){return new IB({check:"less_than",...ht(t),value:e,inclusive:!1})}function Gk(e,t){return new IB({check:"less_than",...ht(t),value:e,inclusive:!0})}function zO(e,t){return new LB({check:"greater_than",...ht(t),value:e,inclusive:!1})}function Yk(e,t){return new LB({check:"greater_than",...ht(t),value:e,inclusive:!0})}function AO(e,t){return new zwe({check:"multiple_of",...ht(t),value:e})}function qB(e,t){return new Mwe({check:"max_length",...ht(t),maximum:e})}function sy(e,t){return new Rwe({check:"min_length",...ht(t),minimum:e})}function ZB(e,t){return new Owe({check:"length_equals",...ht(t),length:e})}function pke(e,t){return new Dwe({check:"string_format",format:"regex",...ht(t),pattern:e})}function gke(e){return new Pwe({check:"string_format",format:"lowercase",...ht(e)})}function xke(e){return new Iwe({check:"string_format",format:"uppercase",...ht(e)})}function vke(e,t){return new Lwe({check:"string_format",format:"includes",...ht(t),includes:e})}function yke(e,t){return new $we({check:"string_format",format:"starts_with",...ht(t),prefix:e})}function bke(e,t){return new Vwe({check:"string_format",format:"ends_with",...ht(t),suffix:e})}function lf(e){return new Bwe({check:"overwrite",tx:e})}function wke(e){return lf(t=>t.normalize(e))}function jke(){return lf(e=>e.trim())}function kke(){return lf(e=>e.toLowerCase())}function Nke(){return lf(e=>e.toUpperCase())}function Ske(){return lf(e=>O1e(e))}function _ke(e,t,n){return new e({type:"array",element:t,...ht(n)})}function Cke(e,t,n){return new e({type:"custom",check:"custom",fn:t,...ht(n)})}function Eke(e){const t=Tke(n=>(n.addIssue=s=>{if(typeof s=="string")n.issues.push(zp(s,n.value,t._zod.def));else{const r=s;r.fatal&&(r.continue=!1),r.code??(r.code="custom"),r.input??(r.input=n.value),r.inst??(r.inst=t),r.continue??(r.continue=!t._zod.def.abort),n.issues.push(zp(r))}},e(n.value,n)));return t}function Tke(e,t){const n=new Ur({check:"custom",...ht(t)});return n._zod.check=e,n}function WB(e){let t=(e==null?void 0:e.target)??"draft-2020-12";return t==="draft-4"&&(t="draft-04"),t==="draft-7"&&(t="draft-07"),{processors:e.processors??{},metadataRegistry:(e==null?void 0:e.metadata)??_m,target:t,unrepresentable:(e==null?void 0:e.unrepresentable)??"throw",override:(e==null?void 0:e.override)??(()=>{}),io:(e==null?void 0:e.io)??"output",counter:0,seen:new Map,cycles:(e==null?void 0:e.cycles)??"ref",reused:(e==null?void 0:e.reused)??"inline",external:(e==null?void 0:e.external)??void 0}}function sr(e,t,n={path:[],schemaPath:[]}){var f,m;var s;const r=e._zod.def,a=t.seen.get(e);if(a)return a.count++,n.schemaPath.includes(e)&&(a.cycle=n.path),a.schema;const o={schema:{},count:1,cycle:void 0,path:n.path};t.seen.set(e,o);const l=(m=(f=e._zod).toJSONSchema)==null?void 0:m.call(f);if(l)o.schema=l;else{const g={...n,schemaPath:[...n.schemaPath,e],path:n.path};if(e._zod.processJSONSchema)e._zod.processJSONSchema(t,o.schema,g);else{const b=o.schema,w=t.processors[r.type];if(!w)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${r.type}`);w(e,t,b,g)}const x=e._zod.parent;x&&(o.ref||(o.ref=x),sr(x,t,g),t.seen.get(x).isParent=!0)}const u=t.metadataRegistry.get(e);return u&&Object.assign(o.schema,u),t.io==="input"&&xr(e)&&(delete o.schema.examples,delete o.schema.default),t.io==="input"&&o.schema._prefault&&((s=o.schema).default??(s.default=o.schema._prefault)),delete o.schema._prefault,t.seen.get(e).schema}function KB(e,t){var o,l,u,d;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=new Map;for(const f of e.seen.entries()){const m=(o=e.metadataRegistry.get(f[0]))==null?void 0:o.id;if(m){const g=s.get(m);if(g&&g!==f[0])throw new Error(`Duplicate schema id "${m}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);s.set(m,f[0])}}const r=f=>{var w;const m=e.target==="draft-2020-12"?"$defs":"definitions";if(e.external){const j=(w=e.external.registry.get(f[0]))==null?void 0:w.id,k=e.external.uri??(C=>C);if(j)return{ref:k(j)};const S=f[1].defId??f[1].schema.id??`schema${e.counter++}`;return f[1].defId=S,{defId:S,ref:`${k("__shared")}#/${m}/${S}`}}if(f[1]===n)return{ref:"#"};const x=`#/${m}/`,b=f[1].schema.id??`__schema${e.counter++}`;return{defId:b,ref:x+b}},a=f=>{if(f[1].schema.$ref)return;const m=f[1],{ref:g,defId:x}=r(f);m.def={...m.schema},x&&(m.defId=x);const b=m.schema;for(const w in b)delete b[w];b.$ref=g};if(e.cycles==="throw")for(const f of e.seen.entries()){const m=f[1];if(m.cycle)throw new Error(`Cycle detected: #/${(l=m.cycle)==null?void 0:l.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of e.seen.entries()){const m=f[1];if(t===f[0]){a(f);continue}if(e.external){const x=(u=e.external.registry.get(f[0]))==null?void 0:u.id;if(t!==f[0]&&x){a(f);continue}}if((d=e.metadataRegistry.get(f[0]))==null?void 0:d.id){a(f);continue}if(m.cycle){a(f);continue}if(m.count>1&&e.reused==="ref"){a(f);continue}}}function GB(e,t){var o,l,u;const n=e.seen.get(t);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const s=d=>{const f=e.seen.get(d);if(f.ref===null)return;const m=f.def??f.schema,g={...m},x=f.ref;if(f.ref=null,x){s(x);const w=e.seen.get(x),j=w.schema;if(j.$ref&&(e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0")?(m.allOf=m.allOf??[],m.allOf.push(j)):Object.assign(m,j),Object.assign(m,g),d._zod.parent===x)for(const S in m)S==="$ref"||S==="allOf"||S in g||delete m[S];if(j.$ref&&w.def)for(const S in m)S==="$ref"||S==="allOf"||S in w.def&&JSON.stringify(m[S])===JSON.stringify(w.def[S])&&delete m[S]}const b=d._zod.parent;if(b&&b!==x){s(b);const w=e.seen.get(b);if(w!=null&&w.schema.$ref&&(m.$ref=w.schema.$ref,w.def))for(const j in m)j==="$ref"||j==="allOf"||j in w.def&&JSON.stringify(m[j])===JSON.stringify(w.def[j])&&delete m[j]}e.override({zodSchema:d,jsonSchema:m,path:f.path??[]})};for(const d of[...e.seen.entries()].reverse())s(d[0]);const r={};if(e.target==="draft-2020-12"?r.$schema="https://json-schema.org/draft/2020-12/schema":e.target==="draft-07"?r.$schema="http://json-schema.org/draft-07/schema#":e.target==="draft-04"?r.$schema="http://json-schema.org/draft-04/schema#":e.target,(o=e.external)!=null&&o.uri){const d=(l=e.external.registry.get(t))==null?void 0:l.id;if(!d)throw new Error("Schema is missing an `id` property");r.$id=e.external.uri(d)}Object.assign(r,n.def??n.schema);const a=((u=e.external)==null?void 0:u.defs)??{};for(const d of e.seen.entries()){const f=d[1];f.def&&f.defId&&(a[f.defId]=f.def)}e.external||Object.keys(a).length>0&&(e.target==="draft-2020-12"?r.$defs=a:r.definitions=a);try{const d=JSON.parse(JSON.stringify(r));return Object.defineProperty(d,"~standard",{value:{...t["~standard"],jsonSchema:{input:ry(t,"input",e.processors),output:ry(t,"output",e.processors)}},enumerable:!1,writable:!1}),d}catch{throw new Error("Error converting schema to JSON.")}}function xr(e,t){const n=t??{seen:new Set};if(n.seen.has(e))return!1;n.seen.add(e);const s=e._zod.def;if(s.type==="transform")return!0;if(s.type==="array")return xr(s.element,n);if(s.type==="set")return xr(s.valueType,n);if(s.type==="lazy")return xr(s.getter(),n);if(s.type==="promise"||s.type==="optional"||s.type==="nonoptional"||s.type==="nullable"||s.type==="readonly"||s.type==="default"||s.type==="prefault")return xr(s.innerType,n);if(s.type==="intersection")return xr(s.left,n)||xr(s.right,n);if(s.type==="record"||s.type==="map")return xr(s.keyType,n)||xr(s.valueType,n);if(s.type==="pipe")return xr(s.in,n)||xr(s.out,n);if(s.type==="object"){for(const r in s.shape)if(xr(s.shape[r],n))return!0;return!1}if(s.type==="union"){for(const r of s.options)if(xr(r,n))return!0;return!1}if(s.type==="tuple"){for(const r of s.items)if(xr(r,n))return!0;return!!(s.rest&&xr(s.rest,n))}return!1}const zke=(e,t={})=>n=>{const s=WB({...n,processors:t});return sr(e,s),KB(s,e),GB(s,e)},ry=(e,t,n={})=>s=>{const{libraryOptions:r,target:a}=s??{},o=WB({...r??{},target:a,io:t,processors:n});return sr(e,o),KB(o,e),GB(o,e)},Ake={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Mke=(e,t,n,s)=>{const r=n;r.type="string";const{minimum:a,maximum:o,format:l,patterns:u,contentEncoding:d}=e._zod.bag;if(typeof a=="number"&&(r.minLength=a),typeof o=="number"&&(r.maxLength=o),l&&(r.format=Ake[l]??l,r.format===""&&delete r.format,l==="time"&&delete r.format),d&&(r.contentEncoding=d),u&&u.size>0){const f=[...u];f.length===1?r.pattern=f[0].source:f.length>1&&(r.allOf=[...f.map(m=>({...t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0"?{type:"string"}:{},pattern:m.source}))])}},Rke=(e,t,n,s)=>{const r=n,{minimum:a,maximum:o,format:l,multipleOf:u,exclusiveMaximum:d,exclusiveMinimum:f}=e._zod.bag;typeof l=="string"&&l.includes("int")?r.type="integer":r.type="number",typeof f=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.minimum=f,r.exclusiveMinimum=!0):r.exclusiveMinimum=f),typeof a=="number"&&(r.minimum=a,typeof f=="number"&&t.target!=="draft-04"&&(f>=a?delete r.minimum:delete r.exclusiveMinimum)),typeof d=="number"&&(t.target==="draft-04"||t.target==="openapi-3.0"?(r.maximum=d,r.exclusiveMaximum=!0):r.exclusiveMaximum=d),typeof o=="number"&&(r.maximum=o,typeof d=="number"&&t.target!=="draft-04"&&(d<=o?delete r.maximum:delete r.exclusiveMaximum)),typeof u=="number"&&(r.multipleOf=u)},Oke=(e,t,n,s)=>{n.type="boolean"},Dke=(e,t,n,s)=>{n.not={}},Pke=(e,t,n,s)=>{},Ike=(e,t,n,s)=>{const r=e._zod.def,a=_B(r.entries);a.every(o=>typeof o=="number")&&(n.type="number"),a.every(o=>typeof o=="string")&&(n.type="string"),n.enum=a},Lke=(e,t,n,s)=>{const r=e._zod.def,a=[];for(const o of r.values)if(o===void 0){if(t.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof o=="bigint"){if(t.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(o))}else a.push(o);if(a.length!==0)if(a.length===1){const o=a[0];n.type=o===null?"null":typeof o,t.target==="draft-04"||t.target==="openapi-3.0"?n.enum=[o]:n.const=o}else a.every(o=>typeof o=="number")&&(n.type="number"),a.every(o=>typeof o=="string")&&(n.type="string"),a.every(o=>typeof o=="boolean")&&(n.type="boolean"),a.every(o=>o===null)&&(n.type="null"),n.enum=a},$ke=(e,t,n,s)=>{if(t.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},Vke=(e,t,n,s)=>{if(t.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},Bke=(e,t,n,s)=>{const r=n,a=e._zod.def,{minimum:o,maximum:l}=e._zod.bag;typeof o=="number"&&(r.minItems=o),typeof l=="number"&&(r.maxItems=l),r.type="array",r.items=sr(a.element,t,{...s,path:[...s.path,"items"]})},Fke=(e,t,n,s)=>{var d;const r=n,a=e._zod.def;r.type="object",r.properties={};const o=a.shape;for(const f in o)r.properties[f]=sr(o[f],t,{...s,path:[...s.path,"properties",f]});const l=new Set(Object.keys(o)),u=new Set([...l].filter(f=>{const m=a.shape[f]._zod;return t.io==="input"?m.optin===void 0:m.optout===void 0}));u.size>0&&(r.required=Array.from(u)),((d=a.catchall)==null?void 0:d._zod.def.type)==="never"?r.additionalProperties=!1:a.catchall?a.catchall&&(r.additionalProperties=sr(a.catchall,t,{...s,path:[...s.path,"additionalProperties"]})):t.io==="output"&&(r.additionalProperties=!1)},Uke=(e,t,n,s)=>{const r=e._zod.def,a=r.inclusive===!1,o=r.options.map((l,u)=>sr(l,t,{...s,path:[...s.path,a?"oneOf":"anyOf",u]}));a?n.oneOf=o:n.anyOf=o},Hke=(e,t,n,s)=>{const r=e._zod.def,a=sr(r.left,t,{...s,path:[...s.path,"allOf",0]}),o=sr(r.right,t,{...s,path:[...s.path,"allOf",1]}),l=d=>"allOf"in d&&Object.keys(d).length===1,u=[...l(a)?a.allOf:[a],...l(o)?o.allOf:[o]];n.allOf=u},qke=(e,t,n,s)=>{const r=e._zod.def,a=sr(r.innerType,t,s),o=t.seen.get(e);t.target==="openapi-3.0"?(o.ref=r.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},Zke=(e,t,n,s)=>{const r=e._zod.def;sr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType},Wke=(e,t,n,s)=>{const r=e._zod.def;sr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType,n.default=JSON.parse(JSON.stringify(r.defaultValue))},Kke=(e,t,n,s)=>{const r=e._zod.def;sr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType,t.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(r.defaultValue)))},Gke=(e,t,n,s)=>{const r=e._zod.def;sr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType;let o;try{o=r.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=o},Yke=(e,t,n,s)=>{const r=e._zod.def,a=t.io==="input"?r.in._zod.def.type==="transform"?r.out:r.in:r.out;sr(a,t,s);const o=t.seen.get(e);o.ref=a},Jke=(e,t,n,s)=>{const r=e._zod.def;sr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType,n.readOnly=!0},YB=(e,t,n,s)=>{const r=e._zod.def;sr(r.innerType,t,s);const a=t.seen.get(e);a.ref=r.innerType},Xke=Ne("ZodISODateTime",(e,t)=>{tje.init(e,t),qn.init(e,t)});function Qke(e){return ake(Xke,e)}const eNe=Ne("ZodISODate",(e,t)=>{nje.init(e,t),qn.init(e,t)});function tNe(e){return oke(eNe,e)}const nNe=Ne("ZodISOTime",(e,t)=>{sje.init(e,t),qn.init(e,t)});function sNe(e){return lke(nNe,e)}const rNe=Ne("ZodISODuration",(e,t)=>{rje.init(e,t),qn.init(e,t)});function iNe(e){return cke(rNe,e)}const aNe=(e,t)=>{AB.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>W1e(e,n)},flatten:{value:n=>Z1e(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,eS,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,eS,2)}},isEmpty:{get(){return e.issues.length===0}}})},Ui=Ne("ZodError",aNe,{Parent:Error}),oNe=yE(Ui),lNe=bE(Ui),cNe=Zb(Ui),uNe=Wb(Ui),dNe=Y1e(Ui),hNe=J1e(Ui),fNe=X1e(Ui),mNe=Q1e(Ui),pNe=ewe(Ui),gNe=twe(Ui),xNe=nwe(Ui),vNe=swe(Ui),is=Ne("ZodType",(e,t)=>(rs.init(e,t),Object.assign(e["~standard"],{jsonSchema:{input:ry(e,"input"),output:ry(e,"output")}}),e.toJSONSchema=zke(e,{}),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone(hc(t,{checks:[...t.checks??[],...n.map(s=>typeof s=="function"?{_zod:{check:s,def:{check:"custom"},onattach:[]}}:s)]}),{parent:!0}),e.with=e.check,e.clone=(n,s)=>fc(e,n,s),e.brand=()=>e,e.register=((n,s)=>(n.add(e,s),e)),e.parse=(n,s)=>oNe(e,n,s,{callee:e.parse}),e.safeParse=(n,s)=>cNe(e,n,s),e.parseAsync=async(n,s)=>lNe(e,n,s,{callee:e.parseAsync}),e.safeParseAsync=async(n,s)=>uNe(e,n,s),e.spa=e.safeParseAsync,e.encode=(n,s)=>dNe(e,n,s),e.decode=(n,s)=>hNe(e,n,s),e.encodeAsync=async(n,s)=>fNe(e,n,s),e.decodeAsync=async(n,s)=>mNe(e,n,s),e.safeEncode=(n,s)=>pNe(e,n,s),e.safeDecode=(n,s)=>gNe(e,n,s),e.safeEncodeAsync=async(n,s)=>xNe(e,n,s),e.safeDecodeAsync=async(n,s)=>vNe(e,n,s),e.refine=(n,s)=>e.check(p2e(n,s)),e.superRefine=n=>e.check(g2e(n)),e.overwrite=n=>e.check(lf(n)),e.optional=()=>DO(e),e.exactOptional=()=>n2e(e),e.nullable=()=>PO(e),e.nullish=()=>DO(PO(e)),e.nonoptional=n=>l2e(e,n),e.array=()=>HNe(e),e.or=n=>ZNe([e,n]),e.and=n=>YNe(e,n),e.transform=n=>IO(e,e2e(n)),e.default=n=>i2e(e,n),e.prefault=n=>o2e(e,n),e.catch=n=>u2e(e,n),e.pipe=n=>IO(e,n),e.readonly=()=>f2e(e),e.describe=n=>{const s=e.clone();return _m.add(s,{description:n}),s},Object.defineProperty(e,"description",{get(){var n;return(n=_m.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return _m.get(e);const s=e.clone();return _m.add(s,n[0]),s},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e.apply=n=>n(e),e)),JB=Ne("_ZodString",(e,t)=>{wE.init(e,t),is.init(e,t),e._zod.processJSONSchema=(s,r,a)=>Mke(e,s,r);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...s)=>e.check(pke(...s)),e.includes=(...s)=>e.check(vke(...s)),e.startsWith=(...s)=>e.check(yke(...s)),e.endsWith=(...s)=>e.check(bke(...s)),e.min=(...s)=>e.check(sy(...s)),e.max=(...s)=>e.check(qB(...s)),e.length=(...s)=>e.check(ZB(...s)),e.nonempty=(...s)=>e.check(sy(1,...s)),e.lowercase=s=>e.check(gke(s)),e.uppercase=s=>e.check(xke(s)),e.trim=()=>e.check(jke()),e.normalize=(...s)=>e.check(wke(...s)),e.toLowerCase=()=>e.check(kke()),e.toUpperCase=()=>e.check(Nke()),e.slugify=()=>e.check(Ske())}),yNe=Ne("ZodString",(e,t)=>{wE.init(e,t),JB.init(e,t),e.email=n=>e.check($je(bNe,n)),e.url=n=>e.check(Hje(wNe,n)),e.jwt=n=>e.check(ike(PNe,n)),e.emoji=n=>e.check(qje(jNe,n)),e.guid=n=>e.check(EO(MO,n)),e.uuid=n=>e.check(Vje(S0,n)),e.uuidv4=n=>e.check(Bje(S0,n)),e.uuidv6=n=>e.check(Fje(S0,n)),e.uuidv7=n=>e.check(Uje(S0,n)),e.nanoid=n=>e.check(Zje(kNe,n)),e.guid=n=>e.check(EO(MO,n)),e.cuid=n=>e.check(Wje(NNe,n)),e.cuid2=n=>e.check(Kje(SNe,n)),e.ulid=n=>e.check(Gje(_Ne,n)),e.base64=n=>e.check(nke(RNe,n)),e.base64url=n=>e.check(ske(ONe,n)),e.xid=n=>e.check(Yje(CNe,n)),e.ksuid=n=>e.check(Jje(ENe,n)),e.ipv4=n=>e.check(Xje(TNe,n)),e.ipv6=n=>e.check(Qje(zNe,n)),e.cidrv4=n=>e.check(eke(ANe,n)),e.cidrv6=n=>e.check(tke(MNe,n)),e.e164=n=>e.check(rke(DNe,n)),e.datetime=n=>e.check(Qke(n)),e.date=n=>e.check(tNe(n)),e.time=n=>e.check(sNe(n)),e.duration=n=>e.check(iNe(n))});function Qn(e){return Lje(yNe,e)}const qn=Ne("ZodStringFormat",(e,t)=>{Vn.init(e,t),JB.init(e,t)}),bNe=Ne("ZodEmail",(e,t)=>{Zwe.init(e,t),qn.init(e,t)}),MO=Ne("ZodGUID",(e,t)=>{Hwe.init(e,t),qn.init(e,t)}),S0=Ne("ZodUUID",(e,t)=>{qwe.init(e,t),qn.init(e,t)}),wNe=Ne("ZodURL",(e,t)=>{Wwe.init(e,t),qn.init(e,t)}),jNe=Ne("ZodEmoji",(e,t)=>{Kwe.init(e,t),qn.init(e,t)}),kNe=Ne("ZodNanoID",(e,t)=>{Gwe.init(e,t),qn.init(e,t)}),NNe=Ne("ZodCUID",(e,t)=>{Ywe.init(e,t),qn.init(e,t)}),SNe=Ne("ZodCUID2",(e,t)=>{Jwe.init(e,t),qn.init(e,t)}),_Ne=Ne("ZodULID",(e,t)=>{Xwe.init(e,t),qn.init(e,t)}),CNe=Ne("ZodXID",(e,t)=>{Qwe.init(e,t),qn.init(e,t)}),ENe=Ne("ZodKSUID",(e,t)=>{eje.init(e,t),qn.init(e,t)}),TNe=Ne("ZodIPv4",(e,t)=>{ije.init(e,t),qn.init(e,t)}),zNe=Ne("ZodIPv6",(e,t)=>{aje.init(e,t),qn.init(e,t)}),ANe=Ne("ZodCIDRv4",(e,t)=>{oje.init(e,t),qn.init(e,t)}),MNe=Ne("ZodCIDRv6",(e,t)=>{lje.init(e,t),qn.init(e,t)}),RNe=Ne("ZodBase64",(e,t)=>{cje.init(e,t),qn.init(e,t)}),ONe=Ne("ZodBase64URL",(e,t)=>{dje.init(e,t),qn.init(e,t)}),DNe=Ne("ZodE164",(e,t)=>{hje.init(e,t),qn.init(e,t)}),PNe=Ne("ZodJWT",(e,t)=>{mje.init(e,t),qn.init(e,t)}),XB=Ne("ZodNumber",(e,t)=>{VB.init(e,t),is.init(e,t),e._zod.processJSONSchema=(s,r,a)=>Rke(e,s,r),e.gt=(s,r)=>e.check(zO(s,r)),e.gte=(s,r)=>e.check(Yk(s,r)),e.min=(s,r)=>e.check(Yk(s,r)),e.lt=(s,r)=>e.check(TO(s,r)),e.lte=(s,r)=>e.check(Gk(s,r)),e.max=(s,r)=>e.check(Gk(s,r)),e.int=s=>e.check(RO(s)),e.safe=s=>e.check(RO(s)),e.positive=s=>e.check(zO(0,s)),e.nonnegative=s=>e.check(Yk(0,s)),e.negative=s=>e.check(TO(0,s)),e.nonpositive=s=>e.check(Gk(0,s)),e.multipleOf=(s,r)=>e.check(AO(s,r)),e.step=(s,r)=>e.check(AO(s,r)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function nS(e){return uke(XB,e)}const INe=Ne("ZodNumberFormat",(e,t)=>{pje.init(e,t),XB.init(e,t)});function RO(e){return dke(INe,e)}const LNe=Ne("ZodBoolean",(e,t)=>{gje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Oke(e,n,s)});function $Ne(e){return hke(LNe,e)}const VNe=Ne("ZodUnknown",(e,t)=>{xje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Pke()});function OO(){return fke(VNe)}const BNe=Ne("ZodNever",(e,t)=>{vje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Dke(e,n,s)});function FNe(e){return mke(BNe,e)}const UNe=Ne("ZodArray",(e,t)=>{yje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Bke(e,n,s,r),e.element=t.element,e.min=(n,s)=>e.check(sy(n,s)),e.nonempty=n=>e.check(sy(1,n)),e.max=(n,s)=>e.check(qB(n,s)),e.length=(n,s)=>e.check(ZB(n,s)),e.unwrap=()=>e.element});function HNe(e,t){return _ke(UNe,e,t)}const qNe=Ne("ZodObject",(e,t)=>{wje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Fke(e,n,s,r),ln(e,"shape",()=>t.shape),e.keyof=()=>JNe(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:OO()}),e.loose=()=>e.clone({...e._zod.def,catchall:OO()}),e.strict=()=>e.clone({...e._zod.def,catchall:FNe()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>B1e(e,n),e.safeExtend=n=>F1e(e,n),e.merge=n=>U1e(e,n),e.pick=n=>$1e(e,n),e.omit=n=>V1e(e,n),e.partial=(...n)=>H1e(eF,e,n[0]),e.required=(...n)=>q1e(tF,e,n[0])});function Ra(e,t){const n={type:"object",shape:e??{},...ht(t)};return new qNe(n)}const QB=Ne("ZodUnion",(e,t)=>{UB.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Uke(e,n,s,r),e.options=t.options});function ZNe(e,t){return new QB({type:"union",options:e,...ht(t)})}const WNe=Ne("ZodDiscriminatedUnion",(e,t)=>{QB.init(e,t),jje.init(e,t)});function KNe(e,t,n){return new WNe({type:"union",options:t,discriminator:e,...ht(n)})}const GNe=Ne("ZodIntersection",(e,t)=>{kje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Hke(e,n,s,r)});function YNe(e,t){return new GNe({type:"intersection",left:e,right:t})}const sS=Ne("ZodEnum",(e,t)=>{Nje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(s,r,a)=>Ike(e,s,r),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(s,r)=>{const a={};for(const o of s)if(n.has(o))a[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new sS({...t,checks:[],...ht(r),entries:a})},e.exclude=(s,r)=>{const a={...t.entries};for(const o of s)if(n.has(o))delete a[o];else throw new Error(`Key ${o} not found in enum`);return new sS({...t,checks:[],...ht(r),entries:a})}});function JNe(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(s=>[s,s])):e;return new sS({type:"enum",entries:n,...ht(t)})}const XNe=Ne("ZodLiteral",(e,t)=>{Sje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Lke(e,n,s),e.values=new Set(t.values),Object.defineProperty(e,"value",{get(){if(t.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return t.values[0]}})});function jE(e,t){return new XNe({type:"literal",values:Array.isArray(e)?e:[e],...ht(t)})}const QNe=Ne("ZodTransform",(e,t)=>{_je.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Vke(e,n),e._zod.parse=(n,s)=>{if(s.direction==="backward")throw new NB(e.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(zp(a,n.value,t));else{const o=a;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(zp(o))}};const r=t.transform(n.value,n);return r instanceof Promise?r.then(a=>(n.value=a,n)):(n.value=r,n)}});function e2e(e){return new QNe({type:"transform",transform:e})}const eF=Ne("ZodOptional",(e,t)=>{HB.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>YB(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function DO(e){return new eF({type:"optional",innerType:e})}const t2e=Ne("ZodExactOptional",(e,t)=>{Cje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>YB(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function n2e(e){return new t2e({type:"optional",innerType:e})}const s2e=Ne("ZodNullable",(e,t)=>{Eje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>qke(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function PO(e){return new s2e({type:"nullable",innerType:e})}const r2e=Ne("ZodDefault",(e,t)=>{Tje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Wke(e,n,s,r),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function i2e(e,t){return new r2e({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():EB(t)}})}const a2e=Ne("ZodPrefault",(e,t)=>{zje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Kke(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function o2e(e,t){return new a2e({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():EB(t)}})}const tF=Ne("ZodNonOptional",(e,t)=>{Aje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Zke(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function l2e(e,t){return new tF({type:"nonoptional",innerType:e,...ht(t)})}const c2e=Ne("ZodCatch",(e,t)=>{Mje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Gke(e,n,s,r),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function u2e(e,t){return new c2e({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const d2e=Ne("ZodPipe",(e,t)=>{Rje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Yke(e,n,s,r),e.in=t.in,e.out=t.out});function IO(e,t){return new d2e({type:"pipe",in:e,out:t})}const h2e=Ne("ZodReadonly",(e,t)=>{Oje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>Jke(e,n,s,r),e.unwrap=()=>e._zod.def.innerType});function f2e(e){return new h2e({type:"readonly",innerType:e})}const m2e=Ne("ZodCustom",(e,t)=>{Dje.init(e,t),is.init(e,t),e._zod.processJSONSchema=(n,s,r)=>$ke(e,n)});function p2e(e,t={}){return Cke(m2e,e,t)}function g2e(e){return Eke(e)}const nF=v.forwardRef(({min:e=1,max:t=99,defaultValue:n=1,onValueChange:s,className:r,inputProps:a},o)=>{const[l,u]=v.useState(n),d=()=>{const g=Math.min(l+1,t);u(g),s==null||s(g)},f=()=>{const g=Math.max(l-1,e);u(g),s==null||s(g)},m=g=>{const x=parseInt(g.target.value)||e,b=Math.max(e,Math.min(t,x));u(b),s==null||s(b)};return v.useEffect(()=>{(a==null?void 0:a.value)!==void 0&&u(Number(a.value))},[a==null?void 0:a.value]),i.jsxs("div",{className:se("flex items-center",r),children:[i.jsx(X,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 rounded-r-none",onClick:f,disabled:l<=e,children:i.jsx(mb,{className:"h-4 w-4"})}),i.jsx(Pe,{ref:o,type:"number",min:e,max:t,value:l,onChange:m,className:"h-10 w-16 rounded-none border-x-0 text-center [appearance:textfield] [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none",...a}),i.jsx(X,{type:"button",variant:"outline",size:"icon",className:"h-10 w-10 rounded-l-none",onClick:d,disabled:l>=t,children:i.jsx(ds,{className:"h-4 w-4"})})]})});nF.displayName="QuantityInput";var Gb="Checkbox",[x2e]=fr(Gb),[v2e,kE]=x2e(Gb);function y2e(e){const{__scopeCheckbox:t,checked:n,children:s,defaultChecked:r,disabled:a,form:o,name:l,onCheckedChange:u,required:d,value:f="on",internal_do_not_use_render:m}=e,[g,x]=Fr({prop:n,defaultProp:r??!1,onChange:u,caller:Gb}),[b,w]=v.useState(null),[j,k]=v.useState(null),S=v.useRef(!1),C=b?!!o||!!b.closest("form"):!0,E={checked:g,disabled:a,setChecked:x,control:b,setControl:w,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:S,required:d,defaultChecked:ql(r)?!1:r,isFormControl:C,bubbleInput:j,setBubbleInput:k};return i.jsx(v2e,{scope:t,...E,children:b2e(m)?m(E):s})}var sF="CheckboxTrigger",rF=v.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...s},r)=>{const{control:a,value:o,disabled:l,checked:u,required:d,setControl:f,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:x,bubbleInput:b}=kE(sF,e),w=St(r,f),j=v.useRef(u);return v.useEffect(()=>{const k=a==null?void 0:a.form;if(k){const S=()=>m(j.current);return k.addEventListener("reset",S),()=>k.removeEventListener("reset",S)}},[a,m]),i.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":ql(u)?"mixed":u,"aria-required":d,"data-state":cF(u),"data-disabled":l?"":void 0,disabled:l,value:o,...s,ref:w,onKeyDown:Ie(t,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:Ie(n,k=>{m(S=>ql(S)?!0:!S),b&&x&&(g.current=k.isPropagationStopped(),g.current||k.stopPropagation())})})});rF.displayName=sF;var NE=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:r,defaultChecked:a,required:o,disabled:l,value:u,onCheckedChange:d,form:f,...m}=e;return i.jsx(y2e,{__scopeCheckbox:n,checked:r,defaultChecked:a,disabled:l,required:o,onCheckedChange:d,name:s,form:f,value:u,internal_do_not_use_render:({isFormControl:g})=>i.jsxs(i.Fragment,{children:[i.jsx(rF,{...m,ref:t,__scopeCheckbox:n}),g&&i.jsx(lF,{__scopeCheckbox:n})]})})});NE.displayName=Gb;var iF="CheckboxIndicator",aF=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...r}=e,a=kE(iF,n);return i.jsx(ss,{present:s||ql(a.checked)||a.checked===!0,children:i.jsx(Xe.span,{"data-state":cF(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t,style:{pointerEvents:"none",...e.style}})})});aF.displayName=iF;var oF="CheckboxBubbleInput",lF=v.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:s,hasConsumerStoppedPropagationRef:r,checked:a,defaultChecked:o,required:l,disabled:u,name:d,value:f,form:m,bubbleInput:g,setBubbleInput:x}=kE(oF,e),b=St(n,x),w=Tb(a),j=jC(s);v.useEffect(()=>{const S=g;if(!S)return;const C=window.HTMLInputElement.prototype,z=Object.getOwnPropertyDescriptor(C,"checked").set,R=!r.current;if(w!==a&&z){const T=new Event("click",{bubbles:R});S.indeterminate=ql(a),z.call(S,ql(a)?!1:a),S.dispatchEvent(T)}},[g,w,a,r]);const k=v.useRef(ql(a)?!1:a);return i.jsx(Xe.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??k.current,required:l,disabled:u,name:d,value:f,form:m,...t,tabIndex:-1,ref:b,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});lF.displayName=oF;function b2e(e){return typeof e=="function"}function ql(e){return e==="indeterminate"}function cF(e){return ql(e)?"indeterminate":e?"checked":"unchecked"}const Cg=v.forwardRef(({className:e,...t},n)=>i.jsx(NE,{ref:n,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:i.jsx(aF,{className:se("flex items-center justify-center text-current"),children:i.jsx(Va,{className:"h-4 w-4"})})}));Cg.displayName=NE.displayName;var SE="Radio",[w2e,uF]=fr(SE),[j2e,k2e]=w2e(SE),dF=v.forwardRef((e,t)=>{const{__scopeRadio:n,name:s,checked:r=!1,required:a,disabled:o,value:l="on",onCheck:u,form:d,...f}=e,[m,g]=v.useState(null),x=St(t,j=>g(j)),b=v.useRef(!1),w=m?d||!!m.closest("form"):!0;return i.jsxs(j2e,{scope:n,checked:r,disabled:o,children:[i.jsx(Xe.button,{type:"button",role:"radio","aria-checked":r,"data-state":pF(r),"data-disabled":o?"":void 0,disabled:o,value:l,...f,ref:x,onClick:Ie(e.onClick,j=>{r||u==null||u(),w&&(b.current=j.isPropagationStopped(),b.current||j.stopPropagation())})}),w&&i.jsx(mF,{control:m,bubbles:!b.current,name:s,value:l,checked:r,required:a,disabled:o,form:d,style:{transform:"translateX(-100%)"}})]})});dF.displayName=SE;var hF="RadioIndicator",fF=v.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:s,...r}=e,a=k2e(hF,n);return i.jsx(ss,{present:s||a.checked,children:i.jsx(Xe.span,{"data-state":pF(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})})});fF.displayName=hF;var N2e="RadioBubbleInput",mF=v.forwardRef(({__scopeRadio:e,control:t,checked:n,bubbles:s=!0,...r},a)=>{const o=v.useRef(null),l=St(o,a),u=Tb(n),d=jC(t);return v.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&x){const b=new Event("click",{bubbles:s});x.call(f,n),f.dispatchEvent(b)}},[u,n,s]),i.jsx(Xe.input,{type:"radio","aria-hidden":!0,defaultChecked:n,...r,tabIndex:-1,ref:l,style:{...r.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});mF.displayName=N2e;function pF(e){return e?"checked":"unchecked"}var S2e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yb="RadioGroup",[_2e]=fr(Yb,[af,uF]),gF=af(),xF=uF(),[C2e,E2e]=_2e(Yb),vF=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:s,defaultValue:r,value:a,required:o=!1,disabled:l=!1,orientation:u,dir:d,loop:f=!0,onValueChange:m,...g}=e,x=gF(n),b=lc(d),[w,j]=Fr({prop:a,defaultProp:r??null,onChange:m,caller:Yb});return i.jsx(C2e,{scope:n,name:s,required:o,disabled:l,value:w,onValueChange:j,children:i.jsx(TC,{asChild:!0,...x,orientation:u,dir:b,loop:f,children:i.jsx(Xe.div,{role:"radiogroup","aria-required":o,"aria-orientation":u,"data-disabled":l?"":void 0,dir:b,...g,ref:t})})})});vF.displayName=Yb;var yF="RadioGroupItem",bF=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:s,...r}=e,a=E2e(yF,n),o=a.disabled||s,l=gF(n),u=xF(n),d=v.useRef(null),f=St(t,d),m=a.value===r.value,g=v.useRef(!1);return v.useEffect(()=>{const x=w=>{S2e.includes(w.key)&&(g.current=!0)},b=()=>g.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",b)}},[]),i.jsx(zC,{asChild:!0,...l,focusable:!o,active:m,children:i.jsx(dF,{disabled:o,required:a.required,checked:m,...u,...r,name:a.name,ref:f,onCheck:()=>a.onValueChange(r.value),onKeyDown:Ie(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:Ie(r.onFocus,()=>{var x;g.current&&((x=d.current)==null||x.click())})})})});bF.displayName=yF;var T2e="RadioGroupIndicator",wF=v.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...s}=e,r=xF(n);return i.jsx(fF,{...r,...s,ref:t})});wF.displayName=T2e;var z2e=vF,A2e=bF,M2e=wF;function jF({className:e,...t}){return i.jsx(z2e,{"data-slot":"radio-group",className:se("grid gap-3",e),...t})}function bh({className:e,...t}){return i.jsx(A2e,{"data-slot":"radio-group-item",className:se("aspect-square size-4 shrink-0 rounded-full border border-input shadow-xs outline-none transition-shadow focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:cursor-not-allowed disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 data-[state=checked]:border-primary data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:aria-invalid:ring-destructive/40",e),...t,children:i.jsx(M2e,{className:"flex items-center justify-center text-current",children:i.jsx("svg",{width:"6",height:"6",viewBox:"0 0 6 6",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("circle",{cx:"3",cy:"3",r:"3"})})})})}const mu={creditCard:"creditCard",paypal:"paypal",onlineBankTransfer:"onlineBankTransfer"},R2e=Ra({method:jE(mu.creditCard),cardholderName:Qn(),cardNumber:Qn(),expiryDate:Qn().regex(/^(0[1-9]|1[0-2])\/\d{2}$/,"Neplatny format (MM/RR)").refine(e=>{const[t,n]=e.split("/").map(Number),s=new Date,r=s.getMonth()+1,a=s.getFullYear()%100;return!(n<a||n===a&&t<r)},"Platnost karty vyprsela"),cvc:Qn()}),O2e=Ra({method:jE(mu.paypal),payPalEmail:Qn()}),D2e=Ra({method:jE(mu.onlineBankTransfer),bankName:Qn(),accountNumber:Qn()}),P2e=KNe("method",[R2e,O2e,D2e]),I2e=Ra({contactInfo:Ra({email:Qn(),subscribe:$Ne().optional()}),address:Ra({country:Qn(),firstName:Qn(),lastName:Qn(),address:Qn(),postalCode:Qn(),city:Qn(),phone:Qn()}),shippingMethod:Qn(),payment:P2e,products:Ra({slug:Qn(),quantity:nS(),price:nS()}).array()});function su(e){return new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}function L2e(e,t){return t?t.discountType==="percentage"?Math.round(e*(t.discountValue/100)):Math.min(t.discountValue,e):0}function $2e(){const{items:e,removeItem:t,updateQuantity:n,subtotal:s,itemCount:r}=rg(),a=Yt(),[o,l]=v.useState(null),u=e.map(m=>({slug:m.slug,quantity:m.quantity,price:m.price})),d=_g({resolver:Hb(I2e),defaultValues:{payment:{method:mu.creditCard},products:u}}),f=m=>{a("/potvrzeni-objednavky")};return e.length===0?i.jsx("section",{className:"py-32",children:i.jsxs("div",{className:"mx-auto max-w-lg px-4 text-center",children:[i.jsx("div",{className:"mx-auto mb-6 flex size-16 items-center justify-center rounded-full bg-muted",children:i.jsx(og,{className:"size-8 text-muted-foreground"})}),i.jsx("h1",{className:"mb-4 text-2xl font-semibold",children:"Vas kosik je prazdny"}),i.jsx("p",{className:"mb-8 text-muted-foreground",children:"Vypada to, ze jste jeste nic nepridali."}),i.jsx(X,{asChild:!0,children:i.jsx(Ue,{to:"/obchod",children:"Pokracovat v nakupu"})})]})}):i.jsx("section",{className:"py-16 md:py-24",children:i.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"mb-10 text-center",children:[i.jsx(Ue,{to:"/",className:"inline-block",children:i.jsx("img",{src:"/logo.svg",alt:"Logo",className:"mx-auto h-8"})}),i.jsx("h1",{className:"mt-6 text-3xl font-bold tracking-tight md:text-4xl",children:"Pokladna"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Dokoncete svuj nakup bezpecne"})]}),i.jsx(fV,{...d,children:i.jsx("form",{onSubmit:d.handleSubmit(f),children:i.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-5",children:[i.jsxs("div",{className:"space-y-6 lg:col-span-3",children:[i.jsxs(Re,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Kontaktni udaje"})}),i.jsx(Oe,{children:i.jsx(B2e,{})})]}),i.jsxs(Re,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Dodaci adresa"})}),i.jsx(Oe,{children:i.jsx(F2e,{})})]}),i.jsxs(Re,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Zpusob dopravy"})}),i.jsx(Oe,{children:i.jsx(U2e,{})})]}),i.jsxs(Re,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Platba"})}),i.jsx(Oe,{children:i.jsx(H2e,{})})]}),i.jsx(X,{type:"submit",size:"lg",className:"w-full",children:"Dokoncit objednavku"})]}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"sticky top-8 space-y-4",children:[i.jsx(W2e,{form:d,removeItem:t,updateQuantity:n,subtotal:s,itemCount:r,appliedPromo:o}),i.jsx(V2e,{appliedPromo:o,onApply:l,onRemove:()=>l(null)})]})})]})})})]})})}function V2e({appliedPromo:e,onApply:t,onRemove:n}){const[s,r]=v.useState(""),[a,o]=v.useState(!1),[l,u]=v.useState(""),d=async()=>{const f=s.trim();if(f){o(!0),u("");try{const x=await(await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/validate-shop-promo",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({code:f})})).json();x.valid&&x.promo?(t({code:x.promo.code,discountType:x.promo.discountType,discountValue:x.promo.discountValue}),r(""),u("")):u(x.message||"Neplatny promo kod")}catch{u("Chyba pri overovani kodu")}finally{o(!1)}}};return e?i.jsx(Re,{className:"shadow-none",children:i.jsx(Oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"flex size-8 items-center justify-center rounded-full bg-emerald-100 dark:bg-emerald-900/30",children:i.jsx(Pa,{className:"size-4 text-emerald-600 dark:text-emerald-400"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium",children:["Promo kod:"," ",i.jsx("span",{className:"font-mono",children:e.code})]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sleva"," ",e.discountType==="percentage"?`${e.discountValue}%`:su(e.discountValue)]})]})]}),i.jsx(X,{type:"button",variant:"ghost",size:"icon",className:"size-8",onClick:n,children:i.jsx(Pu,{className:"size-4"})})]})})}):i.jsx(Re,{className:"shadow-none",children:i.jsxs(Oe,{className:"pt-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(bp,{className:"size-4 text-muted-foreground"}),i.jsx("p",{className:"text-sm font-medium",children:"Mate promo kod?"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Pe,{value:s,onChange:f=>{r(f.target.value.toUpperCase()),l&&u("")},onKeyDown:f=>{f.key==="Enter"&&(f.preventDefault(),d())},placeholder:"Zadejte kod",className:"font-mono uppercase",disabled:a}),i.jsx(X,{type:"button",variant:"outline",onClick:d,disabled:a||!s.trim(),className:"shrink-0",children:a?i.jsx(Bl,{className:"size-4 animate-spin"}):"Pouzit"})]}),l&&i.jsx("p",{className:"mt-2 text-xs text-destructive",children:l})]})})}function B2e(){const e=cc();return i.jsxs(iE,{className:"gap-4",children:[i.jsx(wn,{name:"contactInfo.email",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-email",children:"Email"}),i.jsx(Pe,{...t,id:"checkout-email",type:"email",placeholder:"vas@email.cz","aria-invalid":n.invalid}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})}),i.jsx(wn,{name:"contactInfo.subscribe",control:e.control,render:({field:t})=>i.jsxs(Jt,{className:"flex items-center gap-2",children:[i.jsx(Cg,{id:"checkout-subscribe",name:t.name,checked:t.value,onCheckedChange:t.onChange}),i.jsx(mn,{htmlFor:"checkout-subscribe",className:"font-normal",children:"Posilejte mi novinky a nabidky"})]})})]})}function F2e(){const e=cc();return i.jsxs(iE,{className:"gap-4",children:[i.jsx(wn,{name:"address.country",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-country",children:"Zeme"}),i.jsx(Pe,{...t,id:"checkout-country","aria-invalid":n.invalid}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsx(wn,{name:"address.firstName",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-firstName",children:"Jmeno"}),i.jsx(Pe,{...t,id:"checkout-firstName","aria-invalid":n.invalid}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})}),i.jsx(wn,{name:"address.lastName",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-lastName",children:"Prijmeni"}),i.jsx(Pe,{...t,id:"checkout-lastName","aria-invalid":n.invalid}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})})]}),i.jsx(wn,{name:"address.address",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-address",children:"Adresa"}),i.jsx(Pe,{...t,id:"checkout-address","aria-invalid":n.invalid}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsx(wn,{name:"address.postalCode",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-postalCode",children:"PSC"}),i.jsx(Pe,{...t,id:"checkout-postalCode","aria-invalid":n.invalid}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})}),i.jsx(wn,{name:"address.city",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-city",children:"Mesto"}),i.jsx(Pe,{...t,id:"checkout-city","aria-invalid":n.invalid}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})})]}),i.jsx(wn,{name:"address.phone",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-phone",children:"Telefon"}),i.jsx(Pe,{...t,id:"checkout-phone","aria-invalid":n.invalid}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})})]})}function U2e(){const e=cc();return i.jsx(wn,{name:"shippingMethod",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{children:[i.jsxs(jF,{name:t.name,value:t.value,onValueChange:t.onChange,className:"gap-3",children:[i.jsx(mn,{htmlFor:"checkout-shippingMethod-1",children:i.jsxs(Jt,{"data-invalid":n.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(bh,{value:"zasilkovna",id:"checkout-shippingMethod-1"}),i.jsxs(du,{className:"flex-1",children:[i.jsx(hu,{children:"Zasilkovna"}),i.jsx(ov,{children:"Doruceni: 2-3 pracovni dny"})]}),i.jsx("p",{className:"text-sm font-medium",children:"89 Kc"})]})}),i.jsx(mn,{htmlFor:"checkout-shippingMethod-2",children:i.jsxs(Jt,{"data-invalid":n.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(bh,{value:"ppl",id:"checkout-shippingMethod-2"}),i.jsxs(du,{className:"flex-1",children:[i.jsx(hu,{children:"PPL"}),i.jsx(ov,{children:"Doruceni: 1-2 pracovni dny"})]}),i.jsx("p",{className:"text-sm font-medium",children:"149 Kc"})]})}),i.jsx(mn,{htmlFor:"checkout-shippingMethod-3",children:i.jsxs(Jt,{"data-invalid":n.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(bh,{value:"ceska-posta",id:"checkout-shippingMethod-3"}),i.jsxs(du,{className:"flex-1",children:[i.jsx(hu,{children:"Ceska posta"}),i.jsx(ov,{children:"Doruceni: 3-5 pracovnich dnu"})]}),i.jsx("p",{className:"text-sm font-medium",children:"69 Kc"})]})})]}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})})}function H2e(){const e=cc(),t=e.watch("payment.method");return i.jsxs("div",{className:"space-y-6",children:[i.jsx(wn,{name:"payment.method",control:e.control,render:({field:n,fieldState:s})=>i.jsxs(Jt,{children:[i.jsxs(jF,{name:n.name,value:n.value,onValueChange:n.onChange,className:"gap-3",children:[i.jsx(mn,{htmlFor:"checkout-payment-method-1",children:i.jsxs(Jt,{"data-invalid":s.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(bh,{value:"creditCard",id:"checkout-payment-method-1"}),i.jsx(du,{className:"flex-1",children:i.jsx(hu,{children:"Platebni karta"})}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/visa-icon.svg",alt:"Visa",className:"size-5"})]})}),i.jsx(mn,{htmlFor:"checkout-payment-method-2",children:i.jsxs(Jt,{"data-invalid":s.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(bh,{value:"paypal",id:"checkout-payment-method-2"}),i.jsx(du,{className:"flex-1",children:i.jsx(hu,{children:"PayPal"})}),i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/paypal-icon.svg",alt:"PayPal",className:"size-5"})]})}),i.jsx(mn,{htmlFor:"checkout-payment-method-3",children:i.jsxs(Jt,{"data-invalid":s.invalid,className:"flex items-center gap-3 rounded-lg border p-4",children:[i.jsx(bh,{value:"onlineBankTransfer",id:"checkout-payment-method-3"}),i.jsx(du,{className:"flex-1",children:i.jsx(hu,{children:"Bankovni prevod"})}),i.jsx(Cie,{className:"size-5 text-muted-foreground"})]})})]}),s.invalid&&i.jsx(Ls,{errors:[s.error]})]})}),i.jsx(q2e,{method:t})]})}function q2e({method:e}){const t=cc();if(!e)return null;switch(e){case mu.creditCard:return i.jsxs("div",{className:"space-y-4",children:[i.jsx(wn,{name:"payment.cardholderName",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Jt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-cardholderName",children:"Jmeno na karte"}),i.jsx(Pe,{...n,id:"checkout-payment-cardholderName","aria-invalid":s.invalid}),s.invalid&&i.jsx(Ls,{errors:[s.error]})]})}),i.jsx(wn,{name:"payment.cardNumber",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Jt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-cardNumber",children:"Cislo karty"}),i.jsx(Pe,{...n,id:"checkout-payment-cardNumber",placeholder:"1234 5678 9012 3456","aria-invalid":s.invalid}),s.invalid&&i.jsx(Ls,{errors:[s.error]})]})}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsx(Z2e,{}),i.jsx(wn,{name:"payment.cvc",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Jt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-cvc",children:"CVC"}),i.jsx(Pe,{...n,id:"checkout-payment-cvc",placeholder:"123","aria-invalid":s.invalid}),s.invalid&&i.jsx(Ls,{errors:[s.error]})]})})]})]});case mu.paypal:return i.jsx(wn,{name:"payment.payPalEmail",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Jt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-payPalEmail",children:"PayPal email"}),i.jsx(Pe,{...n,type:"email",placeholder:"vas-paypal@email.cz",id:"checkout-payment-payPalEmail","aria-invalid":s.invalid}),s.invalid&&i.jsx(Ls,{errors:[s.error]})]})});case mu.onlineBankTransfer:return i.jsxs("div",{className:"space-y-4",children:[i.jsx(wn,{name:"payment.bankName",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Jt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-bankName",children:"Nazev banky"}),i.jsx(Pe,{...n,placeholder:"Nazev banky",id:"checkout-payment-bankName","aria-invalid":s.invalid}),s.invalid&&i.jsx(Ls,{errors:[s.error]})]})}),i.jsx(wn,{name:"payment.accountNumber",control:t.control,render:({field:n,fieldState:s})=>i.jsxs(Jt,{"data-invalid":s.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-accountNumber",children:"Cislo uctu"}),i.jsx(Pe,{...n,id:"checkout-payment-accountNumber","aria-invalid":s.invalid}),s.invalid&&i.jsx(Ls,{errors:[s.error]})]})})]});default:return null}}function Z2e(){const e=cc();return i.jsx(wn,{name:"payment.expiryDate",control:e.control,render:({field:t,fieldState:n})=>i.jsxs(Jt,{"data-invalid":n.invalid,children:[i.jsx(mn,{className:"text-sm font-normal",htmlFor:"checkout-payment-expiryDate",children:"Platnost do"}),i.jsx(Pe,{...t,onChange:s=>{let r=s.target.value;r=r.replace(/[^0-9/]/g,"");const a=t.value??"";r.length<a.length||r.length===2&&!r.includes("/")&&(r=`${r}/`),r.length>5&&(r=r.slice(0,5)),t.onChange(r)},pattern:"^(0[1-9]|1[0-2])/[0-9]{2}$",placeholder:"MM/RR",id:"checkout-payment-expiryDate","aria-invalid":n.invalid}),n.invalid&&i.jsx(Ls,{errors:[n.error]})]})})}function W2e({form:e,removeItem:t,updateQuantity:n,subtotal:s,itemCount:r,appliedPromo:a}){const{items:o}=rg(),{fields:l,remove:u,update:d}=O0e({control:e.control,name:"products"}),f=L2e(s,a),m=s-f,g=m>=3600?0:149,x=m+g,b=v.useCallback((j,k)=>{u(j),t(k)},[u,t]),w=v.useCallback((j,k,S)=>{d(j,{...l[j],quantity:S}),n(k,S)},[d,l,n]);return i.jsxs(Re,{className:"shadow-none",children:[i.jsx(Je,{children:i.jsxs(Qe,{children:["Souhrn objednavky (",r," ",r===1?"polozka":r<5?"polozky":"polozek",")"]})}),i.jsxs(Oe,{className:"space-y-6",children:[i.jsx("ul",{className:"space-y-4",children:l.map((j,k)=>{const S=o.find(C=>C.slug===j.slug);return S?i.jsx("li",{children:i.jsx(K2e,{item:S,index:k,onRemove:()=>b(k,S.slug),onQuantityChange:C=>w(k,S.slug,C)})},j.id):null})}),i.jsxs("div",{className:"space-y-3 border-t pt-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Mezisoucet"}),i.jsx("span",{children:su(s)})]}),f>0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-emerald-600",children:["Sleva (",a==null?void 0:a.code,")"]}),i.jsxs("span",{className:"text-emerald-600",children:["-",su(f)]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Doprava"}),i.jsx("span",{children:g===0?i.jsx("span",{className:"text-emerald-600",children:"Zdarma"}):su(g)})]})]}),i.jsxs("div",{className:"flex justify-between border-t pt-4",children:[i.jsx("span",{className:"text-lg font-semibold",children:"Celkem"}),i.jsx("span",{className:"text-lg font-semibold",children:su(x)})]})]})]})}function K2e({item:e,index:t,onRemove:n,onQuantityChange:s}){return i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-16 shrink-0",children:i.jsx(Ua,{ratio:1,className:"overflow-hidden rounded-md bg-muted",children:i.jsx("img",{src:e.image,alt:e.name,className:"size-full object-contain p-1"})})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsxs("div",{className:"flex justify-between gap-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"line-clamp-2 text-sm font-medium",children:e.name}),e.subtitle&&i.jsx("p",{className:"text-xs text-muted-foreground",children:e.subtitle})]}),i.jsxs("div",{className:"shrink-0 text-right",children:[i.jsx("p",{className:"text-sm font-medium",children:su(e.price*e.quantity)}),e.quantity>1&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:[su(e.price)," / ks"]})]})]}),i.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[i.jsx(G2e,{index:t,onQuantityChange:s}),i.jsx(X,{type:"button",size:"icon",variant:"ghost",className:"size-8",onClick:n,children:i.jsx(Fle,{className:"size-4"})})]})]})]})}function G2e({index:e,onQuantityChange:t}){const{control:n}=cc();return i.jsx(wn,{name:`products.${e}.quantity`,control:n,render:({field:s})=>i.jsx(Jt,{className:"w-auto",children:i.jsx(nF,{inputProps:s,onValueChange:r=>{s.onChange(r),t(r)},className:"h-8 rounded-none"})})})}const Y2e="modulepreload",J2e=function(e){return"/"+e},LO={},X2e=function(t,n,s){let r=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));r=o(n.map(d=>{if(d=J2e(d),d in LO)return;LO[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Y2e,f||(g.as="script"),g.crossOrigin="",g.href=d,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((x,b)=>{g.addEventListener("load",x),g.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return r.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})};/*!
  * PhotoSwipe Lightbox 5.4.4 - https://photoswipe.com
  * (c) 2024 Dmytro Semenov
  */function Cm(e,t,n){const s=document.createElement(t);return e&&(s.className=e),n&&n.appendChild(s),s}function Q2e(e,t,n){let s=`translate3d(${e}px,0px,0)`;return n!==void 0&&(s+=` scale3d(${n},${n},1)`),s}function rS(e,t,n){e.style.width=typeof t=="number"?`${t}px`:t,e.style.height=typeof n=="number"?`${n}px`:n}const ki={IDLE:"idle",LOADING:"loading",LOADED:"loaded",ERROR:"error"};function eSe(e){return"button"in e&&e.button===1||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey}function Em(e,t,n=document){let s=[];if(e instanceof Element)s=[e];else if(e instanceof NodeList||Array.isArray(e))s=Array.from(e);else{const r=typeof e=="string"?e:t;r&&(s=Array.from(n.querySelectorAll(r)))}return s}function tSe(e){return typeof e=="function"&&e.prototype&&e.prototype.goTo}function $O(){return!!(navigator.vendor&&navigator.vendor.match(/apple/i))}class nSe{constructor(t,n){this.type=t,this.defaultPrevented=!1,n&&Object.assign(this,n)}preventDefault(){this.defaultPrevented=!0}}class sSe{constructor(){this._listeners={},this._filters={},this.pswp=void 0,this.options=void 0}addFilter(t,n,s=100){var r,a,o;this._filters[t]||(this._filters[t]=[]),(r=this._filters[t])===null||r===void 0||r.push({fn:n,priority:s}),(a=this._filters[t])===null||a===void 0||a.sort((l,u)=>l.priority-u.priority),(o=this.pswp)===null||o===void 0||o.addFilter(t,n,s)}removeFilter(t,n){this._filters[t]&&(this._filters[t]=this._filters[t].filter(s=>s.fn!==n)),this.pswp&&this.pswp.removeFilter(t,n)}applyFilters(t,...n){var s;return(s=this._filters[t])===null||s===void 0||s.forEach(r=>{n[0]=r.fn.apply(this,n)}),n[0]}on(t,n){var s,r;this._listeners[t]||(this._listeners[t]=[]),(s=this._listeners[t])===null||s===void 0||s.push(n),(r=this.pswp)===null||r===void 0||r.on(t,n)}off(t,n){var s;this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter(r=>n!==r)),(s=this.pswp)===null||s===void 0||s.off(t,n)}dispatch(t,n){var s;if(this.pswp)return this.pswp.dispatch(t,n);const r=new nSe(t,n);return(s=this._listeners[t])===null||s===void 0||s.forEach(a=>{a.call(this,r)}),r}}class rSe{constructor(t,n){if(this.element=Cm("pswp__img pswp__img--placeholder",t?"img":"div",n),t){const s=this.element;s.decoding="async",s.alt="",s.src=t,s.setAttribute("role","presentation")}this.element.setAttribute("aria-hidden","true")}setDisplayedSize(t,n){this.element&&(this.element.tagName==="IMG"?(rS(this.element,250,"auto"),this.element.style.transformOrigin="0 0",this.element.style.transform=Q2e(0,0,t/250)):rS(this.element,t,n))}destroy(){var t;(t=this.element)!==null&&t!==void 0&&t.parentNode&&this.element.remove(),this.element=null}}let iSe=class{constructor(t,n,s){this.instance=n,this.data=t,this.index=s,this.element=void 0,this.placeholder=void 0,this.slide=void 0,this.displayedImageWidth=0,this.displayedImageHeight=0,this.width=Number(this.data.w)||Number(this.data.width)||0,this.height=Number(this.data.h)||Number(this.data.height)||0,this.isAttached=!1,this.hasSlide=!1,this.isDecoding=!1,this.state=ki.IDLE,this.data.type?this.type=this.data.type:this.data.src?this.type="image":this.type="html",this.instance.dispatch("contentInit",{content:this})}removePlaceholder(){this.placeholder&&!this.keepPlaceholder()&&setTimeout(()=>{this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0)},1e3)}load(t,n){if(this.slide&&this.usePlaceholder())if(this.placeholder){const s=this.placeholder.element;s&&!s.parentElement&&this.slide.container.prepend(s)}else{const s=this.instance.applyFilters("placeholderSrc",this.data.msrc&&this.slide.isFirstSlide?this.data.msrc:!1,this);this.placeholder=new rSe(s,this.slide.container)}this.element&&!n||this.instance.dispatch("contentLoad",{content:this,isLazy:t}).defaultPrevented||(this.isImageContent()?(this.element=Cm("pswp__img","img"),this.displayedImageWidth&&this.loadImage(t)):(this.element=Cm("pswp__content","div"),this.element.innerHTML=this.data.html||""),n&&this.slide&&this.slide.updateContentSize(!0))}loadImage(t){var n,s;if(!this.isImageContent()||!this.element||this.instance.dispatch("contentLoadImage",{content:this,isLazy:t}).defaultPrevented)return;const r=this.element;this.updateSrcsetSizes(),this.data.srcset&&(r.srcset=this.data.srcset),r.src=(n=this.data.src)!==null&&n!==void 0?n:"",r.alt=(s=this.data.alt)!==null&&s!==void 0?s:"",this.state=ki.LOADING,r.complete?this.onLoaded():(r.onload=()=>{this.onLoaded()},r.onerror=()=>{this.onError()})}setSlide(t){this.slide=t,this.hasSlide=!0,this.instance=t.pswp}onLoaded(){this.state=ki.LOADED,this.slide&&this.element&&(this.instance.dispatch("loadComplete",{slide:this.slide,content:this}),this.slide.isActive&&this.slide.heavyAppended&&!this.element.parentNode&&(this.append(),this.slide.updateContentSize(!0)),(this.state===ki.LOADED||this.state===ki.ERROR)&&this.removePlaceholder())}onError(){this.state=ki.ERROR,this.slide&&(this.displayError(),this.instance.dispatch("loadComplete",{slide:this.slide,isError:!0,content:this}),this.instance.dispatch("loadError",{slide:this.slide,content:this}))}isLoading(){return this.instance.applyFilters("isContentLoading",this.state===ki.LOADING,this)}isError(){return this.state===ki.ERROR}isImageContent(){return this.type==="image"}setDisplayedSize(t,n){if(this.element&&(this.placeholder&&this.placeholder.setDisplayedSize(t,n),!this.instance.dispatch("contentResize",{content:this,width:t,height:n}).defaultPrevented&&(rS(this.element,t,n),this.isImageContent()&&!this.isError()))){const s=!this.displayedImageWidth&&t;this.displayedImageWidth=t,this.displayedImageHeight=n,s?this.loadImage(!1):this.updateSrcsetSizes(),this.slide&&this.instance.dispatch("imageSizeChange",{slide:this.slide,width:t,height:n,content:this})}}isZoomable(){return this.instance.applyFilters("isContentZoomable",this.isImageContent()&&this.state!==ki.ERROR,this)}updateSrcsetSizes(){if(!this.isImageContent()||!this.element||!this.data.srcset)return;const t=this.element,n=this.instance.applyFilters("srcsetSizesWidth",this.displayedImageWidth,this);(!t.dataset.largestUsedSize||n>parseInt(t.dataset.largestUsedSize,10))&&(t.sizes=n+"px",t.dataset.largestUsedSize=String(n))}usePlaceholder(){return this.instance.applyFilters("useContentPlaceholder",this.isImageContent(),this)}lazyLoad(){this.instance.dispatch("contentLazyLoad",{content:this}).defaultPrevented||this.load(!0)}keepPlaceholder(){return this.instance.applyFilters("isKeepingPlaceholder",this.isLoading(),this)}destroy(){this.hasSlide=!1,this.slide=void 0,!this.instance.dispatch("contentDestroy",{content:this}).defaultPrevented&&(this.remove(),this.placeholder&&(this.placeholder.destroy(),this.placeholder=void 0),this.isImageContent()&&this.element&&(this.element.onload=null,this.element.onerror=null,this.element=void 0))}displayError(){if(this.slide){var t,n;let s=Cm("pswp__error-msg","div");s.innerText=(t=(n=this.instance.options)===null||n===void 0?void 0:n.errorMsg)!==null&&t!==void 0?t:"",s=this.instance.applyFilters("contentErrorElement",s,this),this.element=Cm("pswp__content pswp__error-msg-container","div"),this.element.appendChild(s),this.slide.container.innerText="",this.slide.container.appendChild(this.element),this.slide.updateContentSize(!0),this.removePlaceholder()}}append(){if(this.isAttached||!this.element)return;if(this.isAttached=!0,this.state===ki.ERROR){this.displayError();return}if(this.instance.dispatch("contentAppend",{content:this}).defaultPrevented)return;const t="decode"in this.element;this.isImageContent()?t&&this.slide&&(!this.slide.isActive||$O())?(this.isDecoding=!0,this.element.decode().catch(()=>{}).finally(()=>{this.isDecoding=!1,this.appendImage()})):this.appendImage():this.slide&&!this.element.parentNode&&this.slide.container.appendChild(this.element)}activate(){this.instance.dispatch("contentActivate",{content:this}).defaultPrevented||!this.slide||(this.isImageContent()&&this.isDecoding&&!$O()?this.appendImage():this.isError()&&this.load(!1,!0),this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","false"))}deactivate(){this.instance.dispatch("contentDeactivate",{content:this}),this.slide&&this.slide.holderElement&&this.slide.holderElement.setAttribute("aria-hidden","true")}remove(){this.isAttached=!1,!this.instance.dispatch("contentRemove",{content:this}).defaultPrevented&&(this.element&&this.element.parentNode&&this.element.remove(),this.placeholder&&this.placeholder.element&&this.placeholder.element.remove())}appendImage(){this.isAttached&&(this.instance.dispatch("contentAppendImage",{content:this}).defaultPrevented||(this.slide&&this.element&&!this.element.parentNode&&this.slide.container.appendChild(this.element),(this.state===ki.LOADED||this.state===ki.ERROR)&&this.removePlaceholder()))}};function aSe(e,t){if(e.getViewportSizeFn){const n=e.getViewportSizeFn(e,t);if(n)return n}return{x:document.documentElement.clientWidth,y:window.innerHeight}}function _0(e,t,n,s,r){let a=0;if(t.paddingFn)a=t.paddingFn(n,s,r)[e];else if(t.padding)a=t.padding[e];else{const o="padding"+e[0].toUpperCase()+e.slice(1);t[o]&&(a=t[o])}return Number(a)||0}function oSe(e,t,n,s){return{x:t.x-_0("left",e,t,n,s)-_0("right",e,t,n,s),y:t.y-_0("top",e,t,n,s)-_0("bottom",e,t,n,s)}}const VO=4e3;class lSe{constructor(t,n,s,r){this.pswp=r,this.options=t,this.itemData=n,this.index=s,this.panAreaSize=null,this.elementSize=null,this.fit=1,this.fill=1,this.vFill=1,this.initial=1,this.secondary=1,this.max=1,this.min=1}update(t,n,s){const r={x:t,y:n};this.elementSize=r,this.panAreaSize=s;const a=s.x/r.x,o=s.y/r.y;this.fit=Math.min(1,a<o?a:o),this.fill=Math.min(1,a>o?a:o),this.vFill=Math.min(1,o),this.initial=this._getInitial(),this.secondary=this._getSecondary(),this.max=Math.max(this.initial,this.secondary,this._getMax()),this.min=Math.min(this.fit,this.initial,this.secondary),this.pswp&&this.pswp.dispatch("zoomLevelsUpdate",{zoomLevels:this,slideData:this.itemData})}_parseZoomLevelOption(t){const n=t+"ZoomLevel",s=this.options[n];if(s)return typeof s=="function"?s(this):s==="fill"?this.fill:s==="fit"?this.fit:Number(s)}_getSecondary(){let t=this._parseZoomLevelOption("secondary");return t||(t=Math.min(1,this.fit*3),this.elementSize&&t*this.elementSize.x>VO&&(t=VO/this.elementSize.x),t)}_getInitial(){return this._parseZoomLevelOption("initial")||this.fit}_getMax(){return this._parseZoomLevelOption("max")||Math.max(1,this.fit*4)}}function kF(e,t,n){const s=t.createContentFromData(e,n);let r;const{options:a}=t;if(a){r=new lSe(a,e,-1);let o;t.pswp?o=t.pswp.viewportSize:o=aSe(a,t);const l=oSe(a,o,e,n);r.update(s.width,s.height,l)}return s.lazyLoad(),r&&s.setDisplayedSize(Math.ceil(s.width*r.initial),Math.ceil(s.height*r.initial)),s}function cSe(e,t){const n=t.getItemData(e);if(!t.dispatch("lazyLoadSlide",{index:e,itemData:n}).defaultPrevented)return kF(n,t,e)}class uSe extends sSe{getNumItems(){var t;let n=0;const s=(t=this.options)===null||t===void 0?void 0:t.dataSource;s&&"length"in s?n=s.length:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),s.items&&(n=s.items.length));const r=this.dispatch("numItems",{dataSource:s,numItems:n});return this.applyFilters("numItems",r.numItems,s)}createContentFromData(t,n){return new iSe(t,this,n)}getItemData(t){var n;const s=(n=this.options)===null||n===void 0?void 0:n.dataSource;let r={};Array.isArray(s)?r=s[t]:s&&"gallery"in s&&(s.items||(s.items=this._getGalleryDOMElements(s.gallery)),r=s.items[t]);let a=r;a instanceof Element&&(a=this._domElementToItemData(a));const o=this.dispatch("itemData",{itemData:a||{},index:t});return this.applyFilters("itemData",o.itemData,t)}_getGalleryDOMElements(t){var n,s;return(n=this.options)!==null&&n!==void 0&&n.children||(s=this.options)!==null&&s!==void 0&&s.childSelector?Em(this.options.children,this.options.childSelector,t)||[]:[t]}_domElementToItemData(t){const n={element:t},s=t.tagName==="A"?t:t.querySelector("a");if(s){n.src=s.dataset.pswpSrc||s.href,s.dataset.pswpSrcset&&(n.srcset=s.dataset.pswpSrcset),n.width=s.dataset.pswpWidth?parseInt(s.dataset.pswpWidth,10):0,n.height=s.dataset.pswpHeight?parseInt(s.dataset.pswpHeight,10):0,n.w=n.width,n.h=n.height,s.dataset.pswpType&&(n.type=s.dataset.pswpType);const a=t.querySelector("img");if(a){var r;n.msrc=a.currentSrc||a.src,n.alt=(r=a.getAttribute("alt"))!==null&&r!==void 0?r:""}(s.dataset.pswpCropped||s.dataset.cropped)&&(n.thumbCropped=!0)}return this.applyFilters("domItemData",n,t,s)}lazyLoadData(t,n){return kF(t,this,n)}}class dSe extends uSe{constructor(t){super(),this.options=t||{},this._uid=0,this.shouldOpen=!1,this._preloadedContent=void 0,this.onThumbnailsClick=this.onThumbnailsClick.bind(this)}init(){Em(this.options.gallery,this.options.gallerySelector).forEach(t=>{t.addEventListener("click",this.onThumbnailsClick,!1)})}onThumbnailsClick(t){if(eSe(t)||window.pswp)return;let n={x:t.clientX,y:t.clientY};!n.x&&!n.y&&(n=null);let s=this.getClickedIndex(t);s=this.applyFilters("clickedIndex",s,t,this);const r={gallery:t.currentTarget};s>=0&&(t.preventDefault(),this.loadAndOpen(s,r,n))}getClickedIndex(t){if(this.options.getClickedIndexFn)return this.options.getClickedIndexFn.call(this,t);const n=t.target,r=Em(this.options.children,this.options.childSelector,t.currentTarget).findIndex(a=>a===n||a.contains(n));return r!==-1?r:this.options.children||this.options.childSelector?-1:0}loadAndOpen(t,n,s){if(window.pswp||!this.options)return!1;if(!n&&this.options.gallery&&this.options.children){const r=Em(this.options.gallery);r[0]&&(n={gallery:r[0]})}return this.options.index=t,this.options.initialPointerPos=s,this.shouldOpen=!0,this.preload(t,n),!0}preload(t,n){const{options:s}=this;n&&(s.dataSource=n);const r=[],a=typeof s.pswpModule;if(tSe(s.pswpModule))r.push(Promise.resolve(s.pswpModule));else{if(a==="string")throw new Error("pswpModule as string is no longer supported");if(a==="function")r.push(s.pswpModule());else throw new Error("pswpModule is not valid")}typeof s.openPromise=="function"&&r.push(s.openPromise()),s.preloadFirstSlide!==!1&&t>=0&&(this._preloadedContent=cSe(t,this));const o=++this._uid;Promise.all(r).then(l=>{if(this.shouldOpen){const u=l[0];this._openPhotoswipe(u,o)}})}_openPhotoswipe(t,n){if(n!==this._uid&&this.shouldOpen||(this.shouldOpen=!1,window.pswp))return;const s=typeof t=="object"?new t.default(this.options):new t(this.options);this.pswp=s,window.pswp=s,Object.keys(this._listeners).forEach(r=>{var a;(a=this._listeners[r])===null||a===void 0||a.forEach(o=>{s.on(r,o)})}),Object.keys(this._filters).forEach(r=>{var a;(a=this._filters[r])===null||a===void 0||a.forEach(o=>{s.addFilter(r,o.fn,o.priority)})}),this._preloadedContent&&(s.contentLoader.addToCache(this._preloadedContent),this._preloadedContent=void 0),s.on("destroy",()=>{this.pswp=void 0,delete window.pswp}),s.init()}destroy(){var t;(t=this.pswp)===null||t===void 0||t.destroy(),this.shouldOpen=!1,this._listeners={},Em(this.options.gallery,this.options.gallerySelector).forEach(n=>{n.removeEventListener("click",this.onThumbnailsClick,!1)})}}function hSe(e){return Object.prototype.toString.call(e)==="[object Object]"}function BO(e){return hSe(e)||Array.isArray(e)}function fSe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function _E(e,t){const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;const r=JSON.stringify(Object.keys(e.breakpoints||{})),a=JSON.stringify(Object.keys(t.breakpoints||{}));return r!==a?!1:n.every(o=>{const l=e[o],u=t[o];return typeof l=="function"?`${l}`==`${u}`:!BO(l)||!BO(u)?l===u:_E(l,u)})}function FO(e){return e.concat().sort((t,n)=>t.name>n.name?1:-1).map(t=>t.options)}function mSe(e,t){if(e.length!==t.length)return!1;const n=FO(e),s=FO(t);return n.every((r,a)=>{const o=s[a];return _E(r,o)})}function CE(e){return typeof e=="number"}function iS(e){return typeof e=="string"}function Jb(e){return typeof e=="boolean"}function UO(e){return Object.prototype.toString.call(e)==="[object Object]"}function Hn(e){return Math.abs(e)}function EE(e){return Math.sign(e)}function qm(e,t){return Hn(e-t)}function pSe(e,t){if(e===0||t===0||Hn(e)<=Hn(t))return 0;const n=qm(Hn(e),Hn(t));return Hn(n/e)}function gSe(e){return Math.round(e*100)/100}function Ap(e){return Mp(e).map(Number)}function aa(e){return e[Eg(e)]}function Eg(e){return Math.max(0,e.length-1)}function TE(e,t){return t===Eg(e)}function HO(e,t=0){return Array.from(Array(e),(n,s)=>t+s)}function Mp(e){return Object.keys(e)}function NF(e,t){return[e,t].reduce((n,s)=>(Mp(s).forEach(r=>{const a=n[r],o=s[r],l=UO(a)&&UO(o);n[r]=l?NF(a,o):o}),n),{})}function aS(e,t){return typeof t.MouseEvent<"u"&&e instanceof t.MouseEvent}function xSe(e,t){const n={start:s,center:r,end:a};function s(){return 0}function r(u){return a(u)/2}function a(u){return t-u}function o(u,d){return iS(e)?n[e](u):e(t,u,d)}return{measure:o}}function Rp(){let e=[];function t(r,a,o,l={passive:!0}){let u;if("addEventListener"in r)r.addEventListener(a,o,l),u=()=>r.removeEventListener(a,o,l);else{const d=r;d.addListener(o),u=()=>d.removeListener(o)}return e.push(u),s}function n(){e=e.filter(r=>r())}const s={add:t,clear:n};return s}function vSe(e,t,n,s){const r=Rp(),a=1e3/60;let o=null,l=0,u=0;function d(){r.add(e,"visibilitychange",()=>{e.hidden&&b()})}function f(){x(),r.clear()}function m(j){if(!u)return;o||(o=j,n(),n());const k=j-o;for(o=j,l+=k;l>=a;)n(),l-=a;const S=l/a;s(S),u&&(u=t.requestAnimationFrame(m))}function g(){u||(u=t.requestAnimationFrame(m))}function x(){t.cancelAnimationFrame(u),o=null,l=0,u=0}function b(){o=null,l=0}return{init:d,destroy:f,start:g,stop:x,update:n,render:s}}function ySe(e,t){const n=t==="rtl",s=e==="y",r=s?"y":"x",a=s?"x":"y",o=!s&&n?-1:1,l=f(),u=m();function d(b){const{height:w,width:j}=b;return s?w:j}function f(){return s?"top":n?"right":"left"}function m(){return s?"bottom":n?"left":"right"}function g(b){return b*o}return{scroll:r,cross:a,startEdge:l,endEdge:u,measureSize:d,direction:g}}function Eu(e=0,t=0){const n=Hn(e-t);function s(d){return d<e}function r(d){return d>t}function a(d){return s(d)||r(d)}function o(d){return a(d)?s(d)?e:t:d}function l(d){return n?d-n*Math.ceil((d-t)/n):d}return{length:n,max:t,min:e,constrain:o,reachedAny:a,reachedMax:r,reachedMin:s,removeOffset:l}}function SF(e,t,n){const{constrain:s}=Eu(0,e),r=e+1;let a=o(t);function o(g){return n?Hn((r+g)%r):s(g)}function l(){return a}function u(g){return a=o(g),m}function d(g){return f().set(l()+g)}function f(){return SF(e,l(),n)}const m={get:l,set:u,add:d,clone:f};return m}function bSe(e,t,n,s,r,a,o,l,u,d,f,m,g,x,b,w,j,k,S){const{cross:C,direction:E}=e,z=["INPUT","SELECT","TEXTAREA"],R={passive:!1},T=Rp(),A=Rp(),D=Eu(50,225).constrain(x.measure(20)),F={mouse:300,touch:400},V={mouse:500,touch:600},$=b?43:25;let q=!1,K=0,ee=0,L=!1,P=!1,I=!1,G=!1;function U(xe){if(!S)return;function Ae(Ce){(Jb(S)||S(xe,Ce))&&ce(Ce)}const re=t;T.add(re,"dragstart",Ce=>Ce.preventDefault(),R).add(re,"touchmove",()=>{},R).add(re,"touchend",()=>{}).add(re,"touchstart",Ae).add(re,"mousedown",Ae).add(re,"touchcancel",oe).add(re,"contextmenu",oe).add(re,"click",he,!0)}function M(){T.clear(),A.clear()}function H(){const xe=G?n:t;A.add(xe,"touchmove",Y,R).add(xe,"touchend",oe).add(xe,"mousemove",Y,R).add(xe,"mouseup",oe)}function W(xe){const Ae=xe.nodeName||"";return z.includes(Ae)}function te(){return(b?V:F)[G?"mouse":"touch"]}function le(xe,Ae){const re=m.add(EE(xe)*-1),Ce=f.byDistance(xe,!b).distance;return b||Hn(xe)<D?Ce:j&&Ae?Ce*.5:f.byIndex(re.get(),0).distance}function ce(xe){const Ae=aS(xe,s);G=Ae,I=b&&Ae&&!xe.buttons&&q,q=qm(r.get(),o.get())>=2,!(Ae&&xe.button!==0)&&(W(xe.target)||(L=!0,a.pointerDown(xe),d.useFriction(0).useDuration(0),r.set(o),H(),K=a.readPoint(xe),ee=a.readPoint(xe,C),g.emit("pointerDown")))}function Y(xe){if(!aS(xe,s)&&xe.touches.length>=2)return oe(xe);const re=a.readPoint(xe),Ce=a.readPoint(xe,C),Ze=qm(re,K),it=qm(Ce,ee);if(!P&&!G&&(!xe.cancelable||(P=Ze>it,!P)))return oe(xe);const jt=a.pointerMove(xe);Ze>w&&(I=!0),d.useFriction(.3).useDuration(.75),l.start(),r.add(E(jt)),xe.preventDefault()}function oe(xe){const re=f.byDistance(0,!1).index!==m.get(),Ce=a.pointerUp(xe)*te(),Ze=le(E(Ce),re),it=pSe(Ce,Ze),jt=$-10*it,We=k+it/50;P=!1,L=!1,A.clear(),d.useDuration(jt).useFriction(We),u.distance(Ze,!b),G=!1,g.emit("pointerUp")}function he(xe){I&&(xe.stopPropagation(),xe.preventDefault(),I=!1)}function be(){return L}return{init:U,destroy:M,pointerDown:be}}function wSe(e,t){let s,r;function a(m){return m.timeStamp}function o(m,g){const b=`client${(g||e.scroll)==="x"?"X":"Y"}`;return(aS(m,t)?m:m.touches[0])[b]}function l(m){return s=m,r=m,o(m)}function u(m){const g=o(m)-o(r),x=a(m)-a(s)>170;return r=m,x&&(s=m),g}function d(m){if(!s||!r)return 0;const g=o(r)-o(s),x=a(m)-a(s),b=a(m)-a(r)>170,w=g/x;return x&&!b&&Hn(w)>.1?w:0}return{pointerDown:l,pointerMove:u,pointerUp:d,readPoint:o}}function jSe(){function e(n){const{offsetTop:s,offsetLeft:r,offsetWidth:a,offsetHeight:o}=n;return{top:s,right:r+a,bottom:s+o,left:r,width:a,height:o}}return{measure:e}}function kSe(e){function t(s){return e*(s/100)}return{measure:t}}function NSe(e,t,n,s,r,a,o){const l=[e].concat(s);let u,d,f=[],m=!1;function g(j){return r.measureSize(o.measure(j))}function x(j){if(!a)return;d=g(e),f=s.map(g);function k(S){for(const C of S){if(m)return;const E=C.target===e,z=s.indexOf(C.target),R=E?d:f[z],T=g(E?e:s[z]);if(Hn(T-R)>=.5){j.reInit(),t.emit("resize");break}}}u=new ResizeObserver(S=>{(Jb(a)||a(j,S))&&k(S)}),n.requestAnimationFrame(()=>{l.forEach(S=>u.observe(S))})}function b(){m=!0,u&&u.disconnect()}return{init:x,destroy:b}}function SSe(e,t,n,s,r,a){let o=0,l=0,u=r,d=a,f=e.get(),m=0;function g(){const R=s.get()-e.get(),T=!u;let A=0;return T?(o=0,n.set(s),e.set(s),A=R):(n.set(e),o+=R/u,o*=d,f+=o,e.add(o),A=f-m),l=EE(A),m=f,z}function x(){const R=s.get()-t.get();return Hn(R)<.001}function b(){return u}function w(){return l}function j(){return o}function k(){return C(r)}function S(){return E(a)}function C(R){return u=R,z}function E(R){return d=R,z}const z={direction:w,duration:b,velocity:j,seek:g,settled:x,useBaseFriction:S,useBaseDuration:k,useFriction:E,useDuration:C};return z}function _Se(e,t,n,s,r){const a=r.measure(10),o=r.measure(50),l=Eu(.1,.99);let u=!1;function d(){return!(u||!e.reachedAny(n.get())||!e.reachedAny(t.get()))}function f(x){if(!d())return;const b=e.reachedMin(t.get())?"min":"max",w=Hn(e[b]-t.get()),j=n.get()-t.get(),k=l.constrain(w/o);n.subtract(j*k),!x&&Hn(j)<a&&(n.set(e.constrain(n.get())),s.useDuration(25).useBaseFriction())}function m(x){u=!x}return{shouldConstrain:d,constrain:f,toggleActive:m}}function CSe(e,t,n,s,r){const a=Eu(-t+e,0),o=m(),l=f(),u=g();function d(b,w){return qm(b,w)<=1}function f(){const b=o[0],w=aa(o),j=o.lastIndexOf(b),k=o.indexOf(w)+1;return Eu(j,k)}function m(){return n.map((b,w)=>{const{min:j,max:k}=a,S=a.constrain(b),C=!w,E=TE(n,w);return C?k:E||d(j,S)?j:d(k,S)?k:S}).map(b=>parseFloat(b.toFixed(3)))}function g(){if(t<=e+r)return[a.max];if(s==="keepSnaps")return o;const{min:b,max:w}=l;return o.slice(b,w)}return{snapsContained:u,scrollContainLimit:l}}function ESe(e,t,n){const s=t[0],r=n?s-e:aa(t);return{limit:Eu(r,s)}}function TSe(e,t,n,s){const a=t.min+.1,o=t.max+.1,{reachedMin:l,reachedMax:u}=Eu(a,o);function d(g){return g===1?u(n.get()):g===-1?l(n.get()):!1}function f(g){if(!d(g))return;const x=e*(g*-1);s.forEach(b=>b.add(x))}return{loop:f}}function zSe(e){const{max:t,length:n}=e;function s(a){const o=a-t;return n?o/-n:0}return{get:s}}function ASe(e,t,n,s,r){const{startEdge:a,endEdge:o}=e,{groupSlides:l}=r,u=m().map(t.measure),d=g(),f=x();function m(){return l(s).map(w=>aa(w)[o]-w[0][a]).map(Hn)}function g(){return s.map(w=>n[a]-w[a]).map(w=>-Hn(w))}function x(){return l(d).map(w=>w[0]).map((w,j)=>w+u[j])}return{snaps:d,snapsAligned:f}}function MSe(e,t,n,s,r,a){const{groupSlides:o}=r,{min:l,max:u}=s,d=f();function f(){const g=o(a),x=!e||t==="keepSnaps";return n.length===1?[a]:x?g:g.slice(l,u).map((b,w,j)=>{const k=!w,S=TE(j,w);if(k){const C=aa(j[0])+1;return HO(C)}if(S){const C=Eg(a)-aa(j)[0]+1;return HO(C,aa(j)[0])}return b})}return{slideRegistry:d}}function RSe(e,t,n,s,r){const{reachedAny:a,removeOffset:o,constrain:l}=s;function u(b){return b.concat().sort((w,j)=>Hn(w)-Hn(j))[0]}function d(b){const w=e?o(b):l(b),j=t.map((S,C)=>({diff:f(S-w,0),index:C})).sort((S,C)=>Hn(S.diff)-Hn(C.diff)),{index:k}=j[0];return{index:k,distance:w}}function f(b,w){const j=[b,b+n,b-n];if(!e)return b;if(!w)return u(j);const k=j.filter(S=>EE(S)===w);return k.length?u(k):aa(j)-n}function m(b,w){const j=t[b]-r.get(),k=f(j,w);return{index:b,distance:k}}function g(b,w){const j=r.get()+b,{index:k,distance:S}=d(j),C=!e&&a(j);if(!w||C)return{index:k,distance:b};const E=t[k]-S,z=b+f(E,0);return{index:k,distance:z}}return{byDistance:g,byIndex:m,shortcut:f}}function OSe(e,t,n,s,r,a,o){function l(m){const g=m.distance,x=m.index!==t.get();a.add(g),g&&(s.duration()?e.start():(e.update(),e.render(1),e.update())),x&&(n.set(t.get()),t.set(m.index),o.emit("select"))}function u(m,g){const x=r.byDistance(m,g);l(x)}function d(m,g){const x=t.clone().set(m),b=r.byIndex(x.get(),g);l(b)}return{distance:u,index:d}}function DSe(e,t,n,s,r,a,o,l){const u={passive:!0,capture:!0};let d=0;function f(x){if(!l)return;function b(w){if(new Date().getTime()-d>10)return;o.emit("slideFocusStart"),e.scrollLeft=0;const S=n.findIndex(C=>C.includes(w));CE(S)&&(r.useDuration(0),s.index(S,0),o.emit("slideFocus"))}a.add(document,"keydown",m,!1),t.forEach((w,j)=>{a.add(w,"focus",k=>{(Jb(l)||l(x,k))&&b(j)},u)})}function m(x){x.code==="Tab"&&(d=new Date().getTime())}return{init:f}}function Tm(e){let t=e;function n(){return t}function s(u){t=o(u)}function r(u){t+=o(u)}function a(u){t-=o(u)}function o(u){return CE(u)?u:u.get()}return{get:n,set:s,add:r,subtract:a}}function _F(e,t){const n=e.scroll==="x"?o:l,s=t.style;let r=null,a=!1;function o(g){return`translate3d(${g}px,0px,0px)`}function l(g){return`translate3d(0px,${g}px,0px)`}function u(g){if(a)return;const x=gSe(e.direction(g));x!==r&&(s.transform=n(x),r=x)}function d(g){a=!g}function f(){a||(s.transform="",t.getAttribute("style")||t.removeAttribute("style"))}return{clear:f,to:u,toggleActive:d}}function PSe(e,t,n,s,r,a,o,l,u){const f=Ap(r),m=Ap(r).reverse(),g=k().concat(S());function x(T,A){return T.reduce((D,F)=>D-r[F],A)}function b(T,A){return T.reduce((D,F)=>x(D,A)>0?D.concat([F]):D,[])}function w(T){return a.map((A,D)=>({start:A-s[D]+.5+T,end:A+t-.5+T}))}function j(T,A,D){const F=w(A);return T.map(V=>{const $=D?0:-n,q=D?n:0,K=D?"end":"start",ee=F[V][K];return{index:V,loopPoint:ee,slideLocation:Tm(-1),translate:_F(e,u[V]),target:()=>l.get()>ee?$:q}})}function k(){const T=o[0],A=b(m,T);return j(A,n,!1)}function S(){const T=t-o[0]-1,A=b(f,T);return j(A,-n,!0)}function C(){return g.every(({index:T})=>{const A=f.filter(D=>D!==T);return x(A,t)<=.1})}function E(){g.forEach(T=>{const{target:A,translate:D,slideLocation:F}=T,V=A();V!==F.get()&&(D.to(V),F.set(V))})}function z(){g.forEach(T=>T.translate.clear())}return{canLoop:C,clear:z,loop:E,loopPoints:g}}function ISe(e,t,n){let s,r=!1;function a(u){if(!n)return;function d(f){for(const m of f)if(m.type==="childList"){u.reInit(),t.emit("slidesChanged");break}}s=new MutationObserver(f=>{r||(Jb(n)||n(u,f))&&d(f)}),s.observe(e,{childList:!0})}function o(){s&&s.disconnect(),r=!0}return{init:a,destroy:o}}function LSe(e,t,n,s){const r={};let a=null,o=null,l,u=!1;function d(){l=new IntersectionObserver(b=>{u||(b.forEach(w=>{const j=t.indexOf(w.target);r[j]=w}),a=null,o=null,n.emit("slidesInView"))},{root:e.parentElement,threshold:s}),t.forEach(b=>l.observe(b))}function f(){l&&l.disconnect(),u=!0}function m(b){return Mp(r).reduce((w,j)=>{const k=parseInt(j),{isIntersecting:S}=r[k];return(b&&S||!b&&!S)&&w.push(k),w},[])}function g(b=!0){if(b&&a)return a;if(!b&&o)return o;const w=m(b);return b&&(a=w),b||(o=w),w}return{init:d,destroy:f,get:g}}function $Se(e,t,n,s,r,a){const{measureSize:o,startEdge:l,endEdge:u}=e,d=n[0]&&r,f=b(),m=w(),g=n.map(o),x=j();function b(){if(!d)return 0;const S=n[0];return Hn(t[l]-S[l])}function w(){if(!d)return 0;const S=a.getComputedStyle(aa(s));return parseFloat(S.getPropertyValue(`margin-${u}`))}function j(){return n.map((S,C,E)=>{const z=!C,R=TE(E,C);return z?g[C]+f:R?g[C]+m:E[C+1][l]-S[l]}).map(Hn)}return{slideSizes:g,slideSizesWithGaps:x,startGap:f,endGap:m}}function VSe(e,t,n,s,r,a,o,l,u){const{startEdge:d,endEdge:f,direction:m}=e,g=CE(n);function x(k,S){return Ap(k).filter(C=>C%S===0).map(C=>k.slice(C,C+S))}function b(k){return k.length?Ap(k).reduce((S,C,E)=>{const z=aa(S)||0,R=z===0,T=C===Eg(k),A=r[d]-a[z][d],D=r[d]-a[C][f],F=!s&&R?m(o):0,V=!s&&T?m(l):0,$=Hn(D-V-(A+F));return E&&$>t+u&&S.push(C),T&&S.push(k.length),S},[]).map((S,C,E)=>{const z=Math.max(E[C-1]||0);return k.slice(z,S)}):[]}function w(k){return g?x(k,n):b(k)}return{groupSlides:w}}function BSe(e,t,n,s,r,a,o){const{align:l,axis:u,direction:d,startIndex:f,loop:m,duration:g,dragFree:x,dragThreshold:b,inViewThreshold:w,slidesToScroll:j,skipSnaps:k,containScroll:S,watchResize:C,watchSlides:E,watchDrag:z,watchFocus:R}=a,T=2,A=jSe(),D=A.measure(t),F=n.map(A.measure),V=ySe(u,d),$=V.measureSize(D),q=kSe($),K=xSe(l,$),ee=!m&&!!S,L=m||!!S,{slideSizes:P,slideSizesWithGaps:I,startGap:G,endGap:U}=$Se(V,D,F,n,L,r),M=VSe(V,$,j,m,D,F,G,U,T),{snaps:H,snapsAligned:W}=ASe(V,K,D,F,M),te=-aa(H)+aa(I),{snapsContained:le,scrollContainLimit:ce}=CSe($,te,W,S,T),Y=ee?le:W,{limit:oe}=ESe(te,Y,m),he=SF(Eg(Y),f,m),be=he.clone(),we=Ap(n),xe=({dragHandler:Fe,scrollBody:tt,scrollBounds:Ge,options:{loop:mt}})=>{mt||Ge.constrain(Fe.pointerDown()),tt.seek()},Ae=({scrollBody:Fe,translate:tt,location:Ge,offsetLocation:mt,previousLocation:kt,scrollLooper:Mt,slideLooper:on,dragHandler:pr,animation:Wn,eventHandler:Ye,scrollBounds:Ct,options:{loop:Dt}},at)=>{const gt=Fe.settled(),qe=!Ct.shouldConstrain(),xt=Dt?gt:gt&&qe,zt=xt&&!pr.pointerDown();zt&&Wn.stop();const Et=Ge.get()*at+kt.get()*(1-at);mt.set(Et),Dt&&(Mt.loop(Fe.direction()),on.loop()),tt.to(mt.get()),zt&&Ye.emit("settle"),xt||Ye.emit("scroll")},re=vSe(s,r,()=>xe(Ee),Fe=>Ae(Ee,Fe)),Ce=.68,Ze=Y[he.get()],it=Tm(Ze),jt=Tm(Ze),We=Tm(Ze),ct=Tm(Ze),J=SSe(it,We,jt,ct,g,Ce),ae=RSe(m,Y,te,oe,ct),fe=OSe(re,he,be,J,ae,ct,o),ze=zSe(oe),Me=Rp(),_e=LSe(t,n,o,w),{slideRegistry:Be}=MSe(ee,S,Y,ce,M,we),ot=DSe(e,n,Be,fe,J,Me,o,R),Ee={ownerDocument:s,ownerWindow:r,eventHandler:o,containerRect:D,slideRects:F,animation:re,axis:V,dragHandler:bSe(V,e,s,r,ct,wSe(V,r),it,re,fe,J,ae,he,o,q,x,b,k,Ce,z),eventStore:Me,percentOfView:q,index:he,indexPrevious:be,limit:oe,location:it,offsetLocation:We,previousLocation:jt,options:a,resizeHandler:NSe(t,o,r,n,V,C,A),scrollBody:J,scrollBounds:_Se(oe,We,ct,J,q),scrollLooper:TSe(te,oe,We,[it,We,jt,ct]),scrollProgress:ze,scrollSnapList:Y.map(ze.get),scrollSnaps:Y,scrollTarget:ae,scrollTo:fe,slideLooper:PSe(V,$,te,P,I,H,Y,We,n),slideFocus:ot,slidesHandler:ISe(t,o,E),slidesInView:_e,slideIndexes:we,slideRegistry:Be,slidesToScroll:M,target:ct,translate:_F(V,t)};return Ee}function FSe(){let e={},t;function n(d){t=d}function s(d){return e[d]||[]}function r(d){return s(d).forEach(f=>f(t,d)),u}function a(d,f){return e[d]=s(d).concat([f]),u}function o(d,f){return e[d]=s(d).filter(m=>m!==f),u}function l(){e={}}const u={init:n,emit:r,off:o,on:a,clear:l};return u}const USe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function HSe(e){function t(a,o){return NF(a,o||{})}function n(a){const o=a.breakpoints||{},l=Mp(o).filter(u=>e.matchMedia(u).matches).map(u=>o[u]).reduce((u,d)=>t(u,d),{});return t(a,l)}function s(a){return a.map(o=>Mp(o.breakpoints||{})).reduce((o,l)=>o.concat(l),[]).map(e.matchMedia)}return{mergeOptions:t,optionsAtMedia:n,optionsMediaQueries:s}}function qSe(e){let t=[];function n(a,o){return t=o.filter(({options:l})=>e.optionsAtMedia(l).active!==!1),t.forEach(l=>l.init(a,e)),o.reduce((l,u)=>Object.assign(l,{[u.name]:u}),{})}function s(){t=t.filter(a=>a.destroy())}return{init:n,destroy:s}}function iy(e,t,n){const s=e.ownerDocument,r=s.defaultView,a=HSe(r),o=qSe(a),l=Rp(),u=FSe(),{mergeOptions:d,optionsAtMedia:f,optionsMediaQueries:m}=a,{on:g,off:x,emit:b}=u,w=V;let j=!1,k,S=d(USe,iy.globalOptions),C=d(S),E=[],z,R,T;function A(){const{container:we,slides:xe}=C;R=(iS(we)?e.querySelector(we):we)||e.children[0];const re=iS(xe)?R.querySelectorAll(xe):xe;T=[].slice.call(re||R.children)}function D(we){const xe=BSe(e,R,T,s,r,we,u);if(we.loop&&!xe.slideLooper.canLoop()){const Ae=Object.assign({},we,{loop:!1});return D(Ae)}return xe}function F(we,xe){j||(S=d(S,we),C=f(S),E=xe||E,A(),k=D(C),m([S,...E.map(({options:Ae})=>Ae)]).forEach(Ae=>l.add(Ae,"change",V)),C.active&&(k.translate.to(k.location.get()),k.animation.init(),k.slidesInView.init(),k.slideFocus.init(be),k.eventHandler.init(be),k.resizeHandler.init(be),k.slidesHandler.init(be),k.options.loop&&k.slideLooper.loop(),R.offsetParent&&T.length&&k.dragHandler.init(be),z=o.init(be,E)))}function V(we,xe){const Ae=M();$(),F(d({startIndex:Ae},we),xe),u.emit("reInit")}function $(){k.dragHandler.destroy(),k.eventStore.clear(),k.translate.clear(),k.slideLooper.clear(),k.resizeHandler.destroy(),k.slidesHandler.destroy(),k.slidesInView.destroy(),k.animation.destroy(),o.destroy(),l.clear()}function q(){j||(j=!0,l.clear(),$(),u.emit("destroy"),u.clear())}function K(we,xe,Ae){!C.active||j||(k.scrollBody.useBaseFriction().useDuration(xe===!0?0:C.duration),k.scrollTo.index(we,Ae||0))}function ee(we){const xe=k.index.add(1).get();K(xe,we,-1)}function L(we){const xe=k.index.add(-1).get();K(xe,we,1)}function P(){return k.index.add(1).get()!==M()}function I(){return k.index.add(-1).get()!==M()}function G(){return k.scrollSnapList}function U(){return k.scrollProgress.get(k.offsetLocation.get())}function M(){return k.index.get()}function H(){return k.indexPrevious.get()}function W(){return k.slidesInView.get()}function te(){return k.slidesInView.get(!1)}function le(){return z}function ce(){return k}function Y(){return e}function oe(){return R}function he(){return T}const be={canScrollNext:P,canScrollPrev:I,containerNode:oe,internalEngine:ce,destroy:q,off:x,on:g,emit:b,plugins:le,previousScrollSnap:H,reInit:w,rootNode:Y,scrollNext:ee,scrollPrev:L,scrollProgress:U,scrollSnapList:G,scrollTo:K,selectedScrollSnap:M,slideNodes:he,slidesInView:W,slidesNotInView:te};return F(t,n),setTimeout(()=>u.emit("init"),0),be}iy.globalOptions=void 0;function zE(e={},t=[]){const n=v.useRef(e),s=v.useRef(t),[r,a]=v.useState(),[o,l]=v.useState(),u=v.useCallback(()=>{r&&r.reInit(n.current,s.current)},[r]);return v.useEffect(()=>{_E(n.current,e)||(n.current=e,u())},[e,u]),v.useEffect(()=>{mSe(s.current,t)||(s.current=t,u())},[t,u]),v.useEffect(()=>{if(fSe()&&o){iy.globalOptions=zE.globalOptions;const d=iy(o,n.current,s.current);return a(d),()=>d.destroy()}else a(void 0)},[o,a]),[l,r]}zE.globalOptions=void 0;const CF=v.createContext(null);function Xb(){const e=v.useContext(CF);if(!e)throw new Error("useCarousel must be used within a <Carousel />");return e}const Qb=v.forwardRef(({orientation:e="horizontal",opts:t,setApi:n,plugins:s,className:r,children:a,...o},l)=>{const[u,d]=zE({...t,axis:e==="horizontal"?"x":"y"},s),[f,m]=v.useState(!1),[g,x]=v.useState(!1),b=v.useCallback(S=>{S&&(m(S.canScrollPrev()),x(S.canScrollNext()))},[]),w=v.useCallback(()=>{d==null||d.scrollPrev()},[d]),j=v.useCallback(()=>{d==null||d.scrollNext()},[d]),k=v.useCallback(S=>{S.key==="ArrowLeft"?(S.preventDefault(),w()):S.key==="ArrowRight"&&(S.preventDefault(),j())},[w,j]);return v.useEffect(()=>{!d||!n||n(d)},[d,n]),v.useEffect(()=>{if(d)return b(d),d.on("reInit",b),d.on("select",b),()=>{d==null||d.off("select",b)}},[d,b]),i.jsx(CF.Provider,{value:{carouselRef:u,api:d,opts:t,orientation:e||((t==null?void 0:t.axis)==="y"?"vertical":"horizontal"),scrollPrev:w,scrollNext:j,canScrollPrev:f,canScrollNext:g},children:i.jsx("div",{ref:l,onKeyDownCapture:k,className:se("relative",r),...o,children:a})})});Qb.displayName="Carousel";const e1=v.forwardRef(({className:e,...t},n)=>{const{carouselRef:s,orientation:r}=Xb();return i.jsx("div",{ref:s,className:"overflow-hidden",children:i.jsx("div",{ref:n,className:se("flex",r==="horizontal"?"-ml-4":"-mt-4 flex-col",e),...t})})});e1.displayName="CarouselContent";const t1=v.forwardRef(({className:e,...t},n)=>{const{orientation:s}=Xb();return i.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:se("min-w-0 shrink-0 grow-0 basis-full",s==="horizontal"?"pl-4":"pt-4",e),...t})});t1.displayName="CarouselItem";const ZSe=v.forwardRef(({className:e,variant:t="outline",size:n="icon",...s},r)=>{const{orientation:a,scrollPrev:o,canScrollPrev:l}=Xb();return i.jsxs(X,{ref:r,variant:t,size:n,className:se("absolute h-8 w-8 rounded-full",a==="horizontal"?"-left-12 -translate-y-1/2 top-1/2":"-top-12 -translate-x-1/2 left-1/2 rotate-90",e),disabled:!l,onClick:o,...s,children:[i.jsx($o,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Previous slide"})]})});ZSe.displayName="CarouselPrevious";const WSe=v.forwardRef(({className:e,variant:t="outline",size:n="icon",...s},r)=>{const{orientation:a,scrollNext:o,canScrollNext:l}=Xb();return i.jsxs(X,{ref:r,variant:t,size:n,className:se("absolute h-8 w-8 rounded-full",a==="horizontal"?"-right-12 -translate-y-1/2 top-1/2":"-bottom-12 -translate-x-1/2 left-1/2 rotate-90",e),disabled:!l,onClick:o,...s,children:[i.jsx(ur,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Next slide"})]})});WSe.displayName="CarouselNext";const KSe=[{label:"LIBELA",description:"Vizualni zpetna vazba polohy desticky pro presnou korekci"},{label:"WOODEN / CARBON PLATFORM",description:"Vyrobeno z kvalitnich materialu s povrchovou upravou"},{label:"BASE CONTROL",description:"Zjednodusuje najit a citit bazi opory"},{label:"BALANCE ZONE",description:"Balancni opora s optimalnim prumerem"}],GSe=[{title:"Zaujeti cvicebnich poloh",description:"Cvicime v asymetrickem sedu z uziho a z sirsiho. Snadnejsi je zacit s uzim sedem, kde se lepe aktivuji svaly nohy a chodidla.",image:"/postup-prvni.jpg",icon:U_},{title:"Cviceni",description:"V asymetrickem sedu postupne nacitame stabilitu, tlacime nohy vazi podel a promenujeme svaly. Potern sledujeme citlivost a reakce tela.",image:"/postup-druhy.jpg",icon:p2},{title:"Pocity",description:"Pri postupnem zatezovani vnimame, jak se noha a chodidlo prizpusobuji. V idealnich stavu citi vahu, a pritom sledujeme odchylky spoliu.",image:"/postup-treti.jpg",icon:Li},{title:"Rezim cviceni",description:"Postupujte az od sedu pres stoj. V obou dalsinch stavu cvicte dle svych moznosti - sledujte vlastni pokroky.",image:"/postup-ctvrty.jpg",icon:Du}],YSe=[{name:"CARBON",description:"Aerodynamicky design doplni sportovni vizual a zaroven nabidne maximalni odolnost diky karbonove povrchove uprave. Vhodna pro intenzivni pouziti.",price:"3 100",image:"/correctfoot-carbon-2048x1245.jpg",features:["Karbonova povrchova uprava","Maximalni odolnost","Sportovni design"]},{name:"WOOD",description:"Elegantni provedeni z kvalitniho ceskeho dreva. Prirodni material a nadcasovy vzhled, ktery se hodi do kazdeho interieru.",price:"2 900",image:"/correctfoot-wood-2048x1545.jpg",features:["Ceske drevo","Prirodni material","Nadcasovy design"]}];function JSe(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Popis correctfoot"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"S correctfoot trenujete chodidlo, celou nohu, zaklady a drzeni tela na sve deti."})]}),i.jsxs("div",{className:"mt-14 grid grid-cols-1 gap-6 md:grid-cols-2",children:[i.jsx("div",{className:"overflow-hidden rounded-2xl border",children:i.jsx("img",{src:"/popis-correctfoot.jpg",alt:"Correctfoot - libela a platforma",className:"h-full w-full object-cover"})}),i.jsx("div",{className:"overflow-hidden rounded-2xl border",children:i.jsx("img",{src:"/popis-correctfoot2.jpg",alt:"Correctfoot - base control a balance zone",className:"h-full w-full object-cover"})})]}),i.jsx("div",{className:"mt-10 grid grid-cols-2 gap-4 md:grid-cols-4",children:KSe.map(e=>i.jsxs("div",{className:"rounded-xl border bg-card p-5 transition-shadow hover:shadow-md",children:[i.jsx("p",{className:"text-sm font-bold uppercase tracking-wide",children:e.label}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed text-muted-foreground",children:e.description})]},e.label))})]})}function XSe(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsx("div",{className:"mx-auto max-w-3xl text-center",children:i.jsxs("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:["Jak cvicit s ",i.jsx("span",{className:"font-bold",children:"correctfoot"}),"?"]})}),i.jsx("div",{className:"mt-14 flex flex-col",children:GSe.map((e,t)=>i.jsxs("div",{children:[t>0&&i.jsx($t,{}),i.jsxs("div",{className:"grid grid-cols-1 items-center gap-8 py-10 md:grid-cols-[1fr_auto]",children:[i.jsxs("div",{className:`flex flex-col gap-4 ${t%2===1?"md:order-2":""}`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-full bg-foreground/5",children:i.jsx(e.icon,{className:"h-5 w-5 text-foreground/70"})}),i.jsx("h3",{className:"text-xl font-semibold",children:e.title})]}),i.jsx("p",{className:"max-w-md text-muted-foreground leading-relaxed",children:e.description})]}),i.jsx("div",{className:`w-full overflow-hidden rounded-2xl bg-muted md:w-72 lg:w-80 ${t%2===1?"md:order-1":""}`,children:i.jsx("img",{src:e.image,alt:e.title,className:"mx-auto h-auto max-h-[24rem] w-auto object-contain"})})]})]},e.title))})]})}function QSe(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsx("div",{className:"mx-auto max-w-3xl text-center",children:i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Vyberte si ze dvou variant"})}),i.jsx("div",{className:"mt-14 flex flex-col gap-10",children:YSe.map((e,t)=>i.jsx("div",{className:"group overflow-hidden rounded-3xl border bg-card transition-shadow hover:shadow-lg",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[i.jsxs("div",{className:`flex flex-col justify-center gap-5 p-8 md:p-12 ${t%2===1?"md:order-2":""}`,children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:"correctfoot"}),i.jsx("h3",{className:"mt-1 text-4xl font-bold tracking-tight",children:e.name})]}),i.jsx("p",{className:"text-muted-foreground leading-relaxed",children:e.description}),i.jsx("ul",{className:"flex flex-col gap-2",children:e.features.map(n=>i.jsxs("li",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("span",{className:"h-1.5 w-1.5 shrink-0 rounded-full bg-foreground/40"}),n]},n))}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("p",{className:"text-2xl font-bold",children:[e.price," Kc"]}),i.jsx(X,{size:"sm",children:"Koupit"})]})]}),i.jsx("div",{className:`bg-muted p-6 ${t%2===1?"md:order-1":""}`,children:i.jsx("img",{src:e.image,alt:`Correctfoot ${e.name}`,className:"h-full w-full rounded-xl object-cover transition-transform duration-500 group-hover:scale-[1.02]"})})]})},e.name))})]})}const e_e=[{icon:Rie,label:"70 dni",description:"Strukturovany plan"},{icon:cn,label:"15 min",description:"Denne staci"},{icon:LL,label:"Dozivotni",description:"Pristup k materialu"},{icon:La,label:"Video",description:"Navod ke kazdemu cviku"}],t_e=[{title:"Faze 1 - Zaklady",description:"Naucite se spravnou techniku zakladnich cviku. Zamerime se na mobilitu, stabilitu a spravne dychani.",icon:lg,days:"Den 1-20"},{title:"Faze 2 - Rozvoj",description:"Postupne zvysujeme intenzitu a pridavame slozitejsi cviky. Budujete silu a vydrz.",icon:Du,days:"Den 21-45"},{title:"Faze 3 - Vykonnost",description:"Pokrocile cviky a kombinace pro maximalni efekt. Telo je pripravene na vyssi zatez.",icon:fb,days:"Den 46-60"},{title:"Faze 4 - Udrzba",description:"Upevnete ziskane navyky. Naucite se, jak pokracovat i po skonceni programu.",icon:aae,days:"Den 61-70"}],n_e=[{title:"Zacatecnici",description:"Nikdy jste pravidelne necvicili? 4CORE vas provede od uplnych zakladu."},{title:"Rehabilitanti",description:"Po zraneni nebo operaci potrebujete setrny navrat k pohybu."},{title:"Sportovci",description:"Chcete zlepsit zakladni stabilitu a predejit zranenim."}];function s_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Co vas ceka"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"70 dni strukturovaneho treninku, ktery zvladnete kazdy den za 15 minut."})]}),i.jsx("div",{className:"mt-14 grid grid-cols-2 gap-4 md:grid-cols-4",children:e_e.map(e=>i.jsxs("div",{className:"group flex flex-col items-center rounded-2xl border bg-card p-6 text-center transition-shadow hover:shadow-md",children:[i.jsx("div",{className:"mb-4 flex h-12 w-12 items-center justify-center rounded-xl bg-foreground/5 transition-colors group-hover:bg-foreground/10",children:i.jsx(e.icon,{className:"h-6 w-6 text-foreground/70"})}),i.jsx("p",{className:"text-2xl font-bold",children:e.label}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:e.description})]},e.label))})]})}function r_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsx("div",{className:"mx-auto max-w-3xl text-center",children:i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Struktura programu"})}),i.jsx("div",{className:"mt-14 flex flex-col",children:t_e.map((e,t)=>i.jsxs("div",{children:[t>0&&i.jsx($t,{}),i.jsxs("div",{className:"flex items-start gap-6 py-8",children:[i.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-foreground/5",children:i.jsx(e.icon,{className:"h-6 w-6 text-foreground/70"})}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("p",{className:"text-xs font-semibold uppercase tracking-widest text-muted-foreground",children:e.days}),i.jsx("h3",{className:"text-lg font-semibold",children:e.title}),i.jsx("p",{className:"max-w-lg leading-relaxed text-muted-foreground",children:e.description})]})]})]},e.title))})]})}function i_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsx("div",{className:"mx-auto max-w-3xl text-center",children:i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Pro koho je 4CORE"})}),i.jsx("div",{className:"mt-14 grid grid-cols-1 gap-6 md:grid-cols-3",children:n_e.map(e=>i.jsxs("div",{className:"group rounded-2xl border bg-card p-8 transition-shadow hover:shadow-md",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e.title}),i.jsx("p",{className:"mt-3 leading-relaxed text-muted-foreground",children:e.description})]},e.title))})]})}const a_e=[{title:"Zaklady funkcniho treninku",description:"Pochopte principy pohybu a naucte se, proc je funkcni trenink zaklad zdravi."},{title:"Cviky pro spravne drzeni tela",description:"Desitky cviku s detailnimi popisy a ilustracemi pro kazdodenni praxi."},{title:"Rehabilitacni programy",description:"Komplexni programy pro navrat k pohybu po zraneni ci operaci."},{title:"Prevence zraneni",description:"Jak predchazet beznym zranenim a udrzet telo odolne."},{title:"Treninkove plany",description:"Hotove plany pro ruzne urovne zdatnosti - od zacatecniku po pokrocile."}],o_e=[{icon:Gt,title:"Prakticky pruvodce",description:"Zadna teorie navic. Kazda stranka vas privede bliz ke zdravemu pohybu."},{icon:Ch,title:"20 let zkusenosti",description:"Autori s dlouholetou praxi ve fyzioterapii a sportovnim treninku."},{icon:Fa,title:"Pro vsechny urovne",description:"At uz zacinate nebo jste pokrocily, kniha se prizpusobi vasim potrebam."},{icon:PL,title:"Pohyb jako lek",description:"Naucte se, jak vyuzit pohyb jako nastroj pro zlepseni celkoveho zdravi."}];function l_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"O knize Fyziotrenink"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Pohyb jako lek - prakticky pruvodce funkcnim treninkem a rehabilitaci."})]}),i.jsx("div",{className:"mt-14 grid grid-cols-1 gap-6 sm:grid-cols-2",children:o_e.map(e=>i.jsxs("div",{className:"group rounded-2xl border bg-card p-8 transition-shadow hover:shadow-md",children:[i.jsx("div",{className:"mb-5 flex h-12 w-12 items-center justify-center rounded-xl bg-foreground/5 transition-colors group-hover:bg-foreground/10",children:i.jsx(e.icon,{className:"h-6 w-6 text-foreground/70"})}),i.jsx("h3",{className:"text-lg font-semibold",children:e.title}),i.jsx("p",{className:"mt-2 leading-relaxed text-muted-foreground",children:e.description})]},e.title))})]})}function c_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("div",{className:"mx-auto mb-6 flex h-12 w-12 items-center justify-center rounded-xl bg-foreground/5",children:i.jsx(Vo,{className:"h-6 w-6 text-foreground/70"})}),i.jsx("h2",{className:"text-3xl font-semibold tracking-tight md:text-4xl",children:"Co v knize najdete"})]}),i.jsx("div",{className:"mx-auto mt-14 max-w-2xl flex flex-col",children:a_e.map((e,t)=>i.jsxs("div",{children:[t>0&&i.jsx($t,{}),i.jsxs("div",{className:"flex items-start gap-5 py-7",children:[i.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-foreground text-sm font-bold text-background",children:t+1}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold",children:e.title}),i.jsx("p",{className:"mt-1 leading-relaxed text-muted-foreground",children:e.description})]})]})]},e.title))})]})}function u_e({label:e,items:t,className:n}){return i.jsxs("section",{className:se("relative overflow-hidden py-16 md:py-24",n),children:[e&&i.jsx("p",{className:"font-mono text-sm font-semibold uppercase tracking-widest text-muted-foreground",children:e}),i.jsx("div",{className:"relative z-10 mt-8 grid grid-cols-1 gap-6 md:grid-cols-5",children:t.map((s,r)=>i.jsxs(Re,{className:se("col-span-1 shadow-lg",s.className),children:[i.jsxs(Je,{className:s.headerClassName,children:[s.imagePosition==="header"&&i.jsx("img",{src:s.image.src,alt:s.image.alt,className:se("object-cover",s.image.className)}),i.jsx(Qe,{className:"mt-0! text-3xl",children:s.title}),s.description.map((a,o)=>i.jsx(Xt,{className:"mt-3 text-base font-medium leading-snug",children:a},`desc-${o}`))]}),i.jsx(Oe,{className:s.contentClassName,children:s.imagePosition==="content"&&i.jsx("img",{src:s.image.src,alt:s.image.alt,className:se("self-center object-cover",s.image.className)})})]},`bento-${r}`))})]})}function mm({children:e,delay:t=0,className:n,duration:s=.3}){return i.jsx(ne.div,{initial:{x:10,opacity:0},animate:{x:0,opacity:1},exit:{x:-10,opacity:0},transition:{duration:s,ease:"easeOut",delay:t},className:n,children:e})}function d_e({testimonial:e}){return i.jsxs("div",{className:"hidden h-96 flex-1/2 shrink-0 flex-col items-start justify-end rounded-lg border bg-muted p-6 sm:flex lg:h-full",children:[i.jsxs("p",{className:"mt-8 text-lg leading-tight",children:["",e.quote,""]}),i.jsxs("p",{className:"mt-4 text-sm font-medium",children:[" ",e.author," ",i.jsx("span",{className:"font-light",children:e.designation})]})]})}function h_e({totalFeatures:e,activeIndex:t,scrollYProgress:n}){const s=1/e,r=t*s,a=(t+1)*s,o=Eo(n,[r,a],["0%","100%"]);return i.jsx("div",{className:"mt-14 hidden w-fit items-center justify-center gap-3 rounded-full bg-muted px-6 py-4 lg:flex",children:Array.from({length:e}).map((l,u)=>i.jsx("div",{className:se("relative h-1.5 w-1.5 rounded-full bg-foreground/20",t===u&&"w-10",t>u&&"bg-foreground"),children:t===u&&i.jsx(ne.div,{style:{width:o},className:"absolute top-0 left-0 h-full rounded-full bg-foreground"})},`scroll-progress-${u}`))})}function qO({feature:e,index:t,testimonial:n,totalFeatures:s,scrollYProgress:r}){return i.jsxs("div",{className:se("flex w-full flex-col-reverse justify-between gap-8 py-4 lg:absolute lg:top-1/2 lg:left-1/2 lg:h-full lg:-translate-x-1/2 lg:-translate-y-1/2 lg:flex-row lg:items-center lg:border-l lg:px-10"),children:[i.jsxs("div",{className:"flex flex-2/5 flex-col gap-8 lg:h-full lg:gap-0",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx(mm,{children:i.jsx("p",{className:"text-xl font-semibold",children:e.title})}),i.jsx(mm,{delay:.15,children:i.jsx("p",{className:"font-light",children:e.subtitle})})]}),i.jsx(h_e,{totalFeatures:s,activeIndex:t,scrollYProgress:r}),i.jsxs("div",{className:"flex flex-col gap-1 lg:mt-auto",children:[i.jsx(mm,{delay:.3,children:i.jsx("p",{className:"text-6xl font-medium",children:e.statistics.value})}),i.jsx(mm,{delay:.45,children:i.jsx("p",{className:"text-sm font-light",children:e.statistics.label})})]})]}),i.jsxs(mm,{duration:.6,className:"flex h-96 w-full flex-3/5 items-center gap-6 lg:h-full",children:[i.jsx("img",{src:e.visual,alt:e.title,className:se("h-96 w-full overflow-hidden rounded-lg border object-cover lg:h-full",t===0&&"flex-1/2")}),t===0&&i.jsx(d_e,{testimonial:n})]})]})}function f_e({features:e,testimonial:t,className:n}){const s=v.useRef(null),{scrollYProgress:r}=P_({target:s,offset:["start start","end end"]}),[a,o]=v.useState(0);return v.useEffect(()=>{const l=r.on("change",u=>{const d=1/e.length,f=Math.min(e.length-1,Math.floor(u/d));o(f)});return()=>l()},[e,r]),i.jsxs("section",{ref:s,className:se("relative",n),style:{height:`${(e.length+1)*100}vh`},children:[i.jsx("div",{className:"sticky top-0 hidden h-screen w-full flex-col items-center justify-center gap-10 lg:flex",children:i.jsx("div",{className:"relative h-full w-full lg:h-1/2",children:i.jsx(jn,{mode:"popLayout",children:i.jsx(qO,{index:a,feature:e[a],testimonial:t,totalFeatures:e.length,scrollYProgress:r},`feature-${a}`)})})}),i.jsx("div",{className:"flex w-full flex-col items-center justify-center gap-10 py-16 lg:hidden",children:i.jsx("div",{className:"relative h-full w-full",children:e.map((l,u)=>i.jsx(qO,{index:u,feature:l,testimonial:t,totalFeatures:e.length,scrollYProgress:r},`feature-mobile-${u}`))})})]})}var n1="Tabs",[m_e]=fr(n1,[af]),EF=af(),[p_e,AE]=m_e(n1),TF=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:r,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:u="automatic",...d}=e,f=lc(l),[m,g]=Fr({prop:s,onChange:r,defaultProp:a??"",caller:n1});return i.jsx(p_e,{scope:n,baseId:jr(),value:m,onValueChange:g,orientation:o,dir:f,activationMode:u,children:i.jsx(Xe.div,{dir:f,"data-orientation":o,...d,ref:t})})});TF.displayName=n1;var zF="TabsList",AF=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...r}=e,a=AE(zF,n),o=EF(n);return i.jsx(TC,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:s,children:i.jsx(Xe.div,{role:"tablist","aria-orientation":a.orientation,...r,ref:t})})});AF.displayName=zF;var MF="TabsTrigger",RF=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:r=!1,...a}=e,o=AE(MF,n),l=EF(n),u=PF(o.baseId,s),d=IF(o.baseId,s),f=s===o.value;return i.jsx(zC,{asChild:!0,...l,focusable:!r,active:f,children:i.jsx(Xe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":d,"data-state":f?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...a,ref:t,onMouseDown:Ie(e.onMouseDown,m=>{!r&&m.button===0&&m.ctrlKey===!1?o.onValueChange(s):m.preventDefault()}),onKeyDown:Ie(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&o.onValueChange(s)}),onFocus:Ie(e.onFocus,()=>{const m=o.activationMode!=="manual";!f&&!r&&m&&o.onValueChange(s)})})})});RF.displayName=MF;var OF="TabsContent",DF=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:r,children:a,...o}=e,l=AE(OF,n),u=PF(l.baseId,s),d=IF(l.baseId,s),f=s===l.value,m=v.useRef(f);return v.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),i.jsx(ss,{present:r||f,children:({present:g})=>i.jsx(Xe.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":u,hidden:!g,id:d,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&a})})});DF.displayName=OF;function PF(e,t){return`${e}-trigger-${t}`}function IF(e,t){return`${e}-content-${t}`}var g_e=TF,LF=AF,$F=RF,VF=DF;const ya=g_e,Hi=v.forwardRef(({className:e,...t},n)=>i.jsx(LF,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Hi.displayName=LF.displayName;const kn=v.forwardRef(({className:e,...t},n)=>i.jsx($F,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1.5 font-medium text-sm disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));kn.displayName=$F.displayName;const In=v.forwardRef(({className:e,...t},n)=>i.jsx(VF,{ref:n,className:se("mt-2 ring-offset-0 ring-offset-background focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));In.displayName=VF.displayName;function x_e({heading:e,subheading:t,features:n,className:s}){var r;return i.jsxs("section",{className:se("py-16 md:py-24",s),children:[i.jsxs("div",{className:"flex gap-3 max-md:flex-col",children:[i.jsx("h2",{className:"flex-1 text-3xl font-semibold leading-tight tracking-tight text-balance md:text-4xl",children:e}),t&&i.jsx("p",{className:"flex-1 self-end text-lg font-medium text-muted-foreground",children:t})]}),i.jsxs(ya,{defaultValue:(r=n[0])==null?void 0:r.title,orientation:"vertical",className:"mt-8 grid grid-cols-1 gap-4 rounded-xl border p-4 md:mt-12 lg:grid-cols-4",children:[i.jsx(Hi,{className:"flex h-auto flex-col justify-start rounded-xl bg-muted p-1.5",children:n.map(a=>i.jsx(kn,{value:a.title,className:"w-full justify-start rounded-lg px-4 py-3 text-start whitespace-normal transition-colors duration-300 data-[state=active]:shadow-xl lg:px-6 lg:py-4",children:i.jsxs("div",{children:[i.jsx(a.icon,{className:"size-7 md:size-8 lg:size-9"}),i.jsx("h3",{className:"mt-3 font-semibold",children:a.title}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:a.description})]})},a.title))}),n.map(a=>i.jsxs(In,{className:se("col-span-1 m-0 overflow-hidden rounded-xl bg-background lg:col-span-3",a.content.className),value:a.title,children:[i.jsxs("div",{className:"max-w-2xl pb-4 text-balance",children:[i.jsxs("h4",{className:"inline font-semibold",children:[a.content.title," "]}),i.jsx("span",{className:"mt-2 font-medium text-pretty text-muted-foreground",children:a.content.description})]}),i.jsx("img",{src:a.content.image,alt:a.title,className:"h-[420px] w-full rounded-lg object-cover lg:h-[512px] lg:flex-1"})]},a.title))]})]})}const v_e=[{title:"Kombinace pruznych a pevnych materialu",subtitle:"Napomaha k aktivnimu sedu a spravnemu drzeni tela.",statistics:{value:"2x",label:"Lepsi drzeni tela oproti bezne zidli"},visual:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp"},{title:"Aktivni sed umoznuje lepe dychat",subtitle:"Spravna pozice panve a patere otevira prostor pro volne dychani.",statistics:{value:"40%",label:"Zlepseni kapacity plic pri spravnem sedu"},visual:"/lefttop1.png"},{title:"Opora pro panev",subtitle:"Tvar lineseat poskytuje oporu pro panev, to navadi ke snadnejsimu propojeni s hrudnikem.",statistics:{value:"85%",label:"Uzivatelu hlasi zlepseni do 14 dnu"},visual:"/IMG_9113_lineseat.png.webp"},{title:"Aktivace brisnich svalu",subtitle:"Behem sedu dochazi k aktivaci brisnich svalu a lepsi stabilite.",statistics:{value:"3x",label:"Vetsi aktivace core svalu nez na bezne zidli"},visual:"/MG_0170-1024x683-1.jpg.webp"}],y_e={quote:"Po dvou tydnech pouzivani lineseat jsem prestala mit bolesti zad pri dlouhem sezeni v kancelari.",author:"Jana K.",designation:"kancelarska pracovnice"},b_e=[{title:i.jsxs(i.Fragment,{children:["V aute i v",i.jsx("br",{}),"kancelari"]}),description:["Lineseat bere s sebou vsude. At sidite v aute, v kancelari, u stolu nebo na cestach.","Jediny sedak, ktery opravdu funguje - navrzeny fyzioterapeuty s 20letou zkusenosti."],image:{src:"/MG_0170-1024x683-1.jpg.webp",alt:"Lineseat v aute"},imagePosition:"content",className:"flex flex-col pl-6 py-6 overflow-hidden md:col-span-3 md:flex-row gap-6 md:gap-12",headerClassName:"flex-2 p-0 md:flex-1",contentClassName:"relative w-full self-start p-0 overflow-hidden rounded-l-xl border md:flex-1"},{title:"Vyzkousejte lineseat",description:["Prijdte si osobne vyzkouset do Dires Fyzio v Praze.","Nasi fyzioterapeuti vam poradi s nastavenim a vyberem."],image:{src:"/lefttop1.png",alt:"Lineseat produkt",className:"aspect-[2/1.1] rounded-xl"},className:"md:col-span-2 flex flex-col justify-center",contentClassName:"flex items-center justify-center",imagePosition:"content"},{title:"Vyvoj s fyzioterapeuty",description:["Lineseat vznikl ve spolupraci s prednimi ceskymi fyzioterapeuty a ortopedy."],image:{src:"/IMG_9113_lineseat.png.webp",alt:"Vyvoj lineseat",className:"aspect-2/1 rounded-xl flex-1 self-center mb-6"},className:"md:col-span-2",headerClassName:"h-full",imagePosition:"header"},{title:"Materialy a kvalita",description:["Vysokokvalitni pena s tvarovou pameti, protiskluzova spodni strana a pratelny potah na zip."],image:{src:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp",alt:"Lineseat detail materialu"},imagePosition:"content",className:"overflow-hidden md:col-span-3",headerClassName:"",contentClassName:"relative aspect-[2/1.25] mt-4 p-0 ml-8 w-full md:max-w-[400px] lg:max-w-[500px] overflow-hidden md:mx-auto rounded-t-xl"}],w_e=[{title:"Sezeni v aute",description:"Ergonomicka podpora pri dlouhe jizde.",icon:RL,content:{title:"Pohodlna jizda bez bolesti zad.",description:"Lineseat se dokonale prisedi na sedadlo v aute. Podporuje spravne drzeni panve a snizuje unavu pri dlouhych cestach. Snadne nasazeni i sundani.",image:"/MG_0170-1024x683-1.jpg.webp"}},{title:"Kancelarska prace",description:"Cely den u stolu bez nasledku.",icon:lie,content:{title:"Aktivni sed po celou pracovni dobu.",description:"Premiste lineseat na kancelarskou zidli a okamzite pocitite rozdil. Vase panev se nakloni do spravne pozice a pater se narovna prirozene.",image:"/lefttop1.png"}},{title:"Rehabilitace",description:"Podpora lecby a prevence.",icon:PL,content:{title:"Doporuceno fyzioterapeuty pro rehabilitaci.",description:"Lineseat je casto doporucovan pri bolestech zad, po operacich patere nebo pri prevenci problemu s drzenim tela. Jemne aktivuje spravne svalove skupiny.",image:"/IMG_9113_lineseat.png.webp"}},{title:"Cestovani",description:"Kompaktni a lehky, vzdy po ruce.",icon:dce,content:{title:"Vezmete si ho kamkoli s sebou.",description:"Lineseat je lehky a snadno prenosny. Pouzijte ho ve vlaku, v letadle nebo v hotelu. Nikdy nemusite sedet spatne.",image:"/CCC1D0D9-63F3-44A1-96BD-F5EA2903CBAD_1_201_a-e1719591631832.jpeg.webp"}}],j_e=[{step:"1",title:"Umistete na sedadlo",description:"Polozte lineseat na sedadlo v aute nebo na kancelarskou zidli. Protiskluzova spodni strana zajisti, ze sedak zustane na miste a nebude se posouvat behem sezeni. Neni potreba zadne upevneni ani pasky - staci jednoduche polozeni na povrch sedadla. Sedak se prisedi na jakoukoliv rovnou plochu, at uz je to sedadlo v osobnim aute, dodavce, kancelarskem kresle nebo doma u jidelniho stolu. Doporucujeme umistit sedak co nejblize k zadni operce, aby byla zajistena maximalni podpora panve a spodni casti zad.",image:"/MG_0170-1024x683-1.jpg.webp"},{step:"2",title:"Sednte si prirozene",description:"Sedak sam navede vasi panev do spravne pozice diky unikatni kombinaci pruznych a pevnych materialu, ktere podporuji aktivni sed bez namah. Jakmile si sednete, pocitite jemny tlak pod sedacimi kostmi, ktery prirozene nakloni panev do optimalni pozice. Tato pozice uvolni bederni pater a umozni hrudniku se otevrit. Nemusite premyslet o drzeni tela - sedak pracuje za vas. Behem prvnich minut si mozna vsimnete, ze sedite vyse a rovneji nez obvykle. To je spravne - vase telo se prisposobuje zdravejsi pozici, ktera snizuje zatez na meziobratlove plotenky a okolni svaly.",image:"/IMG_9113_lineseat.png.webp"},{step:"3",title:"Uzivejte si zdravy sed",description:"Vase telo si rychle zvykne na spravne drzeni. Pocitite uvolneni v zadech a zlepseni dychani jiz po prvnich minutach pouzivani. Doporucujeme zacinat s kratsimi intervaly okolo 30-60 minut a postupne prodluzovat dobu sezeni, jak si vase svaly zvykaji na novou pozici. Vetsi uzivatelu hlasi vyrazne zlepseni do dvou tydnu pravidelnaho pouzivani. Lineseat muzete snadno prenast mezi autem a kancelari - je lehky a kompaktni. Pravidelnym pouzivanim posilujete hluboky stabilizacni system, zlepsujete dychani a predchazite chronickym bolestem zad, ktere jsou spojeny s dlouhodobym sezenim v nespravne pozici.",image:"/lefttop1.png"}];function k_e(){return i.jsx(f_e,{features:v_e,testimonial:y_e})}function N_e(){return i.jsx(u_e,{label:"PROC LINESEAT?",items:b_e})}function S_e(){return i.jsx(x_e,{heading:"Kde vsude lineseat pouzijete",subheading:"Lineseat je postaven na navycich, ktere delaji z dobreho sezeni kazdodenni rutinu - bez namah, bez bolesti.",features:w_e})}const Jk=[{step:"01",title:"Umistete na sedadlo",description:"Polozte lineseat na libovolne sedadlo. Protiskluzova spodni strana ho udrzuje na miste bez jakehokoli upevneni  funguje v aute, kancelari i doma."},{step:"02",title:"Sednte si prirozene",description:"Jakmile si sednete, lineseat prirozene navede vasi panev do optimalni polohy. Zadna nastaveni, zadna namaha  spravne drzeni nastava automaticky."},{step:"03",title:"Uzivejte aktivni sed",description:"Vase telo se rychle prisposobi. Pocitite uvolneni v zadech a lepsi dychani uz behem prvnich minut. Pravidelnym pouzivanim predchazite chronicke bolesti zad."}];function __e(){const e=v.useRef(null),t=v.useRef(null),[n,s]=v.useState(0),[r,a]=v.useState(0),{scrollYProgress:o}=P_({target:e,offset:["start start","end start"]});return v.useEffect(()=>{const l=t.current;if(!l)return;l.pause();const u=()=>a(l.duration);return l.addEventListener("loadedmetadata",u),l.readyState>=1&&a(l.duration),()=>l.removeEventListener("loadedmetadata",u)},[]),qte(o,"change",l=>{t.current&&r>0&&(t.current.currentTime=l*r),l<.33?s(0):l<.66?s(1):s(2)}),i.jsx("section",{className:"relative px-4 lg:px-8",children:i.jsx("div",{ref:e,className:"relative h-[300vh]",children:i.jsx("div",{className:"sticky top-4 overflow-hidden rounded-3xl bg-black",style:{height:"calc(100vh - 2rem)"},children:i.jsxs("div",{className:"grid h-full grid-cols-1 grid-rows-[2fr_3fr] lg:grid-cols-2 lg:grid-rows-1",children:[i.jsxs("div",{className:"relative",children:[i.jsx("video",{ref:t,src:"/New-Rajden1.mp4",muted:!0,playsInline:!0,preload:"auto",className:"h-full w-full object-cover"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-black/60 lg:hidden"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent to-black/20 hidden lg:block"})]}),i.jsxs("div",{className:"flex flex-col justify-center overflow-y-auto px-5 py-4 lg:justify-start lg:overflow-visible lg:px-16 lg:pb-0 lg:pt-40",children:[i.jsx("p",{className:"mb-1.5 lg:mb-3 text-[10px] lg:text-xs font-semibold uppercase tracking-[0.2em] text-white/40",children:"Navod k pouziti"}),i.jsx("h2",{className:"mb-4 lg:mb-10 text-xl lg:text-4xl font-semibold tracking-tight text-white",children:"Jak pouzivat lineseat"}),i.jsx("div",{className:"flex flex-col gap-0",children:Jk.map((l,u)=>{const d=u===n;return i.jsxs("div",{className:"group relative flex gap-4 lg:gap-6 pb-4 lg:pb-8 last:pb-0",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"flex h-8 w-8 lg:h-10 lg:w-10 shrink-0 items-center justify-center rounded-full border text-xs lg:text-sm font-bold transition-all duration-500",style:{borderColor:d?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.15)",backgroundColor:d?"white":"transparent",color:d?"black":"rgba(255,255,255,0.3)"},children:l.step}),u<Jk.length-1&&i.jsx("div",{className:"mt-2 w-px flex-1 transition-all duration-700",style:{backgroundColor:u<n?"rgba(255,255,255,0.6)":"rgba(255,255,255,0.1)"}})]}),i.jsxs("div",{className:"flex flex-col gap-1 pt-1 lg:gap-1.5 lg:pt-1.5 transition-all duration-500",style:{opacity:d?1:.25},children:[i.jsx("h3",{className:"text-sm lg:text-lg font-semibold text-white",style:{transform:d?"translateX(0)":"translateX(-6px)",transition:"transform 0.5s ease"},children:l.title}),i.jsx("p",{className:"max-w-sm text-xs lg:text-base leading-relaxed text-white/60",style:{maxHeight:d?"8rem":"0",overflow:"hidden",transition:"max-height 0.5s ease"},children:l.description})]})]},l.step)})}),i.jsx("div",{className:"mt-4 lg:mt-10 flex gap-2",children:Jk.map((l,u)=>i.jsx("div",{className:"h-0.5 flex-1 rounded-full transition-all duration-500",style:{backgroundColor:u<=n?"rgba(255,255,255,0.9)":"rgba(255,255,255,0.15)"}},`dot-${u}`))})]})]})})})})}function C_e(){return i.jsxs("section",{className:"py-16 md:py-24",children:[i.jsxs("div",{className:"mx-auto max-w-3xl text-center",children:[i.jsx("p",{className:"text-sm font-semibold uppercase tracking-widest text-muted-foreground",children:"Jednoduche pouziti"}),i.jsx("h2",{className:"mt-2 text-3xl font-semibold tracking-tight md:text-4xl",children:"Navod k pouziti"}),i.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"S lineseat neni potreba nic nastavovat. Staci polozit a sednout si."})]}),i.jsx("div",{className:"mt-14 flex flex-col gap-12 md:gap-0",children:j_e.map((e,t)=>i.jsxs("div",{className:"group grid grid-cols-1 items-center gap-8 md:grid-cols-2 md:gap-12",children:[i.jsx("div",{className:`overflow-hidden rounded-2xl border bg-muted/30 ${t%2===1?"md:order-2":""}`,children:i.jsx("img",{src:e.image,alt:e.title,className:"aspect-[4/3] w-full object-contain p-6 transition-transform duration-500 group-hover:scale-105"})}),i.jsxs("div",{className:`flex flex-col gap-4 ${t%2===1?"md:order-1 md:text-right md:items-end":""}`,children:[i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-foreground text-xl font-bold text-background",children:e.step}),i.jsx("h3",{className:"text-2xl font-semibold tracking-tight",children:e.title}),i.jsx("p",{className:"max-w-md leading-relaxed text-muted-foreground",children:e.description})]})]},e.step))})]})}function E_e(e){if(!e.src.startsWith("http"))return{src:e.src,srcset:"",sizes:"",alt:e.alt,width:e.width,height:e.height};const n=e.src.replace(/&w=\d+/,"");return{src:`${n}&w=2400`,srcset:`${n}&w=2400 2400w, ${n}&w=1920 1920w, ${n}&w=640 640w`,sizes:"(max-width: 1240px) 100vw, 60vw",alt:e.alt,width:2400,height:Math.round(2400*(e.height/e.width))}}function ZO(e,t){const n=t==="CZK"?"cs-CZ":"en-US";return new Intl.NumberFormat(n,{style:"currency",currency:t}).format(e)}const T_e=Ra({quantity:nS().min(1).max(99)});function z_e(){const{productId:e}=ic(),t=v.useMemo(()=>e?m1e(e):void 0,[e]);return t?i.jsx(A_e,{product:t}):i.jsxs("section",{className:"flex min-h-[60vh] flex-col items-center justify-center px-4 py-32",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Produkt nenalezen"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Tento produkt nebyl nalezen v nasem obchode."}),i.jsx(X,{asChild:!0,className:"mt-6",children:i.jsx(Ue,{to:"/obchod",children:"Zpet do obchodu"})})]})}function A_e({product:e}){const t=Yt(),{addItem:n}=rg(),[s,r]=v.useState(!1),a=_g({resolver:Hb(T_e),defaultValues:{quantity:1}}),o=v.useRef(null),l=v.useRef(null);v.useEffect(()=>{const k=new IntersectionObserver(S=>{for(const C of S)l.current&&l.current.classList.toggle("translate-y-full",C.isIntersecting)},{threshold:.02});return o.current&&k.observe(o.current),()=>k.disconnect()},[e.slug]);const u=e.images.map(E_e),d=fE.filter(k=>k.slug!==e.slug),{regular:f,sale:m,currency:g}=e.price,x=d.map(k=>({name:k.name,price:k.price,link:`/produkt/${k.slug}`,image:{src:k.image,alt:k.name},category:k.subtitle})),b=e.accordion.map(k=>({title:k.title,content:k.content.list||k.content.text||""})),w=k=>{const S=Number(a.getValues("quantity"))||1,C={slug:e.slug,name:e.name,subtitle:e.subtitle,image:e.image,price:m??f,originalPrice:m?f:void 0,currency:g};n(C,S),r(!0)},j=()=>{const k=Number(a.getValues("quantity"))||1,S={slug:e.slug,name:e.name,subtitle:e.subtitle,image:e.image,price:m??f,originalPrice:m?f:void 0,currency:g};n(S,k),t("/kosik")};return i.jsxs("section",{className:"px-4 py-16 md:py-24 lg:px-12",children:[i.jsxs("div",{className:"mx-auto w-full max-w-[88.125rem]",children:[i.jsxs("button",{type:"button",onClick:()=>t("/obchod"),className:"mb-10 flex items-center gap-2 text-sm text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx($o,{className:"size-4"}),"Zpet do obchodu"]}),i.jsxs("div",{className:"relative grid grid-cols-1 gap-7 gap-y-7.5 lg:grid-cols-5 xl:gap-18",children:[i.jsx("div",{className:"lg:col-span-3",children:i.jsx(R_e,{images:u,galleryID:`gallery-${e.slug}`})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"sticky top-14 flex flex-col gap-4.5",children:[e.badge&&i.jsx($e,{variant:"secondary",className:"w-fit",children:e.badge}),i.jsx("p",{className:"text-sm font-medium uppercase tracking-wider text-muted-foreground",children:e.subtitle}),i.jsx("h1",{className:"text-[1.75rem] leading-tight font-medium tracking-tight xl:text-[2.5rem]",children:e.name}),i.jsx("div",{className:"flex flex-col",children:i.jsx(oS,{regular:f,sale:m,currency:g})}),i.jsx("p",{children:e.description}),e.note&&i.jsx("p",{className:"text-sm font-medium text-emerald-600 dark:text-emerald-400",children:e.note}),i.jsxs("div",{className:"flex w-full flex-col gap-7",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-4",children:[i.jsx(wn,{control:a.control,name:"quantity",render:({field:k})=>i.jsx(Jt,{children:i.jsx(WO,{field:k,min:1,max:99})})}),i.jsx("div",{className:"flex-1",children:i.jsx(X,{variant:"secondary",className:"w-full",ref:o,type:"button",onClick:()=>w(),children:"Pridat do kosiku"})})]}),i.jsx("div",{className:"flex w-full shrink-0 basis-full flex-col gap-6",children:i.jsx(X,{className:"w-full",size:"lg",type:"button",onClick:j,children:"Koupit nyni"})}),sa.createPortal(i.jsx("div",{ref:l,className:"fixed inset-x-0 bottom-0 z-50 w-full translate-y-full border-t bg-background transition-all duration-300",children:i.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-2.5",children:[i.jsxs("div",{className:"hidden items-center gap-5 md:flex",children:[i.jsx("div",{className:"size-[5.625rem] overflow-hidden rounded-[0.375rem]",children:i.jsx("img",{src:e.image,alt:e.name,className:"block size-full object-cover object-center"})}),i.jsxs("div",{children:[i.jsx("div",{className:"mb-1 text-lg font-medium",children:e.name}),i.jsx(oS,{size:"sm",regular:f,sale:m,currency:g})]})]}),i.jsxs("div",{className:"flex flex-1 gap-3 md:flex-none",children:[i.jsx(wn,{control:a.control,name:"quantity",render:({field:k})=>i.jsx(Jt,{className:"hidden md:grid",children:i.jsx(WO,{field:k,min:1,max:99})})}),i.jsx("div",{className:"flex-1 md:flex-none",children:i.jsx(X,{className:"w-full",type:"button",onClick:()=>w(),children:"Pridat do kosiku"})})]})]})}),document.body)]}),i.jsx("div",{className:"flex flex-col gap-4",children:e.services.map((k,S)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(k.icon,{className:"h-5 w-5"}),i.jsx("span",{className:"text-sm",children:k.text})]},`svc-${S}`))}),i.jsx(O_e,{products:x}),i.jsx(D_e,{info:b})]})})]}),i.jsx(M_e,{slug:e.slug})]}),i.jsx(Y8,{open:s,onOpenChange:r})]})}function M_e({slug:e}){switch(e){case"lineseat":return i.jsxs(i.Fragment,{children:[i.jsx(k_e,{}),i.jsx(N_e,{}),i.jsx(S_e,{}),i.jsx(__e,{}),i.jsx(C_e,{})]});case"correctfoot":return i.jsxs(i.Fragment,{children:[i.jsx(JSe,{}),i.jsx(XSe,{}),i.jsx(QSe,{})]});case"4core":return i.jsxs(i.Fragment,{children:[i.jsx(s_e,{}),i.jsx(r_e,{}),i.jsx(i_e,{})]});case"fyziotrenink":return i.jsxs(i.Fragment,{children:[i.jsx(l_e,{}),i.jsx(c_e,{})]});default:return null}}function R_e({images:e,galleryID:t}){const[n,s]=v.useState(),[r,a]=v.useState(0),o=v.useRef(null);return v.useEffect(()=>{const l=new dSe({gallery:`#${t}`,children:"a",bgOpacity:1,wheelToZoom:!0,arrowPrev:!1,arrowNext:!1,close:!1,zoom:!1,counter:!1,mainClass:"[&>div:first-child]:!bg-background",pswpModule:()=>X2e(()=>import("./photoswipe.esm-D2Nf-uDI.js"),[])});return l.init(),o.current=l,l.on("uiRegister",()=>{var u;(u=l==null?void 0:l.pswp)!=null&&u.ui&&l.pswp.ui.registerElement({name:"custom-toolbar",order:10,isButton:!1,appendTo:"root",className:"absolute bottom-7.5 left-1/2 transform -translate-x-1/2 z-50 flex gap-3 items-center gap-7",html:`
            <button id="pswp-prev" class="!bg-white flex !size-12 border text-white p-2 rounded-full">
              <svg class="stroke-black m-auto size-6 stroke-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
            </button>
            <button id="pswp-close" class="!bg-white flex !size-15.5 border text-white p-2 rounded-full">
              <svg class="stroke-black m-auto size-7.5 stroke-1" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18"></path><path d="m6 6 12 12"></path></svg>
            </button>
            <button id="pswp-next" class="!bg-white flex !size-12 border text-white p-2 rounded-full">
              <svg class="stroke-black m-auto size-6 stroke-1" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m9 18 6-6-6-6"/></svg>
            </button>
          `,onInit:(d,f)=>{var m,g,x;(m=d.querySelector("#pswp-prev"))==null||m.addEventListener("click",()=>f.prev()),(g=d.querySelector("#pswp-next"))==null||g.addEventListener("click",()=>f.next()),(x=d.querySelector("#pswp-close"))==null||x.addEventListener("click",()=>f.close()),f.customToolbarEl=d}})}),l.on("close",()=>{const u=l.pswp;u!=null&&u.customToolbarEl&&(u.customToolbarEl.remove(),u.customToolbarEl=void 0)}),()=>l.destroy()},[t]),v.useEffect(()=>{if(!n)return;const l=()=>a(n.selectedScrollSnap()+1);return l(),n.on("select",l),()=>{n.off("select",l)}},[n]),v.useEffect(()=>{o.current&&n&&o.current.on("change",()=>{var l,u;n==null||n.scrollTo(((u=(l=o.current)==null?void 0:l.pswp)==null?void 0:u.currIndex)||0)})},[n,r]),i.jsxs("div",{children:[i.jsx("div",{className:"overflow-hidden rounded-3xl",id:t,children:i.jsx(Qb,{setApi:s,className:"w-full",opts:{loop:!0,breakpoints:{"(min-width: 1024px)":{active:!1,align:"start",loop:!1}}},children:i.jsx(e1,{className:"-ml-1 lg:grid lg:grid-cols-1 lg:gap-2.5",children:e.map((l,u)=>i.jsx(t1,{className:"group w-full pl-1",children:i.jsxs(Ua,{ratio:1,className:"w-full overflow-hidden rounded-3xl bg-muted",children:[i.jsx("a",{href:l.src,"data-pswp-width":l.width,"data-pswp-height":l.height,"data-pswp-srcset":l.srcset,target:"_blank",rel:"noreferrer","data-cropped":"true",children:i.jsx("img",{src:l.src,srcSet:l.srcset||void 0,alt:l.alt,width:l.width,height:l.height,sizes:l.sizes||void 0,className:"block size-full object-cover object-center"})}),i.jsx($e,{className:"pointer-events-none absolute top-5 right-5 h-10 w-10 rounded-full bg-background p-1.5 text-xs opacity-0 transition-opacity duration-200 group-hover:opacity-100",variant:"secondary",children:i.jsx(pce,{})})]})},`img-${u}`))})})}),i.jsx("div",{className:"lg:hidden",children:i.jsxs("div",{className:"mt-3.5 flex items-center justify-center",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>n==null?void 0:n.scrollPrev(),children:i.jsx(ag,{})}),i.jsxs("div",{className:"min-w-6 text-center text-sm",children:[r,"/",e.length]}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>n==null?void 0:n.scrollNext(),children:i.jsx(kr,{})})]})})]})}function oS({regular:e,sale:t,currency:n,size:s}){return i.jsxs("div",{className:"flex flex-wrap items-center gap-x-2.5 gap-y-1",children:[t&&i.jsx("div",{"data-sale":!!t,"data-size":s,className:"text-xl leading-normal font-semibold data-[sale=true]:text-red-600 data-[size=sm]:text-base",children:ZO(t,n)}),i.jsx("div",{"data-sale":!!t,"data-size":s,className:"text-xl leading-relaxed font-bold data-[sale=true]:text-base data-[sale=true]:font-normal data-[sale=true]:text-muted-foreground data-[sale=true]:line-through data-[size=sm]:text-base",children:ZO(e,n)})]})}function WO({field:e,max:t=99,min:n=1}){return i.jsxs("div",{className:"flex h-9 w-32 items-center justify-between overflow-hidden rounded-md border shadow-xs",children:[i.jsx(X,{onClick:()=>e.onChange(Math.max(n,Number(e.value||1)-1)),variant:"ghost",type:"button",size:"icon",className:"rounded-none",children:i.jsx(mb,{})}),i.jsx(Pe,{...e,value:e.value??"",onChange:s=>{const r=s.target.value,a=parseInt(r,10);r===""?e.onChange(""):Number.isNaN(a)||e.onChange(a)},type:"number",min:n,max:t,className:"h-full flex-1 [appearance:textfield] rounded-none border-0 text-center focus-visible:ring-0 [&::-webkit-inner-spin-button]:appearance-none [&::-webkit-outer-spin-button]:appearance-none"}),i.jsx(X,{onClick:()=>e.onChange(Math.min(t,Number(e.value||1)+1)),variant:"ghost",type:"button",size:"icon",className:"rounded-none",children:i.jsx(ds,{})})]})}function O_e({products:e}){const[t,n]=v.useState(),[s,r]=v.useState(1);return v.useEffect(()=>{if(!t)return;const a=()=>r(t.selectedScrollSnap()+1);return a(),t.on("select",a),()=>{t.off("select",a)}},[t]),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-4 flex flex-wrap items-center justify-between gap-2",children:[i.jsx("div",{className:"text-base font-medium tracking-tighter xl:text-xl",children:"Dalsi produkty"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t==null?void 0:t.scrollPrev(),children:i.jsx(ag,{})}),i.jsxs("div",{className:"w-6 text-center text-sm",children:[s,"/",e.length]}),i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t==null?void 0:t.scrollNext(),children:i.jsx(kr,{})})]})]}),i.jsx(Qb,{opts:{loop:!0},setApi:n,className:"w-full",children:i.jsx(e1,{children:e.map((a,o)=>i.jsx(t1,{children:i.jsx("div",{className:"rounded-[1.25rem] bg-muted p-2.5",children:i.jsxs("div",{className:"grid grid-cols-[minmax(0,4.125rem)_minmax(0,1fr)] items-center gap-3",children:[i.jsx("div",{children:i.jsx("div",{className:"aspect-square w-full overflow-hidden rounded-[0.625rem]",children:i.jsx("img",{src:a.image.src,alt:a.image.alt,className:"block size-full object-cover object-center"})})}),i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx("div",{className:"text-sm text-foreground/50",children:a.category}),i.jsx(Ue,{to:a.link,className:"relative block h-fit w-fit !p-0 text-lg leading-[1.5] font-medium after:absolute after:start-0 after:bottom-[0.35rem] after:h-px after:w-full after:origin-right after:scale-x-0 after:bg-foreground after:transition-transform after:duration-200 after:content-[''] hover:after:origin-left hover:after:scale-x-100",children:a.name}),i.jsx("div",{className:"mt-1",children:i.jsx(oS,{regular:a.price.regular,sale:a.price.sale,currency:a.price.currency,size:"sm"})})]})]})})},`rec-${o}`))})})]})}function D_e({info:e}){return i.jsx(g$,{type:"multiple",className:"w-full border-b",children:e.map((t,n)=>i.jsxs(uC,{value:`info-${n}`,children:[i.jsx(dC,{children:t.title}),i.jsx(hC,{className:"flex flex-col gap-4 text-sm leading-normal text-balance",children:Array.isArray(t.content)?i.jsx("ul",{className:"list-inside list-disc pl-5",children:t.content.map((s,r)=>i.jsx("li",{children:s},`list-${r}`))}):t.content})]},`info-${n}`))})}const P_e={orderNumber:"ORD-2024-78432",orderDate:"December 14, 2024",status:"confirmed",email:"customer@example.com",items:[{id:"1",name:"Pro Subscription (Annual)",image:"https://images.pexels.com/photos/1181244/pexels-photo-1181244.jpeg?auto=compress&cs=tinysrgb&w=400",price:199,quantity:1,details:[{label:"Plan",value:"Annual"},{label:"Billing",value:"Yearly"}]}],subtotal:199,shipping:0,tax:0,discount:0,total:199,shippingAddress:{name:"Alex Johnson",street:"1234 Maple Street, Apt 5B",city:"San Francisco",state:"CA",zipCode:"94102",country:"United States"},shippingMethod:"Digital Delivery",estimatedDelivery:"Instant Access",paymentMethod:{type:"card",lastFour:"4242",cardBrand:"Visa"}},KO=({className:e})=>{var d;const t=ns(),n=Yt(),s=((d=t.state)==null?void 0:d.order)||P_e,{refetch:r}=pg(),{session:a}=Qt();v.useEffect(()=>{const m=new URLSearchParams(window.location.search).get("session_id");if(!m){r&&r();return}(async()=>{console.log(" Verifying payment with session ID:",m);try{const x=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/verify-subscription",{method:"POST",headers:{Authorization:`Bearer ${(a==null?void 0:a.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE"}`,"Content-Type":"application/json"},body:JSON.stringify({sessionId:m})});if(x.ok){const b=await x.json();console.log(" Payment verification result:",b),b.subscription&&(console.log(" Subscription confirmed, refreshing data..."),r&&await r())}else console.error(" Payment verification failed:",await x.text())}catch(x){console.error(" Error verifying payment:",x)}})()},[r,a]);const o=f=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(f),u=(f=>({confirmed:{label:"Objednvka potvrzena",className:"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/10"},processing:{label:"Zpracovv se",className:"bg-amber-500/10 text-amber-600 hover:bg-amber-500/10"},shipped:{label:"Odeslno",className:"bg-blue-500/10 text-blue-600 hover:bg-blue-500/10"},delivered:{label:"Dorueno",className:"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/10"}})[f])(s.status);return i.jsx("section",{className:se("min-h-screen flex items-center justify-center py-16 md:py-24",e),children:i.jsxs("div",{className:"container max-w-4xl mx-auto",children:[i.jsxs("div",{className:"mb-10 text-center",children:[i.jsx("div",{className:"mx-auto mb-4 flex size-16 items-center justify-center rounded-full bg-emerald-500/10",children:i.jsx(qie,{className:"size-8 text-emerald-600"})}),i.jsx("h1",{className:"mb-2 text-2xl font-bold tracking-tight md:text-3xl",children:"Dkujeme za vai objednvku!"}),i.jsxs("p",{className:"text-muted-foreground",children:["Potvrzujc e-mail byl odesln na"," ",i.jsx("span",{className:"font-medium text-foreground",children:s.email})]})]}),i.jsx(Re,{className:"mb-6 shadow-none",children:i.jsxs(Oe,{className:"flex flex-wrap items-center justify-between gap-4 p-4 md:p-6",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-x-6 gap-y-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"slo objednvky"}),i.jsx("p",{className:"font-semibold",children:s.orderNumber})]}),i.jsx($t,{orientation:"vertical",className:"hidden h-10 md:block"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Datum objednvky"}),i.jsx("p",{className:"font-medium",children:s.orderDate})]})]}),i.jsx($e,{className:u.className,children:u.label})]})}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[i.jsxs(Re,{className:"shadow-none",children:[i.jsx(Je,{className:"pb-4",children:i.jsxs(Qe,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Fl,{className:"size-5"}),"Objednan poloky"]})}),i.jsx(Oe,{className:"space-y-4",children:s.items.map((f,m)=>i.jsxs("div",{children:[i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-20 shrink-0",children:i.jsx(Ua,{ratio:1,className:"overflow-hidden rounded-lg bg-muted",children:i.jsx("img",{src:f.image,alt:f.name,className:"size-full object-cover"})})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"font-medium",children:f.name}),f.details&&i.jsx("p",{className:"mt-0.5 text-sm text-muted-foreground",children:f.details.map((g,x)=>i.jsxs("span",{children:[g.value,x<f.details.length-1&&"  "]},g.label))}),i.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:["Mnostv: ",f.quantity]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"font-semibold",children:o(f.price*f.quantity)}),f.quantity>1&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:[o(f.price)," each"]})]})]}),m<s.items.length-1&&i.jsx($t,{className:"mt-4"})]},f.id))})]}),i.jsx(Re,{className:"shadow-none",children:i.jsx(Oe,{className:"p-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Mezisouet"}),i.jsx("span",{children:o(s.subtotal)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Doprava"}),i.jsx("span",{children:s.shipping===0?"Zdarma":o(s.shipping)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Da"}),i.jsx("span",{children:o(s.tax)})]}),s.discount&&s.discount>0&&i.jsxs("div",{className:"flex justify-between text-sm text-emerald-600",children:[i.jsx("span",{children:"Sleva"}),i.jsxs("span",{children:["-",o(s.discount)]})]}),i.jsx($t,{}),i.jsxs("div",{className:"flex justify-between text-lg font-semibold",children:[i.jsx("span",{children:"Celkem zaplaceno"}),i.jsx("span",{children:o(s.total)})]})]})})})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Re,{className:"shadow-none",children:[i.jsx(Je,{className:"pb-4",children:i.jsxs(Qe,{className:"flex items-center gap-2 text-lg",children:[i.jsx(Ql,{className:"size-5"}),"Dodac adresa"]})}),i.jsxs(Oe,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:s.shippingAddress.name}),i.jsx("p",{className:"text-sm text-muted-foreground",children:s.shippingAddress.street}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.shippingAddress.city,", ",s.shippingAddress.state," ",s.shippingAddress.zipCode]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:s.shippingAddress.country})]}),i.jsx($t,{}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Hm,{className:"mt-0.5 size-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:s.shippingMethod}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Odhadovan doruen: ",s.estimatedDelivery]})]})]})]})]}),i.jsxs(Re,{className:"shadow-none",children:[i.jsx(Je,{className:"pb-4",children:i.jsxs(Qe,{className:"flex items-center gap-2 text-lg",children:[i.jsx(nr,{className:"size-5"}),"Platebn metoda"]})}),i.jsxs(Oe,{children:[s.paymentMethod.type==="card"&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/visa-icon.svg",alt:"Visa",className:"size-8"}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium",children:[s.paymentMethod.cardBrand," konc na"," ",s.paymentMethod.lastFour]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Platba dokonena"})]})]}),s.paymentMethod.type==="paypal"&&i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-md bg-muted",children:i.jsx("img",{src:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/logos/paypal-icon.svg",alt:"PayPal",className:"size-5"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:"PayPal"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:s.paymentMethod.email})]})]})]})]}),i.jsx(Re,{className:"shadow-none",children:i.jsxs(Oe,{className:"space-y-3 p-4",children:[i.jsxs(X,{className:"w-full",variant:"default",children:[i.jsx(Fl,{className:"mr-2 size-4"}),"Sledovat objednvku"]}),i.jsxs(X,{className:"w-full",variant:"outline",children:[i.jsx(F_,{className:"mr-2 size-4"}),"Sthnout tenku"]}),i.jsxs(X,{className:"w-full",variant:"ghost",children:[i.jsx(Foe,{className:"mr-2 size-4"}),"Vytisknout objednvku"]})]})})]})]}),i.jsxs("div",{className:"mt-10 text-center",children:[i.jsx("p",{className:"mb-4 text-muted-foreground",children:"Mte dotaz ohledn va objednvky?"}),i.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[i.jsx(X,{variant:"outline",children:"Kontaktovat podporu"}),i.jsx(X,{onClick:()=>n("/"),children:"Pokraovat v nkupu"})]})]})]})})},I_e=[{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-1.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"The blush blends beautifully and gives such a natural glow. It's lightweight, buildable, and lasts all day without fading. I'm honestly impressed!",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/promotional/Close-Up-of-Womans-Face-1.png",product:{name:"Silky Glow Blush",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Makeup-Product-Flat-Lay-1.png",link:"#"}},{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-3.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"The shade is gorgeous and the creamy texture makes it super easy to apply. It hydrates the lips while giving a rich bronze shine. Definitely a staple now.",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Close-Up-of-Lips-1.png",product:{name:"Shimmer Bronze Lipstick",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Shimmering-Bronze-Lipstick-Close-Up-1.png",link:"#"}},{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-4.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"This anti-aging serum absorbs quickly and leaves my skin feeling firmer and smoother. After a few weeks, my fine lines look noticeably softer. Love it!",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Skincare-Routine-Close-Up-1.png",product:{name:"Renewal Anti-Aging Serum",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Frosted-Glass-Dropper-1.png",link:"#"}},{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-5.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"A deeply hydrating cream that feels rich without being heavy. My skin stays soft, moisturized, and glowing all day. Perfect for dry or sensitive skin.",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Woman-Applying-Face-Cream-1.png",product:{name:"Ultra Hydrating Face Cream",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/pexels-carlos-diaz-216017-18350286-1.jpg",link:"#"}},{author:{image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-2.webp",name:"Jenny W.",verifiedBuyer:!0},comment:"Such a luxurious body cream! It melts into the skin and leaves it silky, nourished, and lightly scented. Amazing for daily usehighly recommend.",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/promotional/Skincare-Routine-1.png",product:{name:"Nourishing Body Cream",image:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/skin-care-product/Elegant-Hand-Holding-Skincare-Product-1.png",link:"#"}}],L_e=({reviews:e=I_e,className:t})=>{const[n,s]=v.useState();return i.jsx("section",{className:se("overflow-hidden py-32",t),children:i.jsxs("div",{className:"container space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx("h2",{className:"font-serif text-4xl",children:"Hodnocen pacient"}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(X,{onClick:()=>n==null?void 0:n.scrollPrev(),variant:"outline",className:"rounded-full",size:"icon",children:i.jsx(ag,{})}),i.jsx(X,{onClick:()=>n==null?void 0:n.scrollNext(),variant:"outline",className:"rounded-full",size:"icon",children:i.jsx(kr,{})})]})]}),i.jsx("div",{children:i.jsx(Qb,{setApi:s,className:"[&>div]:overflow-visible",children:i.jsx(e1,{children:e.map(r=>i.jsx(t1,{className:"sm:basis-9/12 md:basis-150 lg:basis-1/2 xl:basis-1/3",children:i.jsx($_e,{...r})},crypto.randomUUID()))})})})]})})},$_e=({image:e,product:t,author:n,comment:s})=>i.jsx(Re,{className:"h-full rounded-lg px-4 py-5",children:i.jsxs(Oe,{className:"flex h-full flex-col justify-between p-0",children:[i.jsxs("div",{className:"flex gap-3 max-md:flex-col-reverse",children:[i.jsxs("div",{className:"flex-1 space-y-4",children:[i.jsxs("div",{className:"flex gap-3",children:[i.jsxs(zs,{className:"size-12.5 border",children:[i.jsx(lr,{src:n.image,alt:n.name}),i.jsx(Ha,{children:n.name})]}),i.jsxs("div",{className:"space-y-0.5",children:[i.jsx("h3",{className:"font-serif text-base leading-normal",children:n.name}),n.verifiedBuyer&&i.jsx("span",{className:"text-xs text-muted-foreground",children:"Oven pacient"})]})]}),i.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:s})]}),i.jsx("div",{className:"basis-40",children:i.jsx(Ua,{ratio:.8,className:"overflow-hidden rounded-lg",children:i.jsx("img",{src:e,alt:t.name,className:"block size-full object-cover object-center"})})})]}),i.jsxs("div",{className:"mt-auto space-y-3 pt-3",children:[i.jsx($t,{}),i.jsxs("a",{href:t.link,className:"group flex items-center gap-3",children:[i.jsx("div",{className:"size-10 shrink-0 overflow-hidden rounded-sm",children:i.jsx("img",{src:t.image,alt:t.name,className:"block size-full object-cover object-center"})}),i.jsx("span",{className:"text-sm font-medium underline-offset-2 group-hover:underline",children:t.name})]})]})]})}),V_e=[{id:"1",rating:5,title:"Absolutely stunning quality",content:"The craftsmanship on this is incredible. Photos don't do it justice - it looks even better in person. The material feels premium and the fit is perfect. I've already gotten so many compliments!",author:{name:"Sarah M.",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-1.webp"},date:"Dec 10, 2024",verified:!0,images:["https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/clothes/Person-in-Activewear-1.png","https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/clothes/Fashionable-Woman-in-Monochrome-Attire-1.png"],helpful:24,variant:"Size M, Navy Blue"},{id:"2",rating:4,title:"Great product, minor sizing issue",content:"Love the quality and design. Runs slightly small so I'd recommend sizing up. Other than that, it's exactly what I was looking for. Fast shipping too!",author:{name:"James R.",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-2.webp"},date:"Dec 8, 2024",verified:!0,helpful:18,variant:"Size L, Black"},{id:"3",rating:5,title:"My new favorite!",content:"I've been searching for something like this for months. The attention to detail is amazing - from the stitching to the hardware, everything is top notch. Worth every penny.",author:{name:"Emily K.",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-3.webp"},date:"Dec 5, 2024",verified:!0,images:["https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/clothes/elegant-peach-scarf.png"],helpful:31,variant:"One Size, Cream"},{id:"4",rating:5,title:"Exceeded expectations",content:"Was hesitant to order online but so glad I did. The color is exactly as shown and the quality is exceptional. Customer service was also very responsive when I had questions about care instructions.",author:{name:"Michael T."},date:"Dec 2, 2024",verified:!1,helpful:12},{id:"5",rating:4,title:"Beautiful but pricey",content:"The product is gorgeous and well-made. I debated for a while because of the price, but ultimately happy with my purchase. Would love to see more color options in the future.",author:{name:"Lisa P.",avatar:"https://deifkwefumgah.cloudfront.net/shadcnblocks/block/avatar-5.webp"},date:"Nov 28, 2024",verified:!0,images:["https://deifkwefumgah.cloudfront.net/shadcnblocks/block/ecommerce/accessories/Elegant-Gold-Earrings-1.png"],helpful:8,variant:"Gold"}],B_e=({reviews:e=V_e,title:t="Customer Reviews",className:n})=>{const[s,r]=v.useState(new Set),a=e.length,o=e.reduce((u,d)=>u+d.rating,0)/a,l=u=>{r(d=>{const f=new Set(d);return f.has(u)?f.delete(u):f.add(u),f})};return i.jsx("section",{className:se("py-16 md:py-24",n),children:i.jsxs("div",{className:"container mx-auto max-w-3xl",children:[i.jsxs("div",{className:"mb-8 flex flex-col gap-4 sm:flex-row sm:items-end sm:justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:t}),i.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[i.jsx(ey,{rate:o,className:"[&_svg]:size-5"}),i.jsx("span",{className:"text-lg font-semibold",children:o.toFixed(1)}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",a," hodnocen)"]})]})]}),i.jsx(X,{variant:"outline",children:"Napsat hodnocen"})]}),i.jsx("div",{className:"space-y-0",children:e.map((u,d)=>i.jsxs("div",{children:[d>0&&i.jsx($t,{className:"my-6"}),i.jsx(Re,{className:"border-0 p-0 shadow-none",children:i.jsxs(Oe,{className:"space-y-4 p-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(zs,{className:"size-10",children:[i.jsx(lr,{src:u.author.avatar,alt:u.author.name}),i.jsx(Ha,{children:u.author.name.split(" ").map(f=>f[0]).join("")})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"font-medium",children:u.author.name}),u.verified&&i.jsx("span",{className:"flex items-center gap-1 text-emerald-600",children:i.jsx(ig,{className:"size-4"})})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx("span",{children:u.date}),u.variant&&i.jsxs(i.Fragment,{children:[i.jsx("span",{children:""}),i.jsx("span",{children:u.variant})]})]})]})]}),i.jsx(ey,{rate:u.rating,className:"[&_svg]:size-4 [&>div]:size-4"})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium",children:u.title}),i.jsx("p",{className:"mt-2 text-sm leading-relaxed text-muted-foreground",children:u.content})]}),u.images&&u.images.length>0&&i.jsx("div",{className:"flex gap-2",children:u.images.map((f,m)=>i.jsx("div",{className:"size-20 overflow-hidden rounded-lg sm:size-24",children:i.jsx(Ua,{ratio:1,children:i.jsx("img",{src:f,alt:`Review image ${m+1}`,className:"size-full object-cover"})})},m))}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs(X,{variant:"ghost",size:"sm",className:se("h-8 gap-1.5 text-muted-foreground",s.has(u.id)&&"text-foreground"),onClick:()=>l(u.id),children:[i.jsx(Rle,{className:se("size-4",s.has(u.id)&&"fill-current")}),"Uiten",u.helpful!==void 0&&i.jsxs("span",{children:["(",u.helpful+(s.has(u.id)?1:0),")"]})]}),i.jsx(X,{variant:"ghost",size:"sm",className:"h-8 text-muted-foreground",children:"Nahlsit"})]})]})})]},u.id))})]})})},F_e=[{author:{image:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Jana K.",verifiedBuyer:!0},comment:"Skvl pe! Po tech mscch bolest zad jsem konen bez pot. Pan doktor byl velmi profesionln a trpliv. Cviky, kter mi ukzal, mi pomhaj dodnes.",image:"https://images.pexels.com/photos/3823495/pexels-photo-3823495.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Terapie zad",image:"https://images.pexels.com/photos/7579831/pexels-photo-7579831.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}},{author:{image:"https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Martin P.",verifiedBuyer:!0},comment:"Po razu kolena pi fotbale jsem poteboval rychlou rehabilitaci. Dky individulnmu pstupu a modernm metodm jsem se vrtil do hry za 6 tdn. Vele doporuuji!",image:"https://images.pexels.com/photos/6111612/pexels-photo-6111612.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Rehabilitace kolene",image:"https://images.pexels.com/photos/6111616/pexels-photo-6111616.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}},{author:{image:"https://images.pexels.com/photos/415829/pexels-photo-415829.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Eva M.",verifiedBuyer:!0},comment:"Dlouhodob problmy s krn pte m trpily roky. Po srii terapi a sprvnch cvicch jsem konen nala levu. Pstup byl velmi profesionln a vstcn.",image:"https://images.pexels.com/photos/5793955/pexels-photo-5793955.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Terapie krn ptee",image:"https://images.pexels.com/photos/7579831/pexels-photo-7579831.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}},{author:{image:"https://images.pexels.com/photos/1239291/pexels-photo-1239291.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Petr S.",verifiedBuyer:!0},comment:"Sportovn mase zde jsou asn! Pomhaj mi s regenerac po nronch trnincch. Personl je vdy mil a profesionln. Chodm pravideln a jsem velmi spokojen.",image:"https://images.pexels.com/photos/3823039/pexels-photo-3823039.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Sportovn mas",image:"https://images.pexels.com/photos/3823039/pexels-photo-3823039.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}},{author:{image:"https://images.pexels.com/photos/1181690/pexels-photo-1181690.jpeg?auto=compress&cs=tinysrgb&w=200",name:"Lucie H.",verifiedBuyer:!0},comment:"Po porodu jsem mla problmy s bolestmi v oblasti pnevnho dna. Dky specializovan pi a clenm cvikm se mi podailo pln se zotavit. Jsem moc vdn!",image:"https://images.pexels.com/photos/3822621/pexels-photo-3822621.jpeg?auto=compress&cs=tinysrgb&w=800",product:{name:"Poporodn rehabilitace",image:"https://images.pexels.com/photos/7579831/pexels-photo-7579831.jpeg?auto=compress&cs=tinysrgb&w=400",link:"#"}}],U_e=[{id:"1",rating:5,title:"asn pe a profesionln pstup",content:"Po mscch bolest ramene jsem konen nala odbornou pomoc. Kad terapie byla pizpsobena mm potebm a terapeut si vdy udlal as na vysvtlen postupu. Bolesti jsou pry a mohu se opt pln vnovat svm konkm. Doporuuji vem!",author:{name:"Alena V.",avatar:"https://images.pexels.com/photos/1181686/pexels-photo-1181686.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"15. ledna 2025",verified:!0,images:["https://images.pexels.com/photos/5794032/pexels-photo-5794032.jpeg?auto=compress&cs=tinysrgb&w=400"],helpful:24,variant:"Terapie ramene"},{id:"2",rating:5,title:"Vrtil jsem se ke sportu rychleji ne jsem ekal",content:"Po zrann achillovy lachy pi bhn jsem byl skeptick, zda se jet nkdy vrtm k aktivnmu sportu. Dky individulnmu rehabilitanmu plnu a modernm metodm lby jsem za 8 tdn opt na beck drze. Profesionalita na nejvy rovni!",author:{name:"Tom K.",avatar:"https://images.pexels.com/photos/1222271/pexels-photo-1222271.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"10. ledna 2025",verified:!0,helpful:18,variant:"Sportovn rehabilitace"},{id:"3",rating:5,title:"Konen mohu fungovat bez bolesti",content:"Chronick bolesti doln sti zad m trpily vce ne 5 let. Zkouela jsem rzn lby, ale dn nepomohla dlouhodob. Tady mi sestavili komplexn pln zahrnujc manuln terapii, cvien a sprvn pracovn nvyky. Po tech mscch jsem poprv bez bolesti!",author:{name:"Markta N.",avatar:"https://images.pexels.com/photos/774909/pexels-photo-774909.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"5. ledna 2025",verified:!0,images:["https://images.pexels.com/photos/5793944/pexels-photo-5793944.jpeg?auto=compress&cs=tinysrgb&w=400"],helpful:31,variant:"Terapie bedern ptee"},{id:"4",rating:4,title:"Skvl vsledky, trochu del ekac doba",content:"Pe je opravdu na vysok rovni a vsledky jsou skvl. Jedin mnus je obas del ekac doba na termn, co ale svd o kvalit slueb. Terapeut je velmi zkuen a vdy si udl as na vechny m dotazy. Urit stoj za to pokat.",author:{name:"Pavel D."},date:"2. ledna 2025",verified:!1,helpful:12},{id:"5",rating:5,title:"Pomohli mi po autonehod",content:"Po autonehod jsem ml vn problmy s krkem a rameny. Klasick medicna nabzela jen lky proti bolesti. Zde mi pomohli s komplexn rehabilitac vetn cvien, kter mohu dlat i doma. Po pl roce jsem tm bez obt. Dkuji!",author:{name:"David B.",avatar:"https://images.pexels.com/photos/1516680/pexels-photo-1516680.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"28. prosince 2024",verified:!0,images:["https://images.pexels.com/photos/5794028/pexels-photo-5794028.jpeg?auto=compress&cs=tinysrgb&w=400"],helpful:8,variant:"Porazov rehabilitace"},{id:"6",rating:5,title:"Perfektn pstup k seniorm",content:"Moje maminka (78 let) trpla artritidou a mla velk problmy s pohyblivost. Terapeut byl nesmrn trpliv a pizpsobil ve jejmu vku a schopnostem. Po nkolika seancch je mnohem pohyblivj a sebevdomj. Jsme velmi vdn.",author:{name:"Karolna S.",avatar:"https://images.pexels.com/photos/1181424/pexels-photo-1181424.jpeg?auto=compress&cs=tinysrgb&w=200"},date:"22. prosince 2024",verified:!0,helpful:15,variant:"Geriatrick fyzioterapie"}],H_e=()=>i.jsx("div",{className:"min-h-screen w-full",children:i.jsxs("div",{className:"mx-auto flex w-full max-w-7xl flex-col items-center justify-center",children:[i.jsx(L_e,{reviews:F_e,className:"w-full"}),i.jsx(B_e,{reviews:U_e,title:"Reference pacient",className:"w-full mx-auto"})]})}),q_e={seedling:mle,book:Gt,stethoscope:wle,award:Da,star:Lr,crown:_h,flame:fb};function Z_e(e){return e.split(/[.\-_\s]/).filter(Boolean).slice(0,2).map(t=>{var n;return(n=t[0])==null?void 0:n.toUpperCase()}).join("")||"U"}function W_e({user:e,subscription:t,hasActiveSubscription:n,currentRank:s,nextRank:r,totalXp:a,rankProgress:o,loginStreak:l,lessonsCompleted:u,coursesCompleted:d,onRefresh:f,refreshing:m}){var z,R;const g=Yt(),[x,b]=v.useState({days:0,hours:0,minutes:0,seconds:0});v.useEffect(()=>{if(!(t!=null&&t.current_period_end))return;const T=()=>{const D=Math.max(0,new Date(t.current_period_end).getTime()-Date.now());b({days:Math.floor(D/864e5),hours:Math.floor(D%864e5/36e5),minutes:Math.floor(D%36e5/6e4),seconds:Math.floor(D%6e4/1e3)})};T();const A=setInterval(T,1e3);return()=>clearInterval(A)},[t==null?void 0:t.current_period_end]);const w=()=>{const T=new Date().getHours();return T<6?"Dobrou noc":T<12?"Dobre rano":T<18?"Dobre odpoledne":"Dobry vecer"},j=((z=e==null?void 0:e.email)==null?void 0:z.split("@")[0])||"Studente",k=s&&q_e[s.icon]||Lr,S=()=>{switch(t==null?void 0:t.plan_type){case"free_trial":return"Zkusebni verze";case"monthly":return"Mesicni plan";case"lifetime":return"Dozivotni pristup";default:return"Zadne predplatne"}},C=(t==null?void 0:t.plan_type)==="lifetime"?_h:(t==null?void 0:t.plan_type)==="free_trial"?uu:ca,E=[{icon:fb,color:"text-orange-500",val:l,unit:"dnu"},{icon:Gt,color:"text-emerald-500",val:u,unit:"lekci"},{icon:Du,color:"text-blue-500",val:d,unit:"kurzu"}];return i.jsxs("div",{className:"space-y-4",children:[i.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"relative -mx-4 sm:-mx-6 -mt-3 px-4 sm:px-6 pt-2 pb-8",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-blue-100/90 via-blue-50/50 to-transparent dark:from-blue-950/50 dark:via-blue-900/20 dark:to-transparent pointer-events-none"}),i.jsx("div",{className:"absolute top-0 right-0 w-56 h-56 bg-sky-200/40 dark:bg-sky-500/[0.06] rounded-full blur-3xl -translate-y-1/3 translate-x-1/4 pointer-events-none"}),i.jsx("div",{className:"absolute bottom-0 left-0 w-40 h-40 bg-blue-200/20 dark:bg-blue-500/[0.04] rounded-full blur-3xl translate-y-1/4 -translate-x-1/4 pointer-events-none"}),i.jsxs("div",{className:"relative",children:[i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs(ne.div,{initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{delay:.1,duration:.4},children:[i.jsx("p",{className:"text-xs font-medium text-muted-foreground tracking-wide mb-0.5",children:w()}),i.jsx("h1",{className:"text-2xl font-extrabold tracking-tight text-foreground leading-tight",children:j}),i.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Pokracujte ve svem uceni"})]}),i.jsxs("div",{className:"flex items-center gap-2 pt-1",children:[f&&i.jsx(ne.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:.2},whileTap:{scale:.9},onClick:f,disabled:m,className:"w-8 h-8 rounded-lg flex items-center justify-center border border-border/40 bg-white/60 dark:bg-white/5 backdrop-blur text-muted-foreground hover:text-foreground transition-colors disabled:opacity-50",children:i.jsx(ZL,{className:`w-3.5 h-3.5 ${m?"animate-spin":""}`})}),i.jsxs(ne.div,{initial:{scale:.6,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:260,damping:20,delay:.1},className:"relative",children:[i.jsxs(zs,{className:"w-12 h-12 ring-2 ring-white/80 dark:ring-white/10 shadow-md",children:[i.jsx(lr,{src:(R=e==null?void 0:e.user_metadata)==null?void 0:R.avatar_url}),i.jsx(Ha,{className:"bg-primary/10 text-primary text-base font-bold",children:Z_e(j)})]}),s&&i.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-5 h-5 rounded-full bg-primary flex items-center justify-center ring-[1.5px] ring-white dark:ring-neutral-800 shadow-sm",children:i.jsx(k,{className:"w-2.5 h-2.5 text-primary-foreground"})})]})]})]}),s&&i.jsxs(ne.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},className:"mt-5 flex items-center gap-2.5",children:[i.jsx("span",{className:"text-[11px] font-bold text-primary whitespace-nowrap",children:s.name}),i.jsx("div",{className:"flex-1 h-1.5 rounded-full bg-black/[0.06] dark:bg-white/[0.08] overflow-hidden",children:i.jsx(ne.div,{className:"h-full rounded-full bg-primary",initial:{width:0},animate:{width:`${o}%`},transition:{duration:1.2,ease:[.33,1,.68,1],delay:.3}})}),i.jsxs("span",{className:"text-[10px] font-bold text-muted-foreground tabular-nums whitespace-nowrap",children:[a," XP"]}),r&&i.jsxs("span",{className:"text-[9px] text-muted-foreground whitespace-nowrap hidden sm:inline",children:[" ",r.name]})]}),i.jsx(ne.div,{className:"flex items-center gap-3 mt-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.4},children:E.map(({icon:T,color:A,val:D,unit:F},V)=>i.jsxs(v.Fragment,{children:[V>0&&i.jsx("div",{className:"w-px h-3 bg-border/50"}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(T,{className:`w-3.5 h-3.5 ${A}`}),i.jsx("span",{className:"text-xs font-bold",children:D}),i.jsx("span",{className:"text-[10px] text-muted-foreground",children:F})]})]},F))})]})]}),i.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.45,delay:.3},className:"rounded-2xl bg-muted/40 border border-border/40 p-4 space-y-3",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-9 h-9 rounded-xl flex items-center justify-center bg-primary/10 border border-primary/20",children:i.jsx(C,{className:"w-4 h-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[10px] font-medium text-muted-foreground uppercase tracking-wider",children:"Predplatne"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm font-bold",children:S()}),n&&(t==null?void 0:t.plan_type)&&i.jsx("span",{className:"text-[9px] font-bold px-1.5 py-0.5 rounded-md bg-primary/10 border border-primary/20 text-primary",children:t.plan_type==="free_trial"?"Zkusebni":t.plan_type==="lifetime"?"Dozivotni":"Premium"})]})]})]})}),(t==null?void 0:t.current_period_end)&&t.plan_type!=="lifetime"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-px bg-border/50"}),i.jsxs("div",{className:"space-y-2.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-muted-foreground font-medium",children:[i.jsx(cn,{className:"w-3 h-3"}),t.plan_type==="free_trial"?"Konci za":"Obnovuje se za"]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:[{val:x.days,unit:"Dnu"},{val:x.hours,unit:"Hod"},{val:x.minutes,unit:"Min"},{val:x.seconds,unit:"Sek"}].map(({val:T,unit:A},D)=>i.jsxs(ne.div,{className:"flex flex-col items-center py-2 rounded-xl bg-background border border-border/30",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{delay:.4+D*.04,type:"spring",stiffness:300},children:[i.jsx("span",{className:"text-lg font-extrabold tabular-nums leading-tight",children:String(T).padStart(2,"0")}),i.jsx("span",{className:"text-[9px] font-medium text-muted-foreground uppercase tracking-wider",children:A})]},A))}),i.jsxs("div",{className:"flex items-center gap-1.5 text-[10px] text-muted-foreground",children:[i.jsx(ca,{className:"w-3 h-3 flex-shrink-0"}),i.jsx("span",{children:new Date(t.current_period_end).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"})})]})]})]}),(t==null?void 0:t.plan_type)==="lifetime"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"h-px bg-border/50"}),i.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-primary/5 border border-primary/15",children:[i.jsx(_h,{className:"w-4 h-4 text-primary flex-shrink-0"}),i.jsx("span",{className:"text-xs font-semibold",children:"Aktivni navzdy"})]})]}),(!t||t.plan_type==="free_trial")&&i.jsxs(ne.button,{onClick:()=>g("/prehled/predplatne"),whileTap:{scale:.98},className:"w-full py-2.5 rounded-xl bg-primary text-primary-foreground text-sm font-semibold flex items-center justify-center gap-1.5 hover:opacity-90 transition-opacity",children:[t?"Upgradovat plan":"Zobrazit plany",i.jsx(kr,{className:"w-4 h-4"})]})]})]})}function K_e({course:e}){const{user:t}=Qt(),n=Yt(),[s,r]=v.useState([]),[a,o]=v.useState(new Map),[l,u]=v.useState(!1),[d,f]=v.useState(null),[m,g]=v.useState(!0);v.useEffect(()=>{t&&x()},[t,e.id]);const x=async()=>{if(t){g(!0);try{const[{data:z},{data:R},{data:T}]=await Promise.all([de.from("course_lessons").select("id, title, description, duration, order_index").eq("course_id",e.id).order("order_index"),de.from("course_enrollments").select("completed, enrolled_at").eq("user_id",t.id).eq("course_id",e.id).maybeSingle(),de.from("user_course_progress").select("lesson_id, completed, completed_at, progress_percent").eq("user_id",t.id).eq("course_id",e.id)]);if(r(z||[]),u((R==null?void 0:R.completed)||!1),f((R==null?void 0:R.enrolled_at)||null),T){const A=new Map;for(const D of T)A.set(D.lesson_id,D);o(A)}}catch(z){console.error("Error loading course data:",z)}finally{g(!1)}}},b=Array.from(a.values()).filter(z=>z.completed).length,w=s.length,j=w>0?Math.round(b/w*100):0,k=s.reduce((z,R)=>z+R.duration,0),S=z=>{const R=s[z],T=a.get(R.id);if(T!=null&&T.completed)return"completed";if(z===0)return"available";const A=s[z-1],D=a.get(A.id);if(!(D!=null&&D.completed))return"locked";if(D.completed_at){const F=new Date(D.completed_at),V=new Date,$=new Date(F.getFullYear(),F.getMonth(),F.getDate()),q=new Date(V.getFullYear(),V.getMonth(),V.getDate());if($.getTime()>=q.getTime())return"daily_locked"}return"available"},C=()=>{var z;for(let R=0;R<s.length;R++)if(S(R)==="available"&&!((z=a.get(s[R].id))!=null&&z.completed))return R;return null};if(m)return i.jsx("div",{className:"flex items-center justify-center min-h-[300px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})});const E=C();return i.jsxs("div",{className:"space-y-6 mx-auto max-w-7xl",children:[i.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},className:"flex flex-col gap-4 lg:flex-row lg:items-start lg:justify-between",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[l?i.jsxs($e,{className:"bg-green-500/20 text-green-600 border-green-500/30",children:[i.jsx(oc,{className:"h-3 w-3 mr-1"}),"Dokonceno"]}):j>0?i.jsxs($e,{className:"bg-blue-500/20 text-blue-600 border-blue-500/30",children:[i.jsx(La,{className:"h-3 w-3 mr-1"}),"Probiha"]}):i.jsxs($e,{variant:"outline",children:[i.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Nezahajeno"]}),e.level&&i.jsx($e,{variant:"outline",className:"capitalize",children:e.level}),e.category&&i.jsx($e,{variant:"outline",children:e.category})]}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:e.title}),e.description&&i.jsx("p",{className:"text-muted-foreground leading-relaxed max-w-2xl",children:e.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mt-3",children:[e.instructor&&i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(ace,{className:"h-4 w-4"}),e.instructor]}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Vo,{className:"h-4 w-4"}),w," lekci"]}),k>0&&i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(cn,{className:"h-4 w-4"}),k," min"]}),d&&i.jsxs("span",{className:"flex items-center gap-1.5",children:["Zapsano: ",new Date(d).toLocaleDateString("cs-CZ")]})]})]}),E!==null&&i.jsxs(X,{size:"lg",className:"shrink-0",onClick:()=>n(`/kurz/${e.id}/cast/${E+1}`),children:[i.jsx(La,{className:"h-4 w-4 mr-2"}),"Pokracovat ve studiu"]}),l&&E===null&&i.jsxs(X,{variant:"outline",size:"lg",className:"shrink-0",onClick:()=>n(`/kurz/${e.id}/cast/1`),children:[i.jsx(ur,{className:"h-4 w-4 mr-2"}),"Zopakovat kurz"]})]}),i.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},className:"grid gap-4 grid-cols-2 sm:grid-cols-4",children:[{label:"Celkem lekci",value:w,icon:Vo,color:"text-blue-600"},{label:"Dokonceno",value:b,icon:Bs,color:"text-green-600"},{label:"Zbyvajicich",value:w-b,icon:Gt,color:"text-orange-600"},{label:"Celkovy cas",value:`${k} min`,icon:cn,color:"text-blue-600"}].map(z=>i.jsx(Re,{children:i.jsxs(Oe,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg bg-primary/10 p-2.5",children:i.jsx(z.icon,{className:`h-5 w-5 ${z.color}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xl font-bold",children:z.value}),i.jsx("p",{className:"text-xs text-muted-foreground",children:z.label})]})]})},z.label))}),i.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15},children:i.jsx(Re,{children:i.jsxs(Oe,{className:"p-5",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm font-medium",children:"Celkovy pokrok"}),i.jsxs("p",{className:"text-sm font-bold tabular-nums",children:[j,"%"]})]}),i.jsx(Fi,{value:j,className:"h-3"}),i.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:[b," z ",w," lekci dokonceno"]})]})})}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:i.jsxs(Re,{children:[i.jsx(Je,{children:i.jsx(Qe,{className:"text-lg",children:"Lekce"})}),i.jsx(Oe,{className:"p-0",children:i.jsx("div",{className:"divide-y",children:s.map((z,R)=>{const T=S(R),A=T==="completed"||T==="available";return i.jsxs("button",{type:"button",disabled:!A,onClick:()=>{A&&n(`/kurz/${e.id}/cast/${R+1}`)},className:se("w-full flex items-center gap-4 px-6 py-4 text-left transition-colors",A&&"hover:bg-accent/50 cursor-pointer",!A&&"cursor-not-allowed opacity-60"),children:[i.jsx("div",{className:se("w-9 h-9 rounded-full flex items-center justify-center text-sm font-semibold shrink-0",T==="completed"&&"bg-green-500 text-white",T==="available"&&"bg-primary/10 text-primary",T==="daily_locked"&&"bg-amber-500/15 text-amber-600",T==="locked"&&"bg-muted text-muted-foreground"),children:T==="completed"?i.jsx(Bs,{className:"h-4 w-4"}):T==="daily_locked"?i.jsx(Mo,{className:"h-4 w-4"}):T==="locked"?i.jsx(Il,{className:"h-3.5 w-3.5"}):R+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate text-sm",children:z.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[i.jsx(cn,{className:"h-3 w-3"}),i.jsxs("span",{children:[z.duration," min"]})]})]}),i.jsxs("div",{className:"shrink-0 flex items-center gap-2",children:[T==="completed"&&i.jsx($e,{variant:"outline",className:"text-green-600 border-green-500/30 text-xs",children:"Hotovo"}),T==="daily_locked"&&i.jsxs($e,{variant:"outline",className:"text-amber-600 border-amber-500/30 text-xs gap-1",children:[i.jsx(Mo,{className:"h-3 w-3"}),"Zitra"]}),A&&i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]})]},z.id)})})})]})})]})}const ru=[{id:"novice",name:"Novic",minXp:0,maxXp:99,color:"text-zinc-500",bgColor:"bg-zinc-500/10",borderColor:"border-zinc-500/30",icon:"seedling"},{id:"student",name:"Student",minXp:100,maxXp:299,color:"text-green-500",bgColor:"bg-green-500/10",borderColor:"border-green-500/30",icon:"book"},{id:"practitioner",name:"Praktikant",minXp:300,maxXp:599,color:"text-blue-500",bgColor:"bg-blue-500/10",borderColor:"border-blue-500/30",icon:"stethoscope"},{id:"specialist",name:"Specialista",minXp:600,maxXp:999,color:"text-cyan-500",bgColor:"bg-cyan-500/10",borderColor:"border-cyan-500/30",icon:"award"},{id:"expert",name:"Expert",minXp:1e3,maxXp:1999,color:"text-amber-500",bgColor:"bg-amber-500/10",borderColor:"border-amber-500/30",icon:"star"},{id:"master",name:"Mistr",minXp:2e3,maxXp:3499,color:"text-orange-500",bgColor:"bg-orange-500/10",borderColor:"border-orange-500/30",icon:"crown"},{id:"grandmaster",name:"Velmistr",minXp:3500,maxXp:999999,color:"text-red-500",bgColor:"bg-red-500/10",borderColor:"border-red-500/30",icon:"flame"}],Jc={lesson_complete:25,course_complete:150,streak_3:30,streak_7:75,streak_30:300,first_lesson:50,first_course:100},No=[{id:"first_lesson",name:"Prvni krok",description:"Dokoncete svou prvni lekci",icon:"footprints",xpReward:Jc.first_lesson,category:"lessons",condition:e=>e.lessonsCompleted>=1,reward:{type:"promo_code",value:"PRVNIKROK10",label:"10% sleva na dalsi kurz"}},{id:"lessons_5",name:"Pilny student",description:"Dokoncete 5 lekci",icon:"book-open",xpReward:50,category:"lessons",condition:e=>e.lessonsCompleted>=5,reward:{type:"subscription_days",value:"3",label:"3 dny predplatneho zdarma"}},{id:"lessons_10",name:"Znaly praktik",description:"Dokoncete 10 lekci",icon:"brain",xpReward:100,category:"lessons",condition:e=>e.lessonsCompleted>=10,reward:{type:"promo_code",value:"PRAKTIK15",label:"15% sleva na vsechny produkty"}},{id:"lessons_25",name:"Neustupny",description:"Dokoncete 25 lekci",icon:"target",xpReward:200,category:"lessons",condition:e=>e.lessonsCompleted>=25,reward:{type:"subscription_days",value:"7",label:"7 dni predplatneho zdarma"}},{id:"lessons_50",name:"Marathonec",description:"Dokoncete 50 lekci",icon:"medal",xpReward:400,category:"lessons",condition:e=>e.lessonsCompleted>=50,reward:{type:"discount",value:"25",label:"25% sleva na rocni predplatne"}},{id:"first_course",name:"Absolvent",description:"Dokoncete svuj prvni kurz",icon:"graduation-cap",xpReward:Jc.first_course,category:"courses",condition:e=>e.coursesCompleted>=1,reward:{type:"promo_code",value:"ABSOLVENT20",label:"20% sleva na dalsi kurz"}},{id:"courses_3",name:"Sberatel znalosti",description:"Dokoncete 3 kurzy",icon:"library",xpReward:250,category:"courses",condition:e=>e.coursesCompleted>=3,reward:{type:"subscription_days",value:"14",label:"14 dni predplatneho zdarma"}},{id:"courses_5",name:"Akademik",description:"Dokoncete 5 kurzu",icon:"trophy",xpReward:500,category:"courses",condition:e=>e.coursesCompleted>=5,reward:{type:"discount",value:"30",label:"30% sleva na cokoliv v obchode"}},{id:"streak_3",name:"Na vlne",description:"3 dny v rade aktivni",icon:"zap",xpReward:Jc.streak_3,category:"streaks",condition:e=>e.longestStreak>=3,reward:{type:"promo_code",value:"SERIE5",label:"5% sleva na dalsi nakup"}},{id:"streak_7",name:"Tydenni valka",description:"7 dni v rade aktivni",icon:"flame",xpReward:Jc.streak_7,category:"streaks",condition:e=>e.longestStreak>=7,reward:{type:"subscription_days",value:"5",label:"5 dni predplatneho zdarma"}},{id:"streak_30",name:"Zelezna vule",description:"30 dni v rade aktivni",icon:"shield",xpReward:Jc.streak_30,category:"streaks",condition:e=>e.longestStreak>=30,reward:{type:"subscription_days",value:"30",label:"30 dni predplatneho zdarma"}},{id:"xp_500",name:"Stoupenec",description:"Nasbirejte 500 XP",icon:"trending-up",xpReward:50,category:"special",condition:e=>e.totalXp>=500,reward:{type:"promo_code",value:"XP500SLEVA",label:"10% sleva na e-shop"}},{id:"xp_2000",name:"Veteran",description:"Nasbirejte 2000 XP",icon:"crown",xpReward:200,category:"special",condition:e=>e.totalXp>=2e3,reward:{type:"discount",value:"50",label:"50% sleva na mesicni predplatne"}}];function C0(e){for(let t=ru.length-1;t>=0;t--)if(e>=ru[t].minXp)return ru[t];return ru[0]}function BF(e){const t=ru.findIndex(n=>n.id===e.id);return t<ru.length-1?ru[t+1]:null}function G_e(e,t){const n=BF(t);if(!n)return 100;const s=e-t.minXp,r=n.minXp-t.minXp;return Math.min(Math.round(s/r*100),100)}function FF(){const{user:e}=Qt(),[t,n]=v.useState(null),[s,r]=v.useState([]),[a,o]=v.useState([]),[l,u]=v.useState(!0),[d,f]=v.useState(null),m=v.useCallback(async()=>{if(e)try{const[{data:z},{data:R},{data:T}]=await Promise.all([de.from("user_xp").select("total_xp, current_rank, lessons_completed, courses_completed, login_streak, longest_streak, last_activity_date").eq("user_id",e.id).maybeSingle(),de.from("user_badges").select("badge_id, earned_at, xp_awarded").eq("user_id",e.id),de.from("badge_rewards").select("badge_id, reward_type, reward_value, reward_label, claimed, claimed_at").eq("user_id",e.id)]);z?n(z):(await de.from("user_xp").insert({user_id:e.id,total_xp:0,current_rank:"novice",lessons_completed:0,courses_completed:0,login_streak:0,longest_streak:0}),n({total_xp:0,current_rank:"novice",lessons_completed:0,courses_completed:0,login_streak:0,longest_streak:0,last_activity_date:null})),r(R||[]),o(T||[])}catch(z){console.error("Error loading gamification data:",z)}finally{u(!1)}},[e]);v.useEffect(()=>{m()},[m]);const g=v.useCallback(async()=>{if(!e||!t)return;const z=new Date().toISOString().split("T")[0];if(t.last_activity_date===z)return;const R=new Date;R.setDate(R.getDate()-1);const T=R.toISOString().split("T")[0];let A=1;t.last_activity_date===T&&(A=t.login_streak+1);const D=Math.max(A,t.longest_streak);await de.from("user_xp").update({login_streak:A,longest_streak:D,last_activity_date:z,updated_at:new Date().toISOString()}).eq("user_id",e.id),n(F=>F&&{...F,login_streak:A,longest_streak:D,last_activity_date:z})},[e,t]);v.useEffect(()=>{t&&e&&g()},[e,t==null?void 0:t.last_activity_date]);const x=v.useCallback(async(z,R,T)=>{if(!e||!t)return null;const A=t.total_xp+z,D=C0(A),F=C0(t.total_xp),V=D.id!==F.id;await Promise.all([de.from("user_xp").update({total_xp:A,current_rank:D.id,updated_at:new Date().toISOString()}).eq("user_id",e.id),de.from("user_xp_history").insert({user_id:e.id,xp_amount:z,source:R,source_id:T||null})]),n(P=>P&&{...P,total_xp:A,current_rank:D.id});const $={lessonsCompleted:t.lessons_completed,coursesCompleted:t.courses_completed,loginStreak:t.login_streak,longestStreak:t.longest_streak,totalXp:A},q=new Set(s.map(P=>P.badge_id)),K=[];for(const P of No)!q.has(P.id)&&P.condition($)&&(K.push(P),await de.from("user_badges").insert({user_id:e.id,badge_id:P.id,xp_awarded:P.xpReward}),P.xpReward>0&&await de.from("user_xp_history").insert({user_id:e.id,xp_amount:P.xpReward,source:"badge_earned",source_id:P.id}),P.reward&&(await de.from("badge_rewards").insert({user_id:e.id,badge_id:P.id,reward_type:P.reward.type,reward_value:P.reward.value,reward_label:P.reward.label,claimed:!1}),o(I=>[...I,{badge_id:P.id,reward_type:P.reward.type,reward_value:P.reward.value,reward_label:P.reward.label,claimed:!1,claimed_at:null}])));const ee=K.reduce((P,I)=>P+I.xpReward,0);if(ee>0){const P=A+ee,I=C0(P);await de.from("user_xp").update({total_xp:P,current_rank:I.id,updated_at:new Date().toISOString()}).eq("user_id",e.id),n(G=>G&&{...G,total_xp:P,current_rank:I.id})}K.length>0&&r(P=>[...P,...K.map(I=>({badge_id:I.id,earned_at:new Date().toISOString(),xp_awarded:I.xpReward}))]);const L={amount:z+ee,source:R,newBadges:K,newRank:V?D:null};return f(L),L},[e,t,s]),b=v.useCallback(async z=>{if(!e||!t)return null;const R=t.lessons_completed+1;return await de.from("user_xp").update({lessons_completed:R,updated_at:new Date().toISOString()}).eq("user_id",e.id),n(T=>T&&{...T,lessons_completed:R}),x(Jc.lesson_complete,"lesson_complete",z)},[e,t,x]),w=v.useCallback(async z=>{if(!e||!t)return null;const R=t.courses_completed+1;return await de.from("user_xp").update({courses_completed:R,updated_at:new Date().toISOString()}).eq("user_id",e.id),n(T=>T&&{...T,courses_completed:R}),x(Jc.course_complete,"course_complete",z)},[e,t,x]),j=v.useCallback(async z=>{if(!e)return!1;const R=new Date().toISOString(),{error:T}=await de.from("badge_rewards").update({claimed:!0,claimed_at:R}).eq("user_id",e.id).eq("badge_id",z);return T?!1:(o(A=>A.map(D=>D.badge_id===z?{...D,claimed:!0,claimed_at:R}:D)),!0)},[e]),k=v.useCallback(()=>f(null),[]),S=t?C0(t.total_xp):null,C=S?BF(S):null,E=S&&t?G_e(t.total_xp,S):0;return{userXp:t,earnedBadges:s,claimedRewards:a,loading:l,currentRank:S,nextRank:C,rankProgress:E,lastXpEvent:d,onLessonComplete:b,onCourseComplete:w,claimReward:j,clearLastEvent:k,reload:m}}const Y_e={footprints:U_,"book-open":Gt,brain:Nie,target:lg,medal:moe,"graduation-cap":Ch,library:Xae,trophy:oc,zap:uu,flame:fb,shield:yp,"trending-up":Du,crown:_h},J_e={lessons:"Lekce",courses:"Kurzy",streaks:"Serie",special:"Specialni"},X_e={lessons:"text-green-500",courses:"text-blue-500",streaks:"text-orange-500",special:"text-amber-500"},Q_e={promo_code:bp,subscription_days:ca,discount:q_};function eCe({earnedBadgeIds:e,claimedRewards:t,onClaimReward:n}){const[s,r]=v.useState(null),a=["lessons","courses","streaks","special"],o=s?No.filter(f=>f.category===s):No,l=No.filter(f=>e.has(f.id)).length,u=new Map(t.map(f=>[f.badge_id,f])),d=t.filter(f=>!f.claimed).length;return i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"pb-4",children:[i.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[i.jsxs("div",{children:[i.jsxs(Qe,{className:"text-lg flex items-center gap-2",children:["Odznaky a odmeny",d>0&&i.jsxs(ne.div,{initial:{scale:0},animate:{scale:1},className:"flex items-center gap-1 rounded-full bg-green-500/15 border border-green-500/30 px-2 py-0.5",children:[i.jsx(Gd,{className:"w-3 h-3 text-green-500"}),i.jsxs("span",{className:"text-xs font-bold text-green-600",children:[d," novych"]})]})]}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[l," z ",No.length," ziskano -- kazdy odznak odemyka odmenu"]})]}),i.jsxs($e,{variant:"secondary",className:"text-xs font-bold tabular-nums",children:[l,"/",No.length]})]}),i.jsxs("div",{className:"flex gap-1.5 pt-2 flex-wrap",children:[i.jsxs(ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(null),className:se("px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",s?"bg-muted text-muted-foreground hover:text-foreground":"bg-foreground text-background"),children:["Vse (",No.length,")"]}),a.map(f=>{const m=No.filter(x=>x.category===f).length,g=No.filter(x=>x.category===f&&e.has(x.id)).length;return i.jsxs(ne.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(f),className:se("px-3 py-1.5 rounded-lg text-xs font-medium transition-colors",s===f?"bg-foreground text-background":"bg-muted text-muted-foreground hover:text-foreground"),children:[J_e[f]," (",g,"/",m,")"]},f)})]})]}),i.jsx(Oe,{className:"pb-4",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:i.jsx(jn,{mode:"popLayout",children:o.map((f,m)=>i.jsx(tCe,{badge:f,earned:e.has(f.id),rewardData:u.get(f.id),onClaim:n,index:m},f.id))})})})]})})}function tCe({badge:e,earned:t,rewardData:n,onClaim:s,index:r}){const[a,o]=v.useState(!1),[l,u]=v.useState(!1),d=Y_e[e.icon]||oc,f=X_e[e.category]||"text-zinc-500",m=!!e.reward,g=(n==null?void 0:n.claimed)??!1,x=t&&m&&n&&!g,b=async()=>{var S;o(!0);const k=await s(e.id);o(!1),k&&Te.success("Odmena vyzvednuta!",{description:(S=e.reward)==null?void 0:S.label})},w=()=>{n!=null&&n.reward_value&&(navigator.clipboard.writeText(n.reward_value),u(!0),Te.success("Kod zkopirovan do schranky"),setTimeout(()=>u(!1),2e3))},j=e.reward&&Q_e[e.reward.type]||Gd;return i.jsxs(ne.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3,delay:r*.03},whileHover:t?{y:-3}:void 0,className:se("relative rounded-xl border p-4 transition-colors flex gap-3",t?"bg-card border-border hover:border-primary/30":"bg-muted/30 border-border/40 opacity-50"),children:[!t&&i.jsx("div",{className:"absolute top-3 right-3",children:i.jsx(Il,{className:"w-3.5 h-3.5 text-muted-foreground/50"})}),i.jsx(ne.div,{className:se("shrink-0 w-12 h-12 rounded-xl flex items-center justify-center",t?`${f.replace("text-","bg-")}/15`:"bg-muted"),animate:t?{rotate:[0,-5,5,0]}:void 0,transition:{duration:.5,delay:r*.1+.5},children:i.jsx(d,{className:se("w-6 h-6",t?f:"text-muted-foreground/40")})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:se("text-sm font-semibold leading-tight",t?"text-foreground":"text-muted-foreground/60"),children:e.name}),i.jsx("p",{className:se("text-xs leading-snug mt-0.5",t?"text-muted-foreground":"text-muted-foreground/40"),children:e.description})]}),t&&e.xpReward>0&&i.jsxs($e,{variant:"secondary",className:"text-[10px] h-5 px-1.5 font-bold shrink-0",children:["+",e.xpReward," XP"]})]}),m&&i.jsx("div",{className:"mt-2",children:t?x?i.jsxs(ne.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},className:"flex items-center gap-2 mt-1",children:[i.jsxs("div",{className:"flex-1 rounded-lg border border-green-500/30 bg-green-500/5 px-2.5 py-1.5 flex items-center gap-1.5",children:[i.jsx(j,{className:"w-3.5 h-3.5 text-green-500 shrink-0"}),i.jsx("span",{className:"text-[11px] font-medium text-green-600 truncate",children:e.reward.label})]}),i.jsx(X,{size:"sm",className:"h-7 px-2.5 text-xs bg-green-600 hover:bg-green-700 text-white shrink-0",onClick:b,disabled:a,children:a?i.jsx("div",{className:"w-3 h-3 border-2 border-white/30 border-t-white rounded-full animate-spin"}):i.jsxs(i.Fragment,{children:[i.jsx(Gd,{className:"w-3 h-3 mr-1"}),"Vyzvednout"]})})]}):g?i.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-1 rounded-lg border border-border bg-muted/50 px-2.5 py-1.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[i.jsx(Pa,{className:"w-3 h-3 text-green-500"}),i.jsx("span",{className:"text-[11px] font-medium text-green-600",children:"Vyzvednuto"})]}),((n==null?void 0:n.reward_type)==="promo_code"||(n==null?void 0:n.reward_type)==="discount")&&i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("code",{className:"text-xs font-mono bg-background px-2 py-0.5 rounded border flex-1 truncate",children:n.reward_value}),i.jsx("button",{onClick:w,className:"shrink-0 p-1 rounded hover:bg-accent transition-colors",children:l?i.jsx(Pa,{className:"w-3 h-3 text-green-500"}):i.jsx(g2,{className:"w-3 h-3 text-muted-foreground"})})]}),(n==null?void 0:n.reward_type)==="subscription_days"&&i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx(ca,{className:"w-3 h-3 text-blue-500"}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:["+",n.reward_value," dni pridano k predplatnemu"]})]})]}):i.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-muted-foreground mt-1",children:[i.jsx(Gd,{className:"w-3 h-3"}),i.jsx("span",{children:e.reward.label})]}):i.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-muted-foreground/40",children:[i.jsx(Gd,{className:"w-3 h-3"}),i.jsxs("span",{children:["Odmena: ",e.reward.label]})]})})]})]})}function UF({amount:e,source:t,newBadges:n,newRank:s,visible:r,onClose:a}){v.useEffect(()=>{if(r){const l=setTimeout(a,4e3);return()=>clearTimeout(l)}},[r,a]);const o={lesson_complete:"Lekce dokoncena",course_complete:"Kurz dokoncen",badge_earned:"Odznak ziskan",streak_bonus:"Bonus za serii"};return i.jsx(jn,{children:r&&i.jsxs(ne.div,{className:"fixed top-24 right-4 z-[9999] flex flex-col gap-2 items-end pointer-events-none",initial:{opacity:0,x:100,scale:.8},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:100,scale:.8},transition:{type:"spring",stiffness:300,damping:25},children:[i.jsxs(ne.div,{className:"pointer-events-auto rounded-xl border bg-card/95 backdrop-blur-md shadow-lg px-4 py-3 flex items-center gap-3 min-w-[200px]",whileHover:{scale:1.02},onClick:a,children:[i.jsx(ne.div,{className:"w-10 h-10 rounded-lg bg-amber-500/15 flex items-center justify-center shrink-0",animate:{rotate:[0,15,-15,0]},transition:{duration:.6,delay:.2},children:i.jsx(uu,{className:"w-5 h-5 text-amber-500"})}),i.jsxs("div",{children:[i.jsxs(ne.div,{className:"text-lg font-bold tabular-nums text-amber-500",initial:{scale:.5},animate:{scale:[.5,1.3,1]},transition:{duration:.5,delay:.1},children:["+",e," XP"]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:o[t]||t})]})]}),s&&i.jsxs(ne.div,{initial:{opacity:0,y:-10,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.4,type:"spring",stiffness:300},className:"pointer-events-auto rounded-xl border-2 bg-card/95 backdrop-blur-md shadow-lg px-4 py-3 flex items-center gap-3 min-w-[200px]",style:{borderColor:`var(--color-${s.color.replace("text-","")}, currentColor)`},children:[i.jsx(ne.div,{className:se("w-10 h-10 rounded-lg flex items-center justify-center shrink-0",s.bgColor),animate:{scale:[1,1.2,1],rotate:[0,360]},transition:{duration:.8,delay:.5},children:i.jsx(fie,{className:se("w-5 h-5",s.color)})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Novy rank!"}),i.jsx("p",{className:se("text-sm font-bold",s.color),children:s.name})]})]}),n.map((l,u)=>i.jsxs(ne.div,{initial:{opacity:0,y:-10,scale:.8},animate:{opacity:1,y:0,scale:1},transition:{delay:.6+u*.2,type:"spring",stiffness:300},className:"pointer-events-auto rounded-xl border bg-card/95 backdrop-blur-md shadow-lg px-4 py-3 flex items-center gap-3 min-w-[200px]",children:[i.jsx(ne.div,{className:"w-10 h-10 rounded-lg bg-green-500/15 flex items-center justify-center shrink-0",animate:{scale:[1,1.15,1]},transition:{duration:.5,delay:.7+u*.2},children:l.category==="courses"?i.jsx(oc,{className:"w-5 h-5 text-green-500"}):i.jsx(Lr,{className:"w-5 h-5 text-green-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Novy odznak!"}),i.jsx("p",{className:"text-sm font-bold",children:l.name}),l.xpReward>0&&i.jsxs("p",{className:"text-[10px] text-amber-500 font-semibold",children:["+",l.xpReward," XP"]})]})]},l.id))]})})}function nCe({onComplete:e,username:t="Studente"}){const[n,s]=v.useState("logo");return v.useEffect(()=>{const r=setTimeout(()=>s("greeting"),800),a=setTimeout(()=>s("exit"),2e3),o=setTimeout(e,2600);return()=>{clearTimeout(r),clearTimeout(a),clearTimeout(o)}},[e]),i.jsxs(jn,{children:[null,i.jsxs(ne.div,{className:"fixed inset-0 z-[100] flex flex-col items-center justify-center bg-background",initial:{opacity:1},animate:{opacity:n==="exit"?0:1},exit:{opacity:0},transition:{duration:.5,ease:[.33,1,.68,1]},style:{pointerEvents:n==="exit"?"none":"auto"},children:[i.jsxs(ne.div,{className:"absolute inset-0",initial:{opacity:0},animate:{opacity:.4},transition:{duration:1.5},children:[i.jsx("div",{className:"absolute top-1/4 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] rounded-full bg-primary/8 blur-[100px]"}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-[300px] h-[300px] rounded-full bg-blue-400/6 blur-[80px]"})]}),i.jsxs("div",{className:"relative z-10 flex flex-col items-center gap-6",children:[i.jsx(ne.div,{initial:{scale:.5,opacity:0},animate:{scale:n==="greeting"?.85:1,opacity:1,y:n==="greeting"?-20:0},transition:{scale:{type:"spring",stiffness:200,damping:20},opacity:{duration:.4},y:{type:"spring",stiffness:200,damping:25}},children:i.jsx("img",{src:"/Dires.png",alt:"Dires",className:"w-20 h-20 dark:invert"})}),i.jsx(jn,{children:n==="greeting"&&i.jsxs(ne.div,{className:"flex flex-col items-center gap-2",initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.5,ease:[.33,1,.68,1]},children:[i.jsx(ne.p,{className:"text-sm font-medium text-muted-foreground tracking-wide uppercase",initial:{opacity:0},animate:{opacity:1},transition:{delay:.1,duration:.4},children:"Vitejte zpet"}),i.jsx(ne.h1,{className:"text-2xl font-bold text-foreground",initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.2,duration:.4},children:t})]})}),i.jsx(ne.div,{className:"w-48 h-0.5 rounded-full bg-border overflow-hidden",initial:{opacity:0,scaleX:0},animate:{opacity:1,scaleX:1},transition:{delay:.3,duration:.4},children:i.jsx(ne.div,{className:"h-full bg-primary rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{delay:.5,duration:1.5,ease:[.33,1,.68,1]}})})]})]})]})}const sCe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},rCe={hidden:{opacity:0,y:16},visible:{opacity:1,y:0,transition:{duration:.45,ease:[.33,1,.68,1]}}};function E0({title:e,delay:t=0,right:n}){return i.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.35,delay:t},className:"flex items-center justify-between mb-3",children:[i.jsx("span",{className:"text-[11px] font-semibold text-muted-foreground uppercase tracking-wider",children:e}),n]})}function iCe(){var q;const{user:e}=Qt(),{subscription:t,hasActiveSubscription:n,refetch:s}=pg(),{selectedCourse:r}=x7(),{userXp:a,earnedBadges:o,claimedRewards:l,currentRank:u,nextRank:d,rankProgress:f,lastXpEvent:m,clearLastEvent:g,claimReward:x}=FF(),[b,w]=v.useState([]),[j,k]=v.useState(!0),[S,C]=v.useState(!1),[E,z]=v.useState(!0),{showMobileNav:R}=V_(),[T,A]=v.useState({completedCourses:0,inProgressCourses:0,totalHoursSpent:0,completedModules:0}),D=async()=>{C(!0);try{await s(),Te.success("Predplatne aktualizovano")}catch{Te.error("Nepodarilo se aktualizovat predplatne")}finally{C(!1)}};v.useEffect(()=>{F()},[e]);const F=async()=>{if(e)try{const{data:K,error:ee}=await de.from("course_enrollments").select(`
          id,
          course_id,
          enrolled_at,
          completed,
          completion_date,
          courses!inner (
            id,
            title,
            description,
            thumbnail_url,
            price,
            order_index
          )
        `).eq("user_id",e.id).order("enrolled_at",{ascending:!1});if(ee){console.error("Error fetching enrollments:",ee);return}const L=(K||[]).map(U=>{var M,H,W,te,le,ce;return{id:U.id,course_id:U.course_id,progress_percentage:U.completed?100:0,enrolled_at:U.enrolled_at,completed_at:U.completion_date,course:{id:((M=U.courses)==null?void 0:M.id)||"",title:((H=U.courses)==null?void 0:H.title)||"",description:((W=U.courses)==null?void 0:W.description)||"",image_url:((te=U.courses)==null?void 0:te.thumbnail_url)||"",price:((le=U.courses)==null?void 0:le.price)||0,order_index:((ce=U.courses)==null?void 0:ce.order_index)||0}}});w(L);const{data:P}=await de.from("user_course_progress").select("completed").eq("user_id",e.id),I=(P==null?void 0:P.filter(U=>U.completed).length)||0,G=I*60;A({completedCourses:(K==null?void 0:K.filter(U=>U.completed).length)||0,inProgressCourses:(K==null?void 0:K.filter(U=>!U.completed).length)||0,totalHoursSpent:Math.round(G/60),completedModules:I})}catch(K){console.error("Error loading dashboard data:",K)}finally{k(!1)}},V=v.useCallback(()=>{z(!1),R()},[R]);if(r)return i.jsx(K_e,{course:r});const $=((q=e==null?void 0:e.email)==null?void 0:q.split("@")[0])||"Studente";return i.jsxs(i.Fragment,{children:[i.jsx(jn,{children:E&&i.jsx(nCe,{onComplete:V,username:$})}),!E&&i.jsxs(ne.div,{className:"pb-8 space-y-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.1},children:[i.jsx(W_e,{user:e,subscription:t,hasActiveSubscription:n,currentRank:u,nextRank:d,totalXp:(a==null?void 0:a.total_xp)??0,rankProgress:f,loginStreak:(a==null?void 0:a.login_streak)??0,lessonsCompleted:(a==null?void 0:a.lessons_completed)??0,coursesCompleted:(a==null?void 0:a.courses_completed)??0,onRefresh:D,refreshing:S}),j?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-primary border-t-transparent"})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx(E0,{title:"Statistiky",delay:.1}),i.jsx(ne.div,{className:"grid grid-cols-2 gap-3",variants:sCe,initial:"hidden",animate:"visible",children:[{title:"Dokoncene",value:T.completedCourses,icon:u1e,color:"text-green-500",bg:"bg-green-500/10"},{title:"Probihajici",value:T.inProgressCourses,icon:w0,color:"text-blue-500",bg:"bg-blue-500/10"},{title:"Hodin",value:T.totalHoursSpent,icon:fu,color:"text-cyan-500",bg:"bg-cyan-500/10"},{title:"Lekci",value:T.completedModules,icon:Va,color:"text-orange-500",bg:"bg-orange-500/10"}].map(K=>{const ee=K.icon;return i.jsxs(ne.div,{variants:rCe,whileTap:{scale:.97},className:"flex items-center gap-3 p-3.5 rounded-2xl bg-muted/30 border border-border/25",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${K.bg}`,children:i.jsx(ee,{className:`h-5 w-5 ${K.color}`})}),i.jsxs("div",{children:[i.jsx("div",{className:"text-xl font-extrabold leading-tight",children:K.value}),i.jsx("div",{className:"text-[11px] text-muted-foreground font-medium",children:K.title})]})]},K.title)})})]}),i.jsx("div",{children:b.length>0?i.jsxs(i.Fragment,{children:[i.jsx(E0,{title:"Pokracovat v uceni",delay:.2,right:i.jsx(X,{asChild:!0,variant:"ghost",size:"sm",className:"text-[11px] h-6 px-2 -mr-2",children:i.jsxs(Ue,{to:"/prehled/moje-kurzy",children:["Zobrazit vse",i.jsx(_p,{className:"ml-1 h-3 w-3"})]})})}),i.jsx("div",{className:"space-y-2.5",children:b.slice(0,3).map((K,ee)=>i.jsx(ne.div,{initial:{opacity:0,x:-12},animate:{opacity:1,x:0},transition:{delay:.25+ee*.08,duration:.4},whileTap:{scale:.98},children:i.jsxs(Ue,{to:"/prehled/moje-kurzy",className:"flex items-center gap-3 p-3 rounded-2xl bg-muted/25 border border-border/25 active:bg-muted/50 transition-colors",children:[i.jsx("div",{className:"flex-shrink-0 w-11 h-11 rounded-xl bg-gradient-to-br from-primary/12 to-blue-400/12 flex items-center justify-center",children:i.jsx(w0,{className:"h-5 w-5 text-primary/70"})}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-1.5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold text-sm truncate",children:K.course.title}),K.completed_at&&i.jsx("span",{className:"flex-shrink-0 text-[9px] font-bold text-green-600 bg-green-500/10 px-1.5 py-0.5 rounded-md",children:"Hotovo"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center justify-between text-[11px]",children:[i.jsx("span",{className:"text-muted-foreground",children:"Pokrok"}),i.jsxs("span",{className:"font-bold tabular-nums",children:[Math.round(K.progress_percentage),"%"]})]}),i.jsx(Fi,{value:K.progress_percentage,className:"h-1.5"})]})]}),i.jsx(_p,{className:"h-4 w-4 text-muted-foreground/50 flex-shrink-0"})]})},K.id))})]}):i.jsxs(ne.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center py-10 space-y-4 rounded-2xl bg-muted/15 border border-border/20",children:[i.jsx(ne.div,{initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:200,delay:.4},children:i.jsx(w0,{className:"h-12 w-12 text-muted-foreground/30 mx-auto"})}),i.jsxs("div",{className:"space-y-1",children:[i.jsx("h3",{className:"text-base font-bold",children:"Zatim zadne kurzy"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Zapiste se do sveho prvniho kurzu"})]}),i.jsx(X,{asChild:!0,size:"default",className:"rounded-xl",children:i.jsx(Ue,{to:"/prehled/moje-kurzy",children:"Prohlednout Kurzy"})})]})}),i.jsxs("div",{children:[i.jsx(E0,{title:"Oceneni",delay:.3}),i.jsx(eCe,{earnedBadgeIds:new Set(o.map(K=>K.badge_id)),claimedRewards:l,onClaimReward:x})]}),i.jsxs("div",{children:[i.jsx(E0,{title:"Rychle akce",delay:.4}),i.jsx(ne.div,{className:"grid grid-cols-3 gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.45},children:[{to:"/prehled/moje-kurzy",icon:w0,label:"Kurzy",color:"text-blue-500",bg:"bg-blue-500/10"},{to:"/prehled/fakturace",icon:Q2,label:"Platby",color:"text-emerald-500",bg:"bg-emerald-500/10"},{to:"/prehled/nastaveni",icon:Ub,label:"Profil",color:"text-orange-500",bg:"bg-orange-500/10"}].map(({to:K,icon:ee,label:L,color:P,bg:I},G)=>i.jsx(ne.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{delay:.5+G*.06,type:"spring",stiffness:300},whileTap:{scale:.95},children:i.jsxs(Ue,{to:K,className:"flex flex-col items-center gap-2 p-4 rounded-2xl bg-muted/25 border border-border/25 active:bg-muted/50 transition-colors",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${I}`,children:i.jsx(ee,{className:`h-5 w-5 ${P}`})}),i.jsx("span",{className:"text-[11px] font-semibold",children:L})]})},K))})]})]}),m&&i.jsx(UF,{amount:m.amount,source:m.source,newBadges:m.newBadges,newRank:m.newRank,visible:!!m,onClose:g})]})]})}const Fd=[{id:1,name:"Pooperan rehabilitace kolene",patient:"Sarah Johnson",type:"Ortopedick",duration:"12 tdn",progress:75,sessionsCompleted:9,totalSessions:12,status:"active",startDate:"2024-11-15",exercises:[{name:"Extenze nohou",sets:3,reps:15,completed:!0},{name:"Hamstringov rotace",sets:3,reps:12,completed:!0},{name:"Depy u zdi",sets:2,reps:10,completed:!1},{name:"Balann cvien",sets:3,reps:10,completed:!1}]},{id:2,name:"Lba bolesti doln sti zad",patient:"Emma Davis",type:"Lba bolesti",duration:"8 tdn",progress:60,sessionsCompleted:5,totalSessions:8,status:"active",startDate:"2024-12-01",exercises:[{name:"Pnvov nklon",sets:3,reps:12,completed:!0},{name:"Koka-krva protaen",sets:2,reps:10,completed:!0},{name:"Mstek",sets:3,reps:15,completed:!0},{name:"Pta pes",sets:3,reps:10,completed:!1}]},{id:3,name:"Zlepen pohyblivosti ramen",patient:"Michael Chen",type:"Pohyblivost",duration:"10 tdn",progress:45,sessionsCompleted:4,totalSessions:10,status:"active",startDate:"2024-12-10",exercises:[{name:"Krouhy paemi",sets:2,reps:20,completed:!0},{name:"Staen lopatek",sets:3,reps:12,completed:!0},{name:"Chze po zdi",sets:2,reps:10,completed:!1},{name:"Tahn odporov gumy",sets:3,reps:15,completed:!1}]},{id:4,name:"Program levy od bolesti krku",patient:"Lisa Anderson",type:"Lba bolesti",duration:"6 tdn",progress:30,sessionsCompleted:2,totalSessions:6,status:"active",startDate:"2024-12-20",exercises:[{name:"Rotace krku",sets:2,reps:10,completed:!0},{name:"Vtaen brady",sets:3,reps:15,completed:!1},{name:"Pokren ramen",sets:3,reps:12,completed:!1},{name:"Bon ohyby krku",sets:2,reps:10,completed:!1}]}],aCe=[{category:"Sla",exercises:["Extenze nohou","Hamstringov rotace","Bicepsov zdvihy","Tricepsov nataen","Tlak na hrudnk"]},{category:"Flexibilita",exercises:["Koka-krva protaen","Hamstringov nataen","Protaen kyelnho flexoru","Protaen ramen"]},{category:"Rovnovha",exercises:["Stoj na jedn noze","Chze pata-pika","Balann deska","Tandemov postoj"]},{category:"Kardio",exercises:["Chze","Cyklistika","Plavn","Eliptick trenar"]}];function oCe(){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Terapeutick plny"}),i.jsx("p",{className:"text-muted-foreground",children:"Spravujte terapeutick plny a cviebn programy pro vae pacienty."})]}),i.jsxs(X,{children:[i.jsx(X2,{className:"mr-2 h-4 w-4"}),"Vytvoit terapeutick pln"]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Aktivn plny"}),i.jsx(s1e,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Fd.filter(e=>e.status==="active").length}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["U ",Fd.length," pacient"]})]})]}),i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Prmrn pokrok"}),i.jsx(Va,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(Fd.reduce((e,t)=>e+t.progress,0)/Fd.length),"%"]}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Dle plnu"})]})]}),i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Celkem sezen"}),i.jsx(fu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Fd.reduce((e,t)=>e+t.sessionsCompleted,0)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Dokoneno tento msc"})]})]}),i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"spnost"}),i.jsx(Va,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"94%"}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Dosaench cl"})]})]})]}),i.jsxs(ya,{defaultValue:"active",className:"space-y-4",children:[i.jsxs(Hi,{children:[i.jsx(kn,{value:"active",children:"Aktivn plny"}),i.jsx(kn,{value:"library",children:"Knihovna cvik"})]}),i.jsx(In,{value:"active",className:"space-y-4",children:i.jsx("div",{className:"grid gap-4",children:Fd.map(e=>i.jsxs(Re,{className:"hover:shadow-md transition-shadow",children:[i.jsx(Je,{children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Qe,{className:"text-xl",children:e.name}),i.jsx($e,{children:e.type}),i.jsx($e,{variant:e.status==="active"?"default":"secondary",children:e.status==="active"?"aktivn":e.status})]}),i.jsxs(Xt,{className:"flex items-center gap-4 mt-2",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ub,{className:"h-4 w-4"}),e.patient]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(fu,{className:"h-4 w-4"}),e.duration]}),i.jsxs("span",{children:["Zatek: ",new Date(e.startDate).toLocaleDateString()]})]})]}),i.jsx(X,{variant:"outline",size:"sm",children:"Upravit pln"})]})}),i.jsxs(Oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Celkov pokrok"}),i.jsxs("span",{className:"font-semibold",children:[e.progress,"%"]})]}),i.jsx("div",{className:"w-full bg-secondary h-2 rounded-full overflow-hidden",children:i.jsx("div",{className:"bg-primary h-full transition-all",style:{width:`${e.progress}%`}})}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:["Sezen: ",e.sessionsCompleted," / ",e.totalSessions]}),i.jsxs("span",{children:["Zbv ",e.totalSessions-e.sessionsCompleted]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h4",{className:"text-sm font-semibold",children:"Cvien"}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(_p,{className:"h-4 w-4"})})]}),i.jsx("div",{className:"grid gap-2",children:e.exercises.map((t,n)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center ${t.completed?"bg-green-500 border-green-500":"border-muted-foreground"}`,children:t.completed&&i.jsx(Va,{className:"h-3 w-3 text-white"})}),i.jsx("span",{className:`text-sm font-medium ${t.completed?"line-through text-muted-foreground":""}`,children:t.name})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsxs("span",{children:[t.sets," sri"]}),i.jsxs("span",{children:[t.reps," opakovn"]})]})]},n))})]})]})]},e.id))})}),i.jsx(In,{value:"library",className:"space-y-4",children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Knihovna cvik"}),i.jsx(Xt,{children:"Prochzejte a pidvejte cvien do terapeutickch pln"})]}),i.jsx(Oe,{children:i.jsx("div",{className:"grid gap-6",children:aCe.map((e,t)=>i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h3",{className:"text-lg font-semibold",children:e.category}),i.jsxs($e,{variant:"outline",children:[e.exercises.length," cvik"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2",children:e.exercises.map((n,s)=>i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-accent/50 transition-colors cursor-pointer",children:[i.jsx("span",{className:"text-sm font-medium",children:n}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(X2,{className:"h-4 w-4"})})]},s))})]},t))})})]})})]})]})}const Ud={today:[{id:1,time:"09:00",patient:"Jana Novkov",treatment:"Rehabilitace sportovnch zrann",duration:"60 min",status:"confirmed",notes:"Kontroln sezen pro zrann kolene"},{id:2,time:"10:30",patient:"Petr Dvok",treatment:"Pooperan terapie",duration:"45 min",status:"confirmed",notes:"Prvotn vyeten po operaci ramene"},{id:3,time:"12:00",patient:"Eva Markov",treatment:"Lba chronick bolesti",duration:"60 min",status:"pending",notes:"Lba bolesti doln sti zad"},{id:4,time:"14:00",patient:"Tom Svoboda",treatment:"Zlepen mobility",duration:"45 min",status:"confirmed",notes:"Pravideln cvien mobility"},{id:5,time:"15:30",patient:"Lucie Prochzkov",treatment:"Lba bolesti krku",duration:"60 min",status:"confirmed",notes:"Lba krn ptee"}],upcoming:[{id:6,date:"2024-01-20",time:"10:00",patient:"Martin ern",treatment:"Rehabilitace kolene",duration:"60 min",status:"confirmed",notes:"Rehabilitace po operaci ACL"},{id:7,date:"2024-01-21",time:"11:00",patient:"Jana Novkov",treatment:"Rehabilitace sportovnch zrann",duration:"60 min",status:"confirmed",notes:"Pokraovn posilovn kolene"},{id:8,date:"2024-01-22",time:"09:30",patient:"Pavel Novotn",treatment:"Rovnovha a koordinace",duration:"45 min",status:"pending",notes:"Program prevence pd"},{id:9,date:"2024-01-23",time:"14:00",patient:"Monika Horkov",treatment:"Lba artritidy",duration:"60 min",status:"confirmed",notes:"Cvien mobility kloub"}]},T0={confirmed:{variant:"default",label:"Potvrzeno"},pending:{variant:"secondary",label:"ek"},completed:{variant:"outline",label:"Dokoneno"},cancelled:{variant:"destructive",label:"Zrueno"}};function lCe(){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Objednvky"}),i.jsx("p",{className:"text-muted-foreground",children:"Spravujte harmonogram objednvek a nvtvy pacient."})]}),i.jsxs(X,{children:[i.jsx(X2,{className:"mr-2 h-4 w-4"}),"Nov objednvka"]})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Dnen objednvky"}),i.jsx(j0,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Ud.today.length}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[Ud.today.filter(e=>e.status==="confirmed").length," potvrzeno"]})]})]}),i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Tento tden"}),i.jsx(j0,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:Ud.today.length+Ud.upcoming.length}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"V prbhu 5 dn"})]})]}),i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Prmrn dlka"}),i.jsx(fu,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"55 min"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Na objednvku"})]})]}),i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Mra dokonen"}),i.jsx(Va,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:"96%"}),i.jsx("p",{className:"text-xs text-green-600 dark:text-green-400",children:"Vynikajc vkon"})]})]})]}),i.jsxs(ya,{defaultValue:"today",className:"space-y-4",children:[i.jsxs(Hi,{children:[i.jsx(kn,{value:"today",children:"Dnes"}),i.jsx(kn,{value:"upcoming",children:"Nadchzejc"}),i.jsx(kn,{value:"calendar",children:"Kalendn zobrazen"})]}),i.jsx(In,{value:"today",className:"space-y-4",children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Dnen harmonogram"}),i.jsx(Xt,{children:"Vechny dnen objednvky"})]}),i.jsx(Oe,{className:"space-y-4",children:Ud.today.map(e=>i.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[80px] p-3 rounded-lg bg-primary/10",children:[i.jsx(fu,{className:"h-5 w-5 text-primary mb-1"}),i.jsx("span",{className:"text-sm font-bold text-primary",children:e.time}),i.jsx("span",{className:"text-xs text-muted-foreground",children:e.duration})]}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold",children:e.patient}),i.jsx($e,{variant:T0[e.status].variant,children:T0[e.status].label})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.treatment})]})}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(Ub,{className:"h-4 w-4"}),i.jsx("span",{children:e.notes})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsxs(X,{variant:"outline",size:"sm",children:[i.jsx(Va,{className:"mr-2 h-4 w-4"}),"Dokonit"]}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(a1e,{className:"h-4 w-4"})})]})]},e.id))})]})}),i.jsx(In,{value:"upcoming",className:"space-y-4",children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Nadchzejc objednvky"}),i.jsx(Xt,{children:"Naplnovan objednvky na nsledujcch 7 dn"})]}),i.jsx(Oe,{className:"space-y-4",children:Ud.upcoming.map(e=>i.jsxs("div",{className:"flex items-start justify-between p-4 rounded-lg border bg-card hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-start gap-4 flex-1",children:[i.jsxs("div",{className:"flex flex-col items-center justify-center min-w-[80px] p-3 rounded-lg bg-primary/10",children:[i.jsx(j0,{className:"h-5 w-5 text-primary mb-1"}),i.jsx("span",{className:"text-xs font-semibold text-primary",children:new Date(e.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}),i.jsx("span",{className:"text-xs text-muted-foreground",children:e.time})]}),i.jsxs("div",{className:"flex-1 space-y-2",children:[i.jsx("div",{className:"flex items-start justify-between",children:i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold",children:e.patient}),i.jsx($e,{variant:T0[e.status].variant,children:T0[e.status].label})]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:e.treatment})]})}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[i.jsx(fu,{className:"h-4 w-4"}),i.jsx("span",{children:e.duration}),i.jsx("span",{className:"mx-2",children:""}),i.jsx("span",{children:e.notes})]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[i.jsx(X,{variant:"outline",size:"sm",children:"Peplnovat"}),i.jsx(X,{variant:"ghost",size:"sm",children:i.jsx(hE,{className:"h-4 w-4"})})]})]},e.id))})]})}),i.jsx(In,{value:"calendar",className:"space-y-4",children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Kalendn zobrazen"}),i.jsx(Xt,{children:"Msn kalend se vemi objednvkami"})]}),i.jsx(Oe,{children:i.jsx("div",{className:"flex items-center justify-center h-[400px] text-muted-foreground",children:i.jsxs("div",{className:"text-center space-y-4",children:[i.jsx(j0,{className:"h-16 w-16 mx-auto opacity-50"}),i.jsx("p",{children:"Kalendn zobrazen bude brzy k dispozici"}),i.jsx("p",{className:"text-sm",children:"Integrovan komponenta kalende pijde v pt aktualizaci"})]})})})]})})]})]})}const GO={completed:{label:"Dokonceno",color:"text-emerald-600",dotColor:"bg-emerald-500"},active:{label:"Aktivni",color:"text-emerald-600",dotColor:"bg-emerald-500"},pending:{label:"Zpracovava se",color:"text-amber-600",dotColor:"bg-amber-500"},cancelled:{label:"Zruseno",color:"text-muted-foreground",dotColor:"bg-muted-foreground"},expired:{label:"Vyprselo",color:"text-muted-foreground",dotColor:"bg-muted-foreground"}},cCe={free_trial:"Zkusebni verze",monthly:"Mesicni predplatne",lifetime:"Dozivotni predplatne"},YO=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK"}).format(e),pm=e=>new Date(e).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"}),uCe=({className:e})=>{const{user:t}=Qt(),n=Yt(),[s,r]=v.useState("all"),[a,o]=v.useState(""),[l,u]=v.useState([]),[d,f]=v.useState(!0);v.useEffect(()=>{t?m():(u([]),f(!1))},[t]);const m=async()=>{if(t)try{const[{data:b},{data:w},{data:j}]=await Promise.all([de.from("course_purchases").select(`
            id,
            amount_paid,
            purchased_at,
            course_id,
            courses (id, title, thumbnail_url)
          `).eq("user_id",t.id).order("purchased_at",{ascending:!1}),de.from("orders").select(`
            id,
            status,
            total,
            created_at,
            order_items (
              id,
              quantity,
              price,
              product_id,
              products (id, name, image_url)
            )
          `).eq("user_id",t.id).order("created_at",{ascending:!1}),de.from("subscriptions").select("id, plan_type, status, current_period_start, current_period_end, created_at").eq("user_id",t.id).order("created_at",{ascending:!1})]),k=[];if(b)for(const S of b){const C=S.courses;C&&k.push({id:`cp-${S.id}`,orderNumber:`CRS-${S.id.slice(0,8).toUpperCase()}`,orderDate:pm(S.purchased_at),rawDate:S.purchased_at,status:"completed",total:S.amount_paid,type:"course",items:[{id:C.id,name:C.title,image:C.thumbnail_url||"https://images.pexels.com/photos/4506109/pexels-photo-4506109.jpeg?auto=compress&cs=tinysrgb&w=400",price:S.amount_paid,detail:"Online kurz",quantity:1,type:"course",courseId:C.id}]})}if(w)for(const S of w){const C=(S.order_items||[]).map(z=>{const R=z.products;return{id:z.id,name:(R==null?void 0:R.name)||"Produkt",image:(R==null?void 0:R.image_url)||"https://images.pexels.com/photos/6111394/pexels-photo-6111394.jpeg?auto=compress&cs=tinysrgb&w=400",price:z.price,detail:`Ks: ${z.quantity}`,quantity:z.quantity,type:"product"}}),E={pending:"pending",paid:"completed",shipped:"active",delivered:"completed",cancelled:"cancelled"};k.push({id:`ord-${S.id}`,orderNumber:`ORD-${S.id.slice(0,8).toUpperCase()}`,orderDate:pm(S.created_at),rawDate:S.created_at,status:E[S.status]||S.status,total:S.total,type:"product",items:C})}if(j)for(const S of j){if(S.plan_type==="free_trial")continue;const C=S.status==="active"?"active":S.status==="canceled"||S.status==="cancelled"?"cancelled":S.status==="expired"?"expired":"completed",E=S.current_period_start&&S.current_period_end?`${pm(S.current_period_start)} - ${pm(S.current_period_end)}`:"";k.push({id:`sub-${S.id}`,orderNumber:`SUB-${S.id.slice(0,8).toUpperCase()}`,orderDate:pm(S.created_at),rawDate:S.created_at,status:C,total:S.plan_type==="lifetime"?9990:S.plan_type==="monthly"?499:0,type:"subscription",items:[{id:S.id,name:cCe[S.plan_type]||S.plan_type,image:"https://images.pexels.com/photos/3183150/pexels-photo-3183150.jpeg?auto=compress&cs=tinysrgb&w=400",price:S.plan_type==="lifetime"?9990:S.plan_type==="monthly"?499:0,detail:E,quantity:1,type:"subscription"}]})}k.sort((S,C)=>new Date(C.rawDate).getTime()-new Date(S.rawDate).getTime()),u(k)}catch(b){console.error("Error loading payments:",b)}finally{f(!1)}},g=l.filter(b=>{const w=s==="all"||s==="courses"&&b.type==="course"||s==="subscriptions"&&b.type==="subscription"||s==="products"&&b.type==="product",j=a===""||b.orderNumber.toLowerCase().includes(a.toLowerCase())||b.items.some(k=>k.name.toLowerCase().includes(a.toLowerCase()));return w&&j}),x=b=>{switch(b){case"course":return i.jsx(Ch,{className:"size-4 text-blue-600"});case"subscription":return i.jsx(Joe,{className:"size-4 text-emerald-600"});case"product":return i.jsx(wu,{className:"size-4 text-orange-600"})}};return d?i.jsx("section",{className:se("py-16 md:py-24",e),children:i.jsx("div",{className:"container mx-auto max-w-4xl",children:i.jsx("div",{className:"flex items-center justify-center py-16",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent"})})})}):i.jsx("section",{className:se("py-16 md:py-24",e),children:i.jsxs("div",{className:"container mx-auto max-w-4xl",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-2xl font-semibold tracking-tight md:text-3xl",children:"Vase objednavky"}),i.jsx("p",{className:"mt-1 text-muted-foreground",children:"Prehled vsech vasich plateb a nakupu"})]}),i.jsxs("div",{className:"mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[i.jsx(ya,{value:s,onValueChange:r,children:i.jsxs(Hi,{children:[i.jsx(kn,{value:"all",children:"Vsechny"}),i.jsx(kn,{value:"courses",children:"Kurzy"}),i.jsx(kn,{value:"subscriptions",children:"Predplatne"}),i.jsx(kn,{value:"products",children:"Produkty"})]})}),i.jsxs("div",{className:"relative",children:[i.jsx(Ya,{className:"absolute top-1/2 left-3 size-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(Pe,{placeholder:"Hledat objednavky...",value:a,onChange:b=>o(b.target.value),className:"pl-9 sm:w-64"})]})]}),i.jsxs("div",{className:"space-y-6",children:[g.map(b=>{const w=GO[b.status]||GO.completed;return i.jsxs(Re,{className:"gap-0 overflow-hidden p-0 shadow-none",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 border-b px-5 py-4",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-x-5 gap-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[x(b.type),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Datum"}),i.jsx("p",{className:"text-sm font-medium",children:b.orderDate})]})]}),i.jsx($t,{orientation:"vertical",className:"h-8"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Cislo"}),i.jsx("p",{className:"text-sm font-medium",children:b.orderNumber})]}),i.jsx($t,{orientation:"vertical",className:"h-8"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-muted-foreground",children:"Celkem"}),i.jsx("p",{className:"text-sm font-medium",children:YO(b.total)})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:se("size-2 rounded-full",w.dotColor)}),i.jsx("span",{className:se("text-sm font-medium",w.color),children:w.label})]})]}),i.jsx(Oe,{className:"p-0",children:b.items.map((j,k)=>i.jsxs("div",{children:[k>0&&i.jsx($t,{}),i.jsxs("div",{className:"flex gap-5 p-5",children:[i.jsx("div",{className:"size-24 shrink-0 overflow-hidden rounded-lg bg-muted sm:size-28",children:i.jsx(Ua,{ratio:1,children:i.jsx("img",{src:j.image,alt:j.name,className:"size-full object-cover"})})}),i.jsxs("div",{className:"flex min-w-0 flex-1 flex-col",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-medium",children:j.name}),j.type==="course"&&i.jsx(Ch,{className:"h-4 w-4 text-primary"}),j.type==="subscription"&&i.jsx(nr,{className:"h-4 w-4 text-emerald-600"})]}),j.detail&&i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:j.detail})]}),i.jsx("p",{className:"shrink-0 text-sm font-semibold",children:YO(j.price)})]}),i.jsxs("div",{className:"mt-auto flex flex-wrap items-center gap-2 pt-3",children:[j.type==="course"&&j.courseId&&i.jsxs(X,{variant:"secondary",size:"sm",onClick:()=>n(`/kurz/${j.courseId}`),children:[i.jsx(Cv,{className:"mr-1.5 size-3.5"}),"Prehrat kurz"]}),j.type==="subscription"&&i.jsxs(X,{variant:"secondary",size:"sm",onClick:()=>n("/prehled/fakturace"),children:[i.jsx(nr,{className:"mr-1.5 size-3.5"}),"Spravovat predplatne"]})]})]})]})]},j.id))}),i.jsx("div",{className:"flex items-center justify-end border-t bg-muted/20 px-5 py-3",children:i.jsx(X,{variant:"ghost",size:"sm",children:"Potrebujete pomoc?"})})]},b.id)}),g.length===0&&i.jsx(Re,{className:"gap-0 p-0 shadow-none",children:i.jsxs(Oe,{className:"flex flex-col items-center justify-center py-16 text-center",children:[i.jsx("div",{className:"mb-4 flex size-14 items-center justify-center rounded-full bg-muted",children:i.jsx(Fl,{className:"size-6 text-muted-foreground"})}),i.jsx("h2",{className:"text-lg font-semibold",children:"Zadne objednavky"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:a?`Zadne vysledky pro "${a}"`:"Zatim nemame zaznam o zadnych platbach"}),i.jsx(X,{className:"mt-5",onClick:()=>n("/kurzy"),children:"Prohlednou kurzy"})]})})]})]})})};function dCe(){const{user:e}=Qt(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const{data:u}=await de.from("course_purchases").select("id, course_id, amount_paid, purchased_at, stripe_payment_intent_id, courses(title)").eq("user_id",e.id).order("purchased_at",{ascending:!1}),{data:d}=await de.from("course_enrollments").select("course_id, completed").eq("user_id",e.id),f=new Map((d||[]).map(g=>[g.course_id,g.completed])),m=(u||[]).map(g=>{const x=g.courses;return{id:g.id,course_id:g.course_id,amount_paid:g.amount_paid,purchased_at:g.purchased_at,stripe_payment_intent_id:g.stripe_payment_intent_id,course_title:(x==null?void 0:x.title)||"Neznamy kurz",completed:f.get(g.course_id)||!1}});n(m)}catch(u){console.error("Error loading billing data:",u)}finally{r(!1)}},o=t.reduce((u,d)=>u+d.amount_paid,0),l=t.filter(u=>u.completed).length;return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Platby a Fakturace"}),i.jsx("p",{className:"text-muted-foreground mt-2",children:"Spravujte sv platby a prohlejte zakoupen kurzy"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Celkov Vdaje"}),i.jsx(Q2,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(o)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," zakoupench kurz"]})]})]})}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Dokonen Kurzy"}),i.jsx(Va,{className:"h-4 w-4 text-green-600"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:l}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["z ",t.length," kurz"]})]})]})}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Aktivn Kurzy"}),i.jsx(fu,{className:"h-4 w-4 text-blue-600"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length-l}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"probhajcch kurz"})]})]})})]}),i.jsxs(ya,{defaultValue:"courses",className:"space-y-6",children:[i.jsxs(Hi,{children:[i.jsx(kn,{value:"courses",children:"Kurzy"}),i.jsx(kn,{value:"orders",children:"Objednvky"})]}),i.jsxs(In,{value:"courses",className:"space-y-6",children:[i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Zakoupen Kurzy"}),i.jsx(Xt,{children:"Historie vaich nkup a plateb"})]}),i.jsx(Oe,{children:t.length>0?i.jsx("div",{className:"space-y-4",children:t.map(u=>i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border hover:bg-accent/50 transition-colors",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:i.jsx(Va,{className:"h-6 w-6 text-green-600"})}),i.jsxs("div",{className:"flex-1 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h3",{className:"font-semibold",children:u.course_title}),u.completed&&i.jsx($e,{variant:"default",className:"bg-green-600",children:"Dokonceno"})]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Zakoupeno: ",new Date(u.purchased_at).toLocaleDateString("cs-CZ")]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-lg font-bold",children:new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(u.amount_paid)}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Zaplaceno"})]})]},u.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Q2,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Zadne nakupy"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Jeste jste si nezakoupili zadny kurz"}),i.jsx(X,{children:"Prohlednout Kurzy"})]})})]})}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Platebn Metody"}),i.jsx(Xt,{children:"Spravujte sv platebn metody"})]}),i.jsxs(Oe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:i.jsx(e1e,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold",children:"Kreditn Karta"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Vchoz platebn metoda"})]})]}),i.jsx(X,{variant:"outline",size:"sm",children:"Pidat Kartu"})]}),i.jsx("div",{className:"text-sm text-muted-foreground",children:"Pi nkupu kurzu mete pout kartu nebo bankovn pevod"})]})]})}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Fakturan daje"}),i.jsx(Xt,{children:"Upravte sv fakturan informace"})]}),i.jsxs(Oe,{className:"space-y-4",children:[i.jsx("div",{className:"space-y-2",children:i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"text-muted-foreground",children:"Email pro faktury"}),i.jsx("p",{className:"font-medium",children:e==null?void 0:e.email})]})}),i.jsx(X,{variant:"outline",className:"w-full",children:"Upravit Fakturan daje"})]})]})})]})]}),i.jsx(In,{value:"orders",children:i.jsx(uCe,{className:"py-0"})})]})]})}const hCe=()=>{const{user:e}=Qt(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const[{data:o},{data:l},{data:u}]=await Promise.all([de.from("course_purchases").select("course_id").eq("user_id",e.id),de.from("course_enrollments").select("course_id, completed").eq("user_id",e.id),de.from("user_course_progress").select("course_id, completed").eq("user_id",e.id)]),d=new Set((o||[]).map(j=>j.course_id)),f=new Set((l||[]).map(j=>j.course_id)),m=new Set((l||[]).filter(j=>j.completed).map(j=>j.course_id)),g=new Map;for(const j of u||[]){const k=g.get(j.course_id)||{total:0,completed:0};k.total++,j.completed&&k.completed++,g.set(j.course_id,k)}const x=new Set([...d,...f]);if(x.size===0){n([]),r(!1);return}const{data:b}=await de.from("courses").select("id, title, description, price, order_index, lessons_count, duration").in("id",Array.from(x)).eq("published",!0).order("order_index"),w=(b||[]).map(j=>{const k=m.has(j.id),S=g.get(j.id),C=S&&S.total>0?Math.round(S.completed/S.total*100):0;return{...j,status:k?"completed":"purchased",progress:k?100:C}});n(w)}catch(o){console.error("Error fetching courses:",o)}finally{r(!1)}};return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"py-8",children:[i.jsxs("div",{className:"mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Vase Kurzy"}),i.jsx("p",{className:"text-muted-foreground",children:"Kurzy, ktere jste zakoupili. Kliknutim na kurz zacnete studovat."})]}),t.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Gt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Zatim zadne kurzy"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Prozkoumejte nasi nabidku kurzu a zacnete se ucit."}),i.jsx(X,{asChild:!0,size:"lg",children:i.jsx(Ue,{to:"/kurzy",children:"Prohlizet kurzy"})})]}):i.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(o=>i.jsxs(Re,{className:`relative transition-all duration-300 ${o.status==="completed"?"border-green-500/50 shadow-green-500/10":"hover:shadow-lg hover:border-primary/30"}`,children:[i.jsxs(Je,{children:[i.jsx("div",{className:"flex items-start justify-between gap-2 mb-2",children:i.jsx($e,{className:o.status==="completed"?"bg-green-500/20 text-green-600 border-green-500/30":"bg-primary/20 text-primary border-primary/30",children:o.status==="completed"?"Dokonceno":"Zakoupeno"})}),i.jsx(Qe,{className:"text-xl",children:o.title}),i.jsx(Xt,{className:"line-clamp-2",children:o.description})]}),i.jsx(Oe,{children:o.progress>0&&o.progress<100&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Pokrok"}),i.jsxs("span",{className:"font-medium",children:[Math.round(o.progress),"%"]})]}),i.jsx(Fi,{value:o.progress,className:"h-2"})]})}),i.jsx(Vbe,{children:i.jsx(X,{className:"w-full",variant:o.status==="completed"?"outline":"default",asChild:!0,children:i.jsxs(Ue,{to:`/kurz/${o.id}`,children:[o.status==="completed"?i.jsx(Bs,{className:"h-4 w-4 mr-2"}):i.jsx(La,{className:"h-4 w-4 mr-2",fill:"currentColor"}),o.status==="completed"?"Zopakovat kurz":"Spustit kurz"]})})})]},o.id))})]})};function fCe(){return i.jsx(hCe,{})}function mCe(){const{user:e}=Qt(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const[{data:u},{data:d}]=await Promise.all([de.from("course_purchases").select("course_id").eq("user_id",e.id),de.from("course_enrollments").select("course_id, completed, enrolled_at").eq("user_id",e.id)]),f=new Set((u||[]).map(C=>C.course_id)),m=new Map((d||[]).map(C=>[C.course_id,C])),g=new Set([...f,...(d||[]).map(C=>C.course_id)]);if(g.size===0){n([]),r(!1);return}const[{data:x},{data:b},{data:w}]=await Promise.all([de.from("courses").select("id, title, description, thumbnail_url, lessons_count, duration").in("id",Array.from(g)).eq("published",!0).order("order_index"),de.from("user_course_progress").select("course_id, lesson_id, completed").eq("user_id",e.id),de.from("course_lessons").select("id, course_id").in("course_id",Array.from(g))]),j=new Map;for(const C of w||[])j.set(C.course_id,(j.get(C.course_id)||0)+1);const k=new Map;for(const C of b||[])C.completed&&k.set(C.course_id,(k.get(C.course_id)||0)+1);const S=(x||[]).map(C=>{const E=m.get(C.id),z=j.get(C.id)||C.lessons_count||0,R=k.get(C.id)||0,T=z>0?Math.round(R/z*100):0,A=(E==null?void 0:E.completed)||T===100;return{...C,completedLessons:R,totalLessons:z,progress:A?100:T,isCompleted:A,enrolledAt:(E==null?void 0:E.enrolled_at)||""}});n(S)}catch(u){console.error("Error fetching courses:",u)}finally{r(!1)}};if(s)return i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})});const o=t.filter(u=>!u.isCompleted),l=t.filter(u=>u.isCompleted);return i.jsxs("div",{className:"space-y-8 mx-auto max-w-5xl",children:[i.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Moje Kurzy"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Kurzy, ktere jste zakoupili. Vyberte kurz pro zobrazeni detailu."})]}),t.length===0?i.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"text-center py-16",children:[i.jsx(Gt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Zatim zadne kurzy"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Prozkoumejte nasi nabidku kurzu a zacnete se ucit."}),i.jsx(X,{asChild:!0,size:"lg",children:i.jsx(Ue,{to:"/kurzy",children:"Prohlizet kurzy"})})]}):i.jsxs("div",{className:"space-y-8",children:[o.length>0&&i.jsx(JO,{title:"Probihajici",courses:o,delay:.1}),l.length>0&&i.jsx(JO,{title:"Dokoncene",courses:l,delay:o.length>0?.3:.1})]})]})}function JO({title:e,courses:t,delay:n}){return i.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:n},children:[i.jsx("h2",{className:"text-lg font-semibold mb-4 text-muted-foreground",children:e}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map((s,r)=>i.jsx(pCe,{course:s,index:r},s.id))})]})}function pCe({course:e,index:t}){return i.jsx(ne.div,{initial:{opacity:0,y:15},animate:{opacity:1,y:0},transition:{duration:.4,delay:t*.05},children:i.jsx(Ue,{to:`/prehled/moje-kurzy/${e.id}`,className:"block group",children:i.jsx(Re,{className:"h-full transition-all duration-200 hover:shadow-lg hover:border-primary/30 group-hover:-translate-y-0.5",children:i.jsxs(Oe,{className:"p-5 space-y-4",children:[i.jsxs("div",{className:"flex items-start justify-between gap-2",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold text-base truncate group-hover:text-primary transition-colors",children:e.title}),i.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mt-1",children:e.description})]}),i.jsx($e,{variant:"outline",className:e.isCompleted?"border-green-500/30 text-green-600 bg-green-500/10 shrink-0":"border-primary/30 text-primary bg-primary/10 shrink-0",children:e.isCompleted?i.jsxs(i.Fragment,{children:[i.jsx(Bs,{className:"h-3 w-3 mr-1"})," Hotovo"]}):i.jsxs(i.Fragment,{children:[i.jsx(La,{className:"h-3 w-3 mr-1"})," Aktivni"]})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[e.completedLessons," / ",e.totalLessons," lekci"]}),i.jsxs("span",{className:"font-medium tabular-nums",children:[e.progress,"%"]})]}),i.jsx(Fi,{value:e.progress,className:"h-2"})]}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Vo,{className:"h-3 w-3"}),e.totalLessons," lekci"]}),e.duration>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(cn,{className:"h-3 w-3"}),e.duration," min"]})]})]})})})})}function gCe(){const{courseId:e}=ic(),{user:t}=Qt(),n=Yt(),[s,r]=v.useState(null),[a,o]=v.useState([]),[l,u]=v.useState(new Map),[d,f]=v.useState(!1),[m,g]=v.useState(!1),[x,b]=v.useState(null),[w,j]=v.useState(!0);v.useEffect(()=>{t&&e&&k()},[t,e]);const k=async()=>{if(!(!t||!e))try{const[{data:D},{data:F},{data:V},{data:$},{data:q}]=await Promise.all([de.from("courses").select("id, title, description, thumbnail_url, lessons_count, duration, category, level, instructor, package_id, order_index").eq("id",e).maybeSingle(),de.from("course_lessons").select("id, title, description, duration, order_index").eq("course_id",e).order("order_index"),de.from("course_enrollments").select("id, completed, enrolled_at").eq("user_id",t.id).eq("course_id",e).maybeSingle(),de.from("course_purchases").select("id").eq("user_id",t.id).eq("course_id",e).maybeSingle(),de.from("user_course_progress").select("lesson_id, completed, completed_at, progress_percent").eq("user_id",t.id).eq("course_id",e)]);if(D&&r(D),F&&o(F),f(!!V||!!$),g((V==null?void 0:V.completed)||!1),b((V==null?void 0:V.enrolled_at)||null),q){const K=new Map;for(const ee of q)K.set(ee.lesson_id,ee);u(K)}}catch(D){console.error("Error loading course detail:",D)}finally{j(!1)}},S=Array.from(l.values()).filter(D=>D.completed).length,C=a.length,E=C>0?Math.round(S/C*100):0,z=a.reduce((D,F)=>D+F.duration,0),R=D=>{const F=a[D],V=l.get(F.id);if(V!=null&&V.completed)return"completed";if(D===0)return"available";const $=a[D-1],q=l.get($.id);if(!(q!=null&&q.completed))return"locked";if(q.completed_at){const K=new Date(q.completed_at),ee=new Date,L=new Date(K.getFullYear(),K.getMonth(),K.getDate()),P=new Date(ee.getFullYear(),ee.getMonth(),ee.getDate());if(L.getTime()>=P.getTime())return"daily_locked"}return"available"},T=()=>{var D;for(let F=0;F<a.length;F++)if(R(F)==="available"&&!((D=l.get(a[F].id))!=null&&D.completed))return F;return null};if(w)return i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})});if(!s||!d)return i.jsxs("div",{className:"text-center py-16",children:[i.jsx(Gt,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),i.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Kurz nenalezen"}),i.jsx("p",{className:"text-muted-foreground mb-6",children:"Tento kurz neexistuje nebo k nemu nemate pristup."}),i.jsx(X,{asChild:!0,variant:"outline",children:i.jsx(Ue,{to:"/prehled/moje-kurzy",children:"Zpet na moje kurzy"})})]});const A=T();return i.jsxs("div",{className:"space-y-6 mx-auto max-w-5xl",children:[i.jsx(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.3},children:i.jsx(X,{variant:"ghost",size:"sm",asChild:!0,className:"mb-4 -ml-2 text-muted-foreground hover:text-foreground",children:i.jsxs(Ue,{to:"/prehled/moje-kurzy",children:[i.jsx($o,{className:"h-4 w-4 mr-1"}),"Zpet na moje kurzy"]})})}),i.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4},children:i.jsx(Re,{children:i.jsx(Oe,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start gap-6",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[m?i.jsxs($e,{className:"bg-green-500/20 text-green-600 border-green-500/30",children:[i.jsx(oc,{className:"h-3 w-3 mr-1"}),"Dokonceno"]}):E>0?i.jsxs($e,{className:"bg-primary/20 text-primary border-primary/30",children:[i.jsx(La,{className:"h-3 w-3 mr-1"}),"Probiha"]}):i.jsxs($e,{variant:"outline",children:[i.jsx(Gt,{className:"h-3 w-3 mr-1"}),"Nezahajeno"]}),s.level&&s.level!=="beginner"&&i.jsx($e,{variant:"outline",className:"capitalize",children:s.level})]}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mb-2",children:s.title}),s.description&&i.jsx("p",{className:"text-muted-foreground leading-relaxed mb-4",children:s.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Vo,{className:"h-4 w-4"}),C," lekci"]}),z>0&&i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(cn,{className:"h-4 w-4"}),z," min celkem"]}),s.instructor&&i.jsxs("span",{className:"flex items-center gap-1.5",children:["Instruktor: ",s.instructor]}),x&&i.jsxs("span",{className:"flex items-center gap-1.5",children:["Zapsano: ",new Date(x).toLocaleDateString("cs-CZ")]})]})]}),i.jsxs("div",{className:"lg:w-64 shrink-0 space-y-4",children:[i.jsxs("div",{className:"rounded-xl border bg-card p-4 space-y-3",children:[i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-3xl font-bold tabular-nums",children:[E,"%"]}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Celkovy pokrok"})]}),i.jsx(Fi,{value:E,className:"h-2.5"}),i.jsxs("p",{className:"text-xs text-muted-foreground text-center",children:[S," z ",C," lekci dokonceno"]})]}),A!==null&&i.jsxs(X,{className:"w-full",onClick:()=>n(`/kurz/${s.id}/cast/${A+1}`),children:[i.jsx(La,{className:"h-4 w-4 mr-2"}),"Pokracovat ve studiu"]}),m&&i.jsxs(X,{variant:"outline",className:"w-full",onClick:()=>n(`/kurz/${s.id}/cast/1`),children:[i.jsx(ur,{className:"h-4 w-4 mr-2"}),"Zopakovat kurz"]})]})]})})})}),i.jsx("div",{className:"grid gap-4 grid-cols-2 sm:grid-cols-4",children:[{label:"Celkem lekci",value:C,icon:Vo},{label:"Dokonceno",value:S,icon:Bs},{label:"Zbyvajicich",value:C-S,icon:Gt},{label:"Celkovy cas",value:`${z} min`,icon:cn}].map(D=>i.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:i.jsx(Re,{children:i.jsxs(Oe,{className:"p-4 flex items-center gap-3",children:[i.jsx("div",{className:"rounded-lg bg-primary/10 p-2",children:i.jsx(D.icon,{className:"h-4 w-4 text-primary"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-bold",children:D.value}),i.jsx("p",{className:"text-xs text-muted-foreground",children:D.label})]})]})})},D.label))}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:i.jsxs(Re,{children:[i.jsx(Je,{children:i.jsx(Qe,{className:"text-lg",children:"Prehled lekci"})}),i.jsx(Oe,{className:"p-0",children:i.jsx("div",{className:"divide-y",children:a.map((D,F)=>{const V=R(F),$=l.get(D.id),q=V==="completed"||V==="available";return i.jsxs("button",{type:"button",disabled:!q,onClick:()=>{q&&n(`/kurz/${s.id}/cast/${F+1}`)},className:se("w-full flex items-center gap-4 px-6 py-4 text-left transition-colors",q&&"hover:bg-accent/50 cursor-pointer",!q&&"cursor-not-allowed opacity-60"),children:[i.jsx("div",{className:se("w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold shrink-0",V==="completed"&&"bg-green-500 text-white",V==="available"&&"bg-primary/10 text-primary",V==="daily_locked"&&"bg-amber-500/15 text-amber-600",V==="locked"&&"bg-muted text-muted-foreground"),children:V==="completed"?i.jsx(Bs,{className:"h-5 w-5"}):V==="daily_locked"?i.jsx(Mo,{className:"h-4 w-4"}):V==="locked"?i.jsx(Il,{className:"h-4 w-4"}):F+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:D.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[i.jsx(cn,{className:"h-3 w-3"}),i.jsxs("span",{children:[D.duration," min"]}),i.jsx("span",{className:"text-muted-foreground/40",children:"|"}),i.jsxs("span",{children:["Lekce ",F+1," z ",C]})]})]}),i.jsxs("div",{className:"shrink-0 flex items-center gap-2",children:[V==="completed"&&i.jsx($e,{variant:"outline",className:"text-green-600 border-green-500/30 text-xs",children:"Dokonceno"}),V==="daily_locked"&&i.jsxs($e,{variant:"outline",className:"text-amber-600 border-amber-500/30 text-xs gap-1",children:[i.jsx(Mo,{className:"h-3 w-3"}),"Zitra"]}),V==="available"&&!($!=null&&$.completed)&&i.jsx(La,{className:"h-4 w-4 text-muted-foreground"}),q&&i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]})]},D.id)})})})]})})]})}var xCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],vCe=xCe.reduce((e,t)=>{const n=Qh(`Primitive.${t}`),s=v.forwardRef((r,a)=>{const{asChild:o,...l}=r,u=o?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(u,{...l,ref:a})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),yCe="Label",HF=v.forwardRef((e,t)=>i.jsx(vCe.label,{...e,ref:t,onMouseDown:n=>{var r;n.target.closest("button, input, select, textarea")||((r=e.onMouseDown)==null||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));HF.displayName=yCe;var qF=HF;const bCe=cg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ve=v.forwardRef(({className:e,...t},n)=>i.jsx(qF,{ref:n,className:se(bCe(),e),...t}));Ve.displayName=qF.displayName;function ZF({userId:e}){const[t,n]=v.useState(null),[s,r]=v.useState(!0),a=Yt();v.useEffect(()=>{o()},[e]);async function o(){r(!0);try{const g=await fetch(`https://smcvwjbdrrswbdfidlgz.supabase.co/rest/v1/subscriptions?user_id=eq.${e}&select=*`,{headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"}});if(g.ok){const x=await g.json();x&&x.length>0&&n(x[0])}}catch(g){console.error("Error fetching subscription:",g)}finally{r(!1)}}if(s)return i.jsx(Re,{children:i.jsx(Oe,{className:"p-6",children:i.jsxs("div",{className:"animate-pulse space-y-3",children:[i.jsx("div",{className:"h-4 bg-muted rounded w-1/3"}),i.jsx("div",{className:"h-3 bg-muted rounded w-2/3"})]})})});const l=(t==null?void 0:t.status)==="active"||(t==null?void 0:t.status)==="trialing",u=g=>{switch(g){case"free_trial":return"Zkuebn verze zdarma";case"monthly":return"Msn pln";case"lifetime":return"Doivotn pstup";default:return g}},d=()=>{if(!(t!=null&&t.current_period_end))return 0;const g=new Date(t.current_period_end),x=new Date,b=g.getTime()-x.getTime();return Math.ceil(b/(1e3*60*60*24))},f=t?u(t.plan_type):"",m=d();return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[(t==null?void 0:t.plan_type)==="lifetime"?i.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-yellow-500/10",children:i.jsx(_h,{className:"size-6 text-yellow-600"})}):(t==null?void 0:t.plan_type)==="free_trial"?i.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-blue-500/10",children:i.jsx(uu,{className:"size-6 text-blue-600"})}):i.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-green-500/10",children:i.jsx(Pa,{className:"size-6 text-green-600"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-muted-foreground",children:"Aktuln pln"}),i.jsx("p",{className:"text-lg font-semibold",children:t?f:"dn pedplatn"})]})]}),t&&i.jsx($e,{variant:l?"default":"secondary",className:l?"bg-emerald-500/10 text-emerald-600 hover:bg-emerald-500/10":"",children:l?"Aktivn":"Neaktivn"})]}),t?i.jsxs(i.Fragment,{children:[t.plan_type==="free_trial"&&m>0&&i.jsxs("div",{className:"rounded-lg bg-blue-500/10 p-4 border border-blue-500/20",children:[i.jsxs("p",{className:"text-sm font-medium text-blue-600",children:[m," ",m===1?"den":m<5?"dny":"dn"," zbv ve zkuebn verzi"]}),i.jsx("p",{className:"mt-1 text-xs text-blue-600/80",children:"Upgradujte nyn pro pokraovn pstupu po skonen zkuebn doby"})]}),t.plan_type==="monthly"&&m>0&&i.jsxs("div",{className:"rounded-lg bg-green-500/10 p-4 border border-green-500/20",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"Zbvajc as pedplatnho"}),i.jsx($e,{variant:"outline",className:"bg-green-500/10 text-green-600 border-green-500/20",children:"Aktivn"})]}),i.jsxs("p",{className:"mt-2 text-2xl font-bold text-green-600",children:[m," ",m===1?"den":m<5?"dny":"dn"]}),i.jsxs("p",{className:"mt-1 text-xs text-green-600/80",children:["Vae pedplatn se automaticky obnov ",t.current_period_end?new Date(t.current_period_end).toLocaleDateString("cs-CZ"):"N/A"]})]}),t.plan_type!=="lifetime"&&t.current_period_end&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground rounded-lg bg-muted p-3",children:[i.jsx(ca,{className:"size-4"}),i.jsxs("span",{children:[t.plan_type==="free_trial"?"Zkuebn verze kon":"Obnovuje se"," ",new Date(t.current_period_end).toLocaleDateString("cs-CZ",{year:"numeric",month:"long",day:"numeric"})]})]}),t.plan_type==="lifetime"&&i.jsx("div",{className:"rounded-lg bg-yellow-500/10 p-4 border border-yellow-500/20",children:i.jsx("p",{className:"text-sm font-medium text-yellow-700",children:"Mte doivotn pstup ke vem funkcm"})}),i.jsxs("div",{className:"space-y-2 pt-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"ID pedplatnho:"}),i.jsxs("span",{className:"font-mono text-xs",children:[t.id.slice(0,8),"..."]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Typ plnu:"}),i.jsx("span",{className:"font-medium",children:f})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-muted-foreground",children:"Datum vytvoen:"}),i.jsx("span",{children:new Date(t.created_at).toLocaleDateString("cs-CZ")})]})]}),t.plan_type!=="lifetime"&&i.jsx(X,{variant:"outline",className:"w-full",onClick:()=>a("/prehled/predplatne"),children:t.plan_type==="free_trial"?"Upgradovat pln":"Zmnit pln"})]}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-sm text-muted-foreground py-4",children:"Nemte aktivn pedplatn. Vyberte si pln a zante vyuvat vechny funkce."}),i.jsx(X,{className:"w-full",onClick:()=>a("/prehled/predplatne"),children:"Zobrazit plny"})]})]})}function wCe(){const{user:e,signOut:t}=Qt(),[n,s]=v.useState(!1),[r,a]=v.useState(""),[o,l]=v.useState(""),[u,d]=v.useState(""),f=async g=>{if(g.preventDefault(),o!==u){Te.error("Hesla se neshoduj");return}if(o.length<6){Te.error("Heslo mus mt alespo 6 znak");return}s(!0);try{await new Promise(x=>setTimeout(x,500)),Te.success("Heslo bylo spn aktualizovno!"),a(""),l(""),d("")}catch(x){Te.error(x.message||"Aktualizace hesla se nezdaila")}finally{s(!1)}},m=async()=>{try{await t(),Te.success("spn odhleno")}catch(g){Te.error(g.message||"Odhlen se nezdailo")}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold",children:"Nastaven"}),i.jsx("p",{className:"text-muted-foreground",children:"Spravujte sv nastaven tu a preference"})]}),i.jsxs(ya,{defaultValue:"profile",className:"space-y-6",children:[i.jsxs(Hi,{children:[i.jsx(kn,{value:"profile",children:"Profil"}),i.jsx(kn,{value:"subscription",children:"Pedplatn"}),i.jsx(kn,{value:"security",children:"Zabezpeen"}),i.jsx(kn,{value:"notifications",children:"Upozornn"})]}),i.jsx(In,{value:"profile",className:"space-y-6",children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Informace o profilu"}),i.jsx(Xt,{children:"Aktualizujte informace svho tu"})]}),i.jsxs(Oe,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-6",children:[i.jsx("div",{className:"flex h-20 w-20 items-center justify-center rounded-full bg-primary/10",children:i.jsx(Ub,{className:"h-10 w-10 text-primary"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(X,{variant:"outline",size:"sm",children:"Zmnit avatar"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"JPG, GIF nebo PNG. Maximln velikost 800 KB"})]})]}),i.jsx($t,{}),i.jsxs("div",{className:"grid gap-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ve,{htmlFor:"email",children:"Email"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(Pe,{id:"email",type:"email",value:(e==null?void 0:e.email)||"",disabled:!0,className:"flex-1"}),i.jsx(X,{variant:"outline",disabled:!0,children:"Oveno"})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"V email je oven a nelze jej zmnit"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ve,{htmlFor:"userId",children:"ID uivatele"}),i.jsx(Pe,{id:"userId",value:(e==null?void 0:e.id)||"",disabled:!0,className:"font-mono text-sm"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ve,{htmlFor:"created",children:"et vytvoen"}),i.jsx(Pe,{id:"created",value:e!=null&&e.created_at?new Date(e.created_at).toLocaleDateString("cs-CZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"",disabled:!0})]})]})]})]})}),i.jsx(In,{value:"subscription",className:"space-y-6",children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Informace o pedplatnm"}),i.jsx(Xt,{children:"Spravujte sv pedplatn a licenci"})]}),i.jsx(Oe,{className:"space-y-6",children:e&&i.jsx(ZF,{userId:e.id})})]})}),i.jsxs(In,{value:"security",className:"space-y-6",children:[i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Zmna hesla"}),i.jsx(Xt,{children:"Aktualizujte sv heslo pro zabezpeen tu"})]}),i.jsx(Oe,{children:i.jsxs("form",{onSubmit:f,className:"space-y-4",children:[i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ve,{htmlFor:"currentPassword",children:"Souasn heslo"}),i.jsx(Pe,{id:"currentPassword",type:"password",value:r,onChange:g=>a(g.target.value),placeholder:"Zadejte souasn heslo"})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ve,{htmlFor:"newPassword",children:"Nov heslo"}),i.jsx(Pe,{id:"newPassword",type:"password",value:o,onChange:g=>l(g.target.value),placeholder:"Zadejte nov heslo",required:!0})]}),i.jsxs("div",{className:"grid gap-2",children:[i.jsx(Ve,{htmlFor:"confirmPassword",children:"Potvrzen novho hesla"}),i.jsx(Pe,{id:"confirmPassword",type:"password",value:u,onChange:g=>d(g.target.value),placeholder:"Potvrte nov heslo",required:!0})]}),i.jsxs(X,{type:"submit",disabled:n,children:[i.jsx(mB,{className:"mr-2 h-4 w-4"}),n?"Aktualizuji...":"Aktualizovat heslo"]})]})})]}),i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Aktivn relace"}),i.jsx(Xt,{children:"Spravujte sv aktivn relace nap zazenmi"})]}),i.jsx(Oe,{children:i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Aktuln relace"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Toto zazen - Aktivn nyn"})]}),i.jsx(X,{variant:"outline",size:"sm",disabled:!0,children:"Aktivn"})]})})})]}),i.jsxs(Re,{className:"border-destructive",children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Nebezpen zna"}),i.jsx(Xt,{children:"Nevratn a destruktivn akce"})]}),i.jsx(Oe,{className:"space-y-4",children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-destructive/50 p-4",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Odhlsit se"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Odhlsit se ze svho tu na tomto zazen"})]}),i.jsxs(X,{variant:"destructive",size:"sm",onClick:m,children:[i.jsx(r1e,{className:"mr-2 h-4 w-4"}),"Odhlsit se"]})]})})]})]}),i.jsx(In,{value:"notifications",className:"space-y-6",children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"E-mailov upozornn"}),i.jsx(Xt,{children:"Spravujte, jak pijmte e-mailov upozornn"})]}),i.jsxs(Oe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Marketingov e-maily"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dostvejte e-maily o novch funkcch a aktualizacch"})]}),i.jsx(X,{variant:"outline",size:"sm",children:"Konfigurovat"})]}),i.jsx($t,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-medium",children:"Bezpenostn upozornn"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Dostvejte upozornn o zabezpeen vaeho tu"})]}),i.jsx(X,{variant:"outline",size:"sm",disabled:!0,children:"Vdy zapnuto"})]})]})]})})]})]})}const XO={free_trial:["Pristup k vybranemu obsahu","Casove omezene","Zakladni podpora"],monthly:["Plny pristup ke vsem kurzum","Mesicni aktualizace obsahu","Prioritni podpora","Moznost zrusit kdykoliv"],lifetime:["Dozivotni pristup ke vsem kurzum","Vsechny budouci aktualizace","VIP podpora","Exkluzivni bonusovy obsah"]},QO={free_trial:"Zkusebni verze",monthly:"Mesicni predplatne",lifetime:"Dozivotni predplatne"},jCe=[{icon:WL,name:"Zkusebni verze zdarma",planType:"free_trial",price:0,duration:"3 dny",features:["3denni zkusebni verze zdarma","Plny pristup ke vsem funkcim","Zakladni nastroje pro spravu ukolu","Pristup k 1 dashboardu","Zakladni podpora"]},{icon:AL,name:"Mesicni plan",planType:"monthly",price:730,duration:"mesicne",popular:!0,features:["Vsechny funkce zkusebni verze","Neomezene seznamy ukolu","Pokrocila synchronizace kalendare","Poznatky rizene AI","Prioritni e-mailova podpora","Zrusit kdykoli"]},{icon:ML,name:"Dozivotni pristup",planType:"lifetime",price:4870,duration:"jednorazove",features:["Vsechny mesicni funkce","Dozivotni pristup - zaplatte jednou","Spoluprace v realnem case","Vlastni integrace","Prioritni podpora 24/7"]}];function kCe(){const{user:e,session:t}=Qt(),{subscription:n,hasActiveSubscription:s,refetch:r}=pg(),[a,o]=v.useState(!1),[l,u]=v.useState(null),d=async()=>{o(!0);try{await r(),Te.success("Predplatne aktualizovano")}catch{Te.error("Nepodarilo se aktualizovat")}finally{o(!1)}},f=v.useCallback(async b=>{u(b);try{const w="https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/create-checkout-session",j=(t==null?void 0:t.access_token)||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE",k=await fetch(w,{method:"POST",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"},body:JSON.stringify({planType:b})}),S=await k.json();if(!k.ok)throw new Error(S.error||"Failed to create checkout session");S.url&&(window.location.href=S.url)}catch(w){console.error("Checkout error:",w),Te.error("Nepodarilo se zahajit pokladnu. Zkuste to prosim znovu.")}finally{u(null)}},[t]),m=(n==null?void 0:n.plan_type)||"free_trial",g=XO[m]||XO.free_trial,x=b=>(n==null?void 0:n.plan_type)===b&&s;return i.jsxs("div",{className:"space-y-8 mx-auto max-w-4xl",children:[i.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Predplatne"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Spravujte sve predplatne a pristup ke kurzum"})]}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:e&&i.jsx(ZF,{userId:e.id})}),i.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},children:[i.jsxs("div",{className:"flex items-center gap-2 mb-5",children:[i.jsx(nr,{className:"h-5 w-5 text-muted-foreground"}),i.jsx("h2",{className:"text-lg font-bold",children:"Dostupne plany"})]}),i.jsx("div",{className:"grid gap-4 md:grid-cols-3",children:jCe.map((b,w)=>{const j=x(b.planType),k=b.icon;return i.jsx(ne.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2+w*.08},children:i.jsxs(Re,{className:se("relative flex flex-col h-full transition-shadow",j&&"ring-2 ring-primary shadow-md",b.popular&&!j&&"border-primary/40"),children:[j&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:i.jsx($e,{className:"bg-primary text-primary-foreground text-[10px] px-2.5 py-0.5 shadow-sm",children:"Aktualni plan"})}),b.popular&&!j&&i.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:i.jsx($e,{variant:"secondary",className:"text-[10px] px-2.5 py-0.5 shadow-sm",children:"Popularni"})}),i.jsxs(Je,{className:"pb-3 pt-5",children:[i.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground mb-2",children:[i.jsx(k,{className:"h-4 w-4"}),i.jsx("span",{className:"text-sm font-medium",children:b.name})]}),i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"text-3xl font-extrabold tracking-tight",children:b.price.toLocaleString("cs-CZ")}),i.jsxs("span",{className:"text-sm text-muted-foreground",children:["Kc",b.planType==="monthly"?"/mes":""]})]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:b.duration})]}),i.jsxs(Oe,{className:"flex-1 flex flex-col pb-5",children:[i.jsx("ul",{className:"space-y-2 flex-1 mb-4",children:b.features.map(S=>i.jsxs("li",{className:"flex items-start gap-2 text-xs",children:[i.jsx(ig,{className:"h-3.5 w-3.5 text-muted-foreground mt-0.5 shrink-0"}),i.jsx("span",{className:"text-muted-foreground",children:S})]},S))}),j?i.jsxs("div",{className:"flex items-center justify-center gap-1.5 py-2 rounded-lg bg-primary/5 border border-primary/20 text-primary text-xs font-semibold",children:[i.jsx(_h,{className:"h-3.5 w-3.5"}),"Aktivni"]}):i.jsx(X,{variant:b.popular?"default":"outline",size:"sm",className:"w-full",onClick:()=>f(b.planType),disabled:l===b.planType,children:l===b.planType?"Nacitani...":"Vybrat plan"})]})]})},b.planType)})})]}),i.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsxs(Qe,{className:"flex items-center gap-2",children:[i.jsx(nr,{className:"h-5 w-5"}),"Detaily planu"]}),i.jsx(Xt,{children:"Informace o vasem aktualnim planu"})]}),i.jsxs(Oe,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Plan"}),i.jsx($e,{variant:s?"default":"secondary",children:QO[m]||m})]}),i.jsx($t,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Status"}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[s?i.jsx(Bs,{className:"h-4 w-4 text-green-600"}):i.jsx(Z_,{className:"h-4 w-4 text-amber-500"}),i.jsx("span",{className:"text-sm font-medium",children:s?"Aktivni":"Neaktivni"})]})]}),(n==null?void 0:n.current_period_end)&&i.jsxs(i.Fragment,{children:[i.jsx($t,{}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-muted-foreground",children:"Platnost do"}),i.jsx("span",{className:"text-sm font-medium",children:new Date(n.current_period_end).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"})})]})]}),i.jsx($t,{}),i.jsxs(X,{variant:"outline",className:"w-full",onClick:d,disabled:a,children:[i.jsx(ZL,{className:`mr-2 h-4 w-4 ${a?"animate-spin":""}`}),"Aktualizovat stav"]})]})]})}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.35},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsxs(Qe,{className:"flex items-center gap-2",children:[i.jsx(Bs,{className:"h-5 w-5"}),"Vyhody vaseho planu"]}),i.jsx(Xt,{children:"Co vase predplatne zahrnuje"})]}),i.jsx(Oe,{children:i.jsx("ul",{className:"space-y-3",children:g.map((b,w)=>i.jsxs("li",{className:"flex items-start gap-3",children:[i.jsx(Bs,{className:"h-4 w-4 text-green-600 mt-0.5 shrink-0"}),i.jsx("span",{className:"text-sm",children:b})]},w))})})]})})]}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsxs(Qe,{className:"flex items-center gap-2",children:[i.jsx(ca,{className:"h-5 w-5"}),"Historie predplatneho"]}),i.jsx(Xt,{children:"Prehled zmen vaseho predplatneho"})]}),i.jsx(Oe,{children:n?i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(cn,{className:"h-4 w-4 text-muted-foreground"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:QO[m]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Aktivovano: ",new Date(n.created_at).toLocaleDateString("cs-CZ")]})]})]}),i.jsx($e,{variant:n.status==="active"?"default":"secondary",children:n.status==="active"?"Aktivni":n.status})]})}):i.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[i.jsx(cn,{className:"h-10 w-10 mx-auto mb-3 opacity-50"}),i.jsx("p",{className:"text-sm",children:"Zadna historie predplatneho"})]})})]})})]})}function NCe(){const{user:e}=Qt(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const{data:u}=await de.from("course_purchases").select("id, amount_paid, purchased_at, stripe_payment_intent_id, courses(title)").eq("user_id",e.id).order("purchased_at",{ascending:!1}),d=(u||[]).map(f=>{var m;return{id:f.id,courseTitle:((m=f.courses)==null?void 0:m.title)||"Neznamy kurz",amount:f.amount_paid,date:f.purchased_at,paymentId:f.stripe_payment_intent_id}});n(d)}catch(u){console.error("Error loading invoices:",u)}finally{r(!1)}},o=u=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",minimumFractionDigits:0}).format(u),l=t.reduce((u,d)=>u+d.amount,0);return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"space-y-8 mx-auto max-w-4xl",children:[i.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Faktury"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Prehled vsech vasich faktur a plateb"})]}),i.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Celkove vydaje"}),i.jsx(Eh,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:o(l)}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.length," faktur"]})]})]})}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.15},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Posledni platba"}),i.jsx(ca,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length>0?new Date(t[0].date).toLocaleDateString("cs-CZ",{day:"numeric",month:"short"}):"-"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:t.length>0?o(t[0].amount):"Zadne platby"})]})]})}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:"Prumerna platba"}),i.jsx(Ia,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:t.length>0?o(Math.round(l/t.length)):"-"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"Na fakturu"})]})]})})]}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Historie faktur"}),i.jsx(Xt,{children:"Vsechny vase faktury a doklady o platbe"})]}),i.jsx(Oe,{children:t.length>0?i.jsx("div",{className:"space-y-3",children:t.map((u,d)=>i.jsxs("div",{children:[d>0&&i.jsx($t,{className:"my-3"}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-lg bg-muted",children:i.jsx(Ia,{className:"h-5 w-5 text-muted-foreground"})}),i.jsxs("div",{className:"min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:u.courseTitle}),i.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(u.date).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"})})]})]}),i.jsxs("div",{className:"flex items-center gap-3 shrink-0",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-sm font-semibold",children:o(u.amount)}),i.jsx($e,{variant:"outline",className:"text-xs",children:"Zaplaceno"})]}),i.jsx(X,{variant:"ghost",size:"icon",className:"h-8 w-8",children:i.jsx(F_,{className:"h-4 w-4"})})]})]})]},u.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ia,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),i.jsx("h3",{className:"text-base font-semibold mb-1",children:"Zadne faktury"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Zatim nemame zaznam o zadnych platbach"})]})})]})})]})}function SCe(){const{user:e}=Qt(),[t,n]=v.useState([]),[s,r]=v.useState(!0),[a,o]=v.useState(0);v.useEffect(()=>{e&&l()},[e]);const l=async()=>{if(e)try{const[{data:g},{data:x},{data:b}]=await Promise.all([de.from("course_enrollments").select("course_id, completed, courses!inner(id, title)").eq("user_id",e.id),de.from("user_course_progress").select("course_id, lesson_id, completed, last_watched_at").eq("user_id",e.id),de.from("course_lessons").select("id, course_id")]),w=new Map;for(const E of b||[])w.set(E.course_id,(w.get(E.course_id)||0)+1);const j=new Map,k=new Map;for(const E of x||[]){E.completed&&j.set(E.course_id,(j.get(E.course_id)||0)+1);const z=k.get(E.course_id);(!z||E.last_watched_at&&E.last_watched_at>z)&&k.set(E.course_id,E.last_watched_at)}const S=(g||[]).map(E=>{var A;const z=w.get(E.course_id)||0,R=j.get(E.course_id)||0,T=z>0?Math.round(R/z*100):0;return{courseId:E.course_id,courseTitle:((A=E.courses)==null?void 0:A.title)||"",totalLessons:z,completedLessons:R,progress:E.completed?100:T,isCompleted:E.completed||T===100,lastActivity:k.get(E.course_id)||null}});S.sort((E,z)=>E.isCompleted!==z.isCompleted?E.isCompleted?1:-1:z.progress-E.progress),n(S);const C=(x||[]).filter(E=>E.completed).length;o(Math.round(C*.75))}catch(g){console.error("Error loading progress:",g)}finally{r(!1)}},u=t.filter(g=>g.isCompleted).length,d=t.filter(g=>!g.isCompleted).length,f=t.reduce((g,x)=>g+x.completedLessons,0),m=t.length>0?Math.round(t.reduce((g,x)=>g+x.progress,0)/t.length):0;return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"space-y-8 mx-auto max-w-5xl",children:[i.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Pokrok ve studiu"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Sledujte svuj pokrok a ucebni aktivitu"})]}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Celkovy pokrok",value:`${m}%`,icon:Du,sub:"Prumerny pokrok"},{label:"Dokoncene kurzy",value:u,icon:Bs,sub:`z ${t.length} kurzu`},{label:"Probihajici",value:d,icon:Gt,sub:"Aktivni kurzy"},{label:"Dokoncene lekce",value:f,icon:Vo,sub:`~${a}h studia`}].map((g,x)=>i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:x*.05},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:g.label}),i.jsx(g.icon,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:g.value}),i.jsx("p",{className:"text-xs text-muted-foreground",children:g.sub})]})]})},g.label))}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Pokrok v kurzech"}),i.jsx(Xt,{children:"Detailni prehled vaseho pokroku v jednotlivych kurzech"})]}),i.jsx(Oe,{children:t.length>0?i.jsx("div",{className:"space-y-5",children:t.map(g=>i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx("h3",{className:"text-sm font-medium truncate",children:g.courseTitle}),g.isCompleted&&i.jsx($e,{variant:"outline",className:"shrink-0 border-green-500/30 text-green-600 bg-green-500/10",children:"Dokonceno"})]}),i.jsxs("span",{className:"text-sm font-semibold tabular-nums shrink-0",children:[g.progress,"%"]})]}),i.jsx(Fi,{value:g.progress,className:"h-2"}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsxs("span",{children:[g.completedLessons," / ",g.totalLessons," lekci"]}),g.lastActivity&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(cn,{className:"h-3 w-3"}),"Posledni aktivita: ",new Date(g.lastActivity).toLocaleDateString("cs-CZ")]})]})]},g.courseId))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Aa,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),i.jsx("h3",{className:"text-base font-semibold mb-1",children:"Zadny pokrok"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Zacnete studovat kurzy a sledujte svuj pokrok"}),i.jsx(X,{asChild:!0,children:i.jsx(Ue,{to:"/kurzy",children:"Prohlidnout kurzy"})})]})})]})})]})}function _Ce(){const{user:e}=Qt(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const[{data:m},{data:g},{data:x}]=await Promise.all([de.from("course_enrollments").select("course_id, completed, courses!inner(id, title)").eq("user_id",e.id),de.from("user_course_progress").select("course_id, lesson_id, completed").eq("user_id",e.id),de.from("course_lessons").select("id, course_id")]),b=new Map;for(const k of x||[])b.set(k.course_id,(b.get(k.course_id)||0)+1);const w=new Map;for(const k of g||[])k.completed&&w.set(k.course_id,(w.get(k.course_id)||0)+1);const j=(m||[]).map(k=>{var z;const S=b.get(k.course_id)||0,C=w.get(k.course_id)||0,E=S>0?Math.round(C/S*100):0;return{courseId:k.course_id,courseTitle:((z=k.courses)==null?void 0:z.title)||"",totalLessons:S,completedLessons:C,score:k.completed?100:E,isCompleted:k.completed||E===100}});j.sort((k,S)=>S.score-k.score),n(j)}catch(m){console.error("Error loading results:",m)}finally{r(!1)}},o=t.filter(m=>m.isCompleted).length,l=t.length>0?Math.round(t.reduce((m,g)=>m+g.score,0)/t.length):0,u=t.length>0?Math.max(...t.map(m=>m.score)):0,d=m=>m>=80?"text-green-600":m>=50?"text-amber-600":"text-red-500",f=(m,g)=>g?{label:"Splneno",variant:"default",className:"bg-green-600"}:m>=80?{label:"Vyborne",variant:"default",className:"bg-green-600"}:m>=50?{label:"Probihajici",variant:"secondary",className:""}:{label:"Zacatek",variant:"outline",className:""};return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"space-y-8 mx-auto max-w-5xl",children:[i.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Vysledky testu"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Prehled vasich vysledku a hodnoceni v kurzech"})]}),i.jsx("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Prumerne hodnoceni",value:`${l}%`,icon:lg,sub:"Ze vsech kurzu"},{label:"Nejlepsi vysledek",value:`${u}%`,icon:oc,sub:"Maximalni skore"},{label:"Splnene kurzy",value:o,icon:Ia,sub:`z ${t.length} celkem`},{label:"Celkovy pokrok",value:`${l}%`,icon:Du,sub:"Prumerny pokrok"}].map((m,g)=>i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:g*.05},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium",children:m.label}),i.jsx(m.icon,{className:"h-4 w-4 text-muted-foreground"})]}),i.jsxs(Oe,{children:[i.jsx("div",{className:"text-2xl font-bold",children:m.value}),i.jsx("p",{className:"text-xs text-muted-foreground",children:m.sub})]})]})},m.label))}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Vysledky podle kurzu"}),i.jsx(Xt,{children:"Podrobne vysledky a hodnoceni pro kazdy kurz"})]}),i.jsx(Oe,{children:t.length>0?i.jsx("div",{className:"space-y-4",children:t.map(m=>{const g=f(m.score,m.isCompleted);return i.jsxs("div",{className:"p-4 rounded-lg border hover:bg-accent/30 transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("h3",{className:"font-medium truncate",children:m.courseTitle}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[m.completedLessons," / ",m.totalLessons," lekci dokonceno"]})]}),i.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[i.jsxs("span",{className:`text-lg font-bold tabular-nums ${d(m.score)}`,children:[m.score,"%"]}),i.jsx($e,{variant:g.variant,className:g.className,children:g.label})]})]}),i.jsx(Fi,{value:m.score,className:"h-2"})]},m.courseId)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ia,{className:"h-12 w-12 text-muted-foreground mx-auto mb-3 opacity-50"}),i.jsx("h3",{className:"text-base font-semibold mb-1",children:"Zadne vysledky"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Zapiste se do kurzu a zacnete studovat"}),i.jsx(X,{asChild:!0,children:i.jsx(Ue,{to:"/kurzy",children:"Prohlidnout kurzy"})})]})})]})})]})}function CCe(){const{user:e}=Qt(),[t,n]=v.useState([]),[s,r]=v.useState(!0);v.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(e)try{const{data:o}=await de.from("course_enrollments").select("course_id, completion_date, courses!inner(id, title)").eq("user_id",e.id).eq("completed",!0).order("completion_date",{ascending:!1}),l=(o||[]).map(u=>{var d;return{courseId:u.course_id,courseTitle:((d=u.courses)==null?void 0:d.title)||"",completedAt:u.completion_date||""}});n(l)}catch(o){console.error("Error loading certificates:",o)}finally{r(!1)}};return s?i.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs("div",{className:"space-y-8 mx-auto max-w-4xl",children:[i.jsxs(ne.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Certifikaty"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Vase ziskane certifikaty za dokoncene kurzy"})]}),i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between space-y-0",children:[i.jsxs("div",{children:[i.jsx(Qe,{children:"Celkem certifikatu"}),i.jsx(Xt,{children:"Pocet dokoncenych kurzu"})]}),i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-amber-100 dark:bg-amber-900/30",children:i.jsx(Da,{className:"h-6 w-6 text-amber-600"})})]}),i.jsx(Oe,{children:i.jsx("div",{className:"text-3xl font-bold",children:t.length})})]})}),t.length>0?i.jsx("div",{className:"grid gap-4 sm:grid-cols-2",children:t.map((o,l)=>i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:.15+l*.05},children:i.jsx(Re,{className:"h-full",children:i.jsx(Oe,{className:"p-5",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-lg bg-amber-50 dark:bg-amber-900/20",children:i.jsx(Da,{className:"h-6 w-6 text-amber-600"})}),i.jsxs("div",{className:"flex-1 min-w-0 space-y-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold truncate",children:o.courseTitle}),o.completedAt&&i.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground mt-1",children:[i.jsx(ca,{className:"h-3 w-3"}),"Dokonceno: ",new Date(o.completedAt).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx($e,{variant:"outline",className:"border-green-500/30 text-green-600 bg-green-500/10",children:"Overeno"}),i.jsxs(X,{variant:"ghost",size:"sm",className:"h-7 text-xs",children:[i.jsx(F_,{className:"h-3 w-3 mr-1"}),"Stahnout"]})]})]})]})})})},o.courseId))}):i.jsx(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:i.jsx(Re,{children:i.jsxs(Oe,{className:"text-center py-16",children:[i.jsx(Da,{className:"h-14 w-14 text-muted-foreground mx-auto mb-4 opacity-50"}),i.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Zadne certifikaty"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Dokoncete kurz a ziskejte svuj prvni certifikat"}),i.jsx(X,{asChild:!0,children:i.jsxs(Ue,{to:"/prehled/moje-kurzy",children:[i.jsx(Gt,{className:"mr-2 h-4 w-4"}),"Moje kurzy"]})})]})})})]})}function ECe(){const{user:e,signIn:t}=Qt(),[n,s]=v.useState(""),[r,a]=v.useState(""),[o,l]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(!1);if(e)return i.jsx(Ba,{to:"/prehled",replace:!0});const g=async x=>{x.preventDefault(),m(!0);try{await t(n,r),Te.success("spn pihleno!")}catch(b){Te.error(b.message||"Pihlen se nezdailo")}finally{m(!1)}};return i.jsxs("div",{className:"flex min-h-screen",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary/20 via-primary/10 to-background items-center justify-center p-12 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),i.jsxs("div",{className:"relative z-10 max-w-lg",children:[i.jsxs(Ue,{to:"/",className:"inline-flex items-center gap-2 mb-8",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:40,height:40}),i.jsx("span",{className:"text-2xl font-bold",children:pn.name})]}),i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Vtejte zpt!"}),i.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Pihlaste se pro pstup k vaim kurzm a sprv student."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Bezpen pihlen"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Vae data jsou chrnna nejmodernjm zabezpeenm."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Rychl pstup"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Okamit pstup ke vem vaim kurzm a materilm."})]})]})]})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-4 lg:p-12",children:i.jsxs(Re,{className:"w-full max-w-md border-0 shadow-none lg:shadow-sm lg:border",children:[i.jsxs(Je,{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 lg:hidden",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:32,height:32}),i.jsx("span",{className:"text-xl font-bold",children:pn.name})]}),i.jsx(Qe,{className:"text-2xl",children:"Pihlen do tu"}),i.jsx(Xt,{children:"Zadejte svj email a heslo pro pstup"})]}),i.jsxs(Oe,{children:[i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"email",children:"Email"}),i.jsx(Pe,{id:"email",type:"email",placeholder:"jmeno@priklad.cz",value:n,onChange:x=>s(x.target.value),required:!0,autoComplete:"email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ve,{htmlFor:"password",children:"Heslo"}),i.jsx(Ue,{to:"/zapomenute-heslo",className:"text-sm text-primary hover:underline",children:"Zapomenut heslo?"})]}),i.jsxs("div",{className:"relative",children:[i.jsx(Pe,{id:"password",type:o?"text":"password",value:r,onChange:x=>a(x.target.value),required:!0,autoComplete:"current-password",className:"pr-10"}),i.jsx("button",{type:"button",onClick:()=>l(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",children:o?i.jsx(n1e,{className:"h-4 w-4"}):i.jsx(t1e,{className:"h-4 w-4"})})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Cg,{id:"remember",checked:u,onCheckedChange:x=>d(x)}),i.jsx("label",{htmlFor:"remember",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:"Zapamatovat si m"})]}),i.jsxs(X,{type:"submit",className:"w-full group",disabled:f,children:[f?"Pihlaovn...":"Pihlsit se",i.jsx(_p,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Nebo pokraujte s"})})]}),i.jsxs(X,{type:"button",variant:"outline",className:"w-full",onClick:()=>Te.info("Sociln pihlen ji brzy!"),children:[i.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Nemte jet et?"," ",i.jsx(Ue,{to:"/registrace",className:"font-medium text-primary hover:underline",children:"Zaregistrujte se"})]}),i.jsx("p",{className:"text-center",children:i.jsxs(Ue,{to:"/",className:"inline-flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",children:[i.jsx(Fb,{className:"mr-1 h-4 w-4"}),"Zpt na hlavn strnku"]})})]})]})]})})]})}function TCe(){const{user:e}=Qt(),t=Yt(),[n,s]=v.useState(""),[r,a]=v.useState(""),[o,l]=v.useState(""),[u,d]=v.useState(!1),[f,m]=v.useState(!1);if(e)return i.jsx(Ba,{to:"/prehled",replace:!0});const g=async x=>{if(x.preventDefault(),r!==o){Te.error("Hesla se neshoduj");return}if(!u){Te.error("Prosm, souhlaste s podmnkami pouit");return}if(r.length<6){Te.error("Heslo mus mt alespo 6 znak");return}m(!0);try{const w=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/send-verification-code",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({email:n,password:r})}),j=await w.json();if(!w.ok){Te.error(j.error||"Nco se pokazilo");return}Te.success("Ovovac kd byl odesln na v email!"),t(`/overeni-emailu?email=${encodeURIComponent(n)}`)}catch(b){console.error("Error:",b),Te.error(b.message||"Nco se pokazilo")}finally{m(!1)}};return i.jsxs("div",{className:"flex min-h-screen",children:[i.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary/20 via-primary/10 to-background items-center justify-center p-12 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),i.jsxs("div",{className:"relative z-10 max-w-lg",children:[i.jsxs(Ue,{to:"/",className:"inline-flex items-center gap-2 mb-8",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:40,height:40}),i.jsx("span",{className:"text-2xl font-bold",children:pn.name})]}),i.jsx("h2",{className:"text-4xl font-bold mb-4",children:"Zante svou cestu dnes"}),i.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:"Pipojte se k tiscm fyzioterapeut, kte nm dvuj se svmi kurzy."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"100% zabezpeeno"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Vae informace jsou ifrovny a chrnny."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Rychl nastaven"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Zante bhem 2 minut."})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"mt-1 rounded-full bg-primary/20 p-2",children:i.jsx("svg",{className:"w-5 h-5 text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})})}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Podpora 24/7"}),i.jsx("p",{className:"text-muted-foreground text-sm",children:"Jsme tu, abychom vm pomohli, kdykoli to potebujete."})]})]})]})]})]}),i.jsx("div",{className:"flex-1 flex items-center justify-center p-4 lg:p-12",children:i.jsxs(Re,{className:"w-full max-w-md border-0 shadow-none lg:shadow-sm lg:border",children:[i.jsxs(Je,{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2 lg:hidden",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:32,height:32}),i.jsx("span",{className:"text-xl font-bold",children:pn.name})]}),i.jsx(Qe,{className:"text-2xl",children:"Vytvoit et"}),i.jsx(Xt,{children:"Zadejte sv daje pro zatek"})]}),i.jsxs(Oe,{children:[i.jsxs("form",{onSubmit:g,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"email",children:"Email"}),i.jsx(Pe,{id:"email",type:"email",placeholder:"jmeno@priklad.cz",value:n,onChange:x=>s(x.target.value),required:!0,autoComplete:"email"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"password",children:"Heslo"}),i.jsx(Pe,{id:"password",type:"password",placeholder:"Vytvote siln heslo",value:r,onChange:x=>a(x.target.value),required:!0,autoComplete:"new-password",minLength:6})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"confirmPassword",children:"Potvrzen hesla"}),i.jsx(Pe,{id:"confirmPassword",type:"password",placeholder:"Potvrte sv heslo",value:o,onChange:x=>l(x.target.value),required:!0,autoComplete:"new-password"})]}),i.jsxs("div",{className:"flex items-start space-x-2",children:[i.jsx(Cg,{id:"terms",checked:u,onCheckedChange:x=>d(x),className:"mt-0.5"}),i.jsxs("label",{htmlFor:"terms",className:"text-sm leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:["Souhlasm s"," ",i.jsx(Ue,{to:"/terms",className:"text-primary hover:underline",children:"podmnkami sluby"})," ","a"," ",i.jsx(Ue,{to:"/privacy",className:"text-primary hover:underline",children:"zsadami ochrany osobnch daj"})]})]}),i.jsxs(X,{type:"submit",className:"w-full group",disabled:f,children:[f?"Vytven tu...":"Vytvoit et",i.jsx(_p,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Nebo pokraujte s"})})]}),i.jsxs(X,{type:"button",variant:"outline",className:"w-full",onClick:()=>Te.info("Sociln pihlen ji brzy!"),children:[i.jsxs("svg",{className:"mr-2 h-4 w-4",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Google"]}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:["Ji mte et?"," ",i.jsx(Ue,{to:"/prihlaseni",className:"font-medium text-primary hover:underline",children:"Pihlaste se"})]}),i.jsx("p",{className:"text-center",children:i.jsxs(Ue,{to:"/",className:"inline-flex items-center text-sm text-muted-foreground hover:text-primary transition-colors",children:[i.jsx(Fb,{className:"mr-1 h-4 w-4"}),"Zpt na hlavn strnku"]})})]})]})]})})]})}const WF=fV,KF=v.createContext({}),zm=({...e})=>i.jsx(KF.Provider,{value:{name:e.name},children:i.jsx(wn,{...e})}),s1=()=>{const e=v.useContext(KF),t=v.useContext(GF),{getFieldState:n,formState:s}=cc(),r=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:a}=t;return{id:a,name:e.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...r}},GF=v.createContext({}),ch=v.forwardRef(({className:e,...t},n)=>{const s=v.useId();return i.jsx(GF.Provider,{value:{id:s},children:i.jsx("div",{ref:n,className:se("space-y-2",e),...t})})});ch.displayName="FormItem";const Am=v.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:r}=s1();return i.jsx(Ve,{ref:n,className:se(s&&"text-destructive",e),htmlFor:r,...t})});Am.displayName="FormLabel";const uh=v.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:r,formDescriptionId:a,formMessageId:o}=s1();return i.jsx(K_,{ref:n,id:r,"aria-describedby":s?`${a} ${o}`:`${a}`,"aria-invalid":!!s,className:se("mt-2",e),...t})});uh.displayName="FormControl";const zCe=v.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=s1();return i.jsx("p",{ref:n,id:s,className:se("text-muted-foreground text-sm",e),...t})});zCe.displayName="FormDescription";const dh=v.forwardRef(({className:e,children:t,...n},s)=>{const{error:r,formMessageId:a}=s1(),o=r?String(r==null?void 0:r.message):t;return o?i.jsx("p",{ref:s,id:a,className:se("font-medium text-destructive text-sm",e),...n,children:o}):null});dh.displayName="FormMessage";var ACe=Object.defineProperty,MCe=Object.defineProperties,RCe=Object.getOwnPropertyDescriptors,ay=Object.getOwnPropertySymbols,YF=Object.prototype.hasOwnProperty,JF=Object.prototype.propertyIsEnumerable,eD=(e,t,n)=>t in e?ACe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,OCe=(e,t)=>{for(var n in t||(t={}))YF.call(t,n)&&eD(e,n,t[n]);if(ay)for(var n of ay(t))JF.call(t,n)&&eD(e,n,t[n]);return e},DCe=(e,t)=>MCe(e,RCe(t)),PCe=(e,t)=>{var n={};for(var s in e)YF.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&ay)for(var s of ay(e))t.indexOf(s)<0&&JF.call(e,s)&&(n[s]=e[s]);return n};function ICe(e){let t=setTimeout(e,0),n=setTimeout(e,10),s=setTimeout(e,50);return[t,n,s]}function LCe(e){let t=v.useRef();return v.useEffect(()=>{t.current=e}),t.current}var $Ce=18,XF=40,VCe=`${XF}px`,BCe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function FCe({containerRef:e,inputRef:t,pushPasswordManagerStrategy:n,isFocused:s}){let[r,a]=v.useState(!1),[o,l]=v.useState(!1),[u,d]=v.useState(!1),f=v.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&r&&o,[r,o,n]),m=v.useCallback(()=>{let g=e.current,x=t.current;if(!g||!x||u||n==="none")return;let b=g,w=b.getBoundingClientRect().left+b.offsetWidth,j=b.getBoundingClientRect().top+b.offsetHeight/2,k=w-$Ce,S=j;document.querySelectorAll(BCe).length===0&&document.elementFromPoint(k,S)===g||(a(!0),d(!0))},[e,t,u,n]);return v.useEffect(()=>{let g=e.current;if(!g||n==="none")return;function x(){let w=window.innerWidth-g.getBoundingClientRect().right;l(w>=XF)}x();let b=setInterval(x,1e3);return()=>{clearInterval(b)}},[e,n]),v.useEffect(()=>{let g=s||document.activeElement===t.current;if(n==="none"||!g)return;let x=setTimeout(m,0),b=setTimeout(m,2e3),w=setTimeout(m,5e3),j=setTimeout(()=>{d(!0)},6e3);return()=>{clearTimeout(x),clearTimeout(b),clearTimeout(w),clearTimeout(j)}},[t,s,n,m]),{hasPWMBadge:r,willPushPWMBadge:f,PWM_BADGE_SPACE_WIDTH:VCe}}var QF=v.createContext({}),eU=v.forwardRef((e,t)=>{var n=e,{value:s,onChange:r,maxLength:a,textAlign:o="left",pattern:l,placeholder:u,inputMode:d="numeric",onComplete:f,pushPasswordManagerStrategy:m="increase-width",pasteTransformer:g,containerClassName:x,noScriptCSSFallback:b=UCe,render:w,children:j}=n,k=PCe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),S,C,E,z,R;let[T,A]=v.useState(typeof k.defaultValue=="string"?k.defaultValue:""),D=s??T,F=LCe(D),V=v.useCallback(re=>{r==null||r(re),A(re)},[r]),$=v.useMemo(()=>l?typeof l=="string"?new RegExp(l):l:null,[l]),q=v.useRef(null),K=v.useRef(null),ee=v.useRef({value:D,onChange:V,isIOS:typeof window<"u"&&((C=(S=window==null?void 0:window.CSS)==null?void 0:S.supports)==null?void 0:C.call(S,"-webkit-touch-callout","none"))}),L=v.useRef({prev:[(E=q.current)==null?void 0:E.selectionStart,(z=q.current)==null?void 0:z.selectionEnd,(R=q.current)==null?void 0:R.selectionDirection]});v.useImperativeHandle(t,()=>q.current,[]),v.useEffect(()=>{let re=q.current,Ce=K.current;if(!re||!Ce)return;ee.current.value!==re.value&&ee.current.onChange(re.value),L.current.prev=[re.selectionStart,re.selectionEnd,re.selectionDirection];function Ze(){if(document.activeElement!==re){H(null),te(null);return}let We=re.selectionStart,ct=re.selectionEnd,J=re.selectionDirection,ae=re.maxLength,fe=re.value,ze=L.current.prev,Me=-1,_e=-1,Be;if(fe.length!==0&&We!==null&&ct!==null){let tt=We===ct,Ge=We===fe.length&&fe.length<ae;if(tt&&!Ge){let mt=We;if(mt===0)Me=0,_e=1,Be="forward";else if(mt===ae)Me=mt-1,_e=mt,Be="backward";else if(ae>1&&fe.length>1){let kt=0;if(ze[0]!==null&&ze[1]!==null){Be=mt<ze[1]?"backward":"forward";let Mt=ze[0]===ze[1]&&ze[0]<ae;Be==="backward"&&!Mt&&(kt=-1)}Me=kt+mt,_e=kt+mt+1}}Me!==-1&&_e!==-1&&Me!==_e&&q.current.setSelectionRange(Me,_e,Be)}let ot=Me!==-1?Me:We,Ee=_e!==-1?_e:ct,Fe=Be??J;H(ot),te(Ee),L.current.prev=[ot,Ee,Fe]}if(document.addEventListener("selectionchange",Ze,{capture:!0}),Ze(),document.activeElement===re&&U(!0),!document.getElementById("input-otp-style")){let We=document.createElement("style");if(We.id="input-otp-style",document.head.appendChild(We),We.sheet){let ct="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";gm(We.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),gm(We.sheet,`[data-input-otp]:autofill { ${ct} }`),gm(We.sheet,`[data-input-otp]:-webkit-autofill { ${ct} }`),gm(We.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),gm(We.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let it=()=>{Ce&&Ce.style.setProperty("--root-height",`${re.clientHeight}px`)};it();let jt=new ResizeObserver(it);return jt.observe(re),()=>{document.removeEventListener("selectionchange",Ze,{capture:!0}),jt.disconnect()}},[]);let[P,I]=v.useState(!1),[G,U]=v.useState(!1),[M,H]=v.useState(null),[W,te]=v.useState(null);v.useEffect(()=>{ICe(()=>{var re,Ce,Ze,it;(re=q.current)==null||re.dispatchEvent(new Event("input"));let jt=(Ce=q.current)==null?void 0:Ce.selectionStart,We=(Ze=q.current)==null?void 0:Ze.selectionEnd,ct=(it=q.current)==null?void 0:it.selectionDirection;jt!==null&&We!==null&&(H(jt),te(We),L.current.prev=[jt,We,ct])})},[D,G]),v.useEffect(()=>{F!==void 0&&D!==F&&F.length<a&&D.length===a&&(f==null||f(D))},[a,f,F,D]);let le=FCe({containerRef:K,inputRef:q,pushPasswordManagerStrategy:m,isFocused:G}),ce=v.useCallback(re=>{let Ce=re.currentTarget.value.slice(0,a);if(Ce.length>0&&$&&!$.test(Ce)){re.preventDefault();return}typeof F=="string"&&Ce.length<F.length&&document.dispatchEvent(new Event("selectionchange")),V(Ce)},[a,V,F,$]),Y=v.useCallback(()=>{var re;if(q.current){let Ce=Math.min(q.current.value.length,a-1),Ze=q.current.value.length;(re=q.current)==null||re.setSelectionRange(Ce,Ze),H(Ce),te(Ze)}U(!0)},[a]),oe=v.useCallback(re=>{var Ce,Ze;let it=q.current;if(!g&&(!ee.current.isIOS||!re.clipboardData||!it))return;let jt=re.clipboardData.getData("text/plain"),We=g?g(jt):jt;re.preventDefault();let ct=(Ce=q.current)==null?void 0:Ce.selectionStart,J=(Ze=q.current)==null?void 0:Ze.selectionEnd,ae=(ct!==J?D.slice(0,ct)+We+D.slice(J):D.slice(0,ct)+We+D.slice(ct)).slice(0,a);if(ae.length>0&&$&&!$.test(ae))return;it.value=ae,V(ae);let fe=Math.min(ae.length,a-1),ze=ae.length;it.setSelectionRange(fe,ze),H(fe),te(ze)},[a,V,$,D]),he=v.useMemo(()=>({position:"relative",cursor:k.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[k.disabled]),be=v.useMemo(()=>({position:"absolute",inset:0,width:le.willPushPWMBadge?`calc(100% + ${le.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:le.willPushPWMBadge?`inset(0 ${le.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[le.PWM_BADGE_SPACE_WIDTH,le.willPushPWMBadge,o]),we=v.useMemo(()=>v.createElement("input",DCe(OCe({autoComplete:k.autoComplete||"one-time-code"},k),{"data-input-otp":!0,"data-input-otp-placeholder-shown":D.length===0||void 0,"data-input-otp-mss":M,"data-input-otp-mse":W,inputMode:d,pattern:$==null?void 0:$.source,"aria-placeholder":u,style:be,maxLength:a,value:D,ref:q,onPaste:re=>{var Ce;oe(re),(Ce=k.onPaste)==null||Ce.call(k,re)},onChange:ce,onMouseOver:re=>{var Ce;I(!0),(Ce=k.onMouseOver)==null||Ce.call(k,re)},onMouseLeave:re=>{var Ce;I(!1),(Ce=k.onMouseLeave)==null||Ce.call(k,re)},onFocus:re=>{var Ce;Y(),(Ce=k.onFocus)==null||Ce.call(k,re)},onBlur:re=>{var Ce;U(!1),(Ce=k.onBlur)==null||Ce.call(k,re)}})),[ce,Y,oe,d,be,a,W,M,k,$==null?void 0:$.source,D]),xe=v.useMemo(()=>({slots:Array.from({length:a}).map((re,Ce)=>{var Ze;let it=G&&M!==null&&W!==null&&(M===W&&Ce===M||Ce>=M&&Ce<W),jt=D[Ce]!==void 0?D[Ce]:null,We=D[0]!==void 0?null:(Ze=u==null?void 0:u[Ce])!=null?Ze:null;return{char:jt,placeholderChar:We,isActive:it,hasFakeCaret:it&&jt===null}}),isFocused:G,isHovering:!k.disabled&&P}),[G,P,a,W,M,k.disabled,D]),Ae=v.useMemo(()=>w?w(xe):v.createElement(QF.Provider,{value:xe},j),[j,xe,w]);return v.createElement(v.Fragment,null,b!==null&&v.createElement("noscript",null,v.createElement("style",null,b)),v.createElement("div",{ref:K,"data-input-otp-container":!0,style:he,className:x},Ae,v.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},we)))});eU.displayName="Input";function gm(e,t){try{e.insertRule(t)}catch{console.error("input-otp could not insert CSS rule:",t)}}var UCe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const tU=v.forwardRef(({className:e,containerClassName:t,...n},s)=>i.jsx(eU,{ref:s,containerClassName:se("flex items-center gap-2 has-[:disabled]:opacity-50",t),className:se("disabled:cursor-not-allowed",e),...n}));tU.displayName="InputOTP";const lS=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{ref:n,className:se("flex items-center",e),...t}));lS.displayName="InputOTPGroup";const Zc=v.forwardRef(({index:e,className:t,...n},s)=>{const r=v.useContext(QF),{char:a,hasFakeCaret:o,isActive:l}=r.slots[e];return i.jsxs("div",{ref:s,className:se("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",l&&"z-10 ring-2 ring-ring ring-offset-background",t),...n,children:[a,o&&i.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:i.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});Zc.displayName="InputOTPSlot";const nU=v.forwardRef(({...e},t)=>i.jsx("div",{ref:t,role:"separator",...e,children:i.jsx(c1e,{className:"h-4 w-4"})}));nU.displayName="InputOTPSeparator";const HCe=Ra({code:Qn().min(6,{message:"Ovovac kd mus mt 6 znak."})});function qCe(){const[e,t]=v.useState(!1),[n,s]=v.useState(!1),[r,a]=v.useState(!1),[o]=wI(),l=o.get("email")||"user@example.com",u=Yt(),d=_g({resolver:Hb(HCe),defaultValues:{code:""}});v.useEffect(()=>{o.get("email")||u("/registrace")},[o,u]);async function f(g){t(!0);try{const b=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/verify-and-create-account",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({email:l,code:g.code})}),w=await b.json();if(!b.ok){w.attemptsRemaining!==void 0?Te.error(`Neplatn kd. Zbv pokus: ${w.attemptsRemaining}`):Te.error(w.error||"Neplatn ovovac kd. Zkuste to prosm znovu."),d.reset(),t(!1);return}w.session&&await de.auth.setSession({access_token:w.session.access_token,refresh_token:w.session.refresh_token}),a(!0),Te.success("et byl spn vytvoen!"),setTimeout(()=>{const j=localStorage.getItem("pending_plan");j?(localStorage.removeItem("pending_plan"),u("/",{state:{scrollTo:"pricing",selectedPlan:j}})):u("/prehled")},1500)}catch(x){console.error("Verification error:",x),Te.error("Nco se pokazilo. Zkuste to prosm znovu."),t(!1)}}async function m(){s(!0);try{Te.info("Pro nov kd se vrate na registran strnku a zadejte znovu sv daje.")}catch(g){console.error("Resend error:",g),Te.error("Nco se pokazilo. Zkuste to prosm znovu.")}finally{s(!1)}}return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs("div",{className:"w-full max-w-sm space-y-6",children:[i.jsxs("div",{className:"flex flex-col items-center space-y-2 text-center",children:[i.jsx(ne.div,{className:"flex h-12 w-12 items-center justify-center rounded-full",initial:{scale:1},animate:r?{scale:[1,1.2,1],backgroundColor:["hsl(var(--primary) / 0.1)","hsl(var(--primary))","hsl(var(--primary))"]}:{},transition:{duration:.5},style:{backgroundColor:r?void 0:"hsl(var(--primary) / 0.1)"},children:r?i.jsx(ne.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:200,damping:15},children:i.jsx(Va,{className:"h-6 w-6 text-primary-foreground"})}):i.jsx(i1e,{className:"h-6 w-6 text-primary"})}),i.jsx(ne.h2,{className:"text-2xl font-semibold",animate:r?{color:"hsl(var(--primary))"}:{},children:r?"Email oven!":"Zkontrolujte svj email"}),!r&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Poslali jsme ovovac kd na"," ",i.jsx("span",{className:"font-medium",children:l})]}),r&&i.jsx(ne.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"text-sm text-muted-foreground",children:"Pesmrovn na dashboard..."})]}),!r&&i.jsxs(i.Fragment,{children:[i.jsx(WF,{...d,children:i.jsxs("form",{className:"space-y-6",onSubmit:d.handleSubmit(f),children:[i.jsx(zm,{control:d.control,name:"code",render:({field:g})=>i.jsxs(ch,{children:[i.jsx(uh,{children:i.jsx("div",{className:"flex justify-center",children:i.jsxs(tU,{maxLength:6,...g,children:[i.jsxs(lS,{children:[i.jsx(Zc,{className:"bg-background",index:0}),i.jsx(Zc,{className:"bg-background",index:1}),i.jsx(Zc,{className:"bg-background",index:2})]}),i.jsx(nU,{}),i.jsxs(lS,{children:[i.jsx(Zc,{className:"bg-background",index:3}),i.jsx(Zc,{className:"bg-background",index:4}),i.jsx(Zc,{className:"bg-background",index:5})]})]})})}),i.jsx(dh,{})]})}),i.jsx(X,{className:"w-full",disabled:e,type:"submit",children:e?"Ovuji...":"Ovit Email"})]})}),i.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Nedostali jste email?"," ",i.jsx(X,{className:"h-auto p-0 font-normal",type:"button",variant:"link",onClick:m,disabled:n,children:n?"Odeslm...":"Odeslat znovu"})]})]})]})})}function ZCe(){const[e,t]=v.useState(""),[n,s]=v.useState(!1),r=Yt(),a=async o=>{o.preventDefault(),s(!0);try{const u=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/send-password-reset-code",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({email:e})}),d=await u.json();if(!u.ok){Te.error(d.error||"Nco se pokazilo");return}Te.success("Ovovac kd byl odesln na v email!"),r("/obnoveni-hesla",{state:{email:e}})}catch(l){console.error("Error:",l),Te.error(l.message||"Nco se pokazilo")}finally{s(!1)}};return i.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-muted/40",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("div",{className:"mb-8 text-center",children:i.jsxs(Ue,{to:"/",className:"inline-flex items-center justify-center gap-2 mb-6",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:40,height:40}),i.jsx("span",{className:"text-2xl font-bold",children:pn.name})]})}),i.jsxs(Re,{children:[i.jsxs(Je,{className:"space-y-1",children:[i.jsx(Qe,{className:"text-2xl",children:"Obnoven hesla"}),i.jsx(Xt,{children:"Zadejte svj email a dostanete ovovac kd"})]}),i.jsxs(Oe,{children:[i.jsxs("form",{onSubmit:a,className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"email",children:"Email"}),i.jsx(Pe,{id:"email",type:"email",placeholder:"jmeno@priklad.cz",value:e,onChange:o=>t(o.target.value),required:!0,autoComplete:"email"})]}),i.jsx(X,{type:"submit",className:"w-full",disabled:n,children:n?"Odesln...":"Odeslat ovovac kd"})]}),i.jsx("div",{className:"mt-6",children:i.jsxs(Ue,{to:"/prihlaseni",className:"flex items-center justify-center text-sm text-primary hover:underline",children:[i.jsx(Fb,{className:"mr-2 h-4 w-4"}),"Zpt na pihlen"]})})]})]})]})})}const WCe=Ra({email:Qn().email({message:"Zadejte platn email."}),code:Qn().min(6,{message:"Ovovac kd mus mt 6 slic."}).max(6),newPassword:Qn().min(6,{message:"Heslo mus mt alespo 6 znak."}),confirmPassword:Qn().min(6,{message:"Heslo mus mt alespo 6 znak."})}).refine(e=>e.newPassword===e.confirmPassword,{message:"Hesla se neshoduj",path:["confirmPassword"]});function KCe(){var o;const e=Yt(),t=ns(),[n,s]=v.useState(!1),r=_g({resolver:Hb(WCe),defaultValues:{email:((o=t.state)==null?void 0:o.email)||"",code:"",newPassword:"",confirmPassword:""}});async function a(l){s(!0);try{const d=await fetch("https://smcvwjbdrrswbdfidlgz.supabase.co/functions/v1/verify-and-reset-password",{method:"POST",headers:{Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtY3Z3amJkcnJzd2JkZmlkbGd6Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg3NjMyOTAsImV4cCI6MjA4NDMzOTI5MH0.eKBzchnuVPL1U45jACoy3buNUAeBMRrmYsgyQO6DHWE","Content-Type":"application/json"},body:JSON.stringify({email:l.email,code:l.code,newPassword:l.newPassword})}),f=await d.json();if(!d.ok){f.attemptsRemaining!==void 0?Te.error(`${f.error}. Zbvajc pokusy: ${f.attemptsRemaining}`):Te.error(f.error||"Nco se pokazilo");return}Te.success("Heslo bylo spn zmnno! Nyn se mete pihlsit."),e("/prihlaseni")}catch(u){console.error("Password reset error:",u),Te.error(u.message||"Nco se pokazilo. Zkuste to prosm znovu.")}finally{s(!1)}}return i.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background p-4",children:i.jsxs("div",{className:"w-full max-w-md",children:[i.jsx("div",{className:"mb-8 text-center",children:i.jsxs(Ue,{to:"/",className:"inline-flex items-center justify-center gap-2 mb-6",children:[i.jsx("img",{src:pn.logo,alt:pn.name,width:40,height:40}),i.jsx("span",{className:"text-2xl font-bold",children:pn.name})]})}),i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-primary/10",children:i.jsx(mB,{className:"h-6 w-6 text-primary"})})}),i.jsx(Qe,{className:"text-2xl text-center",children:"Resetovat heslo"}),i.jsx(Xt,{className:"text-center",children:"Zadejte ovovac kd z emailu a nov heslo"})]}),i.jsxs(Oe,{children:[i.jsx(WF,{...r,children:i.jsxs("form",{className:"space-y-4",onSubmit:r.handleSubmit(a),children:[i.jsx(zm,{control:r.control,name:"email",render:({field:l})=>i.jsxs(ch,{children:[i.jsx(Am,{children:"Email"}),i.jsx(uh,{children:i.jsx(Pe,{type:"email",placeholder:"jmeno@priklad.cz",...l})}),i.jsx(dh,{})]})}),i.jsx(zm,{control:r.control,name:"code",render:({field:l})=>i.jsxs(ch,{children:[i.jsx(Am,{children:"Ovovac kd"}),i.jsx(uh,{children:i.jsx(Pe,{type:"text",placeholder:"123456",maxLength:6,...l})}),i.jsx(dh,{})]})}),i.jsx(zm,{control:r.control,name:"newPassword",render:({field:l})=>i.jsxs(ch,{children:[i.jsx(Am,{children:"Nov heslo"}),i.jsx(uh,{children:i.jsx(Pe,{type:"password",placeholder:"Zadejte nov heslo",...l})}),i.jsx(dh,{})]})}),i.jsx(zm,{control:r.control,name:"confirmPassword",render:({field:l})=>i.jsxs(ch,{children:[i.jsx(Am,{children:"Potvrzen hesla"}),i.jsx(uh,{children:i.jsx(Pe,{type:"password",placeholder:"Potvrte nov heslo",...l})}),i.jsx(dh,{})]})}),i.jsx(X,{className:"w-full",disabled:n,type:"submit",children:n?"Resetovn hesla...":"Resetovat heslo"})]})}),i.jsxs("div",{className:"mt-6 space-y-3",children:[i.jsx(Ue,{to:"/zapomenute-heslo",className:"flex items-center justify-center text-sm text-muted-foreground hover:text-primary hover:underline",children:"Znovu odeslat kd"}),i.jsxs(Ue,{to:"/prihlaseni",className:"flex items-center justify-center text-sm text-primary hover:underline",children:[i.jsx(Fb,{className:"mr-2 h-4 w-4"}),"Zpt na pihlen"]})]})]})]})]})})}function r1({...e}){return i.jsx("nav",{"aria-label":"breadcrumb","data-slot":"breadcrumb",...e})}function i1({className:e,...t}){return i.jsx("ol",{"data-slot":"breadcrumb-list",className:se("flex flex-wrap items-center gap-1.5 break-words font-medium text-muted-foreground text-sm sm:gap-2.5",e),...t})}function ii({className:e,...t}){return i.jsx("li",{"data-slot":"breadcrumb-item",className:se("inline-flex items-center gap-1.5",e),...t})}function Ro({asChild:e,className:t,...n}){const s=e?K_:"a";return i.jsx(s,{"data-slot":"breadcrumb-link",className:se("transition-colors hover:text-foreground",t),...n})}function a1({className:e,...t}){return i.jsx("span",{"data-slot":"breadcrumb-page",role:"link","aria-disabled":"true","aria-current":"page",className:se("font-normal text-foreground",e),...t})}function Oo({children:e,className:t,...n}){return i.jsx("li",{"data-slot":"breadcrumb-separator",role:"presentation","aria-hidden":"true",className:se("text-muted-foreground/50",t),...n,children:e??i.jsx(kr,{size:16})})}function GCe(){const{courseId:e}=ic(),{user:t}=Qt(),n=Yt(),[s,r]=v.useState(null),[a,o]=v.useState([]),[l,u]=v.useState(new Set),[d,f]=v.useState(new Map),[m,g]=v.useState(!0),[x,b]=v.useState(!1),[w,j]=v.useState(null);v.useEffect(()=>{t&&e&&k()},[t,e]);const k=async()=>{try{const{data:T}=await de.from("courses").select("id, title, description, thumbnail_url, price, order_index, package_id").eq("id",e).maybeSingle();if(!T){g(!1);return}r(T);const{data:A}=await de.from("course_lessons").select("id, course_id, title, description, video_url, duration, order_index").eq("course_id",e).order("order_index");if(A&&o(A),t){const[{data:F},{data:V}]=await Promise.all([de.from("course_enrollments").select("id").eq("user_id",t.id).eq("course_id",e).maybeSingle(),de.from("course_purchases").select("id").eq("user_id",t.id).eq("course_id",e).maybeSingle()]);b(!!F||!!V);const{data:$}=await de.from("user_course_progress").select("lesson_id, completed, completed_at").eq("user_id",t.id).eq("course_id",e);if($){u(new Set($.filter(K=>K.completed).map(K=>K.lesson_id)));const q=new Map;for(const K of $)K.completed&&K.completed_at&&q.set(K.lesson_id,K.completed_at);f(q)}}const{data:D}=await de.from("courses").select("id").eq("published",!0).eq("package_id",T.package_id).gt("order_index",T.order_index).order("order_index").limit(1).maybeSingle();D&&j(D.id)}catch(T){console.error("Error loading course data:",T)}finally{g(!1)}},S=T=>{if(T===0||l.has(a[T].id))return"available";const A=a[T-1];if(!l.has(A.id))return"locked";const D=d.get(A.id);if(!D)return"available";const F=new Date(D),V=new Date,$=new Date(F.getFullYear(),F.getMonth(),F.getDate()),q=new Date(V.getFullYear(),V.getMonth(),V.getDate());return $.getTime()>=q.getTime()?"daily_locked":"available"},C=T=>{S(T)==="available"&&n(`/kurz/${e}/cast/${T+1}`)};if(!t)return i.jsx(Ba,{to:"/prihlaseni",replace:!0});if(m)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsx(Bl,{className:"h-8 w-8 animate-spin text-primary"})});if(!s||!x)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Kurz nenalezen"}),i.jsx("p",{className:"text-muted-foreground",children:"Tento kurz neexistuje nebo k nemu nemate pristup."}),i.jsx(X,{asChild:!0,variant:"outline",className:"mt-4",children:i.jsx(Ue,{to:"/kurzy",children:"Zpet na kurzy"})})]})});if(a.length===0)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-2",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Zadne lekce"}),i.jsx("p",{className:"text-muted-foreground",children:"Tento kurz zatim neobsahuje zadne lekce."})]})});const E=l.size/a.length*100,z=E===100,R=a.reduce((T,A)=>T+A.duration,0);return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:i.jsxs("div",{className:"container max-w-4xl mx-auto py-4 px-4",children:[i.jsx(r1,{className:"mb-3",children:i.jsxs(i1,{children:[i.jsx(ii,{children:i.jsx(Ro,{asChild:!0,children:i.jsx(Ue,{to:"/",children:i.jsx(Mi,{className:"size-4"})})})}),i.jsx(Oo,{}),i.jsx(ii,{children:i.jsx(Ro,{asChild:!0,children:i.jsx(Ue,{to:"/kurzy",children:"Kurzy"})})}),i.jsx(Oo,{}),i.jsx(ii,{children:i.jsx(a1,{children:s.title})})]})}),i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsxs("div",{className:"min-w-0",children:[i.jsx("h1",{className:"text-xl font-bold truncate",children:s.title}),i.jsxs("p",{className:"text-sm text-muted-foreground mt-0.5",children:[l.size," z ",a.length," lekci dokonceno"]})]}),i.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[i.jsx(Fi,{value:E,className:"h-2 w-24"}),i.jsxs("span",{className:"text-sm font-semibold tabular-nums",children:[Math.round(E),"%"]})]})]})]})}),i.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4 space-y-6",children:[s.description&&i.jsx("div",{className:"rounded-xl border bg-card p-5",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(Gt,{className:"h-5 w-5 text-primary mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold mb-1",children:"O kurzu"}),i.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:s.description}),i.jsxs("div",{className:"flex items-center gap-4 mt-3 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Gt,{className:"h-3 w-3"}),a.length," lekci"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(cn,{className:"h-3 w-3"}),R," min celkem"]})]})]})]})}),z&&i.jsxs("div",{className:"rounded-xl bg-green-500/10 border border-green-500/30 p-6 text-center",children:[i.jsx(oc,{className:"h-10 w-10 text-green-500 mx-auto mb-2"}),i.jsx("h2",{className:"text-xl font-bold",children:"Kurz dokoncen!"}),i.jsx("p",{className:"text-muted-foreground mt-1",children:"Gratulujeme k dokonceni vsech lekci."}),w&&i.jsxs(X,{onClick:()=>n(`/kurz/${w}`),className:"mt-4",children:["Pokracovat na dalsi kurz",i.jsx(ur,{className:"ml-2 h-4 w-4"})]})]}),i.jsx("div",{className:"space-y-3",children:a.map((T,A)=>{const D=S(A),F=l.has(T.id),V=D==="daily_locked",$=D==="locked",q=D==="available";return i.jsx("button",{type:"button",onClick:()=>C(A),disabled:!q,className:se("w-full rounded-xl border bg-card overflow-hidden transition-all duration-200 text-left",q&&"hover:shadow-md hover:border-primary/30 cursor-pointer",F&&"border-green-500/20",V&&"border-amber-500/20",$&&"opacity-50",!q&&"cursor-not-allowed"),children:i.jsxs("div",{className:"flex items-center gap-4 p-4",children:[i.jsx("div",{className:se("w-11 h-11 rounded-full flex items-center justify-center font-semibold text-sm flex-shrink-0 transition-colors",F?"bg-green-500 text-white":q?"bg-primary/10 text-primary":V?"bg-amber-500/15 text-amber-600 dark:text-amber-400":"bg-muted text-muted-foreground"),children:F?i.jsx(Bs,{className:"h-5 w-5"}):V?i.jsx(Mo,{className:"h-4 w-4"}):$?i.jsx(Il,{className:"h-4 w-4"}):A+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"font-medium truncate",children:T.title}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-muted-foreground mt-0.5",children:[i.jsx(cn,{className:"h-3 w-3 flex-shrink-0"}),i.jsxs("span",{children:[T.duration," min"]}),i.jsx("span",{className:"text-muted-foreground/50",children:"|"}),i.jsxs("span",{children:["Cast ",A+1," z ",a.length]})]})]}),i.jsxs("div",{className:"flex-shrink-0 flex items-center gap-2",children:[F&&i.jsx($e,{variant:"outline",className:"text-green-600 border-green-500/30 text-xs",children:"Dokonceno"}),V&&i.jsxs($e,{variant:"outline",className:"text-amber-600 border-amber-500/30 text-xs gap-1",children:[i.jsx(Mo,{className:"h-3 w-3"}),"Zitra"]}),q&&!F&&i.jsx(Cv,{className:"h-5 w-5 text-muted-foreground"}),q&&i.jsx(ur,{className:"h-4 w-4 text-muted-foreground"})]})]})},T.id)})})]})]})}var ME={};(function e(t,n,s,r){var a=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),o=typeof Path2D=="function"&&typeof DOMMatrix=="function",l=(function(){if(!t.OffscreenCanvas)return!1;try{var U=new OffscreenCanvas(1,1),M=U.getContext("2d");M.fillRect(0,0,1,1);var H=U.transferToImageBitmap();M.createPattern(H,"no-repeat")}catch{return!1}return!0})();function u(){}function d(U){var M=n.exports.Promise,H=M!==void 0?M:t.Promise;return typeof H=="function"?new H(U):(U(u,u),null)}var f=(function(U,M){return{transform:function(H){if(U)return H;if(M.has(H))return M.get(H);var W=new OffscreenCanvas(H.width,H.height),te=W.getContext("2d");return te.drawImage(H,0,0),M.set(H,W),W},clear:function(){M.clear()}}})(l,new Map),m=(function(){var U=Math.floor(16.666666666666668),M,H,W={},te=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(M=function(le){var ce=Math.random();return W[ce]=requestAnimationFrame(function Y(oe){te===oe||te+U-1<oe?(te=oe,delete W[ce],le()):W[ce]=requestAnimationFrame(Y)}),ce},H=function(le){W[le]&&cancelAnimationFrame(W[le])}):(M=function(le){return setTimeout(le,U)},H=function(le){return clearTimeout(le)}),{frame:M,cancel:H}})(),g=(function(){var U,M,H={};function W(te){function le(ce,Y){te.postMessage({options:ce||{},callback:Y})}te.init=function(Y){var oe=Y.transferControlToOffscreen();te.postMessage({canvas:oe},[oe])},te.fire=function(Y,oe,he){if(M)return le(Y,null),M;var be=Math.random().toString(36).slice(2);return M=d(function(we){function xe(Ae){Ae.data.callback===be&&(delete H[be],te.removeEventListener("message",xe),M=null,f.clear(),he(),we())}te.addEventListener("message",xe),le(Y,be),H[be]=xe.bind(null,{data:{callback:be}})}),M},te.reset=function(){te.postMessage({reset:!0});for(var Y in H)H[Y](),delete H[Y]}}return function(){if(U)return U;if(!s&&a){var te=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{U=new Worker(URL.createObjectURL(new Blob([te])))}catch(le){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",le),null}W(U)}return U}})(),x={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function b(U,M){return M?M(U):U}function w(U){return U!=null}function j(U,M,H){return b(U&&w(U[M])?U[M]:x[M],H)}function k(U){return U<0?0:Math.floor(U)}function S(U,M){return Math.floor(Math.random()*(M-U))+U}function C(U){return parseInt(U,16)}function E(U){return U.map(z)}function z(U){var M=String(U).replace(/[^0-9a-f]/gi,"");return M.length<6&&(M=M[0]+M[0]+M[1]+M[1]+M[2]+M[2]),{r:C(M.substring(0,2)),g:C(M.substring(2,4)),b:C(M.substring(4,6))}}function R(U){var M=j(U,"origin",Object);return M.x=j(M,"x",Number),M.y=j(M,"y",Number),M}function T(U){U.width=document.documentElement.clientWidth,U.height=document.documentElement.clientHeight}function A(U){var M=U.getBoundingClientRect();U.width=M.width,U.height=M.height}function D(U){var M=document.createElement("canvas");return M.style.position="fixed",M.style.top="0px",M.style.left="0px",M.style.pointerEvents="none",M.style.zIndex=U,M}function F(U,M,H,W,te,le,ce,Y,oe){U.save(),U.translate(M,H),U.rotate(le),U.scale(W,te),U.arc(0,0,1,ce,Y,oe),U.restore()}function V(U){var M=U.angle*(Math.PI/180),H=U.spread*(Math.PI/180);return{x:U.x,y:U.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:U.startVelocity*.5+Math.random()*U.startVelocity,angle2D:-M+(.5*H-Math.random()*H),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:U.color,shape:U.shape,tick:0,totalTicks:U.ticks,decay:U.decay,drift:U.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:U.gravity*3,ovalScalar:.6,scalar:U.scalar,flat:U.flat}}function $(U,M){M.x+=Math.cos(M.angle2D)*M.velocity+M.drift,M.y+=Math.sin(M.angle2D)*M.velocity+M.gravity,M.velocity*=M.decay,M.flat?(M.wobble=0,M.wobbleX=M.x+10*M.scalar,M.wobbleY=M.y+10*M.scalar,M.tiltSin=0,M.tiltCos=0,M.random=1):(M.wobble+=M.wobbleSpeed,M.wobbleX=M.x+10*M.scalar*Math.cos(M.wobble),M.wobbleY=M.y+10*M.scalar*Math.sin(M.wobble),M.tiltAngle+=.1,M.tiltSin=Math.sin(M.tiltAngle),M.tiltCos=Math.cos(M.tiltAngle),M.random=Math.random()+2);var H=M.tick++/M.totalTicks,W=M.x+M.random*M.tiltCos,te=M.y+M.random*M.tiltSin,le=M.wobbleX+M.random*M.tiltCos,ce=M.wobbleY+M.random*M.tiltSin;if(U.fillStyle="rgba("+M.color.r+", "+M.color.g+", "+M.color.b+", "+(1-H)+")",U.beginPath(),o&&M.shape.type==="path"&&typeof M.shape.path=="string"&&Array.isArray(M.shape.matrix))U.fill(P(M.shape.path,M.shape.matrix,M.x,M.y,Math.abs(le-W)*.1,Math.abs(ce-te)*.1,Math.PI/10*M.wobble));else if(M.shape.type==="bitmap"){var Y=Math.PI/10*M.wobble,oe=Math.abs(le-W)*.1,he=Math.abs(ce-te)*.1,be=M.shape.bitmap.width*M.scalar,we=M.shape.bitmap.height*M.scalar,xe=new DOMMatrix([Math.cos(Y)*oe,Math.sin(Y)*oe,-Math.sin(Y)*he,Math.cos(Y)*he,M.x,M.y]);xe.multiplySelf(new DOMMatrix(M.shape.matrix));var Ae=U.createPattern(f.transform(M.shape.bitmap),"no-repeat");Ae.setTransform(xe),U.globalAlpha=1-H,U.fillStyle=Ae,U.fillRect(M.x-be/2,M.y-we/2,be,we),U.globalAlpha=1}else if(M.shape==="circle")U.ellipse?U.ellipse(M.x,M.y,Math.abs(le-W)*M.ovalScalar,Math.abs(ce-te)*M.ovalScalar,Math.PI/10*M.wobble,0,2*Math.PI):F(U,M.x,M.y,Math.abs(le-W)*M.ovalScalar,Math.abs(ce-te)*M.ovalScalar,Math.PI/10*M.wobble,0,2*Math.PI);else if(M.shape==="star")for(var re=Math.PI/2*3,Ce=4*M.scalar,Ze=8*M.scalar,it=M.x,jt=M.y,We=5,ct=Math.PI/We;We--;)it=M.x+Math.cos(re)*Ze,jt=M.y+Math.sin(re)*Ze,U.lineTo(it,jt),re+=ct,it=M.x+Math.cos(re)*Ce,jt=M.y+Math.sin(re)*Ce,U.lineTo(it,jt),re+=ct;else U.moveTo(Math.floor(M.x),Math.floor(M.y)),U.lineTo(Math.floor(M.wobbleX),Math.floor(te)),U.lineTo(Math.floor(le),Math.floor(ce)),U.lineTo(Math.floor(W),Math.floor(M.wobbleY));return U.closePath(),U.fill(),M.tick<M.totalTicks}function q(U,M,H,W,te){var le=M.slice(),ce=U.getContext("2d"),Y,oe,he=d(function(be){function we(){Y=oe=null,ce.clearRect(0,0,W.width,W.height),f.clear(),te(),be()}function xe(){s&&!(W.width===r.width&&W.height===r.height)&&(W.width=U.width=r.width,W.height=U.height=r.height),!W.width&&!W.height&&(H(U),W.width=U.width,W.height=U.height),ce.clearRect(0,0,W.width,W.height),le=le.filter(function(Ae){return $(ce,Ae)}),le.length?Y=m.frame(xe):we()}Y=m.frame(xe),oe=we});return{addFettis:function(be){return le=le.concat(be),he},canvas:U,promise:he,reset:function(){Y&&m.cancel(Y),oe&&oe()}}}function K(U,M){var H=!U,W=!!j(M||{},"resize"),te=!1,le=j(M,"disableForReducedMotion",Boolean),ce=a&&!!j(M||{},"useWorker"),Y=ce?g():null,oe=H?T:A,he=U&&Y?!!U.__confetti_initialized:!1,be=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,we;function xe(re,Ce,Ze){for(var it=j(re,"particleCount",k),jt=j(re,"angle",Number),We=j(re,"spread",Number),ct=j(re,"startVelocity",Number),J=j(re,"decay",Number),ae=j(re,"gravity",Number),fe=j(re,"drift",Number),ze=j(re,"colors",E),Me=j(re,"ticks",Number),_e=j(re,"shapes"),Be=j(re,"scalar"),ot=!!j(re,"flat"),Ee=R(re),Fe=it,tt=[],Ge=U.width*Ee.x,mt=U.height*Ee.y;Fe--;)tt.push(V({x:Ge,y:mt,angle:jt,spread:We,startVelocity:ct,color:ze[Fe%ze.length],shape:_e[S(0,_e.length)],ticks:Me,decay:J,gravity:ae,drift:fe,scalar:Be,flat:ot}));return we?we.addFettis(tt):(we=q(U,tt,oe,Ce,Ze),we.promise)}function Ae(re){var Ce=le||j(re,"disableForReducedMotion",Boolean),Ze=j(re,"zIndex",Number);if(Ce&&be)return d(function(ct){ct()});H&&we?U=we.canvas:H&&!U&&(U=D(Ze),document.body.appendChild(U)),W&&!he&&oe(U);var it={width:U.width,height:U.height};Y&&!he&&Y.init(U),he=!0,Y&&(U.__confetti_initialized=!0);function jt(){if(Y){var ct={getBoundingClientRect:function(){if(!H)return U.getBoundingClientRect()}};oe(ct),Y.postMessage({resize:{width:ct.width,height:ct.height}});return}it.width=it.height=null}function We(){we=null,W&&(te=!1,t.removeEventListener("resize",jt)),H&&U&&(document.body.contains(U)&&document.body.removeChild(U),U=null,he=!1)}return W&&!te&&(te=!0,t.addEventListener("resize",jt,!1)),Y?Y.fire(re,it,We):xe(re,it,We)}return Ae.reset=function(){Y&&Y.reset(),we&&we.reset()},Ae}var ee;function L(){return ee||(ee=K(null,{useWorker:!0,resize:!0})),ee}function P(U,M,H,W,te,le,ce){var Y=new Path2D(U),oe=new Path2D;oe.addPath(Y,new DOMMatrix(M));var he=new Path2D;return he.addPath(oe,new DOMMatrix([Math.cos(ce)*te,Math.sin(ce)*te,-Math.sin(ce)*le,Math.cos(ce)*le,H,W])),he}function I(U){if(!o)throw new Error("path confetti are not supported in this browser");var M,H;typeof U=="string"?M=U:(M=U.path,H=U.matrix);var W=new Path2D(M),te=document.createElement("canvas"),le=te.getContext("2d");if(!H){for(var ce=1e3,Y=ce,oe=ce,he=0,be=0,we,xe,Ae=0;Ae<ce;Ae+=2)for(var re=0;re<ce;re+=2)le.isPointInPath(W,Ae,re,"nonzero")&&(Y=Math.min(Y,Ae),oe=Math.min(oe,re),he=Math.max(he,Ae),be=Math.max(be,re));we=he-Y,xe=be-oe;var Ce=10,Ze=Math.min(Ce/we,Ce/xe);H=[Ze,0,0,Ze,-Math.round(we/2+Y)*Ze,-Math.round(xe/2+oe)*Ze]}return{type:"path",path:M,matrix:H}}function G(U){var M,H=1,W="#000000",te='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof U=="string"?M=U:(M=U.text,H="scalar"in U?U.scalar:H,te="fontFamily"in U?U.fontFamily:te,W="color"in U?U.color:W);var le=10*H,ce=""+le+"px "+te,Y=new OffscreenCanvas(le,le),oe=Y.getContext("2d");oe.font=ce;var he=oe.measureText(M),be=Math.ceil(he.actualBoundingBoxRight+he.actualBoundingBoxLeft),we=Math.ceil(he.actualBoundingBoxAscent+he.actualBoundingBoxDescent),xe=2,Ae=he.actualBoundingBoxLeft+xe,re=he.actualBoundingBoxAscent+xe;be+=xe+xe,we+=xe+xe,Y=new OffscreenCanvas(be,we),oe=Y.getContext("2d"),oe.font=ce,oe.fillStyle=W,oe.fillText(M,Ae,re);var Ce=1/H;return{type:"bitmap",bitmap:Y.transferToImageBitmap(),matrix:[Ce,0,0,Ce,-be*Ce/2,-we*Ce/2]}}n.exports=function(){return L().apply(this,arguments)},n.exports.reset=function(){L().reset()},n.exports.create=K,n.exports.shapeFromPath=I,n.exports.shapeFromText=G})((function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}})(),ME,!1);const YCe=ME.exports;ME.exports.create;function JCe(){const{courseId:e,partNumber:t}=ic(),{user:n}=Qt(),s=Yt(),{onLessonComplete:r,onCourseComplete:a,lastXpEvent:o,clearLastEvent:l}=FF(),u=parseInt(t||"1",10)-1,[d,f]=v.useState(null),[m,g]=v.useState([]),[x,b]=v.useState(new Map),[w,j]=v.useState(new Set),[k,S]=v.useState(new Map),[C,E]=v.useState(!0),[z,R]=v.useState(!1),[T,A]=v.useState(0),[D,F]=v.useState(0),[V,$]=v.useState(0),[q,K]=v.useState(0),[ee,L]=v.useState(0),[P,I]=v.useState(!1),G=v.useRef(null),U=v.useRef(null),M=v.useRef(null),H=v.useRef(!0),W=v.useRef(0),te=v.useRef(0),le=v.useRef(null),ce=v.useRef(Date.now()),Y=v.useRef(!1),oe=v.useRef(new Set);v.useEffect(()=>{oe.current=w},[w]),v.useEffect(()=>{g([]),f(null),E(!0),j(new Set),S(new Map),A(0),F(0),$(0),K(0),L(0),I(!1)},[e,t]),v.useEffect(()=>{n&&e&&xe()},[n,e,t]),v.useEffect(()=>{var Ee;if(!window.YT){const Fe=document.createElement("script");Fe.src="https://www.youtube.com/iframe_api";const tt=document.getElementsByTagName("script")[0];(Ee=tt.parentNode)==null||Ee.insertBefore(Fe,tt)}},[]);const he=m[u]||null,be=async()=>{if(!n||!he||!U.current)return;const Ee=he.id,Fe=W.current;if(!(Fe<=te.current))try{const tt=Math.floor(U.current.getCurrentTime?U.current.getCurrentTime():0),Ge=oe.current.has(Ee),mt=V>0?Math.min(Math.round(tt/V*100),100):0,{data:kt}=await de.from("user_course_progress").select("id").eq("user_id",n.id).eq("lesson_id",Ee).maybeSingle();kt?await de.from("user_course_progress").update({completed:Ge,progress_percent:mt,last_watched_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",kt.id):await de.from("user_course_progress").insert({user_id:n.id,course_id:e,lesson_id:Ee,completed:Ge,progress_percent:mt,last_watched_at:new Date().toISOString()}),te.current=Fe}catch(tt){console.error("Error saving watch time:",tt)}},we=async()=>{if(!(!n||!he))try{const{data:Ee}=await de.from("user_course_progress").select("progress_percent, completed").eq("user_id",n.id).eq("lesson_id",he.id).maybeSingle();if(Ee){const Fe=Math.floor(Ee.progress_percent/100*(he.duration*60));W.current=Fe,te.current=Fe,K(Fe),L(Fe)}else W.current=0,te.current=0,K(0),L(0)}catch(Ee){console.error("Error loading module progress:",Ee)}};v.useEffect(()=>{if(!he)return;H.current=!0,A(0),F(0),$(0),ce.current=Date.now(),Y.current=!1,M.current&&(clearInterval(M.current),M.current=null),le.current&&(clearInterval(le.current),le.current=null),we();const Ee=async()=>{if(U.current){try{const Ge=U.current.getIframe();Ge&&Ge.parentNode&&U.current.destroy()}catch{}U.current=null}},Fe=async()=>{var Mt;if(!H.current)return;await Ee();const Ge=he==null?void 0:he.video_url;if(!Ge||!H.current)return;const mt=Ge.match(/embed\/([^?]+)/),kt=mt?mt[1]:null;if(kt&&((Mt=window.YT)!=null&&Mt.Player)&&G.current&&H.current){const on=G.current;for(;on.firstChild;)on.removeChild(on.firstChild);const pr=document.createElement("div");on.appendChild(pr);try{U.current=new window.YT.Player(pr,{videoId:kt,width:"100%",height:"100%",playerVars:{enablejsapi:1,origin:window.location.origin},events:{onReady:()=>{if(!(!H.current||!U.current))try{const Wn=Math.floor(U.current.getDuration());H.current&&$(Wn),!Y.current&&ee>0&&ee<Wn-10&&(U.current.seekTo(ee,!0),Y.current=!0),M.current=setInterval(()=>{var Ye;if(!H.current||!((Ye=U.current)!=null&&Ye.getCurrentTime)){M.current&&(clearInterval(M.current),M.current=null);return}try{const Ct=Math.floor(U.current.getCurrentTime()),Dt=U.current.getDuration(),at=U.current.getPlayerState();if(H.current){F(Ct);const gt=Date.now(),qe=(gt-ce.current)/1e3;at===1&&qe>=.9&&qe<=1.5&&(W.current+=1,K(W.current)),ce.current=gt,Dt>0&&A(Math.min(Ct/Dt*100,100))}}catch{}},1e3),le.current=setInterval(()=>be(),1e4)}catch{}},onStateChange:Wn=>{Wn.data===window.YT.PlayerState.ENDED&&(be(),M.current&&(clearInterval(M.current),M.current=null),le.current&&(clearInterval(le.current),le.current=null))}}})}catch(Wn){console.error("Error creating player:",Wn)}}},tt=setTimeout(()=>{var Ge;(Ge=window.YT)!=null&&Ge.Player?Fe():window.onYouTubeIframeAPIReady=Fe},200);return()=>{if(H.current=!1,clearTimeout(tt),be(),M.current&&(clearInterval(M.current),M.current=null),le.current&&(clearInterval(le.current),le.current=null),U.current){try{const Ge=U.current.getIframe();Ge&&Ge.parentNode&&U.current.destroy()}catch{}U.current=null}if(G.current)for(;G.current.firstChild;)G.current.removeChild(G.current.firstChild)}},[he,n,e]);const xe=async()=>{try{const{data:Ee}=await de.from("courses").select("id, title, description, thumbnail_url, price, order_index, package_id").eq("id",e).maybeSingle();if(!Ee){E(!1);return}f(Ee);const{data:Fe}=await de.from("course_lessons").select("id, course_id, title, description, video_url, duration, order_index").eq("course_id",e).order("order_index");if(Fe){g(Fe);const tt=Fe.map(Ge=>Ge.id);if(tt.length>0){const{data:Ge}=await de.from("course_videos").select("id, lesson_id, title, video_provider, video_external_id, video_url, storage_path, duration_seconds, order_index").in("lesson_id",tt).order("order_index");if(Ge){const mt=new Map;for(const kt of Ge){const Mt=mt.get(kt.lesson_id)??[];Mt.push(kt),mt.set(kt.lesson_id,Mt)}b(mt)}}}if(n){const[{data:tt},{data:Ge}]=await Promise.all([de.from("course_enrollments").select("id").eq("user_id",n.id).eq("course_id",e).maybeSingle(),de.from("course_purchases").select("id").eq("user_id",n.id).eq("course_id",e).maybeSingle()]);R(!!tt||!!Ge);const{data:mt}=await de.from("user_course_progress").select("lesson_id, completed, completed_at").eq("user_id",n.id).eq("course_id",e);if(mt){j(new Set(mt.filter(Mt=>Mt.completed).map(Mt=>Mt.lesson_id)));const kt=new Map;for(const Mt of mt)Mt.completed&&Mt.completed_at&&kt.set(Mt.lesson_id,Mt.completed_at);S(kt)}}}catch(Ee){console.error("Error loading course data:",Ee)}finally{E(!1)}},Ae=Ee=>{if(Ee===0)return"available";if(!m[Ee])return"locked";if(w.has(m[Ee].id))return"available";const Fe=m[Ee-1];if(!w.has(Fe.id))return"locked";const tt=k.get(Fe.id);if(!tt)return"available";const Ge=new Date(tt),mt=new Date,kt=new Date(Ge.getFullYear(),Ge.getMonth(),Ge.getDate()),Mt=new Date(mt.getFullYear(),mt.getMonth(),mt.getDate());return kt.getTime()>=Mt.getTime()?"daily_locked":"available"},re=async()=>{if(!(!n||!he||w.has(he.id)))try{await be();const Ee=new Date().toISOString(),{data:Fe}=await de.from("user_course_progress").select("id").eq("user_id",n.id).eq("lesson_id",he.id).maybeSingle();Fe?await de.from("user_course_progress").update({completed:!0,completed_at:Ee,progress_percent:100,last_watched_at:Ee,updated_at:Ee}).eq("id",Fe.id):await de.from("user_course_progress").insert({user_id:n.id,course_id:e,lesson_id:he.id,completed:!0,completed_at:Ee,progress_percent:100,last_watched_at:Ee}),j(Ge=>new Set([...Ge,he.id])),S(Ge=>new Map(Ge).set(he.id,Ee)),await r(he.id);const tt=u===m.length-1;Te.success("Lekce dokoncena!",{description:tt?"Gratulujeme! Dokoncili jste cely kurz!":"Dalsi lekce bude dostupna zitra."}),tt&&setTimeout(async()=>{await Ce()},2e3)}catch(Ee){console.error("Error marking module complete:",Ee),Te.error("Chyba pri dokoncovani lekce")}},Ce=async()=>{if(!(!n||!d))try{await de.from("course_enrollments").update({completed:!0,completion_date:new Date().toISOString()}).eq("user_id",n.id).eq("course_id",e),await a(e),YCe({particleCount:150,spread:100,origin:{y:.5},colors:["#10b981","#3b82f6","#2563eb","#f59e0b"]}),Te.success("Kurz uspesne dokoncen!",{description:"Gratulujeme!",duration:5e3}),setTimeout(()=>s(`/kurz/${e}`),2e3)}catch(Ee){console.error("Error completing course:",Ee)}},Ze=Ee=>{const Fe=Math.floor(Ee/60),tt=Ee%60;return`${Fe}:${tt.toString().padStart(2,"0")}`};if(!n)return i.jsx(Ba,{to:"/prihlaseni",replace:!0});if(C)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx(Bl,{className:"h-8 w-8 animate-spin text-primary"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Nacitani lekce..."})]})});if(!d||!z)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-4 max-w-md px-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-muted flex items-center justify-center",children:i.jsx(Il,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Kurz nenalezen"}),i.jsx("p",{className:"text-muted-foreground",children:"Tento kurz neexistuje nebo k nemu nemate pristup."}),i.jsx(X,{asChild:!0,variant:"outline",className:"mt-2",children:i.jsx(Ue,{to:"/kurzy",children:"Zpet na kurzy"})})]})});if(!he)return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-4 max-w-md px-4",children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-muted flex items-center justify-center",children:i.jsx(Gt,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Lekce nenalezena"}),i.jsx("p",{className:"text-muted-foreground",children:"Tato cast kurzu neexistuje."}),i.jsx(X,{asChild:!0,variant:"outline",className:"mt-2",children:i.jsx(Ue,{to:`/kurz/${e}`,children:"Zpet na kurz"})})]})});const it=Ae(u);if(it!=="available")return i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-background",children:i.jsxs("div",{className:"text-center space-y-4 max-w-md px-4",children:[it==="daily_locked"?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-amber-500/10 flex items-center justify-center",children:i.jsx(Mo,{className:"h-8 w-8 text-amber-500"})}),i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Lekce bude dostupna zitra"}),i.jsx("p",{className:"text-muted-foreground",children:"Kazdy den se odemkne nova lekce."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mx-auto w-16 h-16 rounded-2xl bg-muted flex items-center justify-center",children:i.jsx(Il,{className:"h-8 w-8 text-muted-foreground"})}),i.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Lekce je zamcena"}),i.jsx("p",{className:"text-muted-foreground",children:"Nejdrive dokoncete predchozi lekce."})]}),i.jsx(X,{asChild:!0,variant:"outline",className:"mt-2",children:i.jsx(Ue,{to:`/kurz/${e}`,children:"Zpet na kurz"})})]})});const jt=w.has(he.id),We=w.size/m.length*100,ct=V>0?V:he.duration*60,J=Math.max(0,ct-D),ae=u===m.length-1,fe=u===0,Me=(x.get(he.id)??[]).find(Ee=>Ee.video_provider==="storage"&&Ee.video_url),_e=!!Me,Be=ae?null:Ae(u+1),ot=Be==="available";return i.jsxs("div",{className:"min-h-screen bg-background",children:[i.jsx("div",{className:"border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60 sticky top-0 z-50",style:{paddingTop:"env(safe-area-inset-top, 0px)"},children:i.jsx("div",{className:"mx-auto max-w-7xl py-3 px-4 sm:px-6 lg:px-8 landscape-compact",children:i.jsxs("div",{className:"flex items-center justify-between gap-4",children:[i.jsx(r1,{children:i.jsxs(i1,{children:[i.jsx(ii,{children:i.jsx(Ro,{asChild:!0,children:i.jsx(Ue,{to:"/",children:i.jsx(Mi,{className:"size-4"})})})}),i.jsx(Oo,{}),i.jsx(ii,{children:i.jsx(Ro,{asChild:!0,children:i.jsx(Ue,{to:"/kurzy",children:"Kurzy"})})}),i.jsx(Oo,{}),i.jsx(ii,{children:i.jsx(Ro,{asChild:!0,children:i.jsx(Ue,{to:`/kurz/${e}`,className:"max-w-[120px] sm:max-w-[200px] truncate inline-block",children:d.title})})}),i.jsx(Oo,{}),i.jsx(ii,{children:i.jsxs(a1,{children:["Cast ",u+1]})})]})}),i.jsxs("div",{className:"hidden sm:flex items-center gap-3",children:[i.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:i.jsxs("span",{children:[w.size,"/",m.length]})}),i.jsx(Fi,{value:We,className:"h-1.5 w-20"}),i.jsxs("span",{className:"text-xs font-semibold tabular-nums",children:[Math.round(We),"%"]})]})]})})}),i.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 lg:py-8 landscape-compact",children:i.jsxs("div",{className:"landscape-video-fullwidth grid grid-cols-1 lg:grid-cols-[1fr_320px] xl:grid-cols-[1fr_360px] gap-6 lg:gap-8",children:[i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"rounded-2xl border bg-card overflow-hidden shadow-sm",children:[i.jsx("div",{className:"bg-black aspect-video relative",children:_e?i.jsx("video",{className:"w-full h-full",controls:!0,controlsList:"nodownload",onContextMenu:Ee=>Ee.preventDefault(),src:Me.video_url,onTimeUpdate:Ee=>{const Fe=Ee.currentTarget;F(Math.floor(Fe.currentTime)),Fe.duration>0&&(A(Fe.currentTime/Fe.duration*100),$(Math.floor(Fe.duration)))},onLoadedMetadata:Ee=>{const Fe=Ee.currentTarget;$(Math.floor(Fe.duration)),ee>0&&ee<Fe.duration-10&&(Fe.currentTime=ee)}}):i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:G,className:"w-full h-full [&>div]:w-full [&>div]:h-full [&_iframe]:w-full [&_iframe]:h-full"}),!P&&i.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center cursor-pointer",onClick:()=>I(!0),onTouchEnd:Ee=>{Ee.preventDefault(),I(!0)},children:i.jsxs("div",{className:"flex flex-col items-center gap-2 select-none",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-sm flex items-center justify-center border border-white/30",children:i.jsx(Cv,{className:"h-9 w-9 text-white drop-shadow"})}),i.jsx("span",{className:"text-white/80 text-xs font-medium tracking-wide drop-shadow",children:"Klepnete pro prehrani"})]})})]})}),i.jsxs("div",{className:"px-4 sm:px-5 py-3 bg-muted/30 border-t",children:[i.jsx("div",{className:"relative h-1.5 rounded-full bg-muted overflow-hidden",children:i.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-primary transition-all duration-300",style:{width:`${T}%`}})}),i.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-2",children:[i.jsx("span",{className:"tabular-nums",children:Ze(D)}),i.jsxs("span",{className:"tabular-nums",children:["-",Ze(J)]})]})]})]}),i.jsxs("div",{className:"space-y-4 landscape-hide",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsxs($e,{variant:"secondary",className:"text-xs font-medium gap-1.5 px-2.5 py-1",children:[i.jsx(Ch,{className:"h-3 w-3"}),"Cast ",u+1," z ",m.length]}),i.jsxs($e,{variant:"secondary",className:"text-xs font-medium gap-1.5 px-2.5 py-1",children:[i.jsx(cn,{className:"h-3 w-3"}),he.duration," min"]}),jt&&i.jsxs($e,{className:"bg-emerald-500/15 text-emerald-600 dark:text-emerald-400 border-emerald-500/30 text-xs font-medium gap-1.5 px-2.5 py-1",children:[i.jsx(Bs,{className:"h-3 w-3"}),"Dokonceno"]})]}),i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold tracking-tight leading-tight",children:he.title}),he.description&&i.jsx("p",{className:"text-base text-muted-foreground leading-relaxed",children:he.description})]}),d.description&&i.jsx("div",{className:"rounded-2xl border bg-gradient-to-br from-card to-muted/30 p-5 sm:p-6 landscape-hide",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(oc,{className:"h-5 w-5 text-primary"})}),i.jsxs("div",{className:"space-y-2 min-w-0",children:[i.jsx("h2",{className:"font-semibold text-sm uppercase tracking-wider text-muted-foreground",children:"O kurzu"}),i.jsx("p",{className:"text-sm leading-relaxed",children:d.description})]})]})}),!jt&&i.jsx("div",{className:"rounded-2xl border-2 border-dashed border-primary/20 bg-primary/[0.02] p-5 sm:p-6 landscape-hide",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-primary/10 flex items-center justify-center flex-shrink-0",children:i.jsx(YL,{className:"h-6 w-6 text-primary"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"font-semibold mb-1",children:"Dokoncili jste tuto lekci?"}),i.jsx("p",{className:"text-sm text-muted-foreground",children:"Oznacte lekci jako dokoncene pro odemknuti dalsiho obsahu."})]}),i.jsxs(X,{onClick:re,size:"lg",className:"w-full sm:w-auto flex-shrink-0",children:[i.jsx(Bs,{className:"h-4 w-4 mr-2"}),"Dokoncit lekci"]})]})}),i.jsxs("div",{className:"flex items-center gap-3 pt-2 landscape-hide",children:[!fe&&i.jsxs(X,{variant:"outline",className:"flex-1 sm:flex-none",onClick:()=>s(`/kurz/${e}/cast/${u}`),children:[i.jsx($o,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"truncate",children:"Predchozi lekce"})]}),!ae&&i.jsx(X,{variant:ot?"default":"outline",className:se("flex-1 sm:flex-none",!ot&&"opacity-60"),disabled:!ot,onClick:()=>ot&&s(`/kurz/${e}/cast/${u+2}`),children:Be==="daily_locked"?i.jsxs(i.Fragment,{children:[i.jsx(Mo,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"truncate",children:"Dostupne zitra"})]}):Be==="locked"?i.jsxs(i.Fragment,{children:[i.jsx(Il,{className:"h-4 w-4 mr-2"}),i.jsx("span",{className:"truncate",children:"Zamceno"})]}):i.jsxs(i.Fragment,{children:[i.jsx("span",{className:"truncate",children:"Dalsi lekce"}),i.jsx(ur,{className:"h-4 w-4 ml-2"})]})})]})]}),i.jsxs("div",{className:"space-y-4 lg:sticky lg:top-20 lg:self-start",children:[i.jsxs("div",{className:"rounded-2xl border bg-card overflow-hidden",children:[i.jsxs("div",{className:"p-4 sm:p-5 border-b bg-muted/30",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:i.jsx(Cv,{className:"h-4 w-4 text-primary"})}),i.jsx("h3",{className:"font-semibold",children:"Pokrok"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsxs("span",{className:"text-muted-foreground",children:[w.size," z ",m.length," lekci"]}),i.jsxs("span",{className:"font-semibold tabular-nums",children:[Math.round(We),"%"]})]}),i.jsx("div",{className:"relative h-2 rounded-full bg-muted overflow-hidden",children:i.jsx("div",{className:"absolute inset-y-0 left-0 rounded-full bg-primary transition-all duration-500 ease-out",style:{width:`${We}%`}})})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-3 text-xs text-muted-foreground",children:[i.jsx(Dle,{className:"h-3.5 w-3.5"}),i.jsxs("span",{children:["Sledovano: ",Ze(q)]})]})]}),i.jsx("div",{className:"p-2",children:i.jsx("div",{className:"space-y-0.5",children:m.map((Ee,Fe)=>{var kt;const tt=Ae(Fe),Ge=w.has(Ee.id),mt=Fe===u;return i.jsxs("button",{type:"button",onClick:()=>tt==="available"&&s(`/kurz/${e}/cast/${Fe+1}`),disabled:tt!=="available",className:se("w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-left text-sm transition-all duration-200",mt&&"bg-primary/10 ring-1 ring-primary/20",!mt&&tt==="available"&&"hover:bg-muted/60",tt!=="available"&&"opacity-40 cursor-not-allowed"),children:[i.jsx("div",{className:se("w-7 h-7 rounded-lg flex items-center justify-center text-xs font-medium flex-shrink-0 transition-colors",Ge?"bg-emerald-500 text-white":mt?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:Ge?i.jsx(Bs,{className:"h-3.5 w-3.5"}):tt==="locked"?i.jsx(Il,{className:"h-3 w-3"}):tt==="daily_locked"?i.jsx(Mo,{className:"h-3 w-3"}):Fe+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("span",{className:se("block truncate text-sm",mt&&"font-medium text-primary"),children:Ee.title}),i.jsxs("span",{className:"text-xs text-muted-foreground",children:[Ee.duration," min",(((kt=x.get(Ee.id))==null?void 0:kt.length)??0)>0&&i.jsxs("span",{className:"ml-1",children:["| ",x.get(Ee.id).length," videi"]})]})]}),mt&&tt==="available"&&i.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-primary flex-shrink-0 animate-pulse"}),!mt&&tt==="available"&&i.jsx(kr,{className:"h-3.5 w-3.5 text-muted-foreground/50 flex-shrink-0"})]},Ee.id)})})})]}),i.jsxs(X,{variant:"outline",className:"w-full",onClick:()=>s(`/kurz/${e}`),children:[i.jsx(Gt,{className:"h-4 w-4 mr-2"}),"Prehled kurzu"]})]})]})}),i.jsx(gB,{}),o&&i.jsx(UF,{amount:o.amount,source:o.source,newBadges:o.newBadges,newRank:o.newRank,visible:!!o,onClose:l})]})}function XCe(){const{pathname:e}=ns();return v.useEffect(()=>{window.scrollTo(0,0)},[e]),null}const QCe={hidden:{opacity:0,y:20},show:{opacity:1,y:0,transition:{duration:.4,ease:[.4,0,.2,1]}}},eEe={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.07}}},tEe={hidden:{opacity:0,y:16,scale:.97},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:24}}};function qo({children:e,className:t}){return i.jsx(ne.div,{variants:QCe,initial:"hidden",animate:"show",className:t,children:e})}function Oh({children:e,className:t}){return i.jsx(ne.div,{variants:eEe,initial:"hidden",animate:"show",className:t,children:e})}function oi({children:e,className:t}){return i.jsx(ne.div,{variants:tEe,className:t,children:e})}function oa({children:e,className:t}){return i.jsx(ne.div,{whileHover:{scale:1.015,y:-3},whileTap:{scale:.995},transition:{type:"spring",stiffness:400,damping:30},className:se("cursor-pointer",t),children:e})}function wh({children:e,className:t,index:n=0}){return i.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n*.04,duration:.25,ease:"easeOut"},whileHover:{scale:1.008,y:-1},className:t,children:e})}const nEe=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function tD(e){if(e<60)return`${e}s`;const t=Math.floor(e/60),n=e%60;return n>0?`${t}m ${n}s`:`${t}m`}function sEe(e){const t=Date.now()-new Date(e).getTime(),n=Math.floor(t/6e4);if(n<1)return"prave ted";if(n<60)return`pred ${n}m`;const s=Math.floor(n/60);return s<24?`pred ${s}h`:`pred ${Math.floor(s/24)}d`}const rEe=({type:e})=>e==="mobile"?i.jsx(GL,{className:"size-3.5"}):e==="tablet"?i.jsx(JL,{className:"size-3.5"}):i.jsx(FL,{className:"size-3.5"});function iEe(){const[e,t]=v.useState({totalUsers:0,totalCourses:0,totalEnrollments:0,totalPurchases:0,totalRevenue:0,activeSubscriptions:0}),[n,s]=v.useState([]),[r,a]=v.useState({totalPageViews:0,uniqueSessions:0,uniqueUsers:0,avgDuration:0,topPages:[],deviceBreakdown:{desktop:0,mobile:0,tablet:0},recentActivity:[],todayPageViews:0,weekPageViews:0}),[o,l]=v.useState(!0),u=v.useCallback(async()=>{try{const g=new Date,x=new Date(g.getFullYear(),g.getMonth(),g.getDate()).toISOString(),b=new Date(g.getTime()-10080*60*1e3).toISOString(),[{data:w},{count:j},{count:k},{data:S}]=await Promise.all([de.from("user_activity").select("id, user_id, session_id, event_type, page_path, page_title, device_type, duration_seconds, created_at").eq("event_type","page_view").order("created_at",{ascending:!1}).limit(500),de.from("user_activity").select("id",{count:"exact",head:!0}).eq("event_type","page_view").gte("created_at",x),de.from("user_activity").select("id",{count:"exact",head:!0}).eq("event_type","page_view").gte("created_at",b),de.from("user_activity").select("id, user_id, session_id, event_type, page_path, page_title, device_type, duration_seconds, created_at").order("created_at",{ascending:!1}).limit(20)]),C=w??[],E=new Set(C.map(F=>F.session_id)),z=new Set(C.filter(F=>F.user_id).map(F=>F.user_id)),R=C.reduce((F,V)=>F+(V.duration_seconds||0),0),T=new Map;for(const F of C){const V=T.get(F.page_path);V?V.count++:T.set(F.page_path,{title:F.page_title||F.page_path,count:1})}const A=Array.from(T.entries()).map(([F,V])=>({path:F,title:V.title,views:V.count})).sort((F,V)=>V.views-F.views).slice(0,8),D={desktop:0,mobile:0,tablet:0};for(const F of C){const V=F.device_type;V in D&&D[V]++}a({totalPageViews:C.length,uniqueSessions:E.size,uniqueUsers:z.size,avgDuration:C.length>0?Math.round(R/C.length):0,topPages:A,deviceBreakdown:D,recentActivity:S??[],todayPageViews:j??0,weekPageViews:k??0})}catch{}},[]);v.useEffect(()=>{(async()=>{try{const[{count:x},{count:b},{count:w},{data:j},{count:k},{data:S}]=await Promise.all([de.from("profiles").select("*",{count:"exact",head:!0}),de.from("courses").select("*",{count:"exact",head:!0}),de.from("course_enrollments").select("*",{count:"exact",head:!0}),de.from("course_purchases").select("amount_paid"),de.from("subscriptions").select("*",{count:"exact",head:!0}).in("status",["active","trialing"]),de.from("profiles").select("id, email, full_name, created_at").order("created_at",{ascending:!1}).limit(5)]),C=(j==null?void 0:j.reduce((E,z)=>E+Number(z.amount_paid||0),0))??0;t({totalUsers:x??0,totalCourses:b??0,totalEnrollments:w??0,totalPurchases:(j==null?void 0:j.length)??0,totalRevenue:C,activeSubscriptions:k??0}),s(S??[]),await u()}finally{l(!1)}})()},[u]),v.useEffect(()=>{const g=setInterval(u,3e4);return()=>clearInterval(g)},[u]);const d=[{label:"Uzivatele",value:e.totalUsers,icon:Fa,color:"text-blue-600 dark:text-blue-400",bg:"bg-blue-100/60 dark:bg-blue-900/30",link:"/admin/users"},{label:"Kurzy",value:e.totalCourses,icon:Gt,color:"text-emerald-600 dark:text-emerald-400",bg:"bg-emerald-100/60 dark:bg-emerald-900/30",link:"/admin/courses"},{label:"Zapisy",value:e.totalEnrollments,icon:Du,color:"text-amber-600 dark:text-amber-400",bg:"bg-amber-100/60 dark:bg-amber-900/30",link:"/admin/courses"},{label:"Aktivni predplatne",value:e.activeSubscriptions,icon:nr,color:"text-cyan-600 dark:text-cyan-400",bg:"bg-cyan-100/60 dark:bg-cyan-900/30",link:"/admin/subscriptions"},{label:"Nakupy kurzu",value:e.totalPurchases,icon:Eh,color:"text-rose-600 dark:text-rose-400",bg:"bg-rose-100/60 dark:bg-rose-900/30",link:"/admin/invoices"},{label:"Celkove prijmy",value:nEe(e.totalRevenue),icon:nr,color:"text-green-600 dark:text-green-400",bg:"bg-green-100/60 dark:bg-green-900/30",link:"/admin/invoices",isFormatted:!0}],f=r.deviceBreakdown.desktop+r.deviceBreakdown.mobile+r.deviceBreakdown.tablet,m=g=>f>0?Math.round(g/f*100):0;return o?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(qo,{className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Admin Panel"}),i.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Sprava uzivatelu, kurzu a faktur"})]}),i.jsx(Oh,{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:d.map(g=>{const x=g.icon;return i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Ue,{to:g.link,children:i.jsxs(Re,{className:"transition-shadow hover:shadow-md",children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between pb-2",children:[i.jsx(Qe,{className:"text-sm font-medium text-neutral-500",children:g.label}),i.jsx("div",{className:`flex size-8 items-center justify-center rounded-lg ${g.bg}`,children:i.jsx(x,{className:`size-4 ${g.color}`})})]}),i.jsx(Oe,{children:i.jsx("div",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:g.value})})]})})})},g.label)})}),i.jsxs(Oh,{className:"space-y-8",children:[i.jsx(oi,{children:i.jsxs(Re,{children:[i.jsxs(Je,{className:"flex flex-row items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(p2,{className:"size-5 text-green-600"}),i.jsx(Qe,{className:"text-base",children:"Provoz webu (Traffic Monitor)"})]}),i.jsxs($e,{variant:"outline",className:"text-xs font-normal",children:[i.jsx("span",{className:"mr-1.5 inline-block size-1.5 animate-pulse rounded-full bg-green-500"}),"Zive"]})]}),i.jsx(Oe,{children:i.jsxs(ya,{defaultValue:"overview",className:"w-full",children:[i.jsxs(Hi,{className:"mb-4 grid w-full grid-cols-3",children:[i.jsx(kn,{value:"overview",children:"Prehled"}),i.jsx(kn,{value:"pages",children:"Stranky"}),i.jsx(kn,{value:"live",children:"Ziva aktivita"})]}),i.jsxs(In,{value:"overview",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[i.jsxs("div",{className:"rounded-lg border p-4 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[i.jsx(kae,{className:"size-3.5"}),"Zobrazeni dnes"]}),i.jsx("p",{className:"mt-2 text-2xl font-bold",children:r.todayPageViews})]}),i.jsxs("div",{className:"rounded-lg border p-4 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[i.jsx(Fa,{className:"size-3.5"}),"Unikatni navstevnici"]}),i.jsx("p",{className:"mt-2 text-2xl font-bold",children:r.uniqueUsers})]}),i.jsxs("div",{className:"rounded-lg border p-4 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[i.jsx(p2,{className:"size-3.5"}),"Celkem sezeni"]}),i.jsx("p",{className:"mt-2 text-2xl font-bold",children:r.uniqueSessions})]}),i.jsxs("div",{className:"rounded-lg border p-4 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-neutral-500",children:[i.jsx(cn,{className:"size-3.5"}),"Prumerna doba"]}),i.jsx("p",{className:"mt-2 text-2xl font-bold",children:tD(r.avgDuration)})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("h4",{className:"mb-3 text-sm font-medium text-neutral-500",children:"Zarizeni"}),i.jsx("div",{className:"space-y-3",children:[{label:"Desktop",count:r.deviceBreakdown.desktop,icon:FL,color:"bg-blue-500"},{label:"Mobil",count:r.deviceBreakdown.mobile,icon:GL,color:"bg-green-500"},{label:"Tablet",count:r.deviceBreakdown.tablet,icon:JL,color:"bg-amber-500"}].map(g=>i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(g.icon,{className:"size-4 text-neutral-500"}),i.jsx("span",{className:"w-16 text-sm",children:g.label}),i.jsx("div",{className:"flex-1",children:i.jsx("div",{className:"h-2 rounded-full bg-neutral-100 dark:bg-neutral-800",children:i.jsx("div",{className:`h-2 rounded-full ${g.color} transition-all duration-500`,style:{width:`${m(g.count)}%`}})})}),i.jsxs("span",{className:"w-12 text-right text-xs tabular-nums text-neutral-500",children:[m(g.count),"%"]}),i.jsx("span",{className:"w-10 text-right text-xs tabular-nums font-medium",children:g.count})]},g.label))})]})]}),i.jsx(In,{value:"pages",children:r.topPages.length===0?i.jsx("p",{className:"py-8 text-center text-sm text-neutral-500",children:"Zatim zadna data o strankach"}):i.jsx("div",{className:"space-y-2",children:r.topPages.map((g,x)=>{var j;const b=((j=r.topPages[0])==null?void 0:j.views)||1,w=Math.round(g.views/b*100);return i.jsx(wh,{index:x,children:i.jsxs("div",{className:"flex items-center gap-3 rounded-lg border p-3 dark:border-neutral-700",children:[i.jsx("span",{className:"flex size-6 items-center justify-center rounded-md bg-neutral-100 text-[10px] font-bold dark:bg-neutral-800",children:x+1}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"truncate text-sm font-medium",children:g.title}),i.jsx("p",{className:"truncate text-xs text-neutral-500",children:g.path})]}),i.jsx("div",{className:"hidden w-32 sm:block",children:i.jsx("div",{className:"h-1.5 rounded-full bg-neutral-100 dark:bg-neutral-800",children:i.jsx("div",{className:"h-1.5 rounded-full bg-blue-500 transition-all",style:{width:`${w}%`}})})}),i.jsx("span",{className:"text-sm font-semibold tabular-nums",children:g.views})]})},g.path)})})}),i.jsx(In,{value:"live",children:r.recentActivity.length===0?i.jsx("p",{className:"py-8 text-center text-sm text-neutral-500",children:"Zatim zadna aktivita"}):i.jsx("div",{className:"space-y-1.5",children:r.recentActivity.map((g,x)=>i.jsx(wh,{index:x,children:i.jsxs("div",{className:"flex items-center gap-3 rounded-lg border p-2.5 text-sm dark:border-neutral-700",children:[i.jsx(rEe,{type:g.device_type}),i.jsx($e,{variant:"outline",className:"min-w-[80px] justify-center text-[10px] font-normal",children:g.event_type==="page_view"?"Zobrazeni":g.event_type==="session_start"?"Zacatek":g.event_type==="session_end"?"Konec":g.event_type}),i.jsx("span",{className:"flex-1 truncate text-neutral-700 dark:text-neutral-300",children:g.page_title||g.page_path}),g.duration_seconds>0&&i.jsx("span",{className:"text-xs tabular-nums text-neutral-400",children:tD(g.duration_seconds)}),i.jsx("span",{className:"text-xs text-neutral-400 whitespace-nowrap",children:sEe(g.created_at)})]})},g.id))})})]})})]})}),i.jsx(oi,{children:i.jsxs(Re,{children:[i.jsx(Je,{children:i.jsx(Qe,{className:"text-base",children:"Posledni registrovani uzivatele"})}),i.jsx(Oe,{children:n.length===0?i.jsx("p",{className:"text-sm text-neutral-500",children:"Zadni uzivatele"}):i.jsx("div",{className:"space-y-3",children:n.map((g,x)=>{var b,w,j;return i.jsx(wh,{index:x,children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border border-neutral-200 p-3 dark:border-neutral-700",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-8 items-center justify-center rounded-full bg-neutral-200 text-xs font-medium dark:bg-neutral-700",children:((w=(b=g.full_name||g.email)==null?void 0:b[0])==null?void 0:w.toUpperCase())||"U"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:g.full_name||((j=g.email)==null?void 0:j.split("@")[0])}),i.jsx("p",{className:"text-xs text-neutral-500",children:g.email})]})]}),i.jsx("span",{className:"text-xs text-neutral-400",children:new Date(g.created_at).toLocaleDateString("cs-CZ")})]})},g.id)})})})]})})]})]})}function nD(e){var t;return e?Array.isArray(e)?((t=e[0])==null?void 0:t.title)||"Neznamy kurz":e.title:"Neznamy kurz"}function aEe(){const[e,t]=v.useState([]),[n,s]=v.useState([]),[r,a]=v.useState(!0),[o,l]=v.useState(""),[u,d]=v.useState(null),[f,m]=v.useState([]),[g,x]=v.useState([]),[b,w]=v.useState(!1),[j,k]=v.useState("created_at"),[S,C]=v.useState("desc"),E=v.useCallback(async()=>{const[{data:$},{data:q}]=await Promise.all([de.from("profiles").select("*").order("created_at",{ascending:!1}),de.from("subscriptions").select("*")]);t($??[]),s(q??[]),a(!1)},[]);v.useEffect(()=>{E()},[E]);const z=async $=>{d($),w(!0);const[{data:q},{data:K}]=await Promise.all([de.from("course_enrollments").select("id, course_id, enrolled_at, completed, courses(title)").eq("user_id",$.id),de.from("course_purchases").select("id, course_id, amount_paid, purchased_at, courses(title)").eq("user_id",$.id)]);m(q??[]),x(K??[]),w(!1)},R=async $=>{const{error:q}=await de.from("profiles").update({is_admin:!$.is_admin}).eq("id",$.id);if(q){Te.error("Chyba pri zmene admin statusu");return}Te.success($.is_admin?"Admin prava odebrany":"Admin prava udeleny"),t(K=>K.map(ee=>ee.id===$.id?{...ee,is_admin:!ee.is_admin}:ee)),(u==null?void 0:u.id)===$.id&&d({...$,is_admin:!$.is_admin})},T=$=>n.find(q=>q.user_id===$),A=$=>{if(!$)return i.jsx($e,{variant:"outline",children:"Bez predplatneho"});const q={active:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",trialing:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-400",cancelled:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-400",expired:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400"},K={free_trial:"Trial",monthly:"Mesicni",lifetime:"Dozivotni"};return i.jsxs($e,{className:q[$.status]||"",children:[K[$.plan_type]||$.plan_type," - ",$.status]})},D=e.filter($=>{var K,ee;const q=o.toLowerCase();return((K=$.email)==null?void 0:K.toLowerCase().includes(q))||((ee=$.full_name)==null?void 0:ee.toLowerCase().includes(q))||$.id.toLowerCase().includes(q)}).sort(($,q)=>{const K=j==="email"?$.email||"":$.created_at||"",ee=j==="email"?q.email||"":q.created_at||"";return S==="asc"?K.localeCompare(ee):ee.localeCompare(K)}),F=S==="asc"?bu:dr,V=$=>{j===$?C(q=>q==="asc"?"desc":"asc"):(k($),C("asc"))};return r?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(qo,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Sprava uzivatelu"}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:[e.length," registrovanych uzivatelu"]})]}),i.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative max-w-sm",children:[i.jsx(Ya,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Pe,{placeholder:"Hledat podle emailu, jmena nebo ID...",value:o,onChange:$=>l($.target.value),className:"pl-9"})]}),i.jsx(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.15},children:i.jsx(Re,{children:i.jsx(Oe,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Uzivatel"}),i.jsx("th",{className:"cursor-pointer px-4 py-3 text-left font-medium text-neutral-500",onClick:()=>V("email"),children:i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Email",j==="email"&&i.jsx(F,{className:"size-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Predplatne"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Role"}),i.jsx("th",{className:"cursor-pointer px-4 py-3 text-left font-medium text-neutral-500",onClick:()=>V("created_at"),children:i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Registrace",j==="created_at"&&i.jsx(F,{className:"size-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-right font-medium text-neutral-500",children:"Akce"})]})}),i.jsxs("tbody",{children:[D.map($=>{var K,ee,L;const q=T($.id);return i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-8 items-center justify-center rounded-full bg-neutral-200 text-xs font-medium dark:bg-neutral-700",children:((ee=(K=$.full_name||$.email)==null?void 0:K[0])==null?void 0:ee.toUpperCase())||"U"}),i.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:$.full_name||((L=$.email)==null?void 0:L.split("@")[0])})]})}),i.jsx("td",{className:"px-4 py-3 text-neutral-600 dark:text-neutral-400",children:$.email}),i.jsx("td",{className:"px-4 py-3",children:A(q)}),i.jsx("td",{className:"px-4 py-3",children:$.is_admin?i.jsx($e,{className:"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-400",children:"Admin"}):i.jsx($e,{variant:"outline",children:"Uzivatel"})}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:new Date($.created_at).toLocaleDateString("cs-CZ")}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>z($),children:"Detail"}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-8",onClick:()=>R($),title:$.is_admin?"Odebrat admin":"Udelit admin",children:$.is_admin?i.jsx($3,{className:"size-4 text-red-500"}):i.jsx(yp,{className:"size-4 text-neutral-400"})})]})})]},$.id)}),D.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"Zadni uzivatele nenalezeni"})})]})]})})})})}),i.jsx(Za,{open:!!u,onOpenChange:()=>d(null),children:i.jsxs(ha,{className:"max-h-[85vh] overflow-y-auto sm:max-w-2xl",children:[i.jsx(fa,{children:i.jsxs(ma,{className:"flex items-center gap-2",children:[i.jsx(sce,{className:"size-5"}),"Detail uzivatele"]})}),u&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsx(wl,{label:"Email",value:u.email}),i.jsx(wl,{label:"Jmeno",value:u.full_name||"-"}),i.jsx(wl,{label:"Telefon",value:u.phone||"-"}),i.jsx(wl,{label:"Firma",value:u.company||"-"}),i.jsx(wl,{label:"Lokace",value:u.location||"-"}),i.jsx(wl,{label:"Registrace",value:new Date(u.created_at).toLocaleDateString("cs-CZ")}),i.jsx(wl,{label:"Role",value:u.is_admin?"Admin":"Uzivatel"}),i.jsx(wl,{label:"Predplatne",value:(()=>{const $=T(u.id);return $?`${$.plan_type} (${$.status})`:"Zadne"})()})]}),b?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"mb-3 flex items-center gap-2 text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:[i.jsx(Gt,{className:"size-4"}),"Zapsane kurzy (",f.length,")"]}),f.length===0?i.jsx("p",{className:"text-sm text-neutral-500",children:"Zadne zapisy"}):i.jsx("div",{className:"space-y-2",children:f.map(($,q)=>i.jsx(wh,{index:q,children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 dark:border-neutral-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:nD($.courses)}),i.jsxs("p",{className:"text-xs text-neutral-500",children:["Zapsano: ",new Date($.enrolled_at).toLocaleDateString("cs-CZ")]})]}),$.completed?i.jsx($e,{className:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",children:"Dokonceno"}):i.jsx($e,{variant:"outline",children:"Probiha"})]})},$.id))})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"mb-3 flex items-center gap-2 text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:[i.jsx(nr,{className:"size-4"}),"Nakupy kurzu (",g.length,")"]}),g.length===0?i.jsx("p",{className:"text-sm text-neutral-500",children:"Zadne nakupy"}):i.jsx("div",{className:"space-y-2",children:g.map(($,q)=>i.jsx(wh,{index:q,children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 dark:border-neutral-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:nD($.courses)}),i.jsx("p",{className:"text-xs text-neutral-500",children:new Date($.purchased_at).toLocaleDateString("cs-CZ")})]}),i.jsx("span",{className:"text-sm font-medium",children:new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(Number($.amount_paid))})]})},$.id))})]})]}),i.jsxs("div",{className:"flex gap-2 border-t pt-4 dark:border-neutral-700",children:[i.jsx(X,{variant:u.is_admin?"destructive":"default",size:"sm",onClick:()=>R(u),children:u.is_admin?i.jsxs(i.Fragment,{children:[i.jsx($3,{className:"mr-2 size-4"}),"Odebrat admin prava"]}):i.jsxs(i.Fragment,{children:[i.jsx(yp,{className:"mr-2 size-4"}),"Udelit admin prava"]})}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>d(null),children:[i.jsx(Pu,{className:"mr-2 size-4"}),"Zavrit"]})]})]})]})})]})}function wl({label:e,value:t}){return i.jsxs("div",{children:[i.jsx("dt",{className:"text-xs font-medium text-neutral-500",children:e}),i.jsx("dd",{className:"mt-0.5 text-sm text-neutral-900 dark:text-neutral-100",children:t})]})}const sU=v.forwardRef(({className:e,...t},n)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:n,className:se("w-full caption-bottom text-sm",e),...t})}));sU.displayName="Table";const rU=v.forwardRef(({className:e,...t},n)=>i.jsx("thead",{ref:n,className:se("[&_tr]:border-b",e),...t}));rU.displayName="TableHeader";const iU=v.forwardRef(({className:e,...t},n)=>i.jsx("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",e),...t}));iU.displayName="TableBody";const oEe=v.forwardRef(({className:e,...t},n)=>i.jsx("tfoot",{ref:n,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));oEe.displayName="TableFooter";const cS=v.forwardRef(({className:e,...t},n)=>i.jsx("tr",{ref:n,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));cS.displayName="TableRow";const Wc=v.forwardRef(({className:e,...t},n)=>i.jsx("th",{ref:n,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));Wc.displayName="TableHead";const Kc=v.forwardRef(({className:e,...t},n)=>i.jsx("td",{ref:n,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Kc.displayName="TableCell";const lEe=v.forwardRef(({className:e,...t},n)=>i.jsx("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",e),...t}));lEe.displayName="TableCaption";const cEe=()=>{const[e,t]=v.useState([]),[n,s]=v.useState(!0),[r,a]=v.useState(""),[o,l]=v.useState("all"),[u,d]=v.useState(!1),[f,m]=v.useState(null);v.useEffect(()=>{g()},[]);const g=async()=>{try{s(!0);const{data:j,error:k}=await de.from("blogs").select("*").order("created_at",{ascending:!1});if(k)throw k;t(j||[])}catch(j){console.error("Error fetching blogs:",j),Te.error("Nepodailo se nast lnky")}finally{s(!1)}},x=async()=>{if(f)try{const{error:j}=await de.from("blogs").delete().eq("id",f);if(j)throw j;Te.success("lnek byl spn smazn"),g(),d(!1),m(null)}catch(j){console.error("Error deleting blog:",j),Te.error("Nepodailo se smazat lnek")}},b=e.filter(j=>{const k=j.title.toLowerCase().includes(r.toLowerCase())||j.excerpt.toLowerCase().includes(r.toLowerCase()),S=o==="all"||j.status===o;return k&&S}),w=j=>{switch(j){case"published":return i.jsx($e,{className:"bg-green-500",children:"Publikovno"});case"draft":return i.jsx($e,{variant:"secondary",children:"Koncept"});case"archived":return i.jsx($e,{variant:"outline",children:"Archivovno"});default:return i.jsx($e,{children:j})}};return i.jsxs(qo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Sprva blogu"}),i.jsx("p",{className:"text-muted-foreground",children:"Vytvejte a spravujte blogov lnky"})]}),i.jsx(X,{asChild:!0,children:i.jsxs(Ue,{to:"/admin/blogs/new",children:[i.jsx(ds,{className:"mr-2 size-4"}),"Nov lnek"]})})]}),i.jsx(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"lnky"}),i.jsx(Xt,{children:"Spravujte vechny sv lnky na jednom mst"})]}),i.jsxs(Oe,{children:[i.jsxs("div",{className:"mb-6 flex flex-col gap-4 md:flex-row md:items-center",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Ya,{className:"absolute top-3 left-3 size-4 text-muted-foreground"}),i.jsx(Pe,{placeholder:"Hledat lnky...",value:r,onChange:j=>a(j.target.value),className:"pl-10"})]}),i.jsxs(As,{value:o,onValueChange:l,children:[i.jsxs(ws,{className:"w-full md:w-48",children:[i.jsx(vae,{className:"mr-2 size-4"}),i.jsx(Ms,{placeholder:"Filtrovat podle stavu"})]}),i.jsxs(js,{children:[i.jsx(bt,{value:"all",children:"Vechny stavy"}),i.jsx(bt,{value:"published",children:"Publikovno"}),i.jsx(bt,{value:"draft",children:"Koncept"}),i.jsx(bt,{value:"archived",children:"Archivovno"})]})]})]}),n?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Natn lnk..."})}):b.length===0?i.jsxs("div",{className:"flex h-64 flex-col items-center justify-center gap-2",children:[i.jsx("p",{className:"text-muted-foreground",children:"dn lnky nenalezeny"}),i.jsx(X,{asChild:!0,variant:"outline",size:"sm",children:i.jsxs(Ue,{to:"/admin/blogs/new",children:[i.jsx(ds,{className:"mr-2 size-4"}),"Vytvoit prvn lnek"]})})]}):i.jsx("div",{className:"overflow-x-auto rounded-md border",children:i.jsxs(sU,{children:[i.jsx(rU,{children:i.jsxs(cS,{children:[i.jsx(Wc,{children:"Nzev"}),i.jsx(Wc,{children:"Stav"}),i.jsx(Wc,{children:"Zobrazen"}),i.jsx(Wc,{children:"Publikovno"}),i.jsx(Wc,{children:"Aktualizovno"}),i.jsx(Wc,{className:"text-right",children:"Akce"})]})}),i.jsx(iU,{children:b.map(j=>i.jsxs(cS,{children:[i.jsx(Kc,{children:i.jsxs("div",{className:"flex items-center gap-3",children:[j.featured_image&&i.jsx("img",{src:j.featured_image,alt:j.title,className:"size-10 rounded object-cover"}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:j.title}),i.jsx("div",{className:"text-sm text-muted-foreground line-clamp-1",children:j.excerpt})]})]})}),i.jsx(Kc,{children:w(j.status)}),i.jsx(Kc,{children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Li,{className:"size-4 text-muted-foreground"}),i.jsx("span",{children:j.view_count})]})}),i.jsx(Kc,{children:j.published_at?i.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[i.jsx(ca,{className:"size-4 text-muted-foreground"}),Yv(new Date(j.published_at),"d. MMM yyyy",{locale:Jv})]}):i.jsx("span",{className:"text-sm text-muted-foreground",children:"Nepublikovno"})}),i.jsx(Kc,{children:i.jsx("span",{className:"text-sm text-muted-foreground",children:Yv(new Date(j.updated_at),"d. MMM yyyy",{locale:Jv})})}),i.jsx(Kc,{className:"text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsx(X,{asChild:!0,variant:"ghost",size:"sm",children:i.jsx(Ue,{to:`/admin/blogs/edit/${j.id}`,children:i.jsx(vle,{className:"size-4"})})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>{m(j.id),d(!0)},children:i.jsx(cr,{className:"size-4 text-red-500"})})]})})]},j.id))})]})})]})]})}),i.jsx(Za,{open:u,onOpenChange:d,children:i.jsxs(ha,{children:[i.jsxs(fa,{children:[i.jsx(ma,{children:"Smazat lnek"}),i.jsx(Cp,{children:"Opravdu chcete smazat tento lnek? Tuto akci nelze vrtit zpt."})]}),i.jsxs(Qv,{children:[i.jsx(X,{variant:"outline",onClick:()=>d(!1),children:"Zruit"}),i.jsx(X,{variant:"destructive",onClick:x,children:"Smazat"})]})]})})]})};function sn(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function uEe(e){const t=[];if(e.title&&t.push(`<h2>${sn(e.title)}</h2>`),e.text){const n=e.text.split(`

`).filter(Boolean).map(s=>`<p>${sn(s).replace(/\n/g,"<br>")}</p>`);t.push(n.join(`
`))}return t.join(`
`)}function dEe(e){if(!e.url)return"";const t=sn(e.alt||"");let n=`<figure><img src="${sn(e.url)}" alt="${t}" class="rounded-lg" />`;return e.caption&&(n+=`<figcaption>${sn(e.caption)}</figcaption>`),n+="</figure>",n}function hEe(e){if(!e.url)return"";let t=e.url;const n=e.url.match(/(?:youtube\.com\/watch\?v=|youtu\.be\/)([\w-]+)/);n&&(t=`https://www.youtube.com/embed/${n[1]}`);const s=e.url.match(/vimeo\.com\/(\d+)/);s&&(t=`https://player.vimeo.com/video/${s[1]}`);let r=`<div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;border-radius:0.5rem;margin:1.5rem 0"><iframe src="${sn(t)}" style="position:absolute;top:0;left:0;width:100%;height:100%;border:0" allowfullscreen></iframe></div>`;return e.caption&&(r+=`<p style="text-align:center;font-size:0.8125rem;color:var(--muted-foreground);margin-top:0.5rem">${sn(e.caption)}</p>`),r}function fEe(e){let t=`<blockquote><p>${sn(e.quote||"")}</p>`;return e.author&&(t+=`<footer> ${sn(e.author)}</footer>`),t+="</blockquote>",t}function mEe(e){const t=e.language||"code";return`<div class="blog-code-block"><div class="blog-code-header">${sn(t)}</div><pre><code>${sn(e.code||"")}</code></pre></div>`}function pEe(e){return`<div style="${e.background?`background-image:url(${sn(e.background)});background-size:cover;background-position:center;`:"background:var(--muted);"}padding:3rem 2rem;border-radius:0.75rem;text-align:center;margin:1.5rem 0;color:white;position:relative"><div style="position:relative;z-index:1"><h2 style="font-size:1.75rem;font-weight:700;margin-bottom:0.5rem">${sn(e.title||"")}</h2><p style="font-size:1rem;opacity:0.9">${sn(e.subtitle||"")}</p></div></div>`}function gEe(e){try{const t=JSON.parse(e.headers||"[]"),n=JSON.parse(e.rows||"[]");let s='<div class="blog-table-wrap"><table><thead><tr>';for(const r of t)s+=`<th>${sn(r)}</th>`;s+="</tr></thead><tbody>";for(const r of n){s+="<tr>";for(const a of r)s+=`<td>${sn(a)}</td>`;s+="</tr>"}return s+="</tbody></table></div>",s}catch{return""}}const sD={tip:"&#x1F4A1;",warning:"&#x26A0;&#xFE0F;",info:"&#x2139;&#xFE0F;",error:"&#x274C;"};function xEe(e){const t=e.type||"info",n=sD[t]||sD.info;return`<div class="blog-callout blog-callout-${sn(t)}"><div class="blog-callout-title">${n} ${sn(e.title||t.charAt(0).toUpperCase()+t.slice(1))}</div><div class="blog-callout-body">${sn(e.content||"").replace(/\n/g,"<br>")}</div></div>`}function vEe(e){try{const t=JSON.parse(e.items||"[]");if(t.length===0)return"";let n='<div class="blog-faq">';for(const s of t)n+=`<details><summary>${sn(s.question)}</summary><div class="blog-faq-answer">${sn(s.answer).replace(/\n/g,"<br>")}</div></details>`;return n+="</div>",n}catch{return""}}function yEe(e){try{const t=JSON.parse(e.options||"[]");if(t.length===0)return"";let n=`<div class="blog-poll"><div class="blog-poll-title">${sn(e.question||"")}</div>`;for(const s of t)n+=`<div class="blog-poll-option"><div class="blog-poll-label"><span>${sn(s.label)}</span><span>${s.percentage}%</span></div><div class="blog-poll-bar"><div class="blog-poll-fill" style="width:${s.percentage}%"></div></div></div>`;return n+="</div>",n}catch{return""}}function bEe(e){const t=e.color||"blue";return`<div class="blog-highlight blog-highlight-${sn(t)}">${sn(e.text||"").replace(/\n/g,"<br>")}</div>`}function wEe(e){const t=e.platform||"twitter",n={twitter:"X",facebook:"f",instagram:"IG",linkedin:"in"};return`<a href="${sn(e.url||"#")}" target="_blank" rel="noopener noreferrer" class="blog-social"><div class="blog-social-icon blog-social-${sn(t)}">${n[t]||"?"}</div><div class="blog-social-content"><div class="blog-social-text">${sn(e.text||"")}</div><div class="blog-social-url">${sn(e.url||"")}</div></div></a>`}function jEe(e){const t=e.style||"line";return t==="dots"?'<div class="blog-divider-dots"></div>':t==="gradient"?'<hr class="blog-divider-gradient" />':'<hr class="blog-divider-line" />'}function kEe(e){return`<div class="blog-seo-preview"><div class="seo-title">${sn(e.seoTitle||"")}</div><div class="seo-url">${sn(e.seoUrl||"")}</div><div class="seo-description">${sn(e.seoDescription||"")}</div></div>`}const NEe={text:uEe,image:dEe,video:hEe,quote:fEe,code:mEe,hero:pEe,table:gEe,callout:xEe,faq:vEe,poll:yEe,highlight:bEe,social:wEe,divider:jEe,seo:kEe};function aU(e){return e.map(t=>{const n=NEe[t.type];return n?n(t.content):""}).filter(Boolean).join(`

`)}function Xs(e){this.content=e}Xs.prototype={constructor:Xs,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var s=n&&n!=e?this.remove(n):this,r=s.find(e),a=s.content.slice();return r==-1?a.push(n||e,t):(a[r+1]=t,n&&(a[r]=n)),new Xs(a)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new Xs(n)},addToStart:function(e,t){return new Xs([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new Xs(n)},addBefore:function(e,t,n){var s=this.remove(t),r=s.content.slice(),a=s.find(e);return r.splice(a==-1?r.length:a,0,t,n),new Xs(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Xs.from(e),e.size?new Xs(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Xs.from(e),e.size?new Xs(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Xs.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};Xs.from=function(e){if(e instanceof Xs)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new Xs(t)};function oU(e,t,n){for(let s=0;;s++){if(s==e.childCount||s==t.childCount)return e.childCount==t.childCount?null:n;let r=e.child(s),a=t.child(s);if(r==a){n+=r.nodeSize;continue}if(!r.sameMarkup(a))return n;if(r.isText&&r.text!=a.text){for(let o=0;r.text[o]==a.text[o];o++)n++;return n}if(r.content.size||a.content.size){let o=oU(r.content,a.content,n+1);if(o!=null)return o}n+=r.nodeSize}}function lU(e,t,n,s){for(let r=e.childCount,a=t.childCount;;){if(r==0||a==0)return r==a?null:{a:n,b:s};let o=e.child(--r),l=t.child(--a),u=o.nodeSize;if(o==l){n-=u,s-=u;continue}if(!o.sameMarkup(l))return{a:n,b:s};if(o.isText&&o.text!=l.text){let d=0,f=Math.min(o.text.length,l.text.length);for(;d<f&&o.text[o.text.length-d-1]==l.text[l.text.length-d-1];)d++,n--,s--;return{a:n,b:s}}if(o.content.size||l.content.size){let d=lU(o.content,l.content,n-1,s-1);if(d)return d}n-=u,s-=u}}class De{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let s=0;s<t.length;s++)this.size+=t[s].nodeSize}nodesBetween(t,n,s,r=0,a){for(let o=0,l=0;l<n;o++){let u=this.content[o],d=l+u.nodeSize;if(d>t&&s(u,r+l,a||null,o)!==!1&&u.content.size){let f=l+1;u.nodesBetween(Math.max(0,t-f),Math.min(u.content.size,n-f),s,r+f)}l=d}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,s,r){let a="",o=!0;return this.nodesBetween(t,n,(l,u)=>{let d=l.isText?l.text.slice(Math.max(t,u)-u,n-u):l.isLeaf?r?typeof r=="function"?r(l):r:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&s&&(o?o=!1:a+=s),a+=d},0),a}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,s=t.firstChild,r=this.content.slice(),a=0;for(n.isText&&n.sameMarkup(s)&&(r[r.length-1]=n.withText(n.text+s.text),a=1);a<t.content.length;a++)r.push(t.content[a]);return new De(r,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let s=[],r=0;if(n>t)for(let a=0,o=0;o<n;a++){let l=this.content[a],u=o+l.nodeSize;u>t&&((o<t||u>n)&&(l.isText?l=l.cut(Math.max(0,t-o),Math.min(l.text.length,n-o)):l=l.cut(Math.max(0,t-o-1),Math.min(l.content.size,n-o-1))),s.push(l),r+=l.nodeSize),o=u}return new De(s,r)}cutByIndex(t,n){return t==n?De.empty:t==0&&n==this.content.length?this:new De(this.content.slice(t,n))}replaceChild(t,n){let s=this.content[t];if(s==n)return this;let r=this.content.slice(),a=this.size+n.nodeSize-s.nodeSize;return r[t]=n,new De(r,a)}addToStart(t){return new De([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new De(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,s=0;n<this.content.length;n++){let r=this.content[n];t(r,s,n),s+=r.nodeSize}}findDiffStart(t,n=0){return oU(this,t,n)}findDiffEnd(t,n=this.size,s=t.size){return lU(this,t,n,s)}findIndex(t){if(t==0)return z0(0,t);if(t==this.size)return z0(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,s=0;;n++){let r=this.child(n),a=s+r.nodeSize;if(a>=t)return a==t?z0(n+1,a):z0(n,s);s=a}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return De.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new De(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return De.empty;let n,s=0;for(let r=0;r<t.length;r++){let a=t[r];s+=a.nodeSize,r&&a.isText&&t[r-1].sameMarkup(a)?(n||(n=t.slice(0,r)),n[n.length-1]=a.withText(n[n.length-1].text+a.text)):n&&n.push(a)}return new De(n||t,s)}static from(t){if(!t)return De.empty;if(t instanceof De)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new De([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}De.empty=new De([],0);const Xk={index:0,offset:0};function z0(e,t){return Xk.index=e,Xk.offset=t,Xk}function oy(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let s=0;s<e.length;s++)if(!oy(e[s],t[s]))return!1}else{for(let s in e)if(!(s in t)||!oy(e[s],t[s]))return!1;for(let s in t)if(!(s in e))return!1}return!0}let _n=class uS{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,s=!1;for(let r=0;r<t.length;r++){let a=t[r];if(this.eq(a))return t;if(this.type.excludes(a.type))n||(n=t.slice(0,r));else{if(a.type.excludes(this.type))return t;!s&&a.type.rank>this.type.rank&&(n||(n=t.slice(0,r)),n.push(this),s=!0),n&&n.push(a)}}return n||(n=t.slice()),s||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&oy(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=t.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=s.create(n.attrs);return s.checkAttrs(r.attrs),r}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let s=0;s<t.length;s++)if(!t[s].eq(n[s]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return uS.none;if(t instanceof uS)return[t];let n=t.slice();return n.sort((s,r)=>s.type.rank-r.type.rank),n}};_n.none=[];class ly extends Error{}class Ke{constructor(t,n,s){this.content=t,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let s=uU(this.content,t+this.openStart,n);return s&&new Ke(s,this.openStart,this.openEnd)}removeBetween(t,n){return new Ke(cU(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return Ke.empty;let s=n.openStart||0,r=n.openEnd||0;if(typeof s!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Ke(De.fromJSON(t,n.content),s,r)}static maxOpen(t,n=!0){let s=0,r=0;for(let a=t.firstChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.firstChild)s++;for(let a=t.lastChild;a&&!a.isLeaf&&(n||!a.type.spec.isolating);a=a.lastChild)r++;return new Ke(t,s,r)}}Ke.empty=new Ke(De.empty,0,0);function cU(e,t,n){let{index:s,offset:r}=e.findIndex(t),a=e.maybeChild(s),{index:o,offset:l}=e.findIndex(n);if(r==t||a.isText){if(l!=n&&!e.child(o).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(s!=o)throw new RangeError("Removing non-flat range");return e.replaceChild(s,a.copy(cU(a.content,t-r-1,n-r-1)))}function uU(e,t,n,s){let{index:r,offset:a}=e.findIndex(t),o=e.maybeChild(r);if(a==t||o.isText)return s&&!s.canReplace(r,r,n)?null:e.cut(0,t).append(n).append(e.cut(t));let l=uU(o.content,t-a-1,n,o);return l&&e.replaceChild(r,o.copy(l))}function SEe(e,t,n){if(n.openStart>e.depth)throw new ly("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new ly("Inconsistent open depths");return dU(e,t,n,0)}function dU(e,t,n,s){let r=e.index(s),a=e.node(s);if(r==t.index(s)&&s<e.depth-n.openStart){let o=dU(e,t,n,s+1);return a.copy(a.content.replaceChild(r,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==s&&t.depth==s){let o=e.parent,l=o.content;return gu(o,l.cut(0,e.parentOffset).append(n.content).append(l.cut(t.parentOffset)))}else{let{start:o,end:l}=_Ee(n,e);return gu(a,fU(e,o,l,t,s))}else return gu(a,cy(e,t,s))}function hU(e,t){if(!t.type.compatibleContent(e.type))throw new ly("Cannot join "+t.type.name+" onto "+e.type.name)}function dS(e,t,n){let s=e.node(n);return hU(s,t.node(n)),s}function pu(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Zm(e,t,n,s){let r=(t||e).node(n),a=0,o=t?t.index(n):r.childCount;e&&(a=e.index(n),e.depth>n?a++:e.textOffset&&(pu(e.nodeAfter,s),a++));for(let l=a;l<o;l++)pu(r.child(l),s);t&&t.depth==n&&t.textOffset&&pu(t.nodeBefore,s)}function gu(e,t){return e.type.checkContent(t),e.copy(t)}function fU(e,t,n,s,r){let a=e.depth>r&&dS(e,t,r+1),o=s.depth>r&&dS(n,s,r+1),l=[];return Zm(null,e,r,l),a&&o&&t.index(r)==n.index(r)?(hU(a,o),pu(gu(a,fU(e,t,n,s,r+1)),l)):(a&&pu(gu(a,cy(e,t,r+1)),l),Zm(t,n,r,l),o&&pu(gu(o,cy(n,s,r+1)),l)),Zm(s,null,r,l),new De(l)}function cy(e,t,n){let s=[];if(Zm(null,e,n,s),e.depth>n){let r=dS(e,t,n+1);pu(gu(r,cy(e,t,n+1)),s)}return Zm(t,null,n,s),new De(s)}function _Ee(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let a=n-1;a>=0;a--)r=t.node(a).copy(De.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}class Op{constructor(t,n,s){this.pos=t,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let s=this.pos-this.path[this.path.length-1],r=t.child(n);return s?t.child(n).cut(s):r}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let s=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let a=0;a<t;a++)r+=s.child(a).nodeSize;return r}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return _n.none;if(this.textOffset)return t.child(n).marks;let s=t.maybeChild(n-1),r=t.maybeChild(n);if(!s){let l=s;s=r,r=l}let a=s.marks;for(var o=0;o<a.length;o++)a[o].type.spec.inclusive===!1&&(!r||!a[o].isInSet(r.marks))&&(a=a[o--].removeFromSet(a));return a}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,r=t.parent.maybeChild(t.index());for(var a=0;a<s.length;a++)s[a].type.spec.inclusive===!1&&(!r||!s[a].isInSet(r.marks))&&(s=s[a--].removeFromSet(s));return s}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);s>=0;s--)if(t.pos<=this.end(s)&&(!n||n(this.node(s))))return new uy(this,t,s);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let s=[],r=0,a=n;for(let o=t;;){let{index:l,offset:u}=o.content.findIndex(a),d=a-u;if(s.push(o,l,r+u),!d||(o=o.child(l),o.isText))break;a=d-1,r+=u+1}return new Op(n,s,a)}static resolveCached(t,n){let s=rD.get(t);if(s)for(let a=0;a<s.elts.length;a++){let o=s.elts[a];if(o.pos==n)return o}else rD.set(t,s=new CEe);let r=s.elts[s.i]=Op.resolve(t,n);return s.i=(s.i+1)%EEe,r}}class CEe{constructor(){this.elts=[],this.i=0}}const EEe=12,rD=new WeakMap;class uy{constructor(t,n,s){this.$from=t,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const TEe=Object.create(null);let Zl=class hS{constructor(t,n,s,r=_n.none){this.type=t,this.attrs=n,this.marks=r,this.content=s||De.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,s,r=0){this.content.nodesBetween(t,n,s,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,s,r){return this.content.textBetween(t,n,s,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,s){return this.type==t&&oy(this.attrs,n||t.defaultAttrs||TEe)&&_n.sameSet(this.marks,s||_n.none)}copy(t=null){return t==this.content?this:new hS(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new hS(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,s=!1){if(t==n)return Ke.empty;let r=this.resolve(t),a=this.resolve(n),o=s?0:r.sharedDepth(n),l=r.start(o),d=r.node(o).content.cut(r.pos-l,a.pos-l);return new Ke(d,r.depth-o,a.depth-o)}replace(t,n,s){return SEe(this.resolve(t),this.resolve(n),s)}nodeAt(t){for(let n=this;;){let{index:s,offset:r}=n.content.findIndex(t);if(n=n.maybeChild(s),!n)return null;if(r==t||n.isText)return n;t-=r+1}}childAfter(t){let{index:n,offset:s}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(t);if(s<t)return{node:this.content.child(n),index:n,offset:s};let r=this.content.child(n-1);return{node:r,index:n-1,offset:s-r.nodeSize}}resolve(t){return Op.resolveCached(this,t)}resolveNoCache(t){return Op.resolve(this,t)}rangeHasMark(t,n,s){let r=!1;return n>t&&this.nodesBetween(t,n,a=>(s.isInSet(a.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),mU(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,s=De.empty,r=0,a=s.childCount){let o=this.contentMatchAt(t).matchFragment(s,r,a),l=o&&o.matchFragment(this.content,n);if(!l||!l.validEnd)return!1;for(let u=r;u<a;u++)if(!this.type.allowsMarks(s.child(u).marks))return!1;return!0}canReplaceWith(t,n,s,r){if(r&&!this.type.allowsMarks(r))return!1;let a=this.contentMatchAt(t).matchType(s),o=a&&a.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=_n.none;for(let n=0;n<this.marks.length;n++){let s=this.marks[n];s.type.checkAttrs(s.attrs),t=s.addToSet(t)}if(!_n.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,s)}let r=De.fromJSON(t,n.content),a=t.nodeType(n.type).create(n.attrs,r,s);return a.type.checkAttrs(a.attrs),a}};Zl.prototype.text=void 0;class dy extends Zl{constructor(t,n,s,r){if(super(t,n,null,r),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):mU(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new dy(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new dy(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}}function mU(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class Tu{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let s=new zEe(t,n);if(s.next==null)return Tu.empty;let r=pU(s);s.next&&s.err("Unexpected trailing text");let a=IEe(PEe(r));return LEe(a,s),a}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,s=t.childCount){let r=this;for(let a=n;r&&a<s;a++)r=r.matchType(t.child(a).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let s=0;s<t.next.length;s++)if(this.next[n].type==t.next[s].type)return!0;return!1}fillBefore(t,n=!1,s=0){let r=[this];function a(o,l){let u=o.matchFragment(t,s);if(u&&(!n||u.validEnd))return De.from(l.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:f,next:m}=o.next[d];if(!(f.isText||f.hasRequiredAttrs())&&r.indexOf(m)==-1){r.push(m);let g=a(m,l.concat(f));if(g)return g}}return null}return a(this,[])}findWrapping(t){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==t)return this.wrapCache[s+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let r=s.shift(),a=r.match;if(a.matchType(t)){let o=[];for(let l=r;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<a.next.length;o++){let{type:l,next:u}=a.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in n)&&(!r.type||u.validEnd)&&(s.push({match:l.contentMatch,type:l,via:r}),n[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(s){t.push(s);for(let r=0;r<s.next.length;r++)t.indexOf(s.next[r].next)==-1&&n(s.next[r].next)}return n(this),t.map((s,r)=>{let a=r+(s.validEnd?"*":" ")+" ";for(let o=0;o<s.next.length;o++)a+=(o?", ":"")+s.next[o].type.name+"->"+t.indexOf(s.next[o].next);return a}).join(`
`)}}Tu.empty=new Tu(!0);class zEe{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function pU(e){let t=[];do t.push(AEe(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function AEe(e){let t=[];do t.push(MEe(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function MEe(e){let t=DEe(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=REe(e,t);else break;return t}function iD(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function REe(e,t){let n=iD(e),s=n;return e.eat(",")&&(e.next!="}"?s=iD(e):s=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:t}}function OEe(e,t){let n=e.nodeTypes,s=n[t];if(s)return[s];let r=[];for(let a in n){let o=n[a];o.isInGroup(t)&&r.push(o)}return r.length==0&&e.err("No node type or group '"+t+"' found"),r}function DEe(e){if(e.eat("(")){let t=pU(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=OEe(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function PEe(e){let t=[[]];return r(a(e,0),n()),t;function n(){return t.push([])-1}function s(o,l,u){let d={term:u,to:l};return t[o].push(d),d}function r(o,l){o.forEach(u=>u.to=l)}function a(o,l){if(o.type=="choice")return o.exprs.reduce((u,d)=>u.concat(a(d,l)),[]);if(o.type=="seq")for(let u=0;;u++){let d=a(o.exprs[u],l);if(u==o.exprs.length-1)return d;r(d,l=n())}else if(o.type=="star"){let u=n();return s(l,u),r(a(o.expr,u),u),[s(u)]}else if(o.type=="plus"){let u=n();return r(a(o.expr,l),u),r(a(o.expr,u),u),[s(u)]}else{if(o.type=="opt")return[s(l)].concat(a(o.expr,l));if(o.type=="range"){let u=l;for(let d=0;d<o.min;d++){let f=n();r(a(o.expr,u),f),u=f}if(o.max==-1)r(a(o.expr,u),u);else for(let d=o.min;d<o.max;d++){let f=n();s(u,f),r(a(o.expr,u),f),u=f}return[s(u)]}else{if(o.type=="name")return[s(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function gU(e,t){return t-e}function aD(e,t){let n=[];return s(t),n.sort(gU);function s(r){let a=e[r];if(a.length==1&&!a[0].term)return s(a[0].to);n.push(r);for(let o=0;o<a.length;o++){let{term:l,to:u}=a[o];!l&&n.indexOf(u)==-1&&s(u)}}}function IEe(e){let t=Object.create(null);return n(aD(e,0));function n(s){let r=[];s.forEach(o=>{e[o].forEach(({term:l,to:u})=>{if(!l)return;let d;for(let f=0;f<r.length;f++)r[f][0]==l&&(d=r[f][1]);aD(e,u).forEach(f=>{d||r.push([l,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let a=t[s.join(",")]=new Tu(s.indexOf(e.length-1)>-1);for(let o=0;o<r.length;o++){let l=r[o][1].sort(gU);a.next.push({type:r[o][0],next:t[l.join(",")]||n(l)})}return a}}function LEe(e,t){for(let n=0,s=[e];n<s.length;n++){let r=s[n],a=!r.validEnd,o=[];for(let l=0;l<r.next.length;l++){let{type:u,next:d}=r.next[l];o.push(u.name),a&&!(u.isText||u.hasRequiredAttrs())&&(a=!1),s.indexOf(d)==-1&&s.push(d)}a&&t.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function xU(e){let t=Object.create(null);for(let n in e){let s=e[n];if(!s.hasDefault)return null;t[n]=s.default}return t}function vU(e,t){let n=Object.create(null);for(let s in e){let r=t&&t[s];if(r===void 0){let a=e[s];if(a.hasDefault)r=a.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=r}return n}function yU(e,t,n,s){for(let r in t)if(!(r in e))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in e){let a=e[r];a.validate&&a.validate(t[r])}}function bU(e,t){let n=Object.create(null);if(t)for(let s in t)n[s]=new VEe(e,s,t[s]);return n}let oD=class wU{constructor(t,n,s){this.name=t,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=bU(t,s.attrs),this.defaultAttrs=xU(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Tu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:vU(this.attrs,t)}create(t=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zl(this,this.computeAttrs(t),De.from(n),_n.setFrom(s))}createChecked(t=null,n,s){return n=De.from(n),this.checkContent(n),new Zl(this,this.computeAttrs(t),n,_n.setFrom(s))}createAndFill(t=null,n,s){if(t=this.computeAttrs(t),n=De.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let r=this.contentMatch.matchFragment(n),a=r&&r.fillBefore(De.empty,!0);return a?new Zl(this,t,n.append(a),_n.setFrom(s)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let s=0;s<t.childCount;s++)if(!this.allowsMarks(t.child(s).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){yU(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let s=0;s<t.length;s++)this.allowsMarkType(t[s].type)?n&&n.push(t[s]):n||(n=t.slice(0,s));return n?n.length?n:_n.none:t}static compile(t,n){let s=Object.create(null);t.forEach((a,o)=>s[a]=new wU(a,n,o));let r=n.spec.topNode||"doc";if(!s[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let a in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function $Ee(e,t,n){let s=n.split("|");return r=>{let a=r===null?"null":typeof r;if(s.indexOf(a)<0)throw new RangeError(`Expected value of type ${s} for attribute ${t} on type ${e}, got ${a}`)}}class VEe{constructor(t,n,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?$Ee(t,n,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class o1{constructor(t,n,s,r){this.name=t,this.rank=n,this.schema=s,this.spec=r,this.attrs=bU(t,r.attrs),this.excluded=null;let a=xU(this.attrs);this.instance=a?new _n(this,a):null}create(t=null){return!t&&this.instance?this.instance:new _n(this,vU(this.attrs,t))}static compile(t,n){let s=Object.create(null),r=0;return t.forEach((a,o)=>s[a]=new o1(a,r++,n,o)),s}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){yU(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class jU{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in t)n[r]=t[r];n.nodes=Xs.from(t.nodes),n.marks=Xs.from(t.marks||{}),this.nodes=oD.compile(this.spec.nodes,this),this.marks=o1.compile(this.spec.marks,this);let s=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let a=this.nodes[r],o=a.spec.content||"",l=a.spec.marks;if(a.contentMatch=s[o]||(s[o]=Tu.parse(o,this.nodes)),a.inlineContent=a.contentMatch.inlineContent,a.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!a.isInline||!a.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=a}a.markSet=l=="_"?null:l?lD(this,l.split(" ")):l==""||!a.inlineContent?[]:null}for(let r in this.marks){let a=this.marks[r],o=a.spec.excludes;a.excluded=o==null?[a]:o==""?[]:lD(this,o.split(" "))}this.nodeFromJSON=r=>Zl.fromJSON(this,r),this.markFromJSON=r=>_n.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,s,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof oD){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,s,r)}text(t,n){let s=this.nodes.text;return new dy(s,s.defaultAttrs,t,_n.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function lD(e,t){let n=[];for(let s=0;s<t.length;s++){let r=t[s],a=e.marks[r],o=a;if(a)n.push(a);else for(let l in e.marks){let u=e.marks[l];(r=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(r)>-1)&&n.push(o=u)}if(!o)throw new SyntaxError("Unknown mark type: '"+t[s]+"'")}return n}function BEe(e){return e.tag!=null}function FEe(e){return e.style!=null}class Wl{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let s=this.matchedStyles=[];n.forEach(r=>{if(BEe(r))this.tags.push(r);else if(FEe(r)){let a=/[^=]*/.exec(r.style)[0];s.indexOf(a)<0&&s.push(a),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let a=t.nodes[r.node];return a.contentMatch.matchType(a)})}parse(t,n={}){let s=new uD(this,n,!1);return s.addAll(t,_n.none,n.from,n.to),s.finish()}parseSlice(t,n={}){let s=new uD(this,n,!0);return s.addAll(t,_n.none,n.from,n.to),Ke.maxOpen(s.finish())}matchTag(t,n,s){for(let r=s?this.tags.indexOf(s)+1:0;r<this.tags.length;r++){let a=this.tags[r];if(qEe(t,a.tag)&&(a.namespace===void 0||t.namespaceURI==a.namespace)&&(!a.context||n.matchesContext(a.context))){if(a.getAttrs){let o=a.getAttrs(t);if(o===!1)continue;a.attrs=o||void 0}return a}}}matchStyle(t,n,s,r){for(let a=r?this.styles.indexOf(r)+1:0;a<this.styles.length;a++){let o=this.styles[a],l=o.style;if(!(l.indexOf(t)!=0||o.context&&!s.matchesContext(o.context)||l.length>t.length&&(l.charCodeAt(t.length)!=61||l.slice(t.length+1)!=n))){if(o.getAttrs){let u=o.getAttrs(n);if(u===!1)continue;o.attrs=u||void 0}return o}}}static schemaRules(t){let n=[];function s(r){let a=r.priority==null?50:r.priority,o=0;for(;o<n.length;o++){let l=n[o];if((l.priority==null?50:l.priority)<a)break}n.splice(o,0,r)}for(let r in t.marks){let a=t.marks[r].spec.parseDOM;a&&a.forEach(o=>{s(o=dD(o)),o.mark||o.ignore||o.clearMark||(o.mark=r)})}for(let r in t.nodes){let a=t.nodes[r].spec.parseDOM;a&&a.forEach(o=>{s(o=dD(o)),o.node||o.ignore||o.mark||(o.node=r)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Wl(t,Wl.schemaRules(t)))}}const kU={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},UEe={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},NU={ol:!0,ul:!0},Dp=1,fS=2,Wm=4;function cD(e,t,n){return t!=null?(t?Dp:0)|(t==="full"?fS:0):e&&e.whitespace=="pre"?Dp|fS:n&~Wm}class A0{constructor(t,n,s,r,a,o){this.type=t,this.attrs=n,this.marks=s,this.solid=r,this.options=o,this.content=[],this.activeMarks=_n.none,this.match=a||(o&Wm?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(De.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,r;return(r=s.findWrapping(t.type))?(this.match=s,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&Dp)){let s=this.content[this.content.length-1],r;if(s&&s.isText&&(r=/[ \t\r\n\u000c]+$/.exec(s.text))){let a=s;s.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=a.withText(a.text.slice(0,a.text.length-r[0].length))}}let n=De.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(De.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!kU.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class uD{constructor(t,n,s){this.parser=t,this.options=n,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let r=n.topNode,a,o=cD(null,n.preserveWhitespace,0)|(s?Wm:0);r?a=new A0(r.type,r.attrs,_n.none,!0,n.topMatch||r.type.contentMatch,o):s?a=new A0(null,null,_n.none,!0,null,o):a=new A0(t.schema.topNodeType,null,_n.none,!0,null,o),this.nodes=[a],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let s=t.nodeValue,r=this.top,a=r.options&fS?"full":this.localPreserveWS||(r.options&Dp)>0,{schema:o}=this.parser;if(a==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(s)){if(a)if(a==="full")s=s.replace(/\r\n?/g,`
`);else if(o.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(o.linebreakReplacement.create())){let l=s.split(/\r?\n|\r/);for(let u=0;u<l.length;u++)u&&this.insertNode(o.linebreakReplacement.create(),n,!0),l[u]&&this.insertNode(o.text(l[u]),n,!/\S/.test(l[u]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let l=r.content[r.content.length-1],u=t.previousSibling;(!l||u&&u.nodeName=="BR"||l.isText&&/[ \t\r\n\u000c]$/.test(l.text))&&(s=s.slice(1))}s&&this.insertNode(o.text(s),n,!/\S/.test(s)),this.findInText(t)}else this.findInside(t)}addElement(t,n,s){let r=this.localPreserveWS,a=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let o=t.nodeName.toLowerCase(),l;NU.hasOwnProperty(o)&&this.parser.normalizeLists&&HEe(t);let u=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(l=this.parser.matchTag(t,this,s));e:if(u?u.ignore:UEe.hasOwnProperty(o))this.findInside(t),this.ignoreFallback(t,n);else if(!u||u.skip||u.closeParent){u&&u.closeParent?this.open=Math.max(0,this.open-1):u&&u.skip.nodeType&&(t=u.skip);let d,f=this.needsBlock;if(kU.hasOwnProperty(o))a.content.length&&a.content[0].isInline&&this.open&&(this.open--,a=this.top),d=!0,a.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let m=u&&u.skip?n:this.readStyles(t,n);m&&this.addAll(t,m),d&&this.sync(a),this.needsBlock=f}else{let d=this.readStyles(t,n);d&&this.addElementByRule(t,u,d,u.consuming===!1?l:void 0)}this.localPreserveWS=r}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let s=t.style;if(s&&s.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let a=this.parser.matchedStyles[r],o=s.getPropertyValue(a);if(o)for(let l=void 0;;){let u=this.parser.matchStyle(a,o,this,l);if(!u)break;if(u.ignore)return null;if(u.clearMark?n=n.filter(d=>!u.clearMark(d)):n=n.concat(this.parser.schema.marks[u.mark].create(u.attrs)),u.consuming===!1)l=u;else break}}return n}addElementByRule(t,n,s,r){let a,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),s,t.nodeName=="BR")||this.leafFallback(t,s);else{let u=this.enter(o,n.attrs||null,s,n.preserveWhitespace);u&&(a=!0,s=u)}else{let u=this.parser.schema.marks[n.mark];s=s.concat(u.create(n.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(t);else if(r)this.addElement(t,s,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(u=>this.insertNode(u,s,!1));else{let u=t;typeof n.contentElement=="string"?u=t.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(t):n.contentElement&&(u=n.contentElement),this.findAround(t,u,!0),this.addAll(u,s),this.findAround(t,u,!1)}a&&this.sync(l)&&this.open--}addAll(t,n,s,r){let a=s||0;for(let o=s?t.childNodes[s]:t.firstChild,l=r==null?null:t.childNodes[r];o!=l;o=o.nextSibling,++a)this.findAtPoint(t,a),this.addDOM(o,n);this.findAtPoint(t,a)}findPlace(t,n,s){let r,a;for(let o=this.open,l=0;o>=0;o--){let u=this.nodes[o],d=u.findWrapping(t);if(d&&(!r||r.length>d.length+l)&&(r=d,a=u,!d.length))break;if(u.solid){if(s)break;l+=2}}if(!r)return null;this.sync(a);for(let o=0;o<r.length;o++)n=this.enterInner(r[o],null,n,!1);return n}insertNode(t,n,s){if(t.isInline&&this.needsBlock&&!this.top.type){let a=this.textblockFromContext();a&&(n=this.enterInner(a,null,n))}let r=this.findPlace(t,n,s);if(r){this.closeExtra();let a=this.top;a.match&&(a.match=a.match.matchType(t.type));let o=_n.none;for(let l of r.concat(t.marks))(a.type?a.type.allowsMarkType(l.type):hD(l.type,t.type))&&(o=l.addToSet(o));return a.content.push(t.mark(o)),!0}return!1}enter(t,n,s,r){let a=this.findPlace(t.create(n),s,!1);return a&&(a=this.enterInner(t,n,s,!0,r)),a}enterInner(t,n,s,r=!1,a){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(t);let l=cD(t,a,o.options);o.options&Wm&&o.content.length==0&&(l|=Wm);let u=_n.none;return s=s.filter(d=>(o.type?o.type.allowsMarkType(d.type):hD(d.type,t))?(u=d.addToSet(u),!1):!0),this.nodes.push(new A0(t,n,u,r,null,l)),this.open++,s}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=Dp)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let r=s.length-1;r>=0;r--)t+=s[r].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==t&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,s){if(t!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(s?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),s=this.options.context,r=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),a=-(s?s.depth+1:0)+(r?0:1),o=(l,u)=>{for(;l>=0;l--){let d=n[l];if(d==""){if(l==n.length-1||l==0)continue;for(;u>=a;u--)if(o(l-1,u))return!0;return!1}else{let f=u>0||u==0&&r?this.nodes[u].type:s&&u>=a?s.node(u-a).type:null;if(!f||f.name!=d&&!f.isInGroup(d))return!1;u--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let s=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}}function HEe(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let s=t.nodeType==1?t.nodeName.toLowerCase():null;s&&NU.hasOwnProperty(s)&&n?(n.appendChild(t),t=n):s=="li"?n=t:s&&(n=null)}}function qEe(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function dD(e){let t={};for(let n in e)t[n]=e[n];return t}function hD(e,t){let n=t.schema.nodes;for(let s in n){let r=n[s];if(!r.allowsMarkType(e))continue;let a=[],o=l=>{a.push(l);for(let u=0;u<l.edgeCount;u++){let{type:d,next:f}=l.edge(u);if(d==t||a.indexOf(f)<0&&o(f))return!0}};if(o(r.contentMatch))return!0}}class Bu{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},s){s||(s=Qk(n).createDocumentFragment());let r=s,a=[];return t.forEach(o=>{if(a.length||o.marks.length){let l=0,u=0;for(;l<a.length&&u<o.marks.length;){let d=o.marks[u];if(!this.marks[d.type.name]){u++;continue}if(!d.eq(a[l][0])||d.type.spec.spanning===!1)break;l++,u++}for(;l<a.length;)r=a.pop()[1];for(;u<o.marks.length;){let d=o.marks[u++],f=this.serializeMark(d,o.isInline,n);f&&(a.push([d,r]),r.appendChild(f.dom),r=f.contentDOM||f.dom)}}r.appendChild(this.serializeNodeInner(o,n))}),s}serializeNodeInner(t,n){let{dom:s,contentDOM:r}=lv(Qk(n),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,r)}return s}serializeNode(t,n={}){let s=this.serializeNodeInner(t,n);for(let r=t.marks.length-1;r>=0;r--){let a=this.serializeMark(t.marks[r],t.isInline,n);a&&((a.contentDOM||a.dom).appendChild(s),s=a.dom)}return s}serializeMark(t,n,s={}){let r=this.marks[t.type.name];return r&&lv(Qk(s),r(t,n),null,t.attrs)}static renderSpec(t,n,s=null,r){return lv(t,n,s,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new Bu(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=fD(t.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(t){return fD(t.marks)}}function fD(e){let t={};for(let n in e){let s=e[n].spec.toDOM;s&&(t[n]=s)}return t}function Qk(e){return e.document||window.document}const mD=new WeakMap;function ZEe(e){let t=mD.get(e);return t===void 0&&mD.set(e,t=WEe(e)),t}function WEe(e){let t=null;function n(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")t||(t=[]),t.push(s);else for(let r=0;r<s.length;r++)n(s[r]);else for(let r in s)n(s[r])}return n(e),t}function lv(e,t,n,s){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],a;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(a=ZEe(s))&&a.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));let l,u=n?e.createElementNS(n,r):e.createElement(r),d=t[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let m in d)if(d[m]!=null){let g=m.indexOf(" ");g>0?u.setAttributeNS(m.slice(0,g),m.slice(g+1),d[m]):m=="style"&&u.style?u.style.cssText=d[m]:u.setAttribute(m,d[m])}}for(let m=f;m<t.length;m++){let g=t[m];if(g===0){if(m<t.length-1||m>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:x,contentDOM:b}=lv(e,g,n,s);if(u.appendChild(x),b){if(l)throw new RangeError("Multiple content holes");l=b}}}return{dom:u,contentDOM:l}}const SU=65535,_U=Math.pow(2,16);function KEe(e,t){return e+t*_U}function pD(e){return e&SU}function GEe(e){return(e-(e&SU))/_U}const CU=1,EU=2,cv=4,TU=8;class mS{constructor(t,n,s){this.pos=t,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&TU)>0}get deletedBefore(){return(this.delInfo&(CU|cv))>0}get deletedAfter(){return(this.delInfo&(EU|cv))>0}get deletedAcross(){return(this.delInfo&cv)>0}}class ri{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&ri.empty)return ri.empty}recover(t){let n=0,s=pD(t);if(!this.inverted)for(let r=0;r<s;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[s*3]+n+GEe(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,s){let r=0,a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?r:0);if(u>t)break;let d=this.ranges[l+a],f=this.ranges[l+o],m=u+d;if(t<=m){let g=d?t==u?-1:t==m?1:n:n,x=u+r+(g<0?0:f);if(s)return x;let b=t==(n<0?u:m)?null:KEe(l/3,t-u),w=t==u?EU:t==m?CU:cv;return(n<0?t!=u:t!=m)&&(w|=TU),new mS(x,w,b)}r+=f-d}return s?t+r:new mS(t+r,0,null)}touches(t,n){let s=0,r=pD(n),a=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let u=this.ranges[l]-(this.inverted?s:0);if(u>t)break;let d=this.ranges[l+a],f=u+d;if(t<=f&&l==r*3)return!0;s+=this.ranges[l+o]-d}return!1}forEach(t){let n=this.inverted?2:1,s=this.inverted?1:2;for(let r=0,a=0;r<this.ranges.length;r+=3){let o=this.ranges[r],l=o-(this.inverted?a:0),u=o+(this.inverted?0:a),d=this.ranges[r+n],f=this.ranges[r+s];t(l,l+d,u,u+f),a+=f-d}}invert(){return new ri(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?ri.empty:new ri(t<0?[0,-t,0]:[0,0,t])}}ri.empty=new ri([]);class Pp{constructor(t,n,s=0,r=t?t.length:0){this.mirror=n,this.from=s,this.to=r,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new Pp(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,s=this._maps.length;n<t._maps.length;n++){let r=t.getMirror(n);this.appendMap(t._maps[n],r!=null&&r<n?s+r:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,s=this._maps.length+t._maps.length;n>=0;n--){let r=t.getMirror(n);this.appendMap(t._maps[n].invert(),r!=null&&r>n?s-r-1:void 0)}}invert(){let t=new Pp;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let s=this.from;s<this.to;s++)t=this._maps[s].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,s){let r=0;for(let a=this.from;a<this.to;a++){let o=this._maps[a],l=o.mapResult(t,n);if(l.recover!=null){let u=this.getMirror(a);if(u!=null&&u>a&&u<this.to){a=u,t=this._maps[u].recover(l.recover);continue}}r|=l.delInfo,t=l.pos}return s?t:new mS(t,r,null)}}const eN=Object.create(null);class mr{getMap(){return ri.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=eN[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(t,n)}static jsonID(t,n){if(t in eN)throw new RangeError("Duplicate use of step JSON ID "+t);return eN[t]=n,n.prototype.jsonID=t,n}}class ys{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new ys(t,null)}static fail(t){return new ys(null,t)}static fromReplace(t,n,s,r){try{return ys.ok(t.replace(n,s,r))}catch(a){if(a instanceof ly)return ys.fail(a.message);throw a}}}function RE(e,t,n){let s=[];for(let r=0;r<e.childCount;r++){let a=e.child(r);a.content.size&&(a=a.copy(RE(a.content,t,a))),a.isInline&&(a=t(a,n,r)),s.push(a)}return De.fromArray(s)}class Ll extends mr{constructor(t,n,s){super(),this.from=t,this.to=n,this.mark=s}apply(t){let n=t.slice(this.from,this.to),s=t.resolve(this.from),r=s.node(s.sharedDepth(this.to)),a=new Ke(RE(n.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),r),n.openStart,n.openEnd);return ys.fromReplace(t,this.from,this.to,a)}invert(){return new ia(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),s=t.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new Ll(n.pos,s.pos,this.mark)}merge(t){return t instanceof Ll&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Ll(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ll(n.from,n.to,t.markFromJSON(n.mark))}}mr.jsonID("addMark",Ll);class ia extends mr{constructor(t,n,s){super(),this.from=t,this.to=n,this.mark=s}apply(t){let n=t.slice(this.from,this.to),s=new Ke(RE(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),n.openStart,n.openEnd);return ys.fromReplace(t,this.from,this.to,s)}invert(){return new Ll(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),s=t.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new ia(n.pos,s.pos,this.mark)}merge(t){return t instanceof ia&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ia(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ia(n.from,n.to,t.markFromJSON(n.mark))}}mr.jsonID("removeMark",ia);class $l extends mr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ys.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ys.fromReplace(t,this.pos,this.pos+1,new Ke(De.from(s),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(s))return new $l(this.pos,n.marks[r]);return new $l(this.pos,this.mark)}}return new zu(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new $l(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new $l(n.pos,t.markFromJSON(n.mark))}}mr.jsonID("addNodeMark",$l);class zu extends mr{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return ys.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ys.fromReplace(t,this.pos,this.pos+1,new Ke(De.from(s),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new $l(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new zu(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new zu(n.pos,t.markFromJSON(n.mark))}}mr.jsonID("removeNodeMark",zu);class $s extends mr{constructor(t,n,s,r=!1){super(),this.from=t,this.to=n,this.slice=s,this.structure=r}apply(t){return this.structure&&pS(t,this.from,this.to)?ys.fail("Structure replace would overwrite content"):ys.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new ri([this.from,this.to-this.from,this.slice.size])}invert(t){return new $s(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),s=t.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new $s(n.pos,Math.max(n.pos,s.pos),this.slice,this.structure)}merge(t){if(!(t instanceof $s)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?Ke.empty:new Ke(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new $s(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?Ke.empty:new Ke(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new $s(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new $s(n.from,n.to,Ke.fromJSON(t,n.slice),!!n.structure)}}mr.jsonID("replace",$s);class Fs extends mr{constructor(t,n,s,r,a,o,l=!1){super(),this.from=t,this.to=n,this.gapFrom=s,this.gapTo=r,this.slice=a,this.insert=o,this.structure=l}apply(t){if(this.structure&&(pS(t,this.from,this.gapFrom)||pS(t,this.gapTo,this.to)))return ys.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ys.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?ys.fromReplace(t,this.from,this.to,s):ys.fail("Content does not fit in gap")}getMap(){return new ri([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Fs(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),s=t.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),a=this.to==this.gapTo?s.pos:t.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||r<n.pos||a>s.pos?null:new Fs(n.pos,s.pos,r,a,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Fs(n.from,n.to,n.gapFrom,n.gapTo,Ke.fromJSON(t,n.slice),n.insert,!!n.structure)}}mr.jsonID("replaceAround",Fs);function pS(e,t,n){let s=e.resolve(t),r=n-t,a=s.depth;for(;r>0&&a>0&&s.indexAfter(a)==s.node(a).childCount;)a--,r--;if(r>0){let o=s.node(a).maybeChild(s.indexAfter(a));for(;r>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,r--}}return!1}function YEe(e,t,n,s){let r=[],a=[],o,l;e.doc.nodesBetween(t,n,(u,d,f)=>{if(!u.isInline)return;let m=u.marks;if(!s.isInSet(m)&&f.type.allowsMarkType(s.type)){let g=Math.max(d,t),x=Math.min(d+u.nodeSize,n),b=s.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(b)||(o&&o.to==g&&o.mark.eq(m[w])?o.to=x:r.push(o=new ia(g,x,m[w])));l&&l.to==g?l.to=x:a.push(l=new Ll(g,x,s))}}),r.forEach(u=>e.step(u)),a.forEach(u=>e.step(u))}function JEe(e,t,n,s){let r=[],a=0;e.doc.nodesBetween(t,n,(o,l)=>{if(!o.isInline)return;a++;let u=null;if(s instanceof o1){let d=o.marks,f;for(;f=s.isInSet(d);)(u||(u=[])).push(f),d=f.removeFromSet(d)}else s?s.isInSet(o.marks)&&(u=[s]):u=o.marks;if(u&&u.length){let d=Math.min(l+o.nodeSize,n);for(let f=0;f<u.length;f++){let m=u[f],g;for(let x=0;x<r.length;x++){let b=r[x];b.step==a-1&&m.eq(r[x].style)&&(g=b)}g?(g.to=d,g.step=a):r.push({style:m,from:Math.max(l,t),to:d,step:a})}}}),r.forEach(o=>e.step(new ia(o.from,o.to,o.style)))}function OE(e,t,n,s=n.contentMatch,r=!0){let a=e.doc.nodeAt(t),o=[],l=t+1;for(let u=0;u<a.childCount;u++){let d=a.child(u),f=l+d.nodeSize,m=s.matchType(d.type);if(!m)o.push(new $s(l,f,Ke.empty));else{s=m;for(let g=0;g<d.marks.length;g++)n.allowsMarkType(d.marks[g].type)||e.step(new ia(l,f,d.marks[g]));if(r&&d.isText&&n.whitespace!="pre"){let g,x=/\r?\n|\r/g,b;for(;g=x.exec(d.text);)b||(b=new Ke(De.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),o.push(new $s(l+g.index,l+g.index+g[0].length,b))}}l=f}if(!s.validEnd){let u=s.fillBefore(De.empty,!0);e.replace(l,l,new Ke(u,0,0))}for(let u=o.length-1;u>=0;u--)e.step(o[u])}function XEe(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function cf(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let s=e.depth,r=0,a=0;;--s){let o=e.$from.node(s),l=e.$from.index(s)+r,u=e.$to.indexAfter(s)-a;if(s<e.depth&&o.canReplace(l,u,n))return s;if(s==0||o.type.spec.isolating||!XEe(o,l,u))break;l&&(r=1),u<o.childCount&&(a=1)}return null}function QEe(e,t,n){let{$from:s,$to:r,depth:a}=t,o=s.before(a+1),l=r.after(a+1),u=o,d=l,f=De.empty,m=0;for(let b=a,w=!1;b>n;b--)w||s.index(b)>0?(w=!0,f=De.from(s.node(b).copy(f)),m++):u--;let g=De.empty,x=0;for(let b=a,w=!1;b>n;b--)w||r.after(b+1)<r.end(b)?(w=!0,g=De.from(r.node(b).copy(g)),x++):d++;e.step(new Fs(u,d,o,l,new Ke(f.append(g),m,x),f.size-m,!0))}function DE(e,t,n=null,s=e){let r=eTe(e,t),a=r&&tTe(s,t);return a?r.map(gD).concat({type:t,attrs:n}).concat(a.map(gD)):null}function gD(e){return{type:e,attrs:null}}function eTe(e,t){let{parent:n,startIndex:s,endIndex:r}=e,a=n.contentMatchAt(s).findWrapping(t);if(!a)return null;let o=a.length?a[0]:t;return n.canReplaceWith(s,r,o)?a:null}function tTe(e,t){let{parent:n,startIndex:s,endIndex:r}=e,a=n.child(s),o=t.contentMatch.findWrapping(a.type);if(!o)return null;let u=(o.length?o[o.length-1]:t).contentMatch;for(let d=s;u&&d<r;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:o}function nTe(e,t,n){let s=De.empty;for(let o=n.length-1;o>=0;o--){if(s.size){let l=n[o].type.contentMatch.matchFragment(s);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=De.from(n[o].type.create(n[o].attrs,s))}let r=t.start,a=t.end;e.step(new Fs(r,a,r,a,new Ke(s,0,0),n.length,!0))}function sTe(e,t,n,s,r){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let a=e.steps.length;e.doc.nodesBetween(t,n,(o,l)=>{let u=typeof r=="function"?r(o):r;if(o.isTextblock&&!o.hasMarkup(s,u)&&rTe(e.doc,e.mapping.slice(a).map(l),s)){let d=null;if(s.schema.linebreakReplacement){let x=s.whitespace=="pre",b=!!s.contentMatch.matchType(s.schema.linebreakReplacement);x&&!b?d=!1:!x&&b&&(d=!0)}d===!1&&AU(e,o,l,a),OE(e,e.mapping.slice(a).map(l,1),s,void 0,d===null);let f=e.mapping.slice(a),m=f.map(l,1),g=f.map(l+o.nodeSize,1);return e.step(new Fs(m,g,m+1,g-1,new Ke(De.from(s.create(u,null,o.marks)),0,0),1,!0)),d===!0&&zU(e,o,l,a),!1}})}function zU(e,t,n,s){t.forEach((r,a)=>{if(r.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(r.text);){let u=e.mapping.slice(s).map(n+1+a+o.index);e.replaceWith(u,u+1,t.type.schema.linebreakReplacement.create())}}})}function AU(e,t,n,s){t.forEach((r,a)=>{if(r.type==r.type.schema.linebreakReplacement){let o=e.mapping.slice(s).map(n+1+a);e.replaceWith(o,o+1,t.type.schema.text(`
`))}})}function rTe(e,t,n){let s=e.resolve(t),r=s.index();return s.parent.canReplaceWith(r,r+1,n)}function iTe(e,t,n,s,r){let a=e.doc.nodeAt(t);if(!a)throw new RangeError("No node at given position");n||(n=a.type);let o=n.create(s,null,r||a.marks);if(a.isLeaf)return e.replaceWith(t,t+a.nodeSize,o);if(!n.validContent(a.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Fs(t,t+a.nodeSize,t+1,t+a.nodeSize-1,new Ke(De.from(o),0,0),1,!0))}function Do(e,t,n=1,s){let r=e.resolve(t),a=r.depth-n,o=s&&s[s.length-1]||r.parent;if(a<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!o.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let d=r.depth-1,f=n-2;d>a;d--,f--){let m=r.node(d),g=r.index(d);if(m.type.spec.isolating)return!1;let x=m.content.cutByIndex(g,m.childCount),b=s&&s[f+1];b&&(x=x.replaceChild(0,b.type.create(b.attrs)));let w=s&&s[f]||m;if(!m.canReplace(g+1,m.childCount)||!w.type.validContent(x))return!1}let l=r.indexAfter(a),u=s&&s[0];return r.node(a).canReplaceWith(l,l,u?u.type:r.node(a+1).type)}function aTe(e,t,n=1,s){let r=e.doc.resolve(t),a=De.empty,o=De.empty;for(let l=r.depth,u=r.depth-n,d=n-1;l>u;l--,d--){a=De.from(r.node(l).copy(a));let f=s&&s[d];o=De.from(f?f.type.create(f.attrs,o):r.node(l).copy(o))}e.step(new $s(t,t,new Ke(a.append(o),n,n),!0))}function mc(e,t){let n=e.resolve(t),s=n.index();return MU(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function oTe(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:s}=e.type.schema;for(let r=0;r<t.childCount;r++){let a=t.child(r),o=a.type==s?e.type.schema.nodes.text:a.type;if(n=n.matchType(o),!n||!e.type.allowsMarks(a.marks))return!1}return n.validEnd}function MU(e,t){return!!(e&&t&&!e.isLeaf&&oTe(e,t))}function l1(e,t,n=-1){let s=e.resolve(t);for(let r=s.depth;;r--){let a,o,l=s.index(r);if(r==s.depth?(a=s.nodeBefore,o=s.nodeAfter):n>0?(a=s.node(r+1),l++,o=s.node(r).maybeChild(l)):(a=s.node(r).maybeChild(l-1),o=s.node(r+1)),a&&!a.isTextblock&&MU(a,o)&&s.node(r).canReplace(l,l+1))return t;if(r==0)break;t=n<0?s.before(r):s.after(r)}}function lTe(e,t,n){let s=null,{linebreakReplacement:r}=e.doc.type.schema,a=e.doc.resolve(t-n),o=a.node().type;if(r&&o.inlineContent){let f=o.whitespace=="pre",m=!!o.contentMatch.matchType(r);f&&!m?s=!1:!f&&m&&(s=!0)}let l=e.steps.length;if(s===!1){let f=e.doc.resolve(t+n);AU(e,f.node(),f.before(),l)}o.inlineContent&&OE(e,t+n-1,o,a.node().contentMatchAt(a.index()),s==null);let u=e.mapping.slice(l),d=u.map(t-n);if(e.step(new $s(d,u.map(t+n,-1),Ke.empty,!0)),s===!0){let f=e.doc.resolve(d);zU(e,f.node(),f.before(),e.steps.length)}return e}function cTe(e,t,n){let s=e.resolve(t);if(s.parent.canReplaceWith(s.index(),s.index(),n))return t;if(s.parentOffset==0)for(let r=s.depth-1;r>=0;r--){let a=s.index(r);if(s.node(r).canReplaceWith(a,a,n))return s.before(r+1);if(a>0)return null}if(s.parentOffset==s.parent.content.size)for(let r=s.depth-1;r>=0;r--){let a=s.indexAfter(r);if(s.node(r).canReplaceWith(a,a,n))return s.after(r+1);if(a<s.node(r).childCount)return null}return null}function RU(e,t,n){let s=e.resolve(t);if(!n.content.size)return t;let r=n.content;for(let a=0;a<n.openStart;a++)r=r.firstChild.content;for(let a=1;a<=(n.openStart==0&&n.size?2:1);a++)for(let o=s.depth;o>=0;o--){let l=o==s.depth?0:s.pos<=(s.start(o+1)+s.end(o+1))/2?-1:1,u=s.index(o)+(l>0?1:0),d=s.node(o),f=!1;if(a==1)f=d.canReplace(u,u,r);else{let m=d.contentMatchAt(u).findWrapping(r.firstChild.type);f=m&&d.canReplaceWith(u,u,m[0])}if(f)return l==0?s.pos:l<0?s.before(o+1):s.after(o+1)}return null}function c1(e,t,n=t,s=Ke.empty){if(t==n&&!s.size)return null;let r=e.resolve(t),a=e.resolve(n);return OU(r,a,s)?new $s(t,n,s):new uTe(r,a,s).fit()}function OU(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class uTe{constructor(t,n,s){this.$from=t,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=De.empty;for(let r=0;r<=t.depth;r++){let a=t.node(r);this.frontier.push({type:a.type,match:a.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=De.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,r=this.close(t<0?this.$to:s.doc.resolve(t));if(!r)return null;let a=this.placed,o=s.depth,l=r.depth;for(;o&&l&&a.childCount==1;)a=a.firstChild.content,o--,l--;let u=new Ke(a,o,l);return t>-1?new Fs(s.pos,t,this.$to.pos,this.$to.end(),u,n):u.size||s.pos!=this.$to.pos?new $s(s.pos,r.pos,u):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,r=this.unplaced.openEnd;s<t;s++){let a=n.firstChild;if(n.childCount>1&&(r=0),a.type.spec.isolating&&r<=s){t=s;break}n=a.content}for(let n=1;n<=2;n++)for(let s=n==1?t:this.unplaced.openStart;s>=0;s--){let r,a=null;s?(a=tN(this.unplaced.content,s-1).firstChild,r=a.content):r=this.unplaced.content;let o=r.firstChild;for(let l=this.depth;l>=0;l--){let{type:u,match:d}=this.frontier[l],f,m=null;if(n==1&&(o?d.matchType(o.type)||(m=d.fillBefore(De.from(o),!1)):a&&u.compatibleContent(a.type)))return{sliceDepth:s,frontierDepth:l,parent:a,inject:m};if(n==2&&o&&(f=d.findWrapping(o.type)))return{sliceDepth:s,frontierDepth:l,parent:a,wrap:f};if(a&&d.matchType(a.type))break}}}openMore(){let{content:t,openStart:n,openEnd:s}=this.unplaced,r=tN(t,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new Ke(t,n+1,Math.max(s,r.size+n>=t.size-s?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:s}=this.unplaced,r=tN(t,n);if(r.childCount<=1&&n>0){let a=t.size-n<=n+r.size;this.unplaced=new Ke(Mm(t,n-1,1),n-1,a?n-1:s)}else this.unplaced=new Ke(Mm(t,n,1),n,s)}placeNodes({sliceDepth:t,frontierDepth:n,parent:s,inject:r,wrap:a}){for(;this.depth>n;)this.closeFrontierNode();if(a)for(let w=0;w<a.length;w++)this.openFrontierNode(a[w]);let o=this.unplaced,l=s?s.content:o.content,u=o.openStart-t,d=0,f=[],{match:m,type:g}=this.frontier[n];if(r){for(let w=0;w<r.childCount;w++)f.push(r.child(w));m=m.matchFragment(r)}let x=l.size+t-(o.content.size-o.openEnd);for(;d<l.childCount;){let w=l.child(d),j=m.matchType(w.type);if(!j)break;d++,(d>1||u==0||w.content.size)&&(m=j,f.push(DU(w.mark(g.allowedMarks(w.marks)),d==1?u:0,d==l.childCount?x:-1)))}let b=d==l.childCount;b||(x=-1),this.placed=Rm(this.placed,n,De.from(f)),this.frontier[n].match=m,b&&x<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,j=l;w<x;w++){let k=j.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),j=k.content}this.unplaced=b?t==0?Ke.empty:new Ke(Mm(o.content,t-1,1),t-1,x<0?o.openEnd:t-1):new Ke(Mm(o.content,t,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!nN(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,r=this.$to.after(s);for(;s>1&&r==this.$to.end(--s);)++r;return r}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:s,type:r}=this.frontier[n],a=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),o=nN(t,n,r,s,a);if(o){for(let l=n-1;l>=0;l--){let{match:u,type:d}=this.frontier[l],f=nN(t,l,d,u,!0);if(!f||f.childCount)continue e}return{depth:n,fit:o,move:a?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Rm(this.placed,n.depth,n.fit)),t=n.move;for(let s=n.depth+1;s<=t.depth;s++){let r=t.node(s),a=r.type.contentMatch.fillBefore(r.content,!0,t.index(s));this.openFrontierNode(r.type,r.attrs,a)}return t}openFrontierNode(t,n=null,s){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=Rm(this.placed,this.depth,De.from(t.create(n,s))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(De.empty,!0);n.childCount&&(this.placed=Rm(this.placed,this.frontier.length,n))}}function Mm(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(Mm(e.firstChild.content,t-1,n)))}function Rm(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(Rm(e.lastChild.content,t-1,n)))}function tN(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function DU(e,t,n){if(t<=0)return e;let s=e.content;return t>1&&(s=s.replaceChild(0,DU(s.firstChild,t-1,s.childCount==1?n-1:0))),t>0&&(s=e.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(e.type.contentMatch.matchFragment(s).fillBefore(De.empty,!0)))),e.copy(s)}function nN(e,t,n,s,r){let a=e.node(t),o=r?e.indexAfter(t):e.index(t);if(o==a.childCount&&!n.compatibleContent(a.type))return null;let l=s.fillBefore(a.content,!0,o);return l&&!dTe(n,a.content,o)?l:null}function dTe(e,t,n){for(let s=n;s<t.childCount;s++)if(!e.allowsMarks(t.child(s).marks))return!0;return!1}function hTe(e){return e.spec.defining||e.spec.definingForContent}function fTe(e,t,n,s){if(!s.size)return e.deleteRange(t,n);let r=e.doc.resolve(t),a=e.doc.resolve(n);if(OU(r,a,s))return e.step(new $s(t,n,s));let o=IU(r,a);o[o.length-1]==0&&o.pop();let l=-(r.depth+1);o.unshift(l);for(let g=r.depth,x=r.pos-1;g>0;g--,x--){let b=r.node(g).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;o.indexOf(g)>-1?l=g:r.before(g)==x&&o.splice(1,0,-g)}let u=o.indexOf(l),d=[],f=s.openStart;for(let g=s.content,x=0;;x++){let b=g.firstChild;if(d.push(b),x==s.openStart)break;g=b.content}for(let g=f-1;g>=0;g--){let x=d[g],b=hTe(x.type);if(b&&!x.sameMarkup(r.node(Math.abs(l)-1)))f=g;else if(b||!x.type.isTextblock)break}for(let g=s.openStart;g>=0;g--){let x=(g+f+1)%(s.openStart+1),b=d[x];if(b)for(let w=0;w<o.length;w++){let j=o[(w+u)%o.length],k=!0;j<0&&(k=!1,j=-j);let S=r.node(j-1),C=r.index(j-1);if(S.canReplaceWith(C,C,b.type,b.marks))return e.replace(r.before(j),k?a.after(j):n,new Ke(PU(s.content,0,s.openStart,x),x,s.openEnd))}}let m=e.steps.length;for(let g=o.length-1;g>=0&&(e.replace(t,n,s),!(e.steps.length>m));g--){let x=o[g];x<0||(t=r.before(x),n=a.after(x))}}function PU(e,t,n,s,r){if(t<n){let a=e.firstChild;e=e.replaceChild(0,a.copy(PU(a.content,t+1,n,s,a)))}if(t>s){let a=r.contentMatchAt(0),o=a.fillBefore(e).append(e);e=o.append(a.matchFragment(o).fillBefore(De.empty,!0))}return e}function mTe(e,t,n,s){if(!s.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=cTe(e.doc,t,s.type);r!=null&&(t=n=r)}e.replaceRange(t,n,new Ke(De.from(s),0,0))}function pTe(e,t,n){let s=e.doc.resolve(t),r=e.doc.resolve(n),a=IU(s,r);for(let o=0;o<a.length;o++){let l=a[o],u=o==a.length-1;if(u&&l==0||s.node(l).type.contentMatch.validEnd)return e.delete(s.start(l),r.end(l));if(l>0&&(u||s.node(l-1).canReplace(s.index(l-1),r.indexAfter(l-1))))return e.delete(s.before(l),r.after(l))}for(let o=1;o<=s.depth&&o<=r.depth;o++)if(t-s.start(o)==s.depth-o&&n>s.end(o)&&r.end(o)-n!=r.depth-o&&s.start(o-1)==r.start(o-1)&&s.node(o-1).canReplace(s.index(o-1),r.index(o-1)))return e.delete(s.before(o),n);e.delete(t,n)}function IU(e,t){let n=[],s=Math.min(e.depth,t.depth);for(let r=s;r>=0;r--){let a=e.start(r);if(a<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(a==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==a-1)&&n.push(r)}return n}class jh extends mr{constructor(t,n,s){super(),this.pos=t,this.attr=n,this.value=s}apply(t){let n=t.nodeAt(this.pos);if(!n)return ys.fail("No node at attribute step's position");let s=Object.create(null);for(let a in n.attrs)s[a]=n.attrs[a];s[this.attr]=this.value;let r=n.type.create(s,null,n.marks);return ys.fromReplace(t,this.pos,this.pos+1,new Ke(De.from(r),0,n.isLeaf?0:1))}getMap(){return ri.empty}invert(t){return new jh(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new jh(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new jh(n.pos,n.attr,n.value)}}mr.jsonID("attr",jh);class Ip extends mr{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;let s=t.type.create(n,t.content,t.marks);return ys.ok(s)}getMap(){return ri.empty}invert(t){return new Ip(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Ip(n.attr,n.value)}}mr.jsonID("docAttr",Ip);let Dh=class extends Error{};Dh=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};Dh.prototype=Object.create(Error.prototype);Dh.prototype.constructor=Dh;Dh.prototype.name="TransformError";class LU{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new Pp}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new Dh(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}changedRange(){let t=1e9,n=-1e9;for(let s=0;s<this.mapping.maps.length;s++){let r=this.mapping.maps[s];s&&(t=r.map(t,1),n=r.map(n,-1)),r.forEach((a,o,l,u)=>{t=Math.min(t,l),n=Math.max(n,u)})}return t==1e9?null:{from:t,to:n}}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,s=Ke.empty){let r=c1(this.doc,t,n,s);return r&&this.step(r),this}replaceWith(t,n,s){return this.replace(t,n,new Ke(De.from(s),0,0))}delete(t,n){return this.replace(t,n,Ke.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,s){return fTe(this,t,n,s),this}replaceRangeWith(t,n,s){return mTe(this,t,n,s),this}deleteRange(t,n){return pTe(this,t,n),this}lift(t,n){return QEe(this,t,n),this}join(t,n=1){return lTe(this,t,n),this}wrap(t,n){return nTe(this,t,n),this}setBlockType(t,n=t,s,r=null){return sTe(this,t,n,s,r),this}setNodeMarkup(t,n,s=null,r){return iTe(this,t,n,s,r),this}setNodeAttribute(t,n,s){return this.step(new jh(t,n,s)),this}setDocAttribute(t,n){return this.step(new Ip(t,n)),this}addNodeMark(t,n){return this.step(new $l(t,n)),this}removeNodeMark(t,n){let s=this.doc.nodeAt(t);if(!s)throw new RangeError("No node at position "+t);if(n instanceof _n)n.isInSet(s.marks)&&this.step(new zu(t,n));else{let r=s.marks,a,o=[];for(;a=n.isInSet(r);)o.push(new zu(t,a)),r=a.removeFromSet(r);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(t,n=1,s){return aTe(this,t,n,s),this}addMark(t,n,s){return YEe(this,t,n,s),this}removeMark(t,n,s){return JEe(this,t,n,s),this}clearIncompatible(t,n,s){return OE(this,t,n,s),this}}const sN=Object.create(null);class Lt{constructor(t,n,s){this.$anchor=t,this.$head=n,this.ranges=s||[new gTe(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=Ke.empty){let s=n.content.lastChild,r=null;for(let l=0;l<n.openEnd;l++)r=s,s=s.lastChild;let a=t.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:u,$to:d}=o[l],f=t.mapping.slice(a);t.replaceRange(f.map(u.pos),f.map(d.pos),l?Ke.empty:n),l==0&&yD(t,a,(s?s.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,n){let s=t.steps.length,r=this.ranges;for(let a=0;a<r.length;a++){let{$from:o,$to:l}=r[a],u=t.mapping.slice(s),d=u.map(o.pos),f=u.map(l.pos);a?t.deleteRange(d,f):(t.replaceRangeWith(d,f,n),yD(t,s,n.isInline?-1:1))}}static findFrom(t,n,s=!1){let r=t.parent.inlineContent?new _t(t):Jd(t.node(0),t.parent,t.pos,t.index(),n,s);if(r)return r;for(let a=t.depth-1;a>=0;a--){let o=n<0?Jd(t.node(0),t.node(a),t.before(a+1),t.index(a),n,s):Jd(t.node(0),t.node(a),t.after(a+1),t.index(a)+1,n,s);if(o)return o}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new li(t.node(0))}static atStart(t){return Jd(t,t,0,0,1)||new li(t)}static atEnd(t){return Jd(t,t,t.content.size,t.childCount,-1)||new li(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=sN[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(t,n)}static jsonID(t,n){if(t in sN)throw new RangeError("Duplicate use of selection JSON ID "+t);return sN[t]=n,n.prototype.jsonID=t,n}getBookmark(){return _t.between(this.$anchor,this.$head).getBookmark()}}Lt.prototype.visible=!0;class gTe{constructor(t,n){this.$from=t,this.$to=n}}let xD=!1;function vD(e){!xD&&!e.parent.inlineContent&&(xD=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class _t extends Lt{constructor(t,n=t){vD(t),vD(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let s=t.resolve(n.map(this.head));if(!s.parent.inlineContent)return Lt.near(s);let r=t.resolve(n.map(this.anchor));return new _t(r.parent.inlineContent?r:s,s)}replace(t,n=Ke.empty){if(super.replace(t,n),n==Ke.empty){let s=this.$from.marksAcross(this.$to);s&&t.ensureMarks(s)}}eq(t){return t instanceof _t&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new u1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new _t(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,s=n){let r=t.resolve(n);return new this(r,s==n?r:t.resolve(s))}static between(t,n,s){let r=t.pos-n.pos;if((!s||r)&&(s=r>=0?1:-1),!n.parent.inlineContent){let a=Lt.findFrom(n,s,!0)||Lt.findFrom(n,-s,!0);if(a)n=a.$head;else return Lt.near(n,s)}return t.parent.inlineContent||(r==0?t=n:(t=(Lt.findFrom(t,-s,!0)||Lt.findFrom(t,s,!0)).$anchor,t.pos<n.pos!=r<0&&(t=n))),new _t(t,n)}}Lt.jsonID("text",_t);class u1{constructor(t,n){this.anchor=t,this.head=n}map(t){return new u1(t.map(this.anchor),t.map(this.head))}resolve(t){return _t.between(t.resolve(this.anchor),t.resolve(this.head))}}class pt extends Lt{constructor(t){let n=t.nodeAfter,s=t.node(0).resolve(t.pos+n.nodeSize);super(t,s),this.node=n}map(t,n){let{deleted:s,pos:r}=n.mapResult(this.anchor),a=t.resolve(r);return s?Lt.near(a):new pt(a)}content(){return new Ke(De.from(this.node),0,0)}eq(t){return t instanceof pt&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new PE(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new pt(t.resolve(n.anchor))}static create(t,n){return new pt(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}pt.prototype.visible=!1;Lt.jsonID("node",pt);class PE{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:s}=t.mapResult(this.anchor);return n?new u1(s,s):new PE(s)}resolve(t){let n=t.resolve(this.anchor),s=n.nodeAfter;return s&&pt.isSelectable(s)?new pt(n):Lt.near(n)}}class li extends Lt{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=Ke.empty){if(n==Ke.empty){t.delete(0,t.doc.content.size);let s=Lt.atStart(t.doc);s.eq(t.selection)||t.setSelection(s)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new li(t)}map(t){return new li(t)}eq(t){return t instanceof li}getBookmark(){return xTe}}Lt.jsonID("all",li);const xTe={map(){return this},resolve(e){return new li(e)}};function Jd(e,t,n,s,r,a=!1){if(t.inlineContent)return _t.create(e,n);for(let o=s-(r>0?0:1);r>0?o<t.childCount:o>=0;o+=r){let l=t.child(o);if(l.isAtom){if(!a&&pt.isSelectable(l))return pt.create(e,n-(r<0?l.nodeSize:0))}else{let u=Jd(e,l,n+r,r<0?l.childCount:0,r,a);if(u)return u}n+=l.nodeSize*r}return null}function yD(e,t,n){let s=e.steps.length-1;if(s<t)return;let r=e.steps[s];if(!(r instanceof $s||r instanceof Fs))return;let a=e.mapping.maps[s],o;a.forEach((l,u,d,f)=>{o==null&&(o=f)}),e.setSelection(Lt.near(e.doc.resolve(o),n))}const bD=1,M0=2,wD=4;class vTe extends LU{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|bD)&~M0,this.storedMarks=null,this}get selectionSet(){return(this.updated&bD)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=M0,this}ensureMarks(t){return _n.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&M0)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~M0,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let s=this.selection;return n&&(t=t.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||_n.none))),s.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,s){let r=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(s==null&&(s=n),!t)return this.deleteRange(n,s);let a=this.storedMarks;if(!a){let o=this.doc.resolve(n);a=s==n?o.marks():o.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,r.text(t,a)),!this.selection.empty&&this.selection.to==n+t.length&&this.setSelection(Lt.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=wD,this}get scrolledIntoView(){return(this.updated&wD)>0}}function jD(e,t){return!t||!e?e:e.bind(t)}class Om{constructor(t,n,s){this.name=t,this.init=jD(n.init,s),this.apply=jD(n.apply,s)}}const yTe=[new Om("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new Om("selection",{init(e,t){return e.selection||Lt.atStart(t.doc)},apply(e){return e.selection}}),new Om("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,s){return s.selection.$cursor?e.storedMarks:null}}),new Om("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class rN{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=yTe.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new Om(s.key,s.spec.state,s))})}}class hh{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let r=this.config.plugins[s];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],s=this.applyInner(t),r=null;for(;;){let a=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let u=r?r[o].n:0,d=r?r[o].state:this,f=u<n.length&&l.spec.appendTransaction.call(l,u?n.slice(u):n,d,s);if(f&&s.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",t),!r){r=[];for(let m=0;m<this.config.plugins.length;m++)r.push(m<o?{state:s,n:n.length}:{state:this,n:0})}n.push(f),s=s.applyInner(f),a=!0}r&&(r[o]={state:s,n:n.length})}}if(!a)return{state:s,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new hh(this.config),s=this.config.fields;for(let r=0;r<s.length;r++){let a=s[r];n[a.name]=a.apply(t,this[a.name],this,n)}return n}get tr(){return new vTe(this)}static create(t){let n=new rN(t.doc?t.doc.type.schema:t.schema,t.plugins),s=new hh(n);for(let r=0;r<n.fields.length;r++)s[n.fields[r].name]=n.fields[r].init(t,s);return s}reconfigure(t){let n=new rN(this.schema,t.plugins),s=n.fields,r=new hh(n);for(let a=0;a<s.length;a++){let o=s[a].name;r[o]=this.hasOwnProperty(o)?this[o]:s[a].init(t,r)}return r}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),t&&typeof t=="object")for(let s in t){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[s],a=r.spec.state;a&&a.toJSON&&(n[s]=a.toJSON.call(r,this[r.key]))}return n}static fromJSON(t,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new rN(t.schema,t.plugins),a=new hh(r);return r.fields.forEach(o=>{if(o.name=="doc")a.doc=Zl.fromJSON(t.schema,n.doc);else if(o.name=="selection")a.selection=Lt.fromJSON(a.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(a.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(s)for(let l in s){let u=s[l],d=u.spec.state;if(u.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(n,l)){a[o.name]=d.fromJSON.call(u,t,n[l],a);return}}a[o.name]=o.init(t,a)}}),a}}function $U(e,t,n){for(let s in e){let r=e[s];r instanceof Function?r=r.bind(t):s=="handleDOMEvents"&&(r=$U(r,t,{})),n[s]=r}return n}class Zn{constructor(t){this.spec=t,this.props={},t.props&&$U(t.props,this,this.props),this.key=t.key?t.key.key:VU("plugin")}getState(t){return t[this.key]}}const iN=Object.create(null);function VU(e){return e in iN?e+"$"+ ++iN[e]:(iN[e]=0,e+"$")}class Rs{constructor(t="key"){this.key=VU(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const IE=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function BU(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const FU=(e,t,n)=>{let s=BU(e,n);if(!s)return!1;let r=LE(s);if(!r){let o=s.blockRange(),l=o&&cf(o);return l==null?!1:(t&&t(e.tr.lift(o,l).scrollIntoView()),!0)}let a=r.nodeBefore;if(JU(e,r,t,-1))return!0;if(s.parent.content.size==0&&(Ph(a,"end")||pt.isSelectable(a)))for(let o=s.depth;;o--){let l=c1(e.doc,s.before(o),s.after(o),Ke.empty);if(l&&l.slice.size<l.to-l.from){if(t){let u=e.tr.step(l);u.setSelection(Ph(a,"end")?Lt.findFrom(u.doc.resolve(u.mapping.map(r.pos,-1)),-1):pt.create(u.doc,r.pos-a.nodeSize)),t(u.scrollIntoView())}return!0}if(o==1||s.node(o-1).childCount>1)break}return a.isAtom&&r.depth==s.depth-1?(t&&t(e.tr.delete(r.pos-a.nodeSize,r.pos).scrollIntoView()),!0):!1},bTe=(e,t,n)=>{let s=BU(e,n);if(!s)return!1;let r=LE(s);return r?UU(e,r,t):!1},wTe=(e,t,n)=>{let s=qU(e,n);if(!s)return!1;let r=$E(s);return r?UU(e,r,t):!1};function UU(e,t,n){let s=t.nodeBefore,r=s,a=t.pos-1;for(;!r.isTextblock;a--){if(r.type.spec.isolating)return!1;let f=r.lastChild;if(!f)return!1;r=f}let o=t.nodeAfter,l=o,u=t.pos+1;for(;!l.isTextblock;u++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let d=c1(e.doc,a,u,Ke.empty);if(!d||d.from!=a||d instanceof $s&&d.slice.size>=u-a)return!1;if(n){let f=e.tr.step(d);f.setSelection(_t.create(f.doc,a)),n(f.scrollIntoView())}return!0}function Ph(e,t,n=!1){for(let s=e;s;s=t=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const HU=(e,t,n)=>{let{$head:s,empty:r}=e.selection,a=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):s.parentOffset>0)return!1;a=LE(s)}let o=a&&a.nodeBefore;return!o||!pt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(pt.create(e.doc,a.pos-o.nodeSize)).scrollIntoView()),!0)};function LE(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function qU(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const ZU=(e,t,n)=>{let s=qU(e,n);if(!s)return!1;let r=$E(s);if(!r)return!1;let a=r.nodeAfter;if(JU(e,r,t,1))return!0;if(s.parent.content.size==0&&(Ph(a,"start")||pt.isSelectable(a))){let o=c1(e.doc,s.before(),s.after(),Ke.empty);if(o&&o.slice.size<o.to-o.from){if(t){let l=e.tr.step(o);l.setSelection(Ph(a,"start")?Lt.findFrom(l.doc.resolve(l.mapping.map(r.pos)),1):pt.create(l.doc,l.mapping.map(r.pos))),t(l.scrollIntoView())}return!0}}return a.isAtom&&r.depth==s.depth-1?(t&&t(e.tr.delete(r.pos,r.pos+a.nodeSize).scrollIntoView()),!0):!1},WU=(e,t,n)=>{let{$head:s,empty:r}=e.selection,a=s;if(!r)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):s.parentOffset<s.parent.content.size)return!1;a=$E(s)}let o=a&&a.nodeAfter;return!o||!pt.isSelectable(o)?!1:(t&&t(e.tr.setSelection(pt.create(e.doc,a.pos)).scrollIntoView()),!0)};function $E(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const jTe=(e,t)=>{let n=e.selection,s=n instanceof pt,r;if(s){if(n.node.isTextblock||!mc(e.doc,n.from))return!1;r=n.from}else if(r=l1(e.doc,n.from,-1),r==null)return!1;if(t){let a=e.tr.join(r);s&&a.setSelection(pt.create(a.doc,r-e.doc.resolve(r).nodeBefore.nodeSize)),t(a.scrollIntoView())}return!0},kTe=(e,t)=>{let n=e.selection,s;if(n instanceof pt){if(n.node.isTextblock||!mc(e.doc,n.to))return!1;s=n.to}else if(s=l1(e.doc,n.to,1),s==null)return!1;return t&&t(e.tr.join(s).scrollIntoView()),!0},NTe=(e,t)=>{let{$from:n,$to:s}=e.selection,r=n.blockRange(s),a=r&&cf(r);return a==null?!1:(t&&t(e.tr.lift(r,a).scrollIntoView()),!0)},KU=(e,t)=>{let{$head:n,$anchor:s}=e.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function VE(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const STe=(e,t)=>{let{$head:n,$anchor:s}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let r=n.node(-1),a=n.indexAfter(-1),o=VE(r.contentMatchAt(a));if(!o||!r.canReplaceWith(a,a,o))return!1;if(t){let l=n.after(),u=e.tr.replaceWith(l,l,o.createAndFill());u.setSelection(Lt.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0},GU=(e,t)=>{let n=e.selection,{$from:s,$to:r}=n;if(n instanceof li||s.parent.inlineContent||r.parent.inlineContent)return!1;let a=VE(r.parent.contentMatchAt(r.indexAfter()));if(!a||!a.isTextblock)return!1;if(t){let o=(!s.parentOffset&&r.index()<r.parent.childCount?s:r).pos,l=e.tr.insert(o,a.createAndFill());l.setSelection(_t.create(l.doc,o+1)),t(l.scrollIntoView())}return!0},YU=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let a=n.before();if(Do(e.doc,a))return t&&t(e.tr.split(a).scrollIntoView()),!0}let s=n.blockRange(),r=s&&cf(s);return r==null?!1:(t&&t(e.tr.lift(s,r).scrollIntoView()),!0)};function _Te(e){return(t,n)=>{let{$from:s,$to:r}=t.selection;if(t.selection instanceof pt&&t.selection.node.isBlock)return!s.parentOffset||!Do(t.doc,s.pos)?!1:(n&&n(t.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let a=[],o,l,u=!1,d=!1;for(let x=s.depth;;x--)if(s.node(x).isBlock){u=s.end(x)==s.pos+(s.depth-x),d=s.start(x)==s.pos-(s.depth-x),l=VE(s.node(x-1).contentMatchAt(s.indexAfter(x-1))),a.unshift(u&&l?{type:l}:null),o=x;break}else{if(x==1)return!1;a.unshift(null)}let f=t.tr;(t.selection instanceof _t||t.selection instanceof li)&&f.deleteSelection();let m=f.mapping.map(s.pos),g=Do(f.doc,m,a.length,a);if(g||(a[0]=l?{type:l}:null,g=Do(f.doc,m,a.length,a)),!g)return!1;if(f.split(m,a.length,a),!u&&d&&s.node(o).type!=l){let x=f.mapping.map(s.before(o)),b=f.doc.resolve(x);l&&s.node(o-1).canReplaceWith(b.index(),b.index()+1,l)&&f.setNodeMarkup(f.mapping.map(s.before(o)),l)}return n&&n(f.scrollIntoView()),!0}}const CTe=_Te(),ETe=(e,t)=>{let{$from:n,to:s}=e.selection,r,a=n.sharedDepth(s);return a==0?!1:(r=n.before(a),t&&t(e.tr.setSelection(pt.create(e.doc,r))),!0)};function TTe(e,t,n){let s=t.nodeBefore,r=t.nodeAfter,a=t.index();return!s||!r||!s.type.compatibleContent(r.type)?!1:!s.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-s.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(a,a+1)||!(r.isTextblock||mc(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function JU(e,t,n,s){let r=t.nodeBefore,a=t.nodeAfter,o,l,u=r.type.spec.isolating||a.type.spec.isolating;if(!u&&TTe(e,t,n))return!0;let d=!u&&t.parent.canReplace(t.index(),t.index()+1);if(d&&(o=(l=r.contentMatchAt(r.childCount)).findWrapping(a.type))&&l.matchType(o[0]||a.type).validEnd){if(n){let x=t.pos+a.nodeSize,b=De.empty;for(let k=o.length-1;k>=0;k--)b=De.from(o[k].create(null,b));b=De.from(r.copy(b));let w=e.tr.step(new Fs(t.pos-1,x,t.pos,x,new Ke(b,1,0),o.length,!0)),j=w.doc.resolve(x+2*o.length);j.nodeAfter&&j.nodeAfter.type==r.type&&mc(w.doc,j.pos)&&w.join(j.pos),n(w.scrollIntoView())}return!0}let f=a.type.spec.isolating||s>0&&u?null:Lt.findFrom(t,1),m=f&&f.$from.blockRange(f.$to),g=m&&cf(m);if(g!=null&&g>=t.depth)return n&&n(e.tr.lift(m,g).scrollIntoView()),!0;if(d&&Ph(a,"start",!0)&&Ph(r,"end")){let x=r,b=[];for(;b.push(x),!x.isTextblock;)x=x.lastChild;let w=a,j=1;for(;!w.isTextblock;w=w.firstChild)j++;if(x.canReplace(x.childCount,x.childCount,w.content)){if(n){let k=De.empty;for(let C=b.length-1;C>=0;C--)k=De.from(b[C].copy(k));let S=e.tr.step(new Fs(t.pos-b.length,t.pos+a.nodeSize,t.pos+j,t.pos+a.nodeSize-j,new Ke(k,b.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function XU(e){return function(t,n){let s=t.selection,r=e<0?s.$from:s.$to,a=r.depth;for(;r.node(a).isInline;){if(!a)return!1;a--}return r.node(a).isTextblock?(n&&n(t.tr.setSelection(_t.create(t.doc,e<0?r.start(a):r.end(a)))),!0):!1}}const zTe=XU(-1),ATe=XU(1);function MTe(e,t=null){return function(n,s){let{$from:r,$to:a}=n.selection,o=r.blockRange(a),l=o&&DE(o,e,t);return l?(s&&s(n.tr.wrap(o,l).scrollIntoView()),!0):!1}}function kD(e,t=null){return function(n,s){let r=!1;for(let a=0;a<n.selection.ranges.length&&!r;a++){let{$from:{pos:o},$to:{pos:l}}=n.selection.ranges[a];n.doc.nodesBetween(o,l,(u,d)=>{if(r)return!1;if(!(!u.isTextblock||u.hasMarkup(e,t)))if(u.type==e)r=!0;else{let f=n.doc.resolve(d),m=f.index();r=f.parent.canReplaceWith(m,m+1,e)}})}if(!r)return!1;if(s){let a=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[o];a.setBlockType(l,u,e,t)}s(a.scrollIntoView())}return!0}}function BE(...e){return function(t,n,s){for(let r=0;r<e.length;r++)if(e[r](t,n,s))return!0;return!1}}BE(IE,FU,HU);BE(IE,ZU,WU);BE(KU,GU,YU,CTe);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function RTe(e,t=null){return function(n,s){let{$from:r,$to:a}=n.selection,o=r.blockRange(a);if(!o)return!1;let l=s?n.tr:null;return OTe(l,o,e,t)?(s&&s(l.scrollIntoView()),!0):!1}}function OTe(e,t,n,s=null){let r=!1,a=t,o=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let u=o.resolve(t.start-2);a=new uy(u,u,t.depth),t.endIndex<t.parent.childCount&&(t=new uy(t.$from,o.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let l=DE(a,n,s,t);return l?(e&&DTe(e,t,l,r,n),!0):!1}function DTe(e,t,n,s,r){let a=De.empty;for(let f=n.length-1;f>=0;f--)a=De.from(n[f].type.create(n[f].attrs,a));e.step(new Fs(t.start-(s?2:0),t.end,t.start,t.end,new Ke(a,0,0),n.length,!0));let o=0;for(let f=0;f<n.length;f++)n[f].type==r&&(o=f+1);let l=n.length-o,u=t.start+n.length-(s?2:0),d=t.parent;for(let f=t.startIndex,m=t.endIndex,g=!0;f<m;f++,g=!1)!g&&Do(e.doc,u,l)&&(e.split(u,l),u+=2*l),u+=d.child(f).nodeSize;return e}function PTe(e){return function(t,n){let{$from:s,$to:r}=t.selection,a=s.blockRange(r,o=>o.childCount>0&&o.firstChild.type==e);return a?n?s.node(a.depth-1).type==e?ITe(t,n,e,a):LTe(t,n,a):!0:!1}}function ITe(e,t,n,s){let r=e.tr,a=s.end,o=s.$to.end(s.depth);a<o&&(r.step(new Fs(a-1,o,a,o,new Ke(De.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new uy(r.doc.resolve(s.$from.pos),r.doc.resolve(o),s.depth));const l=cf(s);if(l==null)return!1;r.lift(s,l);let u=r.doc.resolve(r.mapping.map(a,-1)-1);return mc(r.doc,u.pos)&&u.nodeBefore.type==u.nodeAfter.type&&r.join(u.pos),t(r.scrollIntoView()),!0}function LTe(e,t,n){let s=e.tr,r=n.parent;for(let x=n.end,b=n.endIndex-1,w=n.startIndex;b>w;b--)x-=r.child(b).nodeSize,s.delete(x-1,x+1);let a=s.doc.resolve(n.start),o=a.nodeAfter;if(s.mapping.map(n.end)!=n.start+a.nodeAfter.nodeSize)return!1;let l=n.startIndex==0,u=n.endIndex==r.childCount,d=a.node(-1),f=a.index(-1);if(!d.canReplace(f+(l?0:1),f+1,o.content.append(u?De.empty:De.from(r))))return!1;let m=a.pos,g=m+o.nodeSize;return s.step(new Fs(m-(l?1:0),g+(u?1:0),m+1,g-1,new Ke((l?De.empty:De.from(r.copy(De.empty))).append(u?De.empty:De.from(r.copy(De.empty))),l?0:1,u?0:1),l?0:1)),t(s.scrollIntoView()),!0}function $Te(e){return function(t,n){let{$from:s,$to:r}=t.selection,a=s.blockRange(r,d=>d.childCount>0&&d.firstChild.type==e);if(!a)return!1;let o=a.startIndex;if(o==0)return!1;let l=a.parent,u=l.child(o-1);if(u.type!=e)return!1;if(n){let d=u.lastChild&&u.lastChild.type==l.type,f=De.from(d?e.create():null),m=new Ke(De.from(e.create(null,De.from(l.type.create(null,f)))),d?3:1,0),g=a.start,x=a.end;n(t.tr.step(new Fs(g-(d?3:1),x,g,x,m,1,!0)).scrollIntoView())}return!0}}const Qs=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},Ih=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let gS=null;const Co=function(e,t,n){let s=gS||(gS=document.createRange());return s.setEnd(e,n??e.nodeValue.length),s.setStart(e,t||0),s},VTe=function(){gS=null},Au=function(e,t,n,s){return n&&(ND(e,t,n,s,-1)||ND(e,t,n,s,1))},BTe=/^(img|br|input|textarea|hr)$/i;function ND(e,t,n,s,r){for(var a;;){if(e==n&&t==s)return!0;if(t==(r<0?0:zi(e))){let o=e.parentNode;if(!o||o.nodeType!=1||Tg(e)||BTe.test(e.nodeName)||e.contentEditable=="false")return!1;t=Qs(e)+(r<0?0:1),e=o}else if(e.nodeType==1){let o=e.childNodes[t+(r<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((a=o.pmViewDesc)===null||a===void 0)&&a.ignoreForSelection)t+=r;else return!1;else e=o,t=r<0?zi(e):0}else return!1}}function zi(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function FTe(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=zi(e)}else if(e.parentNode&&!Tg(e))t=Qs(e),e=e.parentNode;else return null}}function UTe(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Tg(e))t=Qs(e)+1,e=e.parentNode;else return null}}function HTe(e,t,n){for(let s=t==0,r=t==zi(e);s||r;){if(e==n)return!0;let a=Qs(e);if(e=e.parentNode,!e)return!1;s=s&&a==0,r=r&&a==zi(e)}}function Tg(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const d1=function(e){return e.focusNode&&Au(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Xc(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function qTe(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function ZTe(e,t,n){if(e.caretPositionFromPoint)try{let s=e.caretPositionFromPoint(t,n);if(s)return{node:s.offsetNode,offset:Math.min(zi(s.offsetNode),s.offset)}}catch{}if(e.caretRangeFromPoint){let s=e.caretRangeFromPoint(t,n);if(s)return{node:s.startContainer,offset:Math.min(zi(s.startContainer),s.startOffset)}}}const Wa=typeof navigator<"u"?navigator:null,SD=typeof document<"u"?document:null,pc=Wa&&Wa.userAgent||"",xS=/Edge\/(\d+)/.exec(pc),QU=/MSIE \d/.exec(pc),vS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pc),Br=!!(QU||vS||xS),Kl=QU?document.documentMode:vS?+vS[1]:xS?+xS[1]:0,Oi=!Br&&/gecko\/(\d+)/i.test(pc);Oi&&+(/Firefox\/(\d+)/.exec(pc)||[0,0])[1];const yS=!Br&&/Chrome\/(\d+)/.exec(pc),tr=!!yS,eH=yS?+yS[1]:0,hr=!Br&&!!Wa&&/Apple Computer/.test(Wa.vendor),Lh=hr&&(/Mobile\/\w+/.test(pc)||!!Wa&&Wa.maxTouchPoints>2),Ci=Lh||(Wa?/Mac/.test(Wa.platform):!1),tH=Wa?/Win/.test(Wa.platform):!1,To=/Android \d/.test(pc),zg=!!SD&&"webkitFontSmoothing"in SD.documentElement.style,WTe=zg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function KTe(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function wo(e,t){return typeof e=="number"?e:e[t]}function GTe(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,s=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*s}}function _D(e,t,n){let s=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,a=e.dom.ownerDocument;for(let o=n||e.dom;o;){if(o.nodeType!=1){o=Ih(o);continue}let l=o,u=l==a.body,d=u?KTe(a):GTe(l),f=0,m=0;if(t.top<d.top+wo(s,"top")?m=-(d.top-t.top+wo(r,"top")):t.bottom>d.bottom-wo(s,"bottom")&&(m=t.bottom-t.top>d.bottom-d.top?t.top+wo(r,"top")-d.top:t.bottom-d.bottom+wo(r,"bottom")),t.left<d.left+wo(s,"left")?f=-(d.left-t.left+wo(r,"left")):t.right>d.right-wo(s,"right")&&(f=t.right-d.right+wo(r,"right")),f||m)if(u)a.defaultView.scrollBy(f,m);else{let x=l.scrollLeft,b=l.scrollTop;m&&(l.scrollTop+=m),f&&(l.scrollLeft+=f);let w=l.scrollLeft-x,j=l.scrollTop-b;t={left:t.left-w,top:t.top-j,right:t.right-w,bottom:t.bottom-j}}let g=u?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:Ih(o)}}function YTe(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),s,r;for(let a=(t.left+t.right)/2,o=n+1;o<Math.min(innerHeight,t.bottom);o+=5){let l=e.root.elementFromPoint(a,o);if(!l||l==e.dom||!e.dom.contains(l))continue;let u=l.getBoundingClientRect();if(u.top>=n-20){s=l,r=u.top;break}}return{refDOM:s,refTop:r,stack:nH(e.dom)}}function nH(e){let t=[],n=e.ownerDocument;for(let s=e;s&&(t.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),e!=n);s=Ih(s));return t}function JTe({refDOM:e,refTop:t,stack:n}){let s=e?e.getBoundingClientRect().top:0;sH(n,s==0?0:s-t)}function sH(e,t){for(let n=0;n<e.length;n++){let{dom:s,top:r,left:a}=e[n];s.scrollTop!=r+t&&(s.scrollTop=r+t),s.scrollLeft!=a&&(s.scrollLeft=a)}}let Hd=null;function XTe(e){if(e.setActive)return e.setActive();if(Hd)return e.focus(Hd);let t=nH(e);e.focus(Hd==null?{get preventScroll(){return Hd={preventScroll:!0},!0}}:void 0),Hd||(Hd=!1,sH(t,0))}function rH(e,t){let n,s=2e8,r,a=0,o=t.top,l=t.top,u,d;for(let f=e.firstChild,m=0;f;f=f.nextSibling,m++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=Co(f).getClientRects();else continue;for(let x=0;x<g.length;x++){let b=g[x];if(b.top<=o&&b.bottom>=l){o=Math.max(b.bottom,o),l=Math.min(b.top,l);let w=b.left>t.left?b.left-t.left:b.right<t.left?t.left-b.right:0;if(w<s){n=f,s=w,r=w&&n.nodeType==3?{left:b.right<t.left?b.right:b.left,top:t.top}:t,f.nodeType==1&&w&&(a=m+(t.left>=(b.left+b.right)/2?1:0));continue}}else b.top>t.top&&!u&&b.left<=t.left&&b.right>=t.left&&(u=f,d={left:Math.max(b.left,Math.min(b.right,t.left)),top:b.top});!n&&(t.left>=b.right&&t.top>=b.top||t.left>=b.left&&t.top>=b.bottom)&&(a=m+1)}}return!n&&u&&(n=u,r=d,s=0),n&&n.nodeType==3?QTe(n,r):!n||s&&n.nodeType==1?{node:e,offset:a}:rH(n,r)}function QTe(e,t){let n=e.nodeValue.length,s=document.createRange(),r;for(let a=0;a<n;a++){s.setEnd(e,a+1),s.setStart(e,a);let o=Cl(s,1);if(o.top!=o.bottom&&FE(t,o)){r={node:e,offset:a+(t.left>=(o.left+o.right)/2?1:0)};break}}return s.detach(),r||{node:e,offset:0}}function FE(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function e5e(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function t5e(e,t,n){let{node:s,offset:r}=rH(t,n),a=-1;if(s.nodeType==1&&!s.firstChild){let o=s.getBoundingClientRect();a=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return e.docView.posFromDOM(s,r,a)}function n5e(e,t,n,s){let r=-1;for(let a=t,o=!1;a!=e.dom;){let l=e.docView.nearestDesc(a,!0),u;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((u=l.dom.getBoundingClientRect()).width||u.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&u.left>s.left||u.top>s.top?r=l.posBefore:(!o&&u.right<s.left||u.bottom<s.top)&&(r=l.posAfter),o=!0),!l.contentDOM&&r<0&&!l.node.isText))return(l.node.isBlock?s.top<(u.top+u.bottom)/2:s.left<(u.left+u.right)/2)?l.posBefore:l.posAfter;a=l.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n,-1)}function iH(e,t,n){let s=e.childNodes.length;if(s&&n.top<n.bottom)for(let r=Math.max(0,Math.min(s-1,Math.floor(s*(t.top-n.top)/(n.bottom-n.top))-2)),a=r;;){let o=e.childNodes[a];if(o.nodeType==1){let l=o.getClientRects();for(let u=0;u<l.length;u++){let d=l[u];if(FE(t,d))return iH(o,t,d)}}if((a=(a+1)%s)==r)break}return e}function s5e(e,t){let n=e.dom.ownerDocument,s,r=0,a=ZTe(n,t.left,t.top);a&&({node:s,offset:r}=a);let o=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),l;if(!o||!e.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=e.dom.getBoundingClientRect();if(!FE(t,d)||(o=iH(e.dom,t,d),!o))return null}if(hr)for(let d=o;s&&d;d=Ih(d))d.draggable&&(s=void 0);if(o=e5e(o,t),s){if(Oi&&s.nodeType==1&&(r=Math.min(r,s.childNodes.length),r<s.childNodes.length)){let f=s.childNodes[r],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=t.left&&m.bottom>t.top&&r++}let d;zg&&r&&s.nodeType==1&&(d=s.childNodes[r-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=t.top&&r--,s==e.dom&&r==s.childNodes.length-1&&s.lastChild.nodeType==1&&t.top>s.lastChild.getBoundingClientRect().bottom?l=e.state.doc.content.size:(r==0||s.nodeType!=1||s.childNodes[r-1].nodeName!="BR")&&(l=n5e(e,s,r,t))}l==null&&(l=t5e(e,o,t));let u=e.docView.nearestDesc(o,!0);return{pos:l,inside:u?u.posAtStart-u.border:-1}}function CD(e){return e.top<e.bottom||e.left<e.right}function Cl(e,t){let n=e.getClientRects();if(n.length){let s=n[t<0?0:n.length-1];if(CD(s))return s}return Array.prototype.find.call(n,CD)||e.getBoundingClientRect()}const r5e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function aH(e,t,n){let{node:s,offset:r,atom:a}=e.docView.domFromPos(t,n<0?-1:1),o=zg||Oi;if(s.nodeType==3)if(o&&(r5e.test(s.nodeValue)||(n<0?!r:r==s.nodeValue.length))){let u=Cl(Co(s,r,r),n);if(Oi&&r&&/\s/.test(s.nodeValue[r-1])&&r<s.nodeValue.length){let d=Cl(Co(s,r-1,r-1),-1);if(d.top==u.top){let f=Cl(Co(s,r,r+1),-1);if(f.top!=u.top)return xm(f,f.left<d.left)}}return u}else{let u=r,d=r,f=n<0?1:-1;return n<0&&!r?(d++,f=-1):n>=0&&r==s.nodeValue.length?(u--,f=1):n<0?u--:d++,xm(Cl(Co(s,u,d),f),f<0)}if(!e.state.doc.resolve(t-(a||0)).parent.inlineContent){if(a==null&&r&&(n<0||r==zi(s))){let u=s.childNodes[r-1];if(u.nodeType==1)return aN(u.getBoundingClientRect(),!1)}if(a==null&&r<zi(s)){let u=s.childNodes[r];if(u.nodeType==1)return aN(u.getBoundingClientRect(),!0)}return aN(s.getBoundingClientRect(),n>=0)}if(a==null&&r&&(n<0||r==zi(s))){let u=s.childNodes[r-1],d=u.nodeType==3?Co(u,zi(u)-(o?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return xm(Cl(d,1),!1)}if(a==null&&r<zi(s)){let u=s.childNodes[r];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?Co(u,0,o?0:1):u.nodeType==1?u:null:null;if(d)return xm(Cl(d,-1),!0)}return xm(Cl(s.nodeType==3?Co(s):s,-n),n>=0)}function xm(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function aN(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function oH(e,t,n){let s=e.state,r=e.root.activeElement;s!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{s!=t&&e.updateState(s),r!=e.dom&&r&&r.focus()}}function i5e(e,t,n){let s=t.selection,r=n=="up"?s.$from:s.$to;return oH(e,t,()=>{let{node:a}=e.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let l=e.docView.nearestDesc(a,!0);if(!l)break;if(l.node.isBlock){a=l.contentDOM||l.dom;break}a=l.dom.parentNode}let o=aH(e,r.pos,1);for(let l=a.firstChild;l;l=l.nextSibling){let u;if(l.nodeType==1)u=l.getClientRects();else if(l.nodeType==3)u=Co(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<u.length;d++){let f=u[d];if(f.bottom>f.top+1&&(n=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const a5e=/[\u0590-\u08ac]/;function o5e(e,t,n){let{$head:s}=t.selection;if(!s.parent.isTextblock)return!1;let r=s.parentOffset,a=!r,o=r==s.parent.content.size,l=e.domSelection();return l?!a5e.test(s.parent.textContent)||!l.modify?n=="left"||n=="backward"?a:o:oH(e,t,()=>{let{focusNode:u,focusOffset:d,anchorNode:f,anchorOffset:m}=e.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",n,"character");let x=s.depth?e.docView.domAfterPos(s.before()):e.dom,{focusNode:b,focusOffset:w}=e.domSelectionRange(),j=b&&!x.contains(b.nodeType==1?b:b.parentNode)||u==b&&d==w;try{l.collapse(f,m),u&&(u!=f||d!=m)&&l.extend&&l.extend(u,d)}catch{}return g!=null&&(l.caretBidiLevel=g),j}):s.pos==s.start()||s.pos==s.end()}let ED=null,TD=null,zD=!1;function l5e(e,t,n){return ED==t&&TD==n?zD:(ED=t,TD=n,zD=n=="up"||n=="down"?i5e(e,t,n):o5e(e,t,n))}const Di=0,AD=1,iu=2,Ka=3;class Ag{constructor(t,n,s,r){this.parent=t,this.children=n,this.dom=s,this.contentDOM=r,this.dirty=Di,s.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,s){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,s=this.posAtStart;;n++){let r=this.children[n];if(r==t)return s;s+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,s){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(s<0){let a,o;if(t==this.contentDOM)a=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.previousSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.previousSibling;return a?this.posBeforeChild(o)+o.size:this.posAtStart}else{let a,o;if(t==this.contentDOM)a=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((o=a.pmViewDesc)&&o.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(o):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=n>Qs(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let a=t;;a=a.parentNode){if(a==this.dom){r=!1;break}if(a.previousSibling)break}if(r==null&&n==t.childNodes.length)for(let a=t;;a=a.parentNode){if(a==this.dom){r=!0;break}if(a.nextSibling)break}}return r??s>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let s=!0,r=t;r;r=r.parentNode){let a=this.getDesc(r),o;if(a&&(!n||a.node))if(s&&(o=a.nodeDOM)&&!(o.nodeType==1?o.contains(t.nodeType==1?t:t.parentNode):o==t))s=!1;else return a}}getDesc(t){let n=t.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(t,n,s){for(let r=t;r;r=r.parentNode){let a=this.getDesc(r);if(a)return a.localPosFromDOM(t,n,s)}return-1}descAt(t){for(let n=0,s=0;n<this.children.length;n++){let r=this.children[n],a=s+r.size;if(s==t&&a!=s){for(;!r.border&&r.children.length;)for(let o=0;o<r.children.length;o++){let l=r.children[o];if(l.size){r=l;break}}return r}if(t<a)return r.descAt(t-s-r.border);s=a}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let s=0,r=0;for(let a=0;s<this.children.length;s++){let o=this.children[s],l=a+o.size;if(l>t||o instanceof cH){r=t-a;break}a=l}if(r)return this.children[s].domFromPos(r-this.children[s].border,n);for(let a;s&&!(a=this.children[s-1]).size&&a instanceof lH&&a.side>=0;s--);if(n<=0){let a,o=!0;for(;a=s?this.children[s-1]:null,!(!a||a.dom.parentNode==this.contentDOM);s--,o=!1);return a&&n&&o&&!a.border&&!a.domAtom?a.domFromPos(a.size,n):{node:this.contentDOM,offset:a?Qs(a.dom)+1:0}}else{let a,o=!0;for(;a=s<this.children.length?this.children[s]:null,!(!a||a.dom.parentNode==this.contentDOM);s++,o=!1);return a&&o&&!a.border&&!a.domAtom?a.domFromPos(0,n):{node:this.contentDOM,offset:a?Qs(a.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,a=-1;for(let o=s,l=0;;l++){let u=this.children[l],d=o+u.size;if(r==-1&&t<=d){let f=o+u.border;if(t>=f&&n<=d-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,n,f);t=o;for(let m=l;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){r=Qs(g.dom)+1;break}t-=g.size}r==-1&&(r=0)}if(r>-1&&(d>n||l==this.children.length-1)){n=d;for(let f=l+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){a=Qs(m.dom);break}n+=m.size}a==-1&&(a=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:t,to:n,fromOffset:r,toOffset:a}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:s}=this.domFromPos(t,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[s]}setSelection(t,n,s,r=!1){let a=Math.min(t,n),o=Math.max(t,n);for(let x=0,b=0;x<this.children.length;x++){let w=this.children[x],j=b+w.size;if(a>b&&o<j)return w.setSelection(t-b-w.border,n-b-w.border,s,r);b=j}let l=this.domFromPos(t,t?-1:1),u=n==t?l:this.domFromPos(n,n?-1:1),d=s.root.getSelection(),f=s.domSelectionRange(),m=!1;if((Oi||hr)&&t==n){let{node:x,offset:b}=l;if(x.nodeType==3){if(m=!!(b&&x.nodeValue[b-1]==`
`),m&&b==x.nodeValue.length)for(let w=x,j;w;w=w.parentNode){if(j=w.nextSibling){j.nodeName=="BR"&&(l=u={node:j.parentNode,offset:Qs(j)+1});break}let k=w.pmViewDesc;if(k&&k.node&&k.node.isBlock)break}}else{let w=x.childNodes[b-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(Oi&&f.focusNode&&f.focusNode!=u.node&&f.focusNode.nodeType==1){let x=f.focusNode.childNodes[f.focusOffset];x&&x.contentEditable=="false"&&(r=!0)}if(!(r||m&&hr)&&Au(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Au(u.node,u.offset,f.focusNode,f.focusOffset))return;let g=!1;if((d.extend||t==n)&&!(m&&Oi)){d.collapse(l.node,l.offset);try{t!=n&&d.extend(u.node,u.offset),g=!0}catch{}}if(!g){if(t>n){let b=l;l=u,u=b}let x=document.createRange();x.setEnd(u.node,u.offset),x.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(x)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let s=0,r=0;r<this.children.length;r++){let a=this.children[r],o=s+a.size;if(s==o?t<=o&&n>=s:t<o&&n>s){let l=s+a.border,u=o-a.border;if(t>=l&&n<=u){this.dirty=t==s||n==o?iu:AD,t==l&&n==u&&(a.contentLost||a.dom.parentNode!=this.contentDOM)?a.dirty=Ka:a.markDirty(t-l,n-l);return}else a.dirty=a.dom==a.contentDOM&&a.dom.parentNode==this.contentDOM&&!a.children.length?iu:Ka}s=o}this.dirty=iu}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let s=t==1?iu:AD;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class lH extends Ag{constructor(t,n,s,r){let a,o=n.type.toDOM;if(typeof o=="function"&&(o=o(s,()=>{if(!a)return r;if(a.parent)return a.parent.posBeforeChild(a)})),!n.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(t,[],o,null),this.widget=n,this.widget=n,a=this}matchesWidget(t){return this.dirty==Di&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class c5e extends Ag{constructor(t,n,s,r){super(t,[],n,null),this.textDOM=s,this.text=r}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class Mu extends Ag{constructor(t,n,s,r,a){super(t,[],s,r),this.mark=n,this.spec=a}static create(t,n,s,r){let a=r.nodeViews[n.type.name],o=a&&a(n,r,s);return(!o||!o.dom)&&(o=Bu.renderSpec(document,n.type.spec.toDOM(n,s),null,n.attrs)),new Mu(t,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ka||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Ka&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Di){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Di}}slice(t,n,s){let r=Mu.create(this.parent,this.mark,!0,s),a=this.children,o=this.size;n<o&&(a=wS(a,n,o,s)),t>0&&(a=wS(a,0,t,s));for(let l=0;l<a.length;l++)a[l].parent=r;return r.children=a,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Gl extends Ag{constructor(t,n,s,r,a,o,l,u,d){super(t,[],a,o),this.node=n,this.outerDeco=s,this.innerDeco=r,this.nodeDOM=l}static create(t,n,s,r,a,o){let l=a.nodeViews[n.type.name],u,d=l&&l(n,a,()=>{if(!u)return o;if(u.parent)return u.parent.posBeforeChild(u)},s,r),f=d&&d.dom,m=d&&d.contentDOM;if(n.isText){if(!f)f=document.createTextNode(n.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=Bu.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!m&&!n.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),n.type.spec.draggable&&(f.draggable=!0));let g=f;return f=hH(f,s,n),d?u=new u5e(t,n,s,r,f,m||null,g,d,a,o+1):n.isText?new h1(t,n,s,r,f,g,a):new Gl(t,n,s,r,f,m||null,g,a,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){t.contentElement=s.dom.parentNode;break}}t.contentElement||(t.getContent=()=>De.empty)}return t}matchesNode(t,n,s){return this.dirty==Di&&t.eq(this.node)&&hy(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let s=this.node.inlineContent,r=n,a=t.composing?this.localCompositionInfo(t,n):null,o=a&&a.pos>-1?a:null,l=a&&a.pos<0,u=new h5e(this,o&&o.node,t);p5e(this.node,this.innerDeco,(d,f,m)=>{d.spec.marks?u.syncToMarks(d.spec.marks,s,t,f):d.type.side>=0&&!m&&u.syncToMarks(f==this.node.childCount?_n.none:this.node.child(f).marks,s,t,f),u.placeWidget(d,t,r)},(d,f,m,g)=>{u.syncToMarks(d.marks,s,t,g);let x;u.findNodeMatch(d,f,m,g)||l&&t.state.selection.from>r&&t.state.selection.to<r+d.nodeSize&&(x=u.findIndexWithChild(a.node))>-1&&u.updateNodeAt(d,f,m,x,t)||u.updateNextNode(d,f,m,t,g,r)||u.addNode(d,f,m,t,r),r+=d.nodeSize}),u.syncToMarks([],s,t,0),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==iu)&&(o&&this.protectLocalComposition(t,o),uH(this.contentDOM,this.children,t),Lh&&g5e(this.dom))}localCompositionInfo(t,n){let{from:s,to:r}=t.state.selection;if(!(t.state.selection instanceof _t)||s<n||r>n+this.node.content.size)return null;let a=t.input.compositionNode;if(!a||!this.dom.contains(a.parentNode))return null;if(this.node.inlineContent){let o=a.nodeValue,l=x5e(this.node.content,o,s-n,r-n);return l<0?null:{node:a,pos:l,text:o}}else return{node:a,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:s,text:r}){if(this.getDesc(n))return;let a=n;for(;a.parentNode!=this.contentDOM;a=a.parentNode){for(;a.previousSibling;)a.parentNode.removeChild(a.previousSibling);for(;a.nextSibling;)a.parentNode.removeChild(a.nextSibling);a.pmViewDesc&&(a.pmViewDesc=void 0)}let o=new c5e(this,a,n,r);t.input.compositionNodes.push(o),this.children=wS(this.children,s,s+r.length,t,o)}update(t,n,s,r){return this.dirty==Ka||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,s,r),!0)}updateInner(t,n,s,r){this.updateOuterDeco(n),this.node=t,this.innerDeco=s,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Di}updateOuterDeco(t){if(hy(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=dH(this.dom,this.nodeDOM,bS(this.outerDeco,this.node,n),bS(t,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function MD(e,t,n,s,r){hH(s,t,e);let a=new Gl(void 0,e,t,n,s,s,s,r,0);return a.contentDOM&&a.updateChildren(r,0),a}class h1 extends Gl{constructor(t,n,s,r,a,o,l){super(t,n,s,r,a,null,o,l,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,s,r){return this.dirty==Ka||this.dirty!=Di&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Di||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=Di,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,s){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,s)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,s){let r=this.node.cut(t,n),a=document.createTextNode(r.text);return new h1(this.parent,r,this.outerDeco,this.innerDeco,a,a,s)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ka)}get domAtom(){return!1}isText(t){return this.node.text==t}}class cH extends Ag{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Di&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class u5e extends Gl{constructor(t,n,s,r,a,o,l,u,d,f){super(t,n,s,r,a,o,l,d,f),this.spec=u}update(t,n,s,r){if(this.dirty==Ka)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let a=this.spec.update(t,n,s);return a&&this.updateInner(t,n,s,r),a}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,s,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,s,r){this.spec.setSelection?this.spec.setSelection(t,n,s.root):super.setSelection(t,n,s,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function uH(e,t,n){let s=e.firstChild,r=!1;for(let a=0;a<t.length;a++){let o=t[a],l=o.dom;if(l.parentNode==e){for(;l!=s;)s=RD(s),r=!0;s=s.nextSibling}else r=!0,e.insertBefore(l,s);if(o instanceof Mu){let u=s?s.previousSibling:e.lastChild;uH(o.contentDOM,o.children,n),s=u?u.nextSibling:e.firstChild}}for(;s;)s=RD(s),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}const Km=function(e){e&&(this.nodeName=e)};Km.prototype=Object.create(null);const au=[new Km];function bS(e,t,n){if(e.length==0)return au;let s=n?au[0]:new Km,r=[s];for(let a=0;a<e.length;a++){let o=e[a].type.attrs;if(o){o.nodeName&&r.push(s=new Km(o.nodeName));for(let l in o){let u=o[l];u!=null&&(n&&r.length==1&&r.push(s=new Km(t.isInline?"span":"div")),l=="class"?s.class=(s.class?s.class+" ":"")+u:l=="style"?s.style=(s.style?s.style+";":"")+u:l!="nodeName"&&(s[l]=u))}}}return r}function dH(e,t,n,s){if(n==au&&s==au)return t;let r=t;for(let a=0;a<s.length;a++){let o=s[a],l=n[a];if(a){let u;l&&l.nodeName==o.nodeName&&r!=e&&(u=r.parentNode)&&u.nodeName.toLowerCase()==o.nodeName||(u=document.createElement(o.nodeName),u.pmIsDeco=!0,u.appendChild(r),l=au[0]),r=u}d5e(r,l||au[0],o)}return r}function d5e(e,t,n){for(let s in t)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&e.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=t[s]&&e.setAttribute(s,n[s]);if(t.class!=n.class){let s=t.class?t.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let a=0;a<s.length;a++)r.indexOf(s[a])==-1&&e.classList.remove(s[a]);for(let a=0;a<r.length;a++)s.indexOf(r[a])==-1&&e.classList.add(r[a]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=s.exec(t.style);)e.style.removeProperty(r[1])}n.style&&(e.style.cssText+=n.style)}}function hH(e,t,n){return dH(e,e,au,bS(t,n,e.nodeType!=1))}function hy(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function RD(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class h5e{constructor(t,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=f5e(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let s=t;s<n;s++)this.top.children[s].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,s,r){let a=0,o=this.stack.length>>1,l=Math.min(o,t.length);for(;a<l&&(a==o-1?this.top:this.stack[a+1<<1]).matchesMark(t[a])&&t[a].type.spec.spanning!==!1;)a++;for(;a<o;)this.destroyRest(),this.top.dirty=Di,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let u=-1,d=this.top.children.length;r<this.preMatch.index&&(d=Math.min(this.index+3,d));for(let f=this.index;f<d;f++){let m=this.top.children[f];if(m.matchesMark(t[o])&&!this.isLocked(m.dom)){u=f;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let f=Mu.create(this.top,t[o],n,s);this.top.children.splice(this.index,0,f),this.top=f,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,s,r){let a=-1,o;if(r>=this.preMatch.index&&(o=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&o.matchesNode(t,n,s))a=this.top.children.indexOf(o,this.index);else for(let l=this.index,u=Math.min(this.top.children.length,l+5);l<u;l++){let d=this.top.children[l];if(d.matchesNode(t,n,s)&&!this.preMatch.matched.has(d)){a=l;break}}return a<0?!1:(this.destroyBetween(this.index,a),this.index++,!0)}updateNodeAt(t,n,s,r,a){let o=this.top.children[r];return o.dirty==Ka&&o.dom==o.contentDOM&&(o.dirty=iu),o.update(t,n,s,a)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=t.pmViewDesc;if(s){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==s)return r}return-1}t=n}}updateNextNode(t,n,s,r,a,o){for(let l=this.index;l<this.top.children.length;l++){let u=this.top.children[l];if(u instanceof Gl){let d=this.preMatch.matched.get(u);if(d!=null&&d!=a)return!1;let f=u.dom,m,g=this.isLocked(f)&&!(t.isText&&u.node&&u.node.isText&&u.nodeDOM.nodeValue==t.text&&u.dirty!=Ka&&hy(n,u.outerDeco));if(!g&&u.update(t,n,s,r))return this.destroyBetween(this.index,l),u.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(m=this.recreateWrapper(u,t,n,s,r,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=iu,m.updateChildren(r,o+1),m.dirty=Di),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,s,r,a,o){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!hy(s,t.outerDeco)||!r.eq(t.innerDeco))return null;let l=Gl.create(this.top,n,s,r,a,o);if(l.contentDOM){l.children=t.children,t.children=[];for(let u of l.children)u.parent=l}return t.destroy(),l}addNode(t,n,s,r,a){let o=Gl.create(this.top,t,n,s,r,a);o.contentDOM&&o.updateChildren(r,a+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(t,n,s){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let a=new lH(this.top,t,n,s);this.top.children.splice(this.index++,0,a),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof Mu;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof h1)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((hr||tr)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let s=document.createElement(t);t=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),t=="BR"&&(s.className="ProseMirror-trailingBreak");let r=new cH(this.top,[],s,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function f5e(e,t){let n=t,s=n.children.length,r=e.childCount,a=new Map,o=[];e:for(;r>0;){let l;for(;;)if(s){let d=n.children[s-1];if(d instanceof Mu)n=d,s=d.children.length;else{l=d,s--;break}}else{if(n==t)break e;s=n.parent.children.indexOf(n),n=n.parent}let u=l.node;if(u){if(u!=e.child(r-1))break;--r,a.set(l,r),o.push(l)}}return{index:r,matched:a,matches:o.reverse()}}function m5e(e,t){return e.type.side-t.type.side}function p5e(e,t,n,s){let r=t.locals(e),a=0;if(r.length==0){for(let d=0;d<e.childCount;d++){let f=e.child(d);s(f,r,t.forChild(a,f),d),a+=f.nodeSize}return}let o=0,l=[],u=null;for(let d=0;;){let f,m;for(;o<r.length&&r[o].to==a;){let j=r[o++];j.widget&&(f?(m||(m=[f])).push(j):f=j)}if(f)if(m){m.sort(m5e);for(let j=0;j<m.length;j++)n(m[j],d,!!u)}else n(f,d,!!u);let g,x;if(u)x=-1,g=u,u=null;else if(d<e.childCount)x=d,g=e.child(d++);else break;for(let j=0;j<l.length;j++)l[j].to<=a&&l.splice(j--,1);for(;o<r.length&&r[o].from<=a&&r[o].to>a;)l.push(r[o++]);let b=a+g.nodeSize;if(g.isText){let j=b;o<r.length&&r[o].from<j&&(j=r[o].from);for(let k=0;k<l.length;k++)l[k].to<j&&(j=l[k].to);j<b&&(u=g.cut(j-a),g=g.cut(0,j-a),b=j,x=-1)}else for(;o<r.length&&r[o].to<b;)o++;let w=g.isInline&&!g.isLeaf?l.filter(j=>!j.inline):l.slice();s(g,w,t.forChild(a,g),x),a=b}}function g5e(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function x5e(e,t,n,s){for(let r=0,a=0;r<e.childCount&&a<=s;){let o=e.child(r++),l=a;if(a+=o.nodeSize,!o.isText)continue;let u=o.text;for(;r<e.childCount;){let d=e.child(r++);if(a+=d.nodeSize,!d.isText)break;u+=d.text}if(a>=n){if(a>=s&&u.slice(s-t.length-l,s-l)==t)return s-t.length;let d=l<s?u.lastIndexOf(t,s-l-1):-1;if(d>=0&&d+t.length+l>=n)return l+d;if(n==s&&u.length>=s+t.length-l&&u.slice(s-l,s-l+t.length)==t)return s}}return-1}function wS(e,t,n,s,r){let a=[];for(let o=0,l=0;o<e.length;o++){let u=e[o],d=l,f=l+=u.size;d>=n||f<=t?a.push(u):(d<t&&a.push(u.slice(0,t-d,s)),r&&(a.push(r),r=void 0),f>n&&a.push(u.slice(n-d,u.size,s)))}return a}function UE(e,t=null){let n=e.domSelectionRange(),s=e.state.doc;if(!n.focusNode)return null;let r=e.docView.nearestDesc(n.focusNode),a=r&&r.size==0,o=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let l=s.resolve(o),u,d;if(d1(n)){for(u=o;r&&!r.node;)r=r.parent;let m=r.node;if(r&&m.isAtom&&pt.isSelectable(m)&&r.parent&&!(m.isInline&&HTe(n.focusNode,n.focusOffset,r.dom))){let g=r.posBefore;d=new pt(o==g?l:s.resolve(g))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let m=o,g=o;for(let x=0;x<n.rangeCount;x++){let b=n.getRangeAt(x);m=Math.min(m,e.docView.posFromDOM(b.startContainer,b.startOffset,1)),g=Math.max(g,e.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[u,o]=g==e.state.selection.anchor?[g,m]:[m,g],l=s.resolve(o)}else u=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(u<0)return null}let f=s.resolve(u);if(!d){let m=t=="pointer"||e.state.selection.head<l.pos&&!a?1:-1;d=HE(e,f,l,m)}return d}function fH(e){return e.editable?e.hasFocus():pH(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Po(e,t=!1){let n=e.state.selection;if(mH(e,n),!!fH(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&tr){let s=e.domSelectionRange(),r=e.domObserver.currentSelection;if(s.anchorNode&&r.anchorNode&&Au(s.anchorNode,s.anchorOffset,r.anchorNode,r.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)y5e(e);else{let{anchor:s,head:r}=n,a,o;OD&&!(n instanceof _t)&&(n.$from.parent.inlineContent||(a=DD(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=DD(e,n.to))),e.docView.setSelection(s,r,e,t),OD&&(a&&PD(a),o&&PD(o)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&v5e(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const OD=hr||tr&&eH<63;function DD(e,t){let{node:n,offset:s}=e.docView.domFromPos(t,0),r=s<n.childNodes.length?n.childNodes[s]:null,a=s?n.childNodes[s-1]:null;if(hr&&r&&r.contentEditable=="false")return oN(r);if((!r||r.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(r)return oN(r);if(a)return oN(a)}}function oN(e){return e.contentEditable="true",hr&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function PD(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function v5e(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),s=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=r)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!fH(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function y5e(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,s=n.nodeName=="IMG";s?t.collapse(n.parentNode,Qs(n)+1):t.collapse(n,0),!s&&!e.state.selection.visible&&Br&&Kl<=11&&(n.disabled=!0,n.disabled=!1)}function mH(e,t){if(t instanceof pt){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(ID(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else ID(e)}function ID(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function HE(e,t,n,s){return e.someProp("createSelectionBetween",r=>r(e,t,n))||_t.between(t,n,s)}function LD(e){return e.editable&&!e.hasFocus()?!1:pH(e)}function pH(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function b5e(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return Au(t.node,t.offset,n.anchorNode,n.anchorOffset)}function jS(e,t){let{$anchor:n,$head:s}=e.selection,r=t>0?n.max(s):n.min(s),a=r.parent.inlineContent?r.depth?e.doc.resolve(t>0?r.after():r.before()):null:r;return a&&Lt.findFrom(a,t)}function Tl(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function $D(e,t,n){let s=e.state.selection;if(s instanceof _t)if(n.indexOf("s")>-1){let{$head:r}=s,a=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!a||a.isText||!a.isLeaf)return!1;let o=e.state.doc.resolve(r.pos+a.nodeSize*(t<0?-1:1));return Tl(e,new _t(s.$anchor,o))}else if(s.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let r=jS(e.state,t);return r&&r instanceof pt?Tl(e,r):!1}else if(!(Ci&&n.indexOf("m")>-1)){let r=s.$head,a=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,o;if(!a||a.isText)return!1;let l=t<0?r.pos-a.nodeSize:r.pos;return a.isAtom||(o=e.docView.descAt(l))&&!o.contentDOM?pt.isSelectable(a)?Tl(e,new pt(t<0?e.state.doc.resolve(r.pos-a.nodeSize):r)):zg?Tl(e,new _t(e.state.doc.resolve(t<0?l:l+a.nodeSize))):!1:!1}}else return!1;else{if(s instanceof pt&&s.node.isInline)return Tl(e,new _t(t>0?s.$to:s.$from));{let r=jS(e.state,t);return r?Tl(e,r):!1}}}function fy(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Gm(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function qd(e,t){return t<0?w5e(e):j5e(e)}function w5e(e){let t=e.domSelectionRange(),n=t.focusNode,s=t.focusOffset;if(!n)return;let r,a,o=!1;for(Oi&&n.nodeType==1&&s<fy(n)&&Gm(n.childNodes[s],-1)&&(o=!0);;)if(s>0){if(n.nodeType!=1)break;{let l=n.childNodes[s-1];if(Gm(l,-1))r=n,a=--s;else if(l.nodeType==3)n=l,s=n.nodeValue.length;else break}}else{if(gH(n))break;{let l=n.previousSibling;for(;l&&Gm(l,-1);)r=n.parentNode,a=Qs(l),l=l.previousSibling;if(l)n=l,s=fy(n);else{if(n=n.parentNode,n==e.dom)break;s=0}}}o?kS(e,n,s):r&&kS(e,r,a)}function j5e(e){let t=e.domSelectionRange(),n=t.focusNode,s=t.focusOffset;if(!n)return;let r=fy(n),a,o;for(;;)if(s<r){if(n.nodeType!=1)break;let l=n.childNodes[s];if(Gm(l,1))a=n,o=++s;else break}else{if(gH(n))break;{let l=n.nextSibling;for(;l&&Gm(l,1);)a=l.parentNode,o=Qs(l)+1,l=l.nextSibling;if(l)n=l,s=0,r=fy(n);else{if(n=n.parentNode,n==e.dom)break;s=r=0}}}a&&kS(e,a,o)}function gH(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function k5e(e,t){for(;e&&t==e.childNodes.length&&!Tg(e);)t=Qs(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function N5e(e,t){for(;e&&!t&&!Tg(e);)t=Qs(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function kS(e,t,n){if(t.nodeType!=3){let a,o;(o=k5e(t,n))?(t=o,n=0):(a=N5e(t,n))&&(t=a,n=a.nodeValue.length)}let s=e.domSelection();if(!s)return;if(d1(s)){let a=document.createRange();a.setEnd(t,n),a.setStart(t,n),s.removeAllRanges(),s.addRange(a)}else s.extend&&s.extend(t,n);e.domObserver.setCurSelection();let{state:r}=e;setTimeout(()=>{e.state==r&&Po(e)},50)}function VD(e,t){let n=e.state.doc.resolve(t);if(!(tr||tH)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let a=e.coordsAtPos(t-1),o=(a.top+a.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(a.left-r.left)>1)return a.left<r.left?"ltr":"rtl"}if(t<n.end()){let a=e.coordsAtPos(t+1),o=(a.top+a.bottom)/2;if(o>r.top&&o<r.bottom&&Math.abs(a.left-r.left)>1)return a.left>r.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function BD(e,t,n){let s=e.state.selection;if(s instanceof _t&&!s.empty||n.indexOf("s")>-1||Ci&&n.indexOf("m")>-1)return!1;let{$from:r,$to:a}=s;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let o=jS(e.state,t);if(o&&o instanceof pt)return Tl(e,o)}if(!r.parent.inlineContent){let o=t<0?r:a,l=s instanceof li?Lt.near(o,t):Lt.findFrom(o,t);return l?Tl(e,l):!1}return!1}function FD(e,t){if(!(e.state.selection instanceof _t))return!0;let{$head:n,$anchor:s,empty:r}=e.state.selection;if(!n.sameParent(s))return!0;if(!r)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){let o=e.state.tr;return t<0?o.delete(n.pos-a.nodeSize,n.pos):o.delete(n.pos,n.pos+a.nodeSize),e.dispatch(o),!0}return!1}function UD(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function S5e(e){if(!hr||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let s=t.firstChild;UD(e,s,"true"),setTimeout(()=>UD(e,s,"false"),20)}return!1}function _5e(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function C5e(e,t){let n=t.keyCode,s=_5e(t);if(n==8||Ci&&n==72&&s=="c")return FD(e,-1)||qd(e,-1);if(n==46&&!t.shiftKey||Ci&&n==68&&s=="c")return FD(e,1)||qd(e,1);if(n==13||n==27)return!0;if(n==37||Ci&&n==66&&s=="c"){let r=n==37?VD(e,e.state.selection.from)=="ltr"?-1:1:-1;return $D(e,r,s)||qd(e,r)}else if(n==39||Ci&&n==70&&s=="c"){let r=n==39?VD(e,e.state.selection.from)=="ltr"?1:-1:1;return $D(e,r,s)||qd(e,r)}else{if(n==38||Ci&&n==80&&s=="c")return BD(e,-1,s)||qd(e,-1);if(n==40||Ci&&n==78&&s=="c")return S5e(e)||BD(e,1,s)||qd(e,1);if(s==(Ci?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function qE(e,t){e.someProp("transformCopied",x=>{t=x(t,e)});let n=[],{content:s,openStart:r,openEnd:a}=t;for(;r>1&&a>1&&s.childCount==1&&s.firstChild.childCount==1;){r--,a--;let x=s.firstChild;n.push(x.type.name,x.attrs!=x.type.defaultAttrs?x.attrs:null),s=x.content}let o=e.someProp("clipboardSerializer")||Bu.fromSchema(e.state.schema),l=jH(),u=l.createElement("div");u.appendChild(o.serializeFragment(s,{document:l}));let d=u.firstChild,f,m=0;for(;d&&d.nodeType==1&&(f=wH[d.nodeName.toLowerCase()]);){for(let x=f.length-1;x>=0;x--){let b=l.createElement(f[x]);for(;u.firstChild;)b.appendChild(u.firstChild);u.appendChild(b),m++}d=u.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${r} ${a}${m?` -${m}`:""} ${JSON.stringify(n)}`);let g=e.someProp("clipboardTextSerializer",x=>x(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:u,text:g,slice:t}}function xH(e,t,n,s,r){let a=r.parent.type.spec.code,o,l;if(!n&&!t)return null;let u=!!t&&(s||a||!n);if(u){if(e.someProp("transformPastedText",g=>{t=g(t,a||s,e)}),a)return l=new Ke(De.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",g=>{l=g(l,e,!0)}),l;let m=e.someProp("clipboardTextParser",g=>g(t,r,s,e));if(m)l=m;else{let g=r.marks(),{schema:x}=e.state,b=Bu.fromSchema(x);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(w=>{let j=o.appendChild(document.createElement("p"));w&&j.appendChild(b.serializeNode(x.text(w,g)))})}}else e.someProp("transformPastedHTML",m=>{n=m(n,e)}),o=A5e(n),zg&&M5e(o);let d=o&&o.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(l||(l=(e.someProp("clipboardParser")||e.someProp("domParser")||Wl.fromSchema(e.state.schema)).parseSlice(o,{preserveWhitespace:!!(u||f),context:r,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!E5e.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)l=R5e(HD(l,+f[1],+f[2]),f[4]);else if(l=Ke.maxOpen(T5e(l.content,r),!0),l.openStart||l.openEnd){let m=0,g=0;for(let x=l.content.firstChild;m<l.openStart&&!x.type.spec.isolating;m++,x=x.firstChild);for(let x=l.content.lastChild;g<l.openEnd&&!x.type.spec.isolating;g++,x=x.lastChild);l=HD(l,m,g)}return e.someProp("transformPasted",m=>{l=m(l,e,u)}),l}const E5e=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function T5e(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),a,o=[];if(e.forEach(l=>{if(!o)return;let u=r.findWrapping(l.type),d;if(!u)return o=null;if(d=o.length&&a.length&&yH(u,a,l,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=bH(o[o.length-1],a.length));let f=vH(l,u);o.push(f),r=r.matchType(f.type),a=u}}),o)return De.from(o)}return e}function vH(e,t,n=0){for(let s=t.length-1;s>=n;s--)e=t[s].create(null,De.from(e));return e}function yH(e,t,n,s,r){if(r<e.length&&r<t.length&&e[r]==t[r]){let a=yH(e,t,n,s.lastChild,r+1);if(a)return s.copy(s.content.replaceChild(s.childCount-1,a));if(s.contentMatchAt(s.childCount).matchType(r==e.length-1?n.type:e[r+1]))return s.copy(s.content.append(De.from(vH(n,e,r+1))))}}function bH(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,bH(e.lastChild,t-1)),s=e.contentMatchAt(e.childCount).fillBefore(De.empty,!0);return e.copy(n.append(s))}function NS(e,t,n,s,r,a){let o=t<0?e.firstChild:e.lastChild,l=o.content;return e.childCount>1&&(a=0),r<s-1&&(l=NS(l,t,n,s,r+1,a)),r>=n&&(l=t<0?o.contentMatchAt(0).fillBefore(l,a<=r).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(De.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,o.copy(l))}function HD(e,t,n){return t<e.openStart&&(e=new Ke(NS(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new Ke(NS(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const wH={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let qD=null;function jH(){return qD||(qD=document.implementation.createHTMLDocument("title"))}let lN=null;function z5e(e){let t=window.trustedTypes;return t?(lN||(lN=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),lN.createHTML(e)):e}function A5e(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=jH().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(e),r;if((r=s&&wH[s[1].toLowerCase()])&&(e=r.map(a=>"<"+a+">").join("")+e+r.map(a=>"</"+a+">").reverse().join("")),n.innerHTML=z5e(e),r)for(let a=0;a<r.length;a++)n=n.querySelector(r[a])||n;return n}function M5e(e){let t=e.querySelectorAll(tr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let s=t[n];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),s)}}function R5e(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,s;try{s=JSON.parse(t)}catch{return e}let{content:r,openStart:a,openEnd:o}=e;for(let l=s.length-2;l>=0;l-=2){let u=n.nodes[s[l]];if(!u||u.hasRequiredAttrs())break;r=De.from(u.create(s[l+1],r)),a++,o++}return new Ke(r,a,o)}const Sr={},_r={},O5e={touchstart:!0,touchmove:!0};class D5e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.badSafariComposition=!1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function P5e(e){for(let t in Sr){let n=Sr[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=s=>{L5e(e,s)&&!ZE(e,s)&&(e.editable||!(s.type in _r))&&n(e,s)},O5e[t]?{passive:!0}:void 0)}hr&&e.dom.addEventListener("input",()=>null),SS(e)}function Vl(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function I5e(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function SS(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=s=>ZE(e,s))})}function ZE(e,t){return e.someProp("handleDOMEvents",n=>{let s=n[t.type];return s?s(e,t)||t.defaultPrevented:!1})}function L5e(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function $5e(e,t){!ZE(e,t)&&Sr[t.type]&&(e.editable||!(t.type in _r))&&Sr[t.type](e,t)}_r.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!NH(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(To&&tr&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),Lh&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();e.input.lastIOSEnter=s,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==s&&(e.someProp("handleKeyDown",r=>r(e,Xc(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",s=>s(e,n))||C5e(e,n)?n.preventDefault():Vl(e,"key")};_r.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};_r.keypress=(e,t)=>{let n=t;if(NH(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ci&&n.metaKey)return;if(e.someProp("handleKeyPress",r=>r(e,n))){n.preventDefault();return}let s=e.state.selection;if(!(s instanceof _t)||!s.$from.sameParent(s.$to)){let r=String.fromCharCode(n.charCode),a=()=>e.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!e.someProp("handleTextInput",o=>o(e,s.$from.pos,s.$to.pos,r,a))&&e.dispatch(a()),n.preventDefault()}};function f1(e){return{left:e.clientX,top:e.clientY}}function V5e(e,t){let n=t.x-e.clientX,s=t.y-e.clientY;return n*n+s*s<100}function WE(e,t,n,s,r){if(s==-1)return!1;let a=e.state.doc.resolve(s);for(let o=a.depth+1;o>0;o--)if(e.someProp(t,l=>o>a.depth?l(e,n,a.nodeAfter,a.before(o),r,!0):l(e,n,a.node(o),a.before(o),r,!1)))return!0;return!1}function kh(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let s=e.state.tr.setSelection(t);s.setMeta("pointer",!0),e.dispatch(s)}function B5e(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),s=n.nodeAfter;return s&&s.isAtom&&pt.isSelectable(s)?(kh(e,new pt(n)),!0):!1}function F5e(e,t){if(t==-1)return!1;let n=e.state.selection,s,r;n instanceof pt&&(s=n.node);let a=e.state.doc.resolve(t);for(let o=a.depth+1;o>0;o--){let l=o>a.depth?a.nodeAfter:a.node(o);if(pt.isSelectable(l)){s&&n.$from.depth>0&&o>=n.$from.depth&&a.before(n.$from.depth+1)==n.$from.pos?r=a.before(n.$from.depth):r=a.before(o);break}}return r!=null?(kh(e,pt.create(e.state.doc,r)),!0):!1}function U5e(e,t,n,s,r){return WE(e,"handleClickOn",t,n,s)||e.someProp("handleClick",a=>a(e,t,s))||(r?F5e(e,n):B5e(e,n))}function H5e(e,t,n,s){return WE(e,"handleDoubleClickOn",t,n,s)||e.someProp("handleDoubleClick",r=>r(e,t,s))}function q5e(e,t,n,s){return WE(e,"handleTripleClickOn",t,n,s)||e.someProp("handleTripleClick",r=>r(e,t,s))||Z5e(e,n,s)}function Z5e(e,t,n){if(n.button!=0)return!1;let s=e.state.doc;if(t==-1)return s.inlineContent?(kh(e,_t.create(s,0,s.content.size)),!0):!1;let r=s.resolve(t);for(let a=r.depth+1;a>0;a--){let o=a>r.depth?r.nodeAfter:r.node(a),l=r.before(a);if(o.inlineContent)kh(e,_t.create(s,l+1,l+1+o.content.size));else if(pt.isSelectable(o))kh(e,pt.create(s,l));else continue;return!0}}function KE(e){return my(e)}const kH=Ci?"metaKey":"ctrlKey";Sr.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let s=KE(e),r=Date.now(),a="singleClick";r-e.input.lastClick.time<500&&V5e(n,e.input.lastClick)&&!n[kH]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?a="doubleClick":e.input.lastClick.type=="doubleClick"&&(a="tripleClick")),e.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:a,button:n.button};let o=e.posAtCoords(f1(n));o&&(a=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new W5e(e,o,n,!!s)):(a=="doubleClick"?H5e:q5e)(e,o.pos,o.inside,n)?n.preventDefault():Vl(e,"pointer"))};class W5e{constructor(t,n,s,r){this.view=t,this.pos=n,this.event=s,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!s[kH],this.allowDefault=s.shiftKey;let a,o;if(n.inside>-1)a=t.state.doc.nodeAt(n.inside),o=n.inside;else{let f=t.state.doc.resolve(n.pos);a=f.parent,o=f.depth?f.before():0}const l=r?null:s.target,u=l?t.docView.nearestDesc(l,!0):null;this.target=u&&u.nodeDOM.nodeType==1?u.nodeDOM:null;let{selection:d}=t.state;(s.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||d instanceof pt&&d.from<=o&&d.to>o)&&(this.mightDrag={node:a,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Oi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),Vl(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Po(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(f1(t))),this.updateAllowDefault(t),this.allowDefault||!n?Vl(this.view,"pointer"):U5e(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||hr&&this.mightDrag&&!this.mightDrag.node.isAtom||tr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(kh(this.view,Lt.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):Vl(this.view,"pointer")}move(t){this.updateAllowDefault(t),Vl(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Sr.touchstart=e=>{e.input.lastTouch=Date.now(),KE(e),Vl(e,"pointer")};Sr.touchmove=e=>{e.input.lastTouch=Date.now(),Vl(e,"pointer")};Sr.contextmenu=e=>KE(e);function NH(e,t){return e.composing?!0:hr&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const K5e=To?5e3:-1;_r.compositionstart=_r.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof _t&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)||tr&&tH&&G5e(e)))e.markCursor=e.state.storedMarks||n.marks(),my(e,!0),e.markCursor=null;else if(my(e,!t.selection.empty),Oi&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=e.domSelectionRange();for(let r=s.focusNode,a=s.focusOffset;r&&r.nodeType==1&&a!=0;){let o=a<0?r.lastChild:r.childNodes[a-1];if(!o)break;if(o.nodeType==3){let l=e.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else r=o,a=-1}}e.input.composing=!0}SH(e,K5e)};function G5e(e){let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(!t||t.nodeType!=1||n>=t.childNodes.length)return!1;let s=t.childNodes[n];return s.nodeType==1&&s.contentEditable=="false"}_r.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.badSafariComposition?e.domObserver.forceFlush():e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,SH(e,20))};function SH(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>my(e),t))}function _H(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=J5e());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function Y5e(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=FTe(t.focusNode,t.focusOffset),s=UTe(t.focusNode,t.focusOffset);if(n&&s&&n!=s){let r=s.pmViewDesc,a=e.domObserver.lastChangedTextNode;if(n==a||s==a)return a;if(!r||!r.isText(s.nodeValue))return s;if(e.input.compositionNode==s){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return s}}return n||s}function J5e(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function my(e,t=!1){if(!(To&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),_H(e),t||e.docView&&e.docView.dirty){let n=UE(e),s=e.state.selection;return n&&!n.eq(s)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function X5e(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),s.removeAllRanges(),s.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const Lp=Br&&Kl<15||Lh&&WTe<604;Sr.copy=_r.cut=(e,t)=>{let n=t,s=e.state.selection,r=n.type=="cut";if(s.empty)return;let a=Lp?null:n.clipboardData,o=s.content(),{dom:l,text:u}=qE(e,o);a?(n.preventDefault(),a.clearData(),a.setData("text/html",l.innerHTML),a.setData("text/plain",u)):X5e(e,l),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function Q5e(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function eze(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,s=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let r=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),s.parentNode&&s.parentNode.removeChild(s),n?$p(e,s.value,null,r,t):$p(e,s.textContent,s.innerHTML,r,t)},50)}function $p(e,t,n,s,r){let a=xH(e,t,n,s,e.state.selection.$from);if(e.someProp("handlePaste",u=>u(e,r,a||Ke.empty)))return!0;if(!a)return!1;let o=Q5e(a),l=o?e.state.tr.replaceSelectionWith(o,s):e.state.tr.replaceSelection(a);return e.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function CH(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}_r.paste=(e,t)=>{let n=t;if(e.composing&&!To)return;let s=Lp?null:n.clipboardData,r=e.input.shiftKey&&e.input.lastKeyCode!=45;s&&$p(e,CH(s),s.getData("text/html"),r,n)?n.preventDefault():eze(e,n)};class EH{constructor(t,n,s){this.slice=t,this.move=n,this.node=s}}const tze=Ci?"altKey":"ctrlKey";function TH(e,t){let n=e.someProp("dragCopies",s=>!s(t));return n??!t[tze]}Sr.dragstart=(e,t)=>{let n=t,s=e.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let r=e.state.selection,a=r.empty?null:e.posAtCoords(f1(n)),o;if(!(a&&a.pos>=r.from&&a.pos<=(r instanceof pt?r.to-1:r.to))){if(s&&s.mightDrag)o=pt.create(e.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let m=e.docView.nearestDesc(n.target,!0);m&&m.node.type.spec.draggable&&m!=e.docView&&(o=pt.create(e.state.doc,m.posBefore))}}let l=(o||e.state.selection).content(),{dom:u,text:d,slice:f}=qE(e,l);(!n.dataTransfer.files.length||!tr||eH>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Lp?"Text":"text/html",u.innerHTML),n.dataTransfer.effectAllowed="copyMove",Lp||n.dataTransfer.setData("text/plain",d),e.dragging=new EH(f,TH(e,n),o)};Sr.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};_r.dragover=_r.dragenter=(e,t)=>t.preventDefault();_r.drop=(e,t)=>{try{nze(e,t,e.dragging)}finally{e.dragging=null}};function nze(e,t,n){if(!t.dataTransfer)return;let s=e.posAtCoords(f1(t));if(!s)return;let r=e.state.doc.resolve(s.pos),a=n&&n.slice;a?e.someProp("transformPasted",x=>{a=x(a,e,!1)}):a=xH(e,CH(t.dataTransfer),Lp?null:t.dataTransfer.getData("text/html"),!1,r);let o=!!(n&&TH(e,t));if(e.someProp("handleDrop",x=>x(e,t,a||Ke.empty,o))){t.preventDefault();return}if(!a)return;t.preventDefault();let l=a?RU(e.state.doc,r.pos,a):r.pos;l==null&&(l=r.pos);let u=e.state.tr;if(o){let{node:x}=n;x?x.replace(u):u.deleteSelection()}let d=u.mapping.map(l),f=a.openStart==0&&a.openEnd==0&&a.content.childCount==1,m=u.doc;if(f?u.replaceRangeWith(d,d,a.content.firstChild):u.replaceRange(d,d,a),u.doc.eq(m))return;let g=u.doc.resolve(d);if(f&&pt.isSelectable(a.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(a.content.firstChild))u.setSelection(new pt(g));else{let x=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((b,w,j,k)=>x=k),u.setSelection(HE(e,g,u.doc.resolve(x)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))}Sr.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Po(e)},20))};Sr.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Sr.beforeinput=(e,t)=>{if(tr&&To&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:s}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=s||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",a=>a(e,Xc(8,"Backspace")))))return;let{$cursor:r}=e.state.selection;r&&r.pos>0&&e.dispatch(e.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let e in _r)Sr[e]=_r[e];function Vp(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class py{constructor(t,n){this.toDOM=t,this.spec=n||xu,this.side=this.spec.side||0}map(t,n,s,r){let{pos:a,deleted:o}=t.mapResult(n.from+r,this.side<0?-1:1);return o?null:new wr(a-s,a-s,this)}valid(){return!0}eq(t){return this==t||t instanceof py&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Vp(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class Yl{constructor(t,n){this.attrs=t,this.spec=n||xu}map(t,n,s,r){let a=t.map(n.from+r,this.spec.inclusiveStart?-1:1)-s,o=t.map(n.to+r,this.spec.inclusiveEnd?1:-1)-s;return a>=o?null:new wr(a,o,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof Yl&&Vp(this.attrs,t.attrs)&&Vp(this.spec,t.spec)}static is(t){return t.type instanceof Yl}destroy(){}}class GE{constructor(t,n){this.attrs=t,this.spec=n||xu}map(t,n,s,r){let a=t.mapResult(n.from+r,1);if(a.deleted)return null;let o=t.mapResult(n.to+r,-1);return o.deleted||o.pos<=a.pos?null:new wr(a.pos-s,o.pos-s,this)}valid(t,n){let{index:s,offset:r}=t.content.findIndex(n.from),a;return r==n.from&&!(a=t.child(s)).isText&&r+a.nodeSize==n.to}eq(t){return this==t||t instanceof GE&&Vp(this.attrs,t.attrs)&&Vp(this.spec,t.spec)}destroy(){}}class wr{constructor(t,n,s){this.from=t,this.to=n,this.type=s}copy(t,n){return new wr(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,s){return this.type.map(t,this,n,s)}static widget(t,n,s){return new wr(t,t,new py(n,s))}static inline(t,n,s,r){return new wr(t,n,new Yl(s,r))}static node(t,n,s,r){return new wr(t,n,new GE(s,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof Yl}get widget(){return this.type instanceof py}}const Xd=[],xu={};class Fn{constructor(t,n){this.local=t.length?t:Xd,this.children=n.length?n:Xd}static create(t,n){return n.length?gy(n,t,0,xu):ar}find(t,n,s){let r=[];return this.findInner(t??0,n??1e9,r,0,s),r}findInner(t,n,s,r,a){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=n&&l.to>=t&&(!a||a(l.spec))&&s.push(l.copy(l.from+r,l.to+r))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>t){let l=this.children[o]+1;this.children[o+2].findInner(t-l,n-l,s,r+l,a)}}map(t,n,s){return this==ar||t.maps.length==0?this:this.mapInner(t,n,0,0,s||xu)}mapInner(t,n,s,r,a){let o;for(let l=0;l<this.local.length;l++){let u=this.local[l].map(t,s,r);u&&u.type.valid(n,u)?(o||(o=[])).push(u):a.onRemove&&a.onRemove(this.local[l].spec)}return this.children.length?sze(this.children,o||[],t,n,s,r,a):o?new Fn(o.sort(vu),Xd):ar}add(t,n){return n.length?this==ar?Fn.create(t,n):this.addInner(t,n,0):this}addInner(t,n,s){let r,a=0;t.forEach((l,u)=>{let d=u+s,f;if(f=AH(n,l,d)){for(r||(r=this.children.slice());a<r.length&&r[a]<u;)a+=3;r[a]==u?r[a+2]=r[a+2].addInner(l,f,d+1):r.splice(a,0,u,u+l.nodeSize,gy(f,l,d+1,xu)),a+=3}});let o=zH(a?MH(n):n,-s);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||o.splice(l--,1);return new Fn(o.length?this.local.concat(o).sort(vu):this.local,r||this.children)}remove(t){return t.length==0||this==ar?this:this.removeInner(t,0)}removeInner(t,n){let s=this.children,r=this.local;for(let a=0;a<s.length;a+=3){let o,l=s[a]+n,u=s[a+1]+n;for(let f=0,m;f<t.length;f++)(m=t[f])&&m.from>l&&m.to<u&&(t[f]=null,(o||(o=[])).push(m));if(!o)continue;s==this.children&&(s=this.children.slice());let d=s[a+2].removeInner(o,l+1);d!=ar?s[a+2]=d:(s.splice(a,3),a-=3)}if(r.length){for(let a=0,o;a<t.length;a++)if(o=t[a])for(let l=0;l<r.length;l++)r[l].eq(o,n)&&(r==this.local&&(r=this.local.slice()),r.splice(l--,1))}return s==this.children&&r==this.local?this:r.length||s.length?new Fn(r,s):ar}forChild(t,n){if(this==ar)return this;if(n.isLeaf)return Fn.empty;let s,r;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=t){this.children[l]==t&&(s=this.children[l+2]);break}let a=t+1,o=a+n.content.size;for(let l=0;l<this.local.length;l++){let u=this.local[l];if(u.from<o&&u.to>a&&u.type instanceof Yl){let d=Math.max(a,u.from)-a,f=Math.min(o,u.to)-a;d<f&&(r||(r=[])).push(u.copy(d,f))}}if(r){let l=new Fn(r.sort(vu),Xd);return s?new Ol([l,s]):l}return s||ar}eq(t){if(this==t)return!0;if(!(t instanceof Fn)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return YE(this.localsInner(t))}localsInner(t){if(this==ar)return Xd;if(t.inlineContent||!this.local.some(Yl.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof Yl||n.push(this.local[s]);return n}forEachSet(t){t(this)}}Fn.empty=new Fn([],[]);Fn.removeOverlap=YE;const ar=Fn.empty;class Ol{constructor(t){this.members=t}map(t,n){const s=this.members.map(r=>r.map(t,n,xu));return Ol.from(s)}forChild(t,n){if(n.isLeaf)return Fn.empty;let s=[];for(let r=0;r<this.members.length;r++){let a=this.members[r].forChild(t,n);a!=ar&&(a instanceof Ol?s=s.concat(a.members):s.push(a))}return Ol.from(s)}eq(t){if(!(t instanceof Ol)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,s=!0;for(let r=0;r<this.members.length;r++){let a=this.members[r].localsInner(t);if(a.length)if(!n)n=a;else{s&&(n=n.slice(),s=!1);for(let o=0;o<a.length;o++)n.push(a[o])}}return n?YE(s?n:n.sort(vu)):Xd}static from(t){switch(t.length){case 0:return ar;case 1:return t[0];default:return new Ol(t.every(n=>n instanceof Fn)?t:t.reduce((n,s)=>n.concat(s instanceof Fn?s:s.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function sze(e,t,n,s,r,a,o){let l=e.slice();for(let d=0,f=a;d<n.maps.length;d++){let m=0;n.maps[d].forEach((g,x,b,w)=>{let j=w-b-(x-g);for(let k=0;k<l.length;k+=3){let S=l[k+1];if(S<0||g>S+f-m)continue;let C=l[k]+f-m;x>=C?l[k+1]=g<=C?-2:-1:g>=f&&j&&(l[k]+=j,l[k+1]+=j)}m+=j}),f=n.maps[d].map(f,-1)}let u=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){u=!0,l[d+1]=-1;continue}let f=n.map(e[d]+a),m=f-r;if(m<0||m>=s.content.size){u=!0;continue}let g=n.map(e[d+1]+a,-1),x=g-r,{index:b,offset:w}=s.content.findIndex(m),j=s.maybeChild(b);if(j&&w==m&&w+j.nodeSize==x){let k=l[d+2].mapInner(n,j,f+1,e[d]+a+1,o);k!=ar?(l[d]=m,l[d+1]=x,l[d+2]=k):(l[d+1]=-2,u=!0)}else u=!0}if(u){let d=rze(l,e,t,n,r,a,o),f=gy(d,s,0,o);t=f.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,g=0;m<f.children.length;m+=3){let x=f.children[m];for(;g<l.length&&l[g]<x;)g+=3;l.splice(g,0,f.children[m],f.children[m+1],f.children[m+2])}}return new Fn(t.sort(vu),l)}function zH(e,t){if(!t||!e.length)return e;let n=[];for(let s=0;s<e.length;s++){let r=e[s];n.push(new wr(r.from+t,r.to+t,r.type))}return n}function rze(e,t,n,s,r,a,o){function l(u,d){for(let f=0;f<u.local.length;f++){let m=u.local[f].map(s,r,d);m?n.push(m):o.onRemove&&o.onRemove(u.local[f].spec)}for(let f=0;f<u.children.length;f+=3)l(u.children[f+2],u.children[f]+d+1)}for(let u=0;u<e.length;u+=3)e[u+1]==-1&&l(e[u+2],t[u]+a+1);return n}function AH(e,t,n){if(t.isLeaf)return null;let s=n+t.nodeSize,r=null;for(let a=0,o;a<e.length;a++)(o=e[a])&&o.from>n&&o.to<s&&((r||(r=[])).push(o),e[a]=null);return r}function MH(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function gy(e,t,n,s){let r=[],a=!1;t.forEach((l,u)=>{let d=AH(e,l,u+n);if(d){a=!0;let f=gy(d,l,n+u+1,s);f!=ar&&r.push(u,u+l.nodeSize,f)}});let o=zH(a?MH(e):e,-n).sort(vu);for(let l=0;l<o.length;l++)o[l].type.valid(t,o[l])||(s.onRemove&&s.onRemove(o[l].spec),o.splice(l--,1));return o.length||r.length?new Fn(o,r):ar}function vu(e,t){return e.from-t.from||e.to-t.to}function YE(e){let t=e;for(let n=0;n<t.length-1;n++){let s=t[n];if(s.from!=s.to)for(let r=n+1;r<t.length;r++){let a=t[r];if(a.from==s.from){a.to!=s.to&&(t==e&&(t=e.slice()),t[r]=a.copy(a.from,s.to),ZD(t,r+1,a.copy(s.to,a.to)));continue}else{a.from<s.to&&(t==e&&(t=e.slice()),t[n]=s.copy(s.from,a.from),ZD(t,r,s.copy(a.from,s.to)));break}}}return t}function ZD(e,t,n){for(;t<e.length&&vu(n,e[t])>0;)t++;e.splice(t,0,n)}function cN(e){let t=[];return e.someProp("decorations",n=>{let s=n(e.state);s&&s!=ar&&t.push(s)}),e.cursorWrapper&&t.push(Fn.create(e.state.doc,[e.cursorWrapper.deco])),Ol.from(t)}const ize={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},aze=Br&&Kl<=11;class oze{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class lze{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new oze,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let r=0;r<s.length;r++)this.queue.push(s[r]);Br&&Kl<=11&&s.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():hr&&t.composing&&s.some(r=>r.type=="childList"&&r.target.nodeName=="TR")?(t.input.badSafariComposition=!0,this.flushSoon()):this.flush()}),aze&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,ize)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(LD(this.view)){if(this.suppressingSelectionUpdates)return Po(this.view);if(Br&&Kl<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&Au(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,s;for(let a=t.focusNode;a;a=Ih(a))n.add(a);for(let a=t.anchorNode;a;a=Ih(a))if(n.has(a)){s=a;break}let r=s&&this.view.docView.nearestDesc(s);if(r&&r.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&LD(t)&&!this.ignoreSelectionChange(s),a=-1,o=-1,l=!1,u=[];if(t.editable)for(let f=0;f<n.length;f++){let m=this.registerMutation(n[f],u);m&&(a=a<0?m.from:Math.min(m.from,a),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(u.some(f=>f.nodeName=="BR")&&(t.input.lastKeyCode==8||t.input.lastKeyCode==46)){for(let f of u)if(f.nodeName=="BR"&&f.parentNode){let m=f.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&f.parentNode.removeChild(f)}}else if(Oi&&u.length){let f=u.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,g]=f;m.parentNode&&m.parentNode.parentNode==g.parentNode?g.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let g of f){let x=g.parentNode;x&&x.nodeName=="LI"&&(!m||dze(t,m)!=x)&&g.remove()}}}let d=null;a<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&d1(s)&&(d=UE(t))&&d.eq(Lt.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Po(t),this.currentSelection.set(s),t.scrollToSelection()):(a>-1||r)&&(a>-1&&(t.docView.markDirty(a,o),cze(t)),t.input.badSafariComposition&&(t.input.badSafariComposition=!1,hze(t,u)),this.handleDOMChange(a,o,l,u),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(s)||Po(t),this.currentSelection.set(s))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let s=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(s==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!s||s.ignoreMutation(t))return null;if(t.type=="childList"){for(let f=0;f<t.addedNodes.length;f++){let m=t.addedNodes[f];n.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(t.target))return{from:s.posBefore,to:s.posAfter};let r=t.previousSibling,a=t.nextSibling;if(Br&&Kl<=11&&t.addedNodes.length)for(let f=0;f<t.addedNodes.length;f++){let{previousSibling:m,nextSibling:g}=t.addedNodes[f];(!m||Array.prototype.indexOf.call(t.addedNodes,m)<0)&&(r=m),(!g||Array.prototype.indexOf.call(t.addedNodes,g)<0)&&(a=g)}let o=r&&r.parentNode==t.target?Qs(r)+1:0,l=s.localPosFromDOM(t.target,o,-1),u=a&&a.parentNode==t.target?Qs(a):t.target.childNodes.length,d=s.localPosFromDOM(t.target,u,1);return{from:l,to:d}}else return t.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=t.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let WD=new WeakMap,KD=!1;function cze(e){if(!WD.has(e)&&(WD.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=Oi,KD)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),KD=!0}}function GD(e,t){let n=t.startContainer,s=t.startOffset,r=t.endContainer,a=t.endOffset,o=e.domAtPos(e.state.selection.anchor);return Au(o.node,o.offset,r,a)&&([n,s,r,a]=[r,a,n,s]),{anchorNode:n,anchorOffset:s,focusNode:r,focusOffset:a}}function uze(e,t){if(t.getComposedRanges){let r=t.getComposedRanges(e.root)[0];if(r)return GD(e,r)}let n;function s(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",s,!0),n?GD(e,n):null}function dze(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let s=e.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function hze(e,t){var n;let{focusNode:s,focusOffset:r}=e.domSelectionRange();for(let a of t)if(((n=a.parentNode)===null||n===void 0?void 0:n.nodeName)=="TR"){let o=a.nextSibling;for(;o&&o.nodeName!="TD"&&o.nodeName!="TH";)o=o.nextSibling;if(o){let l=o;for(;;){let u=l.firstChild;if(!u||u.nodeType!=1||u.contentEditable=="false"||/^(BR|IMG)$/.test(u.nodeName))break;l=u}l.insertBefore(a,l.firstChild),s==a&&e.domSelection().collapse(a,r)}else a.parentNode.removeChild(a)}}function fze(e,t,n){let{node:s,fromOffset:r,toOffset:a,from:o,to:l}=e.docView.parseRange(t,n),u=e.domSelectionRange(),d,f=u.anchorNode;if(f&&e.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:u.anchorOffset}],d1(u)||d.push({node:u.focusNode,offset:u.focusOffset})),tr&&e.input.lastKeyCode===8)for(let j=a;j>r;j--){let k=s.childNodes[j-1],S=k.pmViewDesc;if(k.nodeName=="BR"&&!S){a=j;break}if(!S||S.size)break}let m=e.state.doc,g=e.someProp("domParser")||Wl.fromSchema(e.state.schema),x=m.resolve(o),b=null,w=g.parse(s,{topNode:x.parent,topMatch:x.parent.contentMatchAt(x.index()),topOpen:!0,from:r,to:a,preserveWhitespace:x.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:mze,context:x});if(d&&d[0].pos!=null){let j=d[0].pos,k=d[1]&&d[1].pos;k==null&&(k=j),b={anchor:j+o,head:k+o}}return{doc:w,sel:b,from:o,to:l}}function mze(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(hr&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||hr&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const pze=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function gze(e,t,n,s,r){let a=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let T=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,A=UE(e,T);if(A&&!e.state.selection.eq(A)){if(tr&&To&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",F=>F(e,Xc(13,"Enter"))))return;let D=e.state.tr.setSelection(A);T=="pointer"?D.setMeta("pointer",!0):T=="key"&&D.scrollIntoView(),a&&D.setMeta("composition",a),e.dispatch(D)}return}let o=e.state.doc.resolve(t),l=o.sharedDepth(n);t=o.before(l+1),n=e.state.doc.resolve(n).after(l+1);let u=e.state.selection,d=fze(e,t,n),f=e.state.doc,m=f.slice(d.from,d.to),g,x;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(g=e.state.selection.to,x="end"):(g=e.state.selection.from,x="start"),e.input.lastKeyCode=null;let b=yze(m.content,d.doc.content,d.from,g,x);if(b&&e.input.domChangeCount++,(Lh&&e.input.lastIOSEnter>Date.now()-225||To)&&r.some(T=>T.nodeType==1&&!pze.test(T.nodeName))&&(!b||b.endA>=b.endB)&&e.someProp("handleKeyDown",T=>T(e,Xc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!b)if(s&&u instanceof _t&&!u.empty&&u.$head.sameParent(u.$anchor)&&!e.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))b={start:u.from,endA:u.to,endB:u.to};else{if(d.sel){let T=YD(e,e.state.doc,d.sel);if(T&&!T.eq(e.state.selection)){let A=e.state.tr.setSelection(T);a&&A.setMeta("composition",a),e.dispatch(A)}}return}e.state.selection.from<e.state.selection.to&&b.start==b.endB&&e.state.selection instanceof _t&&(b.start>e.state.selection.from&&b.start<=e.state.selection.from+2&&e.state.selection.from>=d.from?b.start=e.state.selection.from:b.endA<e.state.selection.to&&b.endA>=e.state.selection.to-2&&e.state.selection.to<=d.to&&(b.endB+=e.state.selection.to-b.endA,b.endA=e.state.selection.to)),Br&&Kl<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>d.from&&d.doc.textBetween(b.start-d.from-1,b.start-d.from+1)==" "&&(b.start--,b.endA--,b.endB--);let w=d.doc.resolveNoCache(b.start-d.from),j=d.doc.resolveNoCache(b.endB-d.from),k=f.resolve(b.start),S=w.sameParent(j)&&w.parent.inlineContent&&k.end()>=b.endA;if((Lh&&e.input.lastIOSEnter>Date.now()-225&&(!S||r.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!S&&w.pos<d.doc.content.size&&(!w.sameParent(j)||!w.parent.inlineContent)&&w.pos<j.pos&&!/\S/.test(d.doc.textBetween(w.pos,j.pos,"","")))&&e.someProp("handleKeyDown",T=>T(e,Xc(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>b.start&&vze(f,b.start,b.endA,w,j)&&e.someProp("handleKeyDown",T=>T(e,Xc(8,"Backspace")))){To&&tr&&e.domObserver.suppressSelectionUpdates();return}tr&&b.endB==b.start&&(e.input.lastChromeDelete=Date.now()),To&&!S&&w.start()!=j.start()&&j.parentOffset==0&&w.depth==j.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==b.endA&&(b.endB-=2,j=d.doc.resolveNoCache(b.endB-d.from),setTimeout(()=>{e.someProp("handleKeyDown",function(T){return T(e,Xc(13,"Enter"))})},20));let C=b.start,E=b.endA,z=T=>{let A=T||e.state.tr.replace(C,E,d.doc.slice(b.start-d.from,b.endB-d.from));if(d.sel){let D=YD(e,A.doc,d.sel);D&&!(tr&&e.composing&&D.empty&&(b.start!=b.endB||e.input.lastChromeDelete<Date.now()-100)&&(D.head==C||D.head==A.mapping.map(E)-1)||Br&&D.empty&&D.head==C)&&A.setSelection(D)}return a&&A.setMeta("composition",a),A.scrollIntoView()},R;if(S)if(w.pos==j.pos){Br&&Kl<=11&&w.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Po(e),20));let T=z(e.state.tr.delete(C,E)),A=f.resolve(b.start).marksAcross(f.resolve(b.endA));A&&T.ensureMarks(A),e.dispatch(T)}else if(b.endA==b.endB&&(R=xze(w.parent.content.cut(w.parentOffset,j.parentOffset),k.parent.content.cut(k.parentOffset,b.endA-k.start())))){let T=z(e.state.tr);R.type=="add"?T.addMark(C,E,R.mark):T.removeMark(C,E,R.mark),e.dispatch(T)}else if(w.parent.child(w.index()).isText&&w.index()==j.index()-(j.textOffset?0:1)){let T=w.parent.textBetween(w.parentOffset,j.parentOffset),A=()=>z(e.state.tr.insertText(T,C,E));e.someProp("handleTextInput",D=>D(e,C,E,T,A))||e.dispatch(A())}else e.dispatch(z());else e.dispatch(z())}function YD(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:HE(e,t.resolve(n.anchor),t.resolve(n.head))}function xze(e,t){let n=e.firstChild.marks,s=t.firstChild.marks,r=n,a=s,o,l,u;for(let f=0;f<s.length;f++)r=s[f].removeFromSet(r);for(let f=0;f<n.length;f++)a=n[f].removeFromSet(a);if(r.length==1&&a.length==0)l=r[0],o="add",u=f=>f.mark(l.addToSet(f.marks));else if(r.length==0&&a.length==1)l=a[0],o="remove",u=f=>f.mark(l.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<t.childCount;f++)d.push(u(t.child(f)));if(De.from(d).eq(e))return{mark:l,type:o}}function vze(e,t,n,s,r){if(n-t<=r.pos-s.pos||uN(s,!0,!1)<r.pos)return!1;let a=e.resolve(t);if(!s.parent.isTextblock){let l=a.nodeAfter;return l!=null&&n==t+l.nodeSize}if(a.parentOffset<a.parent.content.size||!a.parent.isTextblock)return!1;let o=e.resolve(uN(a,!0,!0));return!o.parent.isTextblock||o.pos>n||uN(o,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(o.parent.content)}function uN(e,t,n){let s=e.depth,r=t?e.end():e.pos;for(;s>0&&(t||e.indexAfter(s)==e.node(s).childCount);)s--,r++,t=!1;if(n){let a=e.node(s).maybeChild(e.indexAfter(s));for(;a&&!a.isLeaf;)a=a.firstChild,r++}return r}function yze(e,t,n,s,r){let a=e.findDiffStart(t,n);if(a==null)return null;let{a:o,b:l}=e.findDiffEnd(t,n+e.size,n+t.size);if(r=="end"){let u=Math.max(0,a-Math.min(o,l));s-=o+u-a}if(o<a&&e.size<t.size){let u=s<=a&&s>=o?a-s:0;a-=u,a&&a<t.size&&JD(t.textBetween(a-1,a+1))&&(a+=u?1:-1),l=a+(l-o),o=a}else if(l<a){let u=s<=a&&s>=l?a-s:0;a-=u,a&&a<e.size&&JD(e.textBetween(a-1,a+1))&&(a+=u?1:-1),o=a+(o-l),l=a}return{start:a,endA:o,endB:l}}function JD(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class RH{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new D5e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(nP),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=eP(this),QD(this),this.nodeViews=tP(this),this.docView=MD(this.state.doc,XD(this),cN(this),this.dom,this),this.domObserver=new lze(this,(s,r,a,o)=>gze(this,s,r,a,o)),this.domObserver.start(),P5e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&SS(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(nP),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in t)n[s]=t[s];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var s;let r=this.state,a=!1,o=!1;t.storedMarks&&this.composing&&(_H(this),o=!0),this.state=t;let l=r.plugins!=t.plugins||this._props.plugins!=n.plugins;if(l||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let x=tP(this);wze(x,this.nodeViews)&&(this.nodeViews=x,a=!0)}(l||n.handleDOMEvents!=this._props.handleDOMEvents)&&SS(this),this.editable=eP(this),QD(this);let u=cN(this),d=XD(this),f=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",m=a||!this.docView.matchesNode(t.doc,d,u);(m||!t.selection.eq(r.selection))&&(o=!0);let g=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&YTe(this);if(o){this.domObserver.stop();let x=m&&(Br||tr)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&bze(r.selection,t.selection);if(m){let b=tr?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Y5e(this)),(a||!this.docView.update(t.doc,d,u,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=MD(t.doc,d,u,this.dom,this)),b&&(!this.trackWrites||!this.dom.contains(this.trackWrites))&&(x=!0)}x||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&b5e(this))?Po(this,x):(mH(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((s=this.dragging)===null||s===void 0)&&s.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&JTe(g)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof pt){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&_D(this,n.getBoundingClientRect(),t)}else _D(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,t)}}updateDraggedNode(t,n){let s=t.node,r=-1;if(this.state.doc.nodeAt(s.from)==s.node)r=s.from;else{let a=s.from+(this.state.doc.content.size-n.doc.content.size);(a>0&&this.state.doc.nodeAt(a))==s.node&&(r=a)}this.dragging=new EH(t.slice,t.move,r<0?void 0:pt.create(this.state.doc,r))}someProp(t,n){let s=this._props&&this._props[t],r;if(s!=null&&(r=n?n(s):s))return r;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[t];if(l!=null&&(r=n?n(l):l))return r}let a=this.state.plugins;if(a)for(let o=0;o<a.length;o++){let l=a[o].props[t];if(l!=null&&(r=n?n(l):l))return r}}hasFocus(){if(Br){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&XTe(this.dom),Po(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return s5e(this,t)}coordsAtPos(t,n=1){return aH(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,s=-1){let r=this.docView.posFromDOM(t,n,s);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,n){return l5e(this,n||this.state,t)}pasteHTML(t,n){return $p(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return $p(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return qE(this,t)}destroy(){this.docView&&(I5e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],cN(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,VTe())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return $5e(this,t)}domSelectionRange(){let t=this.domSelection();return t?hr&&this.root.nodeType===11&&qTe(this.dom.ownerDocument)==this.dom&&uze(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}RH.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function XD(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let s in n)s=="class"?t.class+=" "+n[s]:s=="style"?t.style=(t.style?t.style+";":"")+n[s]:!t[s]&&s!="contenteditable"&&s!="nodeName"&&(t[s]=String(n[s]))}),t.translate||(t.translate="no"),[wr.node(0,e.state.doc.content.size,t)]}function QD(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:wr.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function eP(e){return!e.someProp("editable",t=>t(e.state)===!1)}function bze(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function tP(e){let t=Object.create(null);function n(s){for(let r in s)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=s[r])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function wze(e,t){let n=0,s=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let r in t)s++;return n!=s}function nP(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var sc={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},xy={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},jze=typeof navigator<"u"&&/Mac/.test(navigator.platform),kze=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var er=0;er<10;er++)sc[48+er]=sc[96+er]=String(er);for(var er=1;er<=24;er++)sc[er+111]="F"+er;for(var er=65;er<=90;er++)sc[er]=String.fromCharCode(er+32),xy[er]=String.fromCharCode(er);for(var dN in sc)xy.hasOwnProperty(dN)||(xy[dN]=sc[dN]);function Nze(e){var t=jze&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||kze&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?xy:sc)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Sze=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),_ze=typeof navigator<"u"&&/Win/.test(navigator.platform);function Cze(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let s,r,a,o;for(let l=0;l<t.length-1;l++){let u=t[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))s=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))Sze?o=!0:r=!0;else throw new Error("Unrecognized modifier name: "+u)}return s&&(n="Alt-"+n),r&&(n="Ctrl-"+n),o&&(n="Meta-"+n),a&&(n="Shift-"+n),n}function Eze(e){let t=Object.create(null);for(let n in e)t[Cze(n)]=e[n];return t}function hN(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function Tze(e){return new Zn({props:{handleKeyDown:OH(e)}})}function OH(e){let t=Eze(e);return function(n,s){let r=Nze(s),a,o=t[hN(r,s)];if(o&&o(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(s.shiftKey){let l=t[hN(r,s,!1)];if(l&&l(n.state,n.dispatch,n))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(_ze&&s.ctrlKey&&s.altKey)&&(a=sc[s.keyCode])&&a!=r){let l=t[hN(a,s)];if(l&&l(n.state,n.dispatch,n))return!0}}return!1}}var zze=Object.defineProperty,JE=(e,t)=>{for(var n in t)zze(e,n,{get:t[n],enumerable:!0})};function m1(e){const{state:t,transaction:n}=e;let{selection:s}=n,{doc:r}=n,{storedMarks:a}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return a},get selection(){return s},get doc(){return r},get tr(){return s=n.selection,r=n.doc,a=n.storedMarks,n}}}var p1=class{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:t,state:n}=this,{view:s}=t,{tr:r}=n,a=this.buildProps(r);return Object.fromEntries(Object.entries(e).map(([o,l])=>[o,(...d)=>{const f=l(...d)(a);return!r.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(r),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,t=!0){const{rawCommands:n,editor:s,state:r}=this,{view:a}=s,o=[],l=!!e,u=e||r.tr,d=()=>(!l&&t&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(u),o.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(n).map(([m,g])=>[m,(...b)=>{const w=this.buildProps(u,t),j=g(...b)(w);return o.push(j),f}])),run:d};return f}createCan(e){const{rawCommands:t,state:n}=this,s=!1,r=e||n.tr,a=this.buildProps(r,s);return{...Object.fromEntries(Object.entries(t).map(([l,u])=>[l,(...d)=>u(...d)({...a,dispatch:void 0})])),chain:()=>this.createChain(r,s)}}buildProps(e,t=!0){const{rawCommands:n,editor:s,state:r}=this,{view:a}=s,o={tr:e,editor:s,view:a,state:m1({state:r,transaction:e}),dispatch:t?()=>{}:void 0,chain:()=>this.createChain(e,t),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...d)=>u(...d)(o)]))}};return o}},DH={};JE(DH,{blur:()=>Aze,clearContent:()=>Mze,clearNodes:()=>Rze,command:()=>Oze,createParagraphNear:()=>Dze,cut:()=>Pze,deleteCurrentNode:()=>Ize,deleteNode:()=>Lze,deleteRange:()=>$ze,deleteSelection:()=>Vze,enter:()=>Bze,exitCode:()=>Fze,extendMarkRange:()=>Uze,first:()=>Hze,focus:()=>Zze,forEach:()=>Wze,insertContent:()=>Kze,insertContentAt:()=>Jze,joinBackward:()=>e4e,joinDown:()=>Qze,joinForward:()=>t4e,joinItemBackward:()=>n4e,joinItemForward:()=>s4e,joinTextblockBackward:()=>r4e,joinTextblockForward:()=>i4e,joinUp:()=>Xze,keyboardShortcut:()=>o4e,lift:()=>l4e,liftEmptyBlock:()=>c4e,liftListItem:()=>u4e,newlineInCode:()=>d4e,resetAttributes:()=>h4e,scrollIntoView:()=>f4e,selectAll:()=>m4e,selectNodeBackward:()=>p4e,selectNodeForward:()=>g4e,selectParentNode:()=>x4e,selectTextblockEnd:()=>v4e,selectTextblockStart:()=>y4e,setContent:()=>b4e,setMark:()=>V4e,setMeta:()=>B4e,setNode:()=>F4e,setNodeSelection:()=>U4e,setTextDirection:()=>H4e,setTextSelection:()=>q4e,sinkListItem:()=>Z4e,splitBlock:()=>W4e,splitListItem:()=>K4e,toggleList:()=>G4e,toggleMark:()=>Y4e,toggleNode:()=>J4e,toggleWrap:()=>X4e,undoInputRule:()=>Q4e,unsetAllMarks:()=>eAe,unsetMark:()=>tAe,unsetTextDirection:()=>nAe,updateAttributes:()=>sAe,wrapIn:()=>rAe,wrapInList:()=>iAe});var Aze=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())==null||n.removeAllRanges())}),!0),Mze=(e=!0)=>({commands:t})=>t.setContent("",{emitUpdate:e}),Rze=()=>({state:e,tr:t,dispatch:n})=>{const{selection:s}=t,{ranges:r}=s;return n&&r.forEach(({$from:a,$to:o})=>{e.doc.nodesBetween(a.pos,o.pos,(l,u)=>{if(l.type.isText)return;const{doc:d,mapping:f}=t,m=d.resolve(f.map(u)),g=d.resolve(f.map(u+l.nodeSize)),x=m.blockRange(g);if(!x)return;const b=cf(x);if(l.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(x.start,w)}(b||b===0)&&t.lift(x,b)})}),!0},Oze=e=>t=>e(t),Dze=()=>({state:e,dispatch:t})=>GU(e,t),Pze=(e,t)=>({editor:n,tr:s})=>{const{state:r}=n,a=r.doc.slice(e.from,e.to);s.deleteRange(e.from,e.to);const o=s.mapping.map(t);return s.insert(o,a.content),s.setSelection(new _t(s.doc.resolve(Math.max(o-1,0)))),!0},Ize=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,s=n.$anchor.node();if(s.content.size>0)return!1;const r=e.selection.$anchor;for(let a=r.depth;a>0;a-=1)if(r.node(a).type===s.type){if(t){const l=r.before(a),u=r.after(a);e.delete(l,u).scrollIntoView()}return!0}return!1};function ks(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}var Lze=e=>({tr:t,state:n,dispatch:s})=>{const r=ks(e,n.schema),a=t.selection.$anchor;for(let o=a.depth;o>0;o-=1)if(a.node(o).type===r){if(s){const u=a.before(o),d=a.after(o);t.delete(u,d).scrollIntoView()}return!0}return!1},$ze=e=>({tr:t,dispatch:n})=>{const{from:s,to:r}=e;return n&&t.delete(s,r),!0},Vze=()=>({state:e,dispatch:t})=>IE(e,t),Bze=()=>({commands:e})=>e.keyboardShortcut("Enter"),Fze=()=>({state:e,dispatch:t})=>STe(e,t);function XE(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function vy(e,t,n={strict:!0}){const s=Object.keys(t);return s.length?s.every(r=>n.strict?t[r]===e[r]:XE(t[r])?t[r].test(e[r]):t[r]===e[r]):!0}function PH(e,t,n={}){return e.find(s=>s.type===t&&vy(Object.fromEntries(Object.keys(n).map(r=>[r,s.attrs[r]])),n))}function sP(e,t,n={}){return!!PH(e,t,n)}function QE(e,t,n){var s;if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if((!r.node||!r.node.marks.some(f=>f.type===t))&&(r=e.parent.childBefore(e.parentOffset)),!r.node||!r.node.marks.some(f=>f.type===t)||(n=n||((s=r.node.marks[0])==null?void 0:s.attrs),!PH([...r.node.marks],t,n)))return;let o=r.index,l=e.start()+r.offset,u=o+1,d=l+r.node.nodeSize;for(;o>0&&sP([...e.parent.child(o-1).marks],t,n);)o-=1,l-=e.parent.child(o).nodeSize;for(;u<e.parent.childCount&&sP([...e.parent.child(u).marks],t,n);)d+=e.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function Zo(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}var Uze=(e,t={})=>({tr:n,state:s,dispatch:r})=>{const a=Zo(e,s.schema),{doc:o,selection:l}=n,{$from:u,from:d,to:f}=l;if(r){const m=QE(u,a,t);if(m&&m.from<=d&&m.to>=f){const g=_t.create(o,m.from,m.to);n.setSelection(g)}}return!0},Hze=e=>t=>{const n=typeof e=="function"?e(t):e;for(let s=0;s<n.length;s+=1)if(n[s](t))return!0;return!1};function IH(e){return e instanceof _t}function ou(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function LH(e,t=null){if(!t)return null;const n=Lt.atStart(e),s=Lt.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return s;const r=n.from,a=s.to;return t==="all"?_t.create(e,ou(0,r,a),ou(e.content.size,r,a)):_t.create(e,ou(t,r,a),ou(t,r,a))}function rP(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function yy(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function qze(){return typeof navigator<"u"?/^((?!chrome|android).)*safari/i.test(navigator.userAgent):!1}var Zze=(e=null,t={})=>({editor:n,view:s,tr:r,dispatch:a})=>{t={scrollIntoView:!0,...t};const o=()=>{(yy()||rP())&&s.dom.focus(),qze()&&!yy()&&!rP()&&s.dom.focus({preventScroll:!0}),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};try{if(s.hasFocus()&&e===null||e===!1)return!0}catch{return!1}if(a&&e===null&&!IH(n.state.selection))return o(),!0;const l=LH(r.doc,e)||n.state.selection,u=n.state.selection.eq(l);return a&&(u||r.setSelection(l),u&&r.storedMarks&&r.setStoredMarks(r.storedMarks),o()),!0},Wze=(e,t)=>n=>e.every((s,r)=>t(s,{...n,index:r})),Kze=(e,t)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),$H=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const s=t[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?e.removeChild(s):s.nodeType===1&&$H(s)}return e};function R0(e){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return $H(n)}function Bp(e,t,n){if(e instanceof Zl||e instanceof De)return e;n={slice:!0,parseOptions:{},...n};const s=typeof e=="object"&&e!==null,r=typeof e=="string";if(s)try{if(Array.isArray(e)&&e.length>0)return De.fromArray(e.map(l=>t.nodeFromJSON(l)));const o=t.nodeFromJSON(e);return n.errorOnInvalidContent&&o.check(),o}catch(a){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:a});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",a),Bp("",t,n)}if(r){if(n.errorOnInvalidContent){let o=!1,l="";const u=new jU({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(n.slice?Wl.fromSchema(u).parseSlice(R0(e),n.parseOptions):Wl.fromSchema(u).parse(R0(e),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const a=Wl.fromSchema(t);return n.slice?a.parseSlice(R0(e),n.parseOptions).content:a.parse(R0(e),n.parseOptions)}return Bp("",t,n)}function Gze(e,t,n){const s=e.steps.length-1;if(s<t)return;const r=e.steps[s];if(!(r instanceof $s||r instanceof Fs))return;const a=e.mapping.maps[s];let o=0;a.forEach((l,u,d,f)=>{o===0&&(o=f)}),e.setSelection(Lt.near(e.doc.resolve(o),n))}var Yze=e=>!("type"in e),Jze=(e,t,n)=>({tr:s,dispatch:r,editor:a})=>{var o;if(r){n={parseOptions:a.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let l;const u=j=>{a.emit("contentError",{editor:a,error:j,disableCollaboration:()=>{"collaboration"in a.storage&&typeof a.storage.collaboration=="object"&&a.storage.collaboration&&(a.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!a.options.enableContentCheck&&a.options.emitContentError)try{Bp(t,a.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(j){u(j)}try{l=Bp(t,a.schema,{parseOptions:d,errorOnInvalidContent:(o=n.errorOnInvalidContent)!=null?o:a.options.enableContentCheck})}catch(j){return u(j),!1}let{from:f,to:m}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},g=!0,x=!0;if((Yze(l)?l:[l]).forEach(j=>{j.check(),g=g?j.isText&&j.marks.length===0:!1,x=x?j.isBlock:!1}),f===m&&x){const{parent:j}=s.doc.resolve(f);j.isTextblock&&!j.type.spec.code&&!j.childCount&&(f-=1,m+=1)}let w;if(g){if(Array.isArray(t))w=t.map(j=>j.text||"").join("");else if(t instanceof De){let j="";t.forEach(k=>{k.text&&(j+=k.text)}),w=j}else typeof t=="object"&&t&&t.text?w=t.text:w=t;s.insertText(w,f,m)}else{w=l;const j=s.doc.resolve(f),k=j.node(),S=j.parentOffset===0,C=k.isText||k.isTextblock,E=k.content.size>0;S&&C&&E&&(f=Math.max(0,f-1)),s.replaceWith(f,m,w)}n.updateSelection&&Gze(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:f,text:w}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:f,text:w})}return!0},Xze=()=>({state:e,dispatch:t})=>jTe(e,t),Qze=()=>({state:e,dispatch:t})=>kTe(e,t),e4e=()=>({state:e,dispatch:t})=>FU(e,t),t4e=()=>({state:e,dispatch:t})=>ZU(e,t),n4e=()=>({state:e,dispatch:t,tr:n})=>{try{const s=l1(e.doc,e.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),t&&t(n),!0)}catch{return!1}},s4e=()=>({state:e,dispatch:t,tr:n})=>{try{const s=l1(e.doc,e.selection.$from.pos,1);return s==null?!1:(n.join(s,2),t&&t(n),!0)}catch{return!1}},r4e=()=>({state:e,dispatch:t})=>bTe(e,t),i4e=()=>({state:e,dispatch:t})=>wTe(e,t);function VH(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function a4e(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let s,r,a,o;for(let l=0;l<t.length-1;l+=1){const u=t[l];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))s=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))yy()||VH()?o=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return s&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),a&&(n=`Shift-${n}`),n}var o4e=e=>({editor:t,view:n,tr:s,dispatch:r})=>{const a=a4e(e).split(/-(?!$)/),o=a.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:a.includes("Alt"),ctrlKey:a.includes("Ctrl"),metaKey:a.includes("Meta"),shiftKey:a.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{n.someProp("handleKeyDown",d=>d(n,l))});return u==null||u.steps.forEach(d=>{const f=d.map(s.mapping);f&&r&&s.maybeStep(f)}),!0};function rc(e,t,n={}){const{from:s,to:r,empty:a}=e.selection,o=t?ks(t,e.schema):null,l=[];e.doc.nodesBetween(s,r,(m,g)=>{if(m.isText)return;const x=Math.max(s,g),b=Math.min(r,g+m.nodeSize);l.push({node:m,from:x,to:b})});const u=r-s,d=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>vy(m.node.attrs,n,{strict:!1}));return a?!!d.length:d.reduce((m,g)=>m+g.to-g.from,0)>=u}var l4e=(e,t={})=>({state:n,dispatch:s})=>{const r=ks(e,n.schema);return rc(n,r,t)?NTe(n,s):!1},c4e=()=>({state:e,dispatch:t})=>YU(e,t),u4e=e=>({state:t,dispatch:n})=>{const s=ks(e,t.schema);return PTe(s)(t,n)},d4e=()=>({state:e,dispatch:t})=>KU(e,t);function g1(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function iP(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((s,r)=>(n.includes(r)||(s[r]=e[r]),s),{})}var h4e=(e,t)=>({tr:n,state:s,dispatch:r})=>{let a=null,o=null;const l=g1(typeof e=="string"?e:e.name,s.schema);if(!l)return!1;l==="node"&&(a=ks(e,s.schema)),l==="mark"&&(o=Zo(e,s.schema));let u=!1;return n.selection.ranges.forEach(d=>{s.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,m)=>{a&&a===f.type&&(u=!0,r&&n.setNodeMarkup(m,void 0,iP(f.attrs,t))),o&&f.marks.length&&f.marks.forEach(g=>{o===g.type&&(u=!0,r&&n.addMark(m,m+f.nodeSize,o.create(iP(g.attrs,t))))})})}),u},f4e=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),m4e=()=>({tr:e,dispatch:t})=>{if(t){const n=new li(e.doc);e.setSelection(n)}return!0},p4e=()=>({state:e,dispatch:t})=>HU(e,t),g4e=()=>({state:e,dispatch:t})=>WU(e,t),x4e=()=>({state:e,dispatch:t})=>ETe(e,t),v4e=()=>({state:e,dispatch:t})=>ATe(e,t),y4e=()=>({state:e,dispatch:t})=>zTe(e,t);function _S(e,t,n={},s={}){return Bp(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}var b4e=(e,{errorOnInvalidContent:t,emitUpdate:n=!0,parseOptions:s={}}={})=>({editor:r,tr:a,dispatch:o,commands:l})=>{const{doc:u}=a;if(s.preserveWhitespace!=="full"){const d=_S(e,r.schema,s,{errorOnInvalidContent:t??r.options.enableContentCheck});return o&&a.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!n),!0}return o&&a.setMeta("preventUpdate",!n),l.insertContentAt({from:0,to:u.content.size},e,{parseOptions:s,errorOnInvalidContent:t??r.options.enableContentCheck})};function BH(e,t){const n=Zo(t,e.schema),{from:s,to:r,empty:a}=e.selection,o=[];a?(e.storedMarks&&o.push(...e.storedMarks),o.push(...e.selection.$head.marks())):e.doc.nodesBetween(s,r,u=>{o.push(...u.marks)});const l=o.find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function FH(e,t){const n=new LU(e);return t.forEach(s=>{s.steps.forEach(r=>{n.step(r)})}),n}function w4e(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function j4e(e,t,n){const s=[];return e.nodesBetween(t.from,t.to,(r,a)=>{n(r)&&s.push({node:r,pos:a})}),s}function k4e(e,t){for(let n=e.depth;n>0;n-=1){const s=e.node(n);if(t(s))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:s}}}function x1(e){return t=>k4e(t.$from,e)}function dt(e,t,n){return e.config[t]===void 0&&e.parent?dt(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?dt(e.parent,t,n):null}):e.config[t]}function eT(e){return e.map(t=>{const n={name:t.name,options:t.options,storage:t.storage},s=dt(t,"addExtensions",n);return s?[t,...eT(s())]:t}).flat(10)}function tT(e,t){const n=Bu.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function UH(e){return typeof e=="function"}function hn(e,t=void 0,...n){return UH(e)?t?e.bind(t)(...n):e(...n):e}function N4e(e={}){return Object.keys(e).length===0&&e.constructor===Object}function $h(e){const t=e.filter(r=>r.type==="extension"),n=e.filter(r=>r.type==="node"),s=e.filter(r=>r.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:s}}function HH(e){const t=[],{nodeExtensions:n,markExtensions:s}=$h(e),r=[...n,...s],a={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:r},u=dt(o,"addGlobalAttributes",l);if(!u)return;u().forEach(f=>{f.types.forEach(m=>{Object.entries(f.attributes).forEach(([g,x])=>{t.push({type:m,name:g,attribute:{...a,...x}})})})})}),r.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},u=dt(o,"addAttributes",l);if(!u)return;const d=u();Object.entries(d).forEach(([f,m])=>{const g={...a,...m};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,t.push({type:o.name,name:f,attribute:g})})}),t}function ts(...e){return e.filter(t=>!!t).reduce((t,n)=>{const s={...t};return Object.entries(n).forEach(([r,a])=>{if(!s[r]){s[r]=a;return}if(r==="class"){const l=a?String(a).split(" "):[],u=s[r]?s[r].split(" "):[],d=l.filter(f=>!u.includes(f));s[r]=[...u,...d].join(" ")}else if(r==="style"){const l=a?a.split(";").map(f=>f.trim()).filter(Boolean):[],u=s[r]?s[r].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;u.forEach(f=>{const[m,g]=f.split(":").map(x=>x.trim());d.set(m,g)}),l.forEach(f=>{const[m,g]=f.split(":").map(x=>x.trim());d.set(m,g)}),s[r]=Array.from(d.entries()).map(([f,m])=>`${f}: ${m}`).join("; ")}else s[r]=a}),s},{})}function Fp(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,s)=>ts(n,s),{})}function S4e(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function aP(e,t){return"style"in e?e:{...e,getAttrs:n=>{const s=e.getAttrs?e.getAttrs(n):e.attrs;if(s===!1)return!1;const r=t.reduce((a,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(n):S4e(n.getAttribute(o.name));return l==null?a:{...a,[o.name]:l}},{});return{...s,...r}}}}function oP(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&N4e(n)?!1:n!=null))}function lP(e){var t,n;const s={};return!((t=e==null?void 0:e.attribute)!=null&&t.isRequired)&&"default"in((e==null?void 0:e.attribute)||{})&&(s.default=e.attribute.default),((n=e==null?void 0:e.attribute)==null?void 0:n.validate)!==void 0&&(s.validate=e.attribute.validate),[e.name,s]}function _4e(e,t){var n;const s=HH(e),{nodeExtensions:r,markExtensions:a}=$h(e),o=(n=r.find(d=>dt(d,"topNode")))==null?void 0:n.name,l=Object.fromEntries(r.map(d=>{const f=s.filter(k=>k.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:t},g=e.reduce((k,S)=>{const C=dt(S,"extendNodeSchema",m);return{...k,...C?C(d):{}}},{}),x=oP({...g,content:hn(dt(d,"content",m)),marks:hn(dt(d,"marks",m)),group:hn(dt(d,"group",m)),inline:hn(dt(d,"inline",m)),atom:hn(dt(d,"atom",m)),selectable:hn(dt(d,"selectable",m)),draggable:hn(dt(d,"draggable",m)),code:hn(dt(d,"code",m)),whitespace:hn(dt(d,"whitespace",m)),linebreakReplacement:hn(dt(d,"linebreakReplacement",m)),defining:hn(dt(d,"defining",m)),isolating:hn(dt(d,"isolating",m)),attrs:Object.fromEntries(f.map(lP))}),b=hn(dt(d,"parseHTML",m));b&&(x.parseDOM=b.map(k=>aP(k,f)));const w=dt(d,"renderHTML",m);w&&(x.toDOM=k=>w({node:k,HTMLAttributes:Fp(k,f)}));const j=dt(d,"renderText",m);return j&&(x.toText=j),[d.name,x]})),u=Object.fromEntries(a.map(d=>{const f=s.filter(j=>j.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:t},g=e.reduce((j,k)=>{const S=dt(k,"extendMarkSchema",m);return{...j,...S?S(d):{}}},{}),x=oP({...g,inclusive:hn(dt(d,"inclusive",m)),excludes:hn(dt(d,"excludes",m)),group:hn(dt(d,"group",m)),spanning:hn(dt(d,"spanning",m)),code:hn(dt(d,"code",m)),attrs:Object.fromEntries(f.map(lP))}),b=hn(dt(d,"parseHTML",m));b&&(x.parseDOM=b.map(j=>aP(j,f)));const w=dt(d,"renderHTML",m);return w&&(x.toDOM=j=>w({mark:j,HTMLAttributes:Fp(j,f)})),[d.name,x]}));return new jU({topNode:o,nodes:l,marks:u})}function C4e(e){const t=e.filter((n,s)=>e.indexOf(n)!==s);return Array.from(new Set(t))}function by(e){return e.sort((n,s)=>{const r=dt(n,"priority")||100,a=dt(s,"priority")||100;return r>a?-1:r<a?1:0})}function qH(e){const t=by(eT(e)),n=C4e(t.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),t}function ZH(e,t,n){const{from:s,to:r}=t,{blockSeparator:a=`

`,textSerializers:o={}}=n||{};let l="";return e.nodesBetween(s,r,(u,d,f,m)=>{var g;u.isBlock&&d>s&&(l+=a);const x=o==null?void 0:o[u.type.name];if(x)return f&&(l+=x({node:u,pos:d,parent:f,index:m,range:t})),!1;u.isText&&(l+=(g=u==null?void 0:u.text)==null?void 0:g.slice(Math.max(s,d)-d,r-d))}),l}function E4e(e,t){const n={from:0,to:e.content.size};return ZH(e,n,t)}function WH(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}function T4e(e,t){const n=ks(t,e.schema),{from:s,to:r}=e.selection,a=[];e.doc.nodesBetween(s,r,l=>{a.push(l)});const o=a.reverse().find(l=>l.type.name===n.name);return o?{...o.attrs}:{}}function KH(e,t){const n=g1(typeof t=="string"?t:t.name,e.schema);return n==="node"?T4e(e,t):n==="mark"?BH(e,t):{}}function z4e(e,t=JSON.stringify){const n={};return e.filter(s=>{const r=t(s);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function A4e(e){const t=z4e(e);return t.length===1?t:t.filter((n,s)=>!t.filter((a,o)=>o!==s).some(a=>n.oldRange.from>=a.oldRange.from&&n.oldRange.to<=a.oldRange.to&&n.newRange.from>=a.newRange.from&&n.newRange.to<=a.newRange.to))}function GH(e){const{mapping:t,steps:n}=e,s=[];return t.maps.forEach((r,a)=>{const o=[];if(r.ranges.length)r.forEach((l,u)=>{o.push({from:l,to:u})});else{const{from:l,to:u}=n[a];if(l===void 0||u===void 0)return;o.push({from:l,to:u})}o.forEach(({from:l,to:u})=>{const d=t.slice(a).map(l,-1),f=t.slice(a).map(u),m=t.invert().map(d,-1),g=t.invert().map(f);s.push({oldRange:{from:m,to:g},newRange:{from:d,to:f}})})}),A4e(s)}function nT(e,t,n){const s=[];return e===t?n.resolve(e).marks().forEach(r=>{const a=n.resolve(e),o=QE(a,r.type);o&&s.push({mark:r,...o})}):n.nodesBetween(e,t,(r,a)=>{!r||(r==null?void 0:r.nodeSize)===void 0||s.push(...r.marks.map(o=>({from:a,to:a+r.nodeSize,mark:o})))}),s}var M4e=(e,t,n,s=20)=>{const r=e.doc.resolve(n);let a=s,o=null;for(;a>0&&o===null;){const l=r.node(a);(l==null?void 0:l.type.name)===t?o=l:a-=1}return[o,a]};function O0(e,t){return t.nodes[e]||t.marks[e]||null}function uv(e,t,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const r=e.find(a=>a.type===t&&a.name===s);return r?r.attribute.keepOnSplit:!1}))}var R4e=(e,t=500)=>{let n="";const s=e.parentOffset;return e.parent.nodesBetween(Math.max(0,s-t),s,(r,a,o,l)=>{var u,d;const f=((d=(u=r.type.spec).toText)==null?void 0:d.call(u,{node:r,pos:a,parent:o,index:l}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?f:f.slice(0,Math.max(0,s-a))}),n};function CS(e,t,n={}){const{empty:s,ranges:r}=e.selection,a=t?Zo(t,e.schema):null;if(s)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>a?a.name===m.type.name:!0).find(m=>vy(m.attrs,n,{strict:!1}));let o=0;const l=[];if(r.forEach(({$from:m,$to:g})=>{const x=m.pos,b=g.pos;e.doc.nodesBetween(x,b,(w,j)=>{if(!w.isText&&!w.marks.length)return;const k=Math.max(x,j),S=Math.min(b,j+w.nodeSize),C=S-k;o+=C,l.push(...w.marks.map(E=>({mark:E,from:k,to:S})))})}),o===0)return!1;const u=l.filter(m=>a?a.name===m.mark.type.name:!0).filter(m=>vy(m.mark.attrs,n,{strict:!1})).reduce((m,g)=>m+g.to-g.from,0),d=l.filter(m=>a?m.mark.type!==a&&m.mark.type.excludes(a):!0).reduce((m,g)=>m+g.to-g.from,0);return(u>0?u+d:u)>=o}function O4e(e,t,n={}){if(!t)return rc(e,null,n)||CS(e,null,n);const s=g1(t,e.schema);return s==="node"?rc(e,t,n):s==="mark"?CS(e,t,n):!1}var D4e=(e,t)=>{const{$from:n,$to:s,$anchor:r}=e.selection;if(t){const a=x1(l=>l.type.name===t)(e.selection);if(!a)return!1;const o=e.doc.resolve(a.pos+1);return r.pos+1===o.end()}return!(s.parentOffset<s.parent.nodeSize-2||n.pos!==s.pos)},P4e=e=>{const{$from:t,$to:n}=e.selection;return!(t.parentOffset>0||t.pos!==n.pos)};function cP(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function uP(e,t){const{nodeExtensions:n}=$h(t),s=n.find(o=>o.name===e);if(!s)return!1;const r={name:s.name,options:s.options,storage:s.storage},a=hn(dt(s,"group",r));return typeof a!="string"?!1:a.split(" ").includes("list")}function v1(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((s=e.text)!=null?s:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let r=!0;return e.content.forEach(a=>{r!==!1&&(v1(a,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function YH(e){return e instanceof pt}var JH=class XH{constructor(t){this.position=t}static fromJSON(t){return new XH(t.position)}toJSON(){return{position:this.position}}};function I4e(e,t){const n=t.mapping.mapResult(e.position);return{position:new JH(n.pos),mapResult:n}}function L4e(e){return new JH(e)}function $4e(e,t,n){var s;const{selection:r}=t;let a=null;if(IH(r)&&(a=r.$cursor),a){const l=(s=e.storedMarks)!=null?s:a.marks();return a.parent.type.allowsMarkType(n)&&(!!n.isInSet(l)||!l.some(d=>d.type.excludes(n)))}const{ranges:o}=r;return o.some(({$from:l,$to:u})=>{let d=l.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(l.pos,u.pos,(f,m,g)=>{if(d)return!1;if(f.isInline){const x=!g||g.type.allowsMarkType(n),b=!!n.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(n));d=x&&b}return!d}),d})}var V4e=(e,t={})=>({tr:n,state:s,dispatch:r})=>{const{selection:a}=n,{empty:o,ranges:l}=a,u=Zo(e,s.schema);if(r)if(o){const d=BH(s,u);n.addStoredMark(u.create({...d,...t}))}else l.forEach(d=>{const f=d.$from.pos,m=d.$to.pos;s.doc.nodesBetween(f,m,(g,x)=>{const b=Math.max(x,f),w=Math.min(x+g.nodeSize,m);g.marks.find(k=>k.type===u)?g.marks.forEach(k=>{u===k.type&&n.addMark(b,w,u.create({...k.attrs,...t}))}):n.addMark(b,w,u.create(t))})});return $4e(s,n,u)},B4e=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),F4e=(e,t={})=>({state:n,dispatch:s,chain:r})=>{const a=ks(e,n.schema);let o;return n.selection.$anchor.sameParent(n.selection.$head)&&(o=n.selection.$anchor.parent.attrs),a.isTextblock?r().command(({commands:l})=>kD(a,{...o,...t})(n)?!0:l.clearNodes()).command(({state:l})=>kD(a,{...o,...t})(l,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},U4e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:s}=t,r=ou(e,0,s.content.size),a=pt.create(s,r);t.setSelection(a)}return!0},H4e=(e,t)=>({tr:n,state:s,dispatch:r})=>{const{selection:a}=s;let o,l;return typeof t=="number"?(o=t,l=t):t&&"from"in t&&"to"in t?(o=t.from,l=t.to):(o=a.from,l=a.to),r&&n.doc.nodesBetween(o,l,(u,d)=>{u.isText||n.setNodeMarkup(d,void 0,{...u.attrs,dir:e})}),!0},q4e=e=>({tr:t,dispatch:n})=>{if(n){const{doc:s}=t,{from:r,to:a}=typeof e=="number"?{from:e,to:e}:e,o=_t.atStart(s).from,l=_t.atEnd(s).to,u=ou(r,o,l),d=ou(a,o,l),f=_t.create(s,u,d);t.setSelection(f)}return!0},Z4e=e=>({state:t,dispatch:n})=>{const s=ks(e,t.schema);return $Te(s)(t,n)};function dP(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const s=n.filter(r=>t==null?void 0:t.includes(r.type.name));e.tr.ensureMarks(s)}}var W4e=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:s,editor:r})=>{const{selection:a,doc:o}=t,{$from:l,$to:u}=a,d=r.extensionManager.attributes,f=uv(d,l.node().type.name,l.node().attrs);if(a instanceof pt&&a.node.isBlock)return!l.parentOffset||!Do(o,l.pos)?!1:(s&&(e&&dP(n,r.extensionManager.splittableMarks),t.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=u.parentOffset===u.parent.content.size,g=l.depth===0?void 0:w4e(l.node(-1).contentMatchAt(l.indexAfter(-1)));let x=m&&g?[{type:g,attrs:f}]:void 0,b=Do(t.doc,t.mapping.map(l.pos),1,x);if(!x&&!b&&Do(t.doc,t.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(b=!0,x=g?[{type:g,attrs:f}]:void 0),s){if(b&&(a instanceof _t&&t.deleteSelection(),t.split(t.mapping.map(l.pos),1,x),g&&!m&&!l.parentOffset&&l.parent.type!==g)){const w=t.mapping.map(l.before()),j=t.doc.resolve(w);l.node(-1).canReplaceWith(j.index(),j.index()+1,g)&&t.setNodeMarkup(t.mapping.map(l.before()),g)}e&&dP(n,r.extensionManager.splittableMarks),t.scrollIntoView()}return b},K4e=(e,t={})=>({tr:n,state:s,dispatch:r,editor:a})=>{var o;const l=ks(e,s.schema),{$from:u,$to:d}=s.selection,f=s.selection.node;if(f&&f.isBlock||u.depth<2||!u.sameParent(d))return!1;const m=u.node(-1);if(m.type!==l)return!1;const g=a.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(r){let k=De.empty;const S=u.index(-1)?1:u.index(-2)?2:3;for(let A=u.depth-S;A>=u.depth-3;A-=1)k=De.from(u.node(A).copy(k));const C=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,E={...uv(g,u.node().type.name,u.node().attrs),...t},z=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(E))||void 0;k=k.append(De.from(l.createAndFill(null,z)||void 0));const R=u.before(u.depth-(S-1));n.replace(R,u.after(-C),new Ke(k,4-S,0));let T=-1;n.doc.nodesBetween(R,n.doc.content.size,(A,D)=>{if(T>-1)return!1;A.isTextblock&&A.content.size===0&&(T=D+1)}),T>-1&&n.setSelection(_t.near(n.doc.resolve(T))),n.scrollIntoView()}return!0}const x=d.pos===u.end()?m.contentMatchAt(0).defaultType:null,b={...uv(g,m.type.name,m.attrs),...t},w={...uv(g,u.node().type.name,u.node().attrs),...t};n.delete(u.pos,d.pos);const j=x?[{type:l,attrs:b},{type:x,attrs:w}]:[{type:l,attrs:b}];if(!Do(n.doc,u.pos,2))return!1;if(r){const{selection:k,storedMarks:S}=s,{splittableMarks:C}=a.extensionManager,E=S||k.$to.parentOffset&&k.$from.marks();if(n.split(u.pos,2,j).scrollIntoView(),!E||!r)return!0;const z=E.filter(R=>C.includes(R.type.name));n.ensureMarks(z)}return!0},fN=(e,t)=>{const n=x1(o=>o.type===t)(e.selection);if(!n)return!0;const s=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const r=e.doc.nodeAt(s);return n.node.type===(r==null?void 0:r.type)&&mc(e.doc,n.pos)&&e.join(n.pos),!0},mN=(e,t)=>{const n=x1(o=>o.type===t)(e.selection);if(!n)return!0;const s=e.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const r=e.doc.nodeAt(s);return n.node.type===(r==null?void 0:r.type)&&mc(e.doc,s)&&e.join(s),!0},G4e=(e,t,n,s={})=>({editor:r,tr:a,state:o,dispatch:l,chain:u,commands:d,can:f})=>{const{extensions:m,splittableMarks:g}=r.extensionManager,x=ks(e,o.schema),b=ks(t,o.schema),{selection:w,storedMarks:j}=o,{$from:k,$to:S}=w,C=k.blockRange(S),E=j||w.$to.parentOffset&&w.$from.marks();if(!C)return!1;const z=x1(R=>uP(R.type.name,m))(w);if(C.depth>=1&&z&&C.depth-z.depth<=1){if(z.node.type===x)return d.liftListItem(b);if(uP(z.node.type.name,m)&&x.validContent(z.node.content)&&l)return u().command(()=>(a.setNodeMarkup(z.pos,x),!0)).command(()=>fN(a,x)).command(()=>mN(a,x)).run()}return!n||!E||!l?u().command(()=>f().wrapInList(x,s)?!0:d.clearNodes()).wrapInList(x,s).command(()=>fN(a,x)).command(()=>mN(a,x)).run():u().command(()=>{const R=f().wrapInList(x,s),T=E.filter(A=>g.includes(A.type.name));return a.ensureMarks(T),R?!0:d.clearNodes()}).wrapInList(x,s).command(()=>fN(a,x)).command(()=>mN(a,x)).run()},Y4e=(e,t={},n={})=>({state:s,commands:r})=>{const{extendEmptyMarkRange:a=!1}=n,o=Zo(e,s.schema);return CS(s,o,t)?r.unsetMark(o,{extendEmptyMarkRange:a}):r.setMark(o,t)},J4e=(e,t,n={})=>({state:s,commands:r})=>{const a=ks(e,s.schema),o=ks(t,s.schema),l=rc(s,a,n);let u;return s.selection.$anchor.sameParent(s.selection.$head)&&(u=s.selection.$anchor.parent.attrs),l?r.setNode(o,u):r.setNode(a,{...u,...n})},X4e=(e,t={})=>({state:n,commands:s})=>{const r=ks(e,n.schema);return rc(n,r,t)?s.lift(r):s.wrapIn(r,t)},Q4e=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let s=0;s<n.length;s+=1){const r=n[s];let a;if(r.spec.isInputRules&&(a=r.getState(e))){if(t){const o=e.tr,l=a.transform;for(let u=l.steps.length-1;u>=0;u-=1)o.step(l.steps[u].invert(l.docs[u]));if(a.text){const u=o.doc.resolve(a.from).marks();o.replaceWith(a.from,a.to,e.schema.text(a.text,u))}else o.delete(a.from,a.to)}return!0}}return!1},eAe=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:s,ranges:r}=n;return s||t&&r.forEach(a=>{e.removeMark(a.$from.pos,a.$to.pos)}),!0},tAe=(e,t={})=>({tr:n,state:s,dispatch:r})=>{var a;const{extendEmptyMarkRange:o=!1}=t,{selection:l}=n,u=Zo(e,s.schema),{$from:d,empty:f,ranges:m}=l;if(!r)return!0;if(f&&o){let{from:g,to:x}=l;const b=(a=d.marks().find(j=>j.type===u))==null?void 0:a.attrs,w=QE(d,u,b);w&&(g=w.from,x=w.to),n.removeMark(g,x,u)}else m.forEach(g=>{n.removeMark(g.$from.pos,g.$to.pos,u)});return n.removeStoredMark(u),!0},nAe=e=>({tr:t,state:n,dispatch:s})=>{const{selection:r}=n;let a,o;return typeof e=="number"?(a=e,o=e):e&&"from"in e&&"to"in e?(a=e.from,o=e.to):(a=r.from,o=r.to),s&&t.doc.nodesBetween(a,o,(l,u)=>{if(l.isText)return;const d={...l.attrs};delete d.dir,t.setNodeMarkup(u,void 0,d)}),!0},sAe=(e,t={})=>({tr:n,state:s,dispatch:r})=>{let a=null,o=null;const l=g1(typeof e=="string"?e:e.name,s.schema);if(!l)return!1;l==="node"&&(a=ks(e,s.schema)),l==="mark"&&(o=Zo(e,s.schema));let u=!1;return n.selection.ranges.forEach(d=>{const f=d.$from.pos,m=d.$to.pos;let g,x,b,w;n.selection.empty?s.doc.nodesBetween(f,m,(j,k)=>{a&&a===j.type&&(u=!0,b=Math.max(k,f),w=Math.min(k+j.nodeSize,m),g=k,x=j)}):s.doc.nodesBetween(f,m,(j,k)=>{k<f&&a&&a===j.type&&(u=!0,b=Math.max(k,f),w=Math.min(k+j.nodeSize,m),g=k,x=j),k>=f&&k<=m&&(a&&a===j.type&&(u=!0,r&&n.setNodeMarkup(k,void 0,{...j.attrs,...t})),o&&j.marks.length&&j.marks.forEach(S=>{if(o===S.type&&(u=!0,r)){const C=Math.max(k,f),E=Math.min(k+j.nodeSize,m);n.addMark(C,E,o.create({...S.attrs,...t}))}}))}),x&&(g!==void 0&&r&&n.setNodeMarkup(g,void 0,{...x.attrs,...t}),o&&x.marks.length&&x.marks.forEach(j=>{o===j.type&&r&&n.addMark(b,w,o.create({...j.attrs,...t}))}))}),u},rAe=(e,t={})=>({state:n,dispatch:s})=>{const r=ks(e,n.schema);return MTe(r,t)(n,s)},iAe=(e,t={})=>({state:n,dispatch:s})=>{const r=ks(e,n.schema);return RTe(r,t)(n,s)},aAe=class{constructor(){this.callbacks={}}on(e,t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(t),this}emit(e,...t){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,t)),this}off(e,t){const n=this.callbacks[e];return n&&(t?this.callbacks[e]=n.filter(s=>s!==t):delete this.callbacks[e]),this}once(e,t){const n=(...s)=>{this.off(e,n),t.apply(this,s)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}},y1=class{constructor(e){var t;this.find=e.find,this.handler=e.handler,this.undoable=(t=e.undoable)!=null?t:!0}},oAe=(e,t)=>{if(XE(t))return t.exec(e);const n=t(e);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=e,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function D0(e){var t;const{editor:n,from:s,to:r,text:a,rules:o,plugin:l}=e,{view:u}=n;if(u.composing)return!1;const d=u.state.doc.resolve(s);if(d.parent.type.spec.code||(t=d.nodeBefore||d.nodeAfter)!=null&&t.marks.find(g=>g.type.spec.code))return!1;let f=!1;const m=R4e(d)+a;return o.forEach(g=>{if(f)return;const x=oAe(m,g.find);if(!x)return;const b=u.state.tr,w=m1({state:u.state,transaction:b}),j={from:s-(x[0].length-a.length),to:r},{commands:k,chain:S,can:C}=new p1({editor:n,state:w});g.handler({state:w,range:j,match:x,commands:k,chain:S,can:C})===null||!b.steps.length||(g.undoable&&b.setMeta(l,{transform:b,from:s,to:r,text:a}),u.dispatch(b),f=!0)}),f}function lAe(e){const{editor:t,rules:n}=e,s=new Zn({state:{init(){return null},apply(r,a,o){const l=r.getMeta(s);if(l)return l;const u=r.getMeta("applyInputRules");return!!u&&setTimeout(()=>{let{text:f}=u;typeof f=="string"?f=f:f=tT(De.from(f),o.schema);const{from:m}=u,g=m+f.length;D0({editor:t,from:m,to:g,text:f,rules:n,plugin:s})}),r.selectionSet||r.docChanged?null:a}},props:{handleTextInput(r,a,o,l){return D0({editor:t,from:a,to:o,text:l,rules:n,plugin:s})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:a}=r.state.selection;a&&D0({editor:t,from:a.pos,to:a.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(r,a){if(a.key!=="Enter")return!1;const{$cursor:o}=r.state.selection;return o?D0({editor:t,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function cAe(e){return Object.prototype.toString.call(e).slice(8,-1)}function P0(e){return cAe(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function QH(e,t){const n={...e};return P0(e)&&P0(t)&&Object.keys(t).forEach(s=>{P0(t[s])&&P0(e[s])?n[s]=QH(e[s],t[s]):n[s]=t[s]}),n}var sT=class{constructor(e={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...e},this.name=this.config.name}get options(){return{...hn(dt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...hn(dt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(e={}){const t=this.extend({...this.config,addOptions:()=>QH(this.options,e)});return t.name=this.name,t.parent=this.parent,t}extend(e={}){const t=new this.constructor({...this.config,...e});return t.parent=this,this.child=t,t.name="name"in e?e.name:t.parent.name,t}},gc=class eq extends sT{constructor(){super(...arguments),this.type="mark"}static create(t={}){const n=typeof t=="function"?t():t;return new eq(n)}static handleExit({editor:t,mark:n}){const{tr:s}=t.state,r=t.state.selection.$from;if(r.pos===r.end()){const o=r.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===n.name))return!1;const u=o.find(d=>(d==null?void 0:d.type.name)===n.name);return u&&s.removeStoredMark(u),s.insertText(" ",r.pos),t.view.dispatch(s),!0}return!1}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function uAe(e){return typeof e=="number"}var dAe=class{constructor(e){this.find=e.find,this.handler=e.handler}},hAe=(e,t,n)=>{if(XE(t))return[...e.matchAll(t)];const s=t(e,n);return s?s.map(r=>{const a=[r.text];return a.index=r.index,a.input=e,a.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),a.push(r.replaceWith)),a}):[]};function fAe(e){const{editor:t,state:n,from:s,to:r,rule:a,pasteEvent:o,dropEvent:l}=e,{commands:u,chain:d,can:f}=new p1({editor:t,state:n}),m=[];return n.doc.nodesBetween(s,r,(x,b)=>{var w,j,k,S,C;if((j=(w=x.type)==null?void 0:w.spec)!=null&&j.code||!(x.isText||x.isTextblock||x.isInline))return;const E=(C=(S=(k=x.content)==null?void 0:k.size)!=null?S:x.nodeSize)!=null?C:0,z=Math.max(s,b),R=Math.min(r,b+E);if(z>=R)return;const T=x.isText?x.text||"":x.textBetween(z-b,R-b,void 0,"");hAe(T,a.find,o).forEach(D=>{if(D.index===void 0)return;const F=z+D.index+1,V=F+D[0].length,$={from:n.tr.mapping.map(F),to:n.tr.mapping.map(V)},q=a.handler({state:n,range:$,match:D,commands:u,chain:d,can:f,pasteEvent:o,dropEvent:l});m.push(q)})}),m.every(x=>x!==null)}var I0=null,mAe=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)==null||t.setData("text/html",e),n};function pAe(e){const{editor:t,rules:n}=e;let s=null,r=!1,a=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const u=({state:f,from:m,to:g,rule:x,pasteEvt:b})=>{const w=f.tr,j=m1({state:f,transaction:w});if(!(!fAe({editor:t,state:j,from:Math.max(m-1,0),to:g.b-1,rule:x,pasteEvent:b,dropEvent:l})||!w.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return n.map(f=>new Zn({view(m){const g=b=>{var w;s=(w=m.dom.parentElement)!=null&&w.contains(b.target)?m.dom.parentElement:null,s&&(I0=t)},x=()=>{I0&&(I0=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",x),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",x)}}},props:{handleDOMEvents:{drop:(m,g)=>{if(a=s===m.dom.parentElement,l=g,!a){const x=I0;x!=null&&x.isEditable&&setTimeout(()=>{const b=x.state.selection;b&&x.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,g)=>{var x;const b=(x=g.clipboardData)==null?void 0:x.getData("text/html");return o=g,r=!!(b!=null&&b.includes("data-pm-slice")),!1}}},appendTransaction:(m,g,x)=>{const b=m[0],w=b.getMeta("uiEvent")==="paste"&&!r,j=b.getMeta("uiEvent")==="drop"&&!a,k=b.getMeta("applyPasteRules"),S=!!k;if(!w&&!j&&!S)return;if(S){let{text:z}=k;typeof z=="string"?z=z:z=tT(De.from(z),x.schema);const{from:R}=k,T=R+z.length,A=mAe(z);return u({rule:f,state:x,from:R,to:{b:T},pasteEvt:A})}const C=g.doc.content.findDiffStart(x.doc.content),E=g.doc.content.findDiffEnd(x.doc.content);if(!(!uAe(C)||!E||C===E.b))return u({rule:f,state:x,from:C,to:E,pasteEvt:o})}}))}var b1=class{constructor(e,t){this.splittableMarks=[],this.editor=t,this.baseExtensions=e,this.extensions=qH(e),this.schema=_4e(this.extensions,t),this.setupExtensions()}get commands(){return this.extensions.reduce((e,t)=>{const n={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:O0(t.name,this.schema)},s=dt(t,"addCommands",n);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this;return by([...this.extensions].reverse()).flatMap(s=>{const r={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:e,type:O0(s.name,this.schema)},a=[],o=dt(s,"addKeyboardShortcuts",r);let l={};if(s.type==="mark"&&dt(s,"exitable",r)&&(l.ArrowRight=()=>gc.handleExit({editor:e,mark:s})),o){const g=Object.fromEntries(Object.entries(o()).map(([x,b])=>[x,()=>b({editor:e})]));l={...l,...g}}const u=Tze(l);a.push(u);const d=dt(s,"addInputRules",r);if(cP(s,e.options.enableInputRules)&&d){const g=d();if(g&&g.length){const x=lAe({editor:e,rules:g}),b=Array.isArray(x)?x:[x];a.push(...b)}}const f=dt(s,"addPasteRules",r);if(cP(s,e.options.enablePasteRules)&&f){const g=f();if(g&&g.length){const x=pAe({editor:e,rules:g});a.push(...x)}}const m=dt(s,"addProseMirrorPlugins",r);if(m){const g=m();a.push(...g)}return a})}get attributes(){return HH(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:t}=$h(this.extensions);return Object.fromEntries(t.filter(n=>!!dt(n,"addNodeView")).map(n=>{const s=this.attributes.filter(u=>u.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:ks(n.name,this.schema)},a=dt(n,"addNodeView",r);if(!a)return[];const o=a();if(!o)return[];const l=(u,d,f,m,g)=>{const x=Fp(u,s);return o({node:u,view:d,getPos:f,decorations:m,innerDecorations:g,editor:e,extension:n,HTMLAttributes:x})};return[n.name,l]}))}dispatchTransaction(e){const{editor:t}=this;return by([...this.extensions].reverse()).reduceRight((s,r)=>{const a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:O0(r.name,this.schema)},o=dt(r,"dispatchTransaction",a);return o?l=>{o.call(a,{transaction:l,next:s})}:s},e)}get markViews(){const{editor:e}=this,{markExtensions:t}=$h(this.extensions);return Object.fromEntries(t.filter(n=>!!dt(n,"addMarkView")).map(n=>{const s=this.attributes.filter(l=>l.type===n.name),r={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:e,type:Zo(n.name,this.schema)},a=dt(n,"addMarkView",r);if(!a)return[];const o=(l,u,d)=>{const f=Fp(l,s);return a()({mark:l,view:u,inline:d,editor:e,extension:n,HTMLAttributes:f,updateAttributes:m=>{zAe(l,e,m)}})};return[n.name,o]}))}setupExtensions(){const e=this.extensions;this.editor.extensionStorage=Object.fromEntries(e.map(t=>[t.name,t.storage])),e.forEach(t=>{var n;const s={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:this.editor,type:O0(t.name,this.schema)};t.type==="mark"&&((n=hn(dt(t,"keepOnSplit",s)))==null||n)&&this.splittableMarks.push(t.name);const r=dt(t,"onBeforeCreate",s),a=dt(t,"onCreate",s),o=dt(t,"onUpdate",s),l=dt(t,"onSelectionUpdate",s),u=dt(t,"onTransaction",s),d=dt(t,"onFocus",s),f=dt(t,"onBlur",s),m=dt(t,"onDestroy",s);r&&this.editor.on("beforeCreate",r),a&&this.editor.on("create",a),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),u&&this.editor.on("transaction",u),d&&this.editor.on("focus",d),f&&this.editor.on("blur",f),m&&this.editor.on("destroy",m)})}};b1.resolve=qH;b1.sort=by;b1.flatten=eT;var gAe={};JE(gAe,{ClipboardTextSerializer:()=>nq,Commands:()=>sq,Delete:()=>rq,Drop:()=>iq,Editable:()=>aq,FocusEvents:()=>lq,Keymap:()=>cq,Paste:()=>uq,Tabindex:()=>dq,TextDirection:()=>hq,focusEventsPluginKey:()=>oq});var En=class tq extends sT{constructor(){super(...arguments),this.type="extension"}static create(t={}){const n=typeof t=="function"?t():t;return new tq(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}},nq=En.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Zn({key:new Rs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:s,selection:r}=t,{ranges:a}=r,o=Math.min(...a.map(f=>f.$from.pos)),l=Math.max(...a.map(f=>f.$to.pos)),u=WH(n);return ZH(s,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:u})}}})]}}),sq=En.create({name:"commands",addCommands(){return{...DH}}}),rq=En.create({name:"delete",onUpdate({transaction:e,appendedTransactions:t}){var n,s,r;const a=()=>{var o,l,u,d;if((d=(u=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:u.call(l,e))!=null?d:e.getMeta("y-sync$"))return;const f=FH(e.before,[e,...t]);GH(f).forEach(x=>{f.mapping.mapResult(x.oldRange.from).deletedAfter&&f.mapping.mapResult(x.oldRange.to).deletedBefore&&f.before.nodesBetween(x.oldRange.from,x.oldRange.to,(b,w)=>{const j=w+b.nodeSize-2,k=x.oldRange.from<=w&&j<=x.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:w,to:j,newFrom:f.mapping.map(w),newTo:f.mapping.map(j),deletedRange:x.oldRange,newRange:x.newRange,partial:!k,editor:this.editor,transaction:e,combinedTransform:f})})});const g=f.mapping;f.steps.forEach((x,b)=>{var w,j;if(x instanceof ia){const k=g.slice(b).map(x.from,-1),S=g.slice(b).map(x.to),C=g.invert().map(k,-1),E=g.invert().map(S),z=(w=f.doc.nodeAt(k-1))==null?void 0:w.marks.some(T=>T.eq(x.mark)),R=(j=f.doc.nodeAt(S))==null?void 0:j.marks.some(T=>T.eq(x.mark));this.editor.emit("delete",{type:"mark",mark:x.mark,from:x.from,to:x.to,deletedRange:{from:C,to:E},newRange:{from:k,to:S},partial:!!(R||z),editor:this.editor,transaction:e,combinedTransform:f})}})};(r=(s=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:s.async)==null||r?setTimeout(a,0):a()}}),iq=En.create({name:"drop",addProseMirrorPlugins(){return[new Zn({key:new Rs("tiptapDrop"),props:{handleDrop:(e,t,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:s})}}})]}}),aq=En.create({name:"editable",addProseMirrorPlugins(){return[new Zn({key:new Rs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),oq=new Rs("focusEvents"),lq=En.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new Zn({key:oq,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const s=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(s),!1},blur:(t,n)=>{e.isFocused=!1;const s=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(s),!1}}}})]}}),cq=En.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:u,doc:d}=l,{empty:f,$anchor:m}=u,{pos:g,parent:x}=m,b=m.parent.isTextblock&&g>0?l.doc.resolve(g-1):m,w=b.parent.type.spec.isolating,j=m.pos-m.parentOffset,k=w&&b.parent.childCount===1?j===m.pos:Lt.atStart(d).from===g;return!f||!x.type.isTextblock||x.textContent.length||!k||k&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...s},a={...s,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return yy()||VH()?a:r},addProseMirrorPlugins(){return[new Zn({key:new Rs("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(w=>w.getMeta("composition")))return;const s=e.some(w=>w.docChanged)&&!t.doc.eq(n.doc),r=e.some(w=>w.getMeta("preventClearDocument"));if(!s||r)return;const{empty:a,from:o,to:l}=t.selection,u=Lt.atStart(t.doc).from,d=Lt.atEnd(t.doc).to;if(a||!(o===u&&l===d)||!v1(n.doc))return;const g=n.tr,x=m1({state:n,transaction:g}),{commands:b}=new p1({editor:this.editor,state:x});if(b.clearNodes(),!!g.steps.length)return g}})]}}),uq=En.create({name:"paste",addProseMirrorPlugins(){return[new Zn({key:new Rs("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),dq=En.create({name:"tabindex",addProseMirrorPlugins(){return[new Zn({key:new Rs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),hq=En.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:e}=$h(this.extensions);return[{types:e.filter(t=>t.name!=="text").map(t=>t.name),attributes:{dir:{default:this.options.direction,parseHTML:t=>{const n=t.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:t=>t.dir?{dir:t.dir}:{}}}}]},addProseMirrorPlugins(){return[new Zn({key:new Rs("textDirection"),props:{attributes:()=>{const e=this.options.direction;return e?{dir:e}:{}}}})]}}),xAe=class Dm{constructor(t,n,s=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=t,this.editor=n,this.currentNode=r}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!=null?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Dm(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Dm(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Dm(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,s)=>{const r=n.isBlock&&!n.isTextblock,a=n.isAtom&&!n.isText,o=n.isInline,l=this.pos+s+(a?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const u=this.resolvedPos.doc.resolve(l);if(!r&&!o&&u.depth<=this.depth)return;const d=new Dm(u,this.editor,r,r||o?n:null);r&&(d.actualDepth=this.depth+1),t.push(d)}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let s=null,r=this.parent;for(;r&&!s;){if(r.node.type.name===t)if(Object.keys(n).length>0){const a=r.node.attrs,o=Object.keys(n);for(let l=0;l<o.length;l+=1){const u=o[l];if(a[u]!==n[u])break}}else s=r;r=r.parent}return s}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},s=!1){let r=[];if(!this.children||this.children.length===0)return r;const a=Object.keys(n);return this.children.forEach(o=>{s&&r.length>0||(o.node.type.name===t&&a.every(u=>n[u]===o.node.attrs[u])&&r.push(o),!(s&&r.length>0)&&(r=r.concat(o.querySelectorAll(t,n,s))))}),r}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}},vAe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function yAe(e,t,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}var bAe=class extends aAe{constructor(e={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:I4e,createMappablePosition:L4e},this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:r,moved:a})=>this.options.onDrop(s,r,a)),this.on("paste",({event:s,slice:r})=>this.options.onPaste(s,r)),this.on("delete",this.options.onDelete);const t=this.createDoc(),n=LH(t,this.options.autofocus);this.editorState=hh.create({doc:t,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(e){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(e),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const e=this.editorView.dom;e!=null&&e.editor&&delete e.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(e){console.warn("Failed to remove CSS element:",e)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=yAe(vAe,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,t=!0){this.setOptions({editable:e}),t&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:e=>{this.editorState=e},dispatch:e=>{this.dispatchTransaction(e)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(e,t)=>{if(this.editorView)return this.editorView[t];if(t==="state")return this.editorState;if(t in e)return Reflect.get(e,t);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${t}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(e,t){const n=UH(t)?t(e,[...this.state.plugins]):[...this.state.plugins,e],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(e){if(this.isDestroyed)return;const t=this.state.plugins;let n=t;if([].concat(e).forEach(r=>{const a=typeof r=="string"?`${r}$`:r.key;n=n.filter(o=>!o.key.startsWith(a))}),t.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var e,t;const s=[...this.options.enableCoreExtensions?[aq,nq.configure({blockSeparator:(t=(e=this.options.coreExtensionOptions)==null?void 0:e.clipboardTextSerializer)==null?void 0:t.blockSeparator}),sq,lq,cq,dq,iq,uq,rq,hq.configure({direction:this.options.textDirection})].filter(r=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[r.name]!==!1:!0):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new b1(s,this)}createCommandManager(){this.commandManager=new p1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let e;try{e=_S(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(t){if(!(t instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(t.message))throw t;this.emit("contentError",{editor:this,error:t,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),e=_S(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return e}createView(e){const{editorProps:t,enableExtensionDispatchTransaction:n}=this.options,s=t.dispatchTransaction||this.dispatchTransaction.bind(this),r=n?this.extensionManager.dispatchTransaction(s):s;this.editorView=new RH(e,{...t,attributes:{role:"textbox",...t==null?void 0:t.attributes},dispatchTransaction:r,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const a=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(a),this.prependClass(),this.injectCSS();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const t=this.capturedTransaction;return this.capturedTransaction=null,t}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(d=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(d)});return}const{state:t,transactions:n}=this.state.applyTransaction(e),s=!this.state.selection.eq(t.selection),r=n.includes(e),a=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:e,nextState:t}),!r)return;this.view.updateState(t),this.emit("transaction",{editor:this,transaction:e,appendedTransactions:n.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:e});const o=n.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),u=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),u&&this.emit("blur",{editor:this,event:u.event,transaction:o}),!(e.getMeta("preventUpdate")||!n.some(d=>d.docChanged)||a.doc.eq(t.doc))&&this.emit("update",{editor:this,transaction:e,appendedTransactions:n.slice(1)})}getAttributes(e){return KH(this.state,e)}isActive(e,t){const n=typeof e=="string"?e:null,s=typeof e=="string"?t:e;return O4e(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tT(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:t=`

`,textSerializers:n={}}=e||{};return E4e(this.state.doc,{blockSeparator:t,textSerializers:{...WH(this.schema),...n}})}get isEmpty(){return v1(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var e,t;return(t=(e=this.editorView)==null?void 0:e.isDestroyed)!=null?t:!0}$node(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelector(e,t))||null}$nodes(e,t){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(e,t))||null}$pos(e){const t=this.state.doc.resolve(e);return new xAe(t,this)}get $doc(){return this.$pos(0)}};function Vh(e){return new y1({find:e.find,handler:({state:t,range:n,match:s})=>{const r=hn(e.getAttributes,void 0,s);if(r===!1||r===null)return null;const{tr:a}=t,o=s[s.length-1],l=s[0];if(o){const u=l.search(/\S/),d=n.from+l.indexOf(o),f=d+o.length;if(nT(n.from,n.to,t.doc).filter(x=>x.mark.type.excluded.find(w=>w===e.type&&w!==x.mark.type)).filter(x=>x.to>d).length)return null;f<n.to&&a.delete(f,n.to),d>n.from&&a.delete(n.from+u,d);const g=n.from+u+o.length;a.addMark(n.from+u,g,e.type.create(r||{})),a.removeStoredMark(e.type)}},undoable:e.undoable})}function fq(e){return new y1({find:e.find,handler:({state:t,range:n,match:s})=>{const r=hn(e.getAttributes,void 0,s)||{},{tr:a}=t,o=n.from;let l=n.to;const u=e.type.create(r);if(s[1]){const d=s[0].lastIndexOf(s[1]);let f=o+d;f>l?f=l:l=f+s[1].length;const m=s[0][s[0].length-1];a.insertText(m,o+s[0].length-1),a.replaceWith(f,l,u)}else if(s[0]){const d=e.type.isInline?o:o-1;a.insert(d,e.type.create(r)).delete(a.mapping.map(o),a.mapping.map(l))}a.scrollIntoView()},undoable:e.undoable})}function ES(e){return new y1({find:e.find,handler:({state:t,range:n,match:s})=>{const r=t.doc.resolve(n.from),a=hn(e.getAttributes,void 0,s)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,a)},undoable:e.undoable})}function Bh(e){return new y1({find:e.find,handler:({state:t,range:n,match:s,chain:r})=>{const a=hn(e.getAttributes,void 0,s)||{},o=t.tr.delete(n.from,n.to),u=o.doc.resolve(n.from).blockRange(),d=u&&DE(u,e.type,a);if(!d)return null;if(o.wrap(u,d),e.keepMarks&&e.editor){const{selection:m,storedMarks:g}=t,{splittableMarks:x}=e.editor.extensionManager,b=g||m.$to.parentOffset&&m.$from.marks();if(b){const w=b.filter(j=>x.includes(j.type.name));o.ensureMarks(w)}}if(e.keepAttributes){const m=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(m,a).run()}const f=o.doc.resolve(n.from-1).nodeBefore;f&&f.type===e.type&&mc(o.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(s,f))&&o.join(n.from-1)},undoable:e.undoable})}var wAe=e=>"touches"in e,jAe=class{constructor(e){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=l=>{if(!this.isResizing||!this.activeHandle)return;const u=l.clientX-this.startX,d=l.clientY-this.startY;this.handleResize(u,d)},this.handleTouchMove=l=>{if(!this.isResizing||!this.activeHandle)return;const u=l.touches[0];if(!u)return;const d=u.clientX-this.startX,f=u.clientY-this.startY;this.handleResize(d,f)},this.handleMouseUp=()=>{if(!this.isResizing)return;const l=this.element.offsetWidth,u=this.element.offsetHeight;this.onCommit(l,u),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=l=>{l.key==="Shift"&&(this.isShiftKeyPressed=!1)};var t,n,s,r,a,o;this.node=e.node,this.editor=e.editor,this.element=e.element,this.contentElement=e.contentElement,this.getPos=e.getPos,this.onResize=e.onResize,this.onCommit=e.onCommit,this.onUpdate=e.onUpdate,(t=e.options)!=null&&t.min&&(this.minSize={...this.minSize,...e.options.min}),(n=e.options)!=null&&n.max&&(this.maxSize=e.options.max),(s=e==null?void 0:e.options)!=null&&s.directions&&(this.directions=e.options.directions),(r=e.options)!=null&&r.preserveAspectRatio&&(this.preserveAspectRatio=e.options.preserveAspectRatio),(a=e.options)!=null&&a.className&&(this.classNames={container:e.options.className.container||"",wrapper:e.options.className.wrapper||"",handle:e.options.className.handle||"",resizing:e.options.className.resizing||""}),(o=e.options)!=null&&o.createCustomHandle&&(this.createCustomHandle=e.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){var e;return(e=this.contentElement)!=null?e:null}handleEditorUpdate(){const e=this.editor.isEditable;e!==this.lastEditableState&&(this.lastEditableState=e,e?e&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(e,t,n){return e.type!==this.node.type?!1:(this.node=e,this.onUpdate?this.onUpdate(e,t,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const e=document.createElement("div");return e.dataset.resizeContainer="",e.dataset.node=this.node.type.name,e.style.display="flex",this.classNames.container&&(e.className=this.classNames.container),e.appendChild(this.wrapper),e}createWrapper(){const e=document.createElement("div");return e.style.position="relative",e.style.display="block",e.dataset.resizeWrapper="",this.classNames.wrapper&&(e.className=this.classNames.wrapper),e.appendChild(this.element),e}createHandle(e){const t=document.createElement("div");return t.dataset.resizeHandle=e,t.style.position="absolute",this.classNames.handle&&(t.className=this.classNames.handle),t}positionHandle(e,t){const n=t.includes("top"),s=t.includes("bottom"),r=t.includes("left"),a=t.includes("right");n&&(e.style.top="0"),s&&(e.style.bottom="0"),r&&(e.style.left="0"),a&&(e.style.right="0"),(t==="top"||t==="bottom")&&(e.style.left="0",e.style.right="0"),(t==="left"||t==="right")&&(e.style.top="0",e.style.bottom="0")}attachHandles(){this.directions.forEach(e=>{let t;this.createCustomHandle?t=this.createCustomHandle(e):t=this.createHandle(e),t instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${e}") did not return an HTMLElement. Falling back to default handle.`),t=this.createHandle(e)),this.createCustomHandle||this.positionHandle(t,e),t.addEventListener("mousedown",n=>this.handleResizeStart(n,e)),t.addEventListener("touchstart",n=>this.handleResizeStart(n,e)),this.handleMap.set(e,t),this.wrapper.appendChild(t)})}removeHandles(){this.handleMap.forEach(e=>e.remove()),this.handleMap.clear()}applyInitialSize(){const e=this.node.attrs.width,t=this.node.attrs.height;e?(this.element.style.width=`${e}px`,this.initialWidth=e):this.initialWidth=this.element.offsetWidth,t?(this.element.style.height=`${t}px`,this.initialHeight=t):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(e,t){e.preventDefault(),e.stopPropagation(),this.isResizing=!0,this.activeHandle=t,wAe(e)?(this.startX=e.touches[0].clientX,this.startY=e.touches[0].clientY):(this.startX=e.clientX,this.startY=e.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(e,t){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:s,height:r}=this.calculateNewDimensions(this.activeHandle,e,t),a=this.applyConstraints(s,r,n);this.element.style.width=`${a.width}px`,this.element.style.height=`${a.height}px`,this.onResize&&this.onResize(a.width,a.height)}calculateNewDimensions(e,t,n){let s=this.startWidth,r=this.startHeight;const a=e.includes("right"),o=e.includes("left"),l=e.includes("bottom"),u=e.includes("top");return a?s=this.startWidth+t:o&&(s=this.startWidth-t),l?r=this.startHeight+n:u&&(r=this.startHeight-n),(e==="right"||e==="left")&&(s=this.startWidth+(a?t:-t)),(e==="top"||e==="bottom")&&(r=this.startHeight+(l?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(s,r,e):{width:s,height:r}}applyConstraints(e,t,n){var s,r,a,o;if(!n){let d=Math.max(this.minSize.width,e),f=Math.max(this.minSize.height,t);return(s=this.maxSize)!=null&&s.width&&(d=Math.min(this.maxSize.width,d)),(r=this.maxSize)!=null&&r.height&&(f=Math.min(this.maxSize.height,f)),{width:d,height:f}}let l=e,u=t;return l<this.minSize.width&&(l=this.minSize.width,u=l/this.aspectRatio),u<this.minSize.height&&(u=this.minSize.height,l=u*this.aspectRatio),(a=this.maxSize)!=null&&a.width&&l>this.maxSize.width&&(l=this.maxSize.width,u=l/this.aspectRatio),(o=this.maxSize)!=null&&o.height&&u>this.maxSize.height&&(u=this.maxSize.height,l=u*this.aspectRatio),{width:l,height:u}}applyAspectRatio(e,t,n){const s=n==="left"||n==="right",r=n==="top"||n==="bottom";return s?{width:e,height:e/this.aspectRatio}:r?{width:t*this.aspectRatio,height:t}:{width:e,height:e/this.aspectRatio}}};function kAe(e,t){const{selection:n}=e,{$from:s}=n;if(n instanceof pt){const a=s.index();return s.parent.canReplaceWith(a,a+1,t)}let r=s.depth;for(;r>=0;){const a=s.index(r);if(s.node(r).contentMatchAt(a).matchType(t))return!0;r-=1}return!1}var NAe={};JE(NAe,{createAtomBlockMarkdownSpec:()=>SAe,createBlockMarkdownSpec:()=>_Ae,createInlineMarkdownSpec:()=>TAe,parseAttributes:()=>rT,parseIndentedBlocks:()=>TS,renderNestedMarkdownContent:()=>aT,serializeAttributes:()=>iT});function rT(e){if(!(e!=null&&e.trim()))return{};const t={},n=[],s=e.replace(/["']([^"']*)["']/g,d=>(n.push(d),`__QUOTED_${n.length-1}__`)),r=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(r){const d=r.map(f=>f.trim().slice(1));t.class=d.join(" ")}const a=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);a&&(t.id=a[1]);const o=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(o)).forEach(([,d,f])=>{var m;const g=parseInt(((m=f.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),x=n[g];x&&(t[d]=x.slice(1,-1))});const u=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return u&&u.split(/\s+/).filter(Boolean).forEach(f=>{f.match(/^[a-zA-Z][\w-]*$/)&&(t[f]=!0)}),t}function iT(e){if(!e||Object.keys(e).length===0)return"";const t=[];return e.class&&String(e.class).split(/\s+/).filter(Boolean).forEach(s=>t.push(`.${s}`)),e.id&&t.push(`#${e.id}`),Object.entries(e).forEach(([n,s])=>{n==="class"||n==="id"||(s===!0?t.push(n):s!==!1&&s!=null&&t.push(`${n}="${String(s)}"`))}),t.join(" ")}function SAe(e){const{nodeName:t,name:n,parseAttributes:s=rT,serializeAttributes:r=iT,defaultAttributes:a={},requiredAttributes:o=[],allowedAttributes:l}=e,u=n||t,d=f=>{if(!l)return f;const m={};return l.forEach(g=>{g in f&&(m[g]=f[g])}),m};return{parseMarkdown:(f,m)=>{const g={...a,...f.attributes};return m.createNode(t,g,[])},markdownTokenizer:{name:t,level:"block",start(f){var m;const g=new RegExp(`^:::${u}(?:\\s|$)`,"m"),x=(m=f.match(g))==null?void 0:m.index;return x!==void 0?x:-1},tokenize(f,m,g){const x=new RegExp(`^:::${u}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=f.match(x);if(!b)return;const w=b[1]||"",j=s(w);if(!o.find(S=>!(S in j)))return{type:t,raw:b[0],attributes:j}}},renderMarkdown:f=>{const m=d(f.attrs||{}),g=r(m),x=g?` {${g}}`:"";return`:::${u}${x} :::`}}}function _Ae(e){const{nodeName:t,name:n,getContent:s,parseAttributes:r=rT,serializeAttributes:a=iT,defaultAttributes:o={},content:l="block",allowedAttributes:u}=e,d=n||t,f=m=>{if(!u)return m;const g={};return u.forEach(x=>{x in m&&(g[x]=m[x])}),g};return{parseMarkdown:(m,g)=>{let x;if(s){const w=s(m);x=typeof w=="string"?[{type:"text",text:w}]:w}else l==="block"?x=g.parseChildren(m.tokens||[]):x=g.parseInline(m.tokens||[]);const b={...o,...m.attributes};return g.createNode(t,b,x)},markdownTokenizer:{name:t,level:"block",start(m){var g;const x=new RegExp(`^:::${d}`,"m"),b=(g=m.match(x))==null?void 0:g.index;return b!==void 0?b:-1},tokenize(m,g,x){var b;const w=new RegExp(`^:::${d}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),j=m.match(w);if(!j)return;const[k,S=""]=j,C=r(S);let E=1;const z=k.length;let R="";const T=/^:::([\w-]*)(\s.*)?/gm,A=m.slice(z);for(T.lastIndex=0;;){const D=T.exec(A);if(D===null)break;const F=D.index,V=D[1];if(!((b=D[2])!=null&&b.endsWith(":::"))){if(V)E+=1;else if(E-=1,E===0){const $=A.slice(0,F);R=$.trim();const q=m.slice(0,z+F+D[0].length);let K=[];if(R)if(l==="block")for(K=x.blockTokens($),K.forEach(ee=>{ee.text&&(!ee.tokens||ee.tokens.length===0)&&(ee.tokens=x.inlineTokens(ee.text))});K.length>0;){const ee=K[K.length-1];if(ee.type==="paragraph"&&(!ee.text||ee.text.trim()===""))K.pop();else break}else K=x.inlineTokens(R);return{type:t,raw:q,attributes:C,content:R,tokens:K}}}}}},renderMarkdown:(m,g)=>{const x=f(m.attrs||{}),b=a(x),w=b?` {${b}}`:"",j=g.renderChildren(m.content||[],`

`);return`:::${d}${w}

${j}

:::`}}}function CAe(e){if(!e.trim())return{};const t={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=n.exec(e);for(;s!==null;){const[,r,a,o]=s;t[r]=a||o,s=n.exec(e)}return t}function EAe(e){return Object.entries(e).filter(([,t])=>t!=null).map(([t,n])=>`${t}="${n}"`).join(" ")}function TAe(e){const{nodeName:t,name:n,getContent:s,parseAttributes:r=CAe,serializeAttributes:a=EAe,defaultAttributes:o={},selfClosing:l=!1,allowedAttributes:u}=e,d=n||t,f=g=>{if(!u)return g;const x={};return u.forEach(b=>{const w=typeof b=="string"?b:b.name,j=typeof b=="string"?void 0:b.skipIfDefault;if(w in g){const k=g[w];if(j!==void 0&&k===j)return;x[w]=k}}),x},m=d.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(g,x)=>{const b={...o,...g.attributes};if(l)return x.createNode(t,b);const w=s?s(g):g.content||"";return w?x.createNode(t,b,[x.createTextNode(w)]):x.createNode(t,b,[])},markdownTokenizer:{name:t,level:"inline",start(g){const x=l?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),b=g.match(x),w=b==null?void 0:b.index;return w!==void 0?w:-1},tokenize(g,x,b){const w=l?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),j=g.match(w);if(!j)return;let k="",S="";if(l){const[,E]=j;S=E}else{const[,E,z]=j;S=E,k=z||""}const C=r(S.trim());return{type:t,raw:j[0],content:k.trim(),attributes:C}}},renderMarkdown:g=>{let x="";s?x=s(g):g.content&&g.content.length>0&&(x=g.content.filter(k=>k.type==="text").map(k=>k.text).join(""));const b=f(g.attrs||{}),w=a(b),j=w?` ${w}`:"";return l?`[${d}${j}]`:`[${d}${j}]${x}[/${d}]`}}}function TS(e,t,n){var s,r,a,o;const l=e.split(`
`),u=[];let d="",f=0;const m=t.baseIndentSize||2;for(;f<l.length;){const g=l[f],x=g.match(t.itemPattern);if(!x){if(u.length>0)break;if(g.trim()===""){f+=1,d=`${d}${g}
`;continue}else return}const b=t.extractItemData(x),{indentLevel:w,mainContent:j}=b;d=`${d}${g}
`;const k=[j];for(f+=1;f<l.length;){const z=l[f];if(z.trim()===""){const T=l.slice(f+1).findIndex(F=>F.trim()!=="");if(T===-1)break;if((((r=(s=l[f+1+T].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:r.length)||0)>w){k.push(z),d=`${d}${z}
`,f+=1;continue}else break}if((((o=(a=z.match(/^(\s*)/))==null?void 0:a[1])==null?void 0:o.length)||0)>w)k.push(z),d=`${d}${z}
`,f+=1;else break}let S;const C=k.slice(1);if(C.length>0){const z=C.map(R=>R.slice(w+m)).join(`
`);z.trim()&&(t.customNestedParser?S=t.customNestedParser(z):S=n.blockTokens(z))}const E=t.createToken(b,S);u.push(E)}if(u.length!==0)return{items:u,raw:d}}function aT(e,t,n,s){if(!e||!Array.isArray(e.content))return"";const r=typeof n=="function"?n(s):n,[a,...o]=e.content,l=t.renderChildren([a]),u=[`${r}${l}`];return o&&o.length>0&&o.forEach(d=>{const f=t.renderChildren([d]);if(f){const m=f.split(`
`).map(g=>g?t.indent(g):"").join(`
`);u.push(m)}}),u.join(`
`)}function zAe(e,t,n={}){const{state:s}=t,{doc:r,tr:a}=s,o=e;r.descendants((l,u)=>{const d=a.mapping.map(u),f=a.mapping.map(u)+l.nodeSize;let m=null;if(l.marks.forEach(x=>{if(x!==o)return!1;m=x}),!m)return;let g=!1;if(Object.keys(n).forEach(x=>{n[x]!==m.attrs[x]&&(g=!0)}),g){const x=e.type.create({...e.attrs,...n});a.removeMark(d,f,e.type),a.addMark(d,f,x)}}),a.docChanged&&t.view.dispatch(a)}var Hr=class mq extends sT{constructor(){super(...arguments),this.type="node"}static create(t={}){const n=typeof t=="function"?t():t;return new mq(n)}configure(t){return super.configure(t)}extend(t){const n=typeof t=="function"?t():t;return super.extend(n)}};function Ru(e){return new dAe({find:e.find,handler:({state:t,range:n,match:s,pasteEvent:r})=>{const a=hn(e.getAttributes,void 0,s,r);if(a===!1||a===null)return null;const{tr:o}=t,l=s[s.length-1],u=s[0];let d=n.to;if(l){const f=u.search(/\S/),m=n.from+u.indexOf(l),g=m+l.length;if(nT(n.from,n.to,t.doc).filter(b=>b.mark.type.excluded.find(j=>j===e.type&&j!==b.mark.type)).filter(b=>b.to>m).length)return null;g<n.to&&o.delete(g,n.to),m>n.from&&o.delete(n.from+f,m),d=n.from+f+l.length,o.addMark(n.from+f,d,e.type.create(a||{})),o.removeStoredMark(e.type)}}})}const{getOwnPropertyNames:AAe,getOwnPropertySymbols:MAe}=Object,{hasOwnProperty:RAe}=Object.prototype;function pN(e,t){return function(s,r,a){return e(s,r,a)&&t(s,r,a)}}function L0(e){return function(n,s,r){if(!n||!s||typeof n!="object"||typeof s!="object")return e(n,s,r);const{cache:a}=r,o=a.get(n),l=a.get(s);if(o&&l)return o===s&&l===n;a.set(n,s),a.set(s,n);const u=e(n,s,r);return a.delete(n),a.delete(s),u}}function OAe(e){return e!=null?e[Symbol.toStringTag]:void 0}function hP(e){return AAe(e).concat(MAe(e))}const DAe=Object.hasOwn||((e,t)=>RAe.call(e,t));function Fu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}const PAe="__v",IAe="__o",LAe="_owner",{getOwnPropertyDescriptor:fP,keys:mP}=Object;function $Ae(e,t){return e.byteLength===t.byteLength&&wy(new Uint8Array(e),new Uint8Array(t))}function VAe(e,t,n){let s=e.length;if(t.length!==s)return!1;for(;s-- >0;)if(!n.equals(e[s],t[s],s,s,e,t,n))return!1;return!0}function BAe(e,t){return e.byteLength===t.byteLength&&wy(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}function FAe(e,t){return Fu(e.getTime(),t.getTime())}function UAe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function HAe(e,t){return e===t}function pP(e,t,n){const s=e.size;if(s!==t.size)return!1;if(!s)return!0;const r=new Array(s),a=e.entries();let o,l,u=0;for(;(o=a.next())&&!o.done;){const d=t.entries();let f=!1,m=0;for(;(l=d.next())&&!l.done;){if(r[m]){m++;continue}const g=o.value,x=l.value;if(n.equals(g[0],x[0],u,m,e,t,n)&&n.equals(g[1],x[1],g[0],x[0],e,t,n)){f=r[m]=!0;break}m++}if(!f)return!1;u++}return!0}const qAe=Fu;function ZAe(e,t,n){const s=mP(e);let r=s.length;if(mP(t).length!==r)return!1;for(;r-- >0;)if(!pq(e,t,n,s[r]))return!1;return!0}function vm(e,t,n){const s=hP(e);let r=s.length;if(hP(t).length!==r)return!1;let a,o,l;for(;r-- >0;)if(a=s[r],!pq(e,t,n,a)||(o=fP(e,a),l=fP(t,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function WAe(e,t){return Fu(e.valueOf(),t.valueOf())}function KAe(e,t){return e.source===t.source&&e.flags===t.flags}function gP(e,t,n){const s=e.size;if(s!==t.size)return!1;if(!s)return!0;const r=new Array(s),a=e.values();let o,l;for(;(o=a.next())&&!o.done;){const u=t.values();let d=!1,f=0;for(;(l=u.next())&&!l.done;){if(!r[f]&&n.equals(o.value,l.value,o.value,l.value,e,t,n)){d=r[f]=!0;break}f++}if(!d)return!1}return!0}function wy(e,t){let n=e.byteLength;if(t.byteLength!==n||e.byteOffset!==t.byteOffset)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function GAe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function pq(e,t,n,s){return(s===LAe||s===IAe||s===PAe)&&(e.$$typeof||t.$$typeof)?!0:DAe(t,s)&&n.equals(e[s],t[s],s,s,e,t,n)}const YAe="[object ArrayBuffer]",JAe="[object Arguments]",XAe="[object Boolean]",QAe="[object DataView]",eMe="[object Date]",tMe="[object Error]",nMe="[object Map]",sMe="[object Number]",rMe="[object Object]",iMe="[object RegExp]",aMe="[object Set]",oMe="[object String]",lMe={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},cMe="[object URL]",uMe=Object.prototype.toString;function dMe({areArrayBuffersEqual:e,areArraysEqual:t,areDataViewsEqual:n,areDatesEqual:s,areErrorsEqual:r,areFunctionsEqual:a,areMapsEqual:o,areNumbersEqual:l,areObjectsEqual:u,arePrimitiveWrappersEqual:d,areRegExpsEqual:f,areSetsEqual:m,areTypedArraysEqual:g,areUrlsEqual:x,unknownTagComparators:b}){return function(j,k,S){if(j===k)return!0;if(j==null||k==null)return!1;const C=typeof j;if(C!==typeof k)return!1;if(C!=="object")return C==="number"?l(j,k,S):C==="function"?a(j,k,S):!1;const E=j.constructor;if(E!==k.constructor)return!1;if(E===Object)return u(j,k,S);if(Array.isArray(j))return t(j,k,S);if(E===Date)return s(j,k,S);if(E===RegExp)return f(j,k,S);if(E===Map)return o(j,k,S);if(E===Set)return m(j,k,S);const z=uMe.call(j);if(z===eMe)return s(j,k,S);if(z===iMe)return f(j,k,S);if(z===nMe)return o(j,k,S);if(z===aMe)return m(j,k,S);if(z===rMe)return typeof j.then!="function"&&typeof k.then!="function"&&u(j,k,S);if(z===cMe)return x(j,k,S);if(z===tMe)return r(j,k,S);if(z===JAe)return u(j,k,S);if(lMe[z])return g(j,k,S);if(z===YAe)return e(j,k,S);if(z===QAe)return n(j,k,S);if(z===XAe||z===sMe||z===oMe)return d(j,k,S);if(b){let R=b[z];if(!R){const T=OAe(j);T&&(R=b[T])}if(R)return R(j,k,S)}return!1}}function hMe({circular:e,createCustomConfig:t,strict:n}){let s={areArrayBuffersEqual:$Ae,areArraysEqual:n?vm:VAe,areDataViewsEqual:BAe,areDatesEqual:FAe,areErrorsEqual:UAe,areFunctionsEqual:HAe,areMapsEqual:n?pN(pP,vm):pP,areNumbersEqual:qAe,areObjectsEqual:n?vm:ZAe,arePrimitiveWrappersEqual:WAe,areRegExpsEqual:KAe,areSetsEqual:n?pN(gP,vm):gP,areTypedArraysEqual:n?pN(wy,vm):wy,areUrlsEqual:GAe,unknownTagComparators:void 0};if(t&&(s=Object.assign({},s,t(s))),e){const r=L0(s.areArraysEqual),a=L0(s.areMapsEqual),o=L0(s.areObjectsEqual),l=L0(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:r,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return s}function fMe(e){return function(t,n,s,r,a,o,l){return e(t,n,l)}}function mMe({circular:e,comparator:t,createState:n,equals:s,strict:r}){if(n)return function(l,u){const{cache:d=e?new WeakMap:void 0,meta:f}=n();return t(l,u,{cache:d,equals:s,meta:f,strict:r})};if(e)return function(l,u){return t(l,u,{cache:new WeakMap,equals:s,meta:void 0,strict:r})};const a={cache:void 0,equals:s,meta:void 0,strict:r};return function(l,u){return t(l,u,a)}}const pMe=xc();xc({strict:!0});xc({circular:!0});xc({circular:!0,strict:!0});xc({createInternalComparator:()=>Fu});xc({strict:!0,createInternalComparator:()=>Fu});xc({circular:!0,createInternalComparator:()=>Fu});xc({circular:!0,createInternalComparator:()=>Fu,strict:!0});function xc(e={}){const{circular:t=!1,createInternalComparator:n,createState:s,strict:r=!1}=e,a=hMe(e),o=dMe(a),l=n?n(o):fMe(o);return mMe({circular:t,comparator:o,createState:s,equals:l,strict:r})}var gN={exports:{}},xN={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xP;function gMe(){if(xP)return xN;xP=1;var e=Gp(),t=x$();function n(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var s=typeof Object.is=="function"?Object.is:n,r=t.useSyncExternalStore,a=e.useRef,o=e.useEffect,l=e.useMemo,u=e.useDebugValue;return xN.useSyncExternalStoreWithSelector=function(d,f,m,g,x){var b=a(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=l(function(){function k(R){if(!S){if(S=!0,C=R,R=g(R),x!==void 0&&w.hasValue){var T=w.value;if(x(T,R))return E=T}return E=R}if(T=E,s(C,R))return T;var A=g(R);return x!==void 0&&x(T,A)?(C=R,T):(C=R,E=A)}var S=!1,C,E,z=m===void 0?null:m;return[function(){return k(f())},z===null?void 0:function(){return k(z())}]},[f,m,g,x]);var j=r(d,b[0],b[1]);return o(function(){w.hasValue=!0,w.value=j},[j]),u(j),j},xN}var vP;function xMe(){return vP||(vP=1,gN.exports=gMe()),gN.exports}var vMe=xMe(),yMe=(...e)=>t=>{e.forEach(n=>{typeof n=="function"?n(t):n&&(n.current=t)})},bMe=({contentComponent:e})=>{const t=mC.useSyncExternalStore(e.subscribe,e.getSnapshot,e.getServerSnapshot);return i.jsx(i.Fragment,{children:Object.values(t)})};function wMe(){const e=new Set;let t={};return{subscribe(n){return e.add(n),()=>{e.delete(n)}},getSnapshot(){return t},getServerSnapshot(){return t},setRenderer(n,s){t={...t,[n]:sb.createPortal(s.reactElement,s.element,n)},e.forEach(r=>r())},removeRenderer(n){const s={...t};delete s[n],t=s,e.forEach(r=>r())}}}var jMe=class extends Z.Component{constructor(e){var t;super(e),this.editorContentRef=Z.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((t=e.editor)!=null&&t.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var e;const t=this.props.editor;if(t&&!t.isDestroyed&&((e=t.view.dom)!=null&&e.parentNode)){if(t.contentComponent)return;const n=this.editorContentRef.current;n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n}),t.contentComponent=wMe(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(s=>s.hasContentComponentInitialized?s:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var e;const t=this.props.editor;if(t){this.initialized=!1,t.isDestroyed||t.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),t.contentComponent=null;try{if(!((e=t.view.dom)!=null&&e.parentNode))return;const n=document.createElement("div");n.append(...t.view.dom.parentNode.childNodes),t.setOptions({element:n})}catch{}}}render(){const{editor:e,innerRef:t,...n}=this.props;return i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:yMe(t,this.editorContentRef),...n}),(e==null?void 0:e.contentComponent)&&i.jsx(bMe,{contentComponent:e.contentComponent})]})}},kMe=v.forwardRef((e,t)=>{const n=Z.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[e.editor]);return Z.createElement(jMe,{key:n,innerRef:t,...e})}),gq=Z.memo(kMe),NMe=typeof window<"u"?v.useLayoutEffect:v.useEffect,SMe=class{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const t=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",t),()=>{n.off("transaction",t)}}}};function _Me(e){var t;const[n]=v.useState(()=>new SMe(e.editor)),s=vMe.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,e.selector,(t=e.equalityFn)!=null?t:pMe);return NMe(()=>n.watch(e.editor),[e.editor,n]),v.useDebugValue(s),s}var CMe=!1,zS=typeof window>"u",EMe=zS||!!(typeof window<"u"&&window.next),TMe=class xq{constructor(t){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=t,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(t){this.editor=t,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?zS||EMe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const t={...this.options.current,onBeforeCreate:(...s)=>{var r,a;return(a=(r=this.options.current).onBeforeCreate)==null?void 0:a.call(r,...s)},onBlur:(...s)=>{var r,a;return(a=(r=this.options.current).onBlur)==null?void 0:a.call(r,...s)},onCreate:(...s)=>{var r,a;return(a=(r=this.options.current).onCreate)==null?void 0:a.call(r,...s)},onDestroy:(...s)=>{var r,a;return(a=(r=this.options.current).onDestroy)==null?void 0:a.call(r,...s)},onFocus:(...s)=>{var r,a;return(a=(r=this.options.current).onFocus)==null?void 0:a.call(r,...s)},onSelectionUpdate:(...s)=>{var r,a;return(a=(r=this.options.current).onSelectionUpdate)==null?void 0:a.call(r,...s)},onTransaction:(...s)=>{var r,a;return(a=(r=this.options.current).onTransaction)==null?void 0:a.call(r,...s)},onUpdate:(...s)=>{var r,a;return(a=(r=this.options.current).onUpdate)==null?void 0:a.call(r,...s)},onContentError:(...s)=>{var r,a;return(a=(r=this.options.current).onContentError)==null?void 0:a.call(r,...s)},onDrop:(...s)=>{var r,a;return(a=(r=this.options.current).onDrop)==null?void 0:a.call(r,...s)},onPaste:(...s)=>{var r,a;return(a=(r=this.options.current).onPaste)==null?void 0:a.call(r,...s)},onDelete:(...s)=>{var r,a;return(a=(r=this.options.current).onDelete)==null?void 0:a.call(r,...s)}};return new bAe(t)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(t){return this.subscriptions.add(t),()=>{this.subscriptions.delete(t)}}static compareOptions(t,n){return Object.keys(t).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&t.extensions&&n.extensions?t.extensions.length!==n.extensions.length?!1:t.extensions.every((r,a)=>{var o;return r===((o=n.extensions)==null?void 0:o[a])}):t[s]===n[s])}onRender(t){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&t.length===0?xq.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(t),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(t){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=t;return}if(this.previousDeps.length===t.length&&this.previousDeps.every((s,r)=>s===t[r]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=t}scheduleDestroy(){const t=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===t){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===t&&this.setEditor(null))},1)}};function zMe(e={},t=[]){const n=v.useRef(e);n.current=e;const[s]=v.useState(()=>new TMe(n)),r=mC.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return v.useDebugValue(r),v.useEffect(s.onRender(t)),_Me({editor:r,selector:({transactionNumber:a})=>e.shouldRerenderOnTransaction===!1||e.shouldRerenderOnTransaction===void 0?null:e.immediatelyRender&&a===0?0:a+1}),r}var vq=v.createContext({editor:null});vq.Consumer;var AMe=v.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),MMe=()=>v.useContext(AMe);Z.forwardRef((e,t)=>{const{onDragStart:n}=MMe(),s=e.as||"div";return i.jsx(s,{...e,ref:t,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...e.style}})});Z.createContext({markViewContentRef:()=>{}});var oT=v.createContext({get editor(){throw new Error("useTiptap must be used within a <Tiptap> provider")}});oT.displayName="TiptapContext";var RMe=()=>v.useContext(oT);function yq({editor:e,instance:t,children:n}){const s=e??t;if(!s)throw new Error("Tiptap: An editor instance is required. Pass a non-null `editor` prop.");const r=v.useMemo(()=>({editor:s}),[s]),a=v.useMemo(()=>({editor:s}),[s]);return i.jsx(vq.Provider,{value:a,children:i.jsx(oT.Provider,{value:r,children:n})})}yq.displayName="Tiptap";function bq({...e}){const{editor:t}=RMe();return i.jsx(gq,{editor:t,...e})}bq.displayName="Tiptap.Content";Object.assign(yq,{Content:bq});var jy=(e,t)=>{if(e==="slot")return 0;if(e instanceof Function)return e(t);const{children:n,...s}=t??{};if(e==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[e,s,n]},OMe=/^\s*>\s$/,DMe=Hr.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return jy("blockquote",{...ts(this.options.HTMLAttributes,e),children:jy("slot",{})})},parseMarkdown:(e,t)=>t.createNode("blockquote",void 0,t.parseChildren(e.tokens||[])),renderMarkdown:(e,t)=>{if(!e.content)return"";const n=">",s=[];return e.content.forEach(r=>{const l=t.renderChildren([r]).split(`
`).map(u=>u.trim()===""?n:`${n} ${u}`);s.push(l.join(`
`))}),s.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Bh({find:OMe,type:this.type})]}}),PMe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,IMe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,LMe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,$Me=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,VMe=gc.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return jy("strong",{...ts(this.options.HTMLAttributes,e),children:jy("slot",{})})},markdownTokenName:"strong",parseMarkdown:(e,t)=>t.applyMark("bold",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`**${t.renderChildren(e)}**`,addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Vh({find:PMe,type:this.type}),Vh({find:LMe,type:this.type})]},addPasteRules(){return[Ru({find:IMe,type:this.type}),Ru({find:$Me,type:this.type})]}}),BMe=/(^|[^`])`([^`]+)`(?!`)$/,FMe=/(^|[^`])`([^`]+)`(?!`)/g,UMe=gc.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"codespan",parseMarkdown:(e,t)=>t.applyMark("code",[{type:"text",text:e.text||""}]),renderMarkdown:(e,t)=>e.content?`\`${t.renderChildren(e.content)}\``:"",addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Vh({find:BMe,type:this.type})]},addPasteRules(){return[Ru({find:FMe,type:this.type})]}}),vN=4,HMe=/^```([a-z]+)?[\s\n]$/,qMe=/^~~~([a-z]+)?[\s\n]$/,ZMe=Hr.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:vN,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options;if(!n)return null;const a=[...((t=e.firstElementChild)==null?void 0:t.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return a||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",ts(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(e,t)=>{var n;return((n=e.raw)==null?void 0:n.startsWith("```"))===!1&&e.codeBlockStyle!=="indented"?[]:t.createNode("codeBlock",{language:e.lang||null},e.text?[t.createTextNode(e.text)]:[])},renderMarkdown:(e,t)=>{var n;let s="";const r=((n=e.attrs)==null?void 0:n.language)||"";return e.content?s=[`\`\`\`${r}`,t.renderChildren(e.content),"```"].join(`
`):s=`\`\`\`${r}

\`\`\``,s},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:vN,{state:s}=e,{selection:r}=s,{$from:a,empty:o}=r;if(a.parent.type!==this.type)return!1;const l=" ".repeat(n);return o?e.commands.insertContent(l):e.commands.command(({tr:u})=>{const{from:d,to:f}=r,x=s.doc.textBetween(d,f,`
`,`
`).split(`
`).map(b=>l+b).join(`
`);return u.replaceWith(d,f,s.schema.text(x)),!0})},"Shift-Tab":({editor:e})=>{var t;if(!this.options.enableTabIndentation)return!1;const n=(t=this.options.tabSize)!=null?t:vN,{state:s}=e,{selection:r}=s,{$from:a,empty:o}=r;return a.parent.type!==this.type?!1:o?e.commands.command(({tr:l})=>{var u;const{pos:d}=a,f=a.start(),m=a.end(),x=s.doc.textBetween(f,m,`
`,`
`).split(`
`);let b=0,w=0;const j=d-f;for(let R=0;R<x.length;R+=1){if(w+x[R].length>=j){b=R;break}w+=x[R].length+1}const S=((u=x[b].match(/^ */))==null?void 0:u[0])||"",C=Math.min(S.length,n);if(C===0)return!0;let E=f;for(let R=0;R<b;R+=1)E+=x[R].length+1;return l.delete(E,E+C),d-E<=C&&l.setSelection(_t.create(l.doc,E)),!0}):e.commands.command(({tr:l})=>{const{from:u,to:d}=r,g=s.doc.textBetween(u,d,`
`,`
`).split(`
`).map(x=>{var b;const w=((b=x.match(/^ */))==null?void 0:b[0])||"",j=Math.min(w.length,n);return x.slice(j)}).join(`
`);return l.replaceWith(u,d,s.schema.text(g)),!0})},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:s,empty:r}=n;if(!r||s.parent.type!==this.type)return!1;const a=s.parentOffset===s.parent.nodeSize-2,o=s.parent.textContent.endsWith(`

`);return!a||!o?!1:e.chain().command(({tr:l})=>(l.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:s}=t,{$from:r,empty:a}=n;if(!a||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const l=r.after();return l===void 0?!1:s.nodeAt(l)?e.commands.command(({tr:d})=>(d.setSelection(Lt.near(s.resolve(l))),!0)):e.commands.exitCode()}}},addInputRules(){return[ES({find:HMe,type:this.type,getAttributes:e=>({language:e[1]})}),ES({find:qMe,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new Zn({key:new Rs("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),s=t.clipboardData.getData("vscode-editor-data"),r=s?JSON.parse(s):void 0,a=r==null?void 0:r.mode;if(!n||!a)return!1;const{tr:o,schema:l}=e.state,u=l.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:a},u)),o.selection.$from.parent.type!==this.type&&o.setSelection(_t.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),e.dispatch(o),!0}}})]}}),WMe=Hr.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`

`):""}),KMe=Hr.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",ts(this.options.HTMLAttributes,e)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:s})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:r,storedMarks:a}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=s.extensionManager,u=a||r.$to.parentOffset&&r.$from.marks();return t().insertContent({type:this.name}).command(({tr:d,dispatch:f})=>{if(f&&u&&o){const m=u.filter(g=>l.includes(g.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),GMe=Hr.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,ts(this.options.HTMLAttributes,t),0]},parseMarkdown:(e,t)=>t.createNode("heading",{level:e.depth||1},t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>{var n;const s=(n=e.attrs)!=null&&n.level?parseInt(e.attrs.level,10):1,r="#".repeat(s);return e.content?`${r} ${t.renderChildren(e.content)}`:""},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>ES({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}}),YMe=Hr.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",ts(this.options.HTMLAttributes,e)]},markdownTokenName:"hr",parseMarkdown:(e,t)=>t.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!kAe(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$to:s}=n,r=e();return YH(n)?r.insertContentAt(s.pos,{type:this.name}):r.insertContent({type:this.name}),r.command(({state:a,tr:o,dispatch:l})=>{if(l){const{$to:u}=o.selection,d=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?o.setSelection(_t.create(o.doc,u.pos+1)):u.nodeAfter.isBlock?o.setSelection(pt.create(o.doc,u.pos)):o.setSelection(_t.create(o.doc,u.pos));else{const f=a.schema.nodes[this.options.nextNodeType]||u.parent.type.contentMatch.defaultType,m=f==null?void 0:f.create();m&&(o.insert(d,m),o.setSelection(_t.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[fq({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),JMe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,XMe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,QMe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,e3e=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,t3e=gc.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",ts(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(e,t)=>t.applyMark("italic",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`*${t.renderChildren(e)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Vh({find:JMe,type:this.type}),Vh({find:QMe,type:this.type})]},addPasteRules(){return[Ru({find:XMe,type:this.type}),Ru({find:e3e,type:this.type})]}});const n3e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",s3e="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",AS="numeric",MS="ascii",RS="alpha",Ym="asciinumeric",Pm="alphanumeric",OS="domain",wq="emoji",r3e="scheme",i3e="slashscheme",yN="whitespace";function a3e(e,t){return e in t||(t[e]=[]),t[e]}function lu(e,t,n){t[AS]&&(t[Ym]=!0,t[Pm]=!0),t[MS]&&(t[Ym]=!0,t[RS]=!0),t[Ym]&&(t[Pm]=!0),t[RS]&&(t[Pm]=!0),t[Pm]&&(t[OS]=!0),t[wq]&&(t[OS]=!0);for(const s in t){const r=a3e(s,n);r.indexOf(e)<0&&r.push(e)}}function o3e(e,t){const n={};for(const s in t)t[s].indexOf(e)>=0&&(n[s]=!0);return n}function Ir(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Ir.groups={};Ir.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let s=0;s<t.jr.length;s++){const r=t.jr[s][0],a=t.jr[s][1];if(a&&r.test(e))return a}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,s){for(let r=0;r<e.length;r++)this.tt(e[r],t,n,s)},tr(e,t,n,s){s=s||Ir.groups;let r;return t&&t.j?r=t:(r=new Ir(t),n&&s&&lu(t,n,s)),this.jr.push([e,r]),r},ts(e,t,n,s){let r=this;const a=e.length;if(!a)return r;for(let o=0;o<a-1;o++)r=r.tt(e[o]);return r.tt(e[a-1],t,n,s)},tt(e,t,n,s){s=s||Ir.groups;const r=this;if(t&&t.j)return r.j[e]=t,t;const a=t;let o,l=r.go(e);if(l?(o=new Ir,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new Ir,a){if(s)if(o.t&&typeof o.t=="string"){const u=Object.assign(o3e(o.t,s),n);lu(a,u,s)}else n&&lu(a,n,s);o.t=a}return r.j[e]=o,o}};const It=(e,t,n,s,r)=>e.ta(t,n,s,r),Yn=(e,t,n,s,r)=>e.tr(t,n,s,r),yP=(e,t,n,s,r)=>e.ts(t,n,s,r),Le=(e,t,n,s,r)=>e.tt(t,n,s,r),So="WORD",DS="UWORD",jq="ASCIINUMERICAL",kq="ALPHANUMERICAL",Up="LOCALHOST",PS="TLD",IS="UTLD",dv="SCHEME",Qd="SLASH_SCHEME",lT="NUM",LS="WS",cT="NL",Jm="OPENBRACE",Xm="CLOSEBRACE",ky="OPENBRACKET",Ny="CLOSEBRACKET",Sy="OPENPAREN",_y="CLOSEPAREN",Cy="OPENANGLEBRACKET",Ey="CLOSEANGLEBRACKET",Ty="FULLWIDTHLEFTPAREN",zy="FULLWIDTHRIGHTPAREN",Ay="LEFTCORNERBRACKET",My="RIGHTCORNERBRACKET",Ry="LEFTWHITECORNERBRACKET",Oy="RIGHTWHITECORNERBRACKET",Dy="FULLWIDTHLESSTHAN",Py="FULLWIDTHGREATERTHAN",Iy="AMPERSAND",Ly="APOSTROPHE",$y="ASTERISK",zl="AT",Vy="BACKSLASH",By="BACKTICK",Fy="CARET",Dl="COLON",uT="COMMA",Uy="DOLLAR",Sa="DOT",Hy="EQUALS",dT="EXCLAMATION",_i="HYPHEN",Qm="PERCENT",qy="PIPE",Zy="PLUS",Wy="POUND",ep="QUERY",hT="QUOTE",Nq="FULLWIDTHMIDDLEDOT",fT="SEMI",_a="SLASH",tp="TILDE",Ky="UNDERSCORE",Sq="EMOJI",Gy="SYM";var _q=Object.freeze({__proto__:null,ALPHANUMERICAL:kq,AMPERSAND:Iy,APOSTROPHE:Ly,ASCIINUMERICAL:jq,ASTERISK:$y,AT:zl,BACKSLASH:Vy,BACKTICK:By,CARET:Fy,CLOSEANGLEBRACKET:Ey,CLOSEBRACE:Xm,CLOSEBRACKET:Ny,CLOSEPAREN:_y,COLON:Dl,COMMA:uT,DOLLAR:Uy,DOT:Sa,EMOJI:Sq,EQUALS:Hy,EXCLAMATION:dT,FULLWIDTHGREATERTHAN:Py,FULLWIDTHLEFTPAREN:Ty,FULLWIDTHLESSTHAN:Dy,FULLWIDTHMIDDLEDOT:Nq,FULLWIDTHRIGHTPAREN:zy,HYPHEN:_i,LEFTCORNERBRACKET:Ay,LEFTWHITECORNERBRACKET:Ry,LOCALHOST:Up,NL:cT,NUM:lT,OPENANGLEBRACKET:Cy,OPENBRACE:Jm,OPENBRACKET:ky,OPENPAREN:Sy,PERCENT:Qm,PIPE:qy,PLUS:Zy,POUND:Wy,QUERY:ep,QUOTE:hT,RIGHTCORNERBRACKET:My,RIGHTWHITECORNERBRACKET:Oy,SCHEME:dv,SEMI:fT,SLASH:_a,SLASH_SCHEME:Qd,SYM:Gy,TILDE:tp,TLD:PS,UNDERSCORE:Ky,UTLD:IS,UWORD:DS,WORD:So,WS:LS});const jo=/[a-z]/,ym=new RegExp("\\p{L}","u"),bN=new RegExp("\\p{Emoji}","u"),ko=/\d/,wN=/\s/,bP="\r",jN=`
`,l3e="",c3e="",kN="";let $0=null,V0=null;function u3e(e=[]){const t={};Ir.groups=t;const n=new Ir;$0==null&&($0=wP(n3e)),V0==null&&(V0=wP(s3e)),Le(n,"'",Ly),Le(n,"{",Jm),Le(n,"}",Xm),Le(n,"[",ky),Le(n,"]",Ny),Le(n,"(",Sy),Le(n,")",_y),Le(n,"<",Cy),Le(n,">",Ey),Le(n,"",Ty),Le(n,"",zy),Le(n,"",Ay),Le(n,"",My),Le(n,"",Ry),Le(n,"",Oy),Le(n,"",Dy),Le(n,"",Py),Le(n,"&",Iy),Le(n,"*",$y),Le(n,"@",zl),Le(n,"`",By),Le(n,"^",Fy),Le(n,":",Dl),Le(n,",",uT),Le(n,"$",Uy),Le(n,".",Sa),Le(n,"=",Hy),Le(n,"!",dT),Le(n,"-",_i),Le(n,"%",Qm),Le(n,"|",qy),Le(n,"+",Zy),Le(n,"#",Wy),Le(n,"?",ep),Le(n,'"',hT),Le(n,"/",_a),Le(n,";",fT),Le(n,"~",tp),Le(n,"_",Ky),Le(n,"\\",Vy),Le(n,"",Nq);const s=Yn(n,ko,lT,{[AS]:!0});Yn(s,ko,s);const r=Yn(s,jo,jq,{[Ym]:!0}),a=Yn(s,ym,kq,{[Pm]:!0}),o=Yn(n,jo,So,{[MS]:!0});Yn(o,ko,r),Yn(o,jo,o),Yn(r,ko,r),Yn(r,jo,r);const l=Yn(n,ym,DS,{[RS]:!0});Yn(l,jo),Yn(l,ko,a),Yn(l,ym,l),Yn(a,ko,a),Yn(a,jo),Yn(a,ym,a);const u=Le(n,jN,cT,{[yN]:!0}),d=Le(n,bP,LS,{[yN]:!0}),f=Yn(n,wN,LS,{[yN]:!0});Le(n,kN,f),Le(d,jN,u),Le(d,kN,f),Yn(d,wN,f),Le(f,bP),Le(f,jN),Yn(f,wN,f),Le(f,kN,f);const m=Yn(n,bN,Sq,{[wq]:!0});Le(m,"#"),Yn(m,bN,m),Le(m,l3e,m);const g=Le(m,c3e);Le(g,"#"),Yn(g,bN,m);const x=[[jo,o],[ko,r]],b=[[jo,null],[ym,l],[ko,a]];for(let w=0;w<$0.length;w++)jl(n,$0[w],PS,So,x);for(let w=0;w<V0.length;w++)jl(n,V0[w],IS,DS,b);lu(PS,{tld:!0,ascii:!0},t),lu(IS,{utld:!0,alpha:!0},t),jl(n,"file",dv,So,x),jl(n,"mailto",dv,So,x),jl(n,"http",Qd,So,x),jl(n,"https",Qd,So,x),jl(n,"ftp",Qd,So,x),jl(n,"ftps",Qd,So,x),lu(dv,{scheme:!0,ascii:!0},t),lu(Qd,{slashscheme:!0,ascii:!0},t),e=e.sort((w,j)=>w[0]>j[0]?1:-1);for(let w=0;w<e.length;w++){const j=e[w][0],S=e[w][1]?{[r3e]:!0}:{[i3e]:!0};j.indexOf("-")>=0?S[OS]=!0:jo.test(j)?ko.test(j)?S[Ym]=!0:S[MS]=!0:S[AS]=!0,yP(n,j,j,S)}return yP(n,"localhost",Up,{ascii:!0}),n.jd=new Ir(Gy),{start:n,tokens:Object.assign({groups:t},_q)}}function Cq(e,t){const n=d3e(t.replace(/[A-Z]/g,l=>l.toLowerCase())),s=n.length,r=[];let a=0,o=0;for(;o<s;){let l=e,u=null,d=0,f=null,m=-1,g=-1;for(;o<s&&(u=l.go(n[o]));)l=u,l.accepts()?(m=0,g=0,f=l):m>=0&&(m+=n[o].length,g++),d+=n[o].length,a+=n[o].length,o++;a-=m,o-=g,d-=m,r.push({t:f.t,v:t.slice(a-d,a),s:a-d,e:a})}return r}function d3e(e){const t=[],n=e.length;let s=0;for(;s<n;){let r=e.charCodeAt(s),a,o=r<55296||r>56319||s+1===n||(a=e.charCodeAt(s+1))<56320||a>57343?e[s]:e.slice(s,s+2);t.push(o),s+=o.length}return t}function jl(e,t,n,s,r){let a;const o=t.length;for(let l=0;l<o-1;l++){const u=t[l];e.j[u]?a=e.j[u]:(a=new Ir(s),a.jr=r.slice(),e.j[u]=a),e=a}return a=new Ir(n),a.jr=r.slice(),e.j[t[o-1]]=a,a}function wP(e){const t=[],n=[];let s=0,r="0123456789";for(;s<e.length;){let a=0;for(;r.indexOf(e[s+a])>=0;)a++;if(a>0){t.push(n.join(""));for(let o=parseInt(e.substring(s,s+a),10);o>0;o--)n.pop();s+=a}else n.push(e[s]),s++}return t}const Hp={defaultProtocol:"http",events:null,format:jP,formatHref:jP,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function mT(e,t=null){let n=Object.assign({},Hp);e&&(n=Object.assign(n,e instanceof mT?e.o:e));const s=n.ignoreTags,r=[];for(let a=0;a<s.length;a++)r.push(s[a].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=r}mT.prototype={o:Hp,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const s=t!=null;let r=this.o[e];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:Hp[e],typeof r=="function"&&s&&(r=r(t,n))):typeof r=="function"&&s&&(r=r(t,n.t,n)),r)},getObj(e,t,n){let s=this.o[e];return typeof s=="function"&&t!=null&&(s=s(t,n.t,n)),s},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function jP(e){return e}function Eq(e,t){this.t="token",this.v=e,this.tk=t}Eq.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),s=e.get("format",t,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=Hp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),s=e.get("formatHref",n,this),r=e.get("tagName",n,t),a=this.toFormattedString(e),o={},l=e.get("className",n,t),u=e.get("target",n,t),d=e.get("rel",n,t),f=e.getObj("attributes",n,t),m=e.getObj("events",n,t);return o.href=s,l&&(o.class=l),u&&(o.target=u),d&&(o.rel=d),f&&Object.assign(o,f),{tagName:r,attributes:o,content:a,eventListeners:m}}};function w1(e,t){class n extends Eq{constructor(r,a){super(r,a),this.t=e}}for(const s in t)n.prototype[s]=t[s];return n.t=e,n}const kP=w1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),NP=w1("text"),h3e=w1("nl"),B0=w1("url",{isLink:!0,toHref(e=Hp.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==Up&&e[1].t===Dl}}),Ni=e=>new Ir(e);function f3e({groups:e}){const t=e.domain.concat([Iy,$y,zl,Vy,By,Fy,Uy,Hy,_i,lT,Qm,qy,Zy,Wy,_a,Gy,tp,Ky]),n=[Ly,Dl,uT,Sa,dT,Qm,ep,hT,fT,Cy,Ey,Jm,Xm,Ny,ky,Sy,_y,Ty,zy,Ay,My,Ry,Oy,Dy,Py],s=[Iy,Ly,$y,Vy,By,Fy,Uy,Hy,_i,Jm,Xm,Qm,qy,Zy,Wy,ep,_a,Gy,tp,Ky],r=Ni(),a=Le(r,tp);It(a,s,a),It(a,e.domain,a);const o=Ni(),l=Ni(),u=Ni();It(r,e.domain,o),It(r,e.scheme,l),It(r,e.slashscheme,u),It(o,s,a),It(o,e.domain,o);const d=Le(o,zl);Le(a,zl,d),Le(l,zl,d),Le(u,zl,d);const f=Le(a,Sa);It(f,s,a),It(f,e.domain,a);const m=Ni();It(d,e.domain,m),It(m,e.domain,m);const g=Le(m,Sa);It(g,e.domain,m);const x=Ni(kP);It(g,e.tld,x),It(g,e.utld,x),Le(d,Up,x);const b=Le(m,_i);Le(b,_i,b),It(b,e.domain,m),It(x,e.domain,m),Le(x,Sa,g),Le(x,_i,b);const w=Le(x,Dl);It(w,e.numeric,kP);const j=Le(o,_i),k=Le(o,Sa);Le(j,_i,j),It(j,e.domain,o),It(k,s,a),It(k,e.domain,o);const S=Ni(B0);It(k,e.tld,S),It(k,e.utld,S),It(S,e.domain,o),It(S,s,a),Le(S,Sa,k),Le(S,_i,j),Le(S,zl,d);const C=Le(S,Dl),E=Ni(B0);It(C,e.numeric,E);const z=Ni(B0),R=Ni();It(z,t,z),It(z,n,R),It(R,t,z),It(R,n,R),Le(S,_a,z),Le(E,_a,z);const T=Le(l,Dl),A=Le(u,Dl),D=Le(A,_a),F=Le(D,_a);It(l,e.domain,o),Le(l,Sa,k),Le(l,_i,j),It(u,e.domain,o),Le(u,Sa,k),Le(u,_i,j),It(T,e.domain,z),Le(T,_a,z),Le(T,ep,z),It(F,e.domain,z),It(F,t,z),Le(F,_a,z);const V=[[Jm,Xm],[ky,Ny],[Sy,_y],[Cy,Ey],[Ty,zy],[Ay,My],[Ry,Oy],[Dy,Py]];for(let $=0;$<V.length;$++){const[q,K]=V[$],ee=Le(z,q);Le(R,q,ee),Le(ee,K,z);const L=Ni(B0);It(ee,t,L);const P=Ni();It(ee,n),It(L,t,L),It(L,n,P),It(P,t,L),It(P,n,P),Le(L,K,z),Le(P,K,z)}return Le(r,Up,S),Le(r,cT,h3e),{start:r,tokens:_q}}function m3e(e,t,n){let s=n.length,r=0,a=[],o=[];for(;r<s;){let l=e,u=null,d=null,f=0,m=null,g=-1;for(;r<s&&!(u=l.go(n[r].t));)o.push(n[r++]);for(;r<s&&(d=u||l.go(n[r].t));)u=null,l=d,l.accepts()?(g=0,m=l):g>=0&&g++,r++,f++;if(g<0)r-=f,r<s&&(o.push(n[r]),r++);else{o.length>0&&(a.push(NN(NP,t,o)),o=[]),r-=g,f-=g;const x=m.t,b=n.slice(r-f,r);a.push(NN(x,t,b))}}return o.length>0&&a.push(NN(NP,t,o)),a}function NN(e,t,n){const s=n[0].s,r=n[n.length-1].e,a=t.slice(s,r);return new e(a,n)}const p3e=typeof console<"u"&&console&&console.warn||(()=>{}),g3e="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Rn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function x3e(){return Ir.groups={},Rn.scanner=null,Rn.parser=null,Rn.tokenQueue=[],Rn.pluginQueue=[],Rn.customSchemes=[],Rn.initialized=!1,Rn}function SP(e,t=!1){if(Rn.initialized&&p3e(`linkifyjs: already initialized - will not register custom scheme "${e}" ${g3e}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Rn.customSchemes.push([e,t])}function v3e(){Rn.scanner=u3e(Rn.customSchemes);for(let e=0;e<Rn.tokenQueue.length;e++)Rn.tokenQueue[e][1]({scanner:Rn.scanner});Rn.parser=f3e(Rn.scanner.tokens);for(let e=0;e<Rn.pluginQueue.length;e++)Rn.pluginQueue[e][1]({scanner:Rn.scanner,parser:Rn.parser});return Rn.initialized=!0,Rn}function pT(e){return Rn.initialized||v3e(),m3e(Rn.parser.start,e,Cq(Rn.scanner.start,e))}pT.scan=Cq;function Tq(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const s=new mT(n),r=pT(e),a=[];for(let o=0;o<r.length;o++){const l=r[o];l.isLink&&(!t||l.t===t)&&s.check(l)&&a.push(l.toFormattedObject(s))}return a}var gT="[\0- -\u2029]",y3e=new RegExp(gT),b3e=new RegExp(`${gT}$`),w3e=new RegExp(gT,"g");function j3e(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function k3e(e){return new Zn({key:new Rs("autolink"),appendTransaction:(t,n,s)=>{const r=t.some(d=>d.docChanged)&&!n.doc.eq(s.doc),a=t.some(d=>d.getMeta("preventAutolink"));if(!r||a)return;const{tr:o}=s,l=FH(n.doc,[...t]);if(GH(l).forEach(({newRange:d})=>{const f=j4e(s.doc,d,x=>x.isTextblock);let m,g;if(f.length>1)m=f[0],g=s.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(f.length){const x=s.doc.textBetween(d.from,d.to," "," ");if(!b3e.test(x))return;m=f[0],g=s.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&g){const x=g.split(y3e).filter(Boolean);if(x.length<=0)return!1;const b=x[x.length-1],w=m.pos+g.lastIndexOf(b);if(!b)return!1;const j=pT(b).map(k=>k.toObject(e.defaultProtocol));if(!j3e(j))return!1;j.filter(k=>k.isLink).map(k=>({...k,from:w+k.start+1,to:w+k.end+1})).filter(k=>s.schema.marks.code?!s.doc.rangeHasMark(k.from,k.to,s.schema.marks.code):!0).filter(k=>e.validate(k.value)).filter(k=>e.shouldAutoLink(k.value)).forEach(k=>{nT(k.from,k.to,s.doc).some(S=>S.mark.type===e.type)||o.addMark(k.from,k.to,e.type.create({href:k.href}))})}}),!!o.steps.length)return o}})}function N3e(e){return new Zn({key:new Rs("handleClickLink"),props:{handleClick:(t,n,s)=>{var r,a;if(s.button!==0||!t.editable)return!1;let o=null;if(s.target instanceof HTMLAnchorElement)o=s.target;else{const u=s.target;if(!u)return!1;const d=e.editor.view.dom;o=u.closest("a"),o&&!d.contains(o)&&(o=null)}if(!o)return!1;let l=!1;if(e.enableClickSelection&&(l=e.editor.commands.extendMarkRange(e.type.name)),e.openOnClick){const u=KH(t.state,e.type.name),d=(r=o.href)!=null?r:u.href,f=(a=o.target)!=null?a:u.target;d&&(window.open(d,f),l=!0)}return l}}})}function S3e(e){return new Zn({key:new Rs("handlePasteLink"),props:{handlePaste:(t,n,s)=>{const{shouldAutoLink:r}=e,{state:a}=t,{selection:o}=a,{empty:l}=o;if(l)return!1;let u="";s.content.forEach(f=>{u+=f.textContent});const d=Tq(u,{defaultProtocol:e.defaultProtocol}).find(f=>f.isLink&&f.value===u);return!u||!d||r!==void 0&&!r(d.value)?!1:e.editor.commands.setMark(e.type,{href:d.href})}}})}function Bc(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(s=>{const r=typeof s=="string"?s:s.scheme;r&&n.push(r)}),!e||e.replace(w3e,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var zq=gc.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(e=>{if(typeof e=="string"){SP(e);return}SP(e.scheme,e.optionalSlashes)})},onDestroy(){x3e()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(e,t)=>!!Bc(e,t.protocols),validate:e=>!!e,shouldAutoLink:e=>{const t=/^[a-z][a-z0-9+.-]*:\/\//i.test(e),n=/^[a-z][a-z0-9+.-]*:/i.test(e);if(t||n&&!e.includes("@"))return!0;const r=(e.includes("@")?e.split("@").pop():e).split(/[/?#:]/)[0];return!(/^\d{1,3}(\.\d{1,3}){3}$/.test(r)||!/\./.test(r))}}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class},title:{default:null}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!this.options.isAllowedUri(t,{defaultValidate:n=>!!Bc(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:e}){return this.options.isAllowedUri(e.href,{defaultValidate:t=>!!Bc(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ts(this.options.HTMLAttributes,e),0]:["a",ts(this.options.HTMLAttributes,{...e,href:""}),0]},markdownTokenName:"link",parseMarkdown:(e,t)=>t.applyMark("link",t.parseInline(e.tokens||[]),{href:e.href,title:e.title||null}),renderMarkdown:(e,t)=>{var n,s,r,a;const o=(s=(n=e.attrs)==null?void 0:n.href)!=null?s:"",l=(a=(r=e.attrs)==null?void 0:r.title)!=null?a:"",u=t.renderChildren(e);return l?`[${u}](${o} "${l}")`:`[${u}](${o})`},addCommands(){return{setLink:e=>({chain:t})=>{const{href:n}=e;return this.options.isAllowedUri(n,{defaultValidate:s=>!!Bc(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?t().setMark(this.name,e).setMeta("preventAutolink",!0).run():!1},toggleLink:e=>({chain:t})=>{const{href:n}=e||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:s=>!!Bc(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Ru({find:e=>{const t=[];if(e){const{protocols:n,defaultProtocol:s}=this.options,r=Tq(e).filter(a=>a.isLink&&this.options.isAllowedUri(a.value,{defaultValidate:o=>!!Bc(o,n),protocols:n,defaultProtocol:s}));r.length&&r.forEach(a=>{this.options.shouldAutoLink(a.value)&&t.push({text:a.value,data:{href:a.href},index:a.start})})}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)==null?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[],{protocols:t,defaultProtocol:n}=this.options;return this.options.autolink&&e.push(k3e({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:r=>!!Bc(r,t),protocols:t,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),e.push(N3e({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&e.push(S3e({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),e}}),_3e=zq,C3e=Object.defineProperty,E3e=(e,t)=>{for(var n in t)C3e(e,n,{get:t[n],enumerable:!0})},T3e="listItem",_P="textStyle",CP=/^\s*([-+*])\s$/,Aq=Hr.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>e.type!=="list"||e.ordered?[]:{type:"bulletList",content:e.items?t.parseChildren(e.items):[]},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(T3e,this.editor.getAttributes(_P)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=Bh({find:CP,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Bh({find:CP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(_P),editor:this.editor})),[e]}}),Mq=Hr.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"list_item",parseMarkdown:(e,t)=>{if(e.type!=="list_item")return[];let n=[];if(e.tokens&&e.tokens.length>0)if(e.tokens.some(r=>r.type==="paragraph"))n=t.parseChildren(e.tokens);else{const r=e.tokens[0];if(r&&r.type==="text"&&r.tokens&&r.tokens.length>0){if(n=[{type:"paragraph",content:t.parseInline(r.tokens)}],e.tokens.length>1){const o=e.tokens.slice(1),l=t.parseChildren(o);n.push(...l)}}else n=t.parseChildren(e.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(e,t,n)=>aT(e,t,s=>{var r,a;return s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${(((a=(r=s.meta)==null?void 0:r.parentAttrs)==null?void 0:a.start)||1)+s.index}. `:"- "},n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),z3e={};E3e(z3e,{findListItemPos:()=>Mg,getNextListDepth:()=>xT,handleBackspace:()=>$S,handleDelete:()=>VS,hasListBefore:()=>Rq,hasListItemAfter:()=>A3e,hasListItemBefore:()=>Oq,listItemHasSubList:()=>Dq,nextListIsDeeper:()=>Pq,nextListIsHigher:()=>Iq});var Mg=(e,t)=>{const{$from:n}=t.selection,s=ks(e,t.schema);let r=null,a=n.depth,o=n.pos,l=null;for(;a>0&&l===null;)r=n.node(a),r.type===s?l=a:(a-=1,o-=1);return l===null?null:{$pos:t.doc.resolve(o),depth:l}},xT=(e,t)=>{const n=Mg(e,t);if(!n)return!1;const[,s]=M4e(t,e,n.$pos.pos+4);return s},Rq=(e,t,n)=>{const{$anchor:s}=e.selection,r=Math.max(0,s.pos-2),a=e.doc.resolve(r).node();return!(!a||!n.includes(a.type.name))},Oq=(e,t)=>{var n;const{$anchor:s}=t.selection,r=t.doc.resolve(s.pos-2);return!(r.index()===0||((n=r.nodeBefore)==null?void 0:n.type.name)!==e)},Dq=(e,t,n)=>{if(!n)return!1;const s=ks(e,t.schema);let r=!1;return n.descendants(a=>{a.type===s&&(r=!0)}),r},$S=(e,t,n)=>{if(e.commands.undoInputRule())return!0;if(e.state.selection.from!==e.state.selection.to)return!1;if(!rc(e.state,t)&&Rq(e.state,t,n)){const{$anchor:l}=e.state.selection,u=e.state.doc.resolve(l.before()-1),d=[];u.node().descendants((g,x)=>{g.type.name===t&&d.push({node:g,pos:x})});const f=d.at(-1);if(!f)return!1;const m=e.state.doc.resolve(u.start()+f.pos+1);return e.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!rc(e.state,t)||!P4e(e.state))return!1;const s=Mg(t,e.state);if(!s)return!1;const a=e.state.doc.resolve(s.$pos.pos-2).node(s.depth),o=Dq(t,e.state,a);return Oq(t,e.state)&&!o?e.commands.joinItemBackward():e.chain().liftListItem(t).run()},Pq=(e,t)=>{const n=xT(e,t),s=Mg(e,t);return!s||!n?!1:n>s.depth},Iq=(e,t)=>{const n=xT(e,t),s=Mg(e,t);return!s||!n?!1:n<s.depth},VS=(e,t)=>{if(!rc(e.state,t)||!D4e(e.state,t))return!1;const{selection:n}=e.state,{$from:s,$to:r}=n;return!n.empty&&s.sameParent(r)?!1:Pq(t,e.state)?e.chain().focus(e.state.selection.from+4).lift(t).joinBackward().run():Iq(t,e.state)?e.chain().joinForward().joinBackward().run():e.commands.joinItemForward()},A3e=(e,t)=>{var n;const{$anchor:s}=t.selection,r=t.doc.resolve(s.pos-s.parentOffset-2);return!(r.index()===r.parent.childCount-1||((n=r.nodeAfter)==null?void 0:n.type.name)!==e)},Lq=En.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&VS(e,n)&&(t=!0)}),t},"Mod-Delete":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n})=>{e.state.schema.nodes[n]!==void 0&&VS(e,n)&&(t=!0)}),t},Backspace:({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{e.state.schema.nodes[n]!==void 0&&$S(e,n,s)&&(t=!0)}),t},"Mod-Backspace":({editor:e})=>{let t=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{e.state.schema.nodes[n]!==void 0&&$S(e,n,s)&&(t=!0)}),t}}}}),EP=/^(\s*)(\d+)\.\s+(.*)$/,M3e=/^\s/;function R3e(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n],a=r.match(EP);if(!a)break;const[,o,l,u]=a,d=o.length;let f=u,m=n+1;const g=[r];for(;m<e.length;){const x=e[m];if(x.match(EP))break;if(x.trim()==="")g.push(x),f+=`
`,m+=1;else if(x.match(M3e))g.push(x),f+=`
${x.slice(d+2)}`,m+=1;else break}t.push({indent:d,number:parseInt(l,10),content:f.trim(),raw:g.join(`
`)}),s=m,n=m}return[t,s]}function $q(e,t,n){var s;const r=[];let a=0;for(;a<e.length;){const o=e[a];if(o.indent===t){const l=o.content.split(`
`),u=((s=l[0])==null?void 0:s.trim())||"",d=[];u&&d.push({type:"paragraph",raw:u,tokens:n.inlineTokens(u)});const f=l.slice(1).join(`
`).trim();if(f){const x=n.blockTokens(f);d.push(...x)}let m=a+1;const g=[];for(;m<e.length&&e[m].indent>t;)g.push(e[m]),m+=1;if(g.length>0){const x=Math.min(...g.map(w=>w.indent)),b=$q(g,x,n);d.push({type:"list",ordered:!0,start:g[0].number,items:b,raw:g.map(w=>w.raw).join(`
`)})}r.push({type:"list_item",raw:o.raw,tokens:d}),a=m}else a+=1}return r}function O3e(e,t){return e.map(n=>{if(n.type!=="list_item")return t.parseChildren([n])[0];const s=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(r=>{if(r.type==="paragraph"||r.type==="list"||r.type==="blockquote"||r.type==="code")s.push(...t.parseChildren([r]));else if(r.type==="text"&&r.tokens){const a=t.parseChildren([r]);s.push({type:"paragraph",content:a})}else{const a=t.parseChildren([r]);a.length>0&&s.push(...a)}}),{type:"listItem",content:s}})}var D3e="listItem",TP="textStyle",zP=/^(\d+)\.\s$/,Vq=Hr.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",ts(this.options.HTMLAttributes,n),0]:["ol",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"list",parseMarkdown:(e,t)=>{if(e.type!=="list"||!e.ordered)return[];const n=e.start||1,s=e.items?O3e(e.items,t):[];return n!==1?{type:"orderedList",attrs:{start:n},content:s}:{type:"orderedList",content:s}},renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:e=>{const t=e.match(/^(\s*)(\d+)\.\s+/),n=t==null?void 0:t.index;return n!==void 0?n:-1},tokenize:(e,t,n)=>{var s;const r=e.split(`
`),[a,o]=R3e(r);if(a.length===0)return;const l=$q(a,0,n);return l.length===0?void 0:{type:"list",ordered:!0,start:((s=a[0])==null?void 0:s.number)||1,items:l,raw:r.slice(0,o).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(D3e,this.editor.getAttributes(TP)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=Bh({find:zP,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=Bh({find:zP,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(TP)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),P3e=/^\s*(\[([( |x])?\])\s$/,I3e=Hr.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",ts(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(e,t)=>{const n=[];if(e.tokens&&e.tokens.length>0?n.push(t.createNode("paragraph",{},t.parseInline(e.tokens))):e.text?n.push(t.createNode("paragraph",{},[t.createNode("text",{text:e.text})])):n.push(t.createNode("paragraph",{},[])),e.nestedTokens&&e.nestedTokens.length>0){const s=t.parseChildren(e.nestedTokens);n.push(...s)}return t.createNode("taskItem",{checked:e.checked||!1},n)},renderMarkdown:(e,t)=>{var n;const r=`- [${(n=e.attrs)!=null&&n.checked?"x":" "}] `;return aT(e,t,r)},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:s})=>{const r=document.createElement("li"),a=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),u=document.createElement("div"),d=m=>{var g,x;l.ariaLabel=((x=(g=this.options.a11y)==null?void 0:g.checkboxLabel)==null?void 0:x.call(g,m,l.checked))||`Task item checkbox for ${m.textContent||"empty task item"}`};d(e),a.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",m=>m.preventDefault()),l.addEventListener("change",m=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:g}=m.target;s.isEditable&&typeof n=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const b=n();if(typeof b!="number")return!1;const w=x.doc.nodeAt(b);return x.setNodeMarkup(b,void 0,{...w==null?void 0:w.attrs,checked:g}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,g)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([m,g])=>{r.setAttribute(m,g)}),r.dataset.checked=e.attrs.checked,l.checked=e.attrs.checked,a.append(l,o),r.append(a,u),Object.entries(t).forEach(([m,g])=>{r.setAttribute(m,g)});let f=new Set(Object.keys(t));return{dom:r,contentDOM:u,update:m=>{if(m.type!==this.type)return!1;r.dataset.checked=m.attrs.checked,l.checked=m.attrs.checked,d(m);const g=s.extensionManager.attributes,x=Fp(m,g),b=new Set(Object.keys(x)),w=this.options.HTMLAttributes;return f.forEach(j=>{b.has(j)||(j in w?r.setAttribute(j,w[j]):r.removeAttribute(j))}),Object.entries(x).forEach(([j,k])=>{k==null?j in w?r.setAttribute(j,w[j]):r.removeAttribute(j):r.setAttribute(j,k)}),f=b,!0}}}},addInputRules(){return[Bh({find:P3e,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),L3e=Hr.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",ts(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},parseMarkdown:(e,t)=>t.createNode("taskList",{},t.parseChildren(e.items||[])),renderMarkdown:(e,t)=>e.content?t.renderChildren(e.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(e){var t;const n=(t=e.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:t.index;return n!==void 0?n:-1},tokenize(e,t,n){const s=a=>{const o=TS(a,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,u)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:u}),customNestedParser:s},n);return o?[{type:"taskList",raw:o.raw,items:o.items}]:n.blockTokens(a)},r=TS(e,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:a=>({indentLevel:a[1].length,mainContent:a[4],checked:a[3].toLowerCase()==="x"}),createToken:(a,o)=>({type:"taskItem",raw:"",mainContent:a.mainContent,indentLevel:a.indentLevel,checked:a.checked,text:a.mainContent,tokens:n.inlineTokens(a.mainContent),nestedTokens:o}),customNestedParser:s},n);if(r)return{type:"taskList",raw:r.raw,items:r.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});En.create({name:"listKit",addExtensions(){const e=[];return this.options.bulletList!==!1&&e.push(Aq.configure(this.options.bulletList)),this.options.listItem!==!1&&e.push(Mq.configure(this.options.listItem)),this.options.listKeymap!==!1&&e.push(Lq.configure(this.options.listKeymap)),this.options.orderedList!==!1&&e.push(Vq.configure(this.options.orderedList)),this.options.taskItem!==!1&&e.push(I3e.configure(this.options.taskItem)),this.options.taskList!==!1&&e.push(L3e.configure(this.options.taskList)),e}});var AP="&nbsp;",$3e="",V3e=Hr.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",ts(this.options.HTMLAttributes,e),0]},parseMarkdown:(e,t)=>{const n=e.tokens||[];if(n.length===1&&n[0].type==="image")return t.parseChildren([n[0]]);const s=t.parseInline(n);return s.length===1&&s[0].type==="text"&&(s[0].text===AP||s[0].text===$3e)?t.createNode("paragraph",void 0,[]):t.createNode("paragraph",void 0,s)},renderMarkdown:(e,t)=>{if(!e)return"";const n=Array.isArray(e.content)?e.content:[];return n.length===0?AP:t.renderChildren(n)},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),B3e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,F3e=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,U3e=gc.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",ts(this.options.HTMLAttributes,e),0]},markdownTokenName:"del",parseMarkdown:(e,t)=>t.applyMark("strike",t.parseInline(e.tokens||[])),renderMarkdown:(e,t)=>`~~${t.renderChildren(e)}~~`,addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Vh({find:B3e,type:this.type})]},addPasteRules(){return[Ru({find:F3e,type:this.type})]}}),H3e=Hr.create({name:"text",group:"inline",parseMarkdown:e=>({type:"text",text:e.text||""}),renderMarkdown:e=>e.text||""}),Bq=gc.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",ts(this.options.HTMLAttributes,e),0]},parseMarkdown(e,t){return t.applyMark(this.name||"underline",t.parseInline(e.tokens||[]))},renderMarkdown(e,t){return`++${t.renderChildren(e)}++`},markdownTokenizer:{name:"underline",level:"inline",start(e){return e.indexOf("++")},tokenize(e,t,n){const r=/^(\+\+)([\s\S]+?)(\+\+)/.exec(e);if(!r)return;const a=r[2].trim();return{type:"underline",raw:r[0],text:a,tokens:n.inlineTokens(a)}}},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),q3e=Bq;function Z3e(e={}){return new Zn({view(t){return new W3e(t,e)}})}class W3e{constructor(t,n){var s;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let a=o=>{this[r](o)};return t.dom.addEventListener(r,a),{name:r,handler:a}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,s,r=this.editorView.dom,a=r.getBoundingClientRect(),o=a.width/r.offsetWidth,l=a.height/r.offsetHeight;if(n){let m=t.nodeBefore,g=t.nodeAfter;if(m||g){let x=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(x){let b=x.getBoundingClientRect(),w=m?b.bottom:b.top;m&&g&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let j=this.width/2*l;s={left:b.left,right:b.right,top:w-j,bottom:w+j}}}}if(!s){let m=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*o;s={left:m.left-g,right:m.left+g,top:m.top,bottom:m.bottom}}let u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let d,f;if(!u||u==document.body&&getComputedStyle(u).position=="static")d=-pageXOffset,f=-pageYOffset;else{let m=u.getBoundingClientRect(),g=m.width/u.offsetWidth,x=m.height/u.offsetHeight;d=m.left-u.scrollLeft*g,f=m.top-u.scrollTop*x}this.element.style.left=(s.left-d)/o+"px",this.element.style.top=(s.top-f)/l+"px",this.element.style.width=(s.right-s.left)/o+"px",this.element.style.height=(s.bottom-s.top)/l+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=s&&s.type.spec.disableDropCursor,a=typeof r=="function"?r(this.editorView,n,t):r;if(n&&!a){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=RU(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}class es extends Lt{constructor(t){super(t,t)}map(t,n){let s=t.resolve(n.map(this.head));return es.valid(s)?new es(s):Lt.near(s)}content(){return Ke.empty}eq(t){return t instanceof es&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new es(t.resolve(n.pos))}getBookmark(){return new vT(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!K3e(t)||!G3e(t))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let r=n.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,n,s=!1){e:for(;;){if(!s&&es.valid(t))return t;let r=t.pos,a=null;for(let o=t.depth;;o--){let l=t.node(o);if(n>0?t.indexAfter(o)<l.childCount:t.index(o)>0){a=l.child(n>0?t.indexAfter(o):t.index(o)-1);break}else if(o==0)return null;r+=n;let u=t.doc.resolve(r);if(es.valid(u))return u}for(;;){let o=n>0?a.firstChild:a.lastChild;if(!o){if(a.isAtom&&!a.isText&&!pt.isSelectable(a)){t=t.doc.resolve(r+a.nodeSize*n),s=!1;continue e}break}a=o,r+=n;let l=t.doc.resolve(r);if(es.valid(l))return l}return null}}}es.prototype.visible=!1;es.findFrom=es.findGapCursorFrom;Lt.jsonID("gapcursor",es);class vT{constructor(t){this.pos=t}map(t){return new vT(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return es.valid(n)?new es(n):Lt.near(n)}}function Fq(e){return e.isAtom||e.spec.isolating||e.spec.createGapCursor}function K3e(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),s=e.node(t);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||Fq(r.type))return!0;if(r.inlineContent)return!1}}return!0}function G3e(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),s=e.node(t);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let r=s.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||Fq(r.type))return!0;if(r.inlineContent)return!1}}return!0}function Y3e(){return new Zn({props:{decorations:eRe,createSelectionBetween(e,t,n){return t.pos==n.pos&&es.valid(n)?new es(n):null},handleClick:X3e,handleKeyDown:J3e,handleDOMEvents:{beforeinput:Q3e}}})}const J3e=OH({ArrowLeft:F0("horiz",-1),ArrowRight:F0("horiz",1),ArrowUp:F0("vert",-1),ArrowDown:F0("vert",1)});function F0(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(s,r,a){let o=s.selection,l=t>0?o.$to:o.$from,u=o.empty;if(o instanceof _t){if(!a.endOfTextblock(n)||l.depth==0)return!1;u=!1,l=s.doc.resolve(t>0?l.after():l.before())}let d=es.findGapCursorFrom(l,t,u);return d?(r&&r(s.tr.setSelection(new es(d))),!0):!1}}function X3e(e,t,n){if(!e||!e.editable)return!1;let s=e.state.doc.resolve(t);if(!es.valid(s))return!1;let r=e.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&pt.isSelectable(e.state.doc.nodeAt(r.inside))?!1:(e.dispatch(e.state.tr.setSelection(new es(s))),!0)}function Q3e(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof es))return!1;let{$from:n}=e.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!s)return!1;let r=De.empty;for(let o=s.length-1;o>=0;o--)r=De.from(s[o].createAndFill(null,r));let a=e.state.tr.replace(n.pos,n.pos,new Ke(r,0,0));return a.setSelection(_t.near(a.doc.resolve(n.pos+1))),e.dispatch(a),!1}function eRe(e){if(!(e.selection instanceof es))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Fn.create(e.doc,[wr.widget(e.selection.head,t,{key:"gapcursor"})])}var Yy=200,Us=function(){};Us.prototype.append=function(t){return t.length?(t=Us.from(t),!this.length&&t||t.length<Yy&&this.leafAppend(t)||this.length<Yy&&t.leafPrepend(this)||this.appendInner(t)):this};Us.prototype.prepend=function(t){return t.length?Us.from(t).append(this):this};Us.prototype.appendInner=function(t){return new tRe(this,t)};Us.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Us.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Us.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Us.prototype.forEach=function(t,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(t,n,s,0):this.forEachInvertedInner(t,n,s,0)};Us.prototype.map=function(t,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var r=[];return this.forEach(function(a,o){return r.push(t(a,o))},n,s),r};Us.from=function(t){return t instanceof Us?t:t&&t.length?new Uq(t):Us.empty};var Uq=(function(e){function t(s){e.call(this),this.values=s}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,a){return r==0&&a==this.length?this:new t(this.values.slice(r,a))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,a,o,l){for(var u=a;u<o;u++)if(r(this.values[u],l+u)===!1)return!1},t.prototype.forEachInvertedInner=function(r,a,o,l){for(var u=a-1;u>=o;u--)if(r(this.values[u],l+u)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=Yy)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=Yy)return new t(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(Us);Us.empty=new Uq([]);var tRe=(function(e){function t(n,s){e.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},t.prototype.forEachInner=function(s,r,a,o){var l=this.left.length;if(r<l&&this.left.forEachInner(s,r,Math.min(a,l),o)===!1||a>l&&this.right.forEachInner(s,Math.max(r-l,0),Math.min(this.length,a)-l,o+l)===!1)return!1},t.prototype.forEachInvertedInner=function(s,r,a,o){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(s,r-l,Math.max(a,l)-l,o+l)===!1||a<l&&this.left.forEachInvertedInner(s,Math.min(r,l),a,o)===!1)return!1},t.prototype.sliceInner=function(s,r){if(s==0&&r==this.length)return this;var a=this.left.length;return r<=a?this.left.slice(s,r):s>=a?this.right.slice(s-a,r-a):this.left.slice(s,a).append(this.right.slice(0,r-a))},t.prototype.leafAppend=function(s){var r=this.right.leafAppend(s);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(s){var r=this.left.leafPrepend(s);if(r)return new t(r,this.right)},t.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new t(this.left,new t(this.right,s)):new t(this,s)},t})(Us);const nRe=500;class na{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let r,a;n&&(r=this.remapping(s,this.items.length),a=r.maps.length);let o=t.tr,l,u,d=[],f=[];return this.items.forEach((m,g)=>{if(!m.step){r||(r=this.remapping(s,g+1),a=r.maps.length),a--,f.push(m);return}if(r){f.push(new Ca(m.map));let x=m.step.map(r.slice(a)),b;x&&o.maybeStep(x).doc&&(b=o.mapping.maps[o.mapping.maps.length-1],d.push(new Ca(b,void 0,void 0,d.length+f.length))),a--,b&&r.appendMap(b,a)}else o.maybeStep(m.step);if(m.selection)return l=r?m.selection.map(r.slice(a)):m.selection,u=new na(this.items.slice(0,s).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:o,selection:l}}addTransform(t,n,s,r){let a=[],o=this.eventCount,l=this.items,u=!r&&l.length?l.get(l.length-1):null;for(let f=0;f<t.steps.length;f++){let m=t.steps[f].invert(t.docs[f]),g=new Ca(t.mapping.maps[f],m,n),x;(x=u&&u.merge(g))&&(g=x,f?a.pop():l=l.slice(0,l.length-1)),a.push(g),n&&(o++,n=void 0),r||(u=g)}let d=o-s.depth;return d>rRe&&(l=sRe(l,d),o-=d),new na(l.append(a),o)}remapping(t,n){let s=new Pp;return this.items.forEach((r,a)=>{let o=r.mirrorOffset!=null&&a-r.mirrorOffset>=t?s.maps.length-r.mirrorOffset:void 0;s.appendMap(r.map,o)},t,n),s}addMaps(t){return this.eventCount==0?this:new na(this.items.append(t.map(n=>new Ca(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let s=[],r=Math.max(0,this.items.length-n),a=t.mapping,o=t.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},r);let u=n;this.items.forEach(g=>{let x=a.getMirror(--u);if(x==null)return;o=Math.min(o,x);let b=a.maps[x];if(g.step){let w=t.steps[x].invert(t.docs[x]),j=g.selection&&g.selection.map(a.slice(u+1,x));j&&l++,s.push(new Ca(b,w,j))}else s.push(new Ca(b))},r);let d=[];for(let g=n;g<o;g++)d.push(new Ca(a.maps[g]));let f=this.items.slice(0,r).append(d).append(s),m=new na(f,l);return m.emptyItemCount()>nRe&&(m=m.compress(this.items.length-s.length)),m}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),s=n.maps.length,r=[],a=0;return this.items.forEach((o,l)=>{if(l>=t)r.push(o),o.selection&&a++;else if(o.step){let u=o.step.map(n.slice(s)),d=u&&u.getMap();if(s--,d&&n.appendMap(d,s),u){let f=o.selection&&o.selection.map(n.slice(s));f&&a++;let m=new Ca(d.invert(),u,f),g,x=r.length-1;(g=r.length&&r[x].merge(m))?r[x]=g:r.push(m)}}else o.map&&s--},this.items.length,0),new na(Us.from(r.reverse()),a)}}na.empty=new na(Us.empty,0);function sRe(e,t){let n;return e.forEach((s,r)=>{if(s.selection&&t--==0)return n=r,!1}),e.slice(n)}class Ca{constructor(t,n,s,r){this.map=t,this.step=n,this.selection=s,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Ca(n.getMap().invert(),n,this.selection)}}}class Al{constructor(t,n,s,r,a){this.done=t,this.undone=n,this.prevRanges=s,this.prevTime=r,this.prevComposition=a}}const rRe=20;function iRe(e,t,n,s){let r=n.getMeta(yu),a;if(r)return r.historyState;n.getMeta(lRe)&&(e=new Al(e.done,e.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(o&&o.getMeta(yu))return o.getMeta(yu).redo?new Al(e.done.addTransform(n,void 0,s,hv(t)),e.undone,MP(n.mapping.maps),e.prevTime,e.prevComposition):new Al(e.done,e.undone.addTransform(n,void 0,s,hv(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=n.getMeta("composition"),u=e.prevTime==0||!o&&e.prevComposition!=l&&(e.prevTime<(n.time||0)-s.newGroupDelay||!aRe(n,e.prevRanges)),d=o?SN(e.prevRanges,n.mapping):MP(n.mapping.maps);return new Al(e.done.addTransform(n,u?t.selection.getBookmark():void 0,s,hv(t)),na.empty,d,n.time,l??e.prevComposition)}else return(a=n.getMeta("rebased"))?new Al(e.done.rebased(n,a),e.undone.rebased(n,a),SN(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Al(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),SN(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function aRe(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((s,r)=>{for(let a=0;a<t.length;a+=2)s<=t[a+1]&&r>=t[a]&&(n=!0)}),n}function MP(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((s,r,a,o)=>t.push(a,o));return t}function SN(e,t){if(!e)return null;let n=[];for(let s=0;s<e.length;s+=2){let r=t.map(e[s],1),a=t.map(e[s+1],-1);r<=a&&n.push(r,a)}return n}function oRe(e,t,n){let s=hv(t),r=yu.get(t).spec.config,a=(n?e.undone:e.done).popEvent(t,s);if(!a)return null;let o=a.selection.resolve(a.transform.doc),l=(n?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),r,s),u=new Al(n?l:a.remaining,n?a.remaining:l,null,0,-1);return a.transform.setSelection(o).setMeta(yu,{redo:n,historyState:u})}let _N=!1,RP=null;function hv(e){let t=e.plugins;if(RP!=t){_N=!1,RP=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){_N=!0;break}}return _N}const yu=new Rs("history"),lRe=new Rs("closeHistory");function cRe(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new Zn({key:yu,state:{init(){return new Al(na.empty,na.empty,null,0,-1)},apply(t,n,s){return iRe(n,s,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let s=n.inputType,r=s=="historyUndo"?qq:s=="historyRedo"?Zq:null;return!r||!t.editable?!1:(n.preventDefault(),r(t.state,t.dispatch))}}}})}function Hq(e,t){return(n,s)=>{let r=yu.getState(n);if(!r||(e?r.undone:r.done).eventCount==0)return!1;if(s){let a=oRe(r,n,e);a&&s(t?a.scrollIntoView():a)}return!0}}const qq=Hq(!1,!0),Zq=Hq(!0,!0);En.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:e=>e.length,wordCounter:e=>e.split(" ").filter(t=>t!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc;if(((e==null?void 0:e.mode)||this.options.mode)==="textSize"){const s=t.textBetween(0,t.content.size,void 0," ");return this.options.textCounter(s)}return t.nodeSize},this.storage.words=e=>{const t=(e==null?void 0:e.node)||this.editor.state.doc,n=t.textBetween(0,t.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let e=!1;return[new Zn({key:new Rs("characterCount"),appendTransaction:(t,n,s)=>{if(e)return;const r=this.options.limit;if(r==null||r===0){e=!0;return}const a=this.storage.characters({node:s.doc});if(a>r){const o=a-r,l=0,u=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${r} characters. Content was automatically trimmed.`);const d=s.tr.deleteRange(l,u);return e=!0,d}e=!0},filterTransaction:(t,n)=>{const s=this.options.limit;if(!t.docChanged||s===0||s===null||s===void 0)return!0;const r=this.storage.characters({node:n.doc}),a=this.storage.characters({node:t.doc});if(a<=s||r>s&&a>s&&a<=r)return!0;if(r>s&&a>s&&a>r||!t.getMeta("paste"))return!1;const l=t.selection.$head.pos,u=a-s,d=l-u,f=l;return t.deleteRange(d,f),!(this.storage.characters({node:t.doc})>s)}})]}});var uRe=En.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[Z3e(this.options)]}});En.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Zn({key:new Rs("focus"),props:{decorations:({doc:e,selection:t})=>{const{isEditable:n,isFocused:s}=this.editor,{anchor:r}=t,a=[];if(!n||!s)return Fn.create(e,[]);let o=0;this.options.mode==="deepest"&&e.descendants((u,d)=>{if(u.isText)return;if(!(r>=d&&r<=d+u.nodeSize-1))return!1;o+=1});let l=0;return e.descendants((u,d)=>{if(u.isText||!(r>=d&&r<=d+u.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";a.push(wr.node(d,d+u.nodeSize,{class:this.options.className}))}),Fn.create(e,a)}}})]}});var dRe=En.create({name:"gapCursor",addProseMirrorPlugins(){return[Y3e()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=hn(dt(e,"allowGapCursor",n)))!=null?t:null}}}),OP="placeholder";function hRe(e){return e.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9-]/g,"").replace(/^[0-9-]+/,"").replace(/^-+/,"").toLowerCase()}En.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",dataAttribute:OP,placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){const e=this.options.dataAttribute?`data-${hRe(this.options.dataAttribute)}`:`data-${OP}`;return[new Zn({key:new Rs("placeholder"),props:{decorations:({doc:t,selection:n})=>{const s=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=n,a=[];if(!s)return null;const o=this.editor.isEmpty;return t.descendants((l,u)=>{const d=r>=u&&r<=u+l.nodeSize,f=!l.isLeaf&&v1(l);if((d||!this.options.showOnlyCurrent)&&f){const m=[this.options.emptyNodeClass];o&&m.push(this.options.emptyEditorClass);const g=wr.node(u,u+l.nodeSize,{class:m.join(" "),[e]:typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:u,hasAnchor:d}):this.options.placeholder});a.push(g)}return this.options.includeChildren}),Fn.create(t,a)}}})]}});En.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:e,options:t}=this;return[new Zn({key:new Rs("selection"),props:{decorations(n){return n.selection.empty||e.isFocused||!e.isEditable||YH(n.selection)||e.view.dragging?null:Fn.create(n.doc,[wr.inline(n.selection.from,n.selection.to,{class:t.className})])}}})]}});function DP({types:e,node:t}){return t&&Array.isArray(e)&&e.includes(t.type)||(t==null?void 0:t.type)===e}var fRe=En.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var e;const t=new Rs(this.name),n=this.options.node||((e=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:e.name)||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(n).includes(r.name));return[new Zn({key:t,appendTransaction:(r,a,o)=>{const{doc:l,tr:u,schema:d}=o,f=t.getState(o),m=l.content.size,g=d.nodes[n];if(f)return u.insert(m,g.create())},state:{init:(r,a)=>{const o=a.tr.doc.lastChild;return!DP({node:o,types:s})},apply:(r,a)=>{if(!r.docChanged||r.getMeta("__uniqueIDTransaction"))return a;const o=r.doc.lastChild;return!DP({node:o,types:s})}}})]}}),mRe=En.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>qq(e,t),redo:()=>({state:e,dispatch:t})=>Zq(e,t)}},addProseMirrorPlugins(){return[cRe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),pRe=En.create({name:"starterKit",addExtensions(){var e,t,n,s;const r=[];return this.options.bold!==!1&&r.push(VMe.configure(this.options.bold)),this.options.blockquote!==!1&&r.push(DMe.configure(this.options.blockquote)),this.options.bulletList!==!1&&r.push(Aq.configure(this.options.bulletList)),this.options.code!==!1&&r.push(UMe.configure(this.options.code)),this.options.codeBlock!==!1&&r.push(ZMe.configure(this.options.codeBlock)),this.options.document!==!1&&r.push(WMe.configure(this.options.document)),this.options.dropcursor!==!1&&r.push(uRe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&r.push(dRe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&r.push(KMe.configure(this.options.hardBreak)),this.options.heading!==!1&&r.push(GMe.configure(this.options.heading)),this.options.undoRedo!==!1&&r.push(mRe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&r.push(YMe.configure(this.options.horizontalRule)),this.options.italic!==!1&&r.push(t3e.configure(this.options.italic)),this.options.listItem!==!1&&r.push(Mq.configure(this.options.listItem)),this.options.listKeymap!==!1&&r.push(Lq.configure((e=this.options)==null?void 0:e.listKeymap)),this.options.link!==!1&&r.push(zq.configure((t=this.options)==null?void 0:t.link)),this.options.orderedList!==!1&&r.push(Vq.configure(this.options.orderedList)),this.options.paragraph!==!1&&r.push(V3e.configure(this.options.paragraph)),this.options.strike!==!1&&r.push(U3e.configure(this.options.strike)),this.options.text!==!1&&r.push(H3e.configure(this.options.text)),this.options.underline!==!1&&r.push(Bq.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&r.push(fRe.configure((s=this.options)==null?void 0:s.trailingNode)),r}}),gRe=pRe,xRe=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,vRe=Hr.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",ts(this.options.HTMLAttributes,e)]},parseMarkdown:(e,t)=>t.createNode("image",{src:e.href,title:e.title,alt:e.text}),renderMarkdown:e=>{var t,n,s,r,a,o;const l=(n=(t=e.attrs)==null?void 0:t.src)!=null?n:"",u=(r=(s=e.attrs)==null?void 0:s.alt)!=null?r:"",d=(o=(a=e.attrs)==null?void 0:a.title)!=null?o:"";return d?`![${u}](${l} "${d}")`:`![${u}](${l})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:e,minWidth:t,minHeight:n,alwaysPreserveAspectRatio:s}=this.options.resize;return({node:r,getPos:a,HTMLAttributes:o,editor:l})=>{const u=document.createElement("img");Object.entries(o).forEach(([m,g])=>{if(g!=null)switch(m){case"width":case"height":break;default:u.setAttribute(m,g);break}}),u.src=o.src;const d=new jAe({element:u,editor:l,node:r,getPos:a,onResize:(m,g)=>{u.style.width=`${m}px`,u.style.height=`${g}px`},onCommit:(m,g)=>{const x=a();x!==void 0&&this.editor.chain().setNodeSelection(x).updateAttributes(this.name,{width:m,height:g}).run()},onUpdate:(m,g,x)=>m.type===r.type,options:{directions:e,min:{width:t,height:n},preserveAspectRatio:s===!0}}),f=d.dom;return f.style.visibility="hidden",f.style.pointerEvents="none",u.onload=()=>{f.style.visibility="",f.style.pointerEvents=""},d}},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[fq({find:xRe,type:this.type,getAttributes:e=>{const[,,t,n,s]=e;return{src:n,alt:t,title:s}}})]}}),yRe=vRe,bRe=20,Wq=(e,t=0)=>{const n=[];return!e.children.length||t>bRe||Array.from(e.children).forEach(s=>{s.tagName==="SPAN"?n.push(s):s.children.length&&n.push(...Wq(s,t+1))}),n},wRe=e=>{if(!e.children.length)return;const t=Wq(e);t&&t.forEach(n=>{var s,r;const a=n.getAttribute("style"),o=(r=(s=n.parentElement)==null?void 0:s.closest("span"))==null?void 0:r.getAttribute("style");n.setAttribute("style",`${o};${a}`)})},Kq=gc.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:e=>e.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&wRe(e),{}):!1}]},renderHTML({HTMLAttributes:e}){return["span",ts(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleTextStyle:e=>({commands:t})=>t.toggleMark(this.name,e),removeEmptyTextStyle:()=>({tr:e})=>{const{selection:t}=e;return e.doc.nodesBetween(t.from,t.to,(n,s)=>{if(n.isTextblock)return!0;n.marks.filter(r=>r.type===this.type).some(r=>Object.values(r.attrs).some(a=>!!a))||e.removeMark(s,s+n.nodeSize,this.type)}),!0}}}}),jRe=En.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const s=n.split(";").map(r=>r.trim()).filter(Boolean);for(let r=s.length-1;r>=0;r-=1){const a=s[r].split(":");if(a.length>=2){const o=a[0].trim().toLowerCase(),l=a.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(t=e.style.backgroundColor)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.backgroundColor?{style:`background-color: ${e.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:e=>({chain:t})=>t().setMark("textStyle",{backgroundColor:e}).run(),unsetBackgroundColor:()=>({chain:e})=>e().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),Gq=En.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;const n=e.getAttribute("style");if(n){const s=n.split(";").map(r=>r.trim()).filter(Boolean);for(let r=s.length-1;r>=0;r-=1){const a=s[r].split(":");if(a.length>=2){const o=a[0].trim().toLowerCase(),l=a.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(t=e.style.color)==null?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),kRe=En.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:e=>e.style.fontFamily,renderHTML:e=>e.fontFamily?{style:`font-family: ${e.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:e=>({chain:t})=>t().setMark("textStyle",{fontFamily:e}).run(),unsetFontFamily:()=>({chain:e})=>e().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),NRe=En.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:e=>e.style.fontSize,renderHTML:e=>e.fontSize?{style:`font-size: ${e.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:e=>({chain:t})=>t().setMark("textStyle",{fontSize:e}).run(),unsetFontSize:()=>({chain:e})=>e().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),SRe=En.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:e=>e.style.lineHeight,renderHTML:e=>e.lineHeight?{style:`line-height: ${e.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:e=>({chain:t})=>t().setMark("textStyle",{lineHeight:e}).run(),unsetLineHeight:()=>({chain:e})=>e().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}});En.create({name:"textStyleKit",addExtensions(){const e=[];return this.options.backgroundColor!==!1&&e.push(jRe.configure(this.options.backgroundColor)),this.options.color!==!1&&e.push(Gq.configure(this.options.color)),this.options.fontFamily!==!1&&e.push(kRe.configure(this.options.fontFamily)),this.options.fontSize!==!1&&e.push(NRe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&e.push(SRe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&e.push(Kq.configure(this.options.textStyle)),e}});const Yq=({content:e,onChange:t,className:n})=>{const[s,r]=v.useState(!1),[a,o]=v.useState(""),[l,u]=v.useState(!1),[d,f]=v.useState(""),[m,g]=v.useState(!1),x=zMe({extensions:[gRe,q3e,yRe.configure({HTMLAttributes:{class:"rounded-lg max-w-full h-auto"}}),_3e.configure({openOnClick:!1,HTMLAttributes:{class:"text-primary underline hover:text-primary/80"}}),Kq,Gq],content:e,onUpdate:({editor:k})=>{t(k.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-xl max-w-none focus:outline-none min-h-[400px] p-6"}}});if(!x)return null;const b=()=>{a&&(x.chain().focus().extendMarkRange("link").setLink({href:a}).run(),o(""),r(!1))},w=()=>{d&&(x.chain().focus().setImage({src:d}).run(),f(""),u(!1))},j=["#000000","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000"];return i.jsxs("div",{className:se("space-y-4",n),children:[i.jsxs("div",{className:"rounded-lg border bg-background",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-1 border-b p-2",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleBold().run(),className:se(x.isActive("bold")&&"bg-muted"),children:i.jsx(wie,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleItalic().run(),className:se(x.isActive("italic")&&"bg-muted"),children:i.jsx(Zae,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleUnderline().run(),className:se(x.isActive("underline")&&"bg-muted"),children:i.jsx(Jle,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleStrike().run(),className:se(x.isActive("strike")&&"bg-muted"),children:i.jsx(Nle,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleCode().run(),className:se(x.isActive("code")&&"bg-muted"),children:i.jsx(OL,{className:"size-4"})}),i.jsx($t,{orientation:"vertical",className:"mx-1 h-6"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleHeading({level:1}).run(),className:se(x.isActive("heading",{level:1})&&"bg-muted"),children:i.jsx(Mae,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleHeading({level:2}).run(),className:se(x.isActive("heading",{level:2})&&"bg-muted"),children:i.jsx(Oae,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleHeading({level:3}).run(),className:se(x.isActive("heading",{level:3})&&"bg-muted"),children:i.jsx(Pae,{className:"size-4"})}),i.jsx($t,{orientation:"vertical",className:"mx-1 h-6"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleBulletList().run(),className:se(x.isActive("bulletList")&&"bg-muted"),children:i.jsx(ooe,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleOrderedList().run(),className:se(x.isActive("orderedList")&&"bg-muted"),children:i.jsx(ioe,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().toggleBlockquote().run(),className:se(x.isActive("blockquote")&&"bg-muted"),children:i.jsx(qL,{className:"size-4"})}),i.jsx($t,{orientation:"vertical",className:"mx-1 h-6"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>r(!0),children:i.jsx(noe,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>u(!0),children:i.jsx(IL,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>g(!m),children:i.jsx(zoe,{className:"size-4"})}),i.jsx($t,{orientation:"vertical",className:"mx-1 h-6"}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().undo().run(),disabled:!x.can().undo(),children:i.jsx(Qle,{className:"size-4"})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>x.chain().focus().redo().run(),disabled:!x.can().redo(),children:i.jsx(Zoe,{className:"size-4"})})]}),m&&i.jsxs("div",{className:"flex flex-wrap gap-2 border-b p-2",children:[j.map(k=>i.jsx("button",{type:"button",className:"size-6 rounded border-2 border-border transition-transform hover:scale-110",style:{backgroundColor:k},onClick:()=>{x.chain().focus().setColor(k).run(),g(!1)}},k)),i.jsx(X,{variant:"outline",size:"sm",onClick:()=>{x.chain().focus().unsetColor().run(),g(!1)},children:"Clear"})]}),i.jsx(gq,{editor:x})]}),i.jsx(Za,{open:s,onOpenChange:r,children:i.jsxs(ha,{children:[i.jsxs(fa,{children:[i.jsx(ma,{children:"Add Link"}),i.jsx(Cp,{children:"Enter the URL for the link"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"link-url",children:"URL"}),i.jsx(Pe,{id:"link-url",placeholder:"https://example.com",value:a,onChange:k=>o(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),b())}})]}),i.jsxs(Qv,{children:[i.jsx(X,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),i.jsx(X,{onClick:b,children:"Add Link"})]})]})}),i.jsx(Za,{open:l,onOpenChange:u,children:i.jsxs(ha,{children:[i.jsxs(fa,{children:[i.jsx(ma,{children:"Add Image"}),i.jsx(Cp,{children:"Enter the image URL"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"image-url",children:"Image URL"}),i.jsx(Pe,{id:"image-url",placeholder:"https://example.com/image.jpg",value:d,onChange:k=>f(k.target.value),onKeyDown:k=>{k.key==="Enter"&&(k.preventDefault(),w())}})]}),i.jsxs(Qv,{children:[i.jsx(X,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),i.jsx(X,{onClick:w,children:"Add Image"})]})]})})]})};function _Re(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>s=>{t.forEach(r=>r(s))},t)}const j1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uf(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function yT(e){return"nodeType"in e}function qr(e){var t,n;return e?uf(e)?e:yT(e)&&(t=(n=e.ownerDocument)==null?void 0:n.defaultView)!=null?t:window:window}function bT(e){const{Document:t}=qr(e);return e instanceof t}function Rg(e){return uf(e)?!1:e instanceof qr(e).HTMLElement}function Jq(e){return e instanceof qr(e).SVGElement}function df(e){return e?uf(e)?e.document:yT(e)?bT(e)?e:Rg(e)||Jq(e)?e.ownerDocument:document:document:document}const Ga=j1?v.useLayoutEffect:v.useEffect;function wT(e){const t=v.useRef(e);return Ga(()=>{t.current=e}),v.useCallback(function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t.current==null?void 0:t.current(...s)},[])}function CRe(){const e=v.useRef(null),t=v.useCallback((s,r)=>{e.current=setInterval(s,r)},[]),n=v.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,n]}function qp(e,t){t===void 0&&(t=[e]);const n=v.useRef(e);return Ga(()=>{n.current!==e&&(n.current=e)},t),n}function Og(e,t){const n=v.useRef();return v.useMemo(()=>{const s=e(n.current);return n.current=s,s},[...t])}function Jy(e){const t=wT(e),n=v.useRef(null),s=v.useCallback(r=>{r!==n.current&&(t==null||t(r,n.current)),n.current=r},[]);return[n,s]}function BS(e){const t=v.useRef();return v.useEffect(()=>{t.current=e},[e]),t.current}let CN={};function Dg(e,t){return v.useMemo(()=>{if(t)return t;const n=CN[e]==null?0:CN[e]+1;return CN[e]=n,e+"-"+n},[e,t])}function Xq(e){return function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];return s.reduce((a,o)=>{const l=Object.entries(o);for(const[u,d]of l){const f=a[u];f!=null&&(a[u]=f+e*d)}return a},{...t})}}const Nh=Xq(1),Zp=Xq(-1);function ERe(e){return"clientX"in e&&"clientY"in e}function jT(e){if(!e)return!1;const{KeyboardEvent:t}=qr(e.target);return t&&e instanceof t}function TRe(e){if(!e)return!1;const{TouchEvent:t}=qr(e.target);return t&&e instanceof t}function FS(e){if(TRe(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return ERe(e)?{x:e.clientX,y:e.clientY}:null}const Wp=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[Wp.Translate.toString(e),Wp.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:s}=e;return t+" "+n+"ms "+s}}}),PP="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function zRe(e){return e.matches(PP)?e:e.querySelector(PP)}const ARe={display:"none"};function MRe(e){let{id:t,value:n}=e;return Z.createElement("div",{id:t,style:ARe},n)}function RRe(e){let{id:t,announcement:n,ariaLiveType:s="assertive"}=e;const r={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Z.createElement("div",{id:t,style:r,role:"status","aria-live":s,"aria-atomic":!0},n)}function ORe(){const[e,t]=v.useState("");return{announce:v.useCallback(s=>{s!=null&&t(s)},[]),announcement:e}}const Qq=v.createContext(null);function DRe(e){const t=v.useContext(Qq);v.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function PRe(){const[e]=v.useState(()=>new Set),t=v.useCallback(s=>(e.add(s),()=>e.delete(s)),[e]);return[v.useCallback(s=>{let{type:r,event:a}=s;e.forEach(o=>{var l;return(l=o[r])==null?void 0:l.call(o,a)})},[e]),t]}const IRe={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},LRe={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function $Re(e){let{announcements:t=LRe,container:n,hiddenTextDescribedById:s,screenReaderInstructions:r=IRe}=e;const{announce:a,announcement:o}=ORe(),l=Dg("DndLiveRegion"),[u,d]=v.useState(!1);if(v.useEffect(()=>{d(!0)},[]),DRe(v.useMemo(()=>({onDragStart(m){let{active:g}=m;a(t.onDragStart({active:g}))},onDragMove(m){let{active:g,over:x}=m;t.onDragMove&&a(t.onDragMove({active:g,over:x}))},onDragOver(m){let{active:g,over:x}=m;a(t.onDragOver({active:g,over:x}))},onDragEnd(m){let{active:g,over:x}=m;a(t.onDragEnd({active:g,over:x}))},onDragCancel(m){let{active:g,over:x}=m;a(t.onDragCancel({active:g,over:x}))}}),[a,t])),!u)return null;const f=Z.createElement(Z.Fragment,null,Z.createElement(MRe,{id:s,value:r.draggable}),Z.createElement(RRe,{id:l,announcement:o}));return n?sa.createPortal(f,n):f}var Ts;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(Ts||(Ts={}));function Xy(){}function IP(e,t){return v.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function VRe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return v.useMemo(()=>[...t].filter(s=>s!=null),[...t])}const pa=Object.freeze({x:0,y:0});function eZ(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function tZ(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return n-s}function BRe(e,t){let{data:{value:n}}=e,{data:{value:s}}=t;return s-n}function LP(e){let{left:t,top:n,height:s,width:r}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t,y:n+s},{x:t+r,y:n+s}]}function nZ(e,t){if(!e||e.length===0)return null;const[n]=e;return n[t]}function $P(e,t,n){return t===void 0&&(t=e.left),n===void 0&&(n=e.top),{x:t+e.width*.5,y:n+e.height*.5}}const FRe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const r=$P(t,t.left,t.top),a=[];for(const o of s){const{id:l}=o,u=n.get(l);if(u){const d=eZ($P(u),r);a.push({id:l,data:{droppableContainer:o,value:d}})}}return a.sort(tZ)},URe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const r=LP(t),a=[];for(const o of s){const{id:l}=o,u=n.get(l);if(u){const d=LP(u),f=r.reduce((g,x,b)=>g+eZ(d[b],x),0),m=Number((f/4).toFixed(4));a.push({id:l,data:{droppableContainer:o,value:m}})}}return a.sort(tZ)};function HRe(e,t){const n=Math.max(t.top,e.top),s=Math.max(t.left,e.left),r=Math.min(t.left+t.width,e.left+e.width),a=Math.min(t.top+t.height,e.top+e.height),o=r-s,l=a-n;if(s<r&&n<a){const u=t.width*t.height,d=e.width*e.height,f=o*l,m=f/(u+d-f);return Number(m.toFixed(4))}return 0}const qRe=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:s}=e;const r=[];for(const a of s){const{id:o}=a,l=n.get(o);if(l){const u=HRe(l,t);u>0&&r.push({id:o,data:{droppableContainer:a,value:u}})}}return r.sort(BRe)};function ZRe(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}function sZ(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:pa}function WRe(e){return function(n){for(var s=arguments.length,r=new Array(s>1?s-1:0),a=1;a<s;a++)r[a-1]=arguments[a];return r.reduce((o,l)=>({...o,top:o.top+e*l.y,bottom:o.bottom+e*l.y,left:o.left+e*l.x,right:o.right+e*l.x}),{...n})}}const KRe=WRe(1);function GRe(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function YRe(e,t,n){const s=GRe(t);if(!s)return e;const{scaleX:r,scaleY:a,x:o,y:l}=s,u=e.left-o-(1-r)*parseFloat(n),d=e.top-l-(1-a)*parseFloat(n.slice(n.indexOf(" ")+1)),f=r?e.width/r:e.width,m=a?e.height/a:e.height;return{width:f,height:m,top:d,right:u+f,bottom:d+m,left:u}}const JRe={ignoreTransform:!1};function hf(e,t){t===void 0&&(t=JRe);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:d,transformOrigin:f}=qr(e).getComputedStyle(e);d&&(n=YRe(n,d,f))}const{top:s,left:r,width:a,height:o,bottom:l,right:u}=n;return{top:s,left:r,width:a,height:o,bottom:l,right:u}}function VP(e){return hf(e,{ignoreTransform:!0})}function XRe(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}function QRe(e,t){return t===void 0&&(t=qr(e).getComputedStyle(e)),t.position==="fixed"}function eOe(e,t){t===void 0&&(t=qr(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(r=>{const a=t[r];return typeof a=="string"?n.test(a):!1})}function k1(e,t){const n=[];function s(r){if(t!=null&&n.length>=t||!r)return n;if(bT(r)&&r.scrollingElement!=null&&!n.includes(r.scrollingElement))return n.push(r.scrollingElement),n;if(!Rg(r)||Jq(r)||n.includes(r))return n;const a=qr(e).getComputedStyle(r);return r!==e&&eOe(r,a)&&n.push(r),QRe(r,a)?n:s(r.parentNode)}return e?s(e):n}function rZ(e){const[t]=k1(e,1);return t??null}function EN(e){return!j1||!e?null:uf(e)?e:yT(e)?bT(e)||e===df(e).scrollingElement?window:Rg(e)?e:null:null}function iZ(e){return uf(e)?e.scrollX:e.scrollLeft}function aZ(e){return uf(e)?e.scrollY:e.scrollTop}function US(e){return{x:iZ(e),y:aZ(e)}}var Is;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(Is||(Is={}));function oZ(e){return!j1||!e?!1:e===document.scrollingElement}function lZ(e){const t={x:0,y:0},n=oZ(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},s={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height},r=e.scrollTop<=t.y,a=e.scrollLeft<=t.x,o=e.scrollTop>=s.y,l=e.scrollLeft>=s.x;return{isTop:r,isLeft:a,isBottom:o,isRight:l,maxScroll:s,minScroll:t}}const tOe={x:.2,y:.2};function nOe(e,t,n,s,r){let{top:a,left:o,right:l,bottom:u}=n;s===void 0&&(s=10),r===void 0&&(r=tOe);const{isTop:d,isBottom:f,isLeft:m,isRight:g}=lZ(e),x={x:0,y:0},b={x:0,y:0},w={height:t.height*r.y,width:t.width*r.x};return!d&&a<=t.top+w.height?(x.y=Is.Backward,b.y=s*Math.abs((t.top+w.height-a)/w.height)):!f&&u>=t.bottom-w.height&&(x.y=Is.Forward,b.y=s*Math.abs((t.bottom-w.height-u)/w.height)),!g&&l>=t.right-w.width?(x.x=Is.Forward,b.x=s*Math.abs((t.right-w.width-l)/w.width)):!m&&o<=t.left+w.width&&(x.x=Is.Backward,b.x=s*Math.abs((t.left+w.width-o)/w.width)),{direction:x,speed:b}}function sOe(e){if(e===document.scrollingElement){const{innerWidth:a,innerHeight:o}=window;return{top:0,left:0,right:a,bottom:o,width:a,height:o}}const{top:t,left:n,right:s,bottom:r}=e.getBoundingClientRect();return{top:t,left:n,right:s,bottom:r,width:e.clientWidth,height:e.clientHeight}}function cZ(e){return e.reduce((t,n)=>Nh(t,US(n)),pa)}function rOe(e){return e.reduce((t,n)=>t+iZ(n),0)}function iOe(e){return e.reduce((t,n)=>t+aZ(n),0)}function aOe(e,t){if(t===void 0&&(t=hf),!e)return;const{top:n,left:s,bottom:r,right:a}=t(e);rZ(e)&&(r<=0||a<=0||n>=window.innerHeight||s>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const oOe=[["x",["left","right"],rOe],["y",["top","bottom"],iOe]];class kT{constructor(t,n){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const s=k1(n),r=cZ(s);this.rect={...t},this.width=t.width,this.height=t.height;for(const[a,o,l]of oOe)for(const u of o)Object.defineProperty(this,u,{get:()=>{const d=l(s),f=r[a]-d;return this.rect[u]+f},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class np{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(n=>{var s;return(s=this.target)==null?void 0:s.removeEventListener(...n)})},this.target=t}add(t,n,s){var r;(r=this.target)==null||r.addEventListener(t,n,s),this.listeners.push([t,n,s])}}function lOe(e){const{EventTarget:t}=qr(e);return e instanceof t?e:df(e)}function TN(e,t){const n=Math.abs(e.x),s=Math.abs(e.y);return typeof t=="number"?Math.sqrt(n**2+s**2)>t:"x"in t&&"y"in t?n>t.x&&s>t.y:"x"in t?n>t.x:"y"in t?s>t.y:!1}var Ei;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Ei||(Ei={}));function BP(e){e.preventDefault()}function cOe(e){e.stopPropagation()}var Kt;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(Kt||(Kt={}));const uZ={start:[Kt.Space,Kt.Enter],cancel:[Kt.Esc],end:[Kt.Space,Kt.Enter,Kt.Tab]},uOe=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Kt.Right:return{...n,x:n.x+25};case Kt.Left:return{...n,x:n.x-25};case Kt.Down:return{...n,y:n.y+25};case Kt.Up:return{...n,y:n.y-25}}};class NT{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:n}}=t;this.props=t,this.listeners=new np(df(n)),this.windowListeners=new np(qr(n)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Ei.Resize,this.handleCancel),this.windowListeners.add(Ei.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Ei.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:n}=this.props,s=t.node.current;s&&aOe(s),n(pa)}handleKeyDown(t){if(jT(t)){const{active:n,context:s,options:r}=this.props,{keyboardCodes:a=uZ,coordinateGetter:o=uOe,scrollBehavior:l="smooth"}=r,{code:u}=t;if(a.end.includes(u)){this.handleEnd(t);return}if(a.cancel.includes(u)){this.handleCancel(t);return}const{collisionRect:d}=s.current,f=d?{x:d.left,y:d.top}:pa;this.referenceCoordinates||(this.referenceCoordinates=f);const m=o(t,{active:n,context:s.current,currentCoordinates:f});if(m){const g=Zp(m,f),x={x:0,y:0},{scrollableAncestors:b}=s.current;for(const w of b){const j=t.code,{isTop:k,isRight:S,isLeft:C,isBottom:E,maxScroll:z,minScroll:R}=lZ(w),T=sOe(w),A={x:Math.min(j===Kt.Right?T.right-T.width/2:T.right,Math.max(j===Kt.Right?T.left:T.left+T.width/2,m.x)),y:Math.min(j===Kt.Down?T.bottom-T.height/2:T.bottom,Math.max(j===Kt.Down?T.top:T.top+T.height/2,m.y))},D=j===Kt.Right&&!S||j===Kt.Left&&!C,F=j===Kt.Down&&!E||j===Kt.Up&&!k;if(D&&A.x!==m.x){const V=w.scrollLeft+g.x,$=j===Kt.Right&&V<=z.x||j===Kt.Left&&V>=R.x;if($&&!g.y){w.scrollTo({left:V,behavior:l});return}$?x.x=w.scrollLeft-V:x.x=j===Kt.Right?w.scrollLeft-z.x:w.scrollLeft-R.x,x.x&&w.scrollBy({left:-x.x,behavior:l});break}else if(F&&A.y!==m.y){const V=w.scrollTop+g.y,$=j===Kt.Down&&V<=z.y||j===Kt.Up&&V>=R.y;if($&&!g.x){w.scrollTo({top:V,behavior:l});return}$?x.y=w.scrollTop-V:x.y=j===Kt.Down?w.scrollTop-z.y:w.scrollTop-R.y,x.y&&w.scrollBy({top:-x.y,behavior:l});break}}this.handleMove(t,Nh(Zp(m,this.referenceCoordinates),x))}}}handleMove(t,n){const{onMove:s}=this.props;t.preventDefault(),s(n)}handleEnd(t){const{onEnd:n}=this.props;t.preventDefault(),this.detach(),n()}handleCancel(t){const{onCancel:n}=this.props;t.preventDefault(),this.detach(),n()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}NT.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:s=uZ,onActivation:r}=t,{active:a}=n;const{code:o}=e.nativeEvent;if(s.start.includes(o)){const l=a.activatorNode.current;return l&&e.target!==l?!1:(e.preventDefault(),r==null||r({event:e.nativeEvent}),!0)}return!1}}];function FP(e){return!!(e&&"distance"in e)}function UP(e){return!!(e&&"delay"in e)}class ST{constructor(t,n,s){var r;s===void 0&&(s=lOe(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=n;const{event:a}=t,{target:o}=a;this.props=t,this.events=n,this.document=df(o),this.documentListeners=new np(this.document),this.listeners=new np(s),this.windowListeners=new np(qr(o)),this.initialCoordinates=(r=FS(a))!=null?r:pa,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:n,bypassActivationConstraint:s}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Ei.Resize,this.handleCancel),this.windowListeners.add(Ei.DragStart,BP),this.windowListeners.add(Ei.VisibilityChange,this.handleCancel),this.windowListeners.add(Ei.ContextMenu,BP),this.documentListeners.add(Ei.Keydown,this.handleKeydown),n){if(s!=null&&s({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(UP(n)){this.timeoutId=setTimeout(this.handleStart,n.delay),this.handlePending(n);return}if(FP(n)){this.handlePending(n);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,n){const{active:s,onPending:r}=this.props;r(s,t,this.initialCoordinates,n)}handleStart(){const{initialCoordinates:t}=this,{onStart:n}=this.props;t&&(this.activated=!0,this.documentListeners.add(Ei.Click,cOe,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Ei.SelectionChange,this.removeTextSelection),n(t))}handleMove(t){var n;const{activated:s,initialCoordinates:r,props:a}=this,{onMove:o,options:{activationConstraint:l}}=a;if(!r)return;const u=(n=FS(t))!=null?n:pa,d=Zp(r,u);if(!s&&l){if(FP(l)){if(l.tolerance!=null&&TN(d,l.tolerance))return this.handleCancel();if(TN(d,l.distance))return this.handleStart()}if(UP(l)&&TN(d,l.tolerance))return this.handleCancel();this.handlePending(l,d);return}t.cancelable&&t.preventDefault(),o(u)}handleEnd(){const{onAbort:t,onEnd:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleCancel(){const{onAbort:t,onCancel:n}=this.props;this.detach(),this.activated||t(this.props.active),n()}handleKeydown(t){t.code===Kt.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const dOe={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class _T extends ST{constructor(t){const{event:n}=t,s=df(n.target);super(t,dOe,s)}}_T.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return!n.isPrimary||n.button!==0?!1:(s==null||s({event:n}),!0)}}];const hOe={move:{name:"mousemove"},end:{name:"mouseup"}};var HS;(function(e){e[e.RightClick=2]="RightClick"})(HS||(HS={}));class fOe extends ST{constructor(t){super(t,hOe,df(t.event.target))}}fOe.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;return n.button===HS.RightClick?!1:(s==null||s({event:n}),!0)}}];const zN={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class mOe extends ST{constructor(t){super(t,zN)}static setup(){return window.addEventListener(zN.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(zN.move.name,t)};function t(){}}}mOe.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:s}=t;const{touches:r}=n;return r.length>1?!1:(s==null||s({event:n}),!0)}}];var sp;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(sp||(sp={}));var Qy;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Qy||(Qy={}));function pOe(e){let{acceleration:t,activator:n=sp.Pointer,canScroll:s,draggingRect:r,enabled:a,interval:o=5,order:l=Qy.TreeOrder,pointerCoordinates:u,scrollableAncestors:d,scrollableAncestorRects:f,delta:m,threshold:g}=e;const x=xOe({delta:m,disabled:!a}),[b,w]=CRe(),j=v.useRef({x:0,y:0}),k=v.useRef({x:0,y:0}),S=v.useMemo(()=>{switch(n){case sp.Pointer:return u?{top:u.y,bottom:u.y,left:u.x,right:u.x}:null;case sp.DraggableRect:return r}},[n,r,u]),C=v.useRef(null),E=v.useCallback(()=>{const R=C.current;if(!R)return;const T=j.current.x*k.current.x,A=j.current.y*k.current.y;R.scrollBy(T,A)},[]),z=v.useMemo(()=>l===Qy.TreeOrder?[...d].reverse():d,[l,d]);v.useEffect(()=>{if(!a||!d.length||!S){w();return}for(const R of z){if((s==null?void 0:s(R))===!1)continue;const T=d.indexOf(R),A=f[T];if(!A)continue;const{direction:D,speed:F}=nOe(R,A,S,t,g);for(const V of["x","y"])x[V][D[V]]||(F[V]=0,D[V]=0);if(F.x>0||F.y>0){w(),C.current=R,b(E,o),j.current=F,k.current=D;return}}j.current={x:0,y:0},k.current={x:0,y:0},w()},[t,E,s,w,a,o,JSON.stringify(S),JSON.stringify(x),b,d,z,f,JSON.stringify(g)])}const gOe={x:{[Is.Backward]:!1,[Is.Forward]:!1},y:{[Is.Backward]:!1,[Is.Forward]:!1}};function xOe(e){let{delta:t,disabled:n}=e;const s=BS(t);return Og(r=>{if(n||!s||!r)return gOe;const a={x:Math.sign(t.x-s.x),y:Math.sign(t.y-s.y)};return{x:{[Is.Backward]:r.x[Is.Backward]||a.x===-1,[Is.Forward]:r.x[Is.Forward]||a.x===1},y:{[Is.Backward]:r.y[Is.Backward]||a.y===-1,[Is.Forward]:r.y[Is.Forward]||a.y===1}}},[n,t,s])}function vOe(e,t){const n=t!=null?e.get(t):void 0,s=n?n.node.current:null;return Og(r=>{var a;return t==null?null:(a=s??r)!=null?a:null},[s,t])}function yOe(e,t){return v.useMemo(()=>e.reduce((n,s)=>{const{sensor:r}=s,a=r.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,s)}));return[...n,...a]},[]),[e,t])}var Kp;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Kp||(Kp={}));var qS;(function(e){e.Optimized="optimized"})(qS||(qS={}));const HP=new Map;function bOe(e,t){let{dragging:n,dependencies:s,config:r}=t;const[a,o]=v.useState(null),{frequency:l,measure:u,strategy:d}=r,f=v.useRef(e),m=j(),g=qp(m),x=v.useCallback(function(k){k===void 0&&(k=[]),!g.current&&o(S=>S===null?k:S.concat(k.filter(C=>!S.includes(C))))},[g]),b=v.useRef(null),w=Og(k=>{if(m&&!n)return HP;if(!k||k===HP||f.current!==e||a!=null){const S=new Map;for(let C of e){if(!C)continue;if(a&&a.length>0&&!a.includes(C.id)&&C.rect.current){S.set(C.id,C.rect.current);continue}const E=C.node.current,z=E?new kT(u(E),E):null;C.rect.current=z,z&&S.set(C.id,z)}return S}return k},[e,a,n,m,u]);return v.useEffect(()=>{f.current=e},[e]),v.useEffect(()=>{m||x()},[n,m]),v.useEffect(()=>{a&&a.length>0&&o(null)},[JSON.stringify(a)]),v.useEffect(()=>{m||typeof l!="number"||b.current!==null||(b.current=setTimeout(()=>{x(),b.current=null},l))},[l,m,x,...s]),{droppableRects:w,measureDroppableContainers:x,measuringScheduled:a!=null};function j(){switch(d){case Kp.Always:return!1;case Kp.BeforeDragging:return n;default:return!n}}}function dZ(e,t){return Og(n=>e?n||(typeof t=="function"?t(e):e):null,[t,e])}function wOe(e,t){return dZ(e,t)}function jOe(e){let{callback:t,disabled:n}=e;const s=wT(t),r=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:a}=window;return new a(s)},[s,n]);return v.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function N1(e){let{callback:t,disabled:n}=e;const s=wT(t),r=v.useMemo(()=>{if(n||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:a}=window;return new a(s)},[n]);return v.useEffect(()=>()=>r==null?void 0:r.disconnect(),[r]),r}function kOe(e){return new kT(hf(e),e)}function qP(e,t,n){t===void 0&&(t=kOe);const[s,r]=v.useState(null);function a(){r(u=>{if(!e)return null;if(e.isConnected===!1){var d;return(d=u??n)!=null?d:null}const f=t(e);return JSON.stringify(u)===JSON.stringify(f)?u:f})}const o=jOe({callback(u){if(e)for(const d of u){const{type:f,target:m}=d;if(f==="childList"&&m instanceof HTMLElement&&m.contains(e)){a();break}}}}),l=N1({callback:a});return Ga(()=>{a(),e?(l==null||l.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(l==null||l.disconnect(),o==null||o.disconnect())},[e]),s}function NOe(e){const t=dZ(e);return sZ(e,t)}const ZP=[];function SOe(e){const t=v.useRef(e),n=Og(s=>e?s&&s!==ZP&&e&&t.current&&e.parentNode===t.current.parentNode?s:k1(e):ZP,[e]);return v.useEffect(()=>{t.current=e},[e]),n}function _Oe(e){const[t,n]=v.useState(null),s=v.useRef(e),r=v.useCallback(a=>{const o=EN(a.target);o&&n(l=>l?(l.set(o,US(o)),new Map(l)):null)},[]);return v.useEffect(()=>{const a=s.current;if(e!==a){o(a);const l=e.map(u=>{const d=EN(u);return d?(d.addEventListener("scroll",r,{passive:!0}),[d,US(d)]):null}).filter(u=>u!=null);n(l.length?new Map(l):null),s.current=e}return()=>{o(e),o(a)};function o(l){l.forEach(u=>{const d=EN(u);d==null||d.removeEventListener("scroll",r)})}},[r,e]),v.useMemo(()=>e.length?t?Array.from(t.values()).reduce((a,o)=>Nh(a,o),pa):cZ(e):pa,[e,t])}function WP(e,t){t===void 0&&(t=[]);const n=v.useRef(null);return v.useEffect(()=>{n.current=null},t),v.useEffect(()=>{const s=e!==pa;s&&!n.current&&(n.current=e),!s&&n.current&&(n.current=null)},[e]),n.current?Zp(e,n.current):pa}function COe(e){v.useEffect(()=>{if(!j1)return;const t=e.map(n=>{let{sensor:s}=n;return s.setup==null?void 0:s.setup()});return()=>{for(const n of t)n==null||n()}},e.map(t=>{let{sensor:n}=t;return n}))}function EOe(e,t){return v.useMemo(()=>e.reduce((n,s)=>{let{eventName:r,handler:a}=s;return n[r]=o=>{a(o,t)},n},{}),[e,t])}function hZ(e){return v.useMemo(()=>e?XRe(e):null,[e])}const KP=[];function TOe(e,t){t===void 0&&(t=hf);const[n]=e,s=hZ(n?qr(n):null),[r,a]=v.useState(KP);function o(){a(()=>e.length?e.map(u=>oZ(u)?s:new kT(t(u),u)):KP)}const l=N1({callback:o});return Ga(()=>{l==null||l.disconnect(),o(),e.forEach(u=>l==null?void 0:l.observe(u))},[e]),r}function zOe(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Rg(t)?t:e}function AOe(e){let{measure:t}=e;const[n,s]=v.useState(null),r=v.useCallback(d=>{for(const{target:f}of d)if(Rg(f)){s(m=>{const g=t(f);return m?{...m,width:g.width,height:g.height}:g});break}},[t]),a=N1({callback:r}),o=v.useCallback(d=>{const f=zOe(d);a==null||a.disconnect(),f&&(a==null||a.observe(f)),s(f?t(f):null)},[t,a]),[l,u]=Jy(o);return v.useMemo(()=>({nodeRef:l,rect:n,setRef:u}),[n,l,u])}const MOe=[{sensor:_T,options:{}},{sensor:NT,options:{}}],ROe={current:{}},fv={draggable:{measure:VP},droppable:{measure:VP,strategy:Kp.WhileDragging,frequency:qS.Optimized},dragOverlay:{measure:hf}};class rp extends Map{get(t){var n;return t!=null&&(n=super.get(t))!=null?n:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:n}=t;return!n})}getNodeFor(t){var n,s;return(n=(s=this.get(t))==null?void 0:s.node.current)!=null?n:void 0}}const OOe={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new rp,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Xy},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:fv,measureDroppableContainers:Xy,windowRect:null,measuringScheduled:!1},DOe={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Xy,draggableNodes:new Map,over:null,measureDroppableContainers:Xy},S1=v.createContext(DOe),fZ=v.createContext(OOe);function POe(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new rp}}}function IOe(e,t){switch(t.type){case Ts.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Ts.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Ts.DragEnd:case Ts.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Ts.RegisterDroppable:{const{element:n}=t,{id:s}=n,r=new rp(e.droppable.containers);return r.set(s,n),{...e,droppable:{...e.droppable,containers:r}}}case Ts.SetDroppableDisabled:{const{id:n,key:s,disabled:r}=t,a=e.droppable.containers.get(n);if(!a||s!==a.key)return e;const o=new rp(e.droppable.containers);return o.set(n,{...a,disabled:r}),{...e,droppable:{...e.droppable,containers:o}}}case Ts.UnregisterDroppable:{const{id:n,key:s}=t,r=e.droppable.containers.get(n);if(!r||s!==r.key)return e;const a=new rp(e.droppable.containers);return a.delete(n),{...e,droppable:{...e.droppable,containers:a}}}default:return e}}function LOe(e){let{disabled:t}=e;const{active:n,activatorEvent:s,draggableNodes:r}=v.useContext(S1),a=BS(s),o=BS(n==null?void 0:n.id);return v.useEffect(()=>{if(!t&&!s&&a&&o!=null){if(!jT(a)||document.activeElement===a.target)return;const l=r.get(o);if(!l)return;const{activatorNode:u,node:d}=l;if(!u.current&&!d.current)return;requestAnimationFrame(()=>{for(const f of[u.current,d.current]){if(!f)continue;const m=zRe(f);if(m){m.focus();break}}})}},[s,t,r,o,a]),null}function $Oe(e,t){let{transform:n,...s}=t;return e!=null&&e.length?e.reduce((r,a)=>a({transform:r,...s}),n):n}function VOe(e){return v.useMemo(()=>({draggable:{...fv.draggable,...e==null?void 0:e.draggable},droppable:{...fv.droppable,...e==null?void 0:e.droppable},dragOverlay:{...fv.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function BOe(e){let{activeNode:t,measure:n,initialRect:s,config:r=!0}=e;const a=v.useRef(!1),{x:o,y:l}=typeof r=="boolean"?{x:r,y:r}:r;Ga(()=>{if(!o&&!l||!t){a.current=!1;return}if(a.current||!s)return;const d=t==null?void 0:t.node.current;if(!d||d.isConnected===!1)return;const f=n(d),m=sZ(f,s);if(o||(m.x=0),l||(m.y=0),a.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const g=rZ(d);g&&g.scrollBy({top:m.y,left:m.x})}},[t,o,l,s,n])}const mZ=v.createContext({...pa,scaleX:1,scaleY:1});var Ml;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ml||(Ml={}));const FOe=v.memo(function(t){var n,s,r,a;let{id:o,accessibility:l,autoScroll:u=!0,children:d,sensors:f=MOe,collisionDetection:m=qRe,measuring:g,modifiers:x,...b}=t;const w=v.useReducer(IOe,void 0,POe),[j,k]=w,[S,C]=PRe(),[E,z]=v.useState(Ml.Uninitialized),R=E===Ml.Initialized,{draggable:{active:T,nodes:A,translate:D},droppable:{containers:F}}=j,V=T!=null?A.get(T):null,$=v.useRef({initial:null,translated:null}),q=v.useMemo(()=>{var at;return T!=null?{id:T,data:(at=V==null?void 0:V.data)!=null?at:ROe,rect:$}:null},[T,V]),K=v.useRef(null),[ee,L]=v.useState(null),[P,I]=v.useState(null),G=qp(b,Object.values(b)),U=Dg("DndDescribedBy",o),M=v.useMemo(()=>F.getEnabled(),[F]),H=VOe(g),{droppableRects:W,measureDroppableContainers:te,measuringScheduled:le}=bOe(M,{dragging:R,dependencies:[D.x,D.y],config:H.droppable}),ce=vOe(A,T),Y=v.useMemo(()=>P?FS(P):null,[P]),oe=Dt(),he=wOe(ce,H.draggable.measure);BOe({activeNode:T!=null?A.get(T):null,config:oe.layoutShiftCompensation,initialRect:he,measure:H.draggable.measure});const be=qP(ce,H.draggable.measure,he),we=qP(ce?ce.parentElement:null),xe=v.useRef({activatorEvent:null,active:null,activeNode:ce,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:A,draggingNode:null,draggingNodeRect:null,droppableContainers:F,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ae=F.getNodeFor((n=xe.current.over)==null?void 0:n.id),re=AOe({measure:H.dragOverlay.measure}),Ce=(s=re.nodeRef.current)!=null?s:ce,Ze=R?(r=re.rect)!=null?r:be:null,it=!!(re.nodeRef.current&&re.rect),jt=NOe(it?null:be),We=hZ(Ce?qr(Ce):null),ct=SOe(R?Ae??ce:null),J=TOe(ct),ae=$Oe(x,{transform:{x:D.x-jt.x,y:D.y-jt.y,scaleX:1,scaleY:1},activatorEvent:P,active:q,activeNodeRect:be,containerNodeRect:we,draggingNodeRect:Ze,over:xe.current.over,overlayNodeRect:re.rect,scrollableAncestors:ct,scrollableAncestorRects:J,windowRect:We}),fe=Y?Nh(Y,D):null,ze=_Oe(ct),Me=WP(ze),_e=WP(ze,[be]),Be=Nh(ae,Me),ot=Ze?KRe(Ze,ae):null,Ee=q&&ot?m({active:q,collisionRect:ot,droppableRects:W,droppableContainers:M,pointerCoordinates:fe}):null,Fe=nZ(Ee,"id"),[tt,Ge]=v.useState(null),mt=it?ae:Nh(ae,_e),kt=ZRe(mt,(a=tt==null?void 0:tt.rect)!=null?a:null,be),Mt=v.useRef(null),on=v.useCallback((at,gt)=>{let{sensor:qe,options:xt}=gt;if(K.current==null)return;const zt=A.get(K.current);if(!zt)return;const Et=at.nativeEvent,Nn=new qe({active:K.current,activeNode:zt,event:Et,options:xt,context:xe,onAbort(At){if(!A.get(At))return;const{onDragAbort:gn}=G.current,Dn={id:At};gn==null||gn(Dn),S({type:"onDragAbort",event:Dn})},onPending(At,as,gn,Dn){if(!A.get(At))return;const{onDragPending:Hs}=G.current,di={id:At,constraint:as,initialCoordinates:gn,offset:Dn};Hs==null||Hs(di),S({type:"onDragPending",event:di})},onStart(At){const as=K.current;if(as==null)return;const gn=A.get(as);if(!gn)return;const{onDragStart:Dn}=G.current,ui={activatorEvent:Et,active:{id:as,data:gn.data,rect:$}};sa.unstable_batchedUpdates(()=>{Dn==null||Dn(ui),z(Ml.Initializing),k({type:Ts.DragStart,initialCoordinates:At,active:as}),S({type:"onDragStart",event:ui}),L(Mt.current),I(Et)})},onMove(At){k({type:Ts.DragMove,coordinates:At})},onEnd:Vt(Ts.DragEnd),onCancel:Vt(Ts.DragCancel)});Mt.current=Nn;function Vt(At){return async function(){const{active:gn,collisions:Dn,over:ui,scrollAdjustedTranslate:Hs}=xe.current;let di=null;if(gn&&Hs){const{cancelDrop:Wo}=G.current;di={activatorEvent:Et,active:gn,collisions:Dn,delta:Hs,over:ui},At===Ts.DragEnd&&typeof Wo=="function"&&await Promise.resolve(Wo(di))&&(At=Ts.DragCancel)}K.current=null,sa.unstable_batchedUpdates(()=>{k({type:At}),z(Ml.Uninitialized),Ge(null),L(null),I(null),Mt.current=null;const Wo=At===Ts.DragEnd?"onDragEnd":"onDragCancel";if(di){const hi=G.current[Wo];hi==null||hi(di),S({type:Wo,event:di})}})}}},[A]),pr=v.useCallback((at,gt)=>(qe,xt)=>{const zt=qe.nativeEvent,Et=A.get(xt);if(K.current!==null||!Et||zt.dndKit||zt.defaultPrevented)return;const Nn={active:Et};at(qe,gt.options,Nn)===!0&&(zt.dndKit={capturedBy:gt.sensor},K.current=xt,on(qe,gt))},[A,on]),Wn=yOe(f,pr);COe(f),Ga(()=>{be&&E===Ml.Initializing&&z(Ml.Initialized)},[be,E]),v.useEffect(()=>{const{onDragMove:at}=G.current,{active:gt,activatorEvent:qe,collisions:xt,over:zt}=xe.current;if(!gt||!qe)return;const Et={active:gt,activatorEvent:qe,collisions:xt,delta:{x:Be.x,y:Be.y},over:zt};sa.unstable_batchedUpdates(()=>{at==null||at(Et),S({type:"onDragMove",event:Et})})},[Be.x,Be.y]),v.useEffect(()=>{const{active:at,activatorEvent:gt,collisions:qe,droppableContainers:xt,scrollAdjustedTranslate:zt}=xe.current;if(!at||K.current==null||!gt||!zt)return;const{onDragOver:Et}=G.current,Nn=xt.get(Fe),Vt=Nn&&Nn.rect.current?{id:Nn.id,rect:Nn.rect.current,data:Nn.data,disabled:Nn.disabled}:null,At={active:at,activatorEvent:gt,collisions:qe,delta:{x:zt.x,y:zt.y},over:Vt};sa.unstable_batchedUpdates(()=>{Ge(Vt),Et==null||Et(At),S({type:"onDragOver",event:At})})},[Fe]),Ga(()=>{xe.current={activatorEvent:P,active:q,activeNode:ce,collisionRect:ot,collisions:Ee,droppableRects:W,draggableNodes:A,draggingNode:Ce,draggingNodeRect:Ze,droppableContainers:F,over:tt,scrollableAncestors:ct,scrollAdjustedTranslate:Be},$.current={initial:Ze,translated:ot}},[q,ce,Ee,ot,A,Ce,Ze,W,F,tt,ct,Be]),pOe({...oe,delta:D,draggingRect:ot,pointerCoordinates:fe,scrollableAncestors:ct,scrollableAncestorRects:J});const Ye=v.useMemo(()=>({active:q,activeNode:ce,activeNodeRect:be,activatorEvent:P,collisions:Ee,containerNodeRect:we,dragOverlay:re,draggableNodes:A,droppableContainers:F,droppableRects:W,over:tt,measureDroppableContainers:te,scrollableAncestors:ct,scrollableAncestorRects:J,measuringConfiguration:H,measuringScheduled:le,windowRect:We}),[q,ce,be,P,Ee,we,re,A,F,W,tt,te,ct,J,H,le,We]),Ct=v.useMemo(()=>({activatorEvent:P,activators:Wn,active:q,activeNodeRect:be,ariaDescribedById:{draggable:U},dispatch:k,draggableNodes:A,over:tt,measureDroppableContainers:te}),[P,Wn,q,be,k,U,A,tt,te]);return Z.createElement(Qq.Provider,{value:C},Z.createElement(S1.Provider,{value:Ct},Z.createElement(fZ.Provider,{value:Ye},Z.createElement(mZ.Provider,{value:kt},d)),Z.createElement(LOe,{disabled:(l==null?void 0:l.restoreFocus)===!1})),Z.createElement($Re,{...l,hiddenTextDescribedById:U}));function Dt(){const at=(ee==null?void 0:ee.autoScrollEnabled)===!1,gt=typeof u=="object"?u.enabled===!1:u===!1,qe=R&&!at&&!gt;return typeof u=="object"?{...u,enabled:qe}:{enabled:qe}}}),UOe=v.createContext(null),GP="button",HOe="Draggable";function qOe(e){let{id:t,data:n,disabled:s=!1,attributes:r}=e;const a=Dg(HOe),{activators:o,activatorEvent:l,active:u,activeNodeRect:d,ariaDescribedById:f,draggableNodes:m,over:g}=v.useContext(S1),{role:x=GP,roleDescription:b="draggable",tabIndex:w=0}=r??{},j=(u==null?void 0:u.id)===t,k=v.useContext(j?mZ:UOe),[S,C]=Jy(),[E,z]=Jy(),R=EOe(o,t),T=qp(n);Ga(()=>(m.set(t,{id:t,key:a,node:S,activatorNode:E,data:T}),()=>{const D=m.get(t);D&&D.key===a&&m.delete(t)}),[m,t]);const A=v.useMemo(()=>({role:x,tabIndex:w,"aria-disabled":s,"aria-pressed":j&&x===GP?!0:void 0,"aria-roledescription":b,"aria-describedby":f.draggable}),[s,x,w,j,b,f.draggable]);return{active:u,activatorEvent:l,activeNodeRect:d,attributes:A,isDragging:j,listeners:s?void 0:R,node:S,over:g,setNodeRef:C,setActivatorNodeRef:z,transform:k}}function ZOe(){return v.useContext(fZ)}const WOe="Droppable",KOe={timeout:25};function GOe(e){let{data:t,disabled:n=!1,id:s,resizeObserverConfig:r}=e;const a=Dg(WOe),{active:o,dispatch:l,over:u,measureDroppableContainers:d}=v.useContext(S1),f=v.useRef({disabled:n}),m=v.useRef(!1),g=v.useRef(null),x=v.useRef(null),{disabled:b,updateMeasurementsFor:w,timeout:j}={...KOe,...r},k=qp(w??s),S=v.useCallback(()=>{if(!m.current){m.current=!0;return}x.current!=null&&clearTimeout(x.current),x.current=setTimeout(()=>{d(Array.isArray(k.current)?k.current:[k.current]),x.current=null},j)},[j]),C=N1({callback:S,disabled:b||!o}),E=v.useCallback((A,D)=>{C&&(D&&(C.unobserve(D),m.current=!1),A&&C.observe(A))},[C]),[z,R]=Jy(E),T=qp(t);return v.useEffect(()=>{!C||!z.current||(C.disconnect(),m.current=!1,C.observe(z.current))},[z,C]),v.useEffect(()=>(l({type:Ts.RegisterDroppable,element:{id:s,key:a,disabled:n,node:z,rect:g,data:T}}),()=>l({type:Ts.UnregisterDroppable,key:a,id:s})),[s]),v.useEffect(()=>{n!==f.current.disabled&&(l({type:Ts.SetDroppableDisabled,id:s,key:a,disabled:n}),f.current.disabled=n)},[s,a,n,l]),{active:o,rect:g,isOver:(u==null?void 0:u.id)===s,node:z,over:u,setNodeRef:R}}function CT(e,t,n){const s=e.slice();return s.splice(n<0?s.length+n:n,0,s.splice(t,1)[0]),s}function YOe(e,t){return e.reduce((n,s,r)=>{const a=t.get(s);return a&&(n[r]=a),n},Array(e.length))}function U0(e){return e!==null&&e>=0}function JOe(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function XOe(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const pZ=e=>{let{rects:t,activeIndex:n,overIndex:s,index:r}=e;const a=CT(t,s,n),o=t[r],l=a[r];return!l||!o?null:{x:l.left-o.left,y:l.top-o.top,scaleX:l.width/o.width,scaleY:l.height/o.height}},H0={scaleX:1,scaleY:1},QOe=e=>{var t;let{activeIndex:n,activeNodeRect:s,index:r,rects:a,overIndex:o}=e;const l=(t=a[n])!=null?t:s;if(!l)return null;if(r===n){const d=a[o];return d?{x:0,y:n<o?d.top+d.height-(l.top+l.height):d.top-l.top,...H0}:null}const u=eDe(a,r,n);return r>n&&r<=o?{x:0,y:-l.height-u,...H0}:r<n&&r>=o?{x:0,y:l.height+u,...H0}:{x:0,y:0,...H0}};function eDe(e,t,n){const s=e[t],r=e[t-1],a=e[t+1];return s?n<t?r?s.top-(r.top+r.height):a?a.top-(s.top+s.height):0:a?a.top-(s.top+s.height):r?s.top-(r.top+r.height):0:0}const gZ="Sortable",xZ=Z.createContext({activeIndex:-1,containerId:gZ,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:pZ,disabled:{draggable:!1,droppable:!1}});function tDe(e){let{children:t,id:n,items:s,strategy:r=pZ,disabled:a=!1}=e;const{active:o,dragOverlay:l,droppableRects:u,over:d,measureDroppableContainers:f}=ZOe(),m=Dg(gZ,n),g=l.rect!==null,x=v.useMemo(()=>s.map(R=>typeof R=="object"&&"id"in R?R.id:R),[s]),b=o!=null,w=o?x.indexOf(o.id):-1,j=d?x.indexOf(d.id):-1,k=v.useRef(x),S=!JOe(x,k.current),C=j!==-1&&w===-1||S,E=XOe(a);Ga(()=>{S&&b&&f(x)},[S,x,b,f]),v.useEffect(()=>{k.current=x},[x]);const z=v.useMemo(()=>({activeIndex:w,containerId:m,disabled:E,disableTransforms:C,items:x,overIndex:j,useDragOverlay:g,sortedRects:YOe(x,u),strategy:r}),[w,m,E.draggable,E.droppable,C,x,j,u,g,r]);return Z.createElement(xZ.Provider,{value:z},t)}const nDe=e=>{let{id:t,items:n,activeIndex:s,overIndex:r}=e;return CT(n,s,r).indexOf(t)},sDe=e=>{let{containerId:t,isSorting:n,wasDragging:s,index:r,items:a,newIndex:o,previousItems:l,previousContainerId:u,transition:d}=e;return!d||!s||l!==a&&r===o?!1:n?!0:o!==r&&t===u},rDe={duration:200,easing:"ease"},vZ="transform",iDe=Wp.Transition.toString({property:vZ,duration:0,easing:"linear"}),aDe={roleDescription:"sortable"};function oDe(e){let{disabled:t,index:n,node:s,rect:r}=e;const[a,o]=v.useState(null),l=v.useRef(n);return Ga(()=>{if(!t&&n!==l.current&&s.current){const u=r.current;if(u){const d=hf(s.current,{ignoreTransform:!0}),f={x:u.left-d.left,y:u.top-d.top,scaleX:u.width/d.width,scaleY:u.height/d.height};(f.x||f.y)&&o(f)}}n!==l.current&&(l.current=n)},[t,n,s,r]),v.useEffect(()=>{a&&o(null)},[a]),a}function lDe(e){let{animateLayoutChanges:t=sDe,attributes:n,disabled:s,data:r,getNewIndex:a=nDe,id:o,strategy:l,resizeObserverConfig:u,transition:d=rDe}=e;const{items:f,containerId:m,activeIndex:g,disabled:x,disableTransforms:b,sortedRects:w,overIndex:j,useDragOverlay:k,strategy:S}=v.useContext(xZ),C=cDe(s,x),E=f.indexOf(o),z=v.useMemo(()=>({sortable:{containerId:m,index:E,items:f},...r}),[m,r,E,f]),R=v.useMemo(()=>f.slice(f.indexOf(o)),[f,o]),{rect:T,node:A,isOver:D,setNodeRef:F}=GOe({id:o,data:z,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:R,...u}}),{active:V,activatorEvent:$,activeNodeRect:q,attributes:K,setNodeRef:ee,listeners:L,isDragging:P,over:I,setActivatorNodeRef:G,transform:U}=qOe({id:o,data:z,attributes:{...aDe,...n},disabled:C.draggable}),M=_Re(F,ee),H=!!V,W=H&&!b&&U0(g)&&U0(j),te=!k&&P,le=te&&W?U:null,Y=W?le??(l??S)({rects:w,activeNodeRect:q,activeIndex:g,overIndex:j,index:E}):null,oe=U0(g)&&U0(j)?a({id:o,items:f,activeIndex:g,overIndex:j}):E,he=V==null?void 0:V.id,be=v.useRef({activeId:he,items:f,newIndex:oe,containerId:m}),we=f!==be.current.items,xe=t({active:V,containerId:m,isDragging:P,isSorting:H,id:o,index:E,items:f,newIndex:be.current.newIndex,previousItems:be.current.items,previousContainerId:be.current.containerId,transition:d,wasDragging:be.current.activeId!=null}),Ae=oDe({disabled:!xe,index:E,node:A,rect:T});return v.useEffect(()=>{H&&be.current.newIndex!==oe&&(be.current.newIndex=oe),m!==be.current.containerId&&(be.current.containerId=m),f!==be.current.items&&(be.current.items=f)},[H,oe,m,f]),v.useEffect(()=>{if(he===be.current.activeId)return;if(he!=null&&be.current.activeId==null){be.current.activeId=he;return}const Ce=setTimeout(()=>{be.current.activeId=he},50);return()=>clearTimeout(Ce)},[he]),{active:V,activeIndex:g,attributes:K,data:z,rect:T,index:E,newIndex:oe,items:f,isOver:D,isSorting:H,isDragging:P,listeners:L,node:A,overIndex:j,over:I,setNodeRef:M,setActivatorNodeRef:G,setDroppableNodeRef:F,setDraggableNodeRef:ee,transform:Ae??Y,transition:re()};function re(){if(Ae||we&&be.current.newIndex===E)return iDe;if(!(te&&!jT($)||!d)&&(H||xe))return Wp.Transition.toString({...d,property:vZ})}}function cDe(e,t){var n,s;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(n=e==null?void 0:e.draggable)!=null?n:t.draggable,droppable:(s=e==null?void 0:e.droppable)!=null?s:t.droppable}}function eb(e){if(!e)return!1;const t=e.data.current;return!!(t&&"sortable"in t&&typeof t.sortable=="object"&&"containerId"in t.sortable&&"items"in t.sortable&&"index"in t.sortable)}const uDe=[Kt.Down,Kt.Right,Kt.Up,Kt.Left],dDe=(e,t)=>{let{context:{active:n,collisionRect:s,droppableRects:r,droppableContainers:a,over:o,scrollableAncestors:l}}=t;if(uDe.includes(e.code)){if(e.preventDefault(),!n||!s)return;const u=[];a.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const g=r.get(m.id);if(g)switch(e.code){case Kt.Down:s.top<g.top&&u.push(m);break;case Kt.Up:s.top>g.top&&u.push(m);break;case Kt.Left:s.left>g.left&&u.push(m);break;case Kt.Right:s.left<g.left&&u.push(m);break}});const d=URe({collisionRect:s,droppableRects:r,droppableContainers:u});let f=nZ(d,"id");if(f===(o==null?void 0:o.id)&&d.length>1&&(f=d[1].id),f!=null){const m=a.get(n.id),g=a.get(f),x=g?r.get(g.id):null,b=g==null?void 0:g.node.current;if(b&&x&&m&&g){const j=k1(b).some((R,T)=>l[T]!==R),k=yZ(m,g),S=hDe(m,g),C=j||!k?{x:0,y:0}:{x:S?s.width-x.width:0,y:S?s.height-x.height:0},E={x:x.left,y:x.top};return C.x&&C.y?E:Zp(E,C)}}}};function yZ(e,t){return!eb(e)||!eb(t)?!1:e.data.current.sortable.containerId===t.data.current.sortable.containerId}function hDe(e,t){return!eb(e)||!eb(t)||!yZ(e,t)?!1:e.data.current.sortable.index<t.data.current.sortable.index}function Cn(e,t,n,s){t(e.id,{...e.content,[n]:s})}function fDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Nadpis (voliteln)"}),i.jsx(Pe,{value:e.content.title||"",onChange:n=>Cn(e,t,"title",n.target.value),placeholder:"Zadejte nadpis"})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Obsah"}),i.jsx(Nr,{value:e.content.text||"",onChange:n=>Cn(e,t,"text",n.target.value),placeholder:"Zadejte obsah textu",rows:5})]})]})}function mDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"URL obrzku"}),i.jsx(Pe,{value:e.content.url||"",onChange:n=>Cn(e,t,"url",n.target.value),placeholder:"https://example.com/obrazek.jpg"})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Alternativn text"}),i.jsx(Pe,{value:e.content.alt||"",onChange:n=>Cn(e,t,"alt",n.target.value),placeholder:"Popis obrzku"})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Popisek (voliteln)"}),i.jsx(Pe,{value:e.content.caption||"",onChange:n=>Cn(e,t,"caption",n.target.value),placeholder:"Popisek obrzku"})]}),e.content.url&&i.jsx("img",{src:e.content.url,alt:e.content.alt||"Nhled",className:"max-h-48 rounded-lg border object-cover"})]})}function pDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"URL videa (YouTube/Vimeo)"}),i.jsx(Pe,{value:e.content.url||"",onChange:n=>Cn(e,t,"url",n.target.value),placeholder:"https://youtube.com/watch?v=..."})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Popisek (voliteln)"}),i.jsx(Pe,{value:e.content.caption||"",onChange:n=>Cn(e,t,"caption",n.target.value),placeholder:"Popisek videa"})]})]})}function gDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Citace"}),i.jsx(Nr,{value:e.content.quote||"",onChange:n=>Cn(e,t,"quote",n.target.value),placeholder:"Zadejte citaci",rows:4})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Autor (voliteln)"}),i.jsx(Pe,{value:e.content.author||"",onChange:n=>Cn(e,t,"author",n.target.value),placeholder:"Autor citace"})]})]})}function xDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Jazyk"}),i.jsx(Pe,{value:e.content.language||"",onChange:n=>Cn(e,t,"language",n.target.value),placeholder:"javascript, python, atd."})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Kd"}),i.jsx(Nr,{value:e.content.code||"",onChange:n=>Cn(e,t,"code",n.target.value),placeholder:"Zadejte kd",rows:8,className:"font-mono text-sm"})]})]})}function vDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Nadpis"}),i.jsx(Pe,{value:e.content.title||"",onChange:n=>Cn(e,t,"title",n.target.value),placeholder:"Hlavn nadpis"})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Podnadpis"}),i.jsx(Pe,{value:e.content.subtitle||"",onChange:n=>Cn(e,t,"subtitle",n.target.value),placeholder:"Podnadpis sekce"})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"URL obrzku pozad"}),i.jsx(Pe,{value:e.content.background||"",onChange:n=>Cn(e,t,"background",n.target.value),placeholder:"https://example.com/pozadi.jpg"})]})]})}function yDe({block:e,onUpdate:t}){const n=(()=>{try{return JSON.parse(e.content.headers||"[]")}catch{return[]}})(),s=(()=>{try{return JSON.parse(e.content.rows||"[]")}catch{return[]}})(),r=g=>t(e.id,{...e.content,headers:JSON.stringify(g)}),a=g=>t(e.id,{...e.content,rows:JSON.stringify(g)}),o=()=>{r([...n,`Sloupec ${n.length+1}`]),a(s.map(g=>[...g,""]))},l=g=>{r(n.filter((x,b)=>b!==g)),a(s.map(x=>x.filter((b,w)=>w!==g)))},u=()=>{a([...s,new Array(Math.max(n.length,1)).fill("")])},d=g=>{a(s.filter((x,b)=>b!==g))},f=(g,x)=>{const b=[...n];b[g]=x,r(b)},m=(g,x,b)=>{const w=s.map(j=>[...j]);w[g][x]=b,a(w)};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:o,children:[i.jsx(ds,{className:"mr-1 size-3"})," Sloupec"]}),i.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:u,children:[i.jsx(ds,{className:"mr-1 size-3"})," dek"]})]}),n.length>0&&i.jsx("div",{className:"overflow-x-auto rounded border",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsx("tr",{children:n.map((g,x)=>i.jsx("th",{className:"border-b bg-muted p-1",children:i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(Pe,{value:g,onChange:b=>f(x,b.target.value),className:"h-7 text-xs"}),i.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"size-6 p-0",onClick:()=>l(x),children:i.jsx(cr,{className:"size-3 text-red-500"})})]})},x))})}),i.jsx("tbody",{children:s.map((g,x)=>i.jsxs("tr",{children:[g.map((b,w)=>i.jsx("td",{className:"border-b p-1",children:i.jsx(Pe,{value:b,onChange:j=>m(x,w,j.target.value),className:"h-7 text-xs"})},w)),i.jsx("td",{className:"border-b p-1",children:i.jsx(X,{type:"button",variant:"ghost",size:"sm",className:"size-6 p-0",onClick:()=>d(x),children:i.jsx(cr,{className:"size-3 text-red-500"})})})]},x))})]})})]})}function bDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Typ"}),i.jsxs(As,{value:e.content.type||"info",onValueChange:n=>Cn(e,t,"type",n),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"tip",children:"Tip"}),i.jsx(bt,{value:"warning",children:"Varovn"}),i.jsx(bt,{value:"info",children:"Informace"}),i.jsx(bt,{value:"error",children:"Chyba"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Nadpis"}),i.jsx(Pe,{value:e.content.title||"",onChange:n=>Cn(e,t,"title",n.target.value),placeholder:"Nadpis upozornn"})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Obsah"}),i.jsx(Nr,{value:e.content.content||"",onChange:n=>Cn(e,t,"content",n.target.value),placeholder:"Text upozornn",rows:3})]})]})}function wDe({block:e,onUpdate:t}){const n=(()=>{try{return JSON.parse(e.content.items||"[]")}catch{return[]}})(),s=l=>t(e.id,{...e.content,items:JSON.stringify(l)}),r=()=>s([...n,{question:"",answer:""}]),a=l=>s(n.filter((u,d)=>d!==l)),o=(l,u,d)=>{const f=n.map((m,g)=>g===l?{...m,[u]:d}:m);s(f)};return i.jsxs("div",{className:"space-y-3",children:[n.map((l,u)=>i.jsxs("div",{className:"space-y-2 rounded border p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs(Ve,{children:["Otzka ",u+1]}),i.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(u),children:i.jsx(cr,{className:"size-3 text-red-500"})})]}),i.jsx(Pe,{value:l.question,onChange:d=>o(u,"question",d.target.value),placeholder:"Zadejte otzku"}),i.jsx(Ve,{children:"Odpov"}),i.jsx(Nr,{value:l.answer,onChange:d=>o(u,"answer",d.target.value),placeholder:"Zadejte odpov",rows:2})]},u)),i.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:r,children:[i.jsx(ds,{className:"mr-1 size-3"})," Pidat otzku"]})]})}function jDe({block:e,onUpdate:t}){const n=(()=>{try{return JSON.parse(e.content.options||"[]")}catch{return[]}})(),s=l=>t(e.id,{...e.content,options:JSON.stringify(l)}),r=()=>s([...n,{label:"",percentage:0}]),a=l=>s(n.filter((u,d)=>d!==l)),o=(l,u,d)=>{const f=n.map((m,g)=>g===l?{...m,[u]:u==="percentage"?Number(d)||0:d}:m);s(f)};return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Otzka"}),i.jsx(Pe,{value:e.content.question||"",onChange:l=>Cn(e,t,"question",l.target.value),placeholder:"Otzka ankety"})]}),n.map((l,u)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Pe,{value:l.label,onChange:d=>o(u,"label",d.target.value),placeholder:"Nzev monosti",className:"flex-1"}),i.jsx(Pe,{type:"number",value:l.percentage,onChange:d=>o(u,"percentage",d.target.value),placeholder:"%",className:"w-20",min:0,max:100}),i.jsx(X,{type:"button",variant:"ghost",size:"sm",onClick:()=>a(u),children:i.jsx(cr,{className:"size-3 text-red-500"})})]},u)),i.jsxs(X,{type:"button",variant:"outline",size:"sm",onClick:r,children:[i.jsx(ds,{className:"mr-1 size-3"})," Pidat monost"]})]})}function kDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Barva"}),i.jsxs(As,{value:e.content.color||"blue",onValueChange:n=>Cn(e,t,"color",n),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"blue",children:"Modr"}),i.jsx(bt,{value:"green",children:"Zelen"}),i.jsx(bt,{value:"yellow",children:"lut"}),i.jsx(bt,{value:"red",children:"erven"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Text"}),i.jsx(Nr,{value:e.content.text||"",onChange:n=>Cn(e,t,"text",n.target.value),placeholder:"Zvraznn text",rows:3})]})]})}function NDe({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Platforma"}),i.jsxs(As,{value:e.content.platform||"twitter",onValueChange:n=>Cn(e,t,"platform",n),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"twitter",children:"Twitter / X"}),i.jsx(bt,{value:"facebook",children:"Facebook"}),i.jsx(bt,{value:"instagram",children:"Instagram"}),i.jsx(bt,{value:"linkedin",children:"LinkedIn"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"URL"}),i.jsx(Pe,{value:e.content.url||"",onChange:n=>Cn(e,t,"url",n.target.value),placeholder:"https://twitter.com/..."})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Popis"}),i.jsx(Pe,{value:e.content.text||"",onChange:n=>Cn(e,t,"text",n.target.value),placeholder:"Popis pspvku"})]})]})}function SDe({block:e,onUpdate:t}){return i.jsx("div",{className:"space-y-3",children:i.jsxs("div",{children:[i.jsx(Ve,{children:"Styl"}),i.jsxs(As,{value:e.content.style||"line",onValueChange:n=>Cn(e,t,"style",n),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"line",children:"Jednoduch ra"}),i.jsx(bt,{value:"dots",children:"Teky"}),i.jsx(bt,{value:"gradient",children:"Pechod"})]})]})]})})}function _De({block:e,onUpdate:t}){return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"SEO titulek"}),i.jsx(Pe,{value:e.content.seoTitle||"",onChange:n=>Cn(e,t,"seoTitle",n.target.value),placeholder:"Titulek strnky pro vyhledvae"}),i.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[(e.content.seoTitle||"").length,"/60 znak"]})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"SEO URL"}),i.jsx(Pe,{value:e.content.seoUrl||"",onChange:n=>Cn(e,t,"seoUrl",n.target.value),placeholder:"https://example.com/blog/vas-clanek"})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Meta popis"}),i.jsx(Nr,{value:e.content.seoDescription||"",onChange:n=>Cn(e,t,"seoDescription",n.target.value),placeholder:"Popis pro vyhledvae",rows:2}),i.jsxs("p",{className:"mt-1 text-xs text-muted-foreground",children:[(e.content.seoDescription||"").length,"/160 znak"]})]}),i.jsxs("div",{className:"rounded border p-3",children:[i.jsx("p",{className:"mb-1 text-xs font-medium text-muted-foreground",children:"Nhled ve vyhledvai"}),i.jsx("div",{className:"text-base font-medium text-blue-700 dark:text-blue-400",children:e.content.seoTitle||"Titulek strnky"}),i.jsx("div",{className:"text-xs text-green-700 dark:text-green-400",children:e.content.seoUrl||"https://example.com/blog/..."}),i.jsx("div",{className:"text-xs text-muted-foreground",children:e.content.seoDescription||"Meta popis..."})]})]})}const CDe={text:fDe,image:mDe,video:pDe,quote:gDe,code:xDe,hero:vDe,table:yDe,callout:bDe,faq:wDe,poll:jDe,highlight:kDe,social:NDe,divider:SDe,seo:_De},EDe=[{value:"text",label:"Textov blok",icon:Gle},{value:"image",label:"Obrzek",icon:IL},{value:"video",label:"Video",icon:cce},{value:"quote",label:"Citace",icon:qL},{value:"code",label:"Blok kdu",icon:OL},{value:"hero",label:"Hero sekce",icon:UL},{value:"table",label:"Tabulka",icon:Ele},{value:"callout",label:"Upozornn",icon:Z_},{value:"faq",label:"ast dotazy",icon:B_},{value:"poll",label:"Anketa",icon:Aa},{value:"highlight",label:"Zvraznn",icon:$ae},{value:"social",label:"Sociln st",icon:ale},{value:"divider",label:"Oddlova",icon:mb},{value:"seo",label:"SEO nhled",icon:Ya}],TDe={text:{title:"",text:""},image:{url:"",alt:"",caption:""},video:{url:"",caption:""},quote:{quote:"",author:""},code:{language:"javascript",code:""},hero:{title:"",subtitle:"",background:""},table:{headers:'["Sloupec 1","Sloupec 2"]',rows:`[["",""]]
`},callout:{type:"info",title:"",content:""},faq:{items:"[]"},poll:{question:"",options:"[]"},highlight:{text:"",color:"blue"},social:{platform:"twitter",url:"",text:""},divider:{style:"line"},seo:{seoTitle:"",seoUrl:"",seoDescription:""}},bZ=({blocks:e,onChange:t})=>{const n=VRe(IP(_T),IP(NT,{coordinateGetter:dDe})),s=l=>{const{active:u,over:d}=l;if(d&&u.id!==d.id){const f=e.findIndex(g=>g.id===u.id),m=e.findIndex(g=>g.id===d.id);t(CT(e,f,m))}},r=l=>{const u={id:`block-${Date.now()}`,type:l,content:{...TDe[l]||{}}};t([...e,u])},a=(l,u)=>{t(e.map(d=>d.id===l?{...d,content:u}:d))},o=l=>{t(e.filter(u=>u.id!==l))};return i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(As,{onValueChange:l=>r(l),children:[i.jsxs(ws,{className:"w-64",children:[i.jsx(ds,{className:"mr-2 size-4"}),i.jsx(Ms,{placeholder:"Pidat blok obsahu"})]}),i.jsx(js,{children:EDe.map(l=>i.jsx(bt,{value:l.value,children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(l.icon,{className:"size-4"}),l.label]})},l.value))})]})}),i.jsx(FOe,{sensors:n,collisionDetection:FRe,onDragEnd:s,children:i.jsx(tDe,{items:e.map(l=>l.id),strategy:QOe,children:i.jsx("div",{className:"space-y-4",children:e.map(l=>i.jsx(ADe,{block:l,onUpdate:a,onRemove:o},l.id))})})}),e.length===0&&i.jsx(Re,{children:i.jsxs(Oe,{className:"flex flex-col items-center justify-center py-12 text-center",children:[i.jsx(UL,{className:"mb-4 size-12 text-muted-foreground"}),i.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Zatm dn bloky obsahu"}),i.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Pidejte prvn blok obsahu a zante vytvet lnek"})]})})]})},zDe={text:"Text",image:"Obrzek",video:"Video",quote:"Citace",code:"Kd",hero:"Hero",table:"Tabulka",callout:"Upozornn",faq:"FAQ",poll:"Anketa",highlight:"Zvraznn",social:"Sociln",divider:"Oddlova",seo:"SEO"},ADe=({block:e,onUpdate:t,onRemove:n})=>{const{attributes:s,listeners:r,setNodeRef:a,transform:o,transition:l,isDragging:u}=lDe({id:e.id}),d={transform:Wp.Transform.toString(o),transition:l},f=CDe[e.type];return i.jsxs("div",{ref:a,style:d,className:se("rounded-lg border bg-card",u&&"opacity-50 shadow-lg"),children:[i.jsxs("div",{className:"flex items-center gap-2 border-b p-3",children:[i.jsx("button",{type:"button",className:"cursor-grab touch-none rounded p-1 hover:bg-muted",...s,...r,children:i.jsx(H_,{className:"size-5 text-muted-foreground"})}),i.jsx("div",{className:"flex-1",children:i.jsxs("span",{className:"text-sm font-medium",children:["Blok: ",zDe[e.type]||e.type]})}),i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>n(e.id),children:i.jsx(cr,{className:"size-4 text-red-500"})})]}),i.jsx("div",{className:"p-4",children:f?i.jsx(f,{block:e,onUpdate:t}):null})]})},MDe=()=>{const{id:e}=ic(),t=Yt(),{user:n}=Qt(),s=e&&e!=="new",[r,a]=v.useState(!1),[o,l]=v.useState({title:"",slug:"",excerpt:"",content:"",featured_image:"",status:"draft",tags:"",contentBlocks:[]});v.useEffect(()=>{s&&u()},[e]);const u=async()=>{var g,x,b;try{a(!0);const{data:w,error:j}=await de.from("blogs").select("*").eq("id",e).maybeSingle();if(j)throw j;if(!w){Te.error("lnek nenalezen"),t("/admin/blogs");return}l({title:w.title,slug:w.slug,excerpt:w.excerpt||"",content:((g=w.content)==null?void 0:g.html)||"",featured_image:w.featured_image||"",status:w.status,tags:((x=w.tags)==null?void 0:x.join(", "))||"",contentBlocks:((b=w.content)==null?void 0:b.blocks)||[]})}catch(w){console.error("Error fetching blog:",w),Te.error("Nepodailo se nast lnek")}finally{a(!1)}},d=g=>g.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,""),f=g=>{l({...o,title:g,slug:o.slug||d(g)})},m=async g=>{if(!o.title.trim()){Te.error("Zadejte prosm nzev lnku");return}if(!o.slug.trim()){Te.error("Zadejte prosm URL adresu (slug)");return}try{a(!0);const x=o.tags.split(",").map(j=>j.trim()).filter(j=>j.length>0),b=o.contentBlocks.length>0?aU(o.contentBlocks):o.content,w={title:o.title,slug:o.slug,excerpt:o.excerpt,content:{html:b,blocks:o.contentBlocks},featured_image:o.featured_image,status:g||o.status,tags:x,author_id:n==null?void 0:n.id,published_at:g==="published"&&o.status!=="published"?new Date().toISOString():void 0};if(s){const{error:j}=await de.from("blogs").update(w).eq("id",e);if(j)throw j;Te.success("lnek byl spn aktualizovn")}else{const{data:j,error:k}=await de.from("blogs").insert([w]).select().single();if(k)throw k;Te.success("lnek byl spn vytvoen"),t(`/admin/blogs/edit/${j.id}`)}}catch(x){console.error("Error saving blog:",x),x.code==="23505"?Te.error("lnek s touto URL adresou ji existuje"):Te.error("Nepodailo se uloit lnek")}finally{a(!1)}};return r&&s?i.jsx("div",{className:"flex h-96 items-center justify-center",children:i.jsx("p",{className:"text-muted-foreground",children:"Natn lnku..."})}):i.jsxs(qo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t("/admin/blogs"),children:i.jsx($o,{className:"size-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:s?"Upravit lnek":"Nov lnek"}),i.jsx("p",{className:"text-muted-foreground",children:s?"Aktualizujte svj lnek":"Vytvote nov lnek s bohatm obsahem"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs(X,{variant:"outline",onClick:()=>m("draft"),disabled:r,children:[i.jsx(KL,{className:"mr-2 size-4"}),"Uloit koncept"]}),i.jsxs(X,{onClick:()=>m("published"),disabled:r,children:[i.jsx(Li,{className:"mr-2 size-4"}),"Publikovat"]})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Obsah lnku"}),i.jsx(Xt,{children:"Napite obsah lnku pomoc editoru ne"})]}),i.jsxs(Oe,{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"title",children:"Nzev"}),i.jsx(Pe,{id:"title",value:o.title,onChange:g=>f(g.target.value),placeholder:"Zadejte nzev lnku",className:"text-lg font-semibold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"slug",children:"URL adresa (slug)"}),i.jsx(Pe,{id:"slug",value:o.slug,onChange:g=>l({...o,slug:g.target.value}),placeholder:"url-adresa-clanku"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"excerpt",children:"Krtk popis"}),i.jsx(Nr,{id:"excerpt",value:o.excerpt,onChange:g=>l({...o,excerpt:g.target.value}),placeholder:"Strun popis lnku pro nhled",rows:3})]}),i.jsxs(ya,{defaultValue:"wysiwyg",className:"w-full",children:[i.jsxs(Hi,{className:"grid w-full grid-cols-2",children:[i.jsx(kn,{value:"wysiwyg",children:"Vizuln editor"}),i.jsx(kn,{value:"blocks",children:"Bloky obsahu"})]}),i.jsx(In,{value:"wysiwyg",className:"mt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Hlavn obsah"}),i.jsx(Yq,{content:o.content,onChange:g=>l({...o,content:g})})]})}),i.jsx(In,{value:"blocks",className:"mt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Pethnte bloky obsahu"}),i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Pidvejte a uspodvejte bloky pro vytvoen rozvren lnku"}),i.jsx(bZ,{blocks:o.contentBlocks,onChange:g=>l({...o,contentBlocks:g})})]})})]})]})]})}),i.jsx("div",{className:"space-y-6",children:i.jsx(ne.div,{initial:{opacity:0,x:12},animate:{opacity:1,x:0},transition:{delay:.15},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Nastaven"}),i.jsx(Xt,{children:"Konfigurace lnku"})]}),i.jsxs(Oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"status",children:"Stav"}),i.jsxs(As,{value:o.status,onValueChange:g=>l({...o,status:g}),children:[i.jsx(ws,{id:"status",children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"draft",children:"Koncept"}),i.jsx(bt,{value:"published",children:"Publikovno"}),i.jsx(bt,{value:"archived",children:"Archivovno"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"featured_image",children:"URL nhledovho obrzku"}),i.jsx(Pe,{id:"featured_image",value:o.featured_image,onChange:g=>l({...o,featured_image:g.target.value}),placeholder:"https://example.com/obrazek.jpg"}),o.featured_image&&i.jsx("div",{className:"mt-2",children:i.jsx("img",{src:o.featured_image,alt:"Nhled",className:"w-full rounded-lg border object-cover"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{htmlFor:"tags",children:"ttky"}),i.jsx(Pe,{id:"tags",value:o.tags,onChange:g=>l({...o,tags:g.target.value}),placeholder:"ttek1, ttek2, ttek3"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"ttky oddlujte rkou"})]})]})]})})})]})]})},RDe={beginner:"Zacatecnik",intermediate:"Pokrocily",advanced:"Expert"},q0=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function ODe(){const e=Yt(),[t,n]=v.useState([]),[s,r]=v.useState([]),[a,o]=v.useState(!0),[l,u]=v.useState(""),[d,f]=v.useState(new Set),[m,g]=v.useState(null),[x,b]=v.useState([]),[w,j]=v.useState([]),[k,S]=v.useState(!1),[C,E]=v.useState(""),[z,R]=v.useState(!1),T=v.useCallback(async()=>{const[{data:M},{data:H}]=await Promise.all([de.from("course_packages").select("id, title, description, order_index").order("order_index"),de.from("courses").select("id, title, instructor, category, level, price, published, students_count, lessons_count, package_id, order_index").order("order_index")]);n(M??[]),r(H??[]),M&&f(new Set(M.map(W=>W.id))),o(!1)},[]);v.useEffect(()=>{T()},[T]);const A=async M=>{g(M),R(!0);const[{data:H},{data:W}]=await Promise.all([de.from("course_enrollments").select("id, user_id, course_id, enrolled_at, completed").eq("course_id",M.id).order("enrolled_at",{ascending:!1}),de.from("profiles").select("id, email, full_name")]);b(H??[]),j(W??[]),R(!1)},D=new Map;for(const M of w)D.set(M.id,M);const F=M=>D.get(M)??null,V=async()=>{if(!m||!C)return;if(x.find(W=>W.user_id===C)){Te.error("Uzivatel je jiz zapsan do tohoto kurzu");return}const{error:H}=await de.from("course_enrollments").insert({user_id:C,course_id:m.id});if(H){Te.error("Chyba pri zapisu uzivatele");return}Te.success("Uzivatel uspesne zapsan do kurzu"),S(!1),E(""),A(m)},$=async M=>{const{error:H}=await de.from("course_enrollments").delete().eq("id",M);if(H){Te.error("Chyba pri odebrani zapisu");return}Te.success("Zapis odebran"),b(W=>W.filter(te=>te.id!==M))},q=async M=>{const{error:H}=await de.from("course_enrollments").update({completed:!M.completed,completion_date:M.completed?null:new Date().toISOString()}).eq("id",M.id);if(H){Te.error("Chyba pri aktualizaci");return}b(W=>W.map(te=>te.id===M.id?{...te,completed:!te.completed}:te)),Te.success(M.completed?"Oznaceno jako nedokoncene":"Oznaceno jako dokoncene")},K=async(M,H)=>{H.stopPropagation();const{error:W}=await de.from("courses").update({published:!M.published,updated_at:new Date().toISOString()}).eq("id",M.id);if(W){Te.error("Chyba pri aktualizaci kurzu");return}Te.success(M.published?"Kurz skryt":"Kurz publikovan"),r(te=>te.map(le=>le.id===M.id?{...le,published:!le.published}:le))},ee=async(M,H)=>{if(H.stopPropagation(),!confirm(`Opravdu chcete smazat kurz "${M.title}"?`))return;const{error:W}=await de.from("courses").delete().eq("id",M.id);if(W){Te.error("Nepodarilo se smazat kurz");return}Te.success("Kurz smazan"),r(te=>te.filter(le=>le.id!==M.id))},L=M=>{f(H=>{const W=new Set(H);return W.has(M)?W.delete(M):W.add(M),W})},P=s.filter(M=>{var H,W;return M.title.toLowerCase().includes(l.toLowerCase())||((H=M.instructor)==null?void 0:H.toLowerCase().includes(l.toLowerCase()))||((W=M.category)==null?void 0:W.toLowerCase().includes(l.toLowerCase()))}),I=w.filter(M=>!x.some(H=>H.user_id===M.id)),G=s.reduce((M,H)=>M+H.students_count,0),U=s.filter(M=>M.published).length;return a?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(qo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Sprava kurzu"}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:[t.length," balicku, ",s.length," kurzu celkem"]})]}),i.jsxs(X,{onClick:()=>e("/admin/courses/new"),children:[i.jsx(ds,{className:"mr-2 size-4"}),"Novy kurz"]})]}),i.jsxs(Oh,{className:"grid gap-4 sm:grid-cols-3",children:[i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{children:i.jsx(Oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-blue-100 dark:bg-blue-900/40",children:i.jsx(Fl,{className:"size-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:t.length}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Balicku"})]})]})})})})}),i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{children:i.jsx(Oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-green-100 dark:bg-green-900/40",children:i.jsx(Gt,{className:"size-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:[U,"/",s.length]}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Publikovanych kurzu"})]})]})})})})}),i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{children:i.jsx(Oe,{className:"pt-6",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-amber-100 dark:bg-amber-900/40",children:i.jsx(Fa,{className:"size-5 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:G}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Studentu celkem"})]})]})})})})})]}),i.jsxs("div",{className:"relative max-w-sm",children:[i.jsx(Ya,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Pe,{placeholder:"Hledat kurzy...",value:l,onChange:M=>u(M.target.value),className:"pl-9"})]}),i.jsxs("div",{className:"space-y-4",children:[t.map(M=>{const H=P.filter(ce=>ce.package_id===M.id);if(l&&H.length===0)return null;const W=d.has(M.id),te=H.reduce((ce,Y)=>ce+Number(Y.price),0),le=H.reduce((ce,Y)=>ce+Y.lessons_count,0);return i.jsxs(Re,{children:[i.jsx(Je,{className:"cursor-pointer pb-3",onClick:()=>L(M.id),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[W?i.jsx(dr,{className:"size-5 text-neutral-400"}):i.jsx(kr,{className:"size-5 text-neutral-400"}),i.jsxs("div",{children:[i.jsx(Qe,{className:"text-base",children:M.title}),i.jsxs("p",{className:"mt-0.5 text-xs text-neutral-500",children:[H.length," kurzu | ",le," lekci | ",q0(te)," celkem"]})]})]}),i.jsxs($e,{variant:"outline",className:"text-xs",children:[H.filter(ce=>ce.published).length,"/",H.length," aktivnich"]})]})}),i.jsx(jn,{children:W&&i.jsx(ne.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.25,ease:[.4,0,.2,1]},className:"overflow-hidden",children:i.jsx(Oe,{className:"pt-0",children:i.jsxs("div",{className:"space-y-2",children:[H.map((ce,Y)=>i.jsx(wh,{index:Y,children:i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-neutral-50 dark:border-neutral-700 dark:hover:bg-neutral-800/50",children:[i.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>A(ce),children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("p",{className:"text-sm font-medium text-neutral-900 dark:text-neutral-100",children:ce.title}),ce.level&&i.jsx($e,{variant:"outline",className:"text-[10px]",children:RDe[ce.level]||ce.level})]}),i.jsxs("div",{className:"mt-1 flex items-center gap-3 text-xs text-neutral-500",children:[ce.instructor&&i.jsx("span",{children:ce.instructor}),i.jsxs("span",{children:[ce.lessons_count," lekci"]}),i.jsxs("span",{children:[ce.students_count," studentu"]}),i.jsx("span",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:q0(Number(ce.price))})]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(X,{variant:"ghost",size:"icon",className:"size-7",onClick:oe=>{oe.stopPropagation(),e(`/admin/courses/${ce.id}`)},children:i.jsx(xk,{className:"size-3.5 text-muted-foreground"})}),i.jsx(X,{variant:"ghost",size:"sm",className:"h-7 gap-1 px-2",onClick:oe=>K(ce,oe),children:ce.published?i.jsxs(i.Fragment,{children:[i.jsx(Li,{className:"size-3 text-green-600"}),i.jsx("span",{className:"text-[10px] text-green-600",children:"Aktivni"})]}):i.jsxs(i.Fragment,{children:[i.jsx(cae,{className:"size-3 text-neutral-400"}),i.jsx("span",{className:"text-[10px] text-neutral-400",children:"Skryty"})]})}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-7 text-red-500 hover:text-red-600",onClick:oe=>ee(ce,oe),children:i.jsx(cr,{className:"size-3.5"})})]})]})},ce.id)),H.length===0&&i.jsx("p",{className:"py-4 text-center text-sm text-neutral-500",children:"Zadne kurzy v tomto balicku"})]})})})})]},M.id)}),(()=>{const M=P.filter(H=>!H.package_id);return M.length===0?null:i.jsxs(Re,{children:[i.jsx(Je,{className:"pb-3",children:i.jsx(Qe,{className:"text-base text-neutral-500",children:"Kurzy bez balicku"})}),i.jsx(Oe,{className:"pt-0",children:i.jsx("div",{className:"space-y-2",children:M.map(H=>i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 transition-colors hover:bg-neutral-50 dark:border-neutral-700 dark:hover:bg-neutral-800/50",children:[i.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>A(H),children:[i.jsx("p",{className:"text-sm font-medium",children:H.title}),i.jsxs("p",{className:"mt-1 text-xs text-neutral-500",children:[q0(Number(H.price))," | ",H.lessons_count," lekci"]})]}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(X,{variant:"ghost",size:"icon",className:"size-7",onClick:W=>{W.stopPropagation(),e(`/admin/courses/${H.id}`)},children:i.jsx(xk,{className:"size-3.5 text-muted-foreground"})}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-7 text-red-500 hover:text-red-600",onClick:W=>ee(H,W),children:i.jsx(cr,{className:"size-3.5"})})]})]},H.id))})})]})})()]}),P.length===0&&i.jsx("div",{className:"py-12 text-center text-neutral-500",children:"Zadne kurzy nenalezeny"}),i.jsx(Za,{open:!!m,onOpenChange:()=>g(null),children:i.jsxs(ha,{className:"max-h-[85vh] overflow-y-auto sm:max-w-2xl",children:[i.jsx(fa,{children:i.jsxs(ma,{className:"flex items-center gap-2",children:[i.jsx(Gt,{className:"size-5"}),m==null?void 0:m.title]})}),m&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex gap-2",children:i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>e(`/admin/courses/${m.id}`),children:[i.jsx(xk,{className:"mr-1 size-4"}),"Upravit kurz"]})}),i.jsxs("div",{className:"grid gap-3 sm:grid-cols-3",children:[i.jsxs("div",{className:"rounded-lg border p-3 dark:border-neutral-700",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Studenti"}),i.jsx("p",{className:"text-lg font-bold",children:m.students_count})]}),i.jsxs("div",{className:"rounded-lg border p-3 dark:border-neutral-700",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Lekce"}),i.jsx("p",{className:"text-lg font-bold",children:m.lessons_count})]}),i.jsxs("div",{className:"rounded-lg border p-3 dark:border-neutral-700",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Cena"}),i.jsx("p",{className:"text-lg font-bold",children:q0(Number(m.price))})]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[i.jsxs("h3",{className:"flex items-center gap-2 text-sm font-semibold",children:[i.jsx(e8,{className:"size-4"}),"Zapsani uzivatele (",x.length,")"]}),i.jsxs(X,{size:"sm",onClick:()=>S(!0),children:[i.jsx(ds,{className:"mr-1 size-4"}),"Zapsat uzivatele"]})]}),z?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):x.length===0?i.jsx("p",{className:"text-sm text-neutral-500",children:"Zadni zapsani uzivatele"}):i.jsx("div",{className:"space-y-2",children:x.map(M=>{const H=F(M.user_id);return i.jsxs("div",{className:"flex items-center justify-between rounded-lg border p-3 dark:border-neutral-700",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium",children:(H==null?void 0:H.full_name)||(H==null?void 0:H.email)||"Neznamy"}),i.jsxs("p",{className:"text-xs text-neutral-500",children:[H==null?void 0:H.email," | Zapsano: ",new Date(M.enrolled_at).toLocaleDateString("cs-CZ")]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>q(M),children:M.completed?"Zrusit dokonceni":"Oznacit dokonceno"}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-8 text-red-500 hover:text-red-600",onClick:()=>$(M.id),children:i.jsx(cr,{className:"size-4"})})]})]},M.id)})})]})]})]})}),i.jsx(Za,{open:k,onOpenChange:S,children:i.jsxs(ha,{className:"sm:max-w-md",children:[i.jsx(fa,{children:i.jsx(ma,{children:"Zapsat uzivatele do kurzu"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-sm text-neutral-500",children:['Vyberte uzivatele pro zapis do kurzu "',m==null?void 0:m.title,'"']}),i.jsxs(As,{value:C,onValueChange:E,children:[i.jsx(ws,{children:i.jsx(Ms,{placeholder:"Vyberte uzivatele..."})}),i.jsx(js,{children:I.map(M=>{var H;return i.jsxs(bt,{value:M.id,children:[M.full_name||((H=M.email)==null?void 0:H.split("@")[0])," (",M.email,")"]},M.id)})})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(X,{variant:"outline",onClick:()=>S(!1),children:"Zrusit"}),i.jsx(X,{onClick:V,disabled:!C,children:"Zapsat"})]})]})]})})]})}const DDe=[{value:"storage",label:"Nahrat soubor"},{value:"youtube",label:"YouTube"},{value:"vimeo",label:"Vimeo"},{value:"custom",label:"Vlastni URL"}],PDe=["2160p","1440p","1080p","720p","480p","360p"];function YP(e,t){if(t==="youtube"){const n=e.match(/(?:embed\/|watch\?v=|youtu\.be\/|\/v\/)([a-zA-Z0-9_-]{11})/);return(n==null?void 0:n[1])??""}if(t==="vimeo"){const n=e.match(/vimeo\.com\/(\d+)/);return(n==null?void 0:n[1])??""}return""}function IDe(e,t){return t==="youtube"&&e?`https://www.youtube.com/embed/${e}`:t==="vimeo"&&e?`https://player.vimeo.com/video/${e}`:""}function JP(e,t){return t==="youtube"&&e?`https://img.youtube.com/vi/${e}/hqdefault.jpg`:""}function Z0(e){if(e===0)return"0 B";const t=["B","KB","MB","GB"],n=Math.floor(Math.log(e)/Math.log(1024));return`${(e/Math.pow(1024,n)).toFixed(1)} ${t[n]}`}function AN(e){const t=Math.floor(e/3600),n=Math.floor(e%3600/60),s=e%60;return t>0?`${t}h ${n}m`:`${n}m ${s}s`}const XP={title:"",description:"",video_provider:"storage",video_external_id:"",video_url:"",thumbnail_url:"",duration_seconds:0,file_size_bytes:0,resolution:"1080p",order_index:0,is_preview:!1,storage_path:""};function LDe({lessonId:e,courseId:t}){const[n,s]=v.useState([]),[r,a]=v.useState(!0),[o,l]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(null),[g,x]=v.useState(XP),[b,w]=v.useState(null),[j,k]=v.useState(0),[S,C]=v.useState(!1),E=v.useRef(null),z=v.useCallback(async()=>{if(e.startsWith("temp-")){a(!1);return}const{data:I}=await de.from("course_videos").select("*").eq("lesson_id",e).order("order_index");s(I??[]),a(!1)},[e]);v.useEffect(()=>{z()},[z]);const R=()=>{m(null),x({...XP,order_index:n.length}),w(null),k(0),l(!0)},T=I=>{m(I.id),x({title:I.title,description:I.description,video_provider:I.video_provider,video_external_id:I.video_external_id,video_url:I.video_url,thumbnail_url:I.thumbnail_url,duration_seconds:I.duration_seconds,file_size_bytes:I.file_size_bytes,resolution:I.resolution,order_index:I.order_index,is_preview:I.is_preview,storage_path:I.storage_path||""}),w(null),k(0),l(!0)},A=I=>{var M;const G=(M=I.target.files)==null?void 0:M[0];if(!G)return;w(G),x(H=>({...H,title:H.title||G.name.replace(/\.[^/.]+$/,""),file_size_bytes:G.size}));const U=document.createElement("video");U.preload="metadata",U.onloadedmetadata=()=>{URL.revokeObjectURL(U.src),x(H=>({...H,duration_seconds:Math.round(U.duration)}))},U.src=URL.createObjectURL(G)},D=async I=>{var ce;const G=((ce=I.name.split(".").pop())==null?void 0:ce.toLowerCase())||"mp4",U=Date.now(),M=I.name.replace(/\.[^/.]+$/,"").replace(/[^a-zA-Z0-9-_]/g,"_").slice(0,50),H=`${t}/${e}/${U}-${M}.${G}`;C(!0),k(0);const W=5*1024*1024,te=Math.ceil(I.size/W);if(I.size<=W){const{error:Y}=await de.storage.from("course-videos").upload(H,I,{cacheControl:"3600",upsert:!1});if(Y)return console.error("Upload error:",Y),Te.error(`Chyba nahravani: ${Y.message}`),C(!1),null;k(100)}else for(let Y=0;Y<te;Y++){const oe=Y*W,he=Math.min(oe+W,I.size),be=I.slice(oe,he);if(Y===0){const{error:we}=await de.storage.from("course-videos").upload(H,be,{cacheControl:"3600",upsert:!1});if(we)return console.error("Upload error:",we),Te.error(`Chyba nahravani: ${we.message}`),C(!1),null}else{const{error:we}=await de.storage.from("course-videos").update(H,I.slice(0,he),{cacheControl:"3600",upsert:!0});if(we)return console.error("Chunk upload error:",we),Te.error(`Chyba nahravani casti ${Y+1}: ${we.message}`),C(!1),null}k(Math.round((Y+1)/te*100))}const{data:le}=await de.storage.from("course-videos").createSignedUrl(H,365*24*60*60);return C(!1),{path:H,url:(le==null?void 0:le.signedUrl)||""}},F=I=>{const G=YP(I,g.video_provider),U=JP(G,g.video_provider);x({...g,video_url:I,video_external_id:G,thumbnail_url:U||g.thumbnail_url})},V=I=>{const G=YP(g.video_url,I),U=JP(G,I);x({...g,video_provider:I,video_external_id:G,thumbnail_url:U||g.thumbnail_url}),w(null),k(0)},$=async()=>{if(!g.title.trim()){Te.error("Zadejte nazev videa");return}d(!0);let I=g.video_url,G=g.storage_path,U="completed";if(g.video_provider==="storage"&&b){const H=await D(b);if(!H){d(!1);return}I=H.url,G=H.path,U="completed"}else if(g.video_provider==="storage"&&!b&&!g.storage_path){Te.error("Vyberte soubor k nahrani"),d(!1);return}const M={lesson_id:e,title:g.title,description:g.description,video_provider:g.video_provider,video_external_id:g.video_external_id,video_url:I,thumbnail_url:g.thumbnail_url,duration_seconds:g.duration_seconds,file_size_bytes:g.file_size_bytes,resolution:g.resolution,order_index:g.order_index,is_preview:g.is_preview,storage_path:G,upload_status:U,updated_at:new Date().toISOString()};if(f){const{error:H}=await de.from("course_videos").update(M).eq("id",f);if(H){Te.error("Chyba pri aktualizaci videa"),d(!1);return}Te.success("Video aktualizovano")}else{const{error:H}=await de.from("course_videos").insert(M);if(H){Te.error("Chyba pri pridani videa"),d(!1);return}Te.success("Video nahrano a ulozeno")}d(!1),l(!1),w(null),k(0),z()},q=async I=>{if(!confirm("Opravdu smazat toto video?"))return;I.storage_path&&await de.storage.from("course-videos").remove([I.storage_path]);const{error:G}=await de.from("course_videos").delete().eq("id",I.id);if(G){Te.error("Chyba pri mazani videa");return}Te.success("Video smazano"),s(U=>U.filter(M=>M.id!==I.id))},ee=g.video_provider!=="storage"&&g.video_external_id?IDe(g.video_external_id,g.video_provider):"";if(e.startsWith("temp-"))return i.jsx("div",{className:"rounded-lg border border-dashed p-4 text-center text-sm text-muted-foreground",children:"Ulozte lekci pro spravu videi"});const L=n.reduce((I,G)=>I+G.file_size_bytes,0),P=n.reduce((I,G)=>I+G.duration_seconds,0);return i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ou,{className:"size-4 text-muted-foreground"}),i.jsxs("h4",{className:"text-sm font-semibold",children:["Videa (",n.length,")"]}),n.length>0&&i.jsxs("span",{className:"text-xs text-muted-foreground",children:[AN(P)," | ~",Z0(L)]})]}),i.jsxs(X,{variant:"outline",size:"sm",onClick:R,children:[i.jsx(ds,{className:"mr-1 size-3.5"}),"Pridat video"]})]}),r?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx(Bl,{className:"size-5 animate-spin text-muted-foreground"})}):n.length===0?i.jsx("div",{className:"rounded-lg border border-dashed p-4 text-center text-sm text-muted-foreground",children:"Zatim zadna videa. Pridejte prvni video pro tuto lekci."}):i.jsx("div",{className:"space-y-2",children:n.map(I=>i.jsx(Re,{className:"cursor-pointer transition-colors hover:bg-muted/30",onClick:()=>T(I),children:i.jsxs(Oe,{className:"flex items-center gap-3 p-3",children:[I.thumbnail_url?i.jsx("img",{src:I.thumbnail_url,alt:I.title,className:"size-12 rounded object-cover"}):i.jsx("div",{className:"flex size-12 items-center justify-center rounded bg-muted",children:i.jsx(koe,{className:"size-5 text-muted-foreground"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium truncate",children:I.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-muted-foreground",children:[i.jsx($e,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:I.video_provider==="storage"?"Nahrano":I.video_provider}),I.duration_seconds>0&&i.jsx("span",{children:AN(I.duration_seconds)}),i.jsx("span",{children:I.resolution}),I.file_size_bytes>0&&i.jsxs("span",{className:"flex items-center gap-0.5",children:[i.jsx(D3,{className:"size-2.5"}),Z0(I.file_size_bytes)]}),I.upload_status==="completed"&&I.video_provider==="storage"&&i.jsx(Bs,{className:"size-3 text-green-500"}),I.upload_status==="failed"&&i.jsx(Uie,{className:"size-3 text-red-500"}),I.is_preview&&i.jsx($e,{className:"bg-green-100 text-green-700 text-[10px] px-1.5 py-0 dark:bg-green-900/40 dark:text-green-400",children:"Nahled"})]})]}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-7 text-red-500 hover:text-red-600",onClick:G=>{G.stopPropagation(),q(I)},children:i.jsx(cr,{className:"size-3.5"})})]})},I.id))}),i.jsx(Za,{open:o,onOpenChange:I=>{S||l(I)},children:i.jsxs(ha,{className:"max-h-[90vh] overflow-y-auto sm:max-w-xl",children:[i.jsx(fa,{children:i.jsx(ma,{children:f?"Upravit video":"Pridat video"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Zdroj videa"}),i.jsxs(As,{value:g.video_provider,onValueChange:V,children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsx(js,{children:DDe.map(I=>i.jsx(bt,{value:I.value,children:I.label},I.value))})]})]}),g.video_provider==="storage"?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"relative flex flex-col items-center justify-center gap-2 rounded-lg border-2 border-dashed p-6 transition-colors hover:border-primary/40 hover:bg-muted/30 cursor-pointer",onClick:()=>{var I;return(I=E.current)==null?void 0:I.click()},children:[i.jsx(tce,{className:"size-8 text-muted-foreground"}),b?i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-medium",children:b.name}),i.jsx("p",{className:"text-xs text-muted-foreground",children:Z0(b.size)})]}):g.storage_path?i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-medium text-green-600",children:"Video nahrano"}),i.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[300px]",children:g.storage_path.split("/").pop()})]}):i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-sm font-medium",children:"Kliknte pro vyber souboru"}),i.jsx("p",{className:"text-xs text-muted-foreground",children:"MP4, WebM, MOV, AVI (max 5 GB)"})]}),i.jsx("input",{ref:E,type:"file",accept:"video/mp4,video/webm,video/quicktime,video/x-msvideo,video/x-matroska",className:"hidden",onChange:A})]}),S&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[i.jsx("span",{children:"Nahravani..."}),i.jsxs("span",{className:"tabular-nums",children:[j,"%"]})]}),i.jsx(Fi,{value:j,className:"h-2"})]})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsxs(Ve,{className:"flex items-center gap-1.5",children:[i.jsx(eoe,{className:"size-3.5"}),"URL videa"]}),i.jsx(Pe,{value:g.video_url,onChange:I=>F(I.target.value),placeholder:g.video_provider==="youtube"?"https://youtube.com/watch?v=...":g.video_provider==="vimeo"?"https://vimeo.com/...":"https://..."}),g.video_external_id&&i.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",g.video_external_id]})]}),ee&&i.jsx("div",{className:"aspect-video overflow-hidden rounded-lg border",children:i.jsx("iframe",{src:ee,title:g.title,className:"h-full w-full",allowFullScreen:!0})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Nazev videa"}),i.jsx(Pe,{value:g.title,onChange:I=>x({...g,title:I.target.value}),placeholder:"Nazev videa"})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Delka (sekundy)"}),i.jsx(Pe,{type:"number",value:g.duration_seconds,onChange:I=>x({...g,duration_seconds:Number(I.target.value)||0}),min:0}),g.duration_seconds>0&&i.jsx("p",{className:"text-xs text-muted-foreground",children:AN(g.duration_seconds)})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Rozliseni"}),i.jsxs(As,{value:g.resolution,onValueChange:I=>x({...g,resolution:I}),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsx(js,{children:PDe.map(I=>i.jsx(bt,{value:I,children:I},I))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Poradi"}),i.jsx(Pe,{type:"number",value:g.order_index,onChange:I=>x({...g,order_index:Number(I.target.value)||0}),min:0})]})]}),g.file_size_bytes>0&&i.jsxs("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[i.jsx(D3,{className:"size-3"}),"Velikost: ",Z0(g.file_size_bytes)]}),i.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[i.jsx("input",{type:"checkbox",checked:g.is_preview,onChange:I=>x({...g,is_preview:I.target.checked}),className:"rounded"}),"Dostupne jako nahled zdarma"]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[i.jsx(X,{variant:"outline",onClick:()=>l(!1),disabled:S,children:"Zrusit"}),i.jsxs(X,{onClick:$,disabled:u||S,children:[(u||S)&&i.jsx(Bl,{className:"mr-2 size-4 animate-spin"}),S?"Nahravani...":f?"Ulozit":"Nahrat a ulozit"]})]})]})]})})]})}function $De(){return`temp-${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function VDe({lessons:e,onChange:t,courseId:n}){const[s,r]=v.useState(null),a=()=>{const d={id:$De(),title:"",description:"",video_url:"",duration:0,order_index:e.length,content:{html:"",blocks:[]}};t([...e,d]),r(d.id)},o=(d,f)=>{t(e.map(m=>m.id===d?{...m,...f}:m))},l=d=>{t(e.filter(f=>f.id!==d)),s===d&&r(null)},u=(d,f)=>{const m=f==="up"?d-1:d+1;if(m<0||m>=e.length)return;const g=[...e],x=g[d];g[d]=g[m],g[m]=x,g.forEach((b,w)=>{b.order_index=w}),t(g)};return i.jsxs("div",{className:"space-y-3",children:[e.map((d,f)=>{const m=s===d.id;return i.jsxs(Re,{children:[i.jsxs("div",{className:"flex cursor-pointer items-center gap-3 p-4",onClick:()=>r(m?null:d.id),children:[i.jsxs("div",{className:"flex flex-col gap-0.5",children:[i.jsx(X,{variant:"ghost",size:"icon",className:"size-5",disabled:f===0,onClick:g=>{g.stopPropagation(),u(f,"up")},children:i.jsx(bu,{className:"size-3"})}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-5",disabled:f===e.length-1,onClick:g=>{g.stopPropagation(),u(f,"down")},children:i.jsx(dr,{className:"size-3"})})]}),i.jsx(H_,{className:"size-4 text-muted-foreground"}),i.jsx("span",{className:"flex size-7 items-center justify-center rounded-full bg-primary/10 text-xs font-semibold",children:f+1}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:d.title||"Nova lekce"}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[d.duration>0&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(cn,{className:"size-3"}),d.duration," min"]}),d.video_url&&i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ou,{className:"size-3"}),"Video"]})]})]}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-8 text-red-500 hover:text-red-600",onClick:g=>{g.stopPropagation(),l(d.id)},children:i.jsx(cr,{className:"size-4"})}),m?i.jsx(bu,{className:"size-4"}):i.jsx(dr,{className:"size-4"})]}),m&&i.jsxs(Oe,{className:"space-y-4 border-t pt-4",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[i.jsx(Ve,{children:"Nazev lekce"}),i.jsx(Pe,{value:d.title,onChange:g=>o(d.id,{title:g.target.value}),placeholder:"Nazev lekce"})]}),i.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[i.jsx(Ve,{children:"Popis"}),i.jsx(Nr,{value:d.description,onChange:g=>o(d.id,{description:g.target.value}),placeholder:"Kratky popis lekce",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"URL videa"}),i.jsx(Pe,{value:d.video_url,onChange:g=>o(d.id,{video_url:g.target.value}),placeholder:"https://youtube.com/watch?v=..."})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Delka (minuty)"}),i.jsx(Pe,{type:"number",value:d.duration,onChange:g=>o(d.id,{duration:Number(g.target.value)||0}),min:0})]})]}),i.jsx(LDe,{lessonId:d.id,courseId:n||""}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{className:"text-sm font-semibold",children:"Obsah lekce"}),i.jsxs(ya,{defaultValue:"wysiwyg",className:"w-full",children:[i.jsxs(Hi,{className:"grid w-full grid-cols-2",children:[i.jsx(kn,{value:"wysiwyg",children:"Vizualni editor"}),i.jsx(kn,{value:"blocks",children:"Bloky obsahu"})]}),i.jsx(In,{value:"wysiwyg",className:"mt-4",children:i.jsx(Yq,{content:d.content.html,onChange:g=>o(d.id,{content:{...d.content,html:g}})})}),i.jsx(In,{value:"blocks",className:"mt-4",children:i.jsx(bZ,{blocks:d.content.blocks,onChange:g=>o(d.id,{content:{...d.content,blocks:g}})})})]})]})]})]},d.id)}),i.jsxs(X,{variant:"outline",className:"w-full",onClick:a,children:[i.jsx(ds,{className:"mr-2 size-4"}),"Pridat lekci"]}),e.length===0&&i.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"Zatim zadne lekce. Pridejte prvni lekci pro tento kurz."})]})}const BDe={single_choice:"Jedna spravna",multiple_choice:"Vice spravnych",true_false:"Pravda / Nepravda"},FDe={single_choice:Kie,multiple_choice:gle,true_false:XL};function Fc(){return`temp-${Date.now()}-${Math.random().toString(36).slice(2,8)}`}function UDe({quizzes:e,onChange:t,lessons:n}){const[s,r]=v.useState(null),[a,o]=v.useState(null),l=()=>{const k={id:Fc(),title:"",description:"",lesson_id:null,order_index:e.length,questions:[]};t([...e,k]),r(k.id)},u=(k,S)=>{t(e.map(C=>C.id===k?{...C,...S}:C))},d=k=>{t(e.filter(S=>S.id!==k)),s===k&&r(null)},f=k=>{const S=e.find(E=>E.id===k);if(!S)return;const C={id:Fc(),question_text:"",question_type:"single_choice",explanation:"",order_index:S.questions.length,options:[{id:Fc(),option_text:"",is_correct:!0,order_index:0},{id:Fc(),option_text:"",is_correct:!1,order_index:1}]};u(k,{questions:[...S.questions,C]}),o(C.id)},m=(k,S,C)=>{const E=e.find(z=>z.id===k);E&&u(k,{questions:E.questions.map(z=>z.id===S?{...z,...C}:z)})},g=(k,S)=>{const C=e.find(E=>E.id===k);C&&u(k,{questions:C.questions.filter(E=>E.id!==S)})},x=(k,S)=>{const C=e.find(R=>R.id===k);if(!C)return;const E=C.questions.find(R=>R.id===S);if(!E)return;const z={id:Fc(),option_text:"",is_correct:!1,order_index:E.options.length};m(k,S,{options:[...E.options,z]})},b=(k,S,C,E)=>{const z=e.find(A=>A.id===k);if(!z)return;const R=z.questions.find(A=>A.id===S);if(!R)return;let T=R.options.map(A=>A.id===C?{...A,...E}:A);E.is_correct&&R.question_type==="single_choice"&&(T=T.map(A=>A.id===C?A:{...A,is_correct:!1})),m(k,S,{options:T})},w=(k,S,C)=>{const E=e.find(R=>R.id===k);if(!E)return;const z=E.questions.find(R=>R.id===S);z&&m(k,S,{options:z.options.filter(R=>R.id!==C)})},j=(k,S,C)=>{const E=e.find(T=>T.id===k);if(!E)return;const z=E.questions.find(T=>T.id===S);if(!z)return;let R=z.options;C==="true_false"&&(R=[{id:Fc(),option_text:"Pravda",is_correct:!0,order_index:0},{id:Fc(),option_text:"Nepravda",is_correct:!1,order_index:1}]),m(k,S,{question_type:C,options:R})};return i.jsxs("div",{className:"space-y-4",children:[e.map(k=>{var C;const S=s===k.id;return i.jsxs(Re,{children:[i.jsxs("div",{className:"flex cursor-pointer items-center gap-3 p-4",onClick:()=>r(S?null:k.id),children:[i.jsx(H_,{className:"size-4 text-muted-foreground"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium",children:k.title||"Novy kviz"}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:[k.questions.length," otazek",k.lesson_id&&n.find(E=>E.id===k.lesson_id)?` | Lekce: ${(C=n.find(E=>E.id===k.lesson_id))==null?void 0:C.title}`:" | Kviz kurzu"]})]}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-8 text-red-500 hover:text-red-600",onClick:E=>{E.stopPropagation(),d(k.id)},children:i.jsx(cr,{className:"size-4"})}),S?i.jsx(bu,{className:"size-4"}):i.jsx(dr,{className:"size-4"})]}),S&&i.jsxs(Oe,{className:"space-y-4 border-t pt-4",children:[i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Nazev kvizu"}),i.jsx(Pe,{value:k.title,onChange:E=>u(k.id,{title:E.target.value}),placeholder:"Nazev kvizu"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Prirazena lekce"}),i.jsxs(As,{value:k.lesson_id||"course",onValueChange:E=>u(k.id,{lesson_id:E==="course"?null:E}),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"course",children:"Kviz kurzu (zadna lekce)"}),n.map(E=>i.jsx(bt,{value:E.id,children:E.title},E.id))]})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Popis"}),i.jsx(Nr,{value:k.description,onChange:E=>u(k.id,{description:E.target.value}),placeholder:"Popis kvizu",rows:2})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ve,{className:"text-sm font-semibold",children:"Otazky"}),i.jsxs(X,{variant:"outline",size:"sm",onClick:()=>f(k.id),children:[i.jsx(ds,{className:"mr-1 size-3"}),"Pridat otazku"]})]}),k.questions.map((E,z)=>{const R=a===E.id,T=FDe[E.question_type];return i.jsxs("div",{className:"rounded-lg border bg-muted/30",children:[i.jsxs("div",{className:"flex cursor-pointer items-center gap-2 p-3",onClick:()=>o(R?null:E.id),children:[i.jsx("span",{className:"flex size-6 items-center justify-center rounded-full bg-primary/10 text-xs font-medium",children:z+1}),i.jsx(T,{className:"size-3.5 text-muted-foreground"}),i.jsx("span",{className:"flex-1 truncate text-sm",children:E.question_text||"Nova otazka"}),i.jsx($e,{variant:"outline",className:"text-[10px]",children:BDe[E.question_type]}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-6 text-red-500",onClick:A=>{A.stopPropagation(),g(k.id,E.id)},children:i.jsx(cr,{className:"size-3"})}),R?i.jsx(bu,{className:"size-3.5"}):i.jsx(dr,{className:"size-3.5"})]}),R&&i.jsxs("div",{className:"space-y-3 border-t p-3",children:[i.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[i.jsx(Ve,{children:"Text otazky"}),i.jsx(Nr,{value:E.question_text,onChange:A=>m(k.id,E.id,{question_text:A.target.value}),placeholder:"Zadejte otazku",rows:2})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Typ otazky"}),i.jsxs(As,{value:E.question_type,onValueChange:A=>j(k.id,E.id,A),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"single_choice",children:"Jedna spravna odpoved"}),i.jsx(bt,{value:"multiple_choice",children:"Vice spravnych odpovedi"}),i.jsx(bt,{value:"true_false",children:"Pravda / Nepravda"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Vysvetleni (po odpovedi)"}),i.jsx(Pe,{value:E.explanation,onChange:A=>m(k.id,E.id,{explanation:A.target.value}),placeholder:"Vysvetleni spravne odpovedi"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{className:"text-xs",children:"Moznosti odpovedi"}),E.options.map(A=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Cg,{checked:A.is_correct,onCheckedChange:D=>b(k.id,E.id,A.id,{is_correct:!!D})}),i.jsx(Pe,{value:A.option_text,onChange:D=>b(k.id,E.id,A.id,{option_text:D.target.value}),placeholder:"Text moznosti",className:"flex-1",disabled:E.question_type==="true_false"}),A.is_correct&&i.jsx($e,{variant:"outline",className:"shrink-0 border-emerald-300 bg-emerald-50 text-[10px] text-emerald-700 dark:border-emerald-700 dark:bg-emerald-950 dark:text-emerald-300",children:"Spravna"}),E.question_type!=="true_false"&&i.jsx(X,{variant:"ghost",size:"icon",className:"size-7 text-red-500",onClick:()=>w(k.id,E.id,A.id),children:i.jsx(cr,{className:"size-3"})})]},A.id)),E.question_type!=="true_false"&&i.jsxs(X,{variant:"ghost",size:"sm",className:"mt-1",onClick:()=>x(k.id,E.id),children:[i.jsx(ds,{className:"mr-1 size-3"}),"Pridat moznost"]})]})]})]},E.id)}),k.questions.length===0&&i.jsx("p",{className:"py-4 text-center text-sm text-muted-foreground",children:"Zatim zadne otazky. Pridejte prvni otazku."})]})]})]},k.id)}),i.jsxs(X,{variant:"outline",className:"w-full",onClick:l,children:[i.jsx(ds,{className:"mr-2 size-4"}),"Pridat kviz"]}),e.length===0&&i.jsx("div",{className:"py-8 text-center text-sm text-muted-foreground",children:"Zatim zadne kvizy. Pridejte prvni kviz pro tento kurz."})]})}const HDe={title:"",description:"",instructor:"",thumbnail_url:"",category:"general",level:"beginner",duration:0,price:0,published:!1,package_id:null,order_index:0};function qDe(){const{id:e}=ic(),t=Yt(),n=e&&e!=="new",[s,r]=v.useState(!1),[a,o]=v.useState(!1),[l,u]=v.useState(HDe),[d,f]=v.useState([]),[m,g]=v.useState([]),[x,b]=v.useState([]),w=v.useCallback(async()=>{const{data:T}=await de.from("course_packages").select("id, title").order("order_index");b(T??[])},[]),j=v.useCallback(async()=>{if(n){r(!0);try{const{data:T,error:A}=await de.from("courses").select("*").eq("id",e).maybeSingle();if(A)throw A;if(!T){Te.error("Kurz nenalezen"),t("/admin/courses");return}u({title:T.title,description:T.description||"",instructor:T.instructor||"",thumbnail_url:T.thumbnail_url||"",category:T.category||"general",level:T.level||"beginner",duration:T.duration||0,price:Number(T.price)||0,published:T.published??!1,package_id:T.package_id||null,order_index:T.order_index||0});const{data:D}=await de.from("course_lessons").select("*").eq("course_id",e).order("order_index");D&&f(D.map(V=>({id:V.id,title:V.title,description:V.description||"",video_url:V.video_url||"",duration:V.duration||0,order_index:V.order_index||0,content:V.content&&typeof V.content=="object"?{html:V.content.html||"",blocks:V.content.blocks||[]}:{html:"",blocks:[]}})));const{data:F}=await de.from("course_quizzes").select("*").eq("course_id",e).order("order_index");if(F&&F.length>0){const V=F.map(L=>L.id),{data:$}=await de.from("course_quiz_questions").select("*").in("quiz_id",V).order("order_index"),q=($||[]).map(L=>L.id);let K=[];if(q.length>0){const{data:L}=await de.from("course_quiz_options").select("*").in("question_id",q).order("order_index");K=L||[]}const ee=F.map(L=>{const P=($||[]).filter(I=>I.quiz_id===L.id).map(I=>({id:I.id,question_text:I.question_text,question_type:I.question_type,explanation:I.explanation||"",order_index:I.order_index,options:K.filter(G=>G.question_id===I.id).map(G=>({id:G.id,option_text:G.option_text,is_correct:G.is_correct,order_index:G.order_index}))}));return{id:L.id,title:L.title,description:L.description||"",lesson_id:L.lesson_id||null,order_index:L.order_index,questions:P}});g(ee)}}catch(T){console.error("Error fetching course:",T),Te.error("Nepodarilo se nacist kurz")}finally{r(!1)}}},[e,n,t]);v.useEffect(()=>{w(),j()},[w,j]);const k=async T=>{if(!l.title.trim()){Te.error("Zadejte nazev kurzu");return}o(!0);try{const A=d.reduce((V,$)=>V+$.duration,0),D={title:l.title,description:l.description,instructor:l.instructor,thumbnail_url:l.thumbnail_url,category:l.category,level:l.level,duration:A,price:l.price,published:T!==void 0?T:l.published,package_id:l.package_id,order_index:l.order_index,lessons_count:d.length,updated_at:new Date().toISOString()};let F=e;if(n){const{error:V}=await de.from("courses").update(D).eq("id",e);if(V)throw V}else{const{data:V,error:$}=await de.from("courses").insert([D]).select().single();if($)throw $;F=V.id}await S(F),await C(F),Te.success(n?"Kurz uspesne aktualizovan":"Kurz uspesne vytvoren"),!n&&F&&t(`/admin/courses/${F}`,{replace:!0})}catch(A){console.error("Error saving course:",A),Te.error("Nepodarilo se ulozit kurz")}finally{o(!1)}},S=async T=>{if(n){const{data:A}=await de.from("course_lessons").select("id").eq("course_id",T),D=(A||[]).map($=>$.id),F=d.filter($=>!$.id.startsWith("temp-")).map($=>$.id),V=D.filter($=>!F.includes($));V.length>0&&await de.from("course_lessons").delete().in("id",V)}for(const A of d){const D=A.content.blocks.length>0?{html:aU(A.content.blocks),blocks:A.content.blocks}:{html:A.content.html,blocks:[]},F={course_id:T,title:A.title,description:A.description,video_url:A.video_url,duration:A.duration,order_index:A.order_index,content:D,updated_at:new Date().toISOString()};if(A.id.startsWith("temp-")){const{data:V}=await de.from("course_lessons").insert([F]).select().single();V&&(A.id=V.id)}else await de.from("course_lessons").update(F).eq("id",A.id)}},C=async T=>{if(n){const{data:A}=await de.from("course_quizzes").select("id").eq("course_id",T),D=(A||[]).map($=>$.id),F=m.filter($=>!$.id.startsWith("temp-")).map($=>$.id),V=D.filter($=>!F.includes($));V.length>0&&await de.from("course_quizzes").delete().in("id",V)}for(const A of m){const D=A.lesson_id&&d.some($=>$.id===A.lesson_id),F={course_id:T,title:A.title,description:A.description,lesson_id:D?A.lesson_id:null,order_index:A.order_index,updated_at:new Date().toISOString()};let V=A.id;if(A.id.startsWith("temp-")){const{data:$}=await de.from("course_quizzes").insert([F]).select().single();$&&(V=$.id)}else await de.from("course_quizzes").update(F).eq("id",A.id);await E(V,A.questions)}},E=async(T,A)=>{const{data:D}=await de.from("course_quiz_questions").select("id").eq("quiz_id",T),F=(D||[]).map(q=>q.id),V=A.filter(q=>!q.id.startsWith("temp-")).map(q=>q.id),$=F.filter(q=>!V.includes(q));$.length>0&&await de.from("course_quiz_questions").delete().in("id",$);for(const q of A){const K={quiz_id:T,question_text:q.question_text,question_type:q.question_type,explanation:q.explanation,order_index:q.order_index};let ee=q.id;if(q.id.startsWith("temp-")){const{data:L}=await de.from("course_quiz_questions").insert([K]).select().single();L&&(ee=L.id)}else await de.from("course_quiz_questions").update(K).eq("id",q.id);await z(ee,q.options)}},z=async(T,A)=>{const{data:D}=await de.from("course_quiz_options").select("id").eq("question_id",T),F=(D||[]).map(q=>q.id),V=A.filter(q=>!q.id.startsWith("temp-")).map(q=>q.id),$=F.filter(q=>!V.includes(q));$.length>0&&await de.from("course_quiz_options").delete().in("id",$);for(const q of A){const K={question_id:T,option_text:q.option_text,is_correct:q.is_correct,order_index:q.order_index};q.id.startsWith("temp-")?await de.from("course_quiz_options").insert([K]):await de.from("course_quiz_options").update(K).eq("id",q.id)}},R=async()=>{if(n&&confirm("Opravdu chcete smazat tento kurz? Tato akce je nevratna.")){o(!0);try{const{error:T}=await de.from("courses").delete().eq("id",e);if(T)throw T;Te.success("Kurz smazan"),t("/admin/courses")}catch{Te.error("Nepodarilo se smazat kurz")}finally{o(!1)}}};return s?i.jsx("div",{className:"flex h-96 items-center justify-center",children:i.jsx(Bl,{className:"size-8 animate-spin text-muted-foreground"})}):i.jsxs(qo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(X,{variant:"ghost",size:"icon",onClick:()=>t("/admin/courses"),children:i.jsx($o,{className:"size-5"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:n?"Upravit kurz":"Novy kurz"}),i.jsx("p",{className:"text-muted-foreground",children:n?"Aktualizujte obsah a nastaveni kurzu":"Vytvorte novy kurz s lekcemi a kvizy"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[n&&i.jsx(X,{variant:"outline",className:"text-red-500 hover:text-red-600",onClick:R,disabled:a,children:"Smazat kurz"}),i.jsxs(X,{variant:"outline",onClick:()=>k(!1),disabled:a,children:[a&&i.jsx(Bl,{className:"mr-2 size-4 animate-spin"}),i.jsx(KL,{className:"mr-2 size-4"}),"Ulozit koncept"]}),i.jsxs(X,{onClick:()=>k(!0),disabled:a,children:[a&&i.jsx(Bl,{className:"mr-2 size-4 animate-spin"}),i.jsx(Li,{className:"mr-2 size-4"}),"Publikovat"]})]})]}),i.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[i.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Zakladni informace"}),i.jsx(Xt,{children:"Nazev a popis kurzu"})]}),i.jsxs(Oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Nazev kurzu"}),i.jsx(Pe,{value:l.title,onChange:T=>u({...l,title:T.target.value}),placeholder:"Zadejte nazev kurzu",className:"text-lg font-semibold"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Popis"}),i.jsx(Nr,{value:l.description,onChange:T=>u({...l,description:T.target.value}),placeholder:"Popis kurzu",rows:4})]})]})]}),i.jsxs(ya,{defaultValue:"lessons",className:"w-full",children:[i.jsxs(Hi,{className:"grid w-full grid-cols-2",children:[i.jsxs(kn,{value:"lessons",children:["Lekce (",d.length,")"]}),i.jsxs(kn,{value:"quizzes",children:["Kvizy (",m.length,")"]})]}),i.jsx(In,{value:"lessons",className:"mt-6",children:i.jsx(VDe,{lessons:d,onChange:f,courseId:e})}),i.jsx(In,{value:"quizzes",className:"mt-6",children:i.jsx(UDe,{quizzes:m,onChange:g,lessons:d.map(T=>({id:T.id,title:T.title||"Bez nazvu"}))})})]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsx(ne.div,{initial:{opacity:0,x:12},animate:{opacity:1,x:0},transition:{delay:.15},children:i.jsxs(Re,{children:[i.jsxs(Je,{children:[i.jsx(Qe,{children:"Nastaveni"}),i.jsx(Xt,{children:"Konfigurace kurzu"})]}),i.jsxs(Oe,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Stav"}),i.jsxs(As,{value:l.published?"published":"draft",onValueChange:T=>u({...l,published:T==="published"}),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"draft",children:"Koncept"}),i.jsx(bt,{value:"published",children:"Publikovano"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Balicek"}),i.jsxs(As,{value:l.package_id||"none",onValueChange:T=>u({...l,package_id:T==="none"?null:T}),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"none",children:"Bez balicku"}),x.map(T=>i.jsx(bt,{value:T.id,children:T.title},T.id))]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Lektor"}),i.jsx(Pe,{value:l.instructor,onChange:T=>u({...l,instructor:T.target.value}),placeholder:"Jmeno lektora"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Kategorie"}),i.jsx(Pe,{value:l.category,onChange:T=>u({...l,category:T.target.value}),placeholder:"Kategorie kurzu"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Uroven"}),i.jsxs(As,{value:l.level,onValueChange:T=>u({...l,level:T}),children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"beginner",children:"Zacatecnik"}),i.jsx(bt,{value:"intermediate",children:"Pokrocily"}),i.jsx(bt,{value:"advanced",children:"Expert"})]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Cena (CZK)"}),i.jsx(Pe,{type:"number",value:l.price,onChange:T=>u({...l,price:Number(T.target.value)||0}),min:0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Ve,{children:"Poradi"}),i.jsx(Pe,{type:"number",value:l.order_index,onChange:T=>u({...l,order_index:Number(T.target.value)||0}),min:0})]})]})]})}),i.jsx(ne.div,{initial:{opacity:0,x:12},animate:{opacity:1,x:0},transition:{delay:.25},children:i.jsxs(Re,{children:[i.jsx(Je,{children:i.jsx(Qe,{children:"Nahledovy obrazek"})}),i.jsxs(Oe,{className:"space-y-3",children:[i.jsx(Pe,{value:l.thumbnail_url,onChange:T=>u({...l,thumbnail_url:T.target.value}),placeholder:"https://example.com/obrazek.jpg"}),l.thumbnail_url&&i.jsx("img",{src:l.thumbnail_url,alt:"Nahled",className:"w-full rounded-lg border object-cover"})]})]})})]})]})]})}const bm=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function ZDe(){const[e,t]=v.useState([]),[n,s]=v.useState([]),[r,a]=v.useState([]),[o,l]=v.useState([]),[u,d]=v.useState(!0),[f,m]=v.useState(""),[g,x]=v.useState("purchases");v.useEffect(()=>{(async()=>{const[{data:A},{data:D},{data:F},{data:V}]=await Promise.all([de.from("course_purchases").select("id, user_id, course_id, amount_paid, purchased_at, stripe_payment_intent_id").order("purchased_at",{ascending:!1}),de.from("orders").select("id, user_id, status, total, stripe_payment_intent_id, created_at").order("created_at",{ascending:!1}),de.from("profiles").select("id, email, full_name"),de.from("courses").select("id, title")]);t(A??[]),s(D??[]),a(F??[]),l(V??[]),d(!1)})()},[]);const b=new Map;for(const T of r)b.set(T.id,T);const w=new Map;for(const T of o)w.set(T.id,T.title);const j=T=>b.get(T)??null,k=T=>w.get(T)??"-",S=e.filter(T=>{var F,V,$;const A=f.toLowerCase(),D=j(T.user_id);return((F=D==null?void 0:D.email)==null?void 0:F.toLowerCase().includes(A))||((V=D==null?void 0:D.full_name)==null?void 0:V.toLowerCase().includes(A))||k(T.course_id).toLowerCase().includes(A)||(($=T.stripe_payment_intent_id)==null?void 0:$.toLowerCase().includes(A))}),C=n.filter(T=>{var F,V,$;const A=f.toLowerCase(),D=j(T.user_id);return((F=D==null?void 0:D.email)==null?void 0:F.toLowerCase().includes(A))||((V=D==null?void 0:D.full_name)==null?void 0:V.toLowerCase().includes(A))||T.id.toLowerCase().includes(A)||(($=T.stripe_payment_intent_id)==null?void 0:$.toLowerCase().includes(A))}),E=e.reduce((T,A)=>T+Number(A.amount_paid||0),0),z=n.reduce((T,A)=>T+Number(A.total||0),0),R=T=>{const A={pending:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-400",paid:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",completed:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",cancelled:"bg-red-100 text-red-700 dark:bg-red-900/40 dark:text-red-400",refunded:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400"};return i.jsx($e,{className:A[T]||"",children:T})};return u?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(qo,{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Faktury a platby"}),i.jsx("p",{className:"mt-1 text-sm text-neutral-500",children:"Prehled vsech plateb a objednavek"})]}),i.jsxs(Oh,{className:"grid gap-4 sm:grid-cols-3",children:[i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{children:i.jsxs(Oe,{className:"pt-6",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Prijmy z kurzu"}),i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:bm(E)}),i.jsxs("p",{className:"mt-1 text-xs text-neutral-400",children:[e.length," transakci"]})]})})})}),i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{children:i.jsxs(Oe,{className:"pt-6",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Prijmy z objednavek"}),i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:bm(z)}),i.jsxs("p",{className:"mt-1 text-xs text-neutral-400",children:[n.length," objednavek"]})]})})})}),i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{children:i.jsxs(Oe,{className:"pt-6",children:[i.jsx("p",{className:"text-xs text-neutral-500",children:"Celkove prijmy"}),i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:bm(E+z)}),i.jsxs("p",{className:"mt-1 text-xs text-neutral-400",children:[e.length+n.length," celkem"]})]})})})})]}),i.jsx(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},children:i.jsxs("div",{className:"relative max-w-sm",children:[i.jsx(Ya,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Pe,{placeholder:"Hledat podle emailu, kurzu nebo ID platby...",value:f,onChange:T=>m(T.target.value),className:"pl-9"})]})}),i.jsx(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsxs(ya,{value:g,onValueChange:x,children:[i.jsxs(Hi,{children:[i.jsxs(kn,{value:"purchases",children:["Nakupy kurzu (",e.length,")"]}),i.jsxs(kn,{value:"orders",children:["Objednavky (",n.length,")"]})]}),i.jsx(In,{value:"purchases",className:"mt-4",children:i.jsx(Re,{children:i.jsx(Oe,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Uzivatel"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Kurz"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Castka"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Datum"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Stripe ID"})]})}),i.jsxs("tbody",{children:[S.map(T=>{var A,D,F,V;return i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:((A=j(T.user_id))==null?void 0:A.full_name)||((F=(D=j(T.user_id))==null?void 0:D.email)==null?void 0:F.split("@")[0])||"-"}),i.jsx("p",{className:"text-xs text-neutral-500",children:(V=j(T.user_id))==null?void 0:V.email})]})}),i.jsx("td",{className:"px-4 py-3 text-neutral-700 dark:text-neutral-300",children:k(T.course_id)}),i.jsx("td",{className:"px-4 py-3 font-medium",children:bm(Number(T.amount_paid))}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:new Date(T.purchased_at).toLocaleDateString("cs-CZ")}),i.jsx("td",{className:"px-4 py-3",children:T.stripe_payment_intent_id?i.jsxs("code",{className:"rounded bg-neutral-100 px-1.5 py-0.5 text-xs dark:bg-neutral-800",children:[T.stripe_payment_intent_id.slice(0,20),"..."]}):i.jsx("span",{className:"text-neutral-400",children:"-"})})]},T.id)}),S.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-neutral-500",children:"Zadne nakupy nenalezeny"})})]})]})})})})}),i.jsx(In,{value:"orders",className:"mt-4",children:i.jsx(Re,{children:i.jsx(Oe,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Uzivatel"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Celkem"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Datum"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Stripe ID"})]})}),i.jsxs("tbody",{children:[C.map(T=>{var A,D,F,V;return i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:((A=j(T.user_id))==null?void 0:A.full_name)||((F=(D=j(T.user_id))==null?void 0:D.email)==null?void 0:F.split("@")[0])||"-"}),i.jsx("p",{className:"text-xs text-neutral-500",children:(V=j(T.user_id))==null?void 0:V.email})]})}),i.jsx("td",{className:"px-4 py-3",children:R(T.status)}),i.jsx("td",{className:"px-4 py-3 font-medium",children:bm(Number(T.total))}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:new Date(T.created_at).toLocaleDateString("cs-CZ")}),i.jsx("td",{className:"px-4 py-3",children:T.stripe_payment_intent_id?i.jsxs("code",{className:"rounded bg-neutral-100 px-1.5 py-0.5 text-xs dark:bg-neutral-800",children:[T.stripe_payment_intent_id.slice(0,20),"..."]}):i.jsx("span",{className:"text-neutral-400",children:"-"})})]},T.id)}),C.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-neutral-500",children:"Zadne objednavky nenalezeny"})})]})]})})})})})]})})]})}const MN={active:{label:"Aktivni",color:"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400",icon:Bs},trialing:{label:"Zkusebni",color:"bg-blue-100 text-blue-700 dark:bg-blue-900/40 dark:text-blue-400",icon:cn},cancelled:{label:"Zruseno",color:"bg-amber-100 text-amber-700 dark:bg-amber-900/40 dark:text-amber-400",icon:Z_},expired:{label:"Vyprselo",color:"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",icon:Xie}},WDe={free_trial:"Zkusebni",monthly:"Mesicni",lifetime:"Dozivotni"};function KDe(){const[e,t]=v.useState([]),[n,s]=v.useState([]),[r,a]=v.useState(!0),[o,l]=v.useState(""),[u,d]=v.useState("all"),[f,m]=v.useState("created_at"),[g,x]=v.useState("desc"),[b,w]=v.useState(!1),[j,k]=v.useState(""),[S,C]=v.useState("monthly"),[E,z]=v.useState(!1),R=new Map;for(const L of n)R.set(L.id,L);const T=L=>R.get(L)??null,A=v.useCallback(async()=>{const[{data:L},{data:P}]=await Promise.all([de.from("subscriptions").select("*").order("created_at",{ascending:!1}),de.from("profiles").select("id, email, full_name")]);t(L??[]),s(P??[]),a(!1)},[]);v.useEffect(()=>{A()},[A]);const D=async(L,P)=>{var U;const I={status:P,updated_at:new Date().toISOString()};P==="cancelled"&&(I.cancel_at_period_end=!0),P==="active"&&(I.cancel_at_period_end=!1);const{error:G}=await de.from("subscriptions").update(I).eq("id",L.id);if(G){Te.error("Chyba pri aktualizaci predplatneho");return}Te.success(`Status zmenen na: ${((U=MN[P])==null?void 0:U.label)||P}`),t(M=>M.map(H=>H.id===L.id?{...H,status:P,...I}:H))},F=async()=>{if(!j||!S)return;z(!0);const L=e.find(P=>P.user_id===j);if(L){const{error:P}=await de.from("subscriptions").update({plan_type:S,status:"active",cancel_at_period_end:!1,current_period_start:new Date().toISOString(),current_period_end:S==="lifetime"?null:new Date(Date.now()+2592e6).toISOString(),updated_at:new Date().toISOString()}).eq("id",L.id);if(P){Te.error("Chyba pri aktualizaci predplatneho"),z(!1);return}}else{const{error:P}=await de.from("subscriptions").insert({user_id:j,plan_type:S,status:"active",current_period_start:new Date().toISOString(),current_period_end:S==="lifetime"?null:new Date(Date.now()+2592e6).toISOString()});if(P){Te.error("Chyba pri udeleni predplatneho"),z(!1);return}}Te.success("Predplatne udeleno"),w(!1),k(""),C("monthly"),z(!1),A()},V=e.filter(L=>{var M,H;const P=o.toLowerCase(),I=T(L.user_id),G=((M=I==null?void 0:I.email)==null?void 0:M.toLowerCase().includes(P))||((H=I==null?void 0:I.full_name)==null?void 0:H.toLowerCase().includes(P))||L.plan_type.toLowerCase().includes(P),U=u==="all"||L.status===u;return G&&U}).sort((L,P)=>{const I=f==="status"?L.status:L.created_at,G=f==="status"?P.status:P.created_at;return g==="asc"?I.localeCompare(G):G.localeCompare(I)}),$={active:e.filter(L=>L.status==="active").length,trialing:e.filter(L=>L.status==="trialing").length,cancelled:e.filter(L=>L.status==="cancelled").length,expired:e.filter(L=>L.status==="expired").length},q=g==="asc"?bu:dr,K=L=>{f===L?x(P=>P==="asc"?"desc":"asc"):(m(L),x("asc"))},ee=n.filter(L=>!e.some(P=>P.user_id===L.id));return r?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(qo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Sprava predplatneho"}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:[e.length," predplatnych celkem"]})]}),i.jsxs(X,{onClick:()=>w(!0),children:[i.jsx(e8,{className:"mr-2 size-4"}),"Udelit predplatne"]})]}),i.jsx(Oh,{className:"grid gap-4 sm:grid-cols-4",children:Object.entries($).map(([L,P])=>{const I=MN[L],G=(I==null?void 0:I.icon)||nr;return i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{className:`cursor-pointer transition-shadow hover:shadow-md ${u===L?"ring-2 ring-primary":""}`,onClick:()=>d(u===L?"all":L),children:i.jsxs(Oe,{className:"flex items-center gap-3 pt-6",children:[i.jsx("div",{className:`flex size-10 items-center justify-center rounded-lg ${I==null?void 0:I.color.split(" ").slice(0,2).join(" ")}`,children:i.jsx(G,{className:`size-5 ${I==null?void 0:I.color.split(" ").slice(2).join(" ")}`})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:P}),i.jsx("p",{className:"text-xs text-neutral-500",children:(I==null?void 0:I.label)||L})]})]})})})},L)})}),i.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative max-w-sm",children:[i.jsx(Ya,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Pe,{placeholder:"Hledat podle emailu nebo jmena...",value:o,onChange:L=>l(L.target.value),className:"pl-9"})]}),i.jsx(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsx(Re,{children:i.jsx(Oe,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Uzivatel"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Plan"}),i.jsx("th",{className:"cursor-pointer px-4 py-3 text-left font-medium text-neutral-500",onClick:()=>K("status"),children:i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Status",f==="status"&&i.jsx(q,{className:"size-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Obdobi"}),i.jsx("th",{className:"cursor-pointer px-4 py-3 text-left font-medium text-neutral-500",onClick:()=>K("created_at"),children:i.jsxs("span",{className:"inline-flex items-center gap-1",children:["Vytvoreno",f==="created_at"&&i.jsx(q,{className:"size-3"})]})}),i.jsx("th",{className:"px-4 py-3 text-right font-medium text-neutral-500",children:"Akce"})]})}),i.jsxs("tbody",{children:[V.map(L=>{var G;const P=T(L.user_id),I=MN[L.status];return i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-neutral-900 dark:text-neutral-100",children:(P==null?void 0:P.full_name)||((G=P==null?void 0:P.email)==null?void 0:G.split("@")[0])||"-"}),i.jsx("p",{className:"text-xs text-neutral-500",children:P==null?void 0:P.email})]})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx($e,{variant:"outline",children:WDe[L.plan_type]||L.plan_type})}),i.jsx("td",{className:"px-4 py-3",children:i.jsx($e,{className:(I==null?void 0:I.color)||"",children:(I==null?void 0:I.label)||L.status})}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:L.current_period_end?`do ${new Date(L.current_period_end).toLocaleDateString("cs-CZ")}`:L.plan_type==="lifetime"?"Dozivotni":"-"}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:new Date(L.created_at).toLocaleDateString("cs-CZ")}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[L.status!=="active"&&i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>D(L,"active"),className:"text-green-600 hover:text-green-700",children:"Aktivovat"}),L.status==="active"&&i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>D(L,"cancelled"),className:"text-amber-600 hover:text-amber-700",children:"Zrusit"}),L.status!=="expired"&&L.status!=="active"&&i.jsx(X,{variant:"ghost",size:"sm",onClick:()=>D(L,"expired"),className:"text-neutral-500 hover:text-neutral-600",children:"Vyprsit"})]})})]},L.id)}),V.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-neutral-500",children:"Zadna predplatna nenalezena"})})]})]})})})})}),i.jsx(Za,{open:b,onOpenChange:w,children:i.jsxs(ha,{className:"sm:max-w-md",children:[i.jsx(fa,{children:i.jsx(ma,{children:"Udelit predplatne"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"mb-1.5 block text-sm font-medium",children:"Uzivatel"}),i.jsxs(As,{value:j,onValueChange:k,children:[i.jsx(ws,{children:i.jsx(Ms,{placeholder:"Vyberte uzivatele..."})}),i.jsxs(js,{children:[ee.map(L=>{var P;return i.jsxs(bt,{value:L.id,children:[L.full_name||((P=L.email)==null?void 0:P.split("@")[0])," (",L.email,")"]},L.id)}),ee.length===0&&i.jsx("div",{className:"px-2 py-3 text-center text-sm text-neutral-500",children:"Vsichni uzivatele maji predplatne"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"mb-1.5 block text-sm font-medium",children:"Typ planu"}),i.jsxs(As,{value:S,onValueChange:C,children:[i.jsx(ws,{children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"free_trial",children:"Zkusebni"}),i.jsx(bt,{value:"monthly",children:"Mesicni"}),i.jsx(bt,{value:"lifetime",children:"Dozivotni"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-2",children:[i.jsx(X,{variant:"outline",onClick:()=>w(!1),children:"Zrusit"}),i.jsx(X,{onClick:F,disabled:!j||E,children:E?"Udeluji...":"Udelit"})]})]})]})})]})}function GDe(){const[e,t]=v.useState([]),[n,s]=v.useState(!0),[r,a]=v.useState(""),[o,l]=v.useState(!1),[u,d]=v.useState(!1),[f,m]=v.useState(""),[g,x]=v.useState("percentage"),[b,w]=v.useState(""),[j,k]=v.useState(""),[S,C]=v.useState(""),[E,z]=v.useState(["monthly","lifetime"]),R=v.useCallback(async()=>{const{data:P}=await de.from("promo_codes").select("*").order("created_at",{ascending:!1});t(P??[]),s(!1)},[]);v.useEffect(()=>{R()},[R]);const T=async P=>{const{error:I}=await de.from("promo_codes").update({is_active:!P.is_active,updated_at:new Date().toISOString()}).eq("id",P.id);if(I){Te.error("Chyba pri aktualizaci promo kodu");return}Te.success(P.is_active?"Promo kod deaktivovan":"Promo kod aktivovan"),t(G=>G.map(U=>U.id===P.id?{...U,is_active:!U.is_active}:U))},A=async P=>{if(P.current_uses>0){Te.error("Nelze smazat promo kod s existujicimi pouzitimi");return}const{error:I}=await de.from("promo_codes").delete().eq("id",P.id);if(I){Te.error("Chyba pri mazani promo kodu");return}Te.success("Promo kod smazan"),t(G=>G.filter(U=>U.id!==P.id))},D=()=>{const P="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let I="";for(let G=0;G<8;G++)I+=P.charAt(Math.floor(Math.random()*P.length));m(I)},F=async()=>{if(!f||!b){Te.error("Vyplnte vsechna povinne pole");return}d(!0);const{error:P}=await de.from("promo_codes").insert({code:f.toUpperCase(),discount_type:g,discount_value:Number(b),applicable_plans:E,max_uses:j?Number(j):null,valid_until:S||null});if(P){Te.error(P.message.includes("unique")?"Kod jiz existuje":"Chyba pri vytvareni promo kodu"),d(!1);return}Te.success("Promo kod vytvoren"),l(!1),V(),d(!1),R()},V=()=>{m(""),x("percentage"),w(""),k(""),C(""),z(["monthly","lifetime"])},$=P=>{navigator.clipboard.writeText(P),Te.success("Kod zkopirovan do schranky")},q=P=>{z(I=>I.includes(P)?I.filter(G=>G!==P):[...I,P])},K=e.filter(P=>P.code.toLowerCase().includes(r.toLowerCase())),ee=e.filter(P=>P.is_active).length,L=e.reduce((P,I)=>P+I.current_uses,0);return n?i.jsx("div",{className:"flex h-64 items-center justify-center",children:i.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})}):i.jsxs(qo,{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:"Promo kody"}),i.jsxs("p",{className:"mt-1 text-sm text-neutral-500",children:[e.length," kodu celkem, ",ee," aktivnich"]})]}),i.jsxs(X,{onClick:()=>{V(),l(!0)},children:[i.jsx(ds,{className:"mr-2 size-4"}),"Novy promo kod"]})]}),i.jsxs(Oh,{className:"grid gap-4 sm:grid-cols-3",children:[i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{children:i.jsxs(Oe,{className:"flex items-center gap-3 pt-6",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-blue-100/60 dark:bg-blue-900/30",children:i.jsx(q_,{className:"size-5 text-blue-600 dark:text-blue-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:e.length}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Celkem kodu"})]})]})})})}),i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{children:i.jsxs(Oe,{className:"flex items-center gap-3 pt-6",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-green-100/60 dark:bg-green-900/30",children:i.jsx(B3,{className:"size-5 text-green-600 dark:text-green-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:ee}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Aktivnich"})]})]})})})}),i.jsx(oi,{children:i.jsx(oa,{children:i.jsx(Re,{children:i.jsxs(Oe,{className:"flex items-center gap-3 pt-6",children:[i.jsx("div",{className:"flex size-10 items-center justify-center rounded-lg bg-amber-100/60 dark:bg-amber-900/30",children:i.jsx(g2,{className:"size-5 text-amber-600 dark:text-amber-400"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-neutral-900 dark:text-neutral-100",children:L}),i.jsx("p",{className:"text-xs text-neutral-500",children:"Celkem pouziti"})]})]})})})})]}),i.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"relative max-w-sm",children:[i.jsx(Ya,{className:"absolute left-3 top-1/2 size-4 -translate-y-1/2 text-neutral-400"}),i.jsx(Pe,{placeholder:"Hledat promo kody...",value:r,onChange:P=>a(P.target.value),className:"pl-9"})]}),i.jsx(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:.2},children:i.jsx(Re,{children:i.jsx(Oe,{className:"p-0",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-neutral-200 dark:border-neutral-700",children:[i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Kod"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Sleva"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Plany"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Pouziti"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Platnost"}),i.jsx("th",{className:"px-4 py-3 text-left font-medium text-neutral-500",children:"Status"}),i.jsx("th",{className:"px-4 py-3 text-right font-medium text-neutral-500",children:"Akce"})]})}),i.jsxs("tbody",{children:[K.map(P=>i.jsxs("tr",{className:"border-b border-neutral-100 transition-colors hover:bg-neutral-50 dark:border-neutral-800 dark:hover:bg-neutral-800/50",children:[i.jsx("td",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"rounded bg-neutral-100 px-2 py-0.5 text-sm font-mono font-medium dark:bg-neutral-800",children:P.code}),i.jsx("button",{type:"button",onClick:()=>$(P.code),className:"text-neutral-400 transition-colors hover:text-neutral-600 dark:hover:text-neutral-300",children:i.jsx(g2,{className:"size-3.5"})})]})}),i.jsx("td",{className:"px-4 py-3 font-medium",children:P.discount_type==="percentage"?`${P.discount_value}%`:`${P.discount_value} CZK`}),i.jsx("td",{className:"px-4 py-3",children:i.jsx("div",{className:"flex flex-wrap gap-1",children:P.applicable_plans.map(I=>i.jsx($e,{variant:"outline",className:"text-[10px]",children:I==="monthly"?"Mesicni":I==="lifetime"?"Dozivotni":I},I))})}),i.jsxs("td",{className:"px-4 py-3 text-neutral-600 dark:text-neutral-400",children:[P.current_uses,P.max_uses?` / ${P.max_uses}`:""]}),i.jsx("td",{className:"px-4 py-3 text-neutral-500",children:P.valid_until?`do ${new Date(P.valid_until).toLocaleDateString("cs-CZ")}`:"Bez limitu"}),i.jsx("td",{className:"px-4 py-3",children:i.jsx($e,{className:P.is_active?"bg-green-100 text-green-700 dark:bg-green-900/40 dark:text-green-400":"bg-neutral-100 text-neutral-600 dark:bg-neutral-800 dark:text-neutral-400",children:P.is_active?"Aktivni":"Neaktivni"})}),i.jsx("td",{className:"px-4 py-3 text-right",children:i.jsxs("div",{className:"flex items-center justify-end gap-1",children:[i.jsx(X,{variant:"ghost",size:"icon",className:"size-8",onClick:()=>T(P),title:P.is_active?"Deaktivovat":"Aktivovat",children:P.is_active?i.jsx(B3,{className:"size-4 text-green-600"}):i.jsx(XL,{className:"size-4 text-neutral-400"})}),i.jsx(X,{variant:"ghost",size:"icon",className:"size-8 text-red-500 hover:text-red-600",onClick:()=>A(P),title:"Smazat",disabled:P.current_uses>0,children:i.jsx(cr,{className:"size-4"})})]})})]},P.id)),K.length===0&&i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-neutral-500",children:"Zadne promo kody nenalezeny"})})]})]})})})})}),i.jsx(Za,{open:o,onOpenChange:l,children:i.jsxs(ha,{className:"sm:max-w-md",children:[i.jsx(fa,{children:i.jsx(ma,{children:"Novy promo kod"})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Kod"}),i.jsxs("div",{className:"mt-1.5 flex gap-2",children:[i.jsx(Pe,{value:f,onChange:P=>m(P.target.value.toUpperCase()),placeholder:"SLEVA20",className:"font-mono"}),i.jsx(X,{variant:"outline",size:"sm",onClick:D,children:"Generovat"})]})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Typ slevy"}),i.jsxs(As,{value:g,onValueChange:x,children:[i.jsx(ws,{className:"mt-1.5",children:i.jsx(Ms,{})}),i.jsxs(js,{children:[i.jsx(bt,{value:"percentage",children:"Procenta (%)"}),i.jsx(bt,{value:"fixed",children:"Pevna castka (CZK)"})]})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Hodnota slevy"}),i.jsx(Pe,{type:"number",value:b,onChange:P=>w(P.target.value),placeholder:g==="percentage"?"20":"100",className:"mt-1.5"})]})]}),i.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[i.jsxs("div",{children:[i.jsx(Ve,{children:"Max pouziti"}),i.jsx(Pe,{type:"number",value:j,onChange:P=>k(P.target.value),placeholder:"Neomezeno",className:"mt-1.5"})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Platnost do"}),i.jsx(Pe,{type:"date",value:S,onChange:P=>C(P.target.value),className:"mt-1.5"})]})]}),i.jsxs("div",{children:[i.jsx(Ve,{children:"Platne pro plany"}),i.jsx("div",{className:"mt-1.5 flex gap-2",children:["monthly","lifetime"].map(P=>i.jsx(X,{type:"button",variant:E.includes(P)?"default":"outline",size:"sm",onClick:()=>q(P),children:P==="monthly"?"Mesicni":"Dozivotni"},P))})]}),i.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[i.jsx(X,{variant:"outline",onClick:()=>l(!1),children:"Zrusit"}),i.jsx(X,{onClick:F,disabled:!f||!b||u,children:u?"Vytvarim...":"Vytvorit"})]})]})]})})]})}const YDe=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function JDe({member:e,idx:t}){return i.jsx(ne.div,{initial:{opacity:0,y:28},animate:{opacity:1,y:0},transition:{duration:.5,delay:t*.1,ease:[.33,1,.68,1]},children:i.jsxs(Ue,{to:`/tym/${e.slug}`,className:"group relative flex h-full flex-col overflow-hidden rounded-2xl border border-neutral-200/50 bg-white transition-all duration-500 hover:border-neutral-300/80 hover:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.12)] dark:border-neutral-800/60 dark:bg-neutral-900 dark:hover:border-neutral-700 dark:hover:shadow-[0_8px_40px_-12px_rgba(0,0,0,0.5)]",children:[i.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden",children:[i.jsx("img",{src:e.avatar_url,alt:e.name,className:"h-full w-full object-cover transition-all duration-700 ease-out group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent transition-opacity duration-500 group-hover:from-black/80 group-hover:via-black/30"}),i.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 transition-all duration-500 group-hover:opacity-100",children:i.jsx("div",{className:"flex size-12 items-center justify-center rounded-full bg-white/15 backdrop-blur-md transition-transform duration-500 group-hover:scale-100 scale-75",children:i.jsx(vp,{className:"size-5 text-white"})})}),i.jsx("div",{className:"absolute top-4 left-4 flex gap-2",children:i.jsx("span",{className:"rounded-full bg-white/15 px-2.5 py-1 text-[11px] font-medium text-white backdrop-blur-md transition-all duration-300 group-hover:bg-white/25",children:e.role})}),i.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-5",children:[i.jsx("h3",{className:"text-xl font-bold tracking-tight text-white transition-transform duration-500 group-hover:-translate-y-1",children:e.name}),i.jsxs("div",{className:"mt-1.5 flex items-center gap-3 text-xs text-white/60",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Da,{className:"size-3"}),e.experience_years," let"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Ql,{className:"size-3"}),e.location]})]})]})]}),i.jsxs("div",{className:"flex flex-1 flex-col p-5",children:[i.jsx("p",{className:"line-clamp-2 text-sm leading-relaxed text-neutral-500 dark:text-neutral-400",children:e.description}),i.jsxs("div",{className:"mt-3.5 flex flex-wrap gap-1.5",children:[e.specializations.slice(0,2).map(n=>i.jsx($e,{variant:"outline",className:"rounded-full border-neutral-200 bg-neutral-50 text-[10px] font-normal text-neutral-600 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400",children:n},n)),e.specializations.length>2&&i.jsxs($e,{variant:"outline",className:"rounded-full border-neutral-200 bg-neutral-50 text-[10px] font-normal text-neutral-600 dark:border-neutral-700 dark:bg-neutral-800 dark:text-neutral-400",children:["+",e.specializations.length-2]})]}),i.jsx("div",{className:"mt-auto pt-4",children:i.jsxs("div",{className:"flex items-center justify-between border-t border-neutral-100 pt-4 dark:border-neutral-800",children:[i.jsxs("div",{className:"flex items-baseline gap-1",children:[i.jsx("span",{className:"text-lg font-bold text-neutral-900 dark:text-neutral-100",children:YDe(e.hourly_rate)}),i.jsx("span",{className:"text-[11px] text-neutral-400",children:"/ hod"})]}),i.jsxs("div",{className:"flex items-center gap-1.5 text-sm font-medium text-neutral-900 dark:text-neutral-100",children:[i.jsxs("span",{className:"relative",children:["Zobrazit",i.jsx("span",{className:"absolute -bottom-0.5 left-0 h-px w-0 bg-neutral-900 transition-all duration-300 group-hover:w-full dark:bg-neutral-100"})]}),i.jsx(vp,{className:"size-3.5 transition-transform duration-300 group-hover:translate-x-0.5 group-hover:-translate-y-0.5"})]})]})})]})]})})}function XDe(){const[e,t]=v.useState([]),[n,s]=v.useState(!0);return v.useEffect(()=>{(async()=>{const{data:a}=await de.from("team_members").select("id, name, role, slug, description, specializations, experience_years, avatar_url, hourly_rate, location").eq("is_active",!0).order("order_index");t(a??[]),s(!1)})()},[]),n?i.jsx("div",{className:"flex min-h-[600px] items-center justify-center",children:i.jsx("div",{className:"h-10 w-10 animate-spin rounded-full border-2 border-primary border-t-transparent"})}):i.jsx("div",{className:"py-20",children:i.jsxs("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-muted/40 px-6 py-16 sm:px-10 lg:px-16",children:[i.jsx("div",{className:"pointer-events-none absolute -right-24 -top-24 h-80 w-80 rounded-full bg-primary/10 blur-[90px]"}),i.jsx("div",{className:"pointer-events-none absolute -bottom-24 -left-20 h-72 w-72 rounded-full bg-primary/8 blur-[80px]"}),i.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"relative text-center",children:[i.jsx($e,{variant:"outline",className:"mb-4",children:"Nas tym"}),i.jsx("h1",{className:"text-3xl font-bold tracking-tight text-neutral-900 dark:text-neutral-100 sm:text-4xl lg:text-5xl",children:"Nasi odbornici"}),i.jsx("p",{className:"mx-auto mt-4 max-w-2xl text-base text-neutral-600 dark:text-neutral-400 sm:text-lg",children:"Tym certifikovanych fyzioterapeutu s letitymi zkusenostmi. Vyberte si sveho specialistu a objednejte se na konzultaci."})]})]}),i.jsx("div",{className:"mt-12 grid gap-6 sm:grid-cols-2 lg:grid-cols-3",children:e.map((r,a)=>i.jsx(JDe,{member:r,idx:a},r.id))}),e.length===0&&i.jsx("div",{className:"py-20 text-center text-neutral-500",children:"Zatim nejsou zadni clenove tymu."})]})})}const QDe=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function ePe({member:e}){const t=v.useRef(null),{scrollYProgress:n}=P_({target:t,offset:["start start","end start"]}),s=Eo(n,[0,1],["0%","25%"]),r=Eo(n,[0,1],[1,1.08]),a=Eo(n,[0,1],["0%","40%"]),o=Eo(n,[0,.6],[1,0]);return i.jsxs("div",{ref:t,className:"relative h-[520px] overflow-hidden sm:h-[600px] lg:h-[680px]",children:[i.jsx(ne.div,{className:"absolute inset-0",style:{y:s,scale:r},children:i.jsx("img",{src:e.avatar_url,alt:e.name,className:"h-full w-full object-cover"})}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/40 to-black/5"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-black/30 to-transparent"}),i.jsx("div",{className:"absolute inset-x-0 top-0 z-10",children:i.jsx("div",{className:"mx-auto max-w-6xl px-4 pt-6 sm:px-6 lg:px-8",children:i.jsx(ne.div,{initial:{opacity:0,y:-12},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1},children:i.jsx(r1,{children:i.jsxs(i1,{className:"text-xs sm:text-sm",children:[i.jsx(ii,{children:i.jsx(Ro,{asChild:!0,children:i.jsxs(Ue,{to:"/",className:"flex items-center gap-1.5 text-white/50 transition-colors hover:text-white/90",children:[i.jsx(Mi,{className:"size-3.5"}),i.jsx("span",{className:"hidden sm:inline",children:"Domov"})]})})}),i.jsx(Oo,{children:i.jsx(kr,{className:"size-3.5 text-white/30"})}),i.jsx(ii,{children:i.jsx(Ro,{asChild:!0,children:i.jsx(Ue,{to:"/tym",className:"text-white/50 transition-colors hover:text-white/90",children:"Tym"})})}),i.jsx(Oo,{children:i.jsx(kr,{className:"size-3.5 text-white/30"})}),i.jsx(ii,{children:i.jsx(a1,{className:"font-medium text-white/90",children:e.name})})]})})})})}),i.jsx(ne.div,{className:"absolute inset-x-0 bottom-0 z-10",style:{y:a,opacity:o},children:i.jsx("div",{className:"mx-auto max-w-6xl px-4 pb-12 sm:px-6 lg:px-8",children:i.jsxs(ne.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.15,ease:[.25,.46,.45,.94]},children:[i.jsx(ne.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.25},className:"mb-3 text-sm font-medium uppercase tracking-widest text-white/50",children:e.role}),i.jsx("h1",{className:"text-5xl font-bold tracking-tight text-white sm:text-6xl lg:text-7xl",children:e.name}),i.jsx(ne.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"mt-4 max-w-2xl text-base leading-relaxed text-white/55 sm:text-lg",children:e.description}),i.jsxs(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5,delay:.55},className:"mt-6 flex flex-wrap items-center gap-x-6 gap-y-2 text-sm text-white/45",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Da,{className:"size-3.5 text-white/35"}),e.experience_years," let zkusenosti"]}),i.jsx("span",{className:"hidden text-white/20 sm:inline",children:"|"}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Ql,{className:"size-3.5 text-white/35"}),e.location]}),i.jsx("span",{className:"hidden text-white/20 sm:inline",children:"|"}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Lr,{className:"size-3.5 text-amber-400/70"}),"4.9 hodnoceni"]}),i.jsx("span",{className:"hidden text-white/20 sm:inline",children:"|"}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(cn,{className:"size-3.5 text-white/35"}),QDe(e.hourly_rate)," / hod"]})]})]})})})]})}const ip={hidden:{opacity:0},visible:{opacity:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}},tPe={hidden:{opacity:0,scale:.92},visible:{opacity:1,scale:1,transition:{duration:.5,ease:[.25,.46,.45,.94]}}};function nPe({images:e}){const[t,n]=v.useState(null);if(e.length===0)return null;const s=()=>{t!==null&&n((t+1)%e.length)},r=()=>{t!==null&&n((t-1+e.length)%e.length)};return i.jsxs(i.Fragment,{children:[i.jsxs(ne.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-5 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Galerie"}),i.jsx("div",{className:"grid grid-cols-2 gap-3 sm:grid-cols-3",children:e.map((a,o)=>i.jsxs(ne.button,{initial:{opacity:0,y:16},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.4,delay:o*.06},whileHover:{scale:1.03},onClick:()=>n(o),className:"group relative aspect-[4/3] overflow-hidden rounded-xl",children:[i.jsx("img",{src:a,alt:`Galerie ${o+1}`,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"}),i.jsx("div",{className:"absolute inset-0 bg-black/0 transition-colors duration-300 group-hover:bg-black/20"})]},a))})]}),i.jsx(jn,{children:t!==null&&i.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-sm",onClick:()=>n(null),children:[i.jsx(ne.img,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},src:e[t],alt:`Galerie ${t+1}`,className:"max-h-[85vh] max-w-[90vw] rounded-lg object-contain",onClick:a=>a.stopPropagation()},t),i.jsx("button",{onClick:()=>n(null),className:"absolute right-4 top-4 flex size-10 items-center justify-center rounded-full bg-white/10 text-white transition-colors hover:bg-white/20",children:i.jsx(Pu,{className:"size-5"})}),e.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:a=>{a.stopPropagation(),r()},className:"absolute left-4 top-1/2 flex size-10 -translate-y-1/2 items-center justify-center rounded-full bg-white/10 text-white transition-colors hover:bg-white/20",children:i.jsx(ag,{className:"size-5"})}),i.jsx("button",{onClick:a=>{a.stopPropagation(),s()},className:"absolute right-4 top-1/2 flex size-10 -translate-y-1/2 items-center justify-center rounded-full bg-white/10 text-white transition-colors hover:bg-white/20",children:i.jsx(kr,{className:"size-5"})})]}),i.jsxs("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-sm text-white/60",children:[t+1," / ",e.length]})]})})]})}function sPe({location:e}){return i.jsxs(ne.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-5 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Lokace"}),i.jsx("div",{className:"overflow-hidden rounded-xl",children:i.jsx("iframe",{title:`Mapa - ${e}`,width:"100%",height:"280",src:"https://www.openstreetmap.org/export/embed.html?bbox=14.2,49.95,14.6,50.15&layer=mapnik&marker=50.05,14.4",className:"border-0"})}),i.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400",children:[i.jsx(Ql,{className:"size-3.5"}),e]})]})}function rPe({member:e}){return i.jsxs("div",{className:"space-y-12",children:[i.jsxs(ne.section,{variants:tPe,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-4 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"O mne"}),i.jsx("p",{className:"text-base leading-[1.9] text-neutral-600 dark:text-neutral-400",children:e.bio})]}),i.jsxs(ne.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-4 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Specializace"}),i.jsx("div",{className:"flex flex-wrap gap-x-2 gap-y-1",children:e.specializations.map((t,n)=>i.jsxs(ne.span,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.35,delay:n*.05},className:"text-base text-neutral-700 dark:text-neutral-300",children:[t,n<e.specializations.length-1&&i.jsx("span",{className:"ml-2 text-neutral-300 dark:text-neutral-600",children:"/"})]},t))})]}),e.certifications.length>0&&i.jsxs(ne.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-4 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Certifikace"}),i.jsx("ul",{className:"space-y-3",children:e.certifications.map((t,n)=>i.jsxs(ne.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.35,delay:n*.06},className:"flex items-start gap-3 text-sm leading-relaxed text-neutral-600 dark:text-neutral-400",children:[i.jsx(Bs,{className:"mt-0.5 size-4 shrink-0 text-emerald-500 dark:text-emerald-400"}),t]},t))})]}),e.education.length>0&&i.jsxs(ne.section,{variants:ip,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},children:[i.jsx("h2",{className:"mb-4 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Vzdelani"}),i.jsx("ul",{className:"space-y-3",children:e.education.map((t,n)=>i.jsxs(ne.li,{initial:{opacity:0,x:-10},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.35,delay:n*.06},className:"flex items-start gap-3 text-sm leading-relaxed text-neutral-600 dark:text-neutral-400",children:[i.jsx("span",{className:"mt-1.5 size-1.5 shrink-0 rounded-full bg-neutral-400 dark:bg-neutral-500"}),t]},t))})]}),e.gallery_images&&e.gallery_images.length>0&&i.jsx(nPe,{images:e.gallery_images}),i.jsx(sPe,{location:e.location})]})}const iPe=e=>new Intl.NumberFormat("cs-CZ",{style:"currency",currency:"CZK",maximumFractionDigits:0}).format(e);function aPe({member:e}){const[t,n]=v.useState(!1),[s,r]=v.useState(""),[a,o]=v.useState(""),[l,u]=v.useState(""),d=async()=>{if(!s||!a||!l){Te.error("Vyplnte prosim vsechna pole");return}n(!0);const f=`mailto:${e.email}?subject=Dotaz od ${encodeURIComponent(s)}&body=${encodeURIComponent(l)}%0A%0AOdpovedet na: ${encodeURIComponent(a)}`;window.location.href=f,setTimeout(()=>{Te.success("Email klient byl otevren"),n(!1)},500)};return i.jsxs("div",{className:"space-y-8 lg:sticky lg:top-28 lg:self-start",children:[i.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[i.jsx("h3",{className:"mb-1 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Cena konzultace"}),i.jsxs("div",{className:"mt-3 flex items-baseline gap-2",children:[i.jsx("span",{className:"text-3xl font-bold tracking-tight text-neutral-900 dark:text-neutral-100",children:iPe(e.hourly_rate)}),i.jsx("span",{className:"text-sm text-neutral-400",children:"/ hodina"})]}),i.jsx("div",{className:"mt-4 space-y-2",children:["Individualni pristup","Diagnostika zahrnuta","Cvicebni plan na miru"].map((f,m)=>i.jsxs(ne.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.45+m*.06,duration:.3},className:"flex items-center gap-2 text-sm text-neutral-500 dark:text-neutral-400",children:[i.jsx(Bs,{className:"size-3.5 text-emerald-500 dark:text-emerald-400"}),f]},f))})]}),i.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[i.jsx("h3",{className:"mb-3 text-xs font-semibold uppercase tracking-widest text-neutral-400 dark:text-neutral-500",children:"Kontakt"}),i.jsxs("div",{className:"space-y-2.5",children:[i.jsxs("a",{href:`mailto:${e.email}`,className:"flex items-center gap-2.5 text-sm text-neutral-600 transition-colors hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-200",children:[i.jsx(BL,{className:"size-3.5 text-neutral-400"}),e.email]}),i.jsxs("a",{href:`tel:${e.phone}`,className:"flex items-center gap-2.5 text-sm text-neutral-600 transition-colors hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-200",children:[i.jsx(HL,{className:"size-3.5 text-neutral-400"}),e.phone]}),i.jsxs("div",{className:"flex items-center gap-2.5 text-sm text-neutral-600 dark:text-neutral-400",children:[i.jsx(Ql,{className:"size-3.5 text-neutral-400"}),e.location]})]})]}),i.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"rounded-2xl border border-neutral-200/60 bg-white p-6 dark:border-neutral-800 dark:bg-neutral-900",children:[i.jsx("h3",{className:"mb-4 text-sm font-semibold text-neutral-900 dark:text-neutral-100",children:"Napiste mi"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs font-medium text-neutral-500",children:"Vase jmeno"}),i.jsx(Pe,{value:s,onChange:f=>r(f.target.value),placeholder:"Jan Novak",className:"mt-1.5 rounded-xl border-neutral-200 bg-neutral-50/50 dark:border-neutral-700 dark:bg-neutral-800/50"})]}),i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs font-medium text-neutral-500",children:"Vas email"}),i.jsx(Pe,{type:"email",value:a,onChange:f=>o(f.target.value),placeholder:"jan@email.cz",className:"mt-1.5 rounded-xl border-neutral-200 bg-neutral-50/50 dark:border-neutral-700 dark:bg-neutral-800/50"})]}),i.jsxs("div",{children:[i.jsx(Ve,{className:"text-xs font-medium text-neutral-500",children:"Zprava"}),i.jsx(Nr,{value:l,onChange:f=>u(f.target.value),placeholder:"Rad bych se objednal na konzultaci...",rows:4,className:"mt-1.5 resize-none rounded-xl border-neutral-200 bg-neutral-50/50 dark:border-neutral-700 dark:bg-neutral-800/50"})]}),i.jsxs(X,{className:"mt-1 w-full rounded-xl",onClick:d,disabled:t||!s||!a||!l,children:[i.jsx(sle,{className:"mr-2 size-4"}),t?"Oteviram...":"Odeslat zpravu"]}),i.jsxs("p",{className:"text-center text-[11px] text-neutral-400",children:["Zprava bude odeslana na ",e.email]})]})]})]})}function oPe(){const{slug:e}=ic(),[t,n]=v.useState(null),[s,r]=v.useState(!0);return v.useEffect(()=>{(async()=>{if(!e)return;const{data:o}=await de.from("team_members").select("*").eq("slug",e).eq("is_active",!0).maybeSingle();n(o),r(!1)})()},[e]),s?i.jsx("div",{className:"flex min-h-[600px] items-center justify-center",children:i.jsx(ne.div,{initial:{opacity:0},animate:{opacity:1},className:"h-10 w-10 animate-spin rounded-full border-2 border-neutral-300 border-t-neutral-900 dark:border-neutral-700 dark:border-t-neutral-100"})}):t?i.jsxs("div",{className:"pb-24",children:[i.jsx(ePe,{member:t}),i.jsx("div",{className:"mx-auto max-w-6xl px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"mt-12 grid gap-10 lg:grid-cols-[1fr_380px] lg:gap-14",children:[i.jsx(rPe,{member:t}),i.jsx(aPe,{member:t})]})})]}):i.jsxs(ne.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex min-h-[500px] flex-col items-center justify-center gap-4",children:[i.jsx("div",{className:"flex size-16 items-center justify-center rounded-2xl bg-neutral-100 dark:bg-neutral-800",children:i.jsx(Fa,{className:"size-7 text-neutral-400"})}),i.jsx("h2",{className:"text-xl font-semibold text-neutral-900 dark:text-neutral-100",children:"Clen tymu nenalezen"}),i.jsx("p",{className:"text-sm text-neutral-500",children:"Tento profil neexistuje nebo byl odstranen."}),i.jsx(X,{asChild:!0,variant:"outline",className:"mt-2 rounded-xl",children:i.jsxs(Ue,{to:"/tym",children:[i.jsx($o,{className:"mr-2 size-4"}),"Zpet na tym"]})})]})}const QP={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.07,delayChildren:.1}}},eI={hidden:{opacity:0,y:24},visible:{opacity:1,y:0,transition:{duration:.45,ease:"easeOut"}}};function lPe(e){return e?new Date(e).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"}):""}function cPe(e){return Math.max(2,Math.ceil(e.split(/\s+/).length/40))}function uPe(){const[e,t]=v.useState([]),[n,s]=v.useState(!0),[r,a]=v.useState(""),[o,l]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:g}=await de.from("blogs").select("id, title, slug, excerpt, featured_image, tags, view_count, published_at, created_at").eq("status","published").order("published_at",{ascending:!1});t(g??[]),s(!1)})()},[]);const u=v.useMemo(()=>{var x;const g=new Set;for(const b of e)(x=b.tags)==null||x.forEach(w=>g.add(w));return Array.from(g).sort()},[e]),d=v.useMemo(()=>e.filter(g=>{var j;const x=r.toLowerCase(),b=!x||g.title.toLowerCase().includes(x)||g.excerpt.toLowerCase().includes(x),w=!o||((j=g.tags)==null?void 0:j.includes(o));return b&&w}),[e,r,o]),f=d[0],m=d.slice(1);return i.jsxs("section",{className:"pb-24",children:[i.jsx("div",{className:"border-b border-border/50 bg-muted/30",children:i.jsxs("div",{className:"container mx-auto max-w-7xl px-4 pt-32 pb-14 sm:px-6",children:[i.jsxs(ne.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[i.jsx($e,{variant:"outline",className:"mb-4 text-xs font-medium tracking-wide",children:"Blog"}),i.jsx("h1",{className:"max-w-2xl text-3xl font-bold tracking-tight sm:text-4xl lg:text-5xl",children:"Novinky ze sveta fyzioterapie"}),i.jsx("p",{className:"mt-4 max-w-lg text-base leading-relaxed text-muted-foreground",children:"Odborne clanky, rady a tipy od nasich certifikovanych fyzioterapeutu. Vzdelavejte se a pecujte o sve zdravi."})]}),i.jsxs(ne.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2,ease:"easeOut"},className:"mt-8 flex flex-col gap-4 sm:flex-row sm:items-center",children:[i.jsxs("div",{className:"relative w-full sm:max-w-xs",children:[i.jsx(Ya,{className:"absolute top-1/2 left-3 size-4 -translate-y-1/2 text-muted-foreground"}),i.jsx(Pe,{placeholder:"Hledat clanky...",value:r,onChange:g=>a(g.target.value),className:"pl-9 h-9 text-sm"})]}),i.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[i.jsx("button",{onClick:()=>l(null),className:se("rounded-full px-3 py-1 text-xs font-medium transition-all duration-200",o?"bg-muted text-muted-foreground hover:bg-accent hover:text-accent-foreground":"bg-foreground text-background shadow-sm"),children:"Vse"}),u.map(g=>i.jsx("button",{onClick:()=>l(o===g?null:g),className:se("rounded-full px-3 py-1 text-xs font-medium transition-all duration-200",o===g?"bg-foreground text-background shadow-sm":"bg-muted text-muted-foreground hover:bg-accent hover:text-accent-foreground"),children:g},g))]})]})]})}),i.jsx("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6",children:n?i.jsx(fPe,{}):d.length===0?i.jsxs("div",{className:"flex flex-col items-center justify-center py-32 text-center",children:[i.jsx("p",{className:"text-lg font-medium text-muted-foreground",children:"Zadne clanky nebyly nalezeny"}),i.jsx("p",{className:"mt-1 text-sm text-muted-foreground/70",children:"Zkuste zmenit vyhledavani nebo filtr."})]}):i.jsxs(ne.div,{variants:QP,initial:"hidden",animate:"visible",children:[f&&i.jsx(ne.div,{variants:eI,className:"mt-12",children:i.jsx(dPe,{blog:f})}),m.length>0&&i.jsxs(i.Fragment,{children:[i.jsx($t,{className:"my-12"}),i.jsx(ne.div,{variants:QP,className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3",children:m.map(g=>i.jsx(ne.div,{variants:eI,children:i.jsx(hPe,{blog:g})},g.id))})]})]})})]})}function dPe({blog:e}){var t;return i.jsx(Ue,{to:`/blog/${e.slug}`,children:i.jsxs(ne.article,{className:"group grid overflow-hidden rounded-2xl border bg-card lg:grid-cols-5",whileHover:{y:-3},transition:{type:"spring",stiffness:300,damping:25},children:[i.jsx("div",{className:"aspect-[16/10] overflow-hidden lg:col-span-3 lg:aspect-auto lg:h-full",children:e.featured_image?i.jsx("img",{src:e.featured_image,alt:e.title,className:"size-full object-cover transition-transform duration-700 group-hover:scale-[1.03]"}):i.jsx("div",{className:"size-full bg-muted"})}),i.jsxs("div",{className:"flex flex-col justify-center p-6 lg:col-span-2 lg:p-10",children:[i.jsx("div",{className:"flex flex-wrap items-center gap-2",children:(t=e.tags)==null?void 0:t.slice(0,3).map(n=>i.jsx($e,{variant:"secondary",className:"text-[10px] font-medium",children:n},n))}),i.jsx("h2",{className:"mt-4 text-xl font-bold tracking-tight transition-colors group-hover:text-muted-foreground sm:text-2xl lg:text-3xl",children:e.title}),i.jsx("p",{className:"mt-3 line-clamp-3 text-sm leading-relaxed text-muted-foreground",children:e.excerpt}),i.jsxs("div",{className:"mt-6 flex items-center gap-3",children:[i.jsx(zs,{className:"size-7 border",children:i.jsx(lr,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=80"})}),i.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[i.jsx("span",{className:"font-medium text-foreground",children:"Fyzioterapie tym"}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(ca,{className:"size-3"}),lPe(e.published_at||e.created_at)]})]})]}),i.jsxs("span",{className:"mt-5 inline-flex items-center gap-1.5 text-sm font-medium",children:["Cist clanek",i.jsx(ur,{className:"size-3.5 transition-transform duration-300 group-hover:translate-x-1"})]})]})]})})}function hPe({blog:e}){var t;return i.jsx(Ue,{to:`/blog/${e.slug}`,children:i.jsxs(ne.article,{className:"group flex h-full flex-col overflow-hidden rounded-xl border bg-card transition-shadow duration-300 hover:shadow-lg hover:shadow-black/5 dark:hover:shadow-white/5",whileHover:{y:-5},transition:{type:"spring",stiffness:400,damping:25},children:[i.jsx("div",{className:"aspect-[16/10] overflow-hidden",children:e.featured_image?i.jsx("img",{src:e.featured_image,alt:e.title,className:"size-full object-cover transition-transform duration-700 group-hover:scale-[1.04]"}):i.jsx("div",{className:"size-full bg-muted"})}),i.jsxs("div",{className:"flex flex-1 flex-col p-5",children:[i.jsx("div",{className:"flex flex-wrap items-center gap-1.5",children:(t=e.tags)==null?void 0:t.slice(0,2).map(n=>i.jsxs("span",{className:"inline-flex items-center gap-0.5 rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium text-muted-foreground",children:[i.jsx(bp,{className:"size-2.5"}),n]},n))}),i.jsx("h3",{className:"mt-3 line-clamp-2 text-base font-semibold tracking-tight transition-colors group-hover:text-muted-foreground",children:e.title}),i.jsx("p",{className:"mt-2 line-clamp-2 text-xs leading-relaxed text-muted-foreground",children:e.excerpt}),i.jsxs("div",{className:"mt-auto flex items-center justify-between pt-5",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(zs,{className:"size-6 border",children:i.jsx(lr,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=80"})}),i.jsx("span",{className:"text-[11px] font-medium",children:"Fyzioterapie tym"})]}),i.jsxs("div",{className:"flex items-center gap-2.5 text-[11px] text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-0.5",children:[i.jsx(cn,{className:"size-3"}),cPe(e.excerpt)," min"]}),i.jsxs("span",{className:"flex items-center gap-0.5",children:[i.jsx(Li,{className:"size-3"}),e.view_count]})]})]})]})]})})}function fPe(){return i.jsxs("div",{className:"mt-12 space-y-12",children:[i.jsxs("div",{className:"grid overflow-hidden rounded-2xl border lg:grid-cols-5",children:[i.jsx(Wt,{className:"aspect-[16/10] lg:col-span-3 lg:aspect-auto lg:min-h-[360px]"}),i.jsxs("div",{className:"space-y-4 p-10 lg:col-span-2",children:[i.jsx(Wt,{className:"h-5 w-24"}),i.jsx(Wt,{className:"h-9 w-full"}),i.jsx(Wt,{className:"h-9 w-3/4"}),i.jsx(Wt,{className:"h-4 w-full"}),i.jsx(Wt,{className:"h-4 w-2/3"}),i.jsxs("div",{className:"flex items-center gap-2 pt-2",children:[i.jsx(Wt,{className:"size-7 rounded-full"}),i.jsx(Wt,{className:"h-3 w-32"})]})]})]}),i.jsx($t,{}),i.jsx("div",{className:"grid gap-8 sm:grid-cols-2 lg:grid-cols-3",children:Array.from({length:6}).map((e,t)=>i.jsxs("div",{className:"space-y-3 rounded-xl border p-0 overflow-hidden",children:[i.jsx(Wt,{className:"aspect-[16/10] rounded-none"}),i.jsxs("div",{className:"space-y-2 p-5 pt-2",children:[i.jsx(Wt,{className:"h-3 w-16"}),i.jsx(Wt,{className:"h-5 w-full"}),i.jsx(Wt,{className:"h-3 w-full"}),i.jsx(Wt,{className:"h-3 w-1/2"}),i.jsxs("div",{className:"flex items-center justify-between pt-2",children:[i.jsx(Wt,{className:"h-3 w-20"}),i.jsx(Wt,{className:"h-3 w-16"})]})]})]},t))})]})}function tI(e){return e?new Date(e).toLocaleDateString("cs-CZ",{day:"numeric",month:"long",year:"numeric"}):""}function mPe(e){const t=e.replace(/<[^>]*>/g," ");return Math.max(2,Math.ceil(t.split(/\s+/).filter(Boolean).length/200))}function pPe(e){return e.toLowerCase().replace(/[^a-z0-9\u00C0-\u024F]+/gi,"-").replace(/^-+|-+$/g,"")}function gPe(e){const t=[],n=e.replace(/<h2([^>]*)>(.*?)<\/h2>/gi,(s,r,a)=>{const o=a.replace(/<[^>]*>/g,"").trim(),l=pPe(o);return t.push({id:l,text:o}),`<h2${r} id="${l}">${a}</h2>`});return{headings:t,processedHtml:n}}function xPe(){var k;const{slug:e}=ic(),[t,n]=v.useState(null),[s,r]=v.useState([]),[a,o]=v.useState(!0),[l,u]=v.useState(!1),[d,f]=v.useState(null),m=v.useRef({});v.useEffect(()=>{e&&(async()=>{o(!0);const{data:S,error:C}=await de.from("blogs").select("*").eq("slug",e).eq("status","published").maybeSingle();if(C||!S){u(!0),o(!1);return}n(S),u(!1),await de.from("blogs").update({view_count:(S.view_count??0)+1}).eq("id",S.id);const{data:E}=await de.from("blogs").select("id, title, slug, excerpt, featured_image, published_at, created_at").eq("status","published").neq("id",S.id).order("published_at",{ascending:!1}).limit(3);r(E??[]),o(!1)})()},[e]);const{headings:g,processedHtml:x}=v.useMemo(()=>{var C;const S=((C=t==null?void 0:t.content)==null?void 0:C.html)??"";return gPe(S)},[t]),b=v.useCallback(()=>{if(Object.keys(m.current).length===0)return;const C=new IntersectionObserver(E=>{for(const z of E)z.isIntersecting&&f(z.target.id)},{rootMargin:"-80px 0px -60% 0px",threshold:0});for(const E of Object.values(m.current))C.observe(E);return()=>C.disconnect()},[]);if(v.useEffect(()=>{if(!x||g.length===0)return;const S=setTimeout(()=>{m.current={};for(const C of g){const E=document.getElementById(C.id);E&&(m.current[C.id]=E)}b()},100);return()=>clearTimeout(S)},[x,g,b]),a)return i.jsx(vPe,{});if(l||!t)return i.jsxs("div",{className:"flex min-h-[60vh] flex-col items-center justify-center px-4 pt-32 text-center",children:[i.jsx("h1",{className:"text-2xl font-semibold text-neutral-900 dark:text-white",children:"Clanek nenalezen"}),i.jsx("p",{className:"mt-2 text-muted-foreground",children:"Tento clanek neexistuje nebo byl odstranen."}),i.jsx(X,{asChild:!0,variant:"outline",className:"mt-6",children:i.jsxs(Ue,{to:"/blog",children:[i.jsx($o,{className:"mr-2 size-4"}),"Zpet na blog"]})})]});const w=mPe(x),j=typeof window<"u"?window.location.href:"";return i.jsx("section",{className:"pt-28 pb-20",children:i.jsxs("div",{className:"container mx-auto max-w-7xl px-4 sm:px-6",children:[i.jsxs(ne.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},children:[i.jsx(r1,{children:i.jsxs(i1,{children:[i.jsx(ii,{children:i.jsx(Ro,{asChild:!0,children:i.jsx(Ue,{to:"/",children:i.jsx(Mi,{className:"size-4"})})})}),i.jsx(Oo,{}),i.jsx(ii,{children:i.jsx(Ro,{asChild:!0,children:i.jsx(Ue,{to:"/blog",children:"Blog"})})}),i.jsx(Oo,{}),i.jsx(ii,{children:i.jsx(a1,{className:"line-clamp-1 max-w-[200px]",children:t.title})})]})}),i.jsx("h1",{className:"mt-9 mb-7 max-w-3xl text-3xl font-bold tracking-tight md:mb-10 md:text-5xl lg:text-6xl",children:t.title}),i.jsxs("div",{className:"flex items-center gap-3 text-sm md:text-base",children:[i.jsx(zs,{className:"size-8 border",children:i.jsx(lr,{src:"https://images.pexels.com/photos/5327585/pexels-photo-5327585.jpeg?auto=compress&cs=tinysrgb&w=80"})}),i.jsxs("span",{children:[i.jsx("span",{className:"font-medium",children:"Fyzioterapie tym"}),i.jsx("span",{className:"ml-1 text-muted-foreground",children:tI(t.published_at||t.created_at)})]})]})]}),i.jsxs("div",{className:"relative mt-12 grid max-w-7xl gap-14 lg:mt-14 lg:grid-cols-12 lg:gap-6",children:[i.jsxs(ne.div,{className:"order-2 lg:order-none lg:col-span-8",initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[t.featured_image&&i.jsx("img",{src:t.featured_image,alt:t.title,className:"mt-0 mb-8 aspect-video w-full rounded-lg border object-cover"}),t.excerpt&&i.jsx("p",{className:"mb-8 text-sm leading-relaxed text-muted-foreground",children:t.excerpt}),i.jsxs("div",{className:"flex items-center gap-4 mb-8 text-xs text-muted-foreground",children:[i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(cn,{className:"size-3.5"}),w," min cteni"]}),i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx(Li,{className:"size-3.5"}),t.view_count," zobrazeni"]}),((k=t.tags)==null?void 0:k.length)>0&&i.jsx("div",{className:"flex items-center gap-1.5",children:t.tags.map(S=>i.jsx("span",{className:"rounded-full bg-muted px-2 py-0.5 text-[10px] font-medium",children:S},S))})]}),i.jsx("article",{className:"blog-content prose prose-neutral dark:prose-invert max-w-none prose-headings:font-semibold prose-headings:tracking-tight prose-p:leading-relaxed prose-img:rounded-xl prose-a:underline-offset-2 prose-blockquote:border-l-primary/50 prose-blockquote:text-muted-foreground",dangerouslySetInnerHTML:{__html:x}}),s.length>0&&i.jsxs(i.Fragment,{children:[i.jsx($t,{className:"my-12"}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold tracking-tight",children:"Dalsi clanky"}),i.jsx("div",{className:"mt-5 grid gap-5 sm:grid-cols-3",children:s.map(S=>i.jsx(Ue,{to:`/blog/${S.slug}`,children:i.jsxs(ne.div,{className:"group overflow-hidden rounded-lg border bg-card",whileHover:{y:-3},transition:{type:"spring",stiffness:400,damping:25},children:[S.featured_image&&i.jsx("div",{className:"aspect-[16/9] overflow-hidden",children:i.jsx("img",{src:S.featured_image,alt:S.title,className:"size-full object-cover transition-transform duration-500 group-hover:scale-105"})}),i.jsxs("div",{className:"p-3",children:[i.jsx("h3",{className:"line-clamp-2 text-sm font-medium transition-colors group-hover:text-muted-foreground",children:S.title}),i.jsx("p",{className:"mt-1 text-[11px] text-muted-foreground",children:tI(S.published_at||S.created_at)})]})]})},S.id))})]})]})]}),i.jsxs(ne.div,{className:"order-1 flex h-fit flex-col text-sm lg:sticky lg:top-24 lg:order-none lg:col-span-3 lg:col-start-10 lg:text-xs",initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4,delay:.2},children:[g.length>0&&i.jsxs("div",{className:"order-3 lg:order-none",children:[i.jsx("span",{className:"text-xs font-medium uppercase tracking-wider text-muted-foreground",children:"Na teto strance"}),i.jsx("nav",{className:"mt-2 lg:mt-4",children:i.jsx("ul",{className:"space-y-1",children:g.map(S=>i.jsx("li",{children:i.jsx("a",{href:`#${S.id}`,className:se("block py-1 transition-colors duration-200",d===S.id?"text-foreground font-medium":"text-muted-foreground hover:text-foreground"),children:S.text})},S.id))})})]}),i.jsx($t,{className:"order-2 mt-8 mb-11 lg:hidden"}),i.jsxs("div",{className:"order-1 flex flex-col gap-2 lg:order-none lg:mt-9",children:[i.jsx("p",{className:"font-medium text-muted-foreground text-xs",children:"Sdilet clanek:"}),i.jsxs("ul",{className:"flex gap-2",children:[i.jsx("li",{children:i.jsx(X,{variant:"secondary",size:"icon",className:"group rounded-full size-8",asChild:!0,children:i.jsx("a",{href:`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(j)}`,target:"_blank",rel:"noopener noreferrer",children:i.jsx(hae,{className:"size-3.5 fill-muted-foreground text-muted-foreground transition-colors group-hover:fill-foreground group-hover:text-foreground"})})})}),i.jsx("li",{children:i.jsx(X,{variant:"secondary",size:"icon",className:"group rounded-full size-8",asChild:!0,children:i.jsx("a",{href:`https://www.linkedin.com/shareArticle?mini=true&url=${encodeURIComponent(j)}`,target:"_blank",rel:"noopener noreferrer",children:i.jsx($L,{className:"size-3.5 fill-muted-foreground text-muted-foreground transition-colors group-hover:fill-foreground group-hover:text-foreground"})})})}),i.jsx("li",{children:i.jsx(X,{variant:"secondary",size:"icon",className:"group rounded-full size-8",asChild:!0,children:i.jsx("a",{href:`https://twitter.com/intent/tweet?url=${encodeURIComponent(j)}&text=${encodeURIComponent(t.title)}`,target:"_blank",rel:"noopener noreferrer",children:i.jsx(QL,{className:"size-3.5 fill-muted-foreground text-muted-foreground transition-colors group-hover:fill-foreground group-hover:text-foreground"})})})})]})]}),i.jsx($t,{className:"my-6 hidden lg:block"}),i.jsx("div",{className:"hidden lg:block",children:i.jsxs(Ue,{to:"/blog",className:"inline-flex items-center gap-1.5 text-xs font-medium text-muted-foreground transition-colors hover:text-foreground",children:[i.jsx($o,{className:"size-3"}),"Zpet na blog"]})})]})]})]})})}function vPe(){return i.jsx("div",{className:"pt-28 pb-20",children:i.jsxs("div",{className:"container mx-auto max-w-7xl space-y-4 px-4 sm:px-6",children:[i.jsx(Wt,{className:"h-4 w-48"}),i.jsx(Wt,{className:"mt-6 h-12 w-3/4"}),i.jsx(Wt,{className:"h-12 w-1/2"}),i.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[i.jsx(Wt,{className:"size-8 rounded-full"}),i.jsx(Wt,{className:"h-4 w-40"})]}),i.jsxs("div",{className:"grid gap-14 pt-10 lg:grid-cols-12 lg:gap-6",children:[i.jsxs("div",{className:"lg:col-span-8 space-y-4",children:[i.jsx(Wt,{className:"aspect-video w-full rounded-lg"}),i.jsx(Wt,{className:"h-4 w-full"}),i.jsx(Wt,{className:"h-4 w-5/6"}),i.jsx(Wt,{className:"h-6 w-1/2 mt-4"}),i.jsx(Wt,{className:"h-4 w-full"}),i.jsx(Wt,{className:"h-4 w-full"}),i.jsx(Wt,{className:"h-4 w-3/4"})]}),i.jsxs("div",{className:"lg:col-span-3 lg:col-start-10 space-y-3",children:[i.jsx(Wt,{className:"h-3 w-24"}),i.jsx(Wt,{className:"h-3 w-full"}),i.jsx(Wt,{className:"h-3 w-4/5"}),i.jsx(Wt,{className:"h-3 w-3/5"})]})]})]})})}function yPe(){return eie(),null}function bPe(){return i.jsx(SY,{attribute:"class",defaultTheme:"system",enableSystem:!0,children:i.jsx(Wre,{children:i.jsx(Jre,{children:i.jsxs(Yre,{children:[i.jsx(XCe,{}),i.jsx(yPe,{}),i.jsx(jn,{mode:"wait",children:i.jsxs(VG,{children:[i.jsx(Nt,{path:"/",element:i.jsx(Ba,{to:"/prihlaseni",replace:!0})}),i.jsx(Nt,{path:"/prihlaseni",element:i.jsx(Ot,{children:i.jsx(ECe,{})})}),i.jsx(Nt,{path:"/registrace",element:i.jsx(Ot,{children:i.jsx(TCe,{})})}),i.jsx(Nt,{path:"/overeni-emailu",element:i.jsx(Ot,{children:i.jsx(qCe,{})})}),i.jsx(Nt,{path:"/zapomenute-heslo",element:i.jsx(Ot,{children:i.jsx(ZCe,{})})}),i.jsx(Nt,{path:"/obnoveni-hesla",element:i.jsx(Ot,{children:i.jsx(KCe,{})})}),i.jsx(Nt,{path:"/onboarding",element:i.jsx(om,{children:i.jsx(Ot,{children:i.jsx(qbe,{})})})}),i.jsxs(Nt,{path:"/home",element:i.jsx(Sge,{}),children:[i.jsx(Nt,{index:!0,element:i.jsx(Ot,{children:i.jsx(Hbe,{})})}),i.jsx(Nt,{path:"kurzy",element:i.jsx(Ot,{children:i.jsx(f1e,{})})}),i.jsx(Nt,{path:"obchod",element:i.jsx(Ot,{children:i.jsx(T1e,{})})}),i.jsx(Nt,{path:"produkt/:productId",element:i.jsx(Ot,{children:i.jsx(z_e,{})})}),i.jsx(Nt,{path:"kosik",element:i.jsx(Ot,{children:i.jsx($2e,{})})}),i.jsx(Nt,{path:"reference",element:i.jsx(Ot,{children:i.jsx(H_e,{})})}),i.jsx(Nt,{path:"tym",element:i.jsx(Ot,{children:i.jsx(XDe,{})})}),i.jsx(Nt,{path:"tym/:slug",element:i.jsx(Ot,{children:i.jsx(oPe,{})})}),i.jsx(Nt,{path:"blog",element:i.jsx(Ot,{children:i.jsx(uPe,{})})}),i.jsx(Nt,{path:"blog/:slug",element:i.jsx(Ot,{children:i.jsx(xPe,{})})})]}),i.jsx(Nt,{path:"/potvrzeni-objednavky",element:i.jsx(Ot,{children:i.jsx(KO,{})})}),i.jsx(Nt,{path:"/order-confirmation",element:i.jsx(Ot,{children:i.jsx(KO,{})})}),i.jsx(Nt,{path:"/kurz/:courseId",element:i.jsx(om,{children:i.jsx(Ot,{children:i.jsx(GCe,{})})})}),i.jsx(Nt,{path:"/kurz/:courseId/cast/:partNumber",element:i.jsx(om,{children:i.jsx(Ot,{children:i.jsx(JCe,{})})})}),i.jsxs(Nt,{path:"/prehled",element:i.jsx(om,{children:i.jsx(i0e,{})}),children:[i.jsx(Nt,{index:!0,element:i.jsx(Ot,{children:i.jsx(iCe,{})})}),i.jsx(Nt,{path:"analytika",element:i.jsx(Ot,{children:i.jsx(oCe,{})})}),i.jsx(Nt,{path:"api",element:i.jsx(Ot,{children:i.jsx(lCe,{})})}),i.jsx(Nt,{path:"fakturace",element:i.jsx(Ot,{children:i.jsx(dCe,{})})}),i.jsx(Nt,{path:"integrace",element:i.jsx(Ot,{children:i.jsx(fCe,{})})}),i.jsx(Nt,{path:"moje-kurzy",element:i.jsx(Ot,{children:i.jsx(mCe,{})})}),i.jsx(Nt,{path:"moje-kurzy/:courseId",element:i.jsx(Ot,{children:i.jsx(gCe,{})})}),i.jsx(Nt,{path:"predplatne",element:i.jsx(Ot,{children:i.jsx(kCe,{})})}),i.jsx(Nt,{path:"faktury",element:i.jsx(Ot,{children:i.jsx(NCe,{})})}),i.jsx(Nt,{path:"pokrok",element:i.jsx(Ot,{children:i.jsx(SCe,{})})}),i.jsx(Nt,{path:"vysledky-testu",element:i.jsx(Ot,{children:i.jsx(_Ce,{})})}),i.jsx(Nt,{path:"certifikaty",element:i.jsx(Ot,{children:i.jsx(CCe,{})})}),i.jsx(Nt,{path:"nastaveni",element:i.jsx(Ot,{children:i.jsx(wCe,{})})})]}),i.jsxs(Nt,{path:"/admin",element:i.jsx(om,{children:i.jsx(c0e,{})}),children:[i.jsx(Nt,{index:!0,element:i.jsx(Ot,{children:i.jsx(iEe,{})})}),i.jsx(Nt,{path:"users",element:i.jsx(Ot,{children:i.jsx(aEe,{})})}),i.jsx(Nt,{path:"blogs",element:i.jsx(Ot,{children:i.jsx(cEe,{})})}),i.jsx(Nt,{path:"blogs/:id",element:i.jsx(Ot,{children:i.jsx(MDe,{})})}),i.jsx(Nt,{path:"courses",element:i.jsx(Ot,{children:i.jsx(ODe,{})})}),i.jsx(Nt,{path:"courses/:id",element:i.jsx(Ot,{children:i.jsx(qDe,{})})}),i.jsx(Nt,{path:"subscriptions",element:i.jsx(Ot,{children:i.jsx(KDe,{})})}),i.jsx(Nt,{path:"promo-codes",element:i.jsx(Ot,{children:i.jsx(GDe,{})})}),i.jsx(Nt,{path:"invoices",element:i.jsx(Ot,{children:i.jsx(ZDe,{})})})]})]})}),i.jsx(sJ,{})]})})})})}BK.createRoot(document.getElementById("root")).render(i.jsx(v.StrictMode,{children:i.jsx(dY,{children:i.jsx(bPe,{})})}));
